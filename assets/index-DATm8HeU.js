function f$(t,r){for(var a=0;a<r.length;a++){const s=r[a];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in t)){const i=Object.getOwnPropertyDescriptor(s,n);i&&Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var Ybe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ml(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fw={exports:{}},Of={},pw={exports:{}},zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function p$(){if(y_)return zr;y_=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function p(te){return te===null||typeof te!="object"?null:(te=f&&te[f]||te["@@iterator"],typeof te=="function"?te:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function w(te,R,ae){this.props=te,this.context=R,this.refs=v,this.updater=ae||g}w.prototype.isReactComponent={},w.prototype.setState=function(te,R){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,R,"setState")},w.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function j(){}j.prototype=w.prototype;function _(te,R,ae){this.props=te,this.context=R,this.refs=v,this.updater=ae||g}var S=_.prototype=new j;S.constructor=_,x(S,w.prototype),S.isPureReactComponent=!0;var N=Array.isArray,C=Object.prototype.hasOwnProperty,D={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function z(te,R,ae){var W,pe={},ce=null,we=null;if(R!=null)for(W in R.ref!==void 0&&(we=R.ref),R.key!==void 0&&(ce=""+R.key),R)C.call(R,W)&&!U.hasOwnProperty(W)&&(pe[W]=R[W]);var je=arguments.length-2;if(je===1)pe.children=ae;else if(1<je){for(var fe=Array(je),xe=0;xe<je;xe++)fe[xe]=arguments[xe+2];pe.children=fe}if(te&&te.defaultProps)for(W in je=te.defaultProps,je)pe[W]===void 0&&(pe[W]=je[W]);return{$$typeof:t,type:te,key:ce,ref:we,props:pe,_owner:D.current}}function E(te,R){return{$$typeof:t,type:te.type,key:R,ref:te.ref,props:te.props,_owner:te._owner}}function I(te){return typeof te=="object"&&te!==null&&te.$$typeof===t}function T(te){var R={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(ae){return R[ae]})}var F=/\/+/g;function Y(te,R){return typeof te=="object"&&te!==null&&te.key!=null?T(""+te.key):R.toString(36)}function O(te,R,ae,W,pe){var ce=typeof te;(ce==="undefined"||ce==="boolean")&&(te=null);var we=!1;if(te===null)we=!0;else switch(ce){case"string":case"number":we=!0;break;case"object":switch(te.$$typeof){case t:case r:we=!0}}if(we)return we=te,pe=pe(we),te=W===""?"."+Y(we,0):W,N(pe)?(ae="",te!=null&&(ae=te.replace(F,"$&/")+"/"),O(pe,R,ae,"",function(xe){return xe})):pe!=null&&(I(pe)&&(pe=E(pe,ae+(!pe.key||we&&we.key===pe.key?"":(""+pe.key).replace(F,"$&/")+"/")+te)),R.push(pe)),1;if(we=0,W=W===""?".":W+":",N(te))for(var je=0;je<te.length;je++){ce=te[je];var fe=W+Y(ce,je);we+=O(ce,R,ae,fe,pe)}else if(fe=p(te),typeof fe=="function")for(te=fe.call(te),je=0;!(ce=te.next()).done;)ce=ce.value,fe=W+Y(ce,je++),we+=O(ce,R,ae,fe,pe);else if(ce==="object")throw R=String(te),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return we}function q(te,R,ae){if(te==null)return te;var W=[],pe=0;return O(te,W,"","",function(ce){return R.call(ae,ce,pe++)}),W}function $(te){if(te._status===-1){var R=te._result;R=R(),R.then(function(ae){(te._status===0||te._status===-1)&&(te._status=1,te._result=ae)},function(ae){(te._status===0||te._status===-1)&&(te._status=2,te._result=ae)}),te._status===-1&&(te._status=0,te._result=R)}if(te._status===1)return te._result.default;throw te._result}var K={current:null},J={transition:null},X={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:J,ReactCurrentOwner:D};function be(){throw Error("act(...) is not supported in production builds of React.")}return zr.Children={map:q,forEach:function(te,R,ae){q(te,function(){R.apply(this,arguments)},ae)},count:function(te){var R=0;return q(te,function(){R++}),R},toArray:function(te){return q(te,function(R){return R})||[]},only:function(te){if(!I(te))throw Error("React.Children.only expected to receive a single React element child.");return te}},zr.Component=w,zr.Fragment=a,zr.Profiler=n,zr.PureComponent=_,zr.StrictMode=s,zr.Suspense=c,zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,zr.act=be,zr.cloneElement=function(te,R,ae){if(te==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+te+".");var W=x({},te.props),pe=te.key,ce=te.ref,we=te._owner;if(R!=null){if(R.ref!==void 0&&(ce=R.ref,we=D.current),R.key!==void 0&&(pe=""+R.key),te.type&&te.type.defaultProps)var je=te.type.defaultProps;for(fe in R)C.call(R,fe)&&!U.hasOwnProperty(fe)&&(W[fe]=R[fe]===void 0&&je!==void 0?je[fe]:R[fe])}var fe=arguments.length-2;if(fe===1)W.children=ae;else if(1<fe){je=Array(fe);for(var xe=0;xe<fe;xe++)je[xe]=arguments[xe+2];W.children=je}return{$$typeof:t,type:te.type,key:pe,ref:ce,props:W,_owner:we}},zr.createContext=function(te){return te={$$typeof:o,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},te.Provider={$$typeof:i,_context:te},te.Consumer=te},zr.createElement=z,zr.createFactory=function(te){var R=z.bind(null,te);return R.type=te,R},zr.createRef=function(){return{current:null}},zr.forwardRef=function(te){return{$$typeof:l,render:te}},zr.isValidElement=I,zr.lazy=function(te){return{$$typeof:u,_payload:{_status:-1,_result:te},_init:$}},zr.memo=function(te,R){return{$$typeof:d,type:te,compare:R===void 0?null:R}},zr.startTransition=function(te){var R=J.transition;J.transition={};try{te()}finally{J.transition=R}},zr.unstable_act=be,zr.useCallback=function(te,R){return K.current.useCallback(te,R)},zr.useContext=function(te){return K.current.useContext(te)},zr.useDebugValue=function(){},zr.useDeferredValue=function(te){return K.current.useDeferredValue(te)},zr.useEffect=function(te,R){return K.current.useEffect(te,R)},zr.useId=function(){return K.current.useId()},zr.useImperativeHandle=function(te,R,ae){return K.current.useImperativeHandle(te,R,ae)},zr.useInsertionEffect=function(te,R){return K.current.useInsertionEffect(te,R)},zr.useLayoutEffect=function(te,R){return K.current.useLayoutEffect(te,R)},zr.useMemo=function(te,R){return K.current.useMemo(te,R)},zr.useReducer=function(te,R,ae){return K.current.useReducer(te,R,ae)},zr.useRef=function(te){return K.current.useRef(te)},zr.useState=function(te){return K.current.useState(te)},zr.useSyncExternalStore=function(te,R,ae){return K.current.useSyncExternalStore(te,R,ae)},zr.useTransition=function(){return K.current.useTransition()},zr.version="18.3.1",zr}var b_;function zm(){return b_||(b_=1,pw.exports=p$()),pw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function g$(){if(v_)return Of;v_=1;var t=zm(),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,f={},p=null,g=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(g=c.ref);for(u in c)s.call(c,u)&&!i.hasOwnProperty(u)&&(f[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)f[u]===void 0&&(f[u]=c[u]);return{$$typeof:r,type:l,key:p,ref:g,props:f,_owner:n.current}}return Of.Fragment=a,Of.jsx=o,Of.jsxs=o,Of}var w_;function x$(){return w_||(w_=1,fw.exports=g$()),fw.exports}var e=x$(),b=zm();const gt=ml(b),y$=f$({__proto__:null,default:gt},[b]);var hx={},gw={exports:{}},Oi={},xw={exports:{}},yw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function b$(){return j_||(j_=1,(function(t){function r(J,X){var be=J.length;J.push(X);e:for(;0<be;){var te=be-1>>>1,R=J[te];if(0<n(R,X))J[te]=X,J[be]=R,be=te;else break e}}function a(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var X=J[0],be=J.pop();if(be!==X){J[0]=be;e:for(var te=0,R=J.length,ae=R>>>1;te<ae;){var W=2*(te+1)-1,pe=J[W],ce=W+1,we=J[ce];if(0>n(pe,be))ce<R&&0>n(we,pe)?(J[te]=we,J[ce]=be,te=ce):(J[te]=pe,J[W]=be,te=W);else if(ce<R&&0>n(we,be))J[te]=we,J[ce]=be,te=ce;else break e}}return X}function n(J,X){var be=J.sortIndex-X.sortIndex;return be!==0?be:J.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,p=3,g=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(J){for(var X=a(d);X!==null;){if(X.callback===null)s(d);else if(X.startTime<=J)s(d),X.sortIndex=X.expirationTime,r(c,X);else break;X=a(d)}}function N(J){if(v=!1,S(J),!x)if(a(c)!==null)x=!0,$(C);else{var X=a(d);X!==null&&K(N,X.startTime-J)}}function C(J,X){x=!1,v&&(v=!1,j(z),z=-1),g=!0;var be=p;try{for(S(X),f=a(c);f!==null&&(!(f.expirationTime>X)||J&&!T());){var te=f.callback;if(typeof te=="function"){f.callback=null,p=f.priorityLevel;var R=te(f.expirationTime<=X);X=t.unstable_now(),typeof R=="function"?f.callback=R:f===a(c)&&s(c),S(X)}else s(c);f=a(c)}if(f!==null)var ae=!0;else{var W=a(d);W!==null&&K(N,W.startTime-X),ae=!1}return ae}finally{f=null,p=be,g=!1}}var D=!1,U=null,z=-1,E=5,I=-1;function T(){return!(t.unstable_now()-I<E)}function F(){if(U!==null){var J=t.unstable_now();I=J;var X=!0;try{X=U(!0,J)}finally{X?Y():(D=!1,U=null)}}else D=!1}var Y;if(typeof _=="function")Y=function(){_(F)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,q=O.port2;O.port1.onmessage=F,Y=function(){q.postMessage(null)}}else Y=function(){w(F,0)};function $(J){U=J,D||(D=!0,Y())}function K(J,X){z=w(function(){J(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,$(C))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(J){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var be=p;p=X;try{return J()}finally{p=be}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,X){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var be=p;p=J;try{return X()}finally{p=be}},t.unstable_scheduleCallback=function(J,X,be){var te=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?te+be:te):be=te,J){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=be+R,J={id:u++,callback:X,priorityLevel:J,startTime:be,expirationTime:R,sortIndex:-1},be>te?(J.sortIndex=be,r(d,J),a(c)===null&&J===a(d)&&(v?(j(z),z=-1):v=!0,K(N,be-te))):(J.sortIndex=R,r(c,J),x||g||(x=!0,$(C))),J},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(J){var X=p;return function(){var be=p;p=X;try{return J.apply(this,arguments)}finally{p=be}}}})(yw)),yw}var N_;function v$(){return N_||(N_=1,xw.exports=b$()),xw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function w$(){if(k_)return Oi;k_=1;var t=zm(),r=v$();function a(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,y=1;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,n={};function i(h,m){o(h,m),o(h+"Capture",m)}function o(h,m){for(n[h]=m,h=0;h<m.length;h++)s.add(m[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function p(h){return c.call(f,h)?!0:c.call(u,h)?!1:d.test(h)?f[h]=!0:(u[h]=!0,!1)}function g(h,m,y,A){if(y!==null&&y.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return A?!1:y!==null?!y.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function x(h,m,y,A){if(m===null||typeof m>"u"||g(h,m,y,A))return!0;if(A)return!1;if(y!==null)switch(y.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function v(h,m,y,A,M,V,se){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=A,this.attributeNamespace=M,this.mustUseProperty=y,this.propertyName=h,this.type=m,this.sanitizeURL=V,this.removeEmptyString=se}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){w[h]=new v(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var m=h[0];w[m]=new v(m,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){w[h]=new v(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){w[h]=new v(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){w[h]=new v(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){w[h]=new v(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){w[h]=new v(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){w[h]=new v(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){w[h]=new v(h,5,!1,h.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function _(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var m=h.replace(j,_);w[m]=new v(m,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var m=h.replace(j,_);w[m]=new v(m,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var m=h.replace(j,_);w[m]=new v(m,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){w[h]=new v(h,1,!1,h.toLowerCase(),null,!1,!1)}),w.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){w[h]=new v(h,1,!1,h.toLowerCase(),null,!0,!0)});function S(h,m,y,A){var M=w.hasOwnProperty(m)?w[m]:null;(M!==null?M.type!==0:A||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(x(m,y,M,A)&&(y=null),A||M===null?p(m)&&(y===null?h.removeAttribute(m):h.setAttribute(m,""+y)):M.mustUseProperty?h[M.propertyName]=y===null?M.type===3?!1:"":y:(m=M.attributeName,A=M.attributeNamespace,y===null?h.removeAttribute(m):(M=M.type,y=M===3||M===4&&y===!0?"":""+y,A?h.setAttributeNS(A,m,y):h.setAttribute(m,y))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),J=Symbol.iterator;function X(h){return h===null||typeof h!="object"?null:(h=J&&h[J]||h["@@iterator"],typeof h=="function"?h:null)}var be=Object.assign,te;function R(h){if(te===void 0)try{throw Error()}catch(y){var m=y.stack.trim().match(/\n( *(at )?)/);te=m&&m[1]||""}return`
`+te+h}var ae=!1;function W(h,m){if(!h||ae)return"";ae=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(dt){var A=dt}Reflect.construct(h,[],m)}else{try{m.call()}catch(dt){A=dt}h.call(m.prototype)}else{try{throw Error()}catch(dt){A=dt}h()}}catch(dt){if(dt&&A&&typeof dt.stack=="string"){for(var M=dt.stack.split(`
`),V=A.stack.split(`
`),se=M.length-1,Ee=V.length-1;1<=se&&0<=Ee&&M[se]!==V[Ee];)Ee--;for(;1<=se&&0<=Ee;se--,Ee--)if(M[se]!==V[Ee]){if(se!==1||Ee!==1)do if(se--,Ee--,0>Ee||M[se]!==V[Ee]){var Me=`
`+M[se].replace(" at new "," at ");return h.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",h.displayName)),Me}while(1<=se&&0<=Ee);break}}}finally{ae=!1,Error.prepareStackTrace=y}return(h=h?h.displayName||h.name:"")?R(h):""}function pe(h){switch(h.tag){case 5:return R(h.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return h=W(h.type,!1),h;case 11:return h=W(h.type.render,!1),h;case 1:return h=W(h.type,!0),h;default:return""}}function ce(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case U:return"Fragment";case D:return"Portal";case E:return"Profiler";case z:return"StrictMode";case Y:return"Suspense";case O:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case T:return(h.displayName||"Context")+".Consumer";case I:return(h._context.displayName||"Context")+".Provider";case F:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case q:return m=h.displayName||null,m!==null?m:ce(h.type)||"Memo";case $:m=h._payload,h=h._init;try{return ce(h(m))}catch{}}return null}function we(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(m);case 8:return m===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function je(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function fe(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function xe(h){var m=fe(h)?"checked":"value",y=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),A=""+h[m];if(!h.hasOwnProperty(m)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var M=y.get,V=y.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return M.call(this)},set:function(se){A=""+se,V.call(this,se)}}),Object.defineProperty(h,m,{enumerable:y.enumerable}),{getValue:function(){return A},setValue:function(se){A=""+se},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function $e(h){h._valueTracker||(h._valueTracker=xe(h))}function ge(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var y=m.getValue(),A="";return h&&(A=fe(h)?h.checked?"true":"false":h.value),h=A,h!==y?(m.setValue(h),!0):!1}function ot(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function Ze(h,m){var y=m.checked;return be({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??h._wrapperState.initialChecked})}function Z(h,m){var y=m.defaultValue==null?"":m.defaultValue,A=m.checked!=null?m.checked:m.defaultChecked;y=je(m.value!=null?m.value:y),h._wrapperState={initialChecked:A,initialValue:y,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function re(h,m){m=m.checked,m!=null&&S(h,"checked",m,!1)}function Ue(h,m){re(h,m);var y=je(m.value),A=m.type;if(y!=null)A==="number"?(y===0&&h.value===""||h.value!=y)&&(h.value=""+y):h.value!==""+y&&(h.value=""+y);else if(A==="submit"||A==="reset"){h.removeAttribute("value");return}m.hasOwnProperty("value")?Ke(h,m.type,y):m.hasOwnProperty("defaultValue")&&Ke(h,m.type,je(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(h.defaultChecked=!!m.defaultChecked)}function Ge(h,m,y){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var A=m.type;if(!(A!=="submit"&&A!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+h._wrapperState.initialValue,y||m===h.value||(h.value=m),h.defaultValue=m}y=h.name,y!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,y!==""&&(h.name=y)}function Ke(h,m,y){(m!=="number"||ot(h.ownerDocument)!==h)&&(y==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+y&&(h.defaultValue=""+y))}var ie=Array.isArray;function Ce(h,m,y,A){if(h=h.options,m){m={};for(var M=0;M<y.length;M++)m["$"+y[M]]=!0;for(y=0;y<h.length;y++)M=m.hasOwnProperty("$"+h[y].value),h[y].selected!==M&&(h[y].selected=M),M&&A&&(h[y].defaultSelected=!0)}else{for(y=""+je(y),m=null,M=0;M<h.length;M++){if(h[M].value===y){h[M].selected=!0,A&&(h[M].defaultSelected=!0);return}m!==null||h[M].disabled||(m=h[M])}m!==null&&(m.selected=!0)}}function Oe(h,m){if(m.dangerouslySetInnerHTML!=null)throw Error(a(91));return be({},m,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Je(h,m){var y=m.value;if(y==null){if(y=m.children,m=m.defaultValue,y!=null){if(m!=null)throw Error(a(92));if(ie(y)){if(1<y.length)throw Error(a(93));y=y[0]}m=y}m==null&&(m=""),y=m}h._wrapperState={initialValue:je(y)}}function H(h,m){var y=je(m.value),A=je(m.defaultValue);y!=null&&(y=""+y,y!==h.value&&(h.value=y),m.defaultValue==null&&h.defaultValue!==y&&(h.defaultValue=y)),A!=null&&(h.defaultValue=""+A)}function de(h){var m=h.textContent;m===h._wrapperState.initialValue&&m!==""&&m!==null&&(h.value=m)}function ue(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function me(h,m){return h==null||h==="http://www.w3.org/1999/xhtml"?ue(m):h==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var Se,Ye=(function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,y,A,M){MSApp.execUnsafeLocalFunction(function(){return h(m,y,A,M)})}:h})(function(h,m){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=m;else{for(Se=Se||document.createElement("div"),Se.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=Se.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;m.firstChild;)h.appendChild(m.firstChild)}});function kt(h,m){if(m){var y=h.firstChild;if(y&&y===h.lastChild&&y.nodeType===3){y.nodeValue=m;return}}h.textContent=m}var it={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];Object.keys(it).forEach(function(h){ft.forEach(function(m){m=m+h.charAt(0).toUpperCase()+h.substring(1),it[m]=it[h]})});function Te(h,m,y){return m==null||typeof m=="boolean"||m===""?"":y||typeof m!="number"||m===0||it.hasOwnProperty(h)&&it[h]?(""+m).trim():m+"px"}function oe(h,m){h=h.style;for(var y in m)if(m.hasOwnProperty(y)){var A=y.indexOf("--")===0,M=Te(y,m[y],A);y==="float"&&(y="cssFloat"),A?h.setProperty(y,M):h[y]=M}}var _e=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function et(h,m){if(m){if(_e[h]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(a(137,h));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(a(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(a(61))}if(m.style!=null&&typeof m.style!="object")throw Error(a(62))}}function Ve(h,m){if(h.indexOf("-")===-1)return typeof m.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wt=null;function Bt(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Fe=null,nt=null,ut=null;function Tt(h){if(h=uu(h)){if(typeof Fe!="function")throw Error(a(280));var m=h.stateNode;m&&(m=N0(m),Fe(h.stateNode,h.type,m))}}function Lt(h){nt?ut?ut.push(h):ut=[h]:nt=h}function Ar(){if(nt){var h=nt,m=ut;if(ut=nt=null,Tt(h),m)for(h=0;h<m.length;h++)Tt(m[h])}}function Fr(h,m){return h(m)}function Re(){}var De=!1;function ze(h,m,y){if(De)return h(m,y);De=!0;try{return Fr(h,m,y)}finally{De=!1,(nt!==null||ut!==null)&&(Re(),Ar())}}function st(h,m){var y=h.stateNode;if(y===null)return null;var A=N0(y);if(A===null)return null;y=A[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(h=h.type,A=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!A;break e;default:h=!1}if(h)return null;if(y&&typeof y!="function")throw Error(a(231,m,typeof y));return y}var Nt=!1;if(l)try{var He={};Object.defineProperty(He,"passive",{get:function(){Nt=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch{Nt=!1}function Mt(h,m,y,A,M,V,se,Ee,Me){var dt=Array.prototype.slice.call(arguments,3);try{m.apply(y,dt)}catch(It){this.onError(It)}}var Ot=!1,Pt=null,Pe=!1,vt=null,yt={onError:function(h){Ot=!0,Pt=h}};function gr(h,m,y,A,M,V,se,Ee,Me){Ot=!1,Pt=null,Mt.apply(yt,arguments)}function qt(h,m,y,A,M,V,se,Ee,Me){if(gr.apply(this,arguments),Ot){if(Ot){var dt=Pt;Ot=!1,Pt=null}else throw Error(a(198));Pe||(Pe=!0,vt=dt)}}function ea(h){var m=h,y=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(y=m.return),h=m.return;while(h)}return m.tag===3?y:null}function hs(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function es(h){if(ea(h)!==h)throw Error(a(188))}function Pa(h){var m=h.alternate;if(!m){if(m=ea(h),m===null)throw Error(a(188));return m!==h?null:h}for(var y=h,A=m;;){var M=y.return;if(M===null)break;var V=M.alternate;if(V===null){if(A=M.return,A!==null){y=A;continue}break}if(M.child===V.child){for(V=M.child;V;){if(V===y)return es(M),h;if(V===A)return es(M),m;V=V.sibling}throw Error(a(188))}if(y.return!==A.return)y=M,A=V;else{for(var se=!1,Ee=M.child;Ee;){if(Ee===y){se=!0,y=M,A=V;break}if(Ee===A){se=!0,A=M,y=V;break}Ee=Ee.sibling}if(!se){for(Ee=V.child;Ee;){if(Ee===y){se=!0,y=V,A=M;break}if(Ee===A){se=!0,A=V,y=M;break}Ee=Ee.sibling}if(!se)throw Error(a(189))}}if(y.alternate!==A)throw Error(a(190))}if(y.tag!==3)throw Error(a(188));return y.stateNode.current===y?h:m}function Fs(h){return h=Pa(h),h!==null?Xi(h):null}function Xi(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=Xi(h);if(m!==null)return m;h=h.sibling}return null}var Eo=r.unstable_scheduleCallback,pl=r.unstable_cancelCallback,si=r.unstable_shouldYield,s0=r.unstable_requestPaint,ia=r.unstable_now,Kl=r.unstable_getCurrentPriorityLevel,ni=r.unstable_ImmediatePriority,jn=r.unstable_UserBlockingPriority,Zi=r.unstable_NormalPriority,Wd=r.unstable_LowPriority,Jl=r.unstable_IdlePriority,gl=null,he=null;function Qe(h){if(he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(gl,h,void 0,(h.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:wr,nr=Math.log,Rt=Math.LN2;function wr(h){return h>>>=0,h===0?32:31-(nr(h)/Rt|0)|0}var ta=64,qr=4194304;function ms(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function wi(h,m){var y=h.pendingLanes;if(y===0)return 0;var A=0,M=h.suspendedLanes,V=h.pingedLanes,se=y&268435455;if(se!==0){var Ee=se&~M;Ee!==0?A=ms(Ee):(V&=se,V!==0&&(A=ms(V)))}else se=y&~M,se!==0?A=ms(se):V!==0&&(A=ms(V));if(A===0)return 0;if(m!==0&&m!==A&&(m&M)===0&&(M=A&-A,V=m&-m,M>=V||M===16&&(V&4194240)!==0))return m;if((A&4)!==0&&(A|=y&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=A;0<m;)y=31-_t(m),M=1<<y,A|=h[y],m&=~M;return A}function ua(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function La(h,m){for(var y=h.suspendedLanes,A=h.pingedLanes,M=h.expirationTimes,V=h.pendingLanes;0<V;){var se=31-_t(V),Ee=1<<se,Me=M[se];Me===-1?((Ee&y)===0||(Ee&A)!==0)&&(M[se]=ua(Ee,m)):Me<=m&&(h.expiredLanes|=Ee),V&=~Ee}}function Nn(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function n0(){var h=ta;return ta<<=1,(ta&4194240)===0&&(ta=64),h}function i0(h){for(var m=[],y=0;31>y;y++)m.push(h);return m}function Dc(h,m,y){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-_t(m),h[m]=y}function To(h,m){var y=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var A=h.eventTimes;for(h=h.expirationTimes;0<y;){var M=31-_t(y),V=1<<M;m[M]=0,A[M]=-1,h[M]=-1,y&=~V}}function Gd(h,m){var y=h.entangledLanes|=m;for(h=h.entanglements;y;){var A=31-_t(y),M=1<<A;M&m|h[A]&m&&(h[A]|=m),y&=~M}}var Kr=0;function Ic(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var Xl,o0,Th,Dh,Yd,Kd=!1,Rn=[],Do=null,Ln=null,ji=null,Oc=new Map,vr=new Map,Io=[],cf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ih(h,m){switch(h){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Oc.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":vr.delete(m.pointerId)}}function ii(h,m,y,A,M,V){return h===null||h.nativeEvent!==V?(h={blockedOn:m,domEventName:y,eventSystemFlags:A,nativeEvent:V,targetContainers:[M]},m!==null&&(m=uu(m),m!==null&&o0(m)),h):(h.eventSystemFlags|=A,m=h.targetContainers,M!==null&&m.indexOf(M)===-1&&m.push(M),h)}function xl(h,m,y,A,M){switch(m){case"focusin":return Do=ii(Do,h,m,y,A,M),!0;case"dragenter":return Ln=ii(Ln,h,m,y,A,M),!0;case"mouseover":return ji=ii(ji,h,m,y,A,M),!0;case"pointerover":var V=M.pointerId;return Oc.set(V,ii(Oc.get(V)||null,h,m,y,A,M)),!0;case"gotpointercapture":return V=M.pointerId,vr.set(V,ii(vr.get(V)||null,h,m,y,A,M)),!0}return!1}function Oh(h){var m=lc(h.target);if(m!==null){var y=ea(m);if(y!==null){if(m=y.tag,m===13){if(m=hs(y),m!==null){h.blockedOn=m,Yd(h.priority,function(){Th(y)});return}}else if(m===3&&y.stateNode.current.memoizedState.isDehydrated){h.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Jd(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var y=Mc(h.domEventName,h.eventSystemFlags,m[0],h.nativeEvent);if(y===null){y=h.nativeEvent;var A=new y.constructor(y.type,y);Wt=A,y.target.dispatchEvent(A),Wt=null}else return m=uu(y),m!==null&&o0(m),h.blockedOn=y,!1;m.shift()}return!0}function Rc(h,m,y){Jd(h)&&y.delete(m)}function l0(){Kd=!1,Do!==null&&Jd(Do)&&(Do=null),Ln!==null&&Jd(Ln)&&(Ln=null),ji!==null&&Jd(ji)&&(ji=null),Oc.forEach(Rc),vr.forEach(Rc)}function Qi(h,m){h.blockedOn===m&&(h.blockedOn=null,Kd||(Kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,l0)))}function Lc(h){function m(M){return Qi(M,h)}if(0<Rn.length){Qi(Rn[0],h);for(var y=1;y<Rn.length;y++){var A=Rn[y];A.blockedOn===h&&(A.blockedOn=null)}}for(Do!==null&&Qi(Do,h),Ln!==null&&Qi(Ln,h),ji!==null&&Qi(ji,h),Oc.forEach(m),vr.forEach(m),y=0;y<Io.length;y++)A=Io[y],A.blockedOn===h&&(A.blockedOn=null);for(;0<Io.length&&(y=Io[0],y.blockedOn===null);)Oh(y),y.blockedOn===null&&Io.shift()}var Mn=N.ReactCurrentBatchConfig,Xd=!0;function c0(h,m,y,A){var M=Kr,V=Mn.transition;Mn.transition=null;try{Kr=1,Zd(h,m,y,A)}finally{Kr=M,Mn.transition=V}}function d0(h,m,y,A){var M=Kr,V=Mn.transition;Mn.transition=null;try{Kr=4,Zd(h,m,y,A)}finally{Kr=M,Mn.transition=V}}function Zd(h,m,y,A){if(Xd){var M=Mc(h,m,y,A);if(M===null)v0(h,m,A,Ni,y),Ih(h,A);else if(xl(M,h,m,y,A))A.stopPropagation();else if(Ih(h,A),m&4&&-1<cf.indexOf(h)){for(;M!==null;){var V=uu(M);if(V!==null&&Xl(V),V=Mc(h,m,y,A),V===null&&v0(h,m,A,Ni,y),V===M)break;M=V}M!==null&&A.stopPropagation()}else v0(h,m,A,null,y)}}var Ni=null;function Mc(h,m,y,A){if(Ni=null,h=Bt(A),h=lc(h),h!==null)if(m=ea(h),m===null)h=null;else if(y=m.tag,y===13){if(h=hs(m),h!==null)return h;h=null}else if(y===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null);return Ni=h,null}function Fc(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kl()){case ni:return 1;case jn:return 4;case Zi:case Wd:return 16;case Jl:return 536870912;default:return 16}default:return 16}}var ki=null,yl=null,Zl=null;function u0(){if(Zl)return Zl;var h,m=yl,y=m.length,A,M="value"in ki?ki.value:ki.textContent,V=M.length;for(h=0;h<y&&m[h]===M[h];h++);var se=y-h;for(A=1;A<=se&&m[y-A]===M[V-A];A++);return Zl=M.slice(h,1<A?1-A:void 0)}function $c(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function Si(){return!0}function Oo(){return!1}function cn(h){function m(y,A,M,V,se){this._reactName=y,this._targetInst=M,this.type=A,this.nativeEvent=V,this.target=se,this.currentTarget=null;for(var Ee in h)h.hasOwnProperty(Ee)&&(y=h[Ee],this[Ee]=y?y(V):V[Ee]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?Si:Oo,this.isPropagationStopped=Oo,this}return be(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),m}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qd=cn(_i),L=be({},_i,{view:0,detail:0}),ee=cn(L),Ae,Ie,We,bt=be({},L,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==We&&(We&&h.type==="mousemove"?(Ae=h.screenX-We.screenX,Ie=h.screenY-We.screenY):Ie=Ae=0,We=h),Ae)},movementY:function(h){return"movementY"in h?h.movementY:Ie}}),Ct=cn(bt),tr=be({},bt,{dataTransfer:0}),ur=cn(tr),kr=be({},L,{relatedTarget:0}),Er=cn(kr),Gr=be({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=cn(Gr),fs=be({},_i,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),wa=cn(fs),Ss=be({},_i,{data:0}),ts=cn(Ss),Ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vl(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=eo[h])?!!m[h]:!1}function Bc(){return vl}var eu=be({},L,{key:function(h){if(h.key){var m=Ys[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=$c(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?bl[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(h){return h.type==="keypress"?$c(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?$c(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Ql=cn(eu),Uc=be({},bt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ec=cn(Uc),tc=be({},L,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),Ks=cn(tc),zc=be({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),qc=cn(zc),h0=be({},bt,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),m0=cn(h0),kn=[9,13,27,32],to=l&&"CompositionEvent"in window,Ro=null;l&&"documentMode"in document&&(Ro=document.documentMode);var Rh=l&&"TextEvent"in window&&!Ro,oi=l&&(!to||Ro&&8<Ro&&11>=Ro),rc=" ",tu=!1;function ru(h,m){switch(h){case"keyup":return kn.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wl(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Ai=!1;function li(h,m){switch(h){case"compositionend":return wl(m);case"keypress":return m.which!==32?null:(tu=!0,rc);case"textInput":return h=m.data,h===rc&&tu?null:h;default:return null}}function ci(h,m){if(Ai)return h==="compositionend"||!to&&ru(h,m)?(h=u0(),Zl=yl=ki=null,Ai=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return oi&&m.locale!=="ko"?null:m.data;default:return null}}var ac={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lo(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!ac[h.type]:m==="textarea"}function jl(h,m,y,A){Lt(A),m=Bh(m,"onChange"),0<m.length&&(y=new Qd("onChange","change",null,y,A),h.push({event:y,listeners:m}))}var Nl=null,Mo=null;function rs(h){y0(h,0)}function Vc(h){var m=ed(h);if(ge(m))return h}function Fo(h,m){if(h==="change")return m}var ro=!1;if(l){var Hc;if(l){var Wc="oninput"in document;if(!Wc){var au=document.createElement("div");au.setAttribute("oninput","return;"),Wc=typeof au.oninput=="function"}Hc=Wc}else Hc=!1;ro=Hc&&(!document.documentMode||9<document.documentMode)}function su(){Nl&&(Nl.detachEvent("onpropertychange",kl),Mo=Nl=null)}function kl(h){if(h.propertyName==="value"&&Vc(Mo)){var m=[];jl(m,Mo,h,Bt(h)),ze(rs,m)}}function sc(h,m,y){h==="focusin"?(su(),Nl=m,Mo=y,Nl.attachEvent("onpropertychange",kl)):h==="focusout"&&su()}function nc(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Vc(Mo)}function Gc(h,m){if(h==="click")return Vc(m)}function ic(h,m){if(h==="input"||h==="change")return Vc(m)}function Yc(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var qa=typeof Object.is=="function"?Object.is:Yc;function Fn(h,m){if(qa(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var y=Object.keys(h),A=Object.keys(m);if(y.length!==A.length)return!1;for(A=0;A<y.length;A++){var M=y[A];if(!c.call(m,M)||!qa(h[M],m[M]))return!1}return!0}function Jr(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function la(h,m){var y=Jr(h);h=0;for(var A;y;){if(y.nodeType===3){if(A=h+y.textContent.length,h<=m&&A>=m)return{node:y,offset:m-h};h=A}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=Jr(y)}}function Va(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?Va(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function ps(){for(var h=window,m=ot();m instanceof h.HTMLIFrameElement;){try{var y=typeof m.contentWindow.location.href=="string"}catch{y=!1}if(y)h=m.contentWindow;else break;m=ot(h.document)}return m}function ao(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}function f0(h){var m=ps(),y=h.focusedElem,A=h.selectionRange;if(m!==y&&y&&y.ownerDocument&&Va(y.ownerDocument.documentElement,y)){if(A!==null&&ao(y)){if(m=A.start,h=A.end,h===void 0&&(h=m),"selectionStart"in y)y.selectionStart=m,y.selectionEnd=Math.min(h,y.value.length);else if(h=(m=y.ownerDocument||document)&&m.defaultView||window,h.getSelection){h=h.getSelection();var M=y.textContent.length,V=Math.min(A.start,M);A=A.end===void 0?V:Math.min(A.end,M),!h.extend&&V>A&&(M=A,A=V,V=M),M=la(y,V);var se=la(y,A);M&&se&&(h.rangeCount!==1||h.anchorNode!==M.node||h.anchorOffset!==M.offset||h.focusNode!==se.node||h.focusOffset!==se.offset)&&(m=m.createRange(),m.setStart(M.node,M.offset),h.removeAllRanges(),V>A?(h.addRange(m),h.extend(se.node,se.offset)):(m.setEnd(se.node,se.offset),h.addRange(m)))}}for(m=[],h=y;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<m.length;y++)h=m[y],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var nu=l&&"documentMode"in document&&11>=document.documentMode,Sl=null,Lh=null,iu=null,Mh=!1;function df(h,m,y){var A=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Mh||Sl==null||Sl!==ot(A)||(A=Sl,"selectionStart"in A&&ao(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),iu&&Fn(iu,A)||(iu=A,A=Bh(Lh,"onSelect"),0<A.length&&(m=new Qd("onSelect","select",null,m,y),h.push({event:m,listeners:A}),m.target=Sl)))}function p0(h,m){var y={};return y[h.toLowerCase()]=m.toLowerCase(),y["Webkit"+h]="webkit"+m,y["Moz"+h]="moz"+m,y}var Kc={animationend:p0("Animation","AnimationEnd"),animationiteration:p0("Animation","AnimationIteration"),animationstart:p0("Animation","AnimationStart"),transitionend:p0("Transition","TransitionEnd")},Jc={},uf={};l&&(uf=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function g0(h){if(Jc[h])return Jc[h];if(!Kc[h])return h;var m=Kc[h],y;for(y in m)if(m.hasOwnProperty(y)&&y in uf)return Jc[h]=m[y];return h}var hf=g0("animationend"),mf=g0("animationiteration"),ff=g0("animationstart"),pf=g0("transitionend"),gf=new Map,xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $o(h,m){gf.set(h,m),i(m,[h])}for(var ou=0;ou<xf.length;ou++){var Sn=xf[ou],Ci=Sn.toLowerCase(),Fh=Sn[0].toUpperCase()+Sn.slice(1);$o(Ci,"on"+Fh)}$o(hf,"onAnimationEnd"),$o(mf,"onAnimationIteration"),$o(ff,"onAnimationStart"),$o("dblclick","onDoubleClick"),$o("focusin","onFocus"),$o("focusout","onBlur"),$o(pf,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dg=new Set("cancel close invalid load scroll toggle".split(" ").concat(oc));function x0(h,m,y){var A=h.type||"unknown-event";h.currentTarget=y,qt(A,m,void 0,h),h.currentTarget=null}function y0(h,m){m=(m&4)!==0;for(var y=0;y<h.length;y++){var A=h[y],M=A.event;A=A.listeners;e:{var V=void 0;if(m)for(var se=A.length-1;0<=se;se--){var Ee=A[se],Me=Ee.instance,dt=Ee.currentTarget;if(Ee=Ee.listener,Me!==V&&M.isPropagationStopped())break e;x0(M,Ee,dt),V=Me}else for(se=0;se<A.length;se++){if(Ee=A[se],Me=Ee.instance,dt=Ee.currentTarget,Ee=Ee.listener,Me!==V&&M.isPropagationStopped())break e;x0(M,Ee,dt),V=Me}}}if(Pe)throw h=vt,Pe=!1,vt=null,h}function ha(h,m){var y=m[Bn];y===void 0&&(y=m[Bn]=new Set);var A=h+"__bubble";y.has(A)||(b0(m,h,2,!1),y.add(A))}function $h(h,m,y){var A=0;m&&(A|=4),b0(y,h,A,m)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Xc(h){if(!h[lu]){h[lu]=!0,s.forEach(function(y){y!=="selectionchange"&&(Dg.has(y)||$h(y,!1,h),$h(y,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[lu]||(m[lu]=!0,$h("selectionchange",!1,m))}}function b0(h,m,y,A){switch(Fc(m)){case 1:var M=c0;break;case 4:M=d0;break;default:M=Zd}y=M.bind(null,m,y,h),M=void 0,!Nt||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(M=!0),A?M!==void 0?h.addEventListener(m,y,{capture:!0,passive:M}):h.addEventListener(m,y,!0):M!==void 0?h.addEventListener(m,y,{passive:M}):h.addEventListener(m,y,!1)}function v0(h,m,y,A,M){var V=A;if((m&1)===0&&(m&2)===0&&A!==null)e:for(;;){if(A===null)return;var se=A.tag;if(se===3||se===4){var Ee=A.stateNode.containerInfo;if(Ee===M||Ee.nodeType===8&&Ee.parentNode===M)break;if(se===4)for(se=A.return;se!==null;){var Me=se.tag;if((Me===3||Me===4)&&(Me=se.stateNode.containerInfo,Me===M||Me.nodeType===8&&Me.parentNode===M))return;se=se.return}for(;Ee!==null;){if(se=lc(Ee),se===null)return;if(Me=se.tag,Me===5||Me===6){A=V=se;continue e}Ee=Ee.parentNode}}A=A.return}ze(function(){var dt=V,It=Bt(y),Ft=[];e:{var Dt=gf.get(h);if(Dt!==void 0){var Yt=Qd,ir=h;switch(h){case"keypress":if($c(y)===0)break e;case"keydown":case"keyup":Yt=Ql;break;case"focusin":ir="focus",Yt=Er;break;case"focusout":ir="blur",Yt=Er;break;case"beforeblur":case"afterblur":Yt=Er;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Yt=Ct;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Yt=ur;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Yt=Ks;break;case hf:case mf:case ff:Yt=Ma;break;case pf:Yt=qc;break;case"scroll":Yt=ee;break;case"wheel":Yt=m0;break;case"copy":case"cut":case"paste":Yt=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Yt=ec}var cr=(m&4)!==0,Cs=!cr&&h==="scroll",rt=cr?Dt!==null?Dt+"Capture":null:Dt;cr=[];for(var qe=dt,lt;qe!==null;){lt=qe;var $t=lt.stateNode;if(lt.tag===5&&$t!==null&&(lt=$t,rt!==null&&($t=st(qe,rt),$t!=null&&cr.push(w0(qe,$t,lt)))),Cs)break;qe=qe.return}0<cr.length&&(Dt=new Yt(Dt,ir,null,y,It),Ft.push({event:Dt,listeners:cr}))}}if((m&7)===0){e:{if(Dt=h==="mouseover"||h==="pointerover",Yt=h==="mouseout"||h==="pointerout",Dt&&y!==Wt&&(ir=y.relatedTarget||y.fromElement)&&(lc(ir)||ir[dn]))break e;if((Yt||Dt)&&(Dt=It.window===It?It:(Dt=It.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,Yt?(ir=y.relatedTarget||y.toElement,Yt=dt,ir=ir?lc(ir):null,ir!==null&&(Cs=ea(ir),ir!==Cs||ir.tag!==5&&ir.tag!==6)&&(ir=null)):(Yt=null,ir=dt),Yt!==ir)){if(cr=Ct,$t="onMouseLeave",rt="onMouseEnter",qe="mouse",(h==="pointerout"||h==="pointerover")&&(cr=ec,$t="onPointerLeave",rt="onPointerEnter",qe="pointer"),Cs=Yt==null?Dt:ed(Yt),lt=ir==null?Dt:ed(ir),Dt=new cr($t,qe+"leave",Yt,y,It),Dt.target=Cs,Dt.relatedTarget=lt,$t=null,lc(It)===dt&&(cr=new cr(rt,qe+"enter",ir,y,It),cr.target=lt,cr.relatedTarget=Cs,$t=cr),Cs=$t,Yt&&ir)t:{for(cr=Yt,rt=ir,qe=0,lt=cr;lt;lt=Zc(lt))qe++;for(lt=0,$t=rt;$t;$t=Zc($t))lt++;for(;0<qe-lt;)cr=Zc(cr),qe--;for(;0<lt-qe;)rt=Zc(rt),lt--;for(;qe--;){if(cr===rt||rt!==null&&cr===rt.alternate)break t;cr=Zc(cr),rt=Zc(rt)}cr=null}else cr=null;Yt!==null&&Ig(Ft,Dt,Yt,cr,!1),ir!==null&&Cs!==null&&Ig(Ft,Cs,ir,cr,!0)}}e:{if(Dt=dt?ed(dt):window,Yt=Dt.nodeName&&Dt.nodeName.toLowerCase(),Yt==="select"||Yt==="input"&&Dt.type==="file")var pr=Fo;else if(Lo(Dt))if(ro)pr=ic;else{pr=nc;var xr=sc}else(Yt=Dt.nodeName)&&Yt.toLowerCase()==="input"&&(Dt.type==="checkbox"||Dt.type==="radio")&&(pr=Gc);if(pr&&(pr=pr(h,dt))){jl(Ft,pr,y,It);break e}xr&&xr(h,Dt,dt),h==="focusout"&&(xr=Dt._wrapperState)&&xr.controlled&&Dt.type==="number"&&Ke(Dt,"number",Dt.value)}switch(xr=dt?ed(dt):window,h){case"focusin":(Lo(xr)||xr.contentEditable==="true")&&(Sl=xr,Lh=dt,iu=null);break;case"focusout":iu=Lh=Sl=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,df(Ft,y,It);break;case"selectionchange":if(nu)break;case"keydown":case"keyup":df(Ft,y,It)}var yr;if(to)e:{switch(h){case"compositionstart":var Cr="onCompositionStart";break e;case"compositionend":Cr="onCompositionEnd";break e;case"compositionupdate":Cr="onCompositionUpdate";break e}Cr=void 0}else Ai?ru(h,y)&&(Cr="onCompositionEnd"):h==="keydown"&&y.keyCode===229&&(Cr="onCompositionStart");Cr&&(oi&&y.locale!=="ko"&&(Ai||Cr!=="onCompositionStart"?Cr==="onCompositionEnd"&&Ai&&(yr=u0()):(ki=It,yl="value"in ki?ki.value:ki.textContent,Ai=!0)),xr=Bh(dt,Cr),0<xr.length&&(Cr=new ts(Cr,h,null,y,It),Ft.push({event:Cr,listeners:xr}),yr?Cr.data=yr:(yr=wl(y),yr!==null&&(Cr.data=yr)))),(yr=Rh?li(h,y):ci(h,y))&&(dt=Bh(dt,"onBeforeInput"),0<dt.length&&(It=new ts("onBeforeInput","beforeinput",null,y,It),Ft.push({event:It,listeners:dt}),It.data=yr))}y0(Ft,m)})}function w0(h,m,y){return{instance:h,listener:m,currentTarget:y}}function Bh(h,m){for(var y=m+"Capture",A=[];h!==null;){var M=h,V=M.stateNode;M.tag===5&&V!==null&&(M=V,V=st(h,y),V!=null&&A.unshift(w0(h,V,M)),V=st(h,m),V!=null&&A.push(w0(h,V,M))),h=h.return}return A}function Zc(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function Ig(h,m,y,A,M){for(var V=m._reactName,se=[];y!==null&&y!==A;){var Ee=y,Me=Ee.alternate,dt=Ee.stateNode;if(Me!==null&&Me===A)break;Ee.tag===5&&dt!==null&&(Ee=dt,M?(Me=st(y,V),Me!=null&&se.unshift(w0(y,Me,Ee))):M||(Me=st(y,V),Me!=null&&se.push(w0(y,Me,Ee)))),y=y.return}se.length!==0&&h.push({event:m,listeners:se})}var Cv=/\r\n?/g,Pv=/\u0000|\uFFFD/g;function Og(h){return(typeof h=="string"?h:""+h).replace(Cv,`
`).replace(Pv,"")}function Uh(h,m,y){if(m=Og(m),Og(h)!==m&&y)throw Error(a(425))}function cu(){}var j0=null,Qc=null;function yf(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var bf=typeof setTimeout=="function"?setTimeout:void 0,Rg=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,Ev=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(h){return Lg.resolve(null).then(h).catch(Tv)}:bf;function Tv(h){setTimeout(function(){throw h})}function vf(h,m){var y=m,A=0;do{var M=y.nextSibling;if(h.removeChild(y),M&&M.nodeType===8)if(y=M.data,y==="/$"){if(A===0){h.removeChild(M),Lc(m);return}A--}else y!=="$"&&y!=="$?"&&y!=="$!"||A++;y=M}while(y);Lc(m)}function _n(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return h}function Pi(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var y=h.data;if(y==="$"||y==="$!"||y==="$?"){if(m===0)return h;m--}else y==="/$"&&m++}h=h.previousSibling}return null}var $n=Math.random().toString(36).slice(2),Bo="__reactFiber$"+$n,du="__reactProps$"+$n,dn="__reactContainer$"+$n,Bn="__reactEvents$"+$n,Dv="__reactListeners$"+$n,Iv="__reactHandles$"+$n;function lc(h){var m=h[Bo];if(m)return m;for(var y=h.parentNode;y;){if(m=y[dn]||y[Bo]){if(y=m.alternate,m.child!==null||y!==null&&y.child!==null)for(h=Pi(h);h!==null;){if(y=h[Bo])return y;h=Pi(h)}return m}h=y,y=h.parentNode}return null}function uu(h){return h=h[Bo]||h[dn],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function ed(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(a(33))}function N0(h){return h[du]||null}var wf=[],_l=-1;function so(h){return{current:h}}function oa(h){0>_l||(h.current=wf[_l],wf[_l]=null,_l--)}function ca(h,m){_l++,wf[_l]=h.current,h.current=m}var cc={},Js=so(cc),Un=so(!1),td=cc;function hu(h,m){var y=h.type.contextTypes;if(!y)return cc;var A=h.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===m)return A.__reactInternalMemoizedMaskedChildContext;var M={},V;for(V in y)M[V]=m[V];return A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=M),M}function zn(h){return h=h.childContextTypes,h!=null}function zh(){oa(Un),oa(Js)}function Mg(h,m,y){if(Js.current!==cc)throw Error(a(168));ca(Js,m),ca(Un,y)}function jf(h,m,y){var A=h.stateNode;if(m=m.childContextTypes,typeof A.getChildContext!="function")return y;A=A.getChildContext();for(var M in A)if(!(M in m))throw Error(a(108,we(h)||"Unknown",M));return be({},y,A)}function rd(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||cc,td=Js.current,ca(Js,h),ca(Un,Un.current),!0}function Fg(h,m,y){var A=h.stateNode;if(!A)throw Error(a(169));y?(h=jf(h,m,td),A.__reactInternalMemoizedMergedChildContext=h,oa(Un),oa(Js),ca(Js,h)):oa(Un),ca(Un,y)}var Al=null,k0=!1,k=!1;function P(h){Al===null?Al=[h]:Al.push(h)}function B(h){k0=!0,P(h)}function G(){if(!k&&Al!==null){k=!0;var h=0,m=Kr;try{var y=Al;for(Kr=1;h<y.length;h++){var A=y[h];do A=A(!0);while(A!==null)}Al=null,k0=!1}catch(M){throw Al!==null&&(Al=Al.slice(h+1)),Eo(ni,G),M}finally{Kr=m,k=!1}}return null}var Q=[],ne=0,le=null,ye=0,ve=[],Ne=0,Le=null,tt=1,ke="";function Be(h,m){Q[ne++]=ye,Q[ne++]=le,le=h,ye=m}function Xe(h,m,y){ve[Ne++]=tt,ve[Ne++]=ke,ve[Ne++]=Le,Le=h;var A=tt;h=ke;var M=32-_t(A)-1;A&=~(1<<M),y+=1;var V=32-_t(m)+M;if(30<V){var se=M-M%5;V=(A&(1<<se)-1).toString(32),A>>=se,M-=se,tt=1<<32-_t(m)+M|y<<M|A,ke=V+h}else tt=1<<V|y<<M|A,ke=h}function xt(h){h.return!==null&&(Be(h,1),Xe(h,1,0))}function at(h){for(;h===le;)le=Q[--ne],Q[ne]=null,ye=Q[--ne],Q[ne]=null;for(;h===Le;)Le=ve[--Ne],ve[Ne]=null,ke=ve[--Ne],ve[Ne]=null,tt=ve[--Ne],ve[Ne]=null}var ht=null,pt=null,wt=!1,St=null;function hr(h,m){var y=Ho(5,null,null,0);y.elementType="DELETED",y.stateNode=m,y.return=h,m=h.deletions,m===null?(h.deletions=[y],h.flags|=16):m.push(y)}function Jt(h,m){switch(h.tag){case 5:var y=h.type;return m=m.nodeType!==1||y.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(h.stateNode=m,ht=h,pt=_n(m.firstChild),!0):!1;case 6:return m=h.pendingProps===""||m.nodeType!==3?null:m,m!==null?(h.stateNode=m,ht=h,pt=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(y=Le!==null?{id:tt,overflow:ke}:null,h.memoizedState={dehydrated:m,treeContext:y,retryLane:1073741824},y=Ho(18,null,null,0),y.stateNode=m,y.return=h,h.child=y,ht=h,pt=null,!0):!1;default:return!1}}function Tr(h){return(h.mode&1)!==0&&(h.flags&128)===0}function rr(h){if(wt){var m=pt;if(m){var y=m;if(!Jt(h,m)){if(Tr(h))throw Error(a(418));m=_n(y.nextSibling);var A=ht;m&&Jt(h,m)?hr(A,y):(h.flags=h.flags&-4097|2,wt=!1,ht=h)}}else{if(Tr(h))throw Error(a(418));h.flags=h.flags&-4097|2,wt=!1,ht=h}}}function Ur(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;ht=h}function Ha(h){if(h!==ht)return!1;if(!wt)return Ur(h),wt=!0,!1;var m;if((m=h.tag!==3)&&!(m=h.tag!==5)&&(m=h.type,m=m!=="head"&&m!=="body"&&!yf(h.type,h.memoizedProps)),m&&(m=pt)){if(Tr(h))throw Dr(),Error(a(418));for(;m;)hr(h,m),m=_n(m.nextSibling)}if(Ur(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8){var y=h.data;if(y==="/$"){if(m===0){pt=_n(h.nextSibling);break e}m--}else y!=="$"&&y!=="$!"&&y!=="$?"||m++}h=h.nextSibling}pt=null}}else pt=ht?_n(h.stateNode.nextSibling):null;return!0}function Dr(){for(var h=pt;h;)h=_n(h.nextSibling)}function Xt(){pt=ht=null,wt=!1}function zt(h){St===null?St=[h]:St.push(h)}var as=N.ReactCurrentBatchConfig;function jr(h,m,y){if(h=y.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(a(309));var A=y.stateNode}if(!A)throw Error(a(147,h));var M=A,V=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===V?m.ref:(m=function(se){var Ee=M.refs;se===null?delete Ee[V]:Ee[V]=se},m._stringRef=V,m)}if(typeof h!="string")throw Error(a(284));if(!y._owner)throw Error(a(290,h))}return h}function $r(h,m){throw h=Object.prototype.toString.call(m),Error(a(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function ja(h){var m=h._init;return m(h._payload)}function $s(h){function m(rt,qe){if(h){var lt=rt.deletions;lt===null?(rt.deletions=[qe],rt.flags|=16):lt.push(qe)}}function y(rt,qe){if(!h)return null;for(;qe!==null;)m(rt,qe),qe=qe.sibling;return null}function A(rt,qe){for(rt=new Map;qe!==null;)qe.key!==null?rt.set(qe.key,qe):rt.set(qe.index,qe),qe=qe.sibling;return rt}function M(rt,qe){return rt=ju(rt,qe),rt.index=0,rt.sibling=null,rt}function V(rt,qe,lt){return rt.index=lt,h?(lt=rt.alternate,lt!==null?(lt=lt.index,lt<qe?(rt.flags|=2,qe):lt):(rt.flags|=2,qe)):(rt.flags|=1048576,qe)}function se(rt){return h&&rt.alternate===null&&(rt.flags|=2),rt}function Ee(rt,qe,lt,$t){return qe===null||qe.tag!==6?(qe=lw(lt,rt.mode,$t),qe.return=rt,qe):(qe=M(qe,lt),qe.return=rt,qe)}function Me(rt,qe,lt,$t){var pr=lt.type;return pr===U?It(rt,qe,lt.props.children,$t,lt.key):qe!==null&&(qe.elementType===pr||typeof pr=="object"&&pr!==null&&pr.$$typeof===$&&ja(pr)===qe.type)?($t=M(qe,lt.props),$t.ref=jr(rt,qe,lt),$t.return=rt,$t):($t=sx(lt.type,lt.key,lt.props,null,rt.mode,$t),$t.ref=jr(rt,qe,lt),$t.return=rt,$t)}function dt(rt,qe,lt,$t){return qe===null||qe.tag!==4||qe.stateNode.containerInfo!==lt.containerInfo||qe.stateNode.implementation!==lt.implementation?(qe=cw(lt,rt.mode,$t),qe.return=rt,qe):(qe=M(qe,lt.children||[]),qe.return=rt,qe)}function It(rt,qe,lt,$t,pr){return qe===null||qe.tag!==7?(qe=D0(lt,rt.mode,$t,pr),qe.return=rt,qe):(qe=M(qe,lt),qe.return=rt,qe)}function Ft(rt,qe,lt){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return qe=lw(""+qe,rt.mode,lt),qe.return=rt,qe;if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case C:return lt=sx(qe.type,qe.key,qe.props,null,rt.mode,lt),lt.ref=jr(rt,null,qe),lt.return=rt,lt;case D:return qe=cw(qe,rt.mode,lt),qe.return=rt,qe;case $:var $t=qe._init;return Ft(rt,$t(qe._payload),lt)}if(ie(qe)||X(qe))return qe=D0(qe,rt.mode,lt,null),qe.return=rt,qe;$r(rt,qe)}return null}function Dt(rt,qe,lt,$t){var pr=qe!==null?qe.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number")return pr!==null?null:Ee(rt,qe,""+lt,$t);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case C:return lt.key===pr?Me(rt,qe,lt,$t):null;case D:return lt.key===pr?dt(rt,qe,lt,$t):null;case $:return pr=lt._init,Dt(rt,qe,pr(lt._payload),$t)}if(ie(lt)||X(lt))return pr!==null?null:It(rt,qe,lt,$t,null);$r(rt,lt)}return null}function Yt(rt,qe,lt,$t,pr){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return rt=rt.get(lt)||null,Ee(qe,rt,""+$t,pr);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case C:return rt=rt.get($t.key===null?lt:$t.key)||null,Me(qe,rt,$t,pr);case D:return rt=rt.get($t.key===null?lt:$t.key)||null,dt(qe,rt,$t,pr);case $:var xr=$t._init;return Yt(rt,qe,lt,xr($t._payload),pr)}if(ie($t)||X($t))return rt=rt.get(lt)||null,It(qe,rt,$t,pr,null);$r(qe,$t)}return null}function ir(rt,qe,lt,$t){for(var pr=null,xr=null,yr=qe,Cr=qe=0,pn=null;yr!==null&&Cr<lt.length;Cr++){yr.index>Cr?(pn=yr,yr=null):pn=yr.sibling;var ra=Dt(rt,yr,lt[Cr],$t);if(ra===null){yr===null&&(yr=pn);break}h&&yr&&ra.alternate===null&&m(rt,yr),qe=V(ra,qe,Cr),xr===null?pr=ra:xr.sibling=ra,xr=ra,yr=pn}if(Cr===lt.length)return y(rt,yr),wt&&Be(rt,Cr),pr;if(yr===null){for(;Cr<lt.length;Cr++)yr=Ft(rt,lt[Cr],$t),yr!==null&&(qe=V(yr,qe,Cr),xr===null?pr=yr:xr.sibling=yr,xr=yr);return wt&&Be(rt,Cr),pr}for(yr=A(rt,yr);Cr<lt.length;Cr++)pn=Yt(yr,rt,Cr,lt[Cr],$t),pn!==null&&(h&&pn.alternate!==null&&yr.delete(pn.key===null?Cr:pn.key),qe=V(pn,qe,Cr),xr===null?pr=pn:xr.sibling=pn,xr=pn);return h&&yr.forEach(function(Nu){return m(rt,Nu)}),wt&&Be(rt,Cr),pr}function cr(rt,qe,lt,$t){var pr=X(lt);if(typeof pr!="function")throw Error(a(150));if(lt=pr.call(lt),lt==null)throw Error(a(151));for(var xr=pr=null,yr=qe,Cr=qe=0,pn=null,ra=lt.next();yr!==null&&!ra.done;Cr++,ra=lt.next()){yr.index>Cr?(pn=yr,yr=null):pn=yr.sibling;var Nu=Dt(rt,yr,ra.value,$t);if(Nu===null){yr===null&&(yr=pn);break}h&&yr&&Nu.alternate===null&&m(rt,yr),qe=V(Nu,qe,Cr),xr===null?pr=Nu:xr.sibling=Nu,xr=Nu,yr=pn}if(ra.done)return y(rt,yr),wt&&Be(rt,Cr),pr;if(yr===null){for(;!ra.done;Cr++,ra=lt.next())ra=Ft(rt,ra.value,$t),ra!==null&&(qe=V(ra,qe,Cr),xr===null?pr=ra:xr.sibling=ra,xr=ra);return wt&&Be(rt,Cr),pr}for(yr=A(rt,yr);!ra.done;Cr++,ra=lt.next())ra=Yt(yr,rt,Cr,ra.value,$t),ra!==null&&(h&&ra.alternate!==null&&yr.delete(ra.key===null?Cr:ra.key),qe=V(ra,qe,Cr),xr===null?pr=ra:xr.sibling=ra,xr=ra);return h&&yr.forEach(function(m$){return m(rt,m$)}),wt&&Be(rt,Cr),pr}function Cs(rt,qe,lt,$t){if(typeof lt=="object"&&lt!==null&&lt.type===U&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case C:e:{for(var pr=lt.key,xr=qe;xr!==null;){if(xr.key===pr){if(pr=lt.type,pr===U){if(xr.tag===7){y(rt,xr.sibling),qe=M(xr,lt.props.children),qe.return=rt,rt=qe;break e}}else if(xr.elementType===pr||typeof pr=="object"&&pr!==null&&pr.$$typeof===$&&ja(pr)===xr.type){y(rt,xr.sibling),qe=M(xr,lt.props),qe.ref=jr(rt,xr,lt),qe.return=rt,rt=qe;break e}y(rt,xr);break}else m(rt,xr);xr=xr.sibling}lt.type===U?(qe=D0(lt.props.children,rt.mode,$t,lt.key),qe.return=rt,rt=qe):($t=sx(lt.type,lt.key,lt.props,null,rt.mode,$t),$t.ref=jr(rt,qe,lt),$t.return=rt,rt=$t)}return se(rt);case D:e:{for(xr=lt.key;qe!==null;){if(qe.key===xr)if(qe.tag===4&&qe.stateNode.containerInfo===lt.containerInfo&&qe.stateNode.implementation===lt.implementation){y(rt,qe.sibling),qe=M(qe,lt.children||[]),qe.return=rt,rt=qe;break e}else{y(rt,qe);break}else m(rt,qe);qe=qe.sibling}qe=cw(lt,rt.mode,$t),qe.return=rt,rt=qe}return se(rt);case $:return xr=lt._init,Cs(rt,qe,xr(lt._payload),$t)}if(ie(lt))return ir(rt,qe,lt,$t);if(X(lt))return cr(rt,qe,lt,$t);$r(rt,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"?(lt=""+lt,qe!==null&&qe.tag===6?(y(rt,qe.sibling),qe=M(qe,lt),qe.return=rt,rt=qe):(y(rt,qe),qe=lw(lt,rt.mode,$t),qe.return=rt,rt=qe),se(rt)):y(rt,qe)}return Cs}var gs=$s(!0),Fa=$s(!1),_s=so(null),Bs=null,Ea=null,Vr=null;function Xr(){Vr=Ea=Bs=null}function Ta(h){var m=_s.current;oa(_s),h._currentValue=m}function Zr(h,m,y){for(;h!==null;){var A=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,A!==null&&(A.childLanes|=m)):A!==null&&(A.childLanes&m)!==m&&(A.childLanes|=m),h===y)break;h=h.return}}function Wa(h,m){Bs=h,Vr=Ea=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&m)!==0&&(Ti=!0),h.firstContext=null)}function Ga(h){var m=h._currentValue;if(Vr!==h)if(h={context:h,memoizedValue:m,next:null},Ea===null){if(Bs===null)throw Error(a(308));Ea=h,Bs.dependencies={lanes:0,firstContext:h}}else Ea=Ea.next=h;return m}var ma=null;function un(h){ma===null?ma=[h]:ma.push(h)}function da(h,m,y,A){var M=m.interleaved;return M===null?(y.next=y,un(m)):(y.next=M.next,M.next=y),m.interleaved=y,fa(h,A)}function fa(h,m){h.lanes|=m;var y=h.alternate;for(y!==null&&(y.lanes|=m),y=h,h=h.return;h!==null;)h.childLanes|=m,y=h.alternate,y!==null&&(y.childLanes|=m),y=h,h=h.return;return y.tag===3?y.stateNode:null}var xs=!1;function Xs(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qn(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function ss(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function ns(h,m,y){var A=h.updateQueue;if(A===null)return null;if(A=A.shared,(Qr&2)!==0){var M=A.pending;return M===null?m.next=m:(m.next=M.next,M.next=m),A.pending=m,fa(h,y)}return M=A.interleaved,M===null?(m.next=m,un(A)):(m.next=M.next,M.next=m),A.interleaved=m,fa(h,y)}function hn(h,m,y){if(m=m.updateQueue,m!==null&&(m=m.shared,(y&4194240)!==0)){var A=m.lanes;A&=h.pendingLanes,y|=A,m.lanes=y,Gd(h,y)}}function pa(h,m){var y=h.updateQueue,A=h.alternate;if(A!==null&&(A=A.updateQueue,y===A)){var M=null,V=null;if(y=y.firstBaseUpdate,y!==null){do{var se={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};V===null?M=V=se:V=V.next=se,y=y.next}while(y!==null);V===null?M=V=m:V=V.next=m}else M=V=m;y={baseState:A.baseState,firstBaseUpdate:M,lastBaseUpdate:V,shared:A.shared,effects:A.effects},h.updateQueue=y;return}h=y.lastBaseUpdate,h===null?y.firstBaseUpdate=m:h.next=m,y.lastBaseUpdate=m}function mn(h,m,y,A){var M=h.updateQueue;xs=!1;var V=M.firstBaseUpdate,se=M.lastBaseUpdate,Ee=M.shared.pending;if(Ee!==null){M.shared.pending=null;var Me=Ee,dt=Me.next;Me.next=null,se===null?V=dt:se.next=dt,se=Me;var It=h.alternate;It!==null&&(It=It.updateQueue,Ee=It.lastBaseUpdate,Ee!==se&&(Ee===null?It.firstBaseUpdate=dt:Ee.next=dt,It.lastBaseUpdate=Me))}if(V!==null){var Ft=M.baseState;se=0,It=dt=Me=null,Ee=V;do{var Dt=Ee.lane,Yt=Ee.eventTime;if((A&Dt)===Dt){It!==null&&(It=It.next={eventTime:Yt,lane:0,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null});e:{var ir=h,cr=Ee;switch(Dt=m,Yt=y,cr.tag){case 1:if(ir=cr.payload,typeof ir=="function"){Ft=ir.call(Yt,Ft,Dt);break e}Ft=ir;break e;case 3:ir.flags=ir.flags&-65537|128;case 0:if(ir=cr.payload,Dt=typeof ir=="function"?ir.call(Yt,Ft,Dt):ir,Dt==null)break e;Ft=be({},Ft,Dt);break e;case 2:xs=!0}}Ee.callback!==null&&Ee.lane!==0&&(h.flags|=64,Dt=M.effects,Dt===null?M.effects=[Ee]:Dt.push(Ee))}else Yt={eventTime:Yt,lane:Dt,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},It===null?(dt=It=Yt,Me=Ft):It=It.next=Yt,se|=Dt;if(Ee=Ee.next,Ee===null){if(Ee=M.shared.pending,Ee===null)break;Dt=Ee,Ee=Dt.next,Dt.next=null,M.lastBaseUpdate=Dt,M.shared.pending=null}}while(!0);if(It===null&&(Me=Ft),M.baseState=Me,M.firstBaseUpdate=dt,M.lastBaseUpdate=It,m=M.shared.interleaved,m!==null){M=m;do se|=M.lane,M=M.next;while(M!==m)}else V===null&&(M.shared.lanes=0);C0|=se,h.lanes=se,h.memoizedState=Ft}}function Ei(h,m,y){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var A=h[m],M=A.callback;if(M!==null){if(A.callback=null,A=y,typeof M!="function")throw Error(a(191,M));M.call(A)}}}var no={},Us=so(no),is=so(no),dc=so(no);function Cl(h){if(h===no)throw Error(a(174));return h}function mu(h,m){switch(ca(dc,m),ca(is,h),ca(Us,no),h=m.nodeType,h){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:me(null,"");break;default:h=h===8?m.parentNode:m,m=h.namespaceURI||null,h=h.tagName,m=me(m,h)}oa(Us),ca(Us,m)}function Uo(){oa(Us),oa(is),oa(dc)}function $g(h){Cl(dc.current);var m=Cl(Us.current),y=me(m,h.type);m!==y&&(ca(is,h),ca(Us,y))}function Nf(h){is.current===h&&(oa(Us),oa(is))}var ka=so(0);function io(h){for(var m=h;m!==null;){if(m.tag===13){var y=m.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var kf=[];function Sf(){for(var h=0;h<kf.length;h++)kf[h]._workInProgressVersionPrimary=null;kf.length=0}var qh=N.ReactCurrentDispatcher,Vh=N.ReactCurrentBatchConfig,zo=0,Da=null,ys=null,os=null,fu=!1,Pl=!1,pu=0,Ov=0;function As(){throw Error(a(321))}function Hh(h,m){if(m===null)return!1;for(var y=0;y<m.length&&y<h.length;y++)if(!qa(h[y],m[y]))return!1;return!0}function S0(h,m,y,A,M,V){if(zo=V,Da=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,qh.current=h===null||h.memoizedState===null?$F:BF,h=y(A,M),Pl){V=0;do{if(Pl=!1,pu=0,25<=V)throw Error(a(301));V+=1,os=ys=null,m.updateQueue=null,qh.current=UF,h=y(A,M)}while(Pl)}if(qh.current=Vg,m=ys!==null&&ys.next!==null,zo=0,os=ys=Da=null,fu=!1,m)throw Error(a(300));return h}function qo(){var h=pu!==0;return pu=0,h}function oo(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return os===null?Da.memoizedState=os=h:os=os.next=h,os}function di(){if(ys===null){var h=Da.alternate;h=h!==null?h.memoizedState:null}else h=ys.next;var m=os===null?Da.memoizedState:os.next;if(m!==null)os=m,ys=h;else{if(h===null)throw Error(a(310));ys=h,h={memoizedState:ys.memoizedState,baseState:ys.baseState,baseQueue:ys.baseQueue,queue:ys.queue,next:null},os===null?Da.memoizedState=os=h:os=os.next=h}return os}function _0(h,m){return typeof m=="function"?m(h):m}function Wh(h){var m=di(),y=m.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=h;var A=ys,M=A.baseQueue,V=y.pending;if(V!==null){if(M!==null){var se=M.next;M.next=V.next,V.next=se}A.baseQueue=M=V,y.pending=null}if(M!==null){V=M.next,A=A.baseState;var Ee=se=null,Me=null,dt=V;do{var It=dt.lane;if((zo&It)===It)Me!==null&&(Me=Me.next={lane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),A=dt.hasEagerState?dt.eagerState:h(A,dt.action);else{var Ft={lane:It,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null};Me===null?(Ee=Me=Ft,se=A):Me=Me.next=Ft,Da.lanes|=It,C0|=It}dt=dt.next}while(dt!==null&&dt!==V);Me===null?se=A:Me.next=Ee,qa(A,m.memoizedState)||(Ti=!0),m.memoizedState=A,m.baseState=se,m.baseQueue=Me,y.lastRenderedState=A}if(h=y.interleaved,h!==null){M=h;do V=M.lane,Da.lanes|=V,C0|=V,M=M.next;while(M!==h)}else M===null&&(y.lanes=0);return[m.memoizedState,y.dispatch]}function uc(h){var m=di(),y=m.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=h;var A=y.dispatch,M=y.pending,V=m.memoizedState;if(M!==null){y.pending=null;var se=M=M.next;do V=h(V,se.action),se=se.next;while(se!==M);qa(V,m.memoizedState)||(Ti=!0),m.memoizedState=V,m.baseQueue===null&&(m.baseState=V),y.lastRenderedState=V}return[V,A]}function Bg(){}function _f(h,m){var y=Da,A=di(),M=m(),V=!qa(A.memoizedState,M);if(V&&(A.memoizedState=M,Ti=!0),A=A.queue,Kh(zg.bind(null,y,A,h),[h]),A.getSnapshot!==m||V||os!==null&&os.memoizedState.tag&1){if(y.flags|=2048,ui(9,Af.bind(null,y,A,M,m),void 0,null),fn===null)throw Error(a(349));(zo&30)!==0||Ug(y,m,M)}return M}function Ug(h,m,y){h.flags|=16384,h={getSnapshot:m,value:y},m=Da.updateQueue,m===null?(m={lastEffect:null,stores:null},Da.updateQueue=m,m.stores=[h]):(y=m.stores,y===null?m.stores=[h]:y.push(h))}function Af(h,m,y,A){m.value=y,m.getSnapshot=A,gu(m)&&Gh(h)}function zg(h,m,y){return y(function(){gu(m)&&Gh(h)})}function gu(h){var m=h.getSnapshot;h=h.value;try{var y=m();return!qa(h,y)}catch{return!0}}function Gh(h){var m=fa(h,1);m!==null&&Ol(m,h,1,-1)}function A0(h){var m=oo();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_0,lastRenderedState:h},m.queue=h,h=h.dispatch=FF.bind(null,Da,h),[m.memoizedState,h]}function ui(h,m,y,A){return h={tag:h,create:m,destroy:y,deps:A,next:null},m=Da.updateQueue,m===null?(m={lastEffect:null,stores:null},Da.updateQueue=m,m.lastEffect=h.next=h):(y=m.lastEffect,y===null?m.lastEffect=h.next=h:(A=y.next,y.next=h,h.next=A,m.lastEffect=h)),h}function El(){return di().memoizedState}function lo(h,m,y,A){var M=oo();Da.flags|=h,M.memoizedState=ui(1|m,y,void 0,A===void 0?null:A)}function ad(h,m,y,A){var M=di();A=A===void 0?null:A;var V=void 0;if(ys!==null){var se=ys.memoizedState;if(V=se.destroy,A!==null&&Hh(A,se.deps)){M.memoizedState=ui(m,y,V,A);return}}Da.flags|=h,M.memoizedState=ui(1|m,y,V,A)}function Yh(h,m){return lo(8390656,8,h,m)}function Kh(h,m){return ad(2048,8,h,m)}function qg(h,m){return ad(4,2,h,m)}function Jh(h,m){return ad(4,4,h,m)}function Xh(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function g4(h,m,y){return y=y!=null?y.concat([h]):null,ad(4,4,Xh.bind(null,m,h),y)}function Rv(){}function x4(h,m){var y=di();m=m===void 0?null:m;var A=y.memoizedState;return A!==null&&m!==null&&Hh(m,A[1])?A[0]:(y.memoizedState=[h,m],h)}function y4(h,m){var y=di();m=m===void 0?null:m;var A=y.memoizedState;return A!==null&&m!==null&&Hh(m,A[1])?A[0]:(h=h(),y.memoizedState=[h,m],h)}function b4(h,m,y){return(zo&21)===0?(h.baseState&&(h.baseState=!1,Ti=!0),h.memoizedState=y):(qa(y,m)||(y=n0(),Da.lanes|=y,C0|=y,h.baseState=!0),m)}function LF(h,m){var y=Kr;Kr=y!==0&&4>y?y:4,h(!0);var A=Vh.transition;Vh.transition={};try{h(!1),m()}finally{Kr=y,Vh.transition=A}}function v4(){return di().memoizedState}function MF(h,m,y){var A=vu(h);if(y={lane:A,action:y,hasEagerState:!1,eagerState:null,next:null},w4(h))j4(m,y);else if(y=da(h,m,y,A),y!==null){var M=mi();Ol(y,h,A,M),N4(y,m,A)}}function FF(h,m,y){var A=vu(h),M={lane:A,action:y,hasEagerState:!1,eagerState:null,next:null};if(w4(h))j4(m,M);else{var V=h.alternate;if(h.lanes===0&&(V===null||V.lanes===0)&&(V=m.lastRenderedReducer,V!==null))try{var se=m.lastRenderedState,Ee=V(se,y);if(M.hasEagerState=!0,M.eagerState=Ee,qa(Ee,se)){var Me=m.interleaved;Me===null?(M.next=M,un(m)):(M.next=Me.next,Me.next=M),m.interleaved=M;return}}catch{}finally{}y=da(h,m,M,A),y!==null&&(M=mi(),Ol(y,h,A,M),N4(y,m,A))}}function w4(h){var m=h.alternate;return h===Da||m!==null&&m===Da}function j4(h,m){Pl=fu=!0;var y=h.pending;y===null?m.next=m:(m.next=y.next,y.next=m),h.pending=m}function N4(h,m,y){if((y&4194240)!==0){var A=m.lanes;A&=h.pendingLanes,y|=A,m.lanes=y,Gd(h,y)}}var Vg={readContext:Ga,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useInsertionEffect:As,useLayoutEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useMutableSource:As,useSyncExternalStore:As,useId:As,unstable_isNewReconciler:!1},$F={readContext:Ga,useCallback:function(h,m){return oo().memoizedState=[h,m===void 0?null:m],h},useContext:Ga,useEffect:Yh,useImperativeHandle:function(h,m,y){return y=y!=null?y.concat([h]):null,lo(4194308,4,Xh.bind(null,m,h),y)},useLayoutEffect:function(h,m){return lo(4194308,4,h,m)},useInsertionEffect:function(h,m){return lo(4,2,h,m)},useMemo:function(h,m){var y=oo();return m=m===void 0?null:m,h=h(),y.memoizedState=[h,m],h},useReducer:function(h,m,y){var A=oo();return m=y!==void 0?y(m):m,A.memoizedState=A.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},A.queue=h,h=h.dispatch=MF.bind(null,Da,h),[A.memoizedState,h]},useRef:function(h){var m=oo();return h={current:h},m.memoizedState=h},useState:A0,useDebugValue:Rv,useDeferredValue:function(h){return oo().memoizedState=h},useTransition:function(){var h=A0(!1),m=h[0];return h=LF.bind(null,h[1]),oo().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,y){var A=Da,M=oo();if(wt){if(y===void 0)throw Error(a(407));y=y()}else{if(y=m(),fn===null)throw Error(a(349));(zo&30)!==0||Ug(A,m,y)}M.memoizedState=y;var V={value:y,getSnapshot:m};return M.queue=V,Yh(zg.bind(null,A,V,h),[h]),A.flags|=2048,ui(9,Af.bind(null,A,V,y,m),void 0,null),y},useId:function(){var h=oo(),m=fn.identifierPrefix;if(wt){var y=ke,A=tt;y=(A&~(1<<32-_t(A)-1)).toString(32)+y,m=":"+m+"R"+y,y=pu++,0<y&&(m+="H"+y.toString(32)),m+=":"}else y=Ov++,m=":"+m+"r"+y.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},BF={readContext:Ga,useCallback:x4,useContext:Ga,useEffect:Kh,useImperativeHandle:g4,useInsertionEffect:qg,useLayoutEffect:Jh,useMemo:y4,useReducer:Wh,useRef:El,useState:function(){return Wh(_0)},useDebugValue:Rv,useDeferredValue:function(h){var m=di();return b4(m,ys.memoizedState,h)},useTransition:function(){var h=Wh(_0)[0],m=di().memoizedState;return[h,m]},useMutableSource:Bg,useSyncExternalStore:_f,useId:v4,unstable_isNewReconciler:!1},UF={readContext:Ga,useCallback:x4,useContext:Ga,useEffect:Kh,useImperativeHandle:g4,useInsertionEffect:qg,useLayoutEffect:Jh,useMemo:y4,useReducer:uc,useRef:El,useState:function(){return uc(_0)},useDebugValue:Rv,useDeferredValue:function(h){var m=di();return ys===null?m.memoizedState=h:b4(m,ys.memoizedState,h)},useTransition:function(){var h=uc(_0)[0],m=di().memoizedState;return[h,m]},useMutableSource:Bg,useSyncExternalStore:_f,useId:v4,unstable_isNewReconciler:!1};function Tl(h,m){if(h&&h.defaultProps){m=be({},m),h=h.defaultProps;for(var y in h)m[y]===void 0&&(m[y]=h[y]);return m}return m}function Lv(h,m,y,A){m=h.memoizedState,y=y(A,m),y=y==null?m:be({},m,y),h.memoizedState=y,h.lanes===0&&(h.updateQueue.baseState=y)}var Hg={isMounted:function(h){return(h=h._reactInternals)?ea(h)===h:!1},enqueueSetState:function(h,m,y){h=h._reactInternals;var A=mi(),M=vu(h),V=ss(A,M);V.payload=m,y!=null&&(V.callback=y),m=ns(h,V,M),m!==null&&(Ol(m,h,M,A),hn(m,h,M))},enqueueReplaceState:function(h,m,y){h=h._reactInternals;var A=mi(),M=vu(h),V=ss(A,M);V.tag=1,V.payload=m,y!=null&&(V.callback=y),m=ns(h,V,M),m!==null&&(Ol(m,h,M,A),hn(m,h,M))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var y=mi(),A=vu(h),M=ss(y,A);M.tag=2,m!=null&&(M.callback=m),m=ns(h,M,A),m!==null&&(Ol(m,h,A,y),hn(m,h,A))}};function k4(h,m,y,A,M,V,se){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(A,V,se):m.prototype&&m.prototype.isPureReactComponent?!Fn(y,A)||!Fn(M,V):!0}function S4(h,m,y){var A=!1,M=cc,V=m.contextType;return typeof V=="object"&&V!==null?V=Ga(V):(M=zn(m)?td:Js.current,A=m.contextTypes,V=(A=A!=null)?hu(h,M):cc),m=new m(y,V),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hg,h.stateNode=m,m._reactInternals=h,A&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=M,h.__reactInternalMemoizedMaskedChildContext=V),m}function _4(h,m,y,A){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(y,A),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(y,A),m.state!==h&&Hg.enqueueReplaceState(m,m.state,null)}function Mv(h,m,y,A){var M=h.stateNode;M.props=y,M.state=h.memoizedState,M.refs={},Xs(h);var V=m.contextType;typeof V=="object"&&V!==null?M.context=Ga(V):(V=zn(m)?td:Js.current,M.context=hu(h,V)),M.state=h.memoizedState,V=m.getDerivedStateFromProps,typeof V=="function"&&(Lv(h,m,V,y),M.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(m=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),m!==M.state&&Hg.enqueueReplaceState(M,M.state,null),mn(h,y,M,A),M.state=h.memoizedState),typeof M.componentDidMount=="function"&&(h.flags|=4194308)}function Zh(h,m){try{var y="",A=m;do y+=pe(A),A=A.return;while(A);var M=y}catch(V){M=`
Error generating stack: `+V.message+`
`+V.stack}return{value:h,source:m,stack:M,digest:null}}function Fv(h,m,y){return{value:h,source:null,stack:y??null,digest:m??null}}function $v(h,m){try{console.error(m.value)}catch(y){setTimeout(function(){throw y})}}var zF=typeof WeakMap=="function"?WeakMap:Map;function A4(h,m,y){y=ss(-1,y),y.tag=3,y.payload={element:null};var A=m.value;return y.callback=function(){Zg||(Zg=!0,ew=A),$v(h,m)},y}function C4(h,m,y){y=ss(-1,y),y.tag=3;var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var M=m.value;y.payload=function(){return A(M)},y.callback=function(){$v(h,m)}}var V=h.stateNode;return V!==null&&typeof V.componentDidCatch=="function"&&(y.callback=function(){$v(h,m),typeof A!="function"&&(yu===null?yu=new Set([this]):yu.add(this));var se=m.stack;this.componentDidCatch(m.value,{componentStack:se!==null?se:""})}),y}function P4(h,m,y){var A=h.pingCache;if(A===null){A=h.pingCache=new zF;var M=new Set;A.set(m,M)}else M=A.get(m),M===void 0&&(M=new Set,A.set(m,M));M.has(y)||(M.add(y),h=r$.bind(null,h,m,y),m.then(h,h))}function E4(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function T4(h,m,y,A,M){return(h.mode&1)===0?(h===m?h.flags|=65536:(h.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(m=ss(-1,1),m.tag=2,ns(y,m,1))),y.lanes|=1),h):(h.flags|=65536,h.lanes=M,h)}var qF=N.ReactCurrentOwner,Ti=!1;function hi(h,m,y,A){m.child=h===null?Fa(m,null,y,A):gs(m,h.child,y,A)}function D4(h,m,y,A,M){y=y.render;var V=m.ref;return Wa(m,M),A=S0(h,m,y,A,V,M),y=qo(),h!==null&&!Ti?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~M,sd(h,m,M)):(wt&&y&&xt(m),m.flags|=1,hi(h,m,A,M),m.child)}function I4(h,m,y,A,M){if(h===null){var V=y.type;return typeof V=="function"&&!ow(V)&&V.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(m.tag=15,m.type=V,O4(h,m,V,A,M)):(h=sx(y.type,null,A,m,m.mode,M),h.ref=m.ref,h.return=m,m.child=h)}if(V=h.child,(h.lanes&M)===0){var se=V.memoizedProps;if(y=y.compare,y=y!==null?y:Fn,y(se,A)&&h.ref===m.ref)return sd(h,m,M)}return m.flags|=1,h=ju(V,A),h.ref=m.ref,h.return=m,m.child=h}function O4(h,m,y,A,M){if(h!==null){var V=h.memoizedProps;if(Fn(V,A)&&h.ref===m.ref)if(Ti=!1,m.pendingProps=A=V,(h.lanes&M)!==0)(h.flags&131072)!==0&&(Ti=!0);else return m.lanes=h.lanes,sd(h,m,M)}return Bv(h,m,y,A,M)}function R4(h,m,y){var A=m.pendingProps,M=A.children,V=h!==null?h.memoizedState:null;if(A.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},ca(em,co),co|=y;else{if((y&1073741824)===0)return h=V!==null?V.baseLanes|y:y,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null,transitions:null},m.updateQueue=null,ca(em,co),co|=h,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=V!==null?V.baseLanes:y,ca(em,co),co|=A}else V!==null?(A=V.baseLanes|y,m.memoizedState=null):A=y,ca(em,co),co|=A;return hi(h,m,M,y),m.child}function L4(h,m){var y=m.ref;(h===null&&y!==null||h!==null&&h.ref!==y)&&(m.flags|=512,m.flags|=2097152)}function Bv(h,m,y,A,M){var V=zn(y)?td:Js.current;return V=hu(m,V),Wa(m,M),y=S0(h,m,y,A,V,M),A=qo(),h!==null&&!Ti?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~M,sd(h,m,M)):(wt&&A&&xt(m),m.flags|=1,hi(h,m,y,M),m.child)}function M4(h,m,y,A,M){if(zn(y)){var V=!0;rd(m)}else V=!1;if(Wa(m,M),m.stateNode===null)Gg(h,m),S4(m,y,A),Mv(m,y,A,M),A=!0;else if(h===null){var se=m.stateNode,Ee=m.memoizedProps;se.props=Ee;var Me=se.context,dt=y.contextType;typeof dt=="object"&&dt!==null?dt=Ga(dt):(dt=zn(y)?td:Js.current,dt=hu(m,dt));var It=y.getDerivedStateFromProps,Ft=typeof It=="function"||typeof se.getSnapshotBeforeUpdate=="function";Ft||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(Ee!==A||Me!==dt)&&_4(m,se,A,dt),xs=!1;var Dt=m.memoizedState;se.state=Dt,mn(m,A,se,M),Me=m.memoizedState,Ee!==A||Dt!==Me||Un.current||xs?(typeof It=="function"&&(Lv(m,y,It,A),Me=m.memoizedState),(Ee=xs||k4(m,y,Ee,A,Dt,Me,dt))?(Ft||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(m.flags|=4194308)):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=A,m.memoizedState=Me),se.props=A,se.state=Me,se.context=dt,A=Ee):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),A=!1)}else{se=m.stateNode,qn(h,m),Ee=m.memoizedProps,dt=m.type===m.elementType?Ee:Tl(m.type,Ee),se.props=dt,Ft=m.pendingProps,Dt=se.context,Me=y.contextType,typeof Me=="object"&&Me!==null?Me=Ga(Me):(Me=zn(y)?td:Js.current,Me=hu(m,Me));var Yt=y.getDerivedStateFromProps;(It=typeof Yt=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(Ee!==Ft||Dt!==Me)&&_4(m,se,A,Me),xs=!1,Dt=m.memoizedState,se.state=Dt,mn(m,A,se,M);var ir=m.memoizedState;Ee!==Ft||Dt!==ir||Un.current||xs?(typeof Yt=="function"&&(Lv(m,y,Yt,A),ir=m.memoizedState),(dt=xs||k4(m,y,dt,A,Dt,ir,Me)||!1)?(It||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(A,ir,Me),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(A,ir,Me)),typeof se.componentDidUpdate=="function"&&(m.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof se.componentDidUpdate!="function"||Ee===h.memoizedProps&&Dt===h.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Ee===h.memoizedProps&&Dt===h.memoizedState||(m.flags|=1024),m.memoizedProps=A,m.memoizedState=ir),se.props=A,se.state=ir,se.context=Me,A=dt):(typeof se.componentDidUpdate!="function"||Ee===h.memoizedProps&&Dt===h.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Ee===h.memoizedProps&&Dt===h.memoizedState||(m.flags|=1024),A=!1)}return Uv(h,m,y,A,V,M)}function Uv(h,m,y,A,M,V){L4(h,m);var se=(m.flags&128)!==0;if(!A&&!se)return M&&Fg(m,y,!1),sd(h,m,V);A=m.stateNode,qF.current=m;var Ee=se&&typeof y.getDerivedStateFromError!="function"?null:A.render();return m.flags|=1,h!==null&&se?(m.child=gs(m,h.child,null,V),m.child=gs(m,null,Ee,V)):hi(h,m,Ee,V),m.memoizedState=A.state,M&&Fg(m,y,!0),m.child}function F4(h){var m=h.stateNode;m.pendingContext?Mg(h,m.pendingContext,m.pendingContext!==m.context):m.context&&Mg(h,m.context,!1),mu(h,m.containerInfo)}function $4(h,m,y,A,M){return Xt(),zt(M),m.flags|=256,hi(h,m,y,A),m.child}var zv={dehydrated:null,treeContext:null,retryLane:0};function qv(h){return{baseLanes:h,cachePool:null,transitions:null}}function B4(h,m,y){var A=m.pendingProps,M=ka.current,V=!1,se=(m.flags&128)!==0,Ee;if((Ee=se)||(Ee=h!==null&&h.memoizedState===null?!1:(M&2)!==0),Ee?(V=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(M|=1),ca(ka,M&1),h===null)return rr(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((m.mode&1)===0?m.lanes=1:h.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(se=A.children,h=A.fallback,V?(A=m.mode,V=m.child,se={mode:"hidden",children:se},(A&1)===0&&V!==null?(V.childLanes=0,V.pendingProps=se):V=nx(se,A,0,null),h=D0(h,A,y,null),V.return=m,h.return=m,V.sibling=h,m.child=V,m.child.memoizedState=qv(y),m.memoizedState=zv,h):Vv(m,se));if(M=h.memoizedState,M!==null&&(Ee=M.dehydrated,Ee!==null))return VF(h,m,se,A,Ee,M,y);if(V){V=A.fallback,se=m.mode,M=h.child,Ee=M.sibling;var Me={mode:"hidden",children:A.children};return(se&1)===0&&m.child!==M?(A=m.child,A.childLanes=0,A.pendingProps=Me,m.deletions=null):(A=ju(M,Me),A.subtreeFlags=M.subtreeFlags&14680064),Ee!==null?V=ju(Ee,V):(V=D0(V,se,y,null),V.flags|=2),V.return=m,A.return=m,A.sibling=V,m.child=A,A=V,V=m.child,se=h.child.memoizedState,se=se===null?qv(y):{baseLanes:se.baseLanes|y,cachePool:null,transitions:se.transitions},V.memoizedState=se,V.childLanes=h.childLanes&~y,m.memoizedState=zv,A}return V=h.child,h=V.sibling,A=ju(V,{mode:"visible",children:A.children}),(m.mode&1)===0&&(A.lanes=y),A.return=m,A.sibling=null,h!==null&&(y=m.deletions,y===null?(m.deletions=[h],m.flags|=16):y.push(h)),m.child=A,m.memoizedState=null,A}function Vv(h,m){return m=nx({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function Wg(h,m,y,A){return A!==null&&zt(A),gs(m,h.child,null,y),h=Vv(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function VF(h,m,y,A,M,V,se){if(y)return m.flags&256?(m.flags&=-257,A=Fv(Error(a(422))),Wg(h,m,se,A)):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(V=A.fallback,M=m.mode,A=nx({mode:"visible",children:A.children},M,0,null),V=D0(V,M,se,null),V.flags|=2,A.return=m,V.return=m,A.sibling=V,m.child=A,(m.mode&1)!==0&&gs(m,h.child,null,se),m.child.memoizedState=qv(se),m.memoizedState=zv,V);if((m.mode&1)===0)return Wg(h,m,se,null);if(M.data==="$!"){if(A=M.nextSibling&&M.nextSibling.dataset,A)var Ee=A.dgst;return A=Ee,V=Error(a(419)),A=Fv(V,A,void 0),Wg(h,m,se,A)}if(Ee=(se&h.childLanes)!==0,Ti||Ee){if(A=fn,A!==null){switch(se&-se){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=(M&(A.suspendedLanes|se))!==0?0:M,M!==0&&M!==V.retryLane&&(V.retryLane=M,fa(h,M),Ol(A,h,M,-1))}return iw(),A=Fv(Error(a(421))),Wg(h,m,se,A)}return M.data==="$?"?(m.flags|=128,m.child=h.child,m=a$.bind(null,h),M._reactRetry=m,null):(h=V.treeContext,pt=_n(M.nextSibling),ht=m,wt=!0,St=null,h!==null&&(ve[Ne++]=tt,ve[Ne++]=ke,ve[Ne++]=Le,tt=h.id,ke=h.overflow,Le=m),m=Vv(m,A.children),m.flags|=4096,m)}function U4(h,m,y){h.lanes|=m;var A=h.alternate;A!==null&&(A.lanes|=m),Zr(h.return,m,y)}function Hv(h,m,y,A,M){var V=h.memoizedState;V===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:A,tail:y,tailMode:M}:(V.isBackwards=m,V.rendering=null,V.renderingStartTime=0,V.last=A,V.tail=y,V.tailMode=M)}function z4(h,m,y){var A=m.pendingProps,M=A.revealOrder,V=A.tail;if(hi(h,m,A.children,y),A=ka.current,(A&2)!==0)A=A&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&U4(h,y,m);else if(h.tag===19)U4(h,y,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}A&=1}if(ca(ka,A),(m.mode&1)===0)m.memoizedState=null;else switch(M){case"forwards":for(y=m.child,M=null;y!==null;)h=y.alternate,h!==null&&io(h)===null&&(M=y),y=y.sibling;y=M,y===null?(M=m.child,m.child=null):(M=y.sibling,y.sibling=null),Hv(m,!1,M,y,V);break;case"backwards":for(y=null,M=m.child,m.child=null;M!==null;){if(h=M.alternate,h!==null&&io(h)===null){m.child=M;break}h=M.sibling,M.sibling=y,y=M,M=h}Hv(m,!0,y,null,V);break;case"together":Hv(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Gg(h,m){(m.mode&1)===0&&h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2)}function sd(h,m,y){if(h!==null&&(m.dependencies=h.dependencies),C0|=m.lanes,(y&m.childLanes)===0)return null;if(h!==null&&m.child!==h.child)throw Error(a(153));if(m.child!==null){for(h=m.child,y=ju(h,h.pendingProps),m.child=y,y.return=m;h.sibling!==null;)h=h.sibling,y=y.sibling=ju(h,h.pendingProps),y.return=m;y.sibling=null}return m.child}function HF(h,m,y){switch(m.tag){case 3:F4(m),Xt();break;case 5:$g(m);break;case 1:zn(m.type)&&rd(m);break;case 4:mu(m,m.stateNode.containerInfo);break;case 10:var A=m.type._context,M=m.memoizedProps.value;ca(_s,A._currentValue),A._currentValue=M;break;case 13:if(A=m.memoizedState,A!==null)return A.dehydrated!==null?(ca(ka,ka.current&1),m.flags|=128,null):(y&m.child.childLanes)!==0?B4(h,m,y):(ca(ka,ka.current&1),h=sd(h,m,y),h!==null?h.sibling:null);ca(ka,ka.current&1);break;case 19:if(A=(y&m.childLanes)!==0,(h.flags&128)!==0){if(A)return z4(h,m,y);m.flags|=128}if(M=m.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),ca(ka,ka.current),A)break;return null;case 22:case 23:return m.lanes=0,R4(h,m,y)}return sd(h,m,y)}var q4,Wv,V4,H4;q4=function(h,m){for(var y=m.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===m)break;for(;y.sibling===null;){if(y.return===null||y.return===m)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Wv=function(){},V4=function(h,m,y,A){var M=h.memoizedProps;if(M!==A){h=m.stateNode,Cl(Us.current);var V=null;switch(y){case"input":M=Ze(h,M),A=Ze(h,A),V=[];break;case"select":M=be({},M,{value:void 0}),A=be({},A,{value:void 0}),V=[];break;case"textarea":M=Oe(h,M),A=Oe(h,A),V=[];break;default:typeof M.onClick!="function"&&typeof A.onClick=="function"&&(h.onclick=cu)}et(y,A);var se;y=null;for(dt in M)if(!A.hasOwnProperty(dt)&&M.hasOwnProperty(dt)&&M[dt]!=null)if(dt==="style"){var Ee=M[dt];for(se in Ee)Ee.hasOwnProperty(se)&&(y||(y={}),y[se]="")}else dt!=="dangerouslySetInnerHTML"&&dt!=="children"&&dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&dt!=="autoFocus"&&(n.hasOwnProperty(dt)?V||(V=[]):(V=V||[]).push(dt,null));for(dt in A){var Me=A[dt];if(Ee=M?.[dt],A.hasOwnProperty(dt)&&Me!==Ee&&(Me!=null||Ee!=null))if(dt==="style")if(Ee){for(se in Ee)!Ee.hasOwnProperty(se)||Me&&Me.hasOwnProperty(se)||(y||(y={}),y[se]="");for(se in Me)Me.hasOwnProperty(se)&&Ee[se]!==Me[se]&&(y||(y={}),y[se]=Me[se])}else y||(V||(V=[]),V.push(dt,y)),y=Me;else dt==="dangerouslySetInnerHTML"?(Me=Me?Me.__html:void 0,Ee=Ee?Ee.__html:void 0,Me!=null&&Ee!==Me&&(V=V||[]).push(dt,Me)):dt==="children"?typeof Me!="string"&&typeof Me!="number"||(V=V||[]).push(dt,""+Me):dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&(n.hasOwnProperty(dt)?(Me!=null&&dt==="onScroll"&&ha("scroll",h),V||Ee===Me||(V=[])):(V=V||[]).push(dt,Me))}y&&(V=V||[]).push("style",y);var dt=V;(m.updateQueue=dt)&&(m.flags|=4)}},H4=function(h,m,y,A){y!==A&&(m.flags|=4)};function Cf(h,m){if(!wt)switch(h.tailMode){case"hidden":m=h.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?h.tail=null:y.sibling=null;break;case"collapsed":y=h.tail;for(var A=null;y!==null;)y.alternate!==null&&(A=y),y=y.sibling;A===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:A.sibling=null}}function Vn(h){var m=h.alternate!==null&&h.alternate.child===h.child,y=0,A=0;if(m)for(var M=h.child;M!==null;)y|=M.lanes|M.childLanes,A|=M.subtreeFlags&14680064,A|=M.flags&14680064,M.return=h,M=M.sibling;else for(M=h.child;M!==null;)y|=M.lanes|M.childLanes,A|=M.subtreeFlags,A|=M.flags,M.return=h,M=M.sibling;return h.subtreeFlags|=A,h.childLanes=y,m}function WF(h,m,y){var A=m.pendingProps;switch(at(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(m),null;case 1:return zn(m.type)&&zh(),Vn(m),null;case 3:return A=m.stateNode,Uo(),oa(Un),oa(Js),Sf(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(h===null||h.child===null)&&(Ha(m)?m.flags|=4:h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,St!==null&&(aw(St),St=null))),Wv(h,m),Vn(m),null;case 5:Nf(m);var M=Cl(dc.current);if(y=m.type,h!==null&&m.stateNode!=null)V4(h,m,y,A,M),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!A){if(m.stateNode===null)throw Error(a(166));return Vn(m),null}if(h=Cl(Us.current),Ha(m)){A=m.stateNode,y=m.type;var V=m.memoizedProps;switch(A[Bo]=m,A[du]=V,h=(m.mode&1)!==0,y){case"dialog":ha("cancel",A),ha("close",A);break;case"iframe":case"object":case"embed":ha("load",A);break;case"video":case"audio":for(M=0;M<oc.length;M++)ha(oc[M],A);break;case"source":ha("error",A);break;case"img":case"image":case"link":ha("error",A),ha("load",A);break;case"details":ha("toggle",A);break;case"input":Z(A,V),ha("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!V.multiple},ha("invalid",A);break;case"textarea":Je(A,V),ha("invalid",A)}et(y,V),M=null;for(var se in V)if(V.hasOwnProperty(se)){var Ee=V[se];se==="children"?typeof Ee=="string"?A.textContent!==Ee&&(V.suppressHydrationWarning!==!0&&Uh(A.textContent,Ee,h),M=["children",Ee]):typeof Ee=="number"&&A.textContent!==""+Ee&&(V.suppressHydrationWarning!==!0&&Uh(A.textContent,Ee,h),M=["children",""+Ee]):n.hasOwnProperty(se)&&Ee!=null&&se==="onScroll"&&ha("scroll",A)}switch(y){case"input":$e(A),Ge(A,V,!0);break;case"textarea":$e(A),de(A);break;case"select":case"option":break;default:typeof V.onClick=="function"&&(A.onclick=cu)}A=M,m.updateQueue=A,A!==null&&(m.flags|=4)}else{se=M.nodeType===9?M:M.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=ue(y)),h==="http://www.w3.org/1999/xhtml"?y==="script"?(h=se.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof A.is=="string"?h=se.createElement(y,{is:A.is}):(h=se.createElement(y),y==="select"&&(se=h,A.multiple?se.multiple=!0:A.size&&(se.size=A.size))):h=se.createElementNS(h,y),h[Bo]=m,h[du]=A,q4(h,m,!1,!1),m.stateNode=h;e:{switch(se=Ve(y,A),y){case"dialog":ha("cancel",h),ha("close",h),M=A;break;case"iframe":case"object":case"embed":ha("load",h),M=A;break;case"video":case"audio":for(M=0;M<oc.length;M++)ha(oc[M],h);M=A;break;case"source":ha("error",h),M=A;break;case"img":case"image":case"link":ha("error",h),ha("load",h),M=A;break;case"details":ha("toggle",h),M=A;break;case"input":Z(h,A),M=Ze(h,A),ha("invalid",h);break;case"option":M=A;break;case"select":h._wrapperState={wasMultiple:!!A.multiple},M=be({},A,{value:void 0}),ha("invalid",h);break;case"textarea":Je(h,A),M=Oe(h,A),ha("invalid",h);break;default:M=A}et(y,M),Ee=M;for(V in Ee)if(Ee.hasOwnProperty(V)){var Me=Ee[V];V==="style"?oe(h,Me):V==="dangerouslySetInnerHTML"?(Me=Me?Me.__html:void 0,Me!=null&&Ye(h,Me)):V==="children"?typeof Me=="string"?(y!=="textarea"||Me!=="")&&kt(h,Me):typeof Me=="number"&&kt(h,""+Me):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(n.hasOwnProperty(V)?Me!=null&&V==="onScroll"&&ha("scroll",h):Me!=null&&S(h,V,Me,se))}switch(y){case"input":$e(h),Ge(h,A,!1);break;case"textarea":$e(h),de(h);break;case"option":A.value!=null&&h.setAttribute("value",""+je(A.value));break;case"select":h.multiple=!!A.multiple,V=A.value,V!=null?Ce(h,!!A.multiple,V,!1):A.defaultValue!=null&&Ce(h,!!A.multiple,A.defaultValue,!0);break;default:typeof M.onClick=="function"&&(h.onclick=cu)}switch(y){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Vn(m),null;case 6:if(h&&m.stateNode!=null)H4(h,m,h.memoizedProps,A);else{if(typeof A!="string"&&m.stateNode===null)throw Error(a(166));if(y=Cl(dc.current),Cl(Us.current),Ha(m)){if(A=m.stateNode,y=m.memoizedProps,A[Bo]=m,(V=A.nodeValue!==y)&&(h=ht,h!==null))switch(h.tag){case 3:Uh(A.nodeValue,y,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&Uh(A.nodeValue,y,(h.mode&1)!==0)}V&&(m.flags|=4)}else A=(y.nodeType===9?y:y.ownerDocument).createTextNode(A),A[Bo]=m,m.stateNode=A}return Vn(m),null;case 13:if(oa(ka),A=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(wt&&pt!==null&&(m.mode&1)!==0&&(m.flags&128)===0)Dr(),Xt(),m.flags|=98560,V=!1;else if(V=Ha(m),A!==null&&A.dehydrated!==null){if(h===null){if(!V)throw Error(a(318));if(V=m.memoizedState,V=V!==null?V.dehydrated:null,!V)throw Error(a(317));V[Bo]=m}else Xt(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Vn(m),V=!1}else St!==null&&(aw(St),St=null),V=!0;if(!V)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=y,m):(A=A!==null,A!==(h!==null&&h.memoizedState!==null)&&A&&(m.child.flags|=8192,(m.mode&1)!==0&&(h===null||(ka.current&1)!==0?Zs===0&&(Zs=3):iw())),m.updateQueue!==null&&(m.flags|=4),Vn(m),null);case 4:return Uo(),Wv(h,m),h===null&&Xc(m.stateNode.containerInfo),Vn(m),null;case 10:return Ta(m.type._context),Vn(m),null;case 17:return zn(m.type)&&zh(),Vn(m),null;case 19:if(oa(ka),V=m.memoizedState,V===null)return Vn(m),null;if(A=(m.flags&128)!==0,se=V.rendering,se===null)if(A)Cf(V,!1);else{if(Zs!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(se=io(h),se!==null){for(m.flags|=128,Cf(V,!1),A=se.updateQueue,A!==null&&(m.updateQueue=A,m.flags|=4),m.subtreeFlags=0,A=y,y=m.child;y!==null;)V=y,h=A,V.flags&=14680066,se=V.alternate,se===null?(V.childLanes=0,V.lanes=h,V.child=null,V.subtreeFlags=0,V.memoizedProps=null,V.memoizedState=null,V.updateQueue=null,V.dependencies=null,V.stateNode=null):(V.childLanes=se.childLanes,V.lanes=se.lanes,V.child=se.child,V.subtreeFlags=0,V.deletions=null,V.memoizedProps=se.memoizedProps,V.memoizedState=se.memoizedState,V.updateQueue=se.updateQueue,V.type=se.type,h=se.dependencies,V.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),y=y.sibling;return ca(ka,ka.current&1|2),m.child}h=h.sibling}V.tail!==null&&ia()>tm&&(m.flags|=128,A=!0,Cf(V,!1),m.lanes=4194304)}else{if(!A)if(h=io(se),h!==null){if(m.flags|=128,A=!0,y=h.updateQueue,y!==null&&(m.updateQueue=y,m.flags|=4),Cf(V,!0),V.tail===null&&V.tailMode==="hidden"&&!se.alternate&&!wt)return Vn(m),null}else 2*ia()-V.renderingStartTime>tm&&y!==1073741824&&(m.flags|=128,A=!0,Cf(V,!1),m.lanes=4194304);V.isBackwards?(se.sibling=m.child,m.child=se):(y=V.last,y!==null?y.sibling=se:m.child=se,V.last=se)}return V.tail!==null?(m=V.tail,V.rendering=m,V.tail=m.sibling,V.renderingStartTime=ia(),m.sibling=null,y=ka.current,ca(ka,A?y&1|2:y&1),m):(Vn(m),null);case 22:case 23:return nw(),A=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==A&&(m.flags|=8192),A&&(m.mode&1)!==0?(co&1073741824)!==0&&(Vn(m),m.subtreeFlags&6&&(m.flags|=8192)):Vn(m),null;case 24:return null;case 25:return null}throw Error(a(156,m.tag))}function GF(h,m){switch(at(m),m.tag){case 1:return zn(m.type)&&zh(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Uo(),oa(Un),oa(Js),Sf(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 5:return Nf(m),null;case 13:if(oa(ka),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(a(340));Xt()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return oa(ka),null;case 4:return Uo(),null;case 10:return Ta(m.type._context),null;case 22:case 23:return nw(),null;case 24:return null;default:return null}}var Yg=!1,Hn=!1,YF=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function Qh(h,m){var y=h.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(A){bs(h,m,A)}else y.current=null}function Gv(h,m,y){try{y()}catch(A){bs(h,m,A)}}var W4=!1;function KF(h,m){if(j0=Xd,h=ps(),ao(h)){if("selectionStart"in h)var y={start:h.selectionStart,end:h.selectionEnd};else e:{y=(y=h.ownerDocument)&&y.defaultView||window;var A=y.getSelection&&y.getSelection();if(A&&A.rangeCount!==0){y=A.anchorNode;var M=A.anchorOffset,V=A.focusNode;A=A.focusOffset;try{y.nodeType,V.nodeType}catch{y=null;break e}var se=0,Ee=-1,Me=-1,dt=0,It=0,Ft=h,Dt=null;t:for(;;){for(var Yt;Ft!==y||M!==0&&Ft.nodeType!==3||(Ee=se+M),Ft!==V||A!==0&&Ft.nodeType!==3||(Me=se+A),Ft.nodeType===3&&(se+=Ft.nodeValue.length),(Yt=Ft.firstChild)!==null;)Dt=Ft,Ft=Yt;for(;;){if(Ft===h)break t;if(Dt===y&&++dt===M&&(Ee=se),Dt===V&&++It===A&&(Me=se),(Yt=Ft.nextSibling)!==null)break;Ft=Dt,Dt=Ft.parentNode}Ft=Yt}y=Ee===-1||Me===-1?null:{start:Ee,end:Me}}else y=null}y=y||{start:0,end:0}}else y=null;for(Qc={focusedElem:h,selectionRange:y},Xd=!1,Zt=m;Zt!==null;)if(m=Zt,h=m.child,(m.subtreeFlags&1028)!==0&&h!==null)h.return=m,Zt=h;else for(;Zt!==null;){m=Zt;try{var ir=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(ir!==null){var cr=ir.memoizedProps,Cs=ir.memoizedState,rt=m.stateNode,qe=rt.getSnapshotBeforeUpdate(m.elementType===m.type?cr:Tl(m.type,cr),Cs);rt.__reactInternalSnapshotBeforeUpdate=qe}break;case 3:var lt=m.stateNode.containerInfo;lt.nodeType===1?lt.textContent="":lt.nodeType===9&&lt.documentElement&&lt.removeChild(lt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch($t){bs(m,m.return,$t)}if(h=m.sibling,h!==null){h.return=m.return,Zt=h;break}Zt=m.return}return ir=W4,W4=!1,ir}function Pf(h,m,y){var A=m.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var M=A=A.next;do{if((M.tag&h)===h){var V=M.destroy;M.destroy=void 0,V!==void 0&&Gv(m,y,V)}M=M.next}while(M!==A)}}function Kg(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&h)===h){var A=y.create;y.destroy=A()}y=y.next}while(y!==m)}}function Yv(h){var m=h.ref;if(m!==null){var y=h.stateNode;switch(h.tag){case 5:h=y;break;default:h=y}typeof m=="function"?m(h):m.current=h}}function G4(h){var m=h.alternate;m!==null&&(h.alternate=null,G4(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&(delete m[Bo],delete m[du],delete m[Bn],delete m[Dv],delete m[Iv])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function Y4(h){return h.tag===5||h.tag===3||h.tag===4}function K4(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Y4(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Kv(h,m,y){var A=h.tag;if(A===5||A===6)h=h.stateNode,m?y.nodeType===8?y.parentNode.insertBefore(h,m):y.insertBefore(h,m):(y.nodeType===8?(m=y.parentNode,m.insertBefore(h,y)):(m=y,m.appendChild(h)),y=y._reactRootContainer,y!=null||m.onclick!==null||(m.onclick=cu));else if(A!==4&&(h=h.child,h!==null))for(Kv(h,m,y),h=h.sibling;h!==null;)Kv(h,m,y),h=h.sibling}function Jv(h,m,y){var A=h.tag;if(A===5||A===6)h=h.stateNode,m?y.insertBefore(h,m):y.appendChild(h);else if(A!==4&&(h=h.child,h!==null))for(Jv(h,m,y),h=h.sibling;h!==null;)Jv(h,m,y),h=h.sibling}var An=null,Dl=!1;function xu(h,m,y){for(y=y.child;y!==null;)J4(h,m,y),y=y.sibling}function J4(h,m,y){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(gl,y)}catch{}switch(y.tag){case 5:Hn||Qh(y,m);case 6:var A=An,M=Dl;An=null,xu(h,m,y),An=A,Dl=M,An!==null&&(Dl?(h=An,y=y.stateNode,h.nodeType===8?h.parentNode.removeChild(y):h.removeChild(y)):An.removeChild(y.stateNode));break;case 18:An!==null&&(Dl?(h=An,y=y.stateNode,h.nodeType===8?vf(h.parentNode,y):h.nodeType===1&&vf(h,y),Lc(h)):vf(An,y.stateNode));break;case 4:A=An,M=Dl,An=y.stateNode.containerInfo,Dl=!0,xu(h,m,y),An=A,Dl=M;break;case 0:case 11:case 14:case 15:if(!Hn&&(A=y.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){M=A=A.next;do{var V=M,se=V.destroy;V=V.tag,se!==void 0&&((V&2)!==0||(V&4)!==0)&&Gv(y,m,se),M=M.next}while(M!==A)}xu(h,m,y);break;case 1:if(!Hn&&(Qh(y,m),A=y.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=y.memoizedProps,A.state=y.memoizedState,A.componentWillUnmount()}catch(Ee){bs(y,m,Ee)}xu(h,m,y);break;case 21:xu(h,m,y);break;case 22:y.mode&1?(Hn=(A=Hn)||y.memoizedState!==null,xu(h,m,y),Hn=A):xu(h,m,y);break;default:xu(h,m,y)}}function X4(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var y=h.stateNode;y===null&&(y=h.stateNode=new YF),m.forEach(function(A){var M=s$.bind(null,h,A);y.has(A)||(y.add(A),A.then(M,M))})}}function Il(h,m){var y=m.deletions;if(y!==null)for(var A=0;A<y.length;A++){var M=y[A];try{var V=h,se=m,Ee=se;e:for(;Ee!==null;){switch(Ee.tag){case 5:An=Ee.stateNode,Dl=!1;break e;case 3:An=Ee.stateNode.containerInfo,Dl=!0;break e;case 4:An=Ee.stateNode.containerInfo,Dl=!0;break e}Ee=Ee.return}if(An===null)throw Error(a(160));J4(V,se,M),An=null,Dl=!1;var Me=M.alternate;Me!==null&&(Me.return=null),M.return=null}catch(dt){bs(M,m,dt)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)Z4(m,h),m=m.sibling}function Z4(h,m){var y=h.alternate,A=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Il(m,h),hc(h),A&4){try{Pf(3,h,h.return),Kg(3,h)}catch(cr){bs(h,h.return,cr)}try{Pf(5,h,h.return)}catch(cr){bs(h,h.return,cr)}}break;case 1:Il(m,h),hc(h),A&512&&y!==null&&Qh(y,y.return);break;case 5:if(Il(m,h),hc(h),A&512&&y!==null&&Qh(y,y.return),h.flags&32){var M=h.stateNode;try{kt(M,"")}catch(cr){bs(h,h.return,cr)}}if(A&4&&(M=h.stateNode,M!=null)){var V=h.memoizedProps,se=y!==null?y.memoizedProps:V,Ee=h.type,Me=h.updateQueue;if(h.updateQueue=null,Me!==null)try{Ee==="input"&&V.type==="radio"&&V.name!=null&&re(M,V),Ve(Ee,se);var dt=Ve(Ee,V);for(se=0;se<Me.length;se+=2){var It=Me[se],Ft=Me[se+1];It==="style"?oe(M,Ft):It==="dangerouslySetInnerHTML"?Ye(M,Ft):It==="children"?kt(M,Ft):S(M,It,Ft,dt)}switch(Ee){case"input":Ue(M,V);break;case"textarea":H(M,V);break;case"select":var Dt=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!V.multiple;var Yt=V.value;Yt!=null?Ce(M,!!V.multiple,Yt,!1):Dt!==!!V.multiple&&(V.defaultValue!=null?Ce(M,!!V.multiple,V.defaultValue,!0):Ce(M,!!V.multiple,V.multiple?[]:"",!1))}M[du]=V}catch(cr){bs(h,h.return,cr)}}break;case 6:if(Il(m,h),hc(h),A&4){if(h.stateNode===null)throw Error(a(162));M=h.stateNode,V=h.memoizedProps;try{M.nodeValue=V}catch(cr){bs(h,h.return,cr)}}break;case 3:if(Il(m,h),hc(h),A&4&&y!==null&&y.memoizedState.isDehydrated)try{Lc(m.containerInfo)}catch(cr){bs(h,h.return,cr)}break;case 4:Il(m,h),hc(h);break;case 13:Il(m,h),hc(h),M=h.child,M.flags&8192&&(V=M.memoizedState!==null,M.stateNode.isHidden=V,!V||M.alternate!==null&&M.alternate.memoizedState!==null||(Qv=ia())),A&4&&X4(h);break;case 22:if(It=y!==null&&y.memoizedState!==null,h.mode&1?(Hn=(dt=Hn)||It,Il(m,h),Hn=dt):Il(m,h),hc(h),A&8192){if(dt=h.memoizedState!==null,(h.stateNode.isHidden=dt)&&!It&&(h.mode&1)!==0)for(Zt=h,It=h.child;It!==null;){for(Ft=Zt=It;Zt!==null;){switch(Dt=Zt,Yt=Dt.child,Dt.tag){case 0:case 11:case 14:case 15:Pf(4,Dt,Dt.return);break;case 1:Qh(Dt,Dt.return);var ir=Dt.stateNode;if(typeof ir.componentWillUnmount=="function"){A=Dt,y=Dt.return;try{m=A,ir.props=m.memoizedProps,ir.state=m.memoizedState,ir.componentWillUnmount()}catch(cr){bs(A,y,cr)}}break;case 5:Qh(Dt,Dt.return);break;case 22:if(Dt.memoizedState!==null){t_(Ft);continue}}Yt!==null?(Yt.return=Dt,Zt=Yt):t_(Ft)}It=It.sibling}e:for(It=null,Ft=h;;){if(Ft.tag===5){if(It===null){It=Ft;try{M=Ft.stateNode,dt?(V=M.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none"):(Ee=Ft.stateNode,Me=Ft.memoizedProps.style,se=Me!=null&&Me.hasOwnProperty("display")?Me.display:null,Ee.style.display=Te("display",se))}catch(cr){bs(h,h.return,cr)}}}else if(Ft.tag===6){if(It===null)try{Ft.stateNode.nodeValue=dt?"":Ft.memoizedProps}catch(cr){bs(h,h.return,cr)}}else if((Ft.tag!==22&&Ft.tag!==23||Ft.memoizedState===null||Ft===h)&&Ft.child!==null){Ft.child.return=Ft,Ft=Ft.child;continue}if(Ft===h)break e;for(;Ft.sibling===null;){if(Ft.return===null||Ft.return===h)break e;It===Ft&&(It=null),Ft=Ft.return}It===Ft&&(It=null),Ft.sibling.return=Ft.return,Ft=Ft.sibling}}break;case 19:Il(m,h),hc(h),A&4&&X4(h);break;case 21:break;default:Il(m,h),hc(h)}}function hc(h){var m=h.flags;if(m&2){try{e:{for(var y=h.return;y!==null;){if(Y4(y)){var A=y;break e}y=y.return}throw Error(a(160))}switch(A.tag){case 5:var M=A.stateNode;A.flags&32&&(kt(M,""),A.flags&=-33);var V=K4(h);Jv(h,V,M);break;case 3:case 4:var se=A.stateNode.containerInfo,Ee=K4(h);Kv(h,Ee,se);break;default:throw Error(a(161))}}catch(Me){bs(h,h.return,Me)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function JF(h,m,y){Zt=h,Q4(h)}function Q4(h,m,y){for(var A=(h.mode&1)!==0;Zt!==null;){var M=Zt,V=M.child;if(M.tag===22&&A){var se=M.memoizedState!==null||Yg;if(!se){var Ee=M.alternate,Me=Ee!==null&&Ee.memoizedState!==null||Hn;Ee=Yg;var dt=Hn;if(Yg=se,(Hn=Me)&&!dt)for(Zt=M;Zt!==null;)se=Zt,Me=se.child,se.tag===22&&se.memoizedState!==null?r_(M):Me!==null?(Me.return=se,Zt=Me):r_(M);for(;V!==null;)Zt=V,Q4(V),V=V.sibling;Zt=M,Yg=Ee,Hn=dt}e_(h)}else(M.subtreeFlags&8772)!==0&&V!==null?(V.return=M,Zt=V):e_(h)}}function e_(h){for(;Zt!==null;){var m=Zt;if((m.flags&8772)!==0){var y=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Hn||Kg(5,m);break;case 1:var A=m.stateNode;if(m.flags&4&&!Hn)if(y===null)A.componentDidMount();else{var M=m.elementType===m.type?y.memoizedProps:Tl(m.type,y.memoizedProps);A.componentDidUpdate(M,y.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var V=m.updateQueue;V!==null&&Ei(m,V,A);break;case 3:var se=m.updateQueue;if(se!==null){if(y=null,m.child!==null)switch(m.child.tag){case 5:y=m.child.stateNode;break;case 1:y=m.child.stateNode}Ei(m,se,y)}break;case 5:var Ee=m.stateNode;if(y===null&&m.flags&4){y=Ee;var Me=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":Me.autoFocus&&y.focus();break;case"img":Me.src&&(y.src=Me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var dt=m.alternate;if(dt!==null){var It=dt.memoizedState;if(It!==null){var Ft=It.dehydrated;Ft!==null&&Lc(Ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Hn||m.flags&512&&Yv(m)}catch(Dt){bs(m,m.return,Dt)}}if(m===h){Zt=null;break}if(y=m.sibling,y!==null){y.return=m.return,Zt=y;break}Zt=m.return}}function t_(h){for(;Zt!==null;){var m=Zt;if(m===h){Zt=null;break}var y=m.sibling;if(y!==null){y.return=m.return,Zt=y;break}Zt=m.return}}function r_(h){for(;Zt!==null;){var m=Zt;try{switch(m.tag){case 0:case 11:case 15:var y=m.return;try{Kg(4,m)}catch(Me){bs(m,y,Me)}break;case 1:var A=m.stateNode;if(typeof A.componentDidMount=="function"){var M=m.return;try{A.componentDidMount()}catch(Me){bs(m,M,Me)}}var V=m.return;try{Yv(m)}catch(Me){bs(m,V,Me)}break;case 5:var se=m.return;try{Yv(m)}catch(Me){bs(m,se,Me)}}}catch(Me){bs(m,m.return,Me)}if(m===h){Zt=null;break}var Ee=m.sibling;if(Ee!==null){Ee.return=m.return,Zt=Ee;break}Zt=m.return}}var XF=Math.ceil,Jg=N.ReactCurrentDispatcher,Xv=N.ReactCurrentOwner,Vo=N.ReactCurrentBatchConfig,Qr=0,fn=null,zs=null,Cn=0,co=0,em=so(0),Zs=0,Ef=null,C0=0,Xg=0,Zv=0,Tf=null,Di=null,Qv=0,tm=1/0,nd=null,Zg=!1,ew=null,yu=null,Qg=!1,bu=null,ex=0,Df=0,tw=null,tx=-1,rx=0;function mi(){return(Qr&6)!==0?ia():tx!==-1?tx:tx=ia()}function vu(h){return(h.mode&1)===0?1:(Qr&2)!==0&&Cn!==0?Cn&-Cn:as.transition!==null?(rx===0&&(rx=n0()),rx):(h=Kr,h!==0||(h=window.event,h=h===void 0?16:Fc(h.type)),h)}function Ol(h,m,y,A){if(50<Df)throw Df=0,tw=null,Error(a(185));Dc(h,y,A),((Qr&2)===0||h!==fn)&&(h===fn&&((Qr&2)===0&&(Xg|=y),Zs===4&&wu(h,Cn)),Ii(h,A),y===1&&Qr===0&&(m.mode&1)===0&&(tm=ia()+500,k0&&G()))}function Ii(h,m){var y=h.callbackNode;La(h,m);var A=wi(h,h===fn?Cn:0);if(A===0)y!==null&&pl(y),h.callbackNode=null,h.callbackPriority=0;else if(m=A&-A,h.callbackPriority!==m){if(y!=null&&pl(y),m===1)h.tag===0?B(s_.bind(null,h)):P(s_.bind(null,h)),Ev(function(){(Qr&6)===0&&G()}),y=null;else{switch(Ic(A)){case 1:y=ni;break;case 4:y=jn;break;case 16:y=Zi;break;case 536870912:y=Jl;break;default:y=Zi}y=h_(y,a_.bind(null,h))}h.callbackPriority=m,h.callbackNode=y}}function a_(h,m){if(tx=-1,rx=0,(Qr&6)!==0)throw Error(a(327));var y=h.callbackNode;if(rm()&&h.callbackNode!==y)return null;var A=wi(h,h===fn?Cn:0);if(A===0)return null;if((A&30)!==0||(A&h.expiredLanes)!==0||m)m=ax(h,A);else{m=A;var M=Qr;Qr|=2;var V=i_();(fn!==h||Cn!==m)&&(nd=null,tm=ia()+500,E0(h,m));do try{e$();break}catch(Ee){n_(h,Ee)}while(!0);Xr(),Jg.current=V,Qr=M,zs!==null?m=0:(fn=null,Cn=0,m=Zs)}if(m!==0){if(m===2&&(M=Nn(h),M!==0&&(A=M,m=rw(h,M))),m===1)throw y=Ef,E0(h,0),wu(h,A),Ii(h,ia()),y;if(m===6)wu(h,A);else{if(M=h.current.alternate,(A&30)===0&&!ZF(M)&&(m=ax(h,A),m===2&&(V=Nn(h),V!==0&&(A=V,m=rw(h,V))),m===1))throw y=Ef,E0(h,0),wu(h,A),Ii(h,ia()),y;switch(h.finishedWork=M,h.finishedLanes=A,m){case 0:case 1:throw Error(a(345));case 2:T0(h,Di,nd);break;case 3:if(wu(h,A),(A&130023424)===A&&(m=Qv+500-ia(),10<m)){if(wi(h,0)!==0)break;if(M=h.suspendedLanes,(M&A)!==A){mi(),h.pingedLanes|=h.suspendedLanes&M;break}h.timeoutHandle=bf(T0.bind(null,h,Di,nd),m);break}T0(h,Di,nd);break;case 4:if(wu(h,A),(A&4194240)===A)break;for(m=h.eventTimes,M=-1;0<A;){var se=31-_t(A);V=1<<se,se=m[se],se>M&&(M=se),A&=~V}if(A=M,A=ia()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*XF(A/1960))-A,10<A){h.timeoutHandle=bf(T0.bind(null,h,Di,nd),A);break}T0(h,Di,nd);break;case 5:T0(h,Di,nd);break;default:throw Error(a(329))}}}return Ii(h,ia()),h.callbackNode===y?a_.bind(null,h):null}function rw(h,m){var y=Tf;return h.current.memoizedState.isDehydrated&&(E0(h,m).flags|=256),h=ax(h,m),h!==2&&(m=Di,Di=y,m!==null&&aw(m)),h}function aw(h){Di===null?Di=h:Di.push.apply(Di,h)}function ZF(h){for(var m=h;;){if(m.flags&16384){var y=m.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var A=0;A<y.length;A++){var M=y[A],V=M.getSnapshot;M=M.value;try{if(!qa(V(),M))return!1}catch{return!1}}}if(y=m.child,m.subtreeFlags&16384&&y!==null)y.return=m,m=y;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function wu(h,m){for(m&=~Zv,m&=~Xg,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var y=31-_t(m),A=1<<y;h[y]=-1,m&=~A}}function s_(h){if((Qr&6)!==0)throw Error(a(327));rm();var m=wi(h,0);if((m&1)===0)return Ii(h,ia()),null;var y=ax(h,m);if(h.tag!==0&&y===2){var A=Nn(h);A!==0&&(m=A,y=rw(h,A))}if(y===1)throw y=Ef,E0(h,0),wu(h,m),Ii(h,ia()),y;if(y===6)throw Error(a(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,T0(h,Di,nd),Ii(h,ia()),null}function sw(h,m){var y=Qr;Qr|=1;try{return h(m)}finally{Qr=y,Qr===0&&(tm=ia()+500,k0&&G())}}function P0(h){bu!==null&&bu.tag===0&&(Qr&6)===0&&rm();var m=Qr;Qr|=1;var y=Vo.transition,A=Kr;try{if(Vo.transition=null,Kr=1,h)return h()}finally{Kr=A,Vo.transition=y,Qr=m,(Qr&6)===0&&G()}}function nw(){co=em.current,oa(em)}function E0(h,m){h.finishedWork=null,h.finishedLanes=0;var y=h.timeoutHandle;if(y!==-1&&(h.timeoutHandle=-1,Rg(y)),zs!==null)for(y=zs.return;y!==null;){var A=y;switch(at(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&zh();break;case 3:Uo(),oa(Un),oa(Js),Sf();break;case 5:Nf(A);break;case 4:Uo();break;case 13:oa(ka);break;case 19:oa(ka);break;case 10:Ta(A.type._context);break;case 22:case 23:nw()}y=y.return}if(fn=h,zs=h=ju(h.current,null),Cn=co=m,Zs=0,Ef=null,Zv=Xg=C0=0,Di=Tf=null,ma!==null){for(m=0;m<ma.length;m++)if(y=ma[m],A=y.interleaved,A!==null){y.interleaved=null;var M=A.next,V=y.pending;if(V!==null){var se=V.next;V.next=M,A.next=se}y.pending=A}ma=null}return h}function n_(h,m){do{var y=zs;try{if(Xr(),qh.current=Vg,fu){for(var A=Da.memoizedState;A!==null;){var M=A.queue;M!==null&&(M.pending=null),A=A.next}fu=!1}if(zo=0,os=ys=Da=null,Pl=!1,pu=0,Xv.current=null,y===null||y.return===null){Zs=1,Ef=m,zs=null;break}e:{var V=h,se=y.return,Ee=y,Me=m;if(m=Cn,Ee.flags|=32768,Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var dt=Me,It=Ee,Ft=It.tag;if((It.mode&1)===0&&(Ft===0||Ft===11||Ft===15)){var Dt=It.alternate;Dt?(It.updateQueue=Dt.updateQueue,It.memoizedState=Dt.memoizedState,It.lanes=Dt.lanes):(It.updateQueue=null,It.memoizedState=null)}var Yt=E4(se);if(Yt!==null){Yt.flags&=-257,T4(Yt,se,Ee,V,m),Yt.mode&1&&P4(V,dt,m),m=Yt,Me=dt;var ir=m.updateQueue;if(ir===null){var cr=new Set;cr.add(Me),m.updateQueue=cr}else ir.add(Me);break e}else{if((m&1)===0){P4(V,dt,m),iw();break e}Me=Error(a(426))}}else if(wt&&Ee.mode&1){var Cs=E4(se);if(Cs!==null){(Cs.flags&65536)===0&&(Cs.flags|=256),T4(Cs,se,Ee,V,m),zt(Zh(Me,Ee));break e}}V=Me=Zh(Me,Ee),Zs!==4&&(Zs=2),Tf===null?Tf=[V]:Tf.push(V),V=se;do{switch(V.tag){case 3:V.flags|=65536,m&=-m,V.lanes|=m;var rt=A4(V,Me,m);pa(V,rt);break e;case 1:Ee=Me;var qe=V.type,lt=V.stateNode;if((V.flags&128)===0&&(typeof qe.getDerivedStateFromError=="function"||lt!==null&&typeof lt.componentDidCatch=="function"&&(yu===null||!yu.has(lt)))){V.flags|=65536,m&=-m,V.lanes|=m;var $t=C4(V,Ee,m);pa(V,$t);break e}}V=V.return}while(V!==null)}l_(y)}catch(pr){m=pr,zs===y&&y!==null&&(zs=y=y.return);continue}break}while(!0)}function i_(){var h=Jg.current;return Jg.current=Vg,h===null?Vg:h}function iw(){(Zs===0||Zs===3||Zs===2)&&(Zs=4),fn===null||(C0&268435455)===0&&(Xg&268435455)===0||wu(fn,Cn)}function ax(h,m){var y=Qr;Qr|=2;var A=i_();(fn!==h||Cn!==m)&&(nd=null,E0(h,m));do try{QF();break}catch(M){n_(h,M)}while(!0);if(Xr(),Qr=y,Jg.current=A,zs!==null)throw Error(a(261));return fn=null,Cn=0,Zs}function QF(){for(;zs!==null;)o_(zs)}function e$(){for(;zs!==null&&!si();)o_(zs)}function o_(h){var m=u_(h.alternate,h,co);h.memoizedProps=h.pendingProps,m===null?l_(h):zs=m,Xv.current=null}function l_(h){var m=h;do{var y=m.alternate;if(h=m.return,(m.flags&32768)===0){if(y=WF(y,m,co),y!==null){zs=y;return}}else{if(y=GF(y,m),y!==null){y.flags&=32767,zs=y;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Zs=6,zs=null;return}}if(m=m.sibling,m!==null){zs=m;return}zs=m=h}while(m!==null);Zs===0&&(Zs=5)}function T0(h,m,y){var A=Kr,M=Vo.transition;try{Vo.transition=null,Kr=1,t$(h,m,y,A)}finally{Vo.transition=M,Kr=A}return null}function t$(h,m,y,A){do rm();while(bu!==null);if((Qr&6)!==0)throw Error(a(327));y=h.finishedWork;var M=h.finishedLanes;if(y===null)return null;if(h.finishedWork=null,h.finishedLanes=0,y===h.current)throw Error(a(177));h.callbackNode=null,h.callbackPriority=0;var V=y.lanes|y.childLanes;if(To(h,V),h===fn&&(zs=fn=null,Cn=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||Qg||(Qg=!0,h_(Zi,function(){return rm(),null})),V=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||V){V=Vo.transition,Vo.transition=null;var se=Kr;Kr=1;var Ee=Qr;Qr|=4,Xv.current=null,KF(h,y),Z4(y,h),f0(Qc),Xd=!!j0,Qc=j0=null,h.current=y,JF(y),s0(),Qr=Ee,Kr=se,Vo.transition=V}else h.current=y;if(Qg&&(Qg=!1,bu=h,ex=M),V=h.pendingLanes,V===0&&(yu=null),Qe(y.stateNode),Ii(h,ia()),m!==null)for(A=h.onRecoverableError,y=0;y<m.length;y++)M=m[y],A(M.value,{componentStack:M.stack,digest:M.digest});if(Zg)throw Zg=!1,h=ew,ew=null,h;return(ex&1)!==0&&h.tag!==0&&rm(),V=h.pendingLanes,(V&1)!==0?h===tw?Df++:(Df=0,tw=h):Df=0,G(),null}function rm(){if(bu!==null){var h=Ic(ex),m=Vo.transition,y=Kr;try{if(Vo.transition=null,Kr=16>h?16:h,bu===null)var A=!1;else{if(h=bu,bu=null,ex=0,(Qr&6)!==0)throw Error(a(331));var M=Qr;for(Qr|=4,Zt=h.current;Zt!==null;){var V=Zt,se=V.child;if((Zt.flags&16)!==0){var Ee=V.deletions;if(Ee!==null){for(var Me=0;Me<Ee.length;Me++){var dt=Ee[Me];for(Zt=dt;Zt!==null;){var It=Zt;switch(It.tag){case 0:case 11:case 15:Pf(8,It,V)}var Ft=It.child;if(Ft!==null)Ft.return=It,Zt=Ft;else for(;Zt!==null;){It=Zt;var Dt=It.sibling,Yt=It.return;if(G4(It),It===dt){Zt=null;break}if(Dt!==null){Dt.return=Yt,Zt=Dt;break}Zt=Yt}}}var ir=V.alternate;if(ir!==null){var cr=ir.child;if(cr!==null){ir.child=null;do{var Cs=cr.sibling;cr.sibling=null,cr=Cs}while(cr!==null)}}Zt=V}}if((V.subtreeFlags&2064)!==0&&se!==null)se.return=V,Zt=se;else e:for(;Zt!==null;){if(V=Zt,(V.flags&2048)!==0)switch(V.tag){case 0:case 11:case 15:Pf(9,V,V.return)}var rt=V.sibling;if(rt!==null){rt.return=V.return,Zt=rt;break e}Zt=V.return}}var qe=h.current;for(Zt=qe;Zt!==null;){se=Zt;var lt=se.child;if((se.subtreeFlags&2064)!==0&&lt!==null)lt.return=se,Zt=lt;else e:for(se=qe;Zt!==null;){if(Ee=Zt,(Ee.flags&2048)!==0)try{switch(Ee.tag){case 0:case 11:case 15:Kg(9,Ee)}}catch(pr){bs(Ee,Ee.return,pr)}if(Ee===se){Zt=null;break e}var $t=Ee.sibling;if($t!==null){$t.return=Ee.return,Zt=$t;break e}Zt=Ee.return}}if(Qr=M,G(),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(gl,h)}catch{}A=!0}return A}finally{Kr=y,Vo.transition=m}}return!1}function c_(h,m,y){m=Zh(y,m),m=A4(h,m,1),h=ns(h,m,1),m=mi(),h!==null&&(Dc(h,1,m),Ii(h,m))}function bs(h,m,y){if(h.tag===3)c_(h,h,y);else for(;m!==null;){if(m.tag===3){c_(m,h,y);break}else if(m.tag===1){var A=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(yu===null||!yu.has(A))){h=Zh(y,h),h=C4(m,h,1),m=ns(m,h,1),h=mi(),m!==null&&(Dc(m,1,h),Ii(m,h));break}}m=m.return}}function r$(h,m,y){var A=h.pingCache;A!==null&&A.delete(m),m=mi(),h.pingedLanes|=h.suspendedLanes&y,fn===h&&(Cn&y)===y&&(Zs===4||Zs===3&&(Cn&130023424)===Cn&&500>ia()-Qv?E0(h,0):Zv|=y),Ii(h,m)}function d_(h,m){m===0&&((h.mode&1)===0?m=1:(m=qr,qr<<=1,(qr&130023424)===0&&(qr=4194304)));var y=mi();h=fa(h,m),h!==null&&(Dc(h,m,y),Ii(h,y))}function a$(h){var m=h.memoizedState,y=0;m!==null&&(y=m.retryLane),d_(h,y)}function s$(h,m){var y=0;switch(h.tag){case 13:var A=h.stateNode,M=h.memoizedState;M!==null&&(y=M.retryLane);break;case 19:A=h.stateNode;break;default:throw Error(a(314))}A!==null&&A.delete(m),d_(h,y)}var u_;u_=function(h,m,y){if(h!==null)if(h.memoizedProps!==m.pendingProps||Un.current)Ti=!0;else{if((h.lanes&y)===0&&(m.flags&128)===0)return Ti=!1,HF(h,m,y);Ti=(h.flags&131072)!==0}else Ti=!1,wt&&(m.flags&1048576)!==0&&Xe(m,ye,m.index);switch(m.lanes=0,m.tag){case 2:var A=m.type;Gg(h,m),h=m.pendingProps;var M=hu(m,Js.current);Wa(m,y),M=S0(null,m,A,h,M,y);var V=qo();return m.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,zn(A)?(V=!0,rd(m)):V=!1,m.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,Xs(m),M.updater=Hg,m.stateNode=M,M._reactInternals=m,Mv(m,A,h,y),m=Uv(null,m,A,!0,V,y)):(m.tag=0,wt&&V&&xt(m),hi(null,m,M,y),m=m.child),m;case 16:A=m.elementType;e:{switch(Gg(h,m),h=m.pendingProps,M=A._init,A=M(A._payload),m.type=A,M=m.tag=i$(A),h=Tl(A,h),M){case 0:m=Bv(null,m,A,h,y);break e;case 1:m=M4(null,m,A,h,y);break e;case 11:m=D4(null,m,A,h,y);break e;case 14:m=I4(null,m,A,Tl(A.type,h),y);break e}throw Error(a(306,A,""))}return m;case 0:return A=m.type,M=m.pendingProps,M=m.elementType===A?M:Tl(A,M),Bv(h,m,A,M,y);case 1:return A=m.type,M=m.pendingProps,M=m.elementType===A?M:Tl(A,M),M4(h,m,A,M,y);case 3:e:{if(F4(m),h===null)throw Error(a(387));A=m.pendingProps,V=m.memoizedState,M=V.element,qn(h,m),mn(m,A,null,y);var se=m.memoizedState;if(A=se.element,V.isDehydrated)if(V={element:A,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},m.updateQueue.baseState=V,m.memoizedState=V,m.flags&256){M=Zh(Error(a(423)),m),m=$4(h,m,A,y,M);break e}else if(A!==M){M=Zh(Error(a(424)),m),m=$4(h,m,A,y,M);break e}else for(pt=_n(m.stateNode.containerInfo.firstChild),ht=m,wt=!0,St=null,y=Fa(m,null,A,y),m.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Xt(),A===M){m=sd(h,m,y);break e}hi(h,m,A,y)}m=m.child}return m;case 5:return $g(m),h===null&&rr(m),A=m.type,M=m.pendingProps,V=h!==null?h.memoizedProps:null,se=M.children,yf(A,M)?se=null:V!==null&&yf(A,V)&&(m.flags|=32),L4(h,m),hi(h,m,se,y),m.child;case 6:return h===null&&rr(m),null;case 13:return B4(h,m,y);case 4:return mu(m,m.stateNode.containerInfo),A=m.pendingProps,h===null?m.child=gs(m,null,A,y):hi(h,m,A,y),m.child;case 11:return A=m.type,M=m.pendingProps,M=m.elementType===A?M:Tl(A,M),D4(h,m,A,M,y);case 7:return hi(h,m,m.pendingProps,y),m.child;case 8:return hi(h,m,m.pendingProps.children,y),m.child;case 12:return hi(h,m,m.pendingProps.children,y),m.child;case 10:e:{if(A=m.type._context,M=m.pendingProps,V=m.memoizedProps,se=M.value,ca(_s,A._currentValue),A._currentValue=se,V!==null)if(qa(V.value,se)){if(V.children===M.children&&!Un.current){m=sd(h,m,y);break e}}else for(V=m.child,V!==null&&(V.return=m);V!==null;){var Ee=V.dependencies;if(Ee!==null){se=V.child;for(var Me=Ee.firstContext;Me!==null;){if(Me.context===A){if(V.tag===1){Me=ss(-1,y&-y),Me.tag=2;var dt=V.updateQueue;if(dt!==null){dt=dt.shared;var It=dt.pending;It===null?Me.next=Me:(Me.next=It.next,It.next=Me),dt.pending=Me}}V.lanes|=y,Me=V.alternate,Me!==null&&(Me.lanes|=y),Zr(V.return,y,m),Ee.lanes|=y;break}Me=Me.next}}else if(V.tag===10)se=V.type===m.type?null:V.child;else if(V.tag===18){if(se=V.return,se===null)throw Error(a(341));se.lanes|=y,Ee=se.alternate,Ee!==null&&(Ee.lanes|=y),Zr(se,y,m),se=V.sibling}else se=V.child;if(se!==null)se.return=V;else for(se=V;se!==null;){if(se===m){se=null;break}if(V=se.sibling,V!==null){V.return=se.return,se=V;break}se=se.return}V=se}hi(h,m,M.children,y),m=m.child}return m;case 9:return M=m.type,A=m.pendingProps.children,Wa(m,y),M=Ga(M),A=A(M),m.flags|=1,hi(h,m,A,y),m.child;case 14:return A=m.type,M=Tl(A,m.pendingProps),M=Tl(A.type,M),I4(h,m,A,M,y);case 15:return O4(h,m,m.type,m.pendingProps,y);case 17:return A=m.type,M=m.pendingProps,M=m.elementType===A?M:Tl(A,M),Gg(h,m),m.tag=1,zn(A)?(h=!0,rd(m)):h=!1,Wa(m,y),S4(m,A,M),Mv(m,A,M,y),Uv(null,m,A,!0,h,y);case 19:return z4(h,m,y);case 22:return R4(h,m,y)}throw Error(a(156,m.tag))};function h_(h,m){return Eo(h,m)}function n$(h,m,y,A){this.tag=h,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ho(h,m,y,A){return new n$(h,m,y,A)}function ow(h){return h=h.prototype,!(!h||!h.isReactComponent)}function i$(h){if(typeof h=="function")return ow(h)?1:0;if(h!=null){if(h=h.$$typeof,h===F)return 11;if(h===q)return 14}return 2}function ju(h,m){var y=h.alternate;return y===null?(y=Ho(h.tag,m,h.key,h.mode),y.elementType=h.elementType,y.type=h.type,y.stateNode=h.stateNode,y.alternate=h,h.alternate=y):(y.pendingProps=m,y.type=h.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=h.flags&14680064,y.childLanes=h.childLanes,y.lanes=h.lanes,y.child=h.child,y.memoizedProps=h.memoizedProps,y.memoizedState=h.memoizedState,y.updateQueue=h.updateQueue,m=h.dependencies,y.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},y.sibling=h.sibling,y.index=h.index,y.ref=h.ref,y}function sx(h,m,y,A,M,V){var se=2;if(A=h,typeof h=="function")ow(h)&&(se=1);else if(typeof h=="string")se=5;else e:switch(h){case U:return D0(y.children,M,V,m);case z:se=8,M|=8;break;case E:return h=Ho(12,y,m,M|2),h.elementType=E,h.lanes=V,h;case Y:return h=Ho(13,y,m,M),h.elementType=Y,h.lanes=V,h;case O:return h=Ho(19,y,m,M),h.elementType=O,h.lanes=V,h;case K:return nx(y,M,V,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case I:se=10;break e;case T:se=9;break e;case F:se=11;break e;case q:se=14;break e;case $:se=16,A=null;break e}throw Error(a(130,h==null?h:typeof h,""))}return m=Ho(se,y,m,M),m.elementType=h,m.type=A,m.lanes=V,m}function D0(h,m,y,A){return h=Ho(7,h,A,m),h.lanes=y,h}function nx(h,m,y,A){return h=Ho(22,h,A,m),h.elementType=K,h.lanes=y,h.stateNode={isHidden:!1},h}function lw(h,m,y){return h=Ho(6,h,null,m),h.lanes=y,h}function cw(h,m,y){return m=Ho(4,h.children!==null?h.children:[],h.key,m),m.lanes=y,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function o$(h,m,y,A,M){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=i0(0),this.expirationTimes=i0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=i0(0),this.identifierPrefix=A,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function dw(h,m,y,A,M,V,se,Ee,Me){return h=new o$(h,m,y,Ee,Me),m===1?(m=1,V===!0&&(m|=8)):m=0,V=Ho(3,null,null,m),h.current=V,V.stateNode=h,V.memoizedState={element:A,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xs(V),h}function l$(h,m,y){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:A==null?null:""+A,children:h,containerInfo:m,implementation:y}}function m_(h){if(!h)return cc;h=h._reactInternals;e:{if(ea(h)!==h||h.tag!==1)throw Error(a(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(zn(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(a(171))}if(h.tag===1){var y=h.type;if(zn(y))return jf(h,y,m)}return m}function f_(h,m,y,A,M,V,se,Ee,Me){return h=dw(y,A,!0,h,M,V,se,Ee,Me),h.context=m_(null),y=h.current,A=mi(),M=vu(y),V=ss(A,M),V.callback=m??null,ns(y,V,M),h.current.lanes=M,Dc(h,M,A),Ii(h,A),h}function ix(h,m,y,A){var M=m.current,V=mi(),se=vu(M);return y=m_(y),m.context===null?m.context=y:m.pendingContext=y,m=ss(V,se),m.payload={element:h},A=A===void 0?null:A,A!==null&&(m.callback=A),h=ns(M,m,se),h!==null&&(Ol(h,M,se,V),hn(h,M,se)),se}function ox(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function p_(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var y=h.retryLane;h.retryLane=y!==0&&y<m?y:m}}function uw(h,m){p_(h,m),(h=h.alternate)&&p_(h,m)}function c$(){return null}var g_=typeof reportError=="function"?reportError:function(h){console.error(h)};function hw(h){this._internalRoot=h}lx.prototype.render=hw.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(a(409));ix(h,m,null,null)},lx.prototype.unmount=hw.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;P0(function(){ix(null,h,null,null)}),m[dn]=null}};function lx(h){this._internalRoot=h}lx.prototype.unstable_scheduleHydration=function(h){if(h){var m=Dh();h={blockedOn:null,target:h,priority:m};for(var y=0;y<Io.length&&m!==0&&m<Io[y].priority;y++);Io.splice(y,0,h),y===0&&Oh(h)}};function mw(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function cx(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function x_(){}function d$(h,m,y,A,M){if(M){if(typeof A=="function"){var V=A;A=function(){var dt=ox(se);V.call(dt)}}var se=f_(m,A,h,0,null,!1,!1,"",x_);return h._reactRootContainer=se,h[dn]=se.current,Xc(h.nodeType===8?h.parentNode:h),P0(),se}for(;M=h.lastChild;)h.removeChild(M);if(typeof A=="function"){var Ee=A;A=function(){var dt=ox(Me);Ee.call(dt)}}var Me=dw(h,0,!1,null,null,!1,!1,"",x_);return h._reactRootContainer=Me,h[dn]=Me.current,Xc(h.nodeType===8?h.parentNode:h),P0(function(){ix(m,Me,y,A)}),Me}function dx(h,m,y,A,M){var V=y._reactRootContainer;if(V){var se=V;if(typeof M=="function"){var Ee=M;M=function(){var Me=ox(se);Ee.call(Me)}}ix(m,se,h,M)}else se=d$(y,m,h,M,A);return ox(se)}Xl=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var y=ms(m.pendingLanes);y!==0&&(Gd(m,y|1),Ii(m,ia()),(Qr&6)===0&&(tm=ia()+500,G()))}break;case 13:P0(function(){var A=fa(h,1);if(A!==null){var M=mi();Ol(A,h,1,M)}}),uw(h,1)}},o0=function(h){if(h.tag===13){var m=fa(h,134217728);if(m!==null){var y=mi();Ol(m,h,134217728,y)}uw(h,134217728)}},Th=function(h){if(h.tag===13){var m=vu(h),y=fa(h,m);if(y!==null){var A=mi();Ol(y,h,m,A)}uw(h,m)}},Dh=function(){return Kr},Yd=function(h,m){var y=Kr;try{return Kr=h,m()}finally{Kr=y}},Fe=function(h,m,y){switch(m){case"input":if(Ue(h,y),m=y.name,y.type==="radio"&&m!=null){for(y=h;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<y.length;m++){var A=y[m];if(A!==h&&A.form===h.form){var M=N0(A);if(!M)throw Error(a(90));ge(A),Ue(A,M)}}}break;case"textarea":H(h,y);break;case"select":m=y.value,m!=null&&Ce(h,!!y.multiple,m,!1)}},Fr=sw,Re=P0;var u$={usingClientEntryPoint:!1,Events:[uu,ed,N0,Lt,Ar,sw]},If={findFiberByHostInstance:lc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h$={bundleType:If.bundleType,version:If.version,rendererPackageName:If.rendererPackageName,rendererConfig:If.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Fs(h),h===null?null:h.stateNode},findFiberByHostInstance:If.findFiberByHostInstance||c$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ux=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ux.isDisabled&&ux.supportsFiber)try{gl=ux.inject(h$),he=ux}catch{}}return Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u$,Oi.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mw(m))throw Error(a(200));return l$(h,m,null,y)},Oi.createRoot=function(h,m){if(!mw(h))throw Error(a(299));var y=!1,A="",M=g_;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),m=dw(h,1,!1,null,null,y,!1,A,M),h[dn]=m.current,Xc(h.nodeType===8?h.parentNode:h),new hw(m)},Oi.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(a(188)):(h=Object.keys(h).join(","),Error(a(268,h)));return h=Fs(m),h=h===null?null:h.stateNode,h},Oi.flushSync=function(h){return P0(h)},Oi.hydrate=function(h,m,y){if(!cx(m))throw Error(a(200));return dx(null,h,m,!0,y)},Oi.hydrateRoot=function(h,m,y){if(!mw(h))throw Error(a(405));var A=y!=null&&y.hydratedSources||null,M=!1,V="",se=g_;if(y!=null&&(y.unstable_strictMode===!0&&(M=!0),y.identifierPrefix!==void 0&&(V=y.identifierPrefix),y.onRecoverableError!==void 0&&(se=y.onRecoverableError)),m=f_(m,null,h,1,y??null,M,!1,V,se),h[dn]=m.current,Xc(h),A)for(h=0;h<A.length;h++)y=A[h],M=y._getVersion,M=M(y._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[y,M]:m.mutableSourceEagerHydrationData.push(y,M);return new lx(m)},Oi.render=function(h,m,y){if(!cx(m))throw Error(a(200));return dx(null,h,m,!1,y)},Oi.unmountComponentAtNode=function(h){if(!cx(h))throw Error(a(40));return h._reactRootContainer?(P0(function(){dx(null,null,h,!1,function(){h._reactRootContainer=null,h[dn]=null})}),!0):!1},Oi.unstable_batchedUpdates=sw,Oi.unstable_renderSubtreeIntoContainer=function(h,m,y,A){if(!cx(y))throw Error(a(200));if(h==null||h._reactInternals===void 0)throw Error(a(38));return dx(h,m,y,!1,A)},Oi.version="18.3.1-next-f1338f8080-20240426",Oi}var S_;function j7(){if(S_)return gw.exports;S_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),gw.exports=w$(),gw.exports}var __;function j$(){if(__)return hx;__=1;var t=j7();return hx.createRoot=t.createRoot,hx.hydrateRoot=t.hydrateRoot,hx}var N$=j$();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var A_="popstate";function k$(t={}){function r(s,n){let{pathname:i,search:o,hash:l}=s.location;return r2("",{pathname:i,search:o,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(s,n){return typeof n=="string"?n:Np(n)}return _$(r,a,null,t)}function Xa(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function ol(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function S$(){return Math.random().toString(36).substring(2,10)}function C_(t,r){return{usr:t.state,key:t.key,idx:r}}function r2(t,r,a=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof r=="string"?qm(r):r,state:a,key:r&&r.key||s||S$()}}function Np({pathname:t="/",search:r="",hash:a=""}){return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function qm(t){let r={};if(t){let a=t.indexOf("#");a>=0&&(r.hash=t.substring(a),t=t.substring(0,a));let s=t.indexOf("?");s>=0&&(r.search=t.substring(s),t=t.substring(0,s)),t&&(r.pathname=t)}return r}function _$(t,r,a,s={}){let{window:n=document.defaultView,v5Compat:i=!1}=s,o=n.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function f(){l="POP";let w=u(),j=w==null?null:w-d;d=w,c&&c({action:l,location:v.location,delta:j})}function p(w,j){l="PUSH";let _=r2(v.location,w,j);d=u()+1;let S=C_(_,d),N=v.createHref(_);try{o.pushState(S,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;n.location.assign(N)}i&&c&&c({action:l,location:v.location,delta:1})}function g(w,j){l="REPLACE";let _=r2(v.location,w,j);d=u();let S=C_(_,d),N=v.createHref(_);o.replaceState(S,"",N),i&&c&&c({action:l,location:v.location,delta:0})}function x(w){return A$(w)}let v={get action(){return l},get location(){return t(n,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(A_,f),c=w,()=>{n.removeEventListener(A_,f),c=null}},createHref(w){return r(n,w)},createURL:x,encodeLocation(w){let j=x(w);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:p,replace:g,go(w){return o.go(w)}};return v}function A$(t,r=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Xa(a,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Np(t);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function N7(t,r,a="/"){return C$(t,r,a,!1)}function C$(t,r,a,s){let n=typeof r=="string"?qm(r):r,i=Cd(n.pathname||"/",a);if(i==null)return null;let o=k7(t);P$(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=B$(i);l=F$(o[c],d,s)}return l}function k7(t,r=[],a=[],s="",n=!1){let i=(o,l,c=n,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(s)&&c)return;Xa(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length)}let f=vd([s,u.relativePath]),p=a.concat(u);o.children&&o.children.length>0&&(Xa(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),k7(o.children,r,p,f,c)),!(o.path==null&&!o.index)&&r.push({path:f,score:L$(f,o.index),routesMeta:p})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let c of S7(o.path))i(o,l,!0,c)}),r}function S7(t){let r=t.split("/");if(r.length===0)return[];let[a,...s]=r,n=a.endsWith("?"),i=a.replace(/\?$/,"");if(s.length===0)return n?[i,""]:[i];let o=S7(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),n&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function P$(t){t.sort((r,a)=>r.score!==a.score?a.score-r.score:M$(r.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var E$=/^:[\w-]+$/,T$=3,D$=2,I$=1,O$=10,R$=-2,P_=t=>t==="*";function L$(t,r){let a=t.split("/"),s=a.length;return a.some(P_)&&(s+=R$),r&&(s+=D$),a.filter(n=>!P_(n)).reduce((n,i)=>n+(E$.test(i)?T$:i===""?I$:O$),s)}function M$(t,r){return t.length===r.length&&t.slice(0,-1).every((s,n)=>s===r[n])?t[t.length-1]-r[r.length-1]:0}function F$(t,r,a=!1){let{routesMeta:s}=t,n={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?r:r.slice(i.length)||"/",f=xy({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!f&&d&&a&&!s[s.length-1].route.index&&(f=xy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(n,f.params),o.push({params:n,pathname:vd([i,f.pathname]),pathnameBase:V$(vd([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=vd([i,f.pathnameBase]))}return o}function xy(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,s]=$$(t.path,t.caseSensitive,t.end),n=r.match(a);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:s.reduce((d,{paramName:u,isOptional:f},p)=>{if(u==="*"){let x=l[p]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[p];return f&&!g?d[u]=void 0:d[u]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function $$(t,r=!1,a=!0){ol(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),s]}function B$(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return ol(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),t}}function Cd(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,s=t.charAt(a);return s&&s!=="/"?null:t.slice(a)||"/"}function U$(t,r="/"){let{pathname:a,search:s="",hash:n=""}=typeof t=="string"?qm(t):t;return{pathname:a?a.startsWith("/")?a:z$(a,r):r,search:H$(s),hash:W$(n)}}function z$(t,r){let a=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function bw(t,r,a,s){return`Cannot include a '${t}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function q$(t){return t.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function ZN(t){let r=q$(t);return r.map((a,s)=>s===r.length-1?a.pathname:a.pathnameBase)}function QN(t,r,a,s=!1){let n;typeof t=="string"?n=qm(t):(n={...t},Xa(!n.pathname||!n.pathname.includes("?"),bw("?","pathname","search",n)),Xa(!n.pathname||!n.pathname.includes("#"),bw("#","pathname","hash",n)),Xa(!n.search||!n.search.includes("#"),bw("#","search","hash",n)));let i=t===""||n.pathname==="",o=i?"/":n.pathname,l;if(o==null)l=a;else{let f=r.length-1;if(!s&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;n.pathname=p.join("/")}l=f>=0?r[f]:"/"}let c=U$(n,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var vd=t=>t.join("/").replace(/\/\/+/g,"/"),V$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),H$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,W$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function G$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var _7=["POST","PUT","PATCH","DELETE"];new Set(_7);var Y$=["GET",..._7];new Set(Y$);var Vm=b.createContext(null);Vm.displayName="DataRouter";var Cb=b.createContext(null);Cb.displayName="DataRouterState";b.createContext(!1);var A7=b.createContext({isTransitioning:!1});A7.displayName="ViewTransition";var K$=b.createContext(new Map);K$.displayName="Fetchers";var J$=b.createContext(null);J$.displayName="Await";var ql=b.createContext(null);ql.displayName="Navigation";var Kp=b.createContext(null);Kp.displayName="Location";var Vl=b.createContext({outlet:null,matches:[],isDataRoute:!1});Vl.displayName="Route";var ek=b.createContext(null);ek.displayName="RouteError";function X$(t,{relative:r}={}){Xa(Hm(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=b.useContext(ql),{hash:n,pathname:i,search:o}=Jp(t,{relative:r}),l=i;return a!=="/"&&(l=i==="/"?a:vd([a,i])),s.createHref({pathname:l,search:o,hash:n})}function Hm(){return b.useContext(Kp)!=null}function Ao(){return Xa(Hm(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Kp).location}var C7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P7(t){b.useContext(ql).static||b.useLayoutEffect(t)}function Gi(){let{isDataRoute:t}=b.useContext(Vl);return t?hB():Z$()}function Z$(){Xa(Hm(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Vm),{basename:r,navigator:a}=b.useContext(ql),{matches:s}=b.useContext(Vl),{pathname:n}=Ao(),i=JSON.stringify(ZN(s)),o=b.useRef(!1);return P7(()=>{o.current=!0}),b.useCallback((c,d={})=>{if(ol(o.current,C7),!o.current)return;if(typeof c=="number"){a.go(c);return}let u=QN(c,JSON.parse(i),n,d.relative==="path");t==null&&r!=="/"&&(u.pathname=u.pathname==="/"?r:vd([r,u.pathname])),(d.replace?a.replace:a.push)(u,d.state,d)},[r,a,i,n,t])}var Q$=b.createContext(null);function eB(t){let r=b.useContext(Vl).outlet;return r&&b.createElement(Q$.Provider,{value:t},r)}function Jp(t,{relative:r}={}){let{matches:a}=b.useContext(Vl),{pathname:s}=Ao(),n=JSON.stringify(ZN(a));return b.useMemo(()=>QN(t,JSON.parse(n),s,r==="path"),[t,n,s,r])}function tB(t,r){return E7(t,r)}function E7(t,r,a,s,n){Xa(Hm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(ql),{matches:o}=b.useContext(Vl),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",f=l&&l.route;{let _=f&&f.path||"";T7(d,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let p=Ao(),g;if(r){let _=typeof r=="string"?qm(r):r;Xa(u==="/"||_.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),g=_}else g=p;let x=g.pathname||"/",v=x;if(u!=="/"){let _=u.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=N7(t,{pathname:v});ol(f||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),ol(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=iB(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:vd([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:vd([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,a,s,n);return r&&j?b.createElement(Kp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},j):j}function rB(){let t=uB(),r=G$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},r),a?b.createElement("pre",{style:n},a):null,o)}var aB=b.createElement(rB,null),sB=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){this.props.unstable_onError?this.props.unstable_onError(t,r):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(Vl.Provider,{value:this.props.routeContext},b.createElement(ek.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nB({routeContext:t,match:r,children:a}){let s=b.useContext(Vm);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Vl.Provider,{value:t},a)}function iB(t,r=[],a=null,s=null,n=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(r.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,o=a?.errors;if(o!=null){let d=i.findIndex(u=>u.route.id&&o?.[u.route.id]!==void 0);Xa(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(a)for(let d=0;d<i.length;d++){let u=i[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:f,errors:p}=a,g=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,u,f)=>{let p,g=!1,x=null,v=null;a&&(p=o&&u.route.id?o[u.route.id]:void 0,x=u.route.errorElement||aB,l&&(c<0&&f===0?(T7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):c===f&&(g=!0,v=u.route.hydrateFallbackElement||null)));let w=r.concat(i.slice(0,f+1)),j=()=>{let _;return p?_=x:g?_=v:u.route.Component?_=b.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=d,b.createElement(nB,{match:u,routeContext:{outlet:d,matches:w,isDataRoute:a!=null},children:_})};return a&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?b.createElement(sB,{location:a.location,revalidation:a.revalidation,component:x,error:p,children:j(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:s}):j()},null)}function tk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oB(t){let r=b.useContext(Vm);return Xa(r,tk(t)),r}function lB(t){let r=b.useContext(Cb);return Xa(r,tk(t)),r}function cB(t){let r=b.useContext(Vl);return Xa(r,tk(t)),r}function rk(t){let r=cB(t),a=r.matches[r.matches.length-1];return Xa(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function dB(){return rk("useRouteId")}function uB(){let t=b.useContext(ek),r=lB("useRouteError"),a=rk("useRouteError");return t!==void 0?t:r.errors?.[a]}function hB(){let{router:t}=oB("useNavigate"),r=rk("useNavigate"),a=b.useRef(!1);return P7(()=>{a.current=!0}),b.useCallback(async(n,i={})=>{ol(a.current,C7),a.current&&(typeof n=="number"?t.navigate(n):await t.navigate(n,{fromRouteId:r,...i}))},[t,r])}var E_={};function T7(t,r,a){!r&&!E_[t]&&(E_[t]=!0,ol(!1,a))}b.memo(mB);function mB({routes:t,future:r,state:a,unstable_onError:s}){return E7(t,void 0,a,s,r)}function yy({to:t,replace:r,state:a,relative:s}){Xa(Hm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=b.useContext(ql);ol(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=b.useContext(Vl),{pathname:o}=Ao(),l=Gi(),c=QN(t,ZN(i),o,s==="path"),d=JSON.stringify(c);return b.useEffect(()=>{l(JSON.parse(d),{replace:r,state:a,relative:s})},[l,d,s,r,a]),null}function fB(t){return eB(t.context)}function mo(t){Xa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pB({basename:t="/",children:r=null,location:a,navigationType:s="POP",navigator:n,static:i=!1}){Xa(!Hm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:o,navigator:n,static:i,future:{}}),[o,n,i]);typeof a=="string"&&(a=qm(a));let{pathname:c="/",search:d="",hash:u="",state:f=null,key:p="default"}=a,g=b.useMemo(()=>{let x=Cd(c,o);return x==null?null:{location:{pathname:x,search:d,hash:u,state:f,key:p},navigationType:s}},[o,c,d,u,f,p,s]);return ol(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:b.createElement(ql.Provider,{value:l},b.createElement(Kp.Provider,{children:r,value:g}))}function gB({children:t,location:r}){return tB(a2(t),r)}function a2(t,r=[]){let a=[];return b.Children.forEach(t,(s,n)=>{if(!b.isValidElement(s))return;let i=[...r,n];if(s.type===b.Fragment){a.push.apply(a,a2(s.props.children,i));return}Xa(s.type===mo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xa(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=a2(s.props.children,i)),a.push(o)}),a}var Zx="get",Qx="application/x-www-form-urlencoded";function Pb(t){return t!=null&&typeof t.tagName=="string"}function xB(t){return Pb(t)&&t.tagName.toLowerCase()==="button"}function yB(t){return Pb(t)&&t.tagName.toLowerCase()==="form"}function bB(t){return Pb(t)&&t.tagName.toLowerCase()==="input"}function vB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wB(t,r){return t.button===0&&(!r||r==="_self")&&!vB(t)}function s2(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,a)=>{let s=t[a];return r.concat(Array.isArray(s)?s.map(n=>[a,n]):[[a,s]])},[]))}function jB(t,r){let a=s2(t);return r&&r.forEach((s,n)=>{a.has(n)||r.getAll(n).forEach(i=>{a.append(n,i)})}),a}var mx=null;function NB(){if(mx===null)try{new FormData(document.createElement("form"),0),mx=!1}catch{mx=!0}return mx}var kB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vw(t){return t!=null&&!kB.has(t)?(ol(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qx}"`),null):t}function SB(t,r){let a,s,n,i,o;if(yB(t)){let l=t.getAttribute("action");s=l?Cd(l,r):null,a=t.getAttribute("method")||Zx,n=vw(t.getAttribute("enctype"))||Qx,i=new FormData(t)}else if(xB(t)||bB(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(s=c?Cd(c,r):null,a=t.getAttribute("formmethod")||l.getAttribute("method")||Zx,n=vw(t.getAttribute("formenctype"))||vw(l.getAttribute("enctype"))||Qx,i=new FormData(l,t),!NB()){let{name:d,type:u,value:f}=t;if(u==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,f)}}else{if(Pb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Zx,s=null,n=Qx,o=t}return i&&n==="text/plain"&&(o=i,i=void 0),{action:s,method:a.toLowerCase(),encType:n,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ak(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function _B(t,r,a){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${a}`:r&&Cd(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function AB(t,r){if(t.id in r)return r[t.id];try{let a=await import(t.module);return r[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CB(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PB(t,r,a){let s=await Promise.all(t.map(async n=>{let i=r.routes[n.route.id];if(i){let o=await AB(i,a);return o.links?o.links():[]}return[]}));return IB(s.flat(1).filter(CB).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function T_(t,r,a,s,n,i){let o=(c,d)=>a[d]?c.route.id!==a[d].route.id:!0,l=(c,d)=>a[d].pathname!==c.pathname||a[d].route.path?.endsWith("*")&&a[d].params["*"]!==c.params["*"];return i==="assets"?r.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?r.filter((c,d)=>{let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function EB(t,r,{includeHydrateFallback:a}={}){return TB(t.map(s=>{let n=r.routes[s.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),a&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function TB(t){return[...new Set(t)]}function DB(t){let r={},a=Object.keys(t).sort();for(let s of a)r[s]=t[s];return r}function IB(t,r){let a=new Set;return new Set(r),t.reduce((s,n)=>{let i=JSON.stringify(DB(n));return a.has(i)||(a.add(i),s.push({key:i,link:n})),s},[])}function D7(){let t=b.useContext(Vm);return ak(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function OB(){let t=b.useContext(Cb);return ak(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sk=b.createContext(void 0);sk.displayName="FrameworkContext";function I7(){let t=b.useContext(sk);return ak(t,"You must render this element inside a <HydratedRouter> element"),t}function RB(t,r){let a=b.useContext(sk),[s,n]=b.useState(!1),[i,o]=b.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:f}=r,p=b.useRef(null);b.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=j=>{j.forEach(_=>{o(_.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[t]),b.useEffect(()=>{if(s){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[s]);let g=()=>{n(!0)},x=()=>{n(!1),o(!1)};return a?t!=="intent"?[i,p,{}]:[i,p,{onFocus:Rf(l,g),onBlur:Rf(c,x),onMouseEnter:Rf(d,g),onMouseLeave:Rf(u,x),onTouchStart:Rf(f,g)}]:[!1,p,{}]}function Rf(t,r){return a=>{t&&t(a),a.defaultPrevented||r(a)}}function LB({page:t,...r}){let{router:a}=D7(),s=b.useMemo(()=>N7(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?b.createElement(FB,{page:t,matches:s,...r}):null}function MB(t){let{manifest:r,routeModules:a}=I7(),[s,n]=b.useState([]);return b.useEffect(()=>{let i=!1;return PB(t,r,a).then(o=>{i||n(o)}),()=>{i=!0}},[t,r,a]),s}function FB({page:t,matches:r,...a}){let s=Ao(),{manifest:n,routeModules:i}=I7(),{basename:o}=D7(),{loaderData:l,matches:c}=OB(),d=b.useMemo(()=>T_(t,r,c,n,s,"data"),[t,r,c,n,s]),u=b.useMemo(()=>T_(t,r,c,n,s,"assets"),[t,r,c,n,s]),f=b.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let x=new Set,v=!1;if(r.forEach(j=>{let _=n.routes[j.route.id];!_||!_.hasLoader||(!d.some(S=>S.route.id===j.route.id)&&j.route.id in l&&i[j.route.id]?.shouldRevalidate||_.hasClientLoader?v=!0:x.add(j.route.id))}),x.size===0)return[];let w=_B(t,o,"data");return v&&x.size>0&&w.searchParams.set("_routes",r.filter(j=>x.has(j.route.id)).map(j=>j.route.id).join(",")),[w.pathname+w.search]},[o,l,s,n,d,r,t,i]),p=b.useMemo(()=>EB(u,n),[u,n]),g=MB(u);return b.createElement(b.Fragment,null,f.map(x=>b.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...a})),p.map(x=>b.createElement("link",{key:x,rel:"modulepreload",href:x,...a})),g.map(({key:x,link:v})=>b.createElement("link",{key:x,nonce:a.nonce,...v})))}function $B(...t){return r=>{t.forEach(a=>{typeof a=="function"?a(r):a!=null&&(a.current=r)})}}var O7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O7&&(window.__reactRouterVersion="7.8.2")}catch{}function BB({basename:t,children:r,window:a}){let s=b.useRef();s.current==null&&(s.current=k$({window:a,v5Compat:!0}));let n=s.current,[i,o]=b.useState({action:n.action,location:n.location}),l=b.useCallback(c=>{b.startTransition(()=>o(c))},[o]);return b.useLayoutEffect(()=>n.listen(l),[n,l]),b.createElement(pB,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:n})}var R7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cm=b.forwardRef(function({onClick:r,discover:a="render",prefetch:s="none",relative:n,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f,...p},g){let{basename:x}=b.useContext(ql),v=typeof d=="string"&&R7.test(d),w,j=!1;if(typeof d=="string"&&v&&(w=d,O7))try{let E=new URL(window.location.href),I=d.startsWith("//")?new URL(E.protocol+d):new URL(d),T=Cd(I.pathname,x);I.origin===E.origin&&T!=null?d=T+I.search+I.hash:j=!0}catch{ol(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=X$(d,{relative:n}),[S,N,C]=RB(s,p),D=VB(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:n,viewTransition:f});function U(E){r&&r(E),E.defaultPrevented||D(E)}let z=b.createElement("a",{...p,...C,href:w||_,onClick:j||i?r:U,ref:$B(g,N),target:c,"data-discover":!v&&a==="render"?"true":void 0});return S&&!v?b.createElement(b.Fragment,null,z,b.createElement(LB,{page:_})):z});Cm.displayName="Link";var UB=b.forwardRef(function({"aria-current":r="page",caseSensitive:a=!1,className:s="",end:n=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let f=Jp(o,{relative:d.relative}),p=Ao(),g=b.useContext(Cb),{navigator:x,basename:v}=b.useContext(ql),w=g!=null&&KB(f)&&l===!0,j=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,_=p.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(_=_.toLowerCase(),S=S?S.toLowerCase():null,j=j.toLowerCase()),S&&v&&(S=Cd(S,v)||S);const N=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let C=_===j||!n&&_.startsWith(j)&&_.charAt(N)==="/",D=S!=null&&(S===j||!n&&S.startsWith(j)&&S.charAt(j.length)==="/"),U={isActive:C,isPending:D,isTransitioning:w},z=C?r:void 0,E;typeof s=="function"?E=s(U):E=[s,C?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(U):i;return b.createElement(Cm,{...d,"aria-current":z,className:E,ref:u,style:I,to:o,viewTransition:l},typeof c=="function"?c(U):c)});UB.displayName="NavLink";var zB=b.forwardRef(({discover:t="render",fetcherKey:r,navigate:a,reloadDocument:s,replace:n,state:i,method:o=Zx,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:f,...p},g)=>{let x=GB(),v=YB(l,{relative:d}),w=o.toLowerCase()==="get"?"get":"post",j=typeof l=="string"&&R7.test(l),_=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let N=S.nativeEvent.submitter,C=N?.getAttribute("formmethod")||o;x(N||S.currentTarget,{fetcherKey:r,method:C,navigate:a,replace:n,state:i,relative:d,preventScrollReset:u,viewTransition:f})};return b.createElement("form",{ref:g,method:w,action:v,onSubmit:s?c:_,...p,"data-discover":!j&&t==="render"?"true":void 0})});zB.displayName="Form";function qB(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L7(t){let r=b.useContext(Vm);return Xa(r,qB(t)),r}function VB(t,{target:r,replace:a,state:s,preventScrollReset:n,relative:i,viewTransition:o}={}){let l=Gi(),c=Ao(),d=Jp(t,{relative:i});return b.useCallback(u=>{if(wB(u,r)){u.preventDefault();let f=a!==void 0?a:Np(c)===Np(d);l(t,{replace:f,state:s,preventScrollReset:n,relative:i,viewTransition:o})}},[c,l,d,a,s,r,t,n,i,o])}function M7(t){ol(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=b.useRef(s2(t)),a=b.useRef(!1),s=Ao(),n=b.useMemo(()=>jB(s.search,a.current?null:r.current),[s.search]),i=Gi(),o=b.useCallback((l,c)=>{const d=s2(typeof l=="function"?l(new URLSearchParams(n)):l);a.current=!0,i("?"+d,c)},[i,n]);return[n,o]}var HB=0,WB=()=>`__${String(++HB)}__`;function GB(){let{router:t}=L7("useSubmit"),{basename:r}=b.useContext(ql),a=dB();return b.useCallback(async(s,n={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=SB(s,r);if(n.navigate===!1){let u=n.fetcherKey||WB();await t.fetch(u,a,n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||o,formEncType:n.encType||l,flushSync:n.flushSync})}else await t.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:c,body:d,formMethod:n.method||o,formEncType:n.encType||l,replace:n.replace,state:n.state,fromRouteId:a,flushSync:n.flushSync,viewTransition:n.viewTransition})},[t,r,a])}function YB(t,{relative:r}={}){let{basename:a}=b.useContext(ql),s=b.useContext(Vl);Xa(s,"useFormAction must be used inside a RouteContext");let[n]=s.matches.slice(-1),i={...Jp(t||".",{relative:r})},o=Ao();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let u=l.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:vd([a,i.pathname])),Np(i)}function KB(t,{relative:r}={}){let a=b.useContext(A7);Xa(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=L7("useViewTransitionState"),n=Jp(t,{relative:r});if(!a.isTransitioning)return!1;let i=Cd(a.currentLocation.pathname,s)||a.currentLocation.pathname,o=Cd(a.nextLocation.pathname,s)||a.nextLocation.pathname;return xy(n.pathname,o)!=null||xy(n.pathname,i)!=null}var _a=j7();/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XB=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,s)=>s?s.toUpperCase():a.toLowerCase()),D_=t=>{const r=XB(t);return r.charAt(0).toUpperCase()+r.slice(1)},F7=(...t)=>t.filter((r,a,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===a).join(" ").trim(),ZB=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=b.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:n="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...QB,width:r,height:r,stroke:t,strokeWidth:s?Number(a)*24/Number(r):a,className:F7("lucide",n),...!i&&!ZB(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>b.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(t,r)=>{const a=b.forwardRef(({className:s,...n},i)=>b.createElement(eU,{ref:i,iconNode:r,className:F7(`lucide-${JB(D_(t))}`,`lucide-${t}`,s),...n}));return a.displayName=D_(t),a};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Nc=At("activity",tU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],kp=At("archive",rU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],sU=At("arrow-down-right",aU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],Eb=At("arrow-down-wide-narrow",nU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],$7=At("arrow-down",iU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Xp=At("arrow-left",oU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Zp=At("arrow-right",lU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],dU=At("arrow-up-down",cU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],Tb=At("arrow-up-narrow-wide",uU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],mU=At("arrow-up-right",hU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],B7=At("arrow-up",fU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ba=At("award",pU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fx=At("ban",gU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qu=At("bell",xU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yo=At("book-open",yU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ww=At("briefcase",bU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],wU=At("building-2",vU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],n2=At("building",jU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Rr=At("calendar",NU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],nl=At("chart-column",kU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],by=At("chart-pie",SU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],AU=At("check-check",_U);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],U7=At("check",CU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zi=At("chevron-down",PU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Qp=At("chevron-left",EU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xu=At("chevron-right",TU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wd=At("chevron-up",DU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qt=At("circle-alert",IU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jt=At("circle-check-big",OU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vy=At("circle-check",RU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],z7=At("circle-question-mark",LU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mr=At("circle-x",MU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],$U=At("clipboard-check",FU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Z0=At("clipboard-list",BU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],I_=At("clipboard",UU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lr=At("clock",zU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],px=At("cloud-upload",qU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],nk=At("database",VU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ra=At("download",HU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],GU=At("ellipsis-vertical",WU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],KU=At("ellipsis",YU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],hh=At("external-link",JU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ai=At("eye-off",XU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Or=At("eye",ZU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],eg=At("file-chart-column-increasing",QU);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Fu=At("file-check",ez);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Kt=At("file-text",tz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],az=At("file-x",rz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],O_=At("flag",sz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Yi=At("funnel",nz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],oz=At("gift",iz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],q7=At("globe",lz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],rn=At("graduation-cap",cz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],jh=At("grid-3x3",dz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],Sp=At("hand-coins",uz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],mz=At("hash",hz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],i2=At("heart",fz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],gz=At("history",pz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],yz=At("hourglass",xz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],V7=At("house",bz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Pd=At("info",vz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$0=At("layout-dashboard",wz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Nz=At("library",jz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Sz=At("lightbulb",kz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ik=At("link",_z);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],jd=At("list",Az);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],za=At("loader-circle",Cz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ml=At("lock",Pz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],R_=At("log-in",Ez);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Db=At("log-out",Tz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ll=At("mail",Dz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bi=At("map-pin",Iz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],H7=At("menu",Oz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],L_=At("message-circle",Rz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ok=At("message-square",Lz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M5 12h14",key:"1ays0h"}]],lk=At("minus",Mz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$z=At("pen-line",Fz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M20 11H4",key:"6ut86h"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"M7 21V4a1 1 0 0 1 1-1h4a1 1 0 0 1 0 12H7",key:"1ana5r"}]],va=At("philippine-peso",Bz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],qi=At("phone",Uz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gi=At("plus",zz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Vz=At("printer",qz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Nr=At("refresh-cw",Hz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],o2=At("rotate-ccw",Wz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tg=At("save",Gz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Dn=At("school",Yz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ls=At("search",Kz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Nd=At("send",Jz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rl=At("settings",Xz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ey=At("shield-check",Zz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ns=At("shield",Qz);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],tq=At("sliders-vertical",eq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ty=At("sparkles",rq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wm=At("square-check-big",aq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ko=At("square-pen",sq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],sp=At("square",nq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ls=At("star",iq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],W7=At("target",oq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bn=At("trash-2",lq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],ck=At("trending-down",cq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Hs=At("trending-up",dq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Br=At("triangle-alert",uq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],cl=At("upload",hq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kd=At("user-check",mq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],jm=At("user-plus",fq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],l2=At("user-x",pq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hr=At("user",gq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wr=At("users",xq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Mi=At("video",yq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],mh=At("wallet",bq);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dr=At("x",vq),M_=t=>{let r;const a=new Set,s=(d,u)=>{const f=typeof d=="function"?d(r):d;if(!Object.is(f,r)){const p=r;r=u??(typeof f!="object"||f===null)?f:Object.assign({},r,f),a.forEach(g=>g(r,p))}},n=()=>r,l={setState:s,getState:n,getInitialState:()=>c,subscribe:d=>(a.add(d),()=>a.delete(d))},c=r=t(s,n,l);return l},wq=(t=>t?M_(t):M_),jq=t=>t;function Nq(t,r=jq){const a=gt.useSyncExternalStore(t.subscribe,gt.useCallback(()=>r(t.getState()),[t,r]),gt.useCallback(()=>r(t.getInitialState()),[t,r]));return gt.useDebugValue(a),a}const F_=t=>{const r=wq(t),a=s=>Nq(r,s);return Object.assign(a,r),a},kq=(t=>t?F_(t):F_),Et={AUTH_SERVICE:{BASE_URL:"https://auth-educ.goserveph.com",ENDPOINTS:{LOGIN:"/api/login",LOGOUT:"/api/logout",USER:"/api/user",HEALTH:"/api/health"}},SCHOLARSHIP_SERVICE:{BASE_URL:"https://scholarship-educ.goserveph.com",ENDPOINTS:{HEALTH:"/api/health",PUBLIC_SCHOOLS:"/api/public/schools",PUBLIC_SCHOLARSHIP_CATEGORIES:"/api/public/scholarship-categories",PUBLIC_DOCUMENT_TYPES:"/api/public/document-types",PUBLIC_REQUIRED_DOCUMENTS:"/api/public/required-documents",STUDENTS:"/api/students",STUDENT:t=>`/api/students/${t}`,STUDENT_RESTORE:t=>`/api/students/${t}/restore`,STUDENT_FORCE_DELETE:t=>`/api/students/${t}/force-delete`,APPLICATIONS:"/api/applications",APPLICATION:t=>`/api/applications/${t}`,APPLICATION_SUBMIT:t=>`/api/applications/${t}/submit`,APPLICATION_APPROVE:t=>`/api/applications/${t}/approve`,APPLICATION_REJECT:t=>`/api/applications/${t}/reject`,APPLICATION_REVIEW:t=>`/api/applications/${t}/review`,APPLICATION_COMPLIANCE:t=>`/api/applications/${t}/compliance`,DOCUMENTS:"/api/documents",DOCUMENT:t=>`/api/documents/${t}`,DOCUMENT_VIEW:t=>`/api/documents/${t}/view`,DOCUMENT_DOWNLOAD:t=>`/api/documents/${t}/download`,DOCUMENT_VERIFY:t=>`/api/documents/${t}/verify`,DOCUMENT_REJECT:t=>`/api/documents/${t}/reject`,VIRUS_SCAN:{STATISTICS:"/api/virus-scan/statistics",LOGS:"/api/virus-scan/logs",QUARANTINE:"/api/virus-scan/quarantine",QUARANTINE_REVIEW:t=>`/api/virus-scan/quarantine/${t}/review`,QUARANTINE_DELETE:t=>`/api/virus-scan/quarantine/${t}`},SCHOOLS:"/api/schools",SCHOOL:t=>`/api/schools/${t}`,SCHOLARSHIP_CATEGORIES:"/api/scholarship-categories",SCHOLARSHIP_CATEGORY:t=>`/api/scholarship-categories/${t}`,SCHOLARSHIP_SUBCATEGORIES:"/api/scholarship-subcategories",SCHOLARSHIP_SUBCATEGORY:t=>`/api/scholarship-subcategories/${t}`,ACADEMIC_PERIODS:"/api/academic-periods",ACADEMIC_PERIOD:t=>`/api/academic-periods/${t}`,FORM_NEW_APPLICATION:"/api/forms/new-application",FORM_RENEWAL_APPLICATION:"/api/forms/renewal-application",FORM_UPLOAD_DOCUMENT:"/api/forms/upload-document",FORM_APPLICATION_DATA:t=>`/api/forms/application/${t}/data`,FORM_STUDENT_DATA:t=>`/api/forms/student/${t}/data`,STATS_OVERVIEW:"/api/stats/overview",STATS_APPLICATIONS_BY_STATUS:"/api/stats/applications/by-status",STATS_APPLICATIONS_BY_TYPE:"/api/stats/applications/by-type",STATS_APPLICATIONS_BY_SUBCATEGORY:"/api/stats/applications/by-subcategory",INTERVIEW_SCHEDULES:"/api/interview-schedules",INTERVIEW_SCHEDULE:t=>`/api/interview-schedules/${t}`,INTERVIEW_SCHEDULE_RESCHEDULE:t=>`/api/interview-schedules/${t}/reschedule`,INTERVIEW_SCHEDULE_COMPLETE:t=>`/api/interview-schedules/${t}/complete`,INTERVIEW_SCHEDULE_CANCEL:t=>`/api/interview-schedules/${t}/cancel`,INTERVIEW_SCHEDULE_NO_SHOW:t=>`/api/interview-schedules/${t}/no-show`,INTERVIEW_AVAILABLE_SLOTS:"/api/interview-schedules/available-slots",INTERVIEW_CALENDAR:"/api/interview-schedules/calendar",APPLICATION_APPROVE_VERIFICATION:t=>`/api/applications/${t}/approve-for-verification`,APPLICATION_VERIFY_ENROLLMENT:t=>`/api/applications/${t}/verify-enrollment`,APPLICATION_SCHEDULE_INTERVIEW:t=>`/api/applications/${t}/schedule-interview`,APPLICATION_SCHEDULE_INTERVIEW_AUTO:t=>`/api/applications/${t}/schedule-interview-auto`,APPLICATION_COMPLETE_INTERVIEW:t=>`/api/applications/${t}/complete-interview`}},AID_SERVICE:{BASE_URL:"https://aid-educ.goserveph.com",ENDPOINTS:{HEALTH:"/api/health",APPLICATIONS:"/api/school-aid/applications",APPLICATION_STATUS:t=>`/api/school-aid/applications/${t}/status`,APPLICATION_PROCESS_GRANT:t=>`/api/school-aid/applications/${t}/process-grant`,APPLICATIONS_BATCH_UPDATE:"/api/school-aid/applications/batch-update",PAYMENTS:"/api/school-aid/payments",PAYMENT_PROCESS:"/api/school-aid/payments/process",PAYMENT_RETRY:t=>`/api/school-aid/payments/${t}/retry`,METRICS:"/api/school-aid/metrics",ANALYTICS:t=>`/api/school-aid/analytics/${t}`,SETTINGS:"/api/school-aid/settings",SETTINGS_TEST:t=>`/api/school-aid/settings/test/${t}`}},MONITORING_SERVICE:{BASE_URL:"https://monitoring-educ.goserveph.com",ENDPOINTS:{HEALTH:"/api/health",DASHBOARD:"/api/analytics/dashboard",APPLICATION_TRENDS:(t=30)=>`/api/analytics/applications/trends?days=${t}`,FINANCIAL_TRENDS:(t=30,r)=>{const a=new URLSearchParams({days:t.toString()});return r&&a.append("school_year",r),`/api/analytics/financial/trends?${a}`},SSC_REVIEW_TRENDS:(t=14)=>`/api/analytics/ssc/trends?days=${t}`,INTERVIEW_TRENDS:(t=30)=>`/api/analytics/interviews/trends?days=${t}`,DEMOGRAPHICS_TRENDS:(t=30)=>`/api/analytics/demographics/trends?days=${t}`,ALERTS:"/api/analytics/alerts",ALERT_ACKNOWLEDGE:t=>`/api/analytics/alerts/${t}/acknowledge`,SYSTEM_OVERVIEW:"/api/analytics/system-overview",FILTER_OPTIONS:"/api/analytics/filter-options",AI_INSIGHTS:"/api/analytics/ai/insights",AI_STATUS:"/api/analytics/ai/status",ENROLLMENT_TRENDS:"/api/analytics/enrollment-trends",PERFORMANCE_DISTRIBUTION:"/api/analytics/performance-distribution",ACADEMIC_PERFORMANCE:"/api/analytics/academic-performance"}},GOOGLE_OAUTH:{CLIENT_ID:"1044028689156-jj8d7vm6uskuc08cqeohcoe84fmp69sn.apps.googleusercontent.com",SCOPES:"email profile openid",RESPONSE_TYPE:"code",ACCESS_TYPE:"offline",PROMPT:"consent"}},fh=t=>`${Et.AUTH_SERVICE.BASE_URL}${t}`,bo=t=>`${Et.SCHOLARSHIP_SERVICE.BASE_URL}${t}`,_p=t=>`${Et.MONITORING_SERVICE.BASE_URL}${t}`,ku=`${Et.AUTH_SERVICE.BASE_URL}/api`,dk=t=>{const r=[t.first_name];return t.middle_name&&r.push(t.middle_name),r.push(t.last_name),t.extension_name&&r.push(t.extension_name),r.join(" ")},_r=kq((t,r)=>({currentUser:null,token:localStorage.getItem("auth_token"),error:null,additionalInfo:null,isLoading:!0,isLoggingOut:!1,sessionDuration:null,setSessionDuration:a=>t({sessionDuration:a}),initializeAuth:async()=>{const a=localStorage.getItem("auth_token");if(!a){t({isLoading:!1});return}const s=localStorage.getItem("user_data");let n=null;if(s)try{n=JSON.parse(s)}catch(i){console.warn("Failed to parse stored user data:",i)}try{console.log(" Fetching user data from:",`${ku}/user`);const o=await(await fetch(`${ku}/user`,{headers:{Authorization:`Bearer ${a}`,Accept:"application/json"}})).json();if(console.log(" User API response:",o),o.success){const l={id:String(o.data.user.id),citizen_id:o.data.user.citizen_id??"",email:o.data.user.email,first_name:o.data.user.first_name,last_name:o.data.user.last_name,middle_name:o.data.user.middle_name,extension_name:o.data.user.extension_name,mobile:o.data.user.mobile,birthdate:o.data.user.birthdate,address:o.data.user.address,house_number:o.data.user.house_number,street:o.data.user.street,barangay:o.data.user.barangay,role:o.data.user.role,system_role:o.data.user.system_role||n?.system_role,department:o.data.user.department||n?.department,position:o.data.user.position||n?.position,is_active:o.data.user.is_active};localStorage.setItem("user_data",JSON.stringify(l)),t({currentUser:l,token:a,isLoading:!1})}else n?t({currentUser:n,token:a,isLoading:!1}):(localStorage.removeItem("auth_token"),t({currentUser:null,token:null,isLoading:!1}))}catch{n?t({currentUser:n,token:a,isLoading:!1}):(localStorage.removeItem("auth_token"),t({currentUser:null,token:null,isLoading:!1}))}},login:async(a,s,n)=>{try{const i=await fetch(`${ku}/gsm/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:a,password:s,captcha_token:n})}),o=await i.json();if(!i.ok){let l=o.message||"Login failed";return o.warning&&(l=`${l} (${o.warning})`),t({error:l}),!1}if(o.success){if(o.data.requires_otp)return t({error:`OTP_REQUIRED|${o.data.email}`,isLoading:!1}),!1;const{user:l,token:c}=o.data,d={id:String(l.id),citizen_id:l.citizen_id??"",email:l.email,first_name:l.first_name,last_name:l.last_name,middle_name:l.middle_name,extension_name:l.extension_name,mobile:l.mobile,birthdate:l.birthdate,address:l.address,house_number:l.house_number,street:l.street,barangay:l.barangay,role:l.role,system_role:l.system_role,department:l.department,position:l.position,is_active:l.status==="active"};return localStorage.setItem("user_data",JSON.stringify(d)),t({currentUser:d,token:c,error:null}),localStorage.setItem("auth_token",c),!0}else return t({error:o.message||"Login failed"}),!1}catch{return t({error:"Network error. Please try again."}),!1}},register:async(a,s)=>{t({isLoading:!0,error:null});try{console.log("Sending registration data to API:",a);const n=await fetch(`${ku}/register`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({...a,confirmPassword:a.confirmPassword,captcha_token:s})}),i=await n.json();if(console.log("Registration API response:",{status:n.status,data:i}),n.status===422&&i.errors&&console.log("Validation errors:",i.errors),!n.ok){if(n.status===422&&i.errors){const o=Object.values(i.errors).flat();t({error:o.join(", ")})}else t({error:i.message||"Registration failed"});return!1}if(i.success)if(i.data.token&&i.data.user){const{user:o,token:l}=i.data,c={id:String(o.id),citizen_id:o.citizen_id??"",email:o.email,first_name:o.first_name,last_name:o.last_name,middle_name:o.middle_name,extension_name:o.extension_name,mobile:o.mobile,birthdate:o.birthdate,address:o.address,house_number:o.house_number,street:o.street,barangay:o.barangay,role:o.role,system_role:o.system_role,department:o.department,position:o.position,is_active:o.status==="active"};return localStorage.setItem("user_data",JSON.stringify(c)),t({currentUser:c,token:l,error:null}),localStorage.setItem("auth_token",l),window.dispatchEvent(new CustomEvent("userRegistered")),!0}else return t({error:null}),window.dispatchEvent(new CustomEvent("userRegistered")),!0;else return t({error:i.message||"Registration failed"}),!1}catch(n){return console.error("Registration error:",n),t({error:"Network error. Please try again."}),!1}finally{t({isLoading:!1})}},googleLogin:async(a,s)=>{t({isLoading:!0,error:null});try{console.log("Sending Google OAuth code to API:",a);const n=await fetch(`${ku}/auth/google`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({code:a,captcha_token:s})}),i=await n.json();if(console.log("Google OAuth API response:",{status:n.status,data:i}),n.status===404&&i?.code==="NOT_REGISTERED"){const o=i?.email||"",l=i?.first_name||"",c=i?.last_name||"",d=i?.additional_info||{};return t({error:`NOT_REGISTERED|${o}|${l}|${c}`,additionalInfo:d}),!1}if(!n.ok)return t({error:i.message||"Google login failed"}),!1;if(i.success){const{user:o,token:l}=i.data;return t({currentUser:{id:String(o.id),citizen_id:o.citizen_id??"",email:o.email,first_name:o.first_name,last_name:o.last_name,middle_name:o.middle_name,extension_name:o.extension_name,mobile:o.mobile,birthdate:o.birthdate,address:o.address,house_number:o.house_number,street:o.street,barangay:o.barangay,role:o.role,is_active:!0},token:l,error:null}),localStorage.setItem("auth_token",l),!0}else return t({error:i.message||"Google login failed"}),!1}catch(n){return console.error("Google OAuth error:",n),t({error:"Network error. Please try again."}),!1}finally{t({isLoading:!1})}},googleRegister:async(a,s,n)=>{t({isLoading:!0,error:null});try{console.log("Sending Google registration data to API:",{code:a,additionalData:s});const i=await fetch(`${ku}/register/google`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({code:a,...s,captcha_token:n})}),o=await i.json();if(console.log("Google registration API response:",{status:i.status,data:o}),!i.ok)return t({error:o.message||"Google registration failed"}),!1;if(o.success){const{user:l,token:c}=o.data;return t({currentUser:{id:String(l.id),citizen_id:l.citizen_id??"",email:l.email,first_name:l.first_name,last_name:l.last_name,middle_name:l.middle_name,extension_name:l.extension_name,mobile:l.mobile,birthdate:l.birthdate,address:l.address,house_number:l.house_number,street:l.street,barangay:l.barangay,role:l.role,is_active:!0},token:c,error:null}),localStorage.setItem("auth_token",c),!0}else return t({error:o.message||"Google registration failed"}),!1}catch(i){return console.error("Google registration error:",i),t({error:"Network error. Please try again."}),!1}finally{t({isLoading:!1})}},loginWithOtp:async(a,s)=>{t({isLoading:!0,error:null});try{const n=await fetch(`${ku}/gsm/login-with-otp`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:a,otp_code:s})}),i=await n.json();if(!n.ok)return t({error:i.message||"OTP verification failed"}),!1;if(i.success){const{user:o,token:l}=i.data,c={id:String(o.id),citizen_id:o.citizen_id??"",email:o.email,first_name:o.first_name,last_name:o.last_name,middle_name:o.middle_name,extension_name:o.extension_name,mobile:o.mobile,birthdate:o.birthdate,address:o.address,house_number:o.house_number,street:o.street,barangay:o.barangay,role:o.role,system_role:o.system_role,department:o.department,position:o.position,is_active:o.is_active};return localStorage.setItem("user_data",JSON.stringify(c)),t({currentUser:c,token:l,error:null}),localStorage.setItem("auth_token",l),!0}else return t({error:i.message||"OTP verification failed"}),!1}catch(n){return console.error("OTP verification error:",n),t({error:"Network error. Please try again."}),!1}finally{t({isLoading:!1})}},logout:async()=>{t({isLoggingOut:!0});const{token:a}=r();if(a)try{await fetch(`${ku}/logout`,{method:"POST",headers:{Authorization:`Bearer ${a}`,Accept:"application/json"}})}catch{}localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),t({currentUser:null,token:null,error:null,isLoggingOut:!1})},clearError:()=>t({error:null,additionalInfo:null}),updateCurrentUser:a=>{const{currentUser:s}=r();if(s){const n={...s,...a};t({currentUser:n}),localStorage.setItem("user_data",JSON.stringify(n))}}}));typeof window<"u"&&_r.getState().initializeAuth();const Sq=()=>{const t=_r(f=>f.currentUser),r=_r(f=>f.logout),a=_r(f=>f.isLoggingOut),s=Gi(),n=Ao(),[i,o]=b.useState(!1),l=b.useRef(null),c=async()=>{await r(),s("/",{replace:!0})},d=()=>{window.history.length>1?s(-1):s("/portal")},u=n.pathname==="/portal";return b.useEffect(()=>{const f=p=>{l.current&&!l.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),e.jsx("nav",{className:"bg-white shadow-lg sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:d,disabled:u,className:`flex items-center justify-center w-10 h-10 rounded-full transition-colors duration-200 ${u?"bg-gray-50 text-gray-300 cursor-not-allowed":"bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800"}`,title:u?"Already on main page":"Go back",children:e.jsx(Xp,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rn,{className:"h-8 w-8 text-orange-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"GoServePH"}),e.jsx("br",{}),e.jsx("span",{className:"text-sm text-orange-500 -mt-1 block",children:"Scholarship Portal"})]})]})]}),e.jsx("div",{className:"flex items-center",children:t?e.jsxs("div",{className:"relative",ref:l,children:[e.jsxs("button",{onClick:()=>o(!i),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none",children:[e.jsx("span",{className:"text-sm",children:"Logged in as:"}),e.jsx("span",{className:"text-sm font-medium text-orange-500",children:t?dk(t):""}),e.jsx(zi,{className:"h-4 w-4 text-gray-900"})]}),i&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50",children:e.jsxs("button",{onClick:c,disabled:a,className:"flex items-center w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-red-50 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Db,{className:"h-4 w-4 mr-2"}),a?"Logging out...":"Log Out"]})})]}):e.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."})})]})})})},_q=()=>e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(bi,{className:"h-5 w-5 text-orange-400 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-gray-300",children:["Caloocan City Hall",e.jsx("br",{}),"A. Mabini Street, Poblacion",e.jsx("br",{}),"Caloocan City, Metro Manila"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(qi,{className:"h-5 w-5 text-orange-400 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-300",children:"(02) 8961-1111"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ll,{className:"h-5 w-5 text-orange-400 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-300",children:"scholarship@caloocan.gov.ph"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Office Hours"}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(lr,{className:"h-5 w-5 text-orange-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-gray-300",children:[e.jsx("p",{children:"Monday - Friday"}),e.jsx("p",{children:"8:00 AM - 5:00 PM"}),e.jsx("p",{className:"mt-2",children:"Saturday"}),e.jsx("p",{children:"8:00 AM - 12:00 PM"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-sm text-gray-300 hover:text-orange-400 transition-colors duration-200",children:"Application Guidelines"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-sm text-gray-300 hover:text-orange-400 transition-colors duration-200",children:"FAQs"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-sm text-gray-300 hover:text-orange-400 transition-colors duration-200",children:"Contact Support"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Important Notice"}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2",children:[e.jsx("p",{children:"Application deadline varies by scholarship type."}),e.jsx("p",{children:"Ensure all information is accurate before submission."}),e.jsx("p",{className:"text-orange-400 font-medium",children:"No processing fees required."})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," City Government of Caloocan. All rights reserved."]})})]})}),jw={name:"JironAI",avatar:"/jiron.jpg"},Wo=24,Aq=()=>{const[t,r]=b.useState(!1),[a,s]=b.useState(!1),[n,i]=b.useState(!1),[o,l]=b.useState([{sender:"bot",text:" Hi! Im JironAI, your smart assistant. Just type your question below, and Ill do my best to help you! ",time:new Date}]),[c,d]=b.useState(""),[u,f]=b.useState(!1),p=b.useRef(Date.now().toString()),[g,x]=b.useState({x:null,y:null,edge:"bottom-right"}),v=b.useRef(null),w=b.useRef(!1),j=b.useRef({x:0,y:0}),_=b.useRef(null);b.useEffect(()=>{if(t)return;const F=setInterval(()=>{i(!0),setTimeout(()=>i(!1),2500)},7e3);return()=>clearInterval(F)},[t]);const S=async F=>{if(F.preventDefault(),!c.trim())return;const Y={sender:"user",text:c,time:new Date};l(O=>[...O,Y]),f(!0);try{const q=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"/api/chat":`${window.location.protocol}//${window.location.hostname}/GSM/api/chat_proxy.php`,K=await(await fetch(q,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:c,sessionId:p.current})})).json();l(J=>[...J,{sender:"bot",text:K.reply,time:new Date}])}catch(O){console.error("Chat API error:",O),l(q=>[...q,{sender:"bot",text:"Sorry, something went wrong.",time:new Date}])}d(""),f(!1)},N=F=>{F.preventDefault(),F.stopPropagation(),w.current=!0,v.current?.getBoundingClientRect();const Y=g.x??window.innerWidth-Wo-56,O=g.y??window.innerHeight-Wo-56;j.current={x:F.clientX-Y,y:F.clientY-O},document.addEventListener("mousemove",C),document.addEventListener("mouseup",U),document.body.style.userSelect="none"},C=F=>{if(!w.current)return;const Y=F.clientX-j.current.x,O=F.clientY-j.current.y,q=Math.max(0,Math.min(Y,window.innerWidth-56)),$=Math.max(0,Math.min(O,window.innerHeight-56));x({x:q,y:$,edge:null})},D=(F,Y)=>{const O=window.innerWidth,q=window.innerHeight,$=56,K=Y,J=q-Y-$,X=F,be=O-F-$,te=Math.min(K,J,X,be);let R=F,ae=Y,W="";return te===K?(ae=Wo,W="top"):te===J?(ae=q-$-Wo,W="bottom"):te===X?(R=Wo,W="left"):(R=O-$-Wo,W="right"),(W==="top"||W==="bottom")&&(R=Math.max(Wo,Math.min(F,O-$-Wo))),(W==="left"||W==="right")&&(ae=Math.max(Wo,Math.min(Y,q-$-Wo))),{x:R,y:ae,edge:W}},U=()=>{w.current&&(w.current=!1,document.body.style.userSelect="",document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",U))},z=()=>{r(!1),s(!1)};b.useEffect(()=>{const F=Y=>{t&&!a&&_.current&&!_.current.contains(Y.target)&&z()};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[t,a]),b.useEffect(()=>{const F=Y=>{Y.key==="Escape"&&t&&z()};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[t]),b.useEffect(()=>{if(t&&!a)x({x:null,y:null,edge:"bottom-right"});else if(!t&&g.x!==null&&g.y!==null){const F=D(g.x,g.y);x(F)}},[t,a]);const E=g.x!==null&&g.y!==null?{left:g.x,top:g.y,position:"fixed",zIndex:50,transition:w.current?"none":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}:{right:Wo,bottom:Wo,position:"fixed",zIndex:50,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},I=`
    fixed left-1/2 top-1/2 z-50 transition-all duration-300
    ${t&&!a?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}
  `,T={transform:"translate(-50%, -50%)",width:370,maxWidth:"90vw"};return e.jsxs(e.Fragment,{children:[(!t||a)&&e.jsxs("button",{"aria-label":"Open Chatbot",ref:v,style:E,className:"bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg w-14 h-14 flex items-center justify-center transition-transform duration-200 active:scale-90",onClick:()=>{r(!0),s(!1)},onMouseDown:N,children:[n&&e.jsx("span",{className:"absolute -top-10 right-1/2 translate-x-1/2 bg-orange-500 text-white text-xs px-3 py-1 rounded shadow-md animate-bounce whitespace-nowrap pointer-events-none",children:"Need Help?"}),e.jsx(L_,{className:"w-7 h-7"})]}),e.jsx("div",{ref:_,className:I,style:T,children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl overflow-hidden border border-orange-200",style:{minHeight:a?56:480,height:a?56:480},children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-3 bg-orange-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:jw.avatar,alt:jw.name,className:"w-7 h-7 rounded-full border-2 border-white"}),e.jsx("span",{className:"font-semibold text-white text-lg",children:jw.name})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{"aria-label":a?"Maximize Chat":"Minimize Chat",className:"text-white hover:text-orange-200",onClick:()=>s(F=>!F),children:a?e.jsx(L_,{className:"w-5 h-5"}):e.jsx(lk,{className:"w-5 h-5"})})})]}),!a&&e.jsxs("div",{className:"w-full h-[424px] bg-[#fff7ed] flex flex-col",children:[e.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",style:{maxHeight:340},children:[o.map((F,Y)=>e.jsx("div",{className:`mb-2 flex ${F.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`px-3 py-2 rounded-lg text-sm ${F.sender==="user"?"bg-orange-200":"bg-gray-100"}`,children:[e.jsx("div",{children:F.text}),e.jsx("div",{className:"text-xs text-gray-400 mt-1 text-right",children:F.time&&new Date(F.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},Y)),u&&e.jsx("div",{className:"mb-2 flex justify-start",children:e.jsx("span",{className:"px-3 py-2 rounded-lg text-sm bg-gray-100",children:"..."})})]}),e.jsxs("form",{onSubmit:S,className:"flex border-t px-2 py-2",children:[e.jsx("input",{className:"flex-1 px-2 py-1 rounded border mr-2",value:c,onChange:F=>d(F.target.value),placeholder:"Type your message...",disabled:u}),e.jsx("button",{type:"submit",className:"bg-orange-500 text-white px-4 py-1 rounded",disabled:u,children:"Send"})]})]})]})})]})},Cq=({children:t})=>{const a=!Ao().pathname.includes("/scholarship-dashboard");return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(Sq,{}),e.jsx("main",{className:"flex-1",children:t}),a&&e.jsx(_q,{}),e.jsx(Aq,{})]})},Pq=({children:t})=>{const r=_r(o=>o.currentUser),a=_r(o=>o.isLoading),[s,n]=b.useState(!1);if(b.useEffect(()=>{const o=setTimeout(()=>n(!0),1200);return()=>clearTimeout(o)},[]),a||!s||!r)return a||!s?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx("img",{src:"/splash.svg",alt:"Loading",className:"splash-logo"})}):e.jsx(yy,{to:"/",replace:!0});const i=r.role;return i==="admin"||i==="staff"||String(i).startsWith("ssc")?e.jsx(yy,{to:"/admin",replace:!0}):e.jsx(e.Fragment,{children:t})},Es=({variant:t="primary",size:r="md",loading:a=!1,children:s,className:n="",disabled:i,...o})=>{const l="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",c={primary:"bg-primary-500 hover:bg-primary-600 text-white focus:ring-primary-500 disabled:bg-primary-300",secondary:"bg-secondary-500 hover:bg-secondary-600 text-white focus:ring-secondary-500 disabled:bg-secondary-300",outline:"border-2 border-primary-500 text-primary-600 hover:bg-primary-50 focus:ring-primary-500 disabled:border-primary-300 disabled:text-primary-300",ghost:"text-primary-600 hover:bg-primary-50 focus:ring-primary-500 disabled:text-primary-300"},d={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return e.jsxs("button",{className:`${l} ${c[t]} ${d[r]} ${n}`,disabled:i||a,...o,children:[a&&e.jsx(za,{className:"w-4 h-4 mr-2 animate-spin"}),s]})},Eq=({isOpen:t,onClose:r})=>{if(!t)return null;const a=[{id:1,title:"Academic Year 2024-2025 Applications Now Open",date:"January 15, 2024",content:"The Caloocan City Scholarship Program is now accepting applications for the Academic Year 2024-2025. Submit your applications before the deadline."},{id:2,title:"New Scholarship Categories Available",date:"January 10, 2024",content:"We have added new scholarship categories for Technical and Vocational courses. Check the updated guidelines for eligibility requirements."},{id:3,title:"Document Submission Guidelines Updated",date:"January 5, 2024",content:"Please review the updated document requirements. Some documents now require notarization. Check the application form for details."}],s=[{program:"Undergraduate Scholarship",deadline:"March 31, 2024",status:"Open"},{program:"Graduate Scholarship",deadline:"April 15, 2024",status:"Open"},{program:"Technical/Vocational",deadline:"May 30, 2024",status:"Open"},{program:"Special Programs",deadline:"June 15, 2024",status:"Open"}],n=[{name:"Dr. Maria Santos",position:"Scholarship Program Director",phone:"(02) 8961-1111",email:"maria.santos@caloocan.gov.ph",office:"Room 201, City Hall Building"},{name:"Mr. Juan Dela Cruz",position:"Senior Scholarship Coordinator",phone:"(02) 8961-1112",email:"juan.delacruz@caloocan.gov.ph",office:"Room 203, City Hall Building"},{name:"Ms. Ana Rodriguez",position:"Application Processing Coordinator",phone:"(02) 8961-1113",email:"ana.rodriguez@caloocan.gov.ph",office:"Room 205, City Hall Building"}];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Caloocan Scholarship Program Directory"}),e.jsx("p",{className:"text-orange-100",children:"Important announcements, deadlines, and contact information"})]}),e.jsx(Es,{onClick:r,variant:"outline",size:"sm",className:"border-white text-white hover:bg-white hover:text-orange-600",children:e.jsx(dr,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Ba,{className:"h-6 w-6 text-orange-500"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Latest Announcements"})]}),e.jsx("div",{className:"space-y-4",children:a.map(i=>e.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded-r-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Rr,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-600",children:i.date})]}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:i.title}),e.jsx("p",{className:"text-sm text-gray-600",children:i.content})]},i.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(lr,{className:"h-6 w-6 text-orange-500"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Application Deadlines"})]}),e.jsx("div",{className:"space-y-3",children:s.map((i,o)=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:i.program}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Deadline: ",i.deadline]})]}),e.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:i.status})]})},o))})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(Wr,{className:"h-6 w-6 text-orange-500"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Scholarship Coordinators"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((i,o)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:i.name}),e.jsx("p",{className:"text-sm text-orange-600 font-medium mb-3",children:i.position}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qi,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:i.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ll,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:i.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bi,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:i.office})]})]})]},o))})]}),e.jsxs("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(lr,{className:"h-6 w-6 text-blue-600"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Office Hours"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Monday - Friday"}),e.jsx("p",{className:"text-gray-600",children:"8:00 AM - 5:00 PM"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Saturday"}),e.jsx("p",{className:"text-gray-600",children:"8:00 AM - 12:00 PM"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Location"}),e.jsx("p",{className:"text-gray-600",children:"Caloocan City Hall, A. Mabini Street, Poblacion, Caloocan City, Metro Manila"})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"For more information, visit our office or contact the coordinators above."}),e.jsx(Es,{onClick:r,className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Close Directory"})]})})]})})};class Tq{constructor(){}async makeRequest(r,a={}){const s=bo(r),n=localStorage.getItem("auth_token"),i={"Content-Type":"application/json",Accept:"application/json"};if(n){i.Authorization=`Bearer ${n}`;try{const l=localStorage.getItem("user_data");if(l){const c=JSON.parse(l);i["X-User-ID"]=c.id,i["X-User-Role"]=c.role,i["X-User-Email"]=c.email,i["X-User-First-Name"]=c.first_name,i["X-User-Last-Name"]=c.last_name}}catch(l){console.warn("Failed to parse user data from localStorage:",l)}}const o={...a,headers:{...i,...a.headers}};try{const l=await fetch(s,o),c=await l.json();if(!l.ok){if(console.error("API Error Response:",{status:l.status,statusText:l.statusText,data:c}),l.status===422&&c.errors){const d=Object.entries(c.errors).map(([u,f])=>`${u}: ${Array.isArray(f)?f.join(", "):f}`).join("; ");throw new Error(`Validation failed: ${d}`)}if(l.status>=500){const d=c.error||c.message||"Internal server error";throw new Error(`Server error (${l.status}): ${d}`)}throw new Error(c.message||`HTTP error! status: ${l.status}`)}return c}catch(l){throw console.error("API request failed:",l),l}}async getSchools(){try{const r=await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.PUBLIC_SCHOOLS);console.log("Schools API response:",r);const a=r.data?.data||r.data||[];return console.log("Parsed schools:",a),Array.isArray(a)?a:[]}catch(r){return console.error("Error fetching schools:",r),[]}}async getScholarshipCategories(){try{const r=await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.PUBLIC_SCHOLARSHIP_CATEGORIES);console.log("Categories API response:",r);const a=r.data?.data||r.data||[];return console.log("Parsed categories:",a),Array.isArray(a)?a:[]}catch(r){return console.error("Error fetching categories:",r),[]}}async createScholarshipCategory(r){const a=await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.SCHOLARSHIP_CATEGORIES,{method:"POST",body:JSON.stringify(r)});return a.data.data||a.data}async updateScholarshipCategory(r,a){const s=await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.SCHOLARSHIP_CATEGORY(r),{method:"PUT",body:JSON.stringify(a)});return s.data.data||s.data}async deleteScholarshipCategory(r){await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.SCHOLARSHIP_CATEGORY(r),{method:"DELETE"})}async createScholarshipSubcategory(r){const a=await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.SCHOLARSHIP_SUBCATEGORIES,{method:"POST",body:JSON.stringify(r)});return a.data.data||a.data}async updateScholarshipSubcategory(r,a){const s=await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.SCHOLARSHIP_SUBCATEGORY(r),{method:"PUT",body:JSON.stringify(a)});return s.data.data||s.data}async deleteScholarshipSubcategory(r){await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.SCHOLARSHIP_SUBCATEGORY(r),{method:"DELETE"})}async getAcademicPeriods(){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.ACADEMIC_PERIODS)).data||[]}async createAcademicPeriod(r){const a=await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.ACADEMIC_PERIODS,{method:"POST",body:JSON.stringify(r)});return a.data||a}async updateAcademicPeriod(r,a){const s=await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.ACADEMIC_PERIOD(r),{method:"PUT",body:JSON.stringify(a)});return s.data||s}async deleteAcademicPeriod(r){await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.ACADEMIC_PERIOD(r),{method:"DELETE"})}async getDocumentTypes(){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.PUBLIC_DOCUMENT_TYPES)).data?.data||[]}async getRequiredDocuments(){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.PUBLIC_REQUIRED_DOCUMENTS)).data?.data||[]}async getStudents(r){const a=new URLSearchParams(r).toString(),s=a?`${Et.SCHOLARSHIP_SERVICE.ENDPOINTS.STUDENTS}?${a}`:Et.SCHOLARSHIP_SERVICE.ENDPOINTS.STUDENTS;return(await this.makeRequest(s)).data}async getStudent(r){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.STUDENT(r))).data.data}async createStudent(r){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.STUDENTS,{method:"POST",body:JSON.stringify(r)})).data.data}async updateStudent(r,a){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.STUDENT(r),{method:"PUT",body:JSON.stringify(a)})).data.data}async deleteStudent(r){await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.STUDENT(r),{method:"DELETE"})}async getApplications(r){const a=new URLSearchParams(r).toString(),s=a?`${Et.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATIONS}?${a}`:Et.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATIONS,i=(await this.makeRequest(s)).data;if(i&&Array.isArray(i.data)){const{data:o,...l}=i;return{data:o,meta:l}}return{data:i||[],meta:void 0}}async getUserApplications(){try{const a=(await this.getApplications({mine:!0})).data||[];return Array.isArray(a)?a:[]}catch(r){return console.error("Error fetching user applications:",r),[]}}async getApplication(r){const a=await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION(r));if(console.log("getApplication response:",a),console.log("getApplication response.data:",a.data),console.log("getApplication response.data.data:",a.data?.data),a.data?.data)return a.data.data;if(a.data&&typeof a.data=="object"&&!("success"in a.data))return a.data;throw new Error("Invalid response structure from getApplication API")}async createApplication(r){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATIONS,{method:"POST",body:JSON.stringify(r)})).data.data}async updateApplication(r,a){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION(r),{method:"PUT",body:JSON.stringify(a)})).data.data}async deleteApplication(r){await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION(r),{method:"DELETE"})}async submitApplication(r){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION_SUBMIT(r),{method:"POST"})).data.data}async approveApplication(r,a,s){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION_APPROVE(r),{method:"POST",body:JSON.stringify({approved_amount:a,notes:s})})).data.data}async rejectApplication(r,a){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION_REJECT(r),{method:"POST",body:JSON.stringify({rejection_reason:a})})).data.data}async endorseToSSC(r,a){return(await this.makeRequest(`/api/applications/${r}/endorse-to-ssc`,{method:"POST",body:JSON.stringify({notes:a})})).data.data}async bulkEndorseToSSC(r,a,s){return(await this.makeRequest("/api/applications/bulk-endorse-to-ssc",{method:"POST",body:JSON.stringify({application_ids:r,filter_type:a,notes:s})})).data}async markAsReviewed(r){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION_REVIEW(r),{method:"POST",body:JSON.stringify({})})).data.data}async flagForCompliance(r,a){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION_COMPLIANCE(r),{method:"POST",body:JSON.stringify({reason:a})})).data.data}async submitNewApplication(r){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.FORM_NEW_APPLICATION,{method:"POST",body:JSON.stringify(r)})).data.data}async submitRenewalApplication(r){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.FORM_RENEWAL_APPLICATION,{method:"POST",body:JSON.stringify(r)})).data.data}async uploadDocument(r){const a=localStorage.getItem("auth_token");if(console.log("Upload token check:",a?"Token found":"No token found"),!a)throw new Error("No authentication token found. Please log in again.");const s=await fetch(bo(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENTS),{method:"POST",headers:{Authorization:`Bearer ${a}`},body:r});if(!s.ok){let i=`HTTP error! status: ${s.status}`;try{const o=await s.json();console.error("Upload error response:",o),o.errors?i=`Validation failed: ${Object.entries(o.errors).map(([c,d])=>`${c}: ${Array.isArray(d)?d.join(", "):d}`).join("; ")}`:i=o.message||o.detail||i}catch{i=s.statusText||i}throw new Error(i)}const n=await s.json();if(!n.success&&n.message)throw new Error(n.message);return n.data}async getDocuments(r){const a=new URLSearchParams(r).toString(),s=a?`${Et.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENTS}?${a}`:Et.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENTS;return(await this.makeRequest(s)).data}async getDocumentsChecklist(r){return(await this.makeRequest(`${Et.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENTS}/checklist?application_id=${r}`)).data.data}async checkDocumentScanStatus(r){return(await this.makeRequest(`${Et.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENTS}/${r}/scan-status`)).data.data}async getDocument(r){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT(r))).data.data}async deleteDocument(r){await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT(r),{method:"DELETE"})}async viewDocument(r){const a=localStorage.getItem("auth_token"),s=await fetch(bo(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT_VIEW(r)),{headers:a?{Authorization:`Bearer ${a}`}:void 0});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return bo(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT_VIEW(r))}async downloadDocument(r){const a=localStorage.getItem("auth_token"),s=await fetch(bo(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT_DOWNLOAD(r)),{headers:a?{Authorization:`Bearer ${a}`}:void 0});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.blob()}async verifyDocument(r,a){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT_VERIFY(r),{method:"POST",body:JSON.stringify({verification_notes:a})})).data.data}async rejectDocument(r,a){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT_REJECT(r),{method:"POST",body:JSON.stringify({verification_notes:a})})).data.data}async getStatsOverview(){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.STATS_OVERVIEW)).data.data}async getApplicationsByStatus(){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.STATS_APPLICATIONS_BY_STATUS)).data.data}async getApplicationsByType(){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.STATS_APPLICATIONS_BY_TYPE)).data.data}async healthCheck(){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.HEALTH)).data}async getInterviewSchedules(r){const a=new URLSearchParams(r).toString(),s=a?`/api/interview-schedules?${a}`:"/api/interview-schedules",i=(await this.makeRequest(s)).data;if(i&&Array.isArray(i.data)){const{data:o,...l}=i;return{data:o,meta:l}}else if(Array.isArray(i))return{data:i,meta:void 0};return{data:i||[],meta:void 0}}async getInterviewSchedule(r){return(await this.makeRequest(`/api/interview-schedules/${r}`)).data.data}async scheduleInterview(r,a){return(await this.makeRequest(`/api/applications/${r}/schedule-interview`,{method:"POST",body:JSON.stringify(a)})).data.data}async scheduleInterviewAuto(r){return(await this.makeRequest(`/api/applications/${r}/schedule-interview-auto`,{method:"POST"})).data.data}async rescheduleInterview(r,a,s,n,i){const o={interview_date:a,interview_time:s,reschedule_reason:n};return i!==void 0&&(o.duration=i),(await this.makeRequest(`/api/interview-schedules/${r}/reschedule`,{method:"PUT",body:JSON.stringify(o)})).data.data}async completeInterview(r,a,s,n){const i={interview_result:a,interview_notes:s};return n&&Object.assign(i,n),(await this.makeRequest(`/api/interview-schedules/${r}/complete`,{method:"POST",body:JSON.stringify(i)})).data.data}async cancelInterview(r,a){return(await this.makeRequest(`/api/interview-schedules/${r}/cancel`,{method:"POST",body:JSON.stringify({cancel_reason:a})})).data.data}async getAvailableSlots(r,a){const s=new URLSearchParams;return r&&s.append("date",r),a&&s.append("type",a),(await this.makeRequest(`/api/interview-schedules/available-slots?${s.toString()}`)).data}async getInterviewCalendar(){return(await this.makeRequest("/api/interview-schedules/calendar")).data?.interviews||{}}async getStaffInterviewers(){return await this.makeRequest("/api/staff/interviewers")}async getAllStaff(){return await this.makeRequest("/api/staff")}async getStaffById(r){return await this.makeRequest(`/api/staff/${r}`)}async getInterviewEvaluations(){const r=await this.makeRequest("/api/interview-evaluations");return Array.isArray(r.data)?r.data:[]}async getInterviewEvaluation(r){return(await this.makeRequest(`/api/interview-evaluations/${r}`)).data.data}async getSscPendingApplications(r){const a=new URLSearchParams;return r&&Object.entries(r).forEach(([n,i])=>{i!=null&&a.append(n,i.toString())}),(await this.makeRequest(`/api/applications/ssc/pending?${a.toString()}`)).data}async getSscStatistics(){return(await this.makeRequest("/api/applications/ssc/statistics")).data}async sscApproveApplication(r,a,s){return(await this.makeRequest(`/api/applications/${r}/ssc-approve`,{method:"POST",body:JSON.stringify({approved_amount:a,notes:s})})).data.data}async sscRejectApplication(r,a){return(await this.makeRequest(`/api/applications/${r}/ssc-reject`,{method:"POST",body:JSON.stringify({rejection_reason:a})})).data.data}async sscBulkApprove(r,a){return(await this.makeRequest("/api/applications/ssc/bulk-approve",{method:"POST",body:JSON.stringify({application_ids:r,notes:a})})).data.data}async sscBulkReject(r,a){return(await this.makeRequest("/api/applications/ssc/bulk-reject",{method:"POST",body:JSON.stringify({application_ids:r,rejection_reason:a})})).data.data}async getSscDecisionHistory(r){const a=new URLSearchParams;return r&&Object.entries(r).forEach(([n,i])=>{i!=null&&a.append(n,i.toString())}),(await this.makeRequest(`/api/applications/ssc/decision-history?${a.toString()}`)).data}async getAllSscDecisions(r){const a=new URLSearchParams;return r&&Object.entries(r).forEach(([n,i])=>{i!=null&&a.append(n,i.toString())}),(await this.makeRequest(`/api/applications/ssc/all-decisions?${a.toString()}`)).data}async getSscApplicationsByStage(r,a){const s=new URLSearchParams;return a&&Object.entries(a).forEach(([i,o])=>{o!=null&&s.append(i,o.toString())}),(await this.makeRequest(`/api/applications/ssc/stage/${r}?${s.toString()}`)).data}async getMySscApplications(r){const a=new URLSearchParams;return r&&Object.entries(r).forEach(([n,i])=>{i!=null&&a.append(n,i.toString())}),(await this.makeRequest(`/api/applications/ssc/my-applications?${a.toString()}`)).data}async sscSubmitDocumentVerification(r,a){return(await this.makeRequest(`/api/applications/${r}/ssc/document-verification`,{method:"POST",body:JSON.stringify(a)})).data}async sscSubmitFinancialReview(r,a){return(await this.makeRequest(`/api/applications/${r}/ssc/financial-review`,{method:"POST",body:JSON.stringify(a)})).data}async sscSubmitAcademicReview(r,a){return(await this.makeRequest(`/api/applications/${r}/ssc/academic-review`,{method:"POST",body:JSON.stringify(a)})).data}async sscFinalApproval(r,a){return(await this.makeRequest(`/api/applications/${r}/ssc/final-approval`,{method:"POST",body:JSON.stringify(a)})).data}async sscFinalRejection(r,a){return(await this.makeRequest(`/api/applications/${r}/ssc/final-rejection`,{method:"POST",body:JSON.stringify(a)})).data}async sscRequestRevision(r,a){return(await this.makeRequest(`/api/applications/${r}/ssc/request-revision`,{method:"POST",body:JSON.stringify(a)})).data}async getSscReviewHistory(r){return(await this.makeRequest(`/api/applications/${r}/ssc/review-history`)).data}async getUserSscRoles(){const r=await this.makeRequest("/api/applications/ssc/my-roles");return console.log("ScholarshipApiService - getUserSscRoles response:",r),r.data}async approveStage(r,a,s,n={}){return(await this.makeRequest(`/api/applications/${r}/approve-stage`,{method:"POST",body:JSON.stringify({stage:a,notes:s,review_data:n})})).data}async getSscMemberAssignments(){const r=await this.makeRequest("/api/applications/ssc/member-assignments");return r.data&&Array.isArray(r.data)?r.data:Array.isArray(r)?r:[]}async getMyInterviews(r){const a=new URLSearchParams;return r&&Object.entries(r).forEach(([n,i])=>{i!=null&&a.append(n,i.toString())}),(await this.makeRequest(`/api/interviewer/my-interviews?${a.toString()}`)).data}async getInterviewerStatistics(){return(await this.makeRequest("/api/interviewer/statistics")).data}async submitInterviewEvaluation(r,a){return(await this.makeRequest(`/api/interviewer/interviews/${r}/evaluate`,{method:"POST",body:JSON.stringify(a)})).data}async getAppStatsBySubcategory(){return(await this.makeRequest(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.STATS_APPLICATIONS_BY_SUBCATEGORY)).data||{}}async getDashboardOverview(){return(await this.makeRequest("/api/stats/dashboard-overview")).data}async getApplicationsReportData(r){const a=new URLSearchParams(r).toString(),s=a?`/api/reports/applications/get-report-data?${a}`:"/api/reports/applications/get-report-data";return(await this.makeRequest(s)).data}async exportApplications(r){const a=new URLSearchParams(r).toString(),s=a?`/api/reports/applications/export?${a}`:"/api/reports/applications/export",n=localStorage.getItem("auth_token"),i=await fetch(bo(s),{headers:{Authorization:`Bearer ${n}`}});if(!i.ok)throw new Error("Export failed");const o=await i.blob(),l=window.URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=`scholarship_applications_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c)}}const Ut=new Tq,In=Object.freeze(Object.defineProperty({__proto__:null,default:Ut,scholarshipApiService:Ut},Symbol.toStringTag,{value:"Module"})),Mr=({className:t="",variant:r="text",width:a,height:s,animation:n="pulse"})=>{const i="bg-gray-200",o={text:"rounded",circular:"rounded-full",rectangular:"rounded-md"},l={pulse:"animate-pulse",wave:"animate-shimmer",none:""},c={width:a?typeof a=="number"?`${a}px`:a:void 0,height:s?typeof s=="number"?`${s}px`:s:void 0};return e.jsx("div",{className:`${i} ${o[r]} ${l[n]} ${t}`,style:c})},c2=({className:t=""})=>e.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${t}`,children:[e.jsx(Mr,{variant:"rectangular",height:200,className:"mb-4"}),e.jsx(Mr,{variant:"text",height:24,className:"mb-2"}),e.jsx(Mr,{variant:"text",height:20,width:"80%",className:"mb-2"}),e.jsx(Mr,{variant:"text",height:20,width:"60%"})]}),d2=({className:t="",width:r=120})=>e.jsx(Mr,{variant:"rectangular",height:40,width:r,className:t}),$_=({className:t=""})=>e.jsxs("div",{className:`space-y-2 ${t}`,children:[e.jsx(Mr,{variant:"text",height:14,width:100}),e.jsx(Mr,{variant:"rectangular",height:40})]}),Dq=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Mr,{variant:"text",height:32,width:300}),e.jsx(Mr,{variant:"text",height:20,width:200})]}),e.jsx(d2,{width:120})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Array.from({length:3}).map((t,r)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx(Mr,{variant:"text",height:16,width:100,className:"mb-4"}),e.jsx(Mr,{variant:"text",height:32,width:80,className:"mb-2"}),e.jsx(Mr,{variant:"text",height:14,width:120})]},r))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:Array.from({length:3}).map((t,r)=>e.jsx(c2,{},r))}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx(Mr,{variant:"text",height:20,width:150,className:"mb-4"}),e.jsx(Mr,{variant:"rectangular",height:100,className:"mb-4"}),e.jsx(Mr,{variant:"text",height:16,width:"100%",className:"mb-2"}),e.jsx(Mr,{variant:"text",height:16,width:"80%"})]})})]})]}),Iq=({isOpen:t,onClose:r,onVerified:a})=>{const[s,n]=b.useState(!1),[i,o]=b.useState(!1),l=()=>{s||(n(!0),o(!0),setTimeout(()=>{o(!1),setTimeout(()=>{a()},500)},1500))},c=()=>{n(!1),o(!1),r()};return t?e.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative animate-scale-in",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-blue-100 rounded-full p-4",children:e.jsx(Ns,{className:"text-blue-600",size:48})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Security Verification"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Please verify that you are human before proceeding"})]}),e.jsxs("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:l,disabled:s,className:`w-8 h-8 rounded border-2 flex items-center justify-center transition-all ${s?"bg-green-500 border-green-500":"bg-white border-gray-400 hover:border-blue-500"} ${i?"animate-pulse":""}`,children:[s&&!i&&e.jsx(jt,{className:"text-white",size:24}),i&&e.jsx("div",{className:"w-5 h-5 border-3 border-white border-t-transparent rounded-full animate-spin"})]}),e.jsx("span",{className:"text-gray-700 font-medium",children:"I'm not a robot"})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[e.jsx(Ns,{size:16}),e.jsx("span",{children:"reCAPTCHA"})]}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[e.jsx("a",{href:"#",className:"hover:underline",children:"Privacy"}),e.jsx("span",{className:"mx-1",children:"-"}),e.jsx("a",{href:"#",className:"hover:underline",children:"Terms"})]})]})]}),i&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Verifying..."})}),s&&!i&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-green-600 font-medium flex items-center justify-center",children:[e.jsx(jt,{size:16,className:"mr-1"}),"Verified successfully!"]})})]}),e.jsx("button",{onClick:c,className:"w-full py-2 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"})]}),e.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]}):null},Oq=`
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  
  /* Text Gradient Animation (brand colors) */
  .animated-text {
    /* Rotate through primary (#4CAF50) and secondary (#4A90E2) hues */
    background: linear-gradient(45deg, #2E7D32, #4CAF50, #4A90E2, #305C90);
    background-size: 300% 300%;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradient-shift 4s ease-in-out infinite;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
  }
  
  @keyframes gradient-shift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }
  
  /* Smooth Transitions */
  .smooth-transition {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .animate-fade-in-up {
    animation: fade-in-up 0.8s ease-out forwards;
  }
  
  .animate-fade-in {
    animation: fade-in 1s ease-out forwards;
  }
  
  .delay-300 {
    animation-delay: 300ms;
  }
  
  .shadow-3xl {
    box-shadow: 0 35px 60px -12px rgba(0, 0, 0, 0.25);
  }
`;if(typeof document<"u"){const t=document.createElement("style");t.textContent=Oq,document.head.appendChild(t)}const Rq=()=>{const t=Gi(),[r,a]=b.useState(!1),[s,n]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(null),[d,u]=b.useState([]),[f,p]=b.useState(!0),[g,x]=b.useState(!1),[v,w]=b.useState(!1),j=_r(N=>N.currentUser);b.useEffect(()=>{if(j){const N=String(j.role);if(N==="admin"||N==="staff"||N.startsWith("ssc")){t("/admin",{replace:!0});return}}},[j,t]),b.useEffect(()=>{(async()=>{if(!j){p(!1);return}try{p(!0);const C=await Ut.getUserApplications(),D=["draft","submitted","documents_reviewed","interview_scheduled","interview_completed","endorsed_to_ssc","grants_processing","on_hold","for_compliance","compliance_documents_submitted"],U=C.some(F=>D.includes(F.status?.toLowerCase())),z=["approved","grants_disbursed"],E=C.some(F=>z.includes(F.status?.toLowerCase())),T=(await Ut.getAcademicPeriods()).some(F=>F.status==="open"&&F.is_current);c(T),n(U),o(E),console.log("User applications:",C),console.log("Has active application:",U),console.log("Can renew:",E),console.log("Open period:",T)}catch(C){console.error("Error checking existing applications:",C),n(!1),o(!1)}finally{p(!1)}})()},[j]),b.useEffect(()=>{(async()=>{try{const C=await Ut.getScholarshipCategories();console.log("Fetched scholarship categories:",C),u(C)}catch(C){console.error("Error fetching scholarship categories:",C)}})()},[]),b.useEffect(()=>{console.log("Portal component mounted, checking for directory modal...");const N=localStorage.getItem("hasSeenDirectory");console.log("hasSeenDirectory:",N),a(!0)},[]);const _=()=>{a(!1),localStorage.setItem("hasSeenDirectory","true")},S=()=>{s&&(x(!0),setTimeout(()=>x(!1),5e3))};return console.log("Portal render - showDirectoryModal:",r),e.jsxs("div",{children:[e.jsx(Eq,{isOpen:r,onClose:_}),e.jsx("section",{className:"relative h-96 flex items-center justify-center overflow-hidden",style:{backgroundImage:"url(/ll.svg)",backgroundSize:"contain",backgroundPosition:"center top",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("section",{className:"py-12 bg-gradient-to-br from-background via-white to-primary-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-primary-200 rounded-full blur-3xl opacity-20"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-secondary-200 rounded-full blur-3xl opacity-20"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-accent-200 rounded-full blur-3xl opacity-10"})]}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsxs("div",{className:"space-y-3 -mt-4",children:[e.jsx("h3",{className:"text-3xl lg:text-5xl font-bold animated-text drop-shadow-lg uppercase",children:"Ready to Begin Your Journey?"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto smooth-transition hover:text-gray-800",children:"Take the first step towards your educational dreams with our comprehensive scholarship program"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 justify-center items-center max-w-6xl mx-auto",children:[e.jsx("div",{className:"bg-gray-100 rounded-xl p-3 sm:p-4 shadow-lg",children:e.jsx(Cm,{to:"/scholarship-dashboard",className:"block w-full",children:e.jsx(Es,{size:"lg",className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white border-0 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 text-sm sm:text-base lg:text-lg font-semibold w-full h-10 sm:h-11 lg:h-12 flex items-center justify-center whitespace-nowrap uppercase tracking-wide",children:"Scholar Dashboard"})})}),e.jsx("div",{className:"bg-gray-100 rounded-xl p-3 sm:p-4 shadow-lg",children:f?e.jsx("div",{className:"w-full h-10 sm:h-11 lg:h-12",children:e.jsx(Mr,{variant:"rectangular",height:"100%"})}):l?s?e.jsx(Es,{size:"lg",onClick:S,className:"bg-gray-400 text-white border-0 shadow-md hover:bg-gray-500 px-4 sm:px-6 lg:px-8 py-3 sm:py-4 text-sm sm:text-base lg:text-lg font-semibold w-full h-12 sm:h-14 lg:h-16 flex items-center justify-center whitespace-nowrap uppercase tracking-wide transition-colors",children:"New Application"}):e.jsx(Es,{size:"lg",onClick:()=>w(!0),className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white border-0 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 text-sm sm:text-base lg:text-lg font-semibold w-full h-10 sm:h-11 lg:h-12 flex items-center justify-center whitespace-nowrap uppercase tracking-wide",children:"New Application"}):e.jsxs("div",{className:"relative group",children:[e.jsx(Es,{size:"lg",disabled:!0,className:"bg-gray-300 text-gray-500 border-0 shadow-md px-4 sm:px-6 lg:px-8 py-3 sm:py-4 text-sm sm:text-base lg:text-lg font-semibold w-full h-12 sm:h-14 lg:h-16 flex items-center justify-center whitespace-nowrap uppercase tracking-wide cursor-not-allowed opacity-60",children:"New Application"}),e.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:"Applications are currently closed"})]})}),e.jsx("div",{className:"bg-gray-100 rounded-xl p-3 sm:p-4 shadow-lg",children:f?e.jsx("div",{className:"w-full h-10 sm:h-11 lg:h-12",children:e.jsx(Mr,{variant:"rectangular",height:"100%"})}):l?i?e.jsx(Cm,{to:"/renewal",className:"block w-full",children:e.jsx(Es,{size:"lg",className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white border-0 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 text-sm sm:text-base lg:text-lg font-semibold w-full h-10 sm:h-11 lg:h-12 flex items-center justify-center whitespace-nowrap uppercase tracking-wide",children:"Renewal Application"})}):e.jsxs("div",{className:"relative group",children:[e.jsx(Es,{size:"lg",disabled:!0,className:"bg-gray-300 text-gray-500 border-0 shadow-md px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 text-sm sm:text-base lg:text-lg font-semibold w-full h-10 sm:h-11 lg:h-12 flex items-center justify-center whitespace-nowrap uppercase tracking-wide cursor-not-allowed opacity-60",children:"Renewal Application"}),e.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:"Only available for returning scholars with completed applications"})]}):e.jsxs("div",{className:"relative group",children:[e.jsx(Es,{size:"lg",disabled:!0,className:"bg-gray-300 text-gray-500 border-0 shadow-md px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 text-sm sm:text-base lg:text-lg font-semibold w-full h-10 sm:h-11 lg:h-12 flex items-center justify-center whitespace-nowrap uppercase tracking-wide cursor-not-allowed opacity-60",children:"Renewal Application"}),e.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:"Applications are currently closed"})]})}),e.jsx("div",{className:"bg-gray-100 rounded-xl p-3 sm:p-4 shadow-lg",children:e.jsx(Es,{size:"lg",className:"bg-gradient-to-r from-secondary-500 to-secondary-600 text-white border-0 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 text-sm sm:text-base lg:text-lg font-semibold w-full h-10 sm:h-11 lg:h-12 flex items-center justify-center whitespace-nowrap uppercase tracking-wide",children:"Tertiary Portal"})})]}),e.jsxs("div",{className:"mt-8 mb-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:" How It Works"}),e.jsx("p",{className:"text-gray-600",children:"Your simple 6-step journey to scholarship"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 max-w-7xl mx-auto",children:[{title:"Fill Application",icon:"",desc:"Complete form",step:1},{title:"Submit Docs",icon:"",desc:"Upload requirements",step:2},{title:"Initial Review",icon:"",desc:"Doc validation",step:3},{title:"Interview",icon:"",desc:"Staff assessment",step:4},{title:"Final Approval",icon:"",desc:"SSC Endorsement",step:5},{title:"Receive Grant",icon:"",desc:"Disbursement",step:6}].map((N,C)=>e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 relative overflow-hidden group hover:shadow-lg transition-all duration-300",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 font-bold text-5xl group-hover:scale-110 transition-transform",children:N.step}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[e.jsx("div",{className:"text-2xl mb-2 bg-green-50 w-10 h-10 rounded-full flex items-center justify-center text-green-600 font-bold",children:N.step}),e.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1 leading-tight",children:N.title}),e.jsx("p",{className:"text-gray-500 text-xs",children:N.desc})]}),C<5&&e.jsx("div",{className:"hidden lg:block absolute top-1/2 -right-4 w-8 h-0.5 bg-gray-200 transform -translate-y-1/2 z-0"})]},C))})]}),e.jsx("div",{className:"mt-8 mb-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-yellow-50 rounded-xl p-4 sm:p-6 shadow-md border border-orange-200",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-xl lg:text-2xl font-bold text-gray-800 mb-1",children:" Prepare These Documents"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get these ready before starting your application"})]}),e.jsx("div",{className:"max-w-2xl mx-auto grid grid-cols-1 sm:grid-cols-2 gap-2",children:["Birth Certificate (PSA)","Transcript of Records","Certificate of Enrollment","Certificate of Good Moral","Income Certificate","Barangay Certificate","Valid Government ID"].map((N,C)=>e.jsxs("div",{className:"flex items-center space-x-2 bg-white px-3 py-2 rounded-lg shadow-sm",children:[e.jsx("div",{className:"flex-shrink-0 w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 text-xs font-bold",children:C+1})}),e.jsx("p",{className:"text-gray-800 text-sm font-medium",children:N})]},C))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-xs text-gray-600 italic",children:" Have clear scans ready before you apply"})})]})}),e.jsxs("div",{className:"mt-16 mb-8",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h3",{className:"text-2xl lg:text-4xl font-bold text-gray-800 mb-4 drop-shadow-sm",children:"Available Scholarship Programs"}),e.jsx("div",{className:"h-1 w-24 bg-green-500 mx-auto rounded-full"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.length>0?d.map(N=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 flex flex-col h-full group",children:[e.jsx("div",{className:"p-1 bg-gradient-to-r from-green-500 to-green-600"}),e.jsxs("div",{className:"p-6 flex-grow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-xl font-bold text-gray-800 line-clamp-2 group-hover:text-green-600 transition-colors",title:N.name,children:N.name}),e.jsx("span",{className:"px-3 py-1 bg-green-50 text-green-700 text-xs font-bold uppercase rounded-full border border-green-100",children:N.type?.replace("_"," ")||"SCHOLARSHIP"})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-6 line-clamp-3 h-14",children:N.description||"No description available for this scholarship program."}),N.subcategories&&N.subcategories.length>0&&e.jsxs("div",{className:"mt-auto",children:[e.jsx("h5",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Available Categories"}),e.jsxs("div",{className:"space-y-2",children:[N.subcategories.slice(0,3).map(C=>e.jsxs("div",{className:"flex items-center text-sm text-gray-700 bg-gray-50 p-2 rounded-lg border border-gray-100 hover:bg-green-50 hover:border-green-100 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"truncate",children:C.name})]},C.id)),N.subcategories.length>3&&e.jsxs("p",{className:"text-xs text-center text-gray-500 italic mt-1",children:["+",N.subcategories.length-3," more categories"]})]})]})]}),e.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100",children:e.jsx(Es,{className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white shadow-md hover:shadow-lg hover:from-green-600 hover:to-green-700 transform hover:-translate-y-0.5 transition-all duration-200 font-bold tracking-wide",onClick:()=>{s?(x(!0),setTimeout(()=>x(!1),5e3)):t("/new-application")},children:"APPLY NOW"})})]},N.id)):[1,2,3].map(N=>e.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg border border-gray-100 h-96",children:e.jsx(Mr,{variant:"rectangular",height:"100%"})},N))})]})]})})]}),e.jsx(Iq,{isOpen:v,onClose:()=>w(!1),onVerified:()=>{w(!1),t("/new-application")}}),g&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-fade-in",children:e.jsx("div",{className:"bg-red-500 text-white px-6 py-4 rounded-lg shadow-lg border border-red-600 max-w-sm",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"New Application Restricted"}),e.jsx("p",{className:"text-sm mt-1",children:"You have a pending or active scholarship application. Please complete or wait for the current application to be processed before submitting a new one."})]}),e.jsx("button",{onClick:()=>x(!1),className:"flex-shrink-0 text-white hover:text-red-200 transition-colors",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})})]})};var rg=t=>t.type==="checkbox",B0=t=>t instanceof Date,fi=t=>t==null;const G7=t=>typeof t=="object";var Rs=t=>!fi(t)&&!Array.isArray(t)&&G7(t)&&!B0(t),Y7=t=>Rs(t)&&t.target?rg(t.target)?t.target.checked:t.target.value:t,Lq=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,K7=(t,r)=>t.has(Lq(r)),Mq=t=>{const r=t.constructor&&t.constructor.prototype;return Rs(r)&&r.hasOwnProperty("isPrototypeOf")},uk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function en(t){let r;const a=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)r=new Date(t);else if(!(uk&&(t instanceof Blob||s))&&(a||Rs(t)))if(r=a?[]:Object.create(Object.getPrototypeOf(t)),!a&&!Mq(t))r=t;else for(const n in t)t.hasOwnProperty(n)&&(r[n]=en(t[n]));else return t;return r}var Ib=t=>/^\w*$/.test(t),Ts=t=>t===void 0,hk=t=>Array.isArray(t)?t.filter(Boolean):[],mk=t=>hk(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ht=(t,r,a)=>{if(!r||!Rs(t))return a;const s=(Ib(r)?[r]:mk(r)).reduce((n,i)=>fi(n)?n:n[i],t);return Ts(s)||s===t?Ts(t[r])?a:t[r]:s},go=t=>typeof t=="boolean",ga=(t,r,a)=>{let s=-1;const n=Ib(r)?[r]:mk(r),i=n.length,o=i-1;for(;++s<i;){const l=n[s];let c=a;if(s!==o){const d=t[l];c=Rs(d)||Array.isArray(d)?d:isNaN(+n[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const wy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},id={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},J7=gt.createContext(null);J7.displayName="HookFormContext";const fk=()=>gt.useContext(J7);var X7=(t,r,a,s=!0)=>{const n={defaultValues:r._defaultValues};for(const i in t)Object.defineProperty(n,i,{get:()=>{const o=i;return r._proxyFormState[o]!==Fl.all&&(r._proxyFormState[o]=!s||Fl.all),a&&(a[o]=!0),t[o]}});return n};const pk=typeof window<"u"?gt.useLayoutEffect:gt.useEffect;function Fq(t){const r=fk(),{control:a=r.control,disabled:s,name:n,exact:i}=t||{},[o,l]=gt.useState(a._formState),c=gt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return pk(()=>a._subscribe({name:n,formState:c.current,exact:i,callback:d=>{!s&&l({...a._formState,...d})}}),[n,s,i]),gt.useEffect(()=>{c.current.isValid&&a._setValid(!0)},[a]),gt.useMemo(()=>X7(o,a,c.current,!1),[o,a])}var bc=t=>typeof t=="string",Z7=(t,r,a,s,n)=>bc(t)?(s&&r.watch.add(t),Ht(a,t,n)):Array.isArray(t)?t.map(i=>(s&&r.watch.add(i),Ht(a,i))):(s&&(r.watchAll=!0),a),u2=t=>fi(t)||!G7(t);function md(t,r,a=new WeakSet){if(u2(t)||u2(r))return t===r;if(B0(t)&&B0(r))return t.getTime()===r.getTime();const s=Object.keys(t),n=Object.keys(r);if(s.length!==n.length)return!1;if(a.has(t)||a.has(r))return!0;a.add(t),a.add(r);for(const i of s){const o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=r[i];if(B0(o)&&B0(l)||Rs(o)&&Rs(l)||Array.isArray(o)&&Array.isArray(l)?!md(o,l,a):o!==l)return!1}}return!0}function $q(t){const r=fk(),{control:a=r.control,name:s,defaultValue:n,disabled:i,exact:o,compute:l}=t||{},c=gt.useRef(n),d=gt.useRef(l),u=gt.useRef(void 0);d.current=l;const f=gt.useMemo(()=>a._getWatch(s,c.current),[a,s]),[p,g]=gt.useState(d.current?d.current(f):f);return pk(()=>a._subscribe({name:s,formState:{values:!0},exact:o,callback:x=>{if(!i){const v=Z7(s,a._names,x.values||a._formValues,!1,c.current);if(d.current){const w=d.current(v);md(w,u.current)||(g(w),u.current=w)}else g(v)}}}),[a,i,s,o]),gt.useEffect(()=>a._removeUnmounted()),p}function Bq(t){const r=fk(),{name:a,disabled:s,control:n=r.control,shouldUnregister:i,defaultValue:o}=t,l=K7(n._names.array,a),c=gt.useMemo(()=>Ht(n._formValues,a,Ht(n._defaultValues,a,o)),[n,a,o]),d=$q({control:n,name:a,defaultValue:c,exact:!0}),u=Fq({control:n,name:a,exact:!0}),f=gt.useRef(t),p=gt.useRef(n.register(a,{...t.rules,value:d,...go(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const g=gt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ht(u.errors,a)},isDirty:{enumerable:!0,get:()=>!!Ht(u.dirtyFields,a)},isTouched:{enumerable:!0,get:()=>!!Ht(u.touchedFields,a)},isValidating:{enumerable:!0,get:()=>!!Ht(u.validatingFields,a)},error:{enumerable:!0,get:()=>Ht(u.errors,a)}}),[u,a]),x=gt.useCallback(_=>p.current.onChange({target:{value:Y7(_),name:a},type:wy.CHANGE}),[a]),v=gt.useCallback(()=>p.current.onBlur({target:{value:Ht(n._formValues,a),name:a},type:wy.BLUR}),[a,n._formValues]),w=gt.useCallback(_=>{const S=Ht(n._fields,a);S&&_&&(S._f.ref={focus:()=>_.focus&&_.focus(),select:()=>_.select&&_.select(),setCustomValidity:N=>_.setCustomValidity(N),reportValidity:()=>_.reportValidity()})},[n._fields,a]),j=gt.useMemo(()=>({name:a,value:d,...go(s)||u.disabled?{disabled:u.disabled||s}:{},onChange:x,onBlur:v,ref:w}),[a,s,u.disabled,x,v,w,d]);return gt.useEffect(()=>{const _=n._options.shouldUnregister||i;n.register(a,{...f.current.rules,...go(f.current.disabled)?{disabled:f.current.disabled}:{}});const S=(N,C)=>{const D=Ht(n._fields,N);D&&D._f&&(D._f.mount=C)};if(S(a,!0),_){const N=en(Ht(n._options.defaultValues,a));ga(n._defaultValues,a,N),Ts(Ht(n._formValues,a))&&ga(n._formValues,a,N)}return!l&&n.register(a),()=>{(l?_&&!n._state.action:_)?n.unregister(a):S(a,!1)}},[a,n,l,i]),gt.useEffect(()=>{n._setDisabledField({disabled:s,name:a})},[s,a,n]),gt.useMemo(()=>({field:j,formState:u,fieldState:g}),[j,u,g])}const Vt=t=>t.render(Bq(t));var Q7=(t,r,a,s,n)=>r?{...a[t],types:{...a[t]&&a[t].types?a[t].types:{},[s]:n||!0}}:{},np=t=>Array.isArray(t)?t:[t],B_=()=>{let t=[];return{get observers(){return t},next:n=>{for(const i of t)i.next&&i.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(i=>i!==n)}}),unsubscribe:()=>{t=[]}}},Li=t=>Rs(t)&&!Object.keys(t).length,gk=t=>t.type==="file",$l=t=>typeof t=="function",jy=t=>{if(!uk)return!1;const r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},eD=t=>t.type==="select-multiple",xk=t=>t.type==="radio",Uq=t=>xk(t)||rg(t),Nw=t=>jy(t)&&t.isConnected;function zq(t,r){const a=r.slice(0,-1).length;let s=0;for(;s<a;)t=Ts(t)?s++:t[r[s++]];return t}function qq(t){for(const r in t)if(t.hasOwnProperty(r)&&!Ts(t[r]))return!1;return!0}function qs(t,r){const a=Array.isArray(r)?r:Ib(r)?[r]:mk(r),s=a.length===1?t:zq(t,a),n=a.length-1,i=a[n];return s&&delete s[i],n!==0&&(Rs(s)&&Li(s)||Array.isArray(s)&&qq(s))&&qs(t,a.slice(0,-1)),t}var tD=t=>{for(const r in t)if($l(t[r]))return!0;return!1};function Ny(t,r={}){const a=Array.isArray(t);if(Rs(t)||a)for(const s in t)Array.isArray(t[s])||Rs(t[s])&&!tD(t[s])?(r[s]=Array.isArray(t[s])?[]:{},Ny(t[s],r[s])):fi(t[s])||(r[s]=!0);return r}function rD(t,r,a){const s=Array.isArray(t);if(Rs(t)||s)for(const n in t)Array.isArray(t[n])||Rs(t[n])&&!tD(t[n])?Ts(r)||u2(a[n])?a[n]=Array.isArray(t[n])?Ny(t[n],[]):{...Ny(t[n])}:rD(t[n],fi(r)?{}:r[n],a[n]):a[n]=!md(t[n],r[n]);return a}var Lf=(t,r)=>rD(t,r,Ny(r));const U_={value:!1,isValid:!1},z_={value:!0,isValid:!0};var aD=t=>{if(Array.isArray(t)){if(t.length>1){const r=t.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ts(t[0].attributes.value)?Ts(t[0].value)||t[0].value===""?z_:{value:t[0].value,isValid:!0}:z_:U_}return U_},sD=(t,{valueAsNumber:r,valueAsDate:a,setValueAs:s})=>Ts(t)?t:r?t===""?NaN:t&&+t:a&&bc(t)?new Date(t):s?s(t):t;const q_={isValid:!1,value:null};var nD=t=>Array.isArray(t)?t.reduce((r,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:r,q_):q_;function V_(t){const r=t.ref;return gk(r)?r.files:xk(r)?nD(t.refs).value:eD(r)?[...r.selectedOptions].map(({value:a})=>a):rg(r)?aD(t.refs).value:sD(Ts(r.value)?t.ref.value:r.value,t)}var Vq=(t,r,a,s)=>{const n={};for(const i of t){const o=Ht(r,i);o&&ga(n,i,o._f)}return{criteriaMode:a,names:[...t],fields:n,shouldUseNativeValidation:s}},ky=t=>t instanceof RegExp,Mf=t=>Ts(t)?t:ky(t)?t.source:Rs(t)?ky(t.value)?t.value.source:t.value:t,H_=t=>({isOnSubmit:!t||t===Fl.onSubmit,isOnBlur:t===Fl.onBlur,isOnChange:t===Fl.onChange,isOnAll:t===Fl.all,isOnTouch:t===Fl.onTouched});const W_="AsyncFunction";var Hq=t=>!!t&&!!t.validate&&!!($l(t.validate)&&t.validate.constructor.name===W_||Rs(t.validate)&&Object.values(t.validate).find(r=>r.constructor.name===W_)),Wq=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),G_=(t,r,a)=>!a&&(r.watchAll||r.watch.has(t)||[...r.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const ip=(t,r,a,s)=>{for(const n of a||Object.keys(t)){const i=Ht(t,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],n)&&!s)return!0;if(o.ref&&r(o.ref,o.name)&&!s)return!0;if(ip(l,r))break}else if(Rs(l)&&ip(l,r))break}}};function Y_(t,r,a){const s=Ht(t,a);if(s||Ib(a))return{error:s,name:a};const n=a.split(".");for(;n.length;){const i=n.join("."),o=Ht(r,i),l=Ht(t,i);if(o&&!Array.isArray(o)&&a!==i)return{name:a};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:a}}var Gq=(t,r,a,s)=>{a(t);const{name:n,...i}=t;return Li(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(o=>r[o]===(!s||Fl.all))},Yq=(t,r,a)=>!t||!r||t===r||np(t).some(s=>s&&(a?s===r:s.startsWith(r)||r.startsWith(s))),Kq=(t,r,a,s,n)=>n.isOnAll?!1:!a&&n.isOnTouch?!(r||t):(a?s.isOnBlur:n.isOnBlur)?!t:(a?s.isOnChange:n.isOnChange)?t:!0,Jq=(t,r)=>!hk(Ht(t,r)).length&&qs(t,r),Xq=(t,r,a)=>{const s=np(Ht(t,a));return ga(s,"root",r[a]),ga(t,a,s),t},ry=t=>bc(t);function K_(t,r,a="validate"){if(ry(t)||Array.isArray(t)&&t.every(ry)||go(t)&&!t)return{type:a,message:ry(t)?t:"",ref:r}}var am=t=>Rs(t)&&!ky(t)?t:{value:t,message:""},J_=async(t,r,a,s,n,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:p,pattern:g,validate:x,name:v,valueAsNumber:w,mount:j}=t._f,_=Ht(a,v);if(!j||r.has(v))return{};const S=l?l[0]:o,N=F=>{n&&S.reportValidity&&(S.setCustomValidity(go(F)?"":F||""),S.reportValidity())},C={},D=xk(o),U=rg(o),z=D||U,E=(w||gk(o))&&Ts(o.value)&&Ts(_)||jy(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,I=Q7.bind(null,v,s,C),T=(F,Y,O,q=id.maxLength,$=id.minLength)=>{const K=F?Y:O;C[v]={type:F?q:$,message:K,ref:o,...I(F?q:$,K)}};if(i?!Array.isArray(_)||!_.length:c&&(!z&&(E||fi(_))||go(_)&&!_||U&&!aD(l).isValid||D&&!nD(l).isValid)){const{value:F,message:Y}=ry(c)?{value:!!c,message:c}:am(c);if(F&&(C[v]={type:id.required,message:Y,ref:S,...I(id.required,Y)},!s))return N(Y),C}if(!E&&(!fi(f)||!fi(p))){let F,Y;const O=am(p),q=am(f);if(!fi(_)&&!isNaN(_)){const $=o.valueAsNumber||_&&+_;fi(O.value)||(F=$>O.value),fi(q.value)||(Y=$<q.value)}else{const $=o.valueAsDate||new Date(_),K=be=>new Date(new Date().toDateString()+" "+be),J=o.type=="time",X=o.type=="week";bc(O.value)&&_&&(F=J?K(_)>K(O.value):X?_>O.value:$>new Date(O.value)),bc(q.value)&&_&&(Y=J?K(_)<K(q.value):X?_<q.value:$<new Date(q.value))}if((F||Y)&&(T(!!F,O.message,q.message,id.max,id.min),!s))return N(C[v].message),C}if((d||u)&&!E&&(bc(_)||i&&Array.isArray(_))){const F=am(d),Y=am(u),O=!fi(F.value)&&_.length>+F.value,q=!fi(Y.value)&&_.length<+Y.value;if((O||q)&&(T(O,F.message,Y.message),!s))return N(C[v].message),C}if(g&&!E&&bc(_)){const{value:F,message:Y}=am(g);if(ky(F)&&!_.match(F)&&(C[v]={type:id.pattern,message:Y,ref:o,...I(id.pattern,Y)},!s))return N(Y),C}if(x){if($l(x)){const F=await x(_,a),Y=K_(F,S);if(Y&&(C[v]={...Y,...I(id.validate,Y.message)},!s))return N(Y.message),C}else if(Rs(x)){let F={};for(const Y in x){if(!Li(F)&&!s)break;const O=K_(await x[Y](_,a),S,Y);O&&(F={...O,...I(Y,O.message)},N(O.message),s&&(C[v]=F))}if(!Li(F)&&(C[v]={ref:S,...F},!s))return C}}return N(!0),C};const Zq={mode:Fl.onSubmit,reValidateMode:Fl.onChange,shouldFocusError:!0};function Qq(t={}){let r={...Zq,...t},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:$l(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},n=Rs(r.defaultValues)||Rs(r.values)?en(r.defaultValues||r.values)||{}:{},i=r.shouldUnregister?{}:en(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const p={array:B_(),state:B_()},g=r.criteriaMode===Fl.all,x=ie=>Ce=>{clearTimeout(d),d=setTimeout(ie,Ce)},v=async ie=>{if(!r.disabled&&(u.isValid||f.isValid||ie)){const Ce=r.resolver?Li((await U()).errors):await E(s,!0);Ce!==a.isValid&&p.state.next({isValid:Ce})}},w=(ie,Ce)=>{!r.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((ie||Array.from(l.mount)).forEach(Oe=>{Oe&&(Ce?ga(a.validatingFields,Oe,Ce):qs(a.validatingFields,Oe))}),p.state.next({validatingFields:a.validatingFields,isValidating:!Li(a.validatingFields)}))},j=(ie,Ce=[],Oe,Je,H=!0,de=!0)=>{if(Je&&Oe&&!r.disabled){if(o.action=!0,de&&Array.isArray(Ht(s,ie))){const ue=Oe(Ht(s,ie),Je.argA,Je.argB);H&&ga(s,ie,ue)}if(de&&Array.isArray(Ht(a.errors,ie))){const ue=Oe(Ht(a.errors,ie),Je.argA,Je.argB);H&&ga(a.errors,ie,ue),Jq(a.errors,ie)}if((u.touchedFields||f.touchedFields)&&de&&Array.isArray(Ht(a.touchedFields,ie))){const ue=Oe(Ht(a.touchedFields,ie),Je.argA,Je.argB);H&&ga(a.touchedFields,ie,ue)}(u.dirtyFields||f.dirtyFields)&&(a.dirtyFields=Lf(n,i)),p.state.next({name:ie,isDirty:T(ie,Ce),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else ga(i,ie,Ce)},_=(ie,Ce)=>{ga(a.errors,ie,Ce),p.state.next({errors:a.errors})},S=ie=>{a.errors=ie,p.state.next({errors:a.errors,isValid:!1})},N=(ie,Ce,Oe,Je)=>{const H=Ht(s,ie);if(H){const de=Ht(i,ie,Ts(Oe)?Ht(n,ie):Oe);Ts(de)||Je&&Je.defaultChecked||Ce?ga(i,ie,Ce?de:V_(H._f)):O(ie,de),o.mount&&v()}},C=(ie,Ce,Oe,Je,H)=>{let de=!1,ue=!1;const me={name:ie};if(!r.disabled){if(!Oe||Je){(u.isDirty||f.isDirty)&&(ue=a.isDirty,a.isDirty=me.isDirty=T(),de=ue!==me.isDirty);const Se=md(Ht(n,ie),Ce);ue=!!Ht(a.dirtyFields,ie),Se?qs(a.dirtyFields,ie):ga(a.dirtyFields,ie,!0),me.dirtyFields=a.dirtyFields,de=de||(u.dirtyFields||f.dirtyFields)&&ue!==!Se}if(Oe){const Se=Ht(a.touchedFields,ie);Se||(ga(a.touchedFields,ie,Oe),me.touchedFields=a.touchedFields,de=de||(u.touchedFields||f.touchedFields)&&Se!==Oe)}de&&H&&p.state.next(me)}return de?me:{}},D=(ie,Ce,Oe,Je)=>{const H=Ht(a.errors,ie),de=(u.isValid||f.isValid)&&go(Ce)&&a.isValid!==Ce;if(r.delayError&&Oe?(c=x(()=>_(ie,Oe)),c(r.delayError)):(clearTimeout(d),c=null,Oe?ga(a.errors,ie,Oe):qs(a.errors,ie)),(Oe?!md(H,Oe):H)||!Li(Je)||de){const ue={...Je,...de&&go(Ce)?{isValid:Ce}:{},errors:a.errors,name:ie};a={...a,...ue},p.state.next(ue)}},U=async ie=>{w(ie,!0);const Ce=await r.resolver(i,r.context,Vq(ie||l.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return w(ie),Ce},z=async ie=>{const{errors:Ce}=await U(ie);if(ie)for(const Oe of ie){const Je=Ht(Ce,Oe);Je?ga(a.errors,Oe,Je):qs(a.errors,Oe)}else a.errors=Ce;return Ce},E=async(ie,Ce,Oe={valid:!0})=>{for(const Je in ie){const H=ie[Je];if(H){const{_f:de,...ue}=H;if(de){const me=l.array.has(de.name),Se=H._f&&Hq(H._f);Se&&u.validatingFields&&w([Je],!0);const Ye=await J_(H,l.disabled,i,g,r.shouldUseNativeValidation&&!Ce,me);if(Se&&u.validatingFields&&w([Je]),Ye[de.name]&&(Oe.valid=!1,Ce))break;!Ce&&(Ht(Ye,de.name)?me?Xq(a.errors,Ye,de.name):ga(a.errors,de.name,Ye[de.name]):qs(a.errors,de.name))}!Li(ue)&&await E(ue,Ce,Oe)}}return Oe.valid},I=()=>{for(const ie of l.unMount){const Ce=Ht(s,ie);Ce&&(Ce._f.refs?Ce._f.refs.every(Oe=>!Nw(Oe)):!Nw(Ce._f.ref))&&we(ie)}l.unMount=new Set},T=(ie,Ce)=>!r.disabled&&(ie&&Ce&&ga(i,ie,Ce),!md(be(),n)),F=(ie,Ce,Oe)=>Z7(ie,l,{...o.mount?i:Ts(Ce)?n:bc(ie)?{[ie]:Ce}:Ce},Oe,Ce),Y=ie=>hk(Ht(o.mount?i:n,ie,r.shouldUnregister?Ht(n,ie,[]):[])),O=(ie,Ce,Oe={})=>{const Je=Ht(s,ie);let H=Ce;if(Je){const de=Je._f;de&&(!de.disabled&&ga(i,ie,sD(Ce,de)),H=jy(de.ref)&&fi(Ce)?"":Ce,eD(de.ref)?[...de.ref.options].forEach(ue=>ue.selected=H.includes(ue.value)):de.refs?rg(de.ref)?de.refs.forEach(ue=>{(!ue.defaultChecked||!ue.disabled)&&(Array.isArray(H)?ue.checked=!!H.find(me=>me===ue.value):ue.checked=H===ue.value||!!H)}):de.refs.forEach(ue=>ue.checked=ue.value===H):gk(de.ref)?de.ref.value="":(de.ref.value=H,de.ref.type||p.state.next({name:ie,values:en(i)})))}(Oe.shouldDirty||Oe.shouldTouch)&&C(ie,H,Oe.shouldTouch,Oe.shouldDirty,!0),Oe.shouldValidate&&X(ie)},q=(ie,Ce,Oe)=>{for(const Je in Ce){if(!Ce.hasOwnProperty(Je))return;const H=Ce[Je],de=ie+"."+Je,ue=Ht(s,de);(l.array.has(ie)||Rs(H)||ue&&!ue._f)&&!B0(H)?q(de,H,Oe):O(de,H,Oe)}},$=(ie,Ce,Oe={})=>{const Je=Ht(s,ie),H=l.array.has(ie),de=en(Ce);ga(i,ie,de),H?(p.array.next({name:ie,values:en(i)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&Oe.shouldDirty&&p.state.next({name:ie,dirtyFields:Lf(n,i),isDirty:T(ie,de)})):Je&&!Je._f&&!fi(de)?q(ie,de,Oe):O(ie,de,Oe),G_(ie,l)&&p.state.next({...a,name:ie}),p.state.next({name:o.mount?ie:void 0,values:en(i)})},K=async ie=>{o.mount=!0;const Ce=ie.target;let Oe=Ce.name,Je=!0;const H=Ht(s,Oe),de=Se=>{Je=Number.isNaN(Se)||B0(Se)&&isNaN(Se.getTime())||md(Se,Ht(i,Oe,Se))},ue=H_(r.mode),me=H_(r.reValidateMode);if(H){let Se,Ye;const kt=Ce.type?V_(H._f):Y7(ie),it=ie.type===wy.BLUR||ie.type===wy.FOCUS_OUT,ft=!Wq(H._f)&&!r.resolver&&!Ht(a.errors,Oe)&&!H._f.deps||Kq(it,Ht(a.touchedFields,Oe),a.isSubmitted,me,ue),Te=G_(Oe,l,it);ga(i,Oe,kt),it?(!Ce||!Ce.readOnly)&&(H._f.onBlur&&H._f.onBlur(ie),c&&c(0)):H._f.onChange&&H._f.onChange(ie);const oe=C(Oe,kt,it),_e=!Li(oe)||Te;if(!it&&p.state.next({name:Oe,type:ie.type,values:en(i)}),ft)return(u.isValid||f.isValid)&&(r.mode==="onBlur"?it&&v():it||v()),_e&&p.state.next({name:Oe,...Te?{}:oe});if(!it&&Te&&p.state.next({...a}),r.resolver){const{errors:et}=await U([Oe]);if(de(kt),Je){const Ve=Y_(a.errors,s,Oe),Wt=Y_(et,s,Ve.name||Oe);Se=Wt.error,Oe=Wt.name,Ye=Li(et)}}else w([Oe],!0),Se=(await J_(H,l.disabled,i,g,r.shouldUseNativeValidation))[Oe],w([Oe]),de(kt),Je&&(Se?Ye=!1:(u.isValid||f.isValid)&&(Ye=await E(s,!0)));Je&&(H._f.deps&&X(H._f.deps),D(Oe,Ye,Se,oe))}},J=(ie,Ce)=>{if(Ht(a.errors,Ce)&&ie.focus)return ie.focus(),1},X=async(ie,Ce={})=>{let Oe,Je;const H=np(ie);if(r.resolver){const de=await z(Ts(ie)?ie:H);Oe=Li(de),Je=ie?!H.some(ue=>Ht(de,ue)):Oe}else ie?(Je=(await Promise.all(H.map(async de=>{const ue=Ht(s,de);return await E(ue&&ue._f?{[de]:ue}:ue)}))).every(Boolean),!(!Je&&!a.isValid)&&v()):Je=Oe=await E(s);return p.state.next({...!bc(ie)||(u.isValid||f.isValid)&&Oe!==a.isValid?{}:{name:ie},...r.resolver||!ie?{isValid:Oe}:{},errors:a.errors}),Ce.shouldFocus&&!Je&&ip(s,J,ie?H:l.mount),Je},be=ie=>{const Ce={...o.mount?i:n};return Ts(ie)?Ce:bc(ie)?Ht(Ce,ie):ie.map(Oe=>Ht(Ce,Oe))},te=(ie,Ce)=>({invalid:!!Ht((Ce||a).errors,ie),isDirty:!!Ht((Ce||a).dirtyFields,ie),error:Ht((Ce||a).errors,ie),isValidating:!!Ht(a.validatingFields,ie),isTouched:!!Ht((Ce||a).touchedFields,ie)}),R=ie=>{ie&&np(ie).forEach(Ce=>qs(a.errors,Ce)),p.state.next({errors:ie?a.errors:{}})},ae=(ie,Ce,Oe)=>{const Je=(Ht(s,ie,{_f:{}})._f||{}).ref,H=Ht(a.errors,ie)||{},{ref:de,message:ue,type:me,...Se}=H;ga(a.errors,ie,{...Se,...Ce,ref:Je}),p.state.next({name:ie,errors:a.errors,isValid:!1}),Oe&&Oe.shouldFocus&&Je&&Je.focus&&Je.focus()},W=(ie,Ce)=>$l(ie)?p.state.subscribe({next:Oe=>"values"in Oe&&ie(F(void 0,Ce),Oe)}):F(ie,Ce,!0),pe=ie=>p.state.subscribe({next:Ce=>{Yq(ie.name,Ce.name,ie.exact)&&Gq(Ce,ie.formState||u,Ue,ie.reRenderRoot)&&ie.callback({values:{...i},...a,...Ce,defaultValues:n})}}).unsubscribe,ce=ie=>(o.mount=!0,f={...f,...ie.formState},pe({...ie,formState:f})),we=(ie,Ce={})=>{for(const Oe of ie?np(ie):l.mount)l.mount.delete(Oe),l.array.delete(Oe),Ce.keepValue||(qs(s,Oe),qs(i,Oe)),!Ce.keepError&&qs(a.errors,Oe),!Ce.keepDirty&&qs(a.dirtyFields,Oe),!Ce.keepTouched&&qs(a.touchedFields,Oe),!Ce.keepIsValidating&&qs(a.validatingFields,Oe),!r.shouldUnregister&&!Ce.keepDefaultValue&&qs(n,Oe);p.state.next({values:en(i)}),p.state.next({...a,...Ce.keepDirty?{isDirty:T()}:{}}),!Ce.keepIsValid&&v()},je=({disabled:ie,name:Ce})=>{(go(ie)&&o.mount||ie||l.disabled.has(Ce))&&(ie?l.disabled.add(Ce):l.disabled.delete(Ce))},fe=(ie,Ce={})=>{let Oe=Ht(s,ie);const Je=go(Ce.disabled)||go(r.disabled);return ga(s,ie,{...Oe||{},_f:{...Oe&&Oe._f?Oe._f:{ref:{name:ie}},name:ie,mount:!0,...Ce}}),l.mount.add(ie),Oe?je({disabled:go(Ce.disabled)?Ce.disabled:r.disabled,name:ie}):N(ie,!0,Ce.value),{...Je?{disabled:Ce.disabled||r.disabled}:{},...r.progressive?{required:!!Ce.required,min:Mf(Ce.min),max:Mf(Ce.max),minLength:Mf(Ce.minLength),maxLength:Mf(Ce.maxLength),pattern:Mf(Ce.pattern)}:{},name:ie,onChange:K,onBlur:K,ref:H=>{if(H){fe(ie,Ce),Oe=Ht(s,ie);const de=Ts(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,ue=Uq(de),me=Oe._f.refs||[];if(ue?me.find(Se=>Se===de):de===Oe._f.ref)return;ga(s,ie,{_f:{...Oe._f,...ue?{refs:[...me.filter(Nw),de,...Array.isArray(Ht(n,ie))?[{}]:[]],ref:{type:de.type,name:ie}}:{ref:de}}}),N(ie,!1,void 0,de)}else Oe=Ht(s,ie,{}),Oe._f&&(Oe._f.mount=!1),(r.shouldUnregister||Ce.shouldUnregister)&&!(K7(l.array,ie)&&o.action)&&l.unMount.add(ie)}}},xe=()=>r.shouldFocusError&&ip(s,J,l.mount),$e=ie=>{go(ie)&&(p.state.next({disabled:ie}),ip(s,(Ce,Oe)=>{const Je=Ht(s,Oe);Je&&(Ce.disabled=Je._f.disabled||ie,Array.isArray(Je._f.refs)&&Je._f.refs.forEach(H=>{H.disabled=Je._f.disabled||ie}))},0,!1))},ge=(ie,Ce)=>async Oe=>{let Je;Oe&&(Oe.preventDefault&&Oe.preventDefault(),Oe.persist&&Oe.persist());let H=en(i);if(p.state.next({isSubmitting:!0}),r.resolver){const{errors:de,values:ue}=await U();a.errors=de,H=en(ue)}else await E(s);if(l.disabled.size)for(const de of l.disabled)qs(H,de);if(qs(a.errors,"root"),Li(a.errors)){p.state.next({errors:{}});try{await ie(H,Oe)}catch(de){Je=de}}else Ce&&await Ce({...a.errors},Oe),xe(),setTimeout(xe);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Li(a.errors)&&!Je,submitCount:a.submitCount+1,errors:a.errors}),Je)throw Je},ot=(ie,Ce={})=>{Ht(s,ie)&&(Ts(Ce.defaultValue)?$(ie,en(Ht(n,ie))):($(ie,Ce.defaultValue),ga(n,ie,en(Ce.defaultValue))),Ce.keepTouched||qs(a.touchedFields,ie),Ce.keepDirty||(qs(a.dirtyFields,ie),a.isDirty=Ce.defaultValue?T(ie,en(Ht(n,ie))):T()),Ce.keepError||(qs(a.errors,ie),u.isValid&&v()),p.state.next({...a}))},Ze=(ie,Ce={})=>{const Oe=ie?en(ie):n,Je=en(Oe),H=Li(ie),de=H?n:Je;if(Ce.keepDefaultValues||(n=Oe),!Ce.keepValues){if(Ce.keepDirtyValues){const ue=new Set([...l.mount,...Object.keys(Lf(n,i))]);for(const me of Array.from(ue))Ht(a.dirtyFields,me)?ga(de,me,Ht(i,me)):$(me,Ht(de,me))}else{if(uk&&Ts(ie))for(const ue of l.mount){const me=Ht(s,ue);if(me&&me._f){const Se=Array.isArray(me._f.refs)?me._f.refs[0]:me._f.ref;if(jy(Se)){const Ye=Se.closest("form");if(Ye){Ye.reset();break}}}}if(Ce.keepFieldsRef)for(const ue of l.mount)$(ue,Ht(de,ue));else s={}}i=r.shouldUnregister?Ce.keepDefaultValues?en(n):{}:en(de),p.array.next({values:{...de}}),p.state.next({values:{...de}})}l={mount:Ce.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!Ce.keepIsValid||!!Ce.keepDirtyValues,o.watch=!!r.shouldUnregister,p.state.next({submitCount:Ce.keepSubmitCount?a.submitCount:0,isDirty:H?!1:Ce.keepDirty?a.isDirty:!!(Ce.keepDefaultValues&&!md(ie,n)),isSubmitted:Ce.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:H?{}:Ce.keepDirtyValues?Ce.keepDefaultValues&&i?Lf(n,i):a.dirtyFields:Ce.keepDefaultValues&&ie?Lf(n,ie):Ce.keepDirty?a.dirtyFields:{},touchedFields:Ce.keepTouched?a.touchedFields:{},errors:Ce.keepErrors?a.errors:{},isSubmitSuccessful:Ce.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},Z=(ie,Ce)=>Ze($l(ie)?ie(i):ie,Ce),re=(ie,Ce={})=>{const Oe=Ht(s,ie),Je=Oe&&Oe._f;if(Je){const H=Je.refs?Je.refs[0]:Je.ref;H.focus&&(H.focus(),Ce.shouldSelect&&$l(H.select)&&H.select())}},Ue=ie=>{a={...a,...ie}},Ke={control:{register:fe,unregister:we,getFieldState:te,handleSubmit:ge,setError:ae,_subscribe:pe,_runSchema:U,_focusError:xe,_getWatch:F,_getDirty:T,_setValid:v,_setFieldArray:j,_setDisabledField:je,_setErrors:S,_getFieldArray:Y,_reset:Ze,_resetDefaultValues:()=>$l(r.defaultValues)&&r.defaultValues().then(ie=>{Z(ie,r.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:$e,_subjects:p,_proxyFormState:u,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(ie){o=ie},get _defaultValues(){return n},get _names(){return l},set _names(ie){l=ie},get _formState(){return a},get _options(){return r},set _options(ie){r={...r,...ie}}},subscribe:ce,trigger:X,register:fe,handleSubmit:ge,watch:W,setValue:$,getValues:be,reset:Z,resetField:ot,clearErrors:R,unregister:we,setError:ae,setFocus:re,getFieldState:te};return{...Ke,formControl:Ke}}function iD(t={}){const r=gt.useRef(void 0),a=gt.useRef(void 0),[s,n]=gt.useState({isDirty:!1,isValidating:!1,isLoading:$l(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:$l(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:s},t.defaultValues&&!$l(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=Qq(t);r.current={...l,formState:s}}const i=r.current.control;return i._options=t,pk(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),gt.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),gt.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),gt.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),gt.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),gt.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),gt.useEffect(()=>{t.values&&!md(t.values,a.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),a.current=t.values,n(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),gt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),r.current.formState=X7(s,i),r.current}const X_=(t,r,a)=>{if(t&&"reportValidity"in t){const s=Ht(a,r);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},oD=(t,r)=>{for(const a in r.fields){const s=r.fields[a];s&&s.ref&&"reportValidity"in s.ref?X_(s.ref,a,t):s&&s.refs&&s.refs.forEach(n=>X_(n,a,t))}},eV=(t,r)=>{r.shouldUseNativeValidation&&oD(t,r);const a={};for(const s in t){const n=Ht(r.fields,s),i=Object.assign(t[s]||{},{ref:n&&n.ref});if(tV(r.names||Object.keys(t),s)){const o=Object.assign({},Ht(a,s));ga(o,"root",i),ga(a,s,o)}else ga(a,s,i)}return a},tV=(t,r)=>{const a=Z_(r);return t.some(s=>Z_(s).match(`^${a}\\.\\d+`))};function Z_(t){return t.replace(/\]|\[/g,"")}function rV(t,r,a){return a===void 0&&(a={}),function(s,n,i){try{return Promise.resolve((function(o,l){try{var c=(r?.context,Promise.resolve(t[a.mode==="sync"?"validateSync":"validate"](s,Object.assign({abortEarly:!1},r,{context:n}))).then(function(d){return i.shouldUseNativeValidation&&oD({},i),{values:a.raw?Object.assign({},s):d,errors:{}}}))}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if(!o.inner)throw o;return{values:{},errors:eV((l=o,c=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(l.inner||[]).reduce(function(d,u){if(d[u.path]||(d[u.path]={message:u.message,type:u.type}),c){var f=d[u.path].types,p=f&&f[u.type];d[u.path]=Q7(u.path,c,d,u.type,p?[].concat(p,u.message):u.message)}return d},{})),i)};var l,c}))}catch(o){return Promise.reject(o)}}}const mc=({label:t,error:r,registration:a,options:s,type:n="text",className:i="",...o})=>{const l="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors duration-200",c=r?"border-red-500 focus:ring-red-500 focus:border-red-500":"",d=()=>n==="select"&&s?e.jsxs("select",{className:`${l} ${c} ${i}`,...a,...o,children:[e.jsxs("option",{value:"",children:["Select ",t.toLowerCase()]}),s.map(u=>e.jsx("option",{value:u.value,children:u.label},u.value))]}):n==="textarea"?e.jsx("textarea",{className:`${l} ${c} ${i} min-h-[100px] resize-vertical`,...a,...o}):e.jsx("input",{type:n,className:`${l} ${c} ${i}`,...a,...o});return e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t,o.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),d(),r&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r})]})};var kw,Q_;function aV(){if(Q_)return kw;Q_=1;function t(j){this._maxSize=j,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(j){return this._values[j]},t.prototype.set=function(j,_){return this._size>=this._maxSize&&this.clear(),j in this._values||this._size++,this._values[j]=_};var r=/[^.^\]^[]+|(?=\[\]|\.\.)/g,a=/^\d+$/,s=/^\d/,n=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,o=512,l=new t(o),c=new t(o),d=new t(o);kw={Cache:t,split:f,normalizePath:u,setter:function(j){var _=u(j);return c.get(j)||c.set(j,function(N,C){for(var D=0,U=_.length,z=N;D<U-1;){var E=_[D];if(E==="__proto__"||E==="constructor"||E==="prototype")return N;z=z[_[D++]]}z[_[D]]=C})},getter:function(j,_){var S=u(j);return d.get(j)||d.set(j,function(C){for(var D=0,U=S.length;D<U;)if(C!=null||!_)C=C[S[D++]];else return;return C})},join:function(j){return j.reduce(function(_,S){return _+(g(S)||a.test(S)?"["+S+"]":(_?".":"")+S)},"")},forEach:function(j,_,S){p(Array.isArray(j)?j:f(j),_,S)}};function u(j){return l.get(j)||l.set(j,f(j).map(function(_){return _.replace(i,"$2")}))}function f(j){return j.match(r)||[""]}function p(j,_,S){var N=j.length,C,D,U,z;for(D=0;D<N;D++)C=j[D],C&&(w(C)&&(C='"'+C+'"'),z=g(C),U=!z&&/^\d+$/.test(C),_.call(S,C,z,U,D,j))}function g(j){return typeof j=="string"&&j&&["'",'"'].indexOf(j.charAt(0))!==-1}function x(j){return j.match(s)&&!j.match(a)}function v(j){return n.test(j)}function w(j){return!g(j)&&(x(j)||v(j))}return kw}var Q0=aV(),Sw,e3;function sV(){if(e3)return Sw;e3=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,r=u=>u.match(t)||[],a=u=>u[0].toUpperCase()+u.slice(1),s=(u,f)=>r(u).join(f).toLowerCase(),n=u=>r(u).reduce((f,p)=>`${f}${f?p[0].toUpperCase()+p.slice(1).toLowerCase():p.toLowerCase()}`,"");return Sw={words:r,upperFirst:a,camelCase:n,pascalCase:u=>a(n(u)),snakeCase:u=>s(u,"_"),kebabCase:u=>s(u,"-"),sentenceCase:u=>a(s(u," ")),titleCase:u=>r(u).map(a).join(" ")},Sw}var _w=sV(),gx={exports:{}},t3;function nV(){if(t3)return gx.exports;t3=1,gx.exports=function(n){return t(r(n),n)},gx.exports.array=t;function t(n,i){var o=n.length,l=new Array(o),c={},d=o,u=a(i),f=s(n);for(i.forEach(function(g){if(!f.has(g[0])||!f.has(g[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});d--;)c[d]||p(n[d],d,new Set);return l;function p(g,x,v){if(v.has(g)){var w;try{w=", node was:"+JSON.stringify(g)}catch{w=""}throw new Error("Cyclic dependency"+w)}if(!f.has(g))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(g));if(!c[x]){c[x]=!0;var j=u.get(g)||new Set;if(j=Array.from(j),x=j.length){v.add(g);do{var _=j[--x];p(_,f.get(_),v)}while(x);v.delete(g)}l[--o]=g}}}function r(n){for(var i=new Set,o=0,l=n.length;o<l;o++){var c=n[o];i.add(c[0]),i.add(c[1])}return Array.from(i)}function a(n){for(var i=new Map,o=0,l=n.length;o<l;o++){var c=n[o];i.has(c[0])||i.set(c[0],new Set),i.has(c[1])||i.set(c[1],new Set),i.get(c[0]).add(c[1])}return i}function s(n){for(var i=new Map,o=0,l=n.length;o<l;o++)i.set(n[o],o);return i}return gx.exports}var iV=nV();const oV=ml(iV),lV=Object.prototype.toString,cV=Error.prototype.toString,dV=RegExp.prototype.toString,uV=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",hV=/^Symbol\((.*)\)(.*)$/;function mV(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function r3(t,r=!1){if(t==null||t===!0||t===!1)return""+t;const a=typeof t;if(a==="number")return mV(t);if(a==="string")return r?`"${t}"`:t;if(a==="function")return"[Function "+(t.name||"anonymous")+"]";if(a==="symbol")return uV.call(t).replace(hV,"Symbol($1)");const s=lV.call(t).slice(8,-1);return s==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):s==="Error"||t instanceof Error?"["+cV.call(t)+"]":s==="RegExp"?dV.call(t):null}function $u(t,r){let a=r3(t,r);return a!==null?a:JSON.stringify(t,function(s,n){let i=r3(this[s],r);return i!==null?i:n},2)}function lD(t){return t==null?[]:[].concat(t)}let cD,dD,uD,fV=/\$\{\s*(\w+)\s*\}/g;cD=Symbol.toStringTag;class a3{constructor(r,a,s,n){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[cD]="Error",this.name="ValidationError",this.value=a,this.path=s,this.type=n,this.errors=[],this.inner=[],lD(r).forEach(i=>{if(pi.isError(i)){this.errors.push(...i.errors);const o=i.inner.length?i.inner:[i];this.inner.push(...o)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}dD=Symbol.hasInstance;uD=Symbol.toStringTag;class pi extends Error{static formatError(r,a){const s=a.label||a.path||"this";return a=Object.assign({},a,{path:s,originalPath:a.path}),typeof r=="string"?r.replace(fV,(n,i)=>$u(a[i])):typeof r=="function"?r(a):r}static isError(r){return r&&r.name==="ValidationError"}constructor(r,a,s,n,i){const o=new a3(r,a,s,n);if(i)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[uD]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,pi)}static[dD](r){return a3[Symbol.hasInstance](r)||super[Symbol.hasInstance](r)}}let yc={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:r,value:a,originalValue:s})=>{const n=s!=null&&s!==a?` (cast from the value \`${$u(s,!0)}\`).`:".";return r!=="mixed"?`${t} must be a \`${r}\` type, but the final value was: \`${$u(a,!0)}\``+n:`${t} must match the configured type. The validated value was: \`${$u(a,!0)}\``+n}},Ri={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},pV={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},h2={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},gV={isValue:"${path} field must be ${value}"},ay={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},xV={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},yV={notType:t=>{const{path:r,value:a,spec:s}=t,n=s.types.length;if(Array.isArray(a)){if(a.length<n)return`${r} tuple value has too few items, expected a length of ${n} but got ${a.length} for value: \`${$u(a,!0)}\``;if(a.length>n)return`${r} tuple value has too many items, expected a length of ${n} but got ${a.length} for value: \`${$u(a,!0)}\``}return pi.formatError(yc.notType,t)}};Object.assign(Object.create(null),{mixed:yc,string:Ri,number:pV,date:h2,object:ay,array:xV,boolean:gV,tuple:yV});const yk=t=>t&&t.__isYupSchema__;class Sy{static fromOptions(r,a){if(!a.then&&!a.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:s,then:n,otherwise:i}=a,o=typeof s=="function"?s:(...l)=>l.every(c=>c===s);return new Sy(r,(l,c)=>{var d;let u=o(...l)?n:i;return(d=u?.(c))!=null?d:c})}constructor(r,a){this.fn=void 0,this.refs=r,this.refs=r,this.fn=a}resolve(r,a){let s=this.refs.map(i=>i.getValue(a?.value,a?.parent,a?.context)),n=this.fn(s,r,a);if(n===void 0||n===r)return r;if(!yk(n))throw new TypeError("conditions must return a schema object");return n.resolve(a)}}const xx={context:"$",value:"."};class Nh{constructor(r,a={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof r!="string")throw new TypeError("ref must be a string, got: "+r);if(this.key=r.trim(),r==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===xx.context,this.isValue=this.key[0]===xx.value,this.isSibling=!this.isContext&&!this.isValue;let s=this.isContext?xx.context:this.isValue?xx.value:"";this.path=this.key.slice(s.length),this.getter=this.path&&Q0.getter(this.path,!0),this.map=a.map}getValue(r,a,s){let n=this.isContext?s:this.isValue?r:a;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(r,a){return this.getValue(r,a?.parent,a?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(r){return r&&r.__isYupRef}}Nh.prototype.__isYupRef=!0;const U0=t=>t==null;function sm(t){function r({value:a,path:s="",options:n,originalValue:i,schema:o},l,c){const{name:d,test:u,params:f,message:p,skipAbsent:g}=t;let{parent:x,context:v,abortEarly:w=o.spec.abortEarly,disableStackTrace:j=o.spec.disableStackTrace}=n;const _={value:a,parent:x,context:v};function S(T={}){const F=hD(Object.assign({value:a,originalValue:i,label:o.spec.label,path:T.path||s,spec:o.spec,disableStackTrace:T.disableStackTrace||j},f,T.params),_),Y=new pi(pi.formatError(T.message||p,F),a,F.path,T.type||d,F.disableStackTrace);return Y.params=F,Y}const N=w?l:c;let C={path:s,parent:x,type:d,from:n.from,createError:S,resolve(T){return mD(T,_)},options:n,originalValue:i,schema:o};const D=T=>{pi.isError(T)?N(T):T?c(null):N(S())},U=T=>{pi.isError(T)?N(T):l(T)};if(g&&U0(a))return D(!0);let E;try{var I;if(E=u.call(C,a,C),typeof((I=E)==null?void 0:I.then)=="function"){if(n.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(E).then(D,U)}}catch(T){U(T);return}D(E)}return r.OPTIONS=t,r}function hD(t,r){if(!t)return t;for(const a of Object.keys(t))t[a]=mD(t[a],r);return t}function mD(t,r){return Nh.isRef(t)?t.getValue(r.value,r.parent,r.context):t}function bV(t,r,a,s=a){let n,i,o;return r?(Q0.forEach(r,(l,c,d)=>{let u=c?l.slice(1,l.length-1):l;t=t.resolve({context:s,parent:n,value:a});let f=t.type==="tuple",p=d?parseInt(u,10):0;if(t.innerType||f){if(f&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(a&&p>=a.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${r}. because there is no value at that index. `);n=a,a=a&&a[p],t=f?t.spec.types[p]:t.innerType}if(!d){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${r}. (failed at: ${o} which is a type: "${t.type}")`);n=a,a=a&&a[u],t=t.fields[u]}i=u,o=c?"["+l+"]":"."+l}),{schema:t,parent:n,parentPath:i}):{parent:n,parentPath:r,schema:t}}class _y extends Set{describe(){const r=[];for(const a of this.values())r.push(Nh.isRef(a)?a.describe():a);return r}resolveAll(r){let a=[];for(const s of this.values())a.push(r(s));return a}clone(){return new _y(this.values())}merge(r,a){const s=this.clone();return r.forEach(n=>s.add(n)),a.forEach(n=>s.delete(n)),s}}function mm(t,r=new Map){if(yk(t)||!t||typeof t!="object")return t;if(r.has(t))return r.get(t);let a;if(t instanceof Date)a=new Date(t.getTime()),r.set(t,a);else if(t instanceof RegExp)a=new RegExp(t),r.set(t,a);else if(Array.isArray(t)){a=new Array(t.length),r.set(t,a);for(let s=0;s<t.length;s++)a[s]=mm(t[s],r)}else if(t instanceof Map){a=new Map,r.set(t,a);for(const[s,n]of t.entries())a.set(s,mm(n,r))}else if(t instanceof Set){a=new Set,r.set(t,a);for(const s of t)a.add(mm(s,r))}else if(t instanceof Object){a={},r.set(t,a);for(const[s,n]of Object.entries(t))a[s]=mm(n,r)}else throw Error(`Unable to clone ${t}`);return a}function vV(t){if(!(t!=null&&t.length))return;const r=[];let a="",s=!1,n=!1;for(let i=0;i<t.length;i++){const o=t[i];if(o==="["&&!n){a&&(r.push(...a.split(".").filter(Boolean)),a=""),s=!0;continue}if(o==="]"&&!n){a&&(/^\d+$/.test(a)?r.push(a):r.push(a.replace(/^"|"$/g,"")),a=""),s=!1;continue}if(o==='"'){n=!n;continue}if(o==="."&&!s&&!n){a&&(r.push(a),a="");continue}a+=o}return a&&r.push(...a.split(".").filter(Boolean)),r}function wV(t,r){const a=r?`${r}.${t.path}`:t.path;return t.errors.map(s=>({message:s,path:vV(a)}))}function fD(t,r){var a;if(!((a=t.inner)!=null&&a.length)&&t.errors.length)return wV(t,r);const s=r?`${r}.${t.path}`:t.path;return t.inner.flatMap(n=>fD(n,s))}class Ac{constructor(r){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new _y,this._blacklist=new _y,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(yc.notType)}),this.type=r.type,this._typeCheck=r.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},r?.spec),this.withMutation(a=>{a.nonNullable()})}get _type(){return this.type}clone(r){if(this._mutate)return r&&Object.assign(this.spec,r),this;const a=Object.create(Object.getPrototypeOf(this));return a.type=this.type,a._typeCheck=this._typeCheck,a._whitelist=this._whitelist.clone(),a._blacklist=this._blacklist.clone(),a.internalTests=Object.assign({},this.internalTests),a.exclusiveTests=Object.assign({},this.exclusiveTests),a.deps=[...this.deps],a.conditions=[...this.conditions],a.tests=[...this.tests],a.transforms=[...this.transforms],a.spec=mm(Object.assign({},this.spec,r)),a}label(r){let a=this.clone();return a.spec.label=r,a}meta(...r){if(r.length===0)return this.spec.meta;let a=this.clone();return a.spec.meta=Object.assign(a.spec.meta||{},r[0]),a}withMutation(r){let a=this._mutate;this._mutate=!0;let s=r(this);return this._mutate=a,s}concat(r){if(!r||r===this)return this;if(r.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${r.type}`);let a=this,s=r.clone();const n=Object.assign({},a.spec,s.spec);return s.spec=n,s.internalTests=Object.assign({},a.internalTests,s.internalTests),s._whitelist=a._whitelist.merge(r._whitelist,r._blacklist),s._blacklist=a._blacklist.merge(r._blacklist,r._whitelist),s.tests=a.tests,s.exclusiveTests=a.exclusiveTests,s.withMutation(i=>{r.tests.forEach(o=>{i.test(o.OPTIONS)})}),s.transforms=[...a.transforms,...s.transforms],s}isType(r){return r==null?!!(this.spec.nullable&&r===null||this.spec.optional&&r===void 0):this._typeCheck(r)}resolve(r){let a=this;if(a.conditions.length){let s=a.conditions;a=a.clone(),a.conditions=[],a=s.reduce((n,i)=>i.resolve(n,r),a),a=a.resolve(r)}return a}resolveOptions(r){var a,s,n,i;return Object.assign({},r,{from:r.from||[],strict:(a=r.strict)!=null?a:this.spec.strict,abortEarly:(s=r.abortEarly)!=null?s:this.spec.abortEarly,recursive:(n=r.recursive)!=null?n:this.spec.recursive,disableStackTrace:(i=r.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(r,a={}){let s=this.resolve(Object.assign({value:r},a)),n=a.assert==="ignore-optionality",i=s._cast(r,a);if(a.assert!==!1&&!s.isType(i)){if(n&&U0(i))return i;let o=$u(r),l=$u(i);throw new TypeError(`The value of ${a.path||"field"} could not be cast to a value that satisfies the schema type: "${s.type}". 

attempted value: ${o} 
`+(l!==o?`result of cast: ${l}`:""))}return i}_cast(r,a){let s=r===void 0?r:this.transforms.reduce((n,i)=>i.call(this,n,r,this),r);return s===void 0&&(s=this.getDefault(a)),s}_validate(r,a={},s,n){let{path:i,originalValue:o=r,strict:l=this.spec.strict}=a,c=r;l||(c=this._cast(c,Object.assign({assert:!1},a)));let d=[];for(let u of Object.values(this.internalTests))u&&d.push(u);this.runTests({path:i,value:c,originalValue:o,options:a,tests:d},s,u=>{if(u.length)return n(u,c);this.runTests({path:i,value:c,originalValue:o,options:a,tests:this.tests},s,n)})}runTests(r,a,s){let n=!1,{tests:i,value:o,originalValue:l,path:c,options:d}=r,u=v=>{n||(n=!0,a(v,o))},f=v=>{n||(n=!0,s(v,o))},p=i.length,g=[];if(!p)return f([]);let x={value:o,originalValue:l,path:c,options:d,schema:this};for(let v=0;v<i.length;v++){const w=i[v];w(x,u,function(_){_&&(Array.isArray(_)?g.push(..._):g.push(_)),--p<=0&&f(g)})}}asNestedTest({key:r,index:a,parent:s,parentPath:n,originalParent:i,options:o}){const l=r??a;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let d=s[l];const u=Object.assign({},o,{strict:!0,parent:s,value:d,originalValue:i[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${n||""}[${c?l:`"${l}"`}]`:(n?`${n}.`:"")+r});return(f,p,g)=>this.resolve(u)._validate(d,u,p,g)}validate(r,a){var s;let n=this.resolve(Object.assign({},a,{value:r})),i=(s=a?.disableStackTrace)!=null?s:n.spec.disableStackTrace;return new Promise((o,l)=>n._validate(r,a,(c,d)=>{pi.isError(c)&&(c.value=d),l(c)},(c,d)=>{c.length?l(new pi(c,d,void 0,void 0,i)):o(d)}))}validateSync(r,a){var s;let n=this.resolve(Object.assign({},a,{value:r})),i,o=(s=a?.disableStackTrace)!=null?s:n.spec.disableStackTrace;return n._validate(r,Object.assign({},a,{sync:!0}),(l,c)=>{throw pi.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new pi(l,r,void 0,void 0,o);i=c}),i}isValid(r,a){return this.validate(r,a).then(()=>!0,s=>{if(pi.isError(s))return!1;throw s})}isValidSync(r,a){try{return this.validateSync(r,a),!0}catch(s){if(pi.isError(s))return!1;throw s}}_getDefault(r){let a=this.spec.default;return a==null?a:typeof a=="function"?a.call(this,r):mm(a)}getDefault(r){return this.resolve(r||{})._getDefault(r)}default(r){return arguments.length===0?this._getDefault():this.clone({default:r})}strict(r=!0){return this.clone({strict:r})}nullability(r,a){const s=this.clone({nullable:r});return s.internalTests.nullable=sm({message:a,name:"nullable",test(n){return n===null?this.schema.spec.nullable:!0}}),s}optionality(r,a){const s=this.clone({optional:r});return s.internalTests.optionality=sm({message:a,name:"optionality",test(n){return n===void 0?this.schema.spec.optional:!0}}),s}optional(){return this.optionality(!0)}defined(r=yc.defined){return this.optionality(!1,r)}nullable(){return this.nullability(!0)}nonNullable(r=yc.notNull){return this.nullability(!1,r)}required(r=yc.required){return this.clone().withMutation(a=>a.nonNullable(r).defined(r))}notRequired(){return this.clone().withMutation(r=>r.nullable().optional())}transform(r){let a=this.clone();return a.transforms.push(r),a}test(...r){let a;if(r.length===1?typeof r[0]=="function"?a={test:r[0]}:a=r[0]:r.length===2?a={name:r[0],test:r[1]}:a={name:r[0],message:r[1],test:r[2]},a.message===void 0&&(a.message=yc.default),typeof a.test!="function")throw new TypeError("`test` is a required parameters");let s=this.clone(),n=sm(a),i=a.exclusive||a.name&&s.exclusiveTests[a.name]===!0;if(a.exclusive&&!a.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return a.name&&(s.exclusiveTests[a.name]=!!a.exclusive),s.tests=s.tests.filter(o=>!(o.OPTIONS.name===a.name&&(i||o.OPTIONS.test===n.OPTIONS.test))),s.tests.push(n),s}when(r,a){!Array.isArray(r)&&typeof r!="string"&&(a=r,r=".");let s=this.clone(),n=lD(r).map(i=>new Nh(i));return n.forEach(i=>{i.isSibling&&s.deps.push(i.key)}),s.conditions.push(typeof a=="function"?new Sy(n,a):Sy.fromOptions(n,a)),s}typeError(r){let a=this.clone();return a.internalTests.typeError=sm({message:r,name:"typeError",skipAbsent:!0,test(s){return this.schema._typeCheck(s)?!0:this.createError({params:{type:this.schema.type}})}}),a}oneOf(r,a=yc.oneOf){let s=this.clone();return r.forEach(n=>{s._whitelist.add(n),s._blacklist.delete(n)}),s.internalTests.whiteList=sm({message:a,name:"oneOf",skipAbsent:!0,test(n){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(n)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),s}notOneOf(r,a=yc.notOneOf){let s=this.clone();return r.forEach(n=>{s._blacklist.add(n),s._whitelist.delete(n)}),s.internalTests.blacklist=sm({message:a,name:"notOneOf",test(n){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(n)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),s}strip(r=!0){let a=this.clone();return a.spec.strip=r,a}describe(r){const a=(r?this.resolve(r):this).clone(),{label:s,meta:n,optional:i,nullable:o}=a.spec;return{meta:n,label:s,optional:i,nullable:o,default:a.getDefault(r),type:a.type,oneOf:a._whitelist.describe(),notOneOf:a._blacklist.describe(),tests:a.tests.filter((c,d,u)=>u.findIndex(f=>f.OPTIONS.name===c.OPTIONS.name)===d).map(c=>{const d=c.OPTIONS.params&&r?hD(Object.assign({},c.OPTIONS.params),r):c.OPTIONS.params;return{name:c.OPTIONS.name,params:d}})}}get"~standard"(){const r=this;return{version:1,vendor:"yup",async validate(s){try{return{value:await r.validate(s,{abortEarly:!1})}}catch(n){if(n instanceof pi)return{issues:fD(n)};throw n}}}}}Ac.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Ac.prototype[`${t}At`]=function(r,a,s={}){const{parent:n,parentPath:i,schema:o}=bV(this,r,a,s.context);return o[t](n&&n[i],Object.assign({},s,{parent:n,path:r}))};for(const t of["equals","is"])Ac.prototype[t]=Ac.prototype.oneOf;for(const t of["not","nope"])Ac.prototype[t]=Ac.prototype.notOneOf;const jV=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function NV(t){const r=m2(t);if(!r)return Date.parse?Date.parse(t):Number.NaN;if(r.z===void 0&&r.plusMinus===void 0)return new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond).valueOf();let a=0;return r.z!=="Z"&&r.plusMinus!==void 0&&(a=r.hourOffset*60+r.minuteOffset,r.plusMinus==="+"&&(a=0-a)),Date.UTC(r.year,r.month,r.day,r.hour,r.minute+a,r.second,r.millisecond)}function m2(t){var r,a;const s=jV.exec(t);return s?{year:od(s[1]),month:od(s[2],1)-1,day:od(s[3],1),hour:od(s[4]),minute:od(s[5]),second:od(s[6]),millisecond:s[7]?od(s[7].substring(0,3)):0,precision:(r=(a=s[7])==null?void 0:a.length)!=null?r:void 0,z:s[8]||void 0,plusMinus:s[9]||void 0,hourOffset:od(s[10]),minuteOffset:od(s[11])}:null}function od(t,r=0){return Number(t)||r}let kV=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,SV=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,_V=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,AV="^\\d{4}-\\d{2}-\\d{2}",CV="\\d{2}:\\d{2}:\\d{2}",PV="(([+-]\\d{2}(:?\\d{2})?)|Z)",EV=new RegExp(`${AV}T${CV}(\\.\\d+)?${PV}$`),TV=t=>U0(t)||t===t.trim(),DV={}.toString();function xn(){return new pD}class pD extends Ac{constructor(){super({type:"string",check(r){return r instanceof String&&(r=r.valueOf()),typeof r=="string"}}),this.withMutation(()=>{this.transform((r,a,s)=>{if(!s.spec.coerce||s.isType(r)||Array.isArray(r))return r;const n=r!=null&&r.toString?r.toString():r;return n===DV?r:n})})}required(r){return super.required(r).withMutation(a=>a.test({message:r||yc.required,name:"required",skipAbsent:!0,test:s=>!!s.length}))}notRequired(){return super.notRequired().withMutation(r=>(r.tests=r.tests.filter(a=>a.OPTIONS.name!=="required"),r))}length(r,a=Ri.length){return this.test({message:a,name:"length",exclusive:!0,params:{length:r},skipAbsent:!0,test(s){return s.length===this.resolve(r)}})}min(r,a=Ri.min){return this.test({message:a,name:"min",exclusive:!0,params:{min:r},skipAbsent:!0,test(s){return s.length>=this.resolve(r)}})}max(r,a=Ri.max){return this.test({name:"max",exclusive:!0,message:a,params:{max:r},skipAbsent:!0,test(s){return s.length<=this.resolve(r)}})}matches(r,a){let s=!1,n,i;return a&&(typeof a=="object"?{excludeEmptyString:s=!1,message:n,name:i}=a:n=a),this.test({name:i||"matches",message:n||Ri.matches,params:{regex:r},skipAbsent:!0,test:o=>o===""&&s||o.search(r)!==-1})}email(r=Ri.email){return this.matches(kV,{name:"email",message:r,excludeEmptyString:!0})}url(r=Ri.url){return this.matches(SV,{name:"url",message:r,excludeEmptyString:!0})}uuid(r=Ri.uuid){return this.matches(_V,{name:"uuid",message:r,excludeEmptyString:!1})}datetime(r){let a="",s,n;return r&&(typeof r=="object"?{message:a="",allowOffset:s=!1,precision:n=void 0}=r:a=r),this.matches(EV,{name:"datetime",message:a||Ri.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:a||Ri.datetime_offset,params:{allowOffset:s},skipAbsent:!0,test:i=>{if(!i||s)return!0;const o=m2(i);return o?!!o.z:!1}}).test({name:"datetime_precision",message:a||Ri.datetime_precision,params:{precision:n},skipAbsent:!0,test:i=>{if(!i||n==null)return!0;const o=m2(i);return o?o.precision===n:!1}})}ensure(){return this.default("").transform(r=>r===null?"":r)}trim(r=Ri.trim){return this.transform(a=>a!=null?a.trim():a).test({message:r,name:"trim",test:TV})}lowercase(r=Ri.lowercase){return this.transform(a=>U0(a)?a:a.toLowerCase()).test({message:r,name:"string_case",exclusive:!0,skipAbsent:!0,test:a=>U0(a)||a===a.toLowerCase()})}uppercase(r=Ri.uppercase){return this.transform(a=>U0(a)?a:a.toUpperCase()).test({message:r,name:"string_case",exclusive:!0,skipAbsent:!0,test:a=>U0(a)||a===a.toUpperCase()})}}xn.prototype=pD.prototype;let IV=new Date(""),OV=t=>Object.prototype.toString.call(t)==="[object Date]";class bk extends Ac{constructor(){super({type:"date",check(r){return OV(r)&&!isNaN(r.getTime())}}),this.withMutation(()=>{this.transform((r,a,s)=>!s.spec.coerce||s.isType(r)||r===null?r:(r=NV(r),isNaN(r)?bk.INVALID_DATE:new Date(r)))})}prepareParam(r,a){let s;if(Nh.isRef(r))s=r;else{let n=this.cast(r);if(!this._typeCheck(n))throw new TypeError(`\`${a}\` must be a Date or a value that can be \`cast()\` to a Date`);s=n}return s}min(r,a=h2.min){let s=this.prepareParam(r,"min");return this.test({message:a,name:"min",exclusive:!0,params:{min:r},skipAbsent:!0,test(n){return n>=this.resolve(s)}})}max(r,a=h2.max){let s=this.prepareParam(r,"max");return this.test({message:a,name:"max",exclusive:!0,params:{max:r},skipAbsent:!0,test(n){return n<=this.resolve(s)}})}}bk.INVALID_DATE=IV;function RV(t,r=[]){let a=[],s=new Set,n=new Set(r.map(([o,l])=>`${o}-${l}`));function i(o,l){let c=Q0.split(o)[0];s.add(c),n.has(`${l}-${c}`)||a.push([l,c])}for(const o of Object.keys(t)){let l=t[o];s.add(o),Nh.isRef(l)&&l.isSibling?i(l.path,o):yk(l)&&"deps"in l&&l.deps.forEach(c=>i(c,o))}return oV.array(Array.from(s),a).reverse()}function s3(t,r){let a=1/0;return t.some((s,n)=>{var i;if((i=r.path)!=null&&i.includes(s))return a=n,!0}),a}function gD(t){return(r,a)=>s3(t,r)-s3(t,a)}const LV=(t,r,a)=>{if(typeof t!="string")return t;let s=t;try{s=JSON.parse(t)}catch{}return a.isType(s)?s:t};function sy(t){if("fields"in t){const r={};for(const[a,s]of Object.entries(t.fields))r[a]=sy(s);return t.setFields(r)}if(t.type==="array"){const r=t.optional();return r.innerType&&(r.innerType=sy(r.innerType)),r}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(sy)}):"optional"in t?t.optional():t}const MV=(t,r)=>{const a=[...Q0.normalizePath(r)];if(a.length===1)return a[0]in t;let s=a.pop(),n=Q0.getter(Q0.join(a),!0)(t);return!!(n&&s in n)};let n3=t=>Object.prototype.toString.call(t)==="[object Object]";function i3(t,r){let a=Object.keys(t.fields);return Object.keys(r).filter(s=>a.indexOf(s)===-1)}const FV=gD([]);function xD(t){return new yD(t)}class yD extends Ac{constructor(r){super({type:"object",check(a){return n3(a)||typeof a=="function"}}),this.fields=Object.create(null),this._sortErrors=FV,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{r&&this.shape(r)})}_cast(r,a={}){var s;let n=super._cast(r,a);if(n===void 0)return this.getDefault(a);if(!this._typeCheck(n))return n;let i=this.fields,o=(s=a.stripUnknown)!=null?s:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(n).filter(f=>!this._nodes.includes(f))),c={},d=Object.assign({},a,{parent:c,__validating:a.__validating||!1}),u=!1;for(const f of l){let p=i[f],g=f in n;if(p){let x,v=n[f];d.path=(a.path?`${a.path}.`:"")+f,p=p.resolve({value:v,context:a.context,parent:c});let w=p instanceof Ac?p.spec:void 0,j=w?.strict;if(w!=null&&w.strip){u=u||f in n;continue}x=!a.__validating||!j?p.cast(n[f],d):n[f],x!==void 0&&(c[f]=x)}else g&&!o&&(c[f]=n[f]);(g!==f in c||c[f]!==n[f])&&(u=!0)}return u?c:n}_validate(r,a={},s,n){let{from:i=[],originalValue:o=r,recursive:l=this.spec.recursive}=a;a.from=[{schema:this,value:o},...i],a.__validating=!0,a.originalValue=o,super._validate(r,a,s,(c,d)=>{if(!l||!n3(d)){n(c,d);return}o=o||d;let u=[];for(let f of this._nodes){let p=this.fields[f];!p||Nh.isRef(p)||u.push(p.asNestedTest({options:a,key:f,parent:d,parentPath:a.path,originalParent:o}))}this.runTests({tests:u,value:d,originalValue:o,options:a},s,f=>{n(f.sort(this._sortErrors).concat(c),d)})})}clone(r){const a=super.clone(r);return a.fields=Object.assign({},this.fields),a._nodes=this._nodes,a._excludedEdges=this._excludedEdges,a._sortErrors=this._sortErrors,a}concat(r){let a=super.concat(r),s=a.fields;for(let[n,i]of Object.entries(this.fields)){const o=s[n];s[n]=o===void 0?i:o}return a.withMutation(n=>n.setFields(s,[...this._excludedEdges,...r._excludedEdges]))}_getDefault(r){if("default"in this.spec)return super._getDefault(r);if(!this._nodes.length)return;let a={};return this._nodes.forEach(s=>{var n;const i=this.fields[s];let o=r;(n=o)!=null&&n.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[s]})),a[s]=i&&"getDefault"in i?i.getDefault(o):void 0}),a}setFields(r,a){let s=this.clone();return s.fields=r,s._nodes=RV(r,a),s._sortErrors=gD(Object.keys(r)),a&&(s._excludedEdges=a),s}shape(r,a=[]){return this.clone().withMutation(s=>{let n=s._excludedEdges;return a.length&&(Array.isArray(a[0])||(a=[a]),n=[...s._excludedEdges,...a]),s.setFields(Object.assign(s.fields,r),n)})}partial(){const r={};for(const[a,s]of Object.entries(this.fields))r[a]="optional"in s&&s.optional instanceof Function?s.optional():s;return this.setFields(r)}deepPartial(){return sy(this)}pick(r){const a={};for(const s of r)this.fields[s]&&(a[s]=this.fields[s]);return this.setFields(a,this._excludedEdges.filter(([s,n])=>r.includes(s)&&r.includes(n)))}omit(r){const a=[];for(const s of Object.keys(this.fields))r.includes(s)||a.push(s);return this.pick(a)}from(r,a,s){let n=Q0.getter(r,!0);return this.transform(i=>{if(!i)return i;let o=i;return MV(i,r)&&(o=Object.assign({},i),s||delete o[r],o[a]=n(i)),o})}json(){return this.transform(LV)}exact(r){return this.test({name:"exact",exclusive:!0,message:r||ay.exact,test(a){if(a==null)return!0;const s=i3(this.schema,a);return s.length===0||this.createError({params:{properties:s.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(r=!0,a=ay.noUnknown){typeof r!="boolean"&&(a=r,r=!0);let s=this.test({name:"noUnknown",exclusive:!0,message:a,test(n){if(n==null)return!0;const i=i3(this.schema,n);return!r||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return s.spec.noUnknown=r,s}unknown(r=!0,a=ay.noUnknown){return this.noUnknown(!r,a)}transformKeys(r){return this.transform(a=>{if(!a)return a;const s={};for(const n of Object.keys(a))s[r(n)]=a[n];return s})}camelCase(){return this.transformKeys(_w.camelCase)}snakeCase(){return this.transformKeys(_w.snakeCase)}constantCase(){return this.transformKeys(r=>_w.snakeCase(r).toUpperCase())}describe(r){const a=(r?this.resolve(r):this).clone(),s=super.describe(r);s.fields={};for(const[i,o]of Object.entries(a.fields)){var n;let l=r;(n=l)!=null&&n.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),s.fields[i]=o.describe(l)}return s}}xD.prototype=yD.prototype;const $V=xD({firstName:xn().required("First name is required"),lastName:xn().required("Last name is required"),middleName:xn().optional(),extensionName:xn().optional().nullable(),emailAddress:xn().email("Invalid email").required("Email address is required"),contactNumber:xn().required("Contact number is required"),schoolYear:xn().required("School year is required"),schoolTerm:xn().required("School term is required"),currentEducationalLevel:xn().required("Educational level is required"),course:xn().required("Course/Program is required"),yearLevel:xn().required("Year level is required"),unitsEnrolled:xn().required("Units enrolled is required"),gwa:xn().required("GWA is required"),isGraduating:xn().required("Graduating status is required"),paymentMethod:xn().required("Payment method is required"),bankName:xn().when("paymentMethod",{is:t=>t==="Bank Transfer",then:t=>t.required("Bank name is required"),otherwise:t=>t.optional()}),walletAccountNumber:xn().when("paymentMethod",{is:t=>t&&t!=="Cash",then:t=>t.required("Account/Mobile number is required"),otherwise:t=>t.optional()})}),BV=()=>{const t=Gi(),r=_r(q=>q.currentUser),[a,s]=b.useState(1),[n,i]=b.useState(!0),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[u,f]=b.useState(null),[p,g]=b.useState(null),[x,v]=b.useState([]),[w,j]=b.useState(null),{register:_,handleSubmit:S,setValue:N,watch:C,formState:{errors:D}}=iD({resolver:rV($V),mode:"onChange",defaultValues:{isGraduating:"No",paymentMethod:"",bankName:"",walletAccountNumber:"",middleName:"",extensionName:""}}),U=C("paymentMethod"),[z,E]=b.useState(null);b.useEffect(()=>{r&&(async()=>{try{i(!0);const[$,K]=await Promise.all([Ut.getUserApplications(),Ut.getAcademicPeriods()]),J=K.find(ae=>ae.status==="open"&&ae.is_current),X=!!J;if(E(X),!X){j(!1);return}if(J){console.log("Auto-populating renewal academic period:",J),N("schoolYear",J.academic_year);let ae="";J.period_type==="Semester"?J.period_number===1?ae="1st Semester":J.period_number===2?ae="2nd Semester":J.period_number===3&&(ae="Summer"):J.period_number===1?ae=`1st ${J.period_type}`:J.period_number===2?ae=`2nd ${J.period_type}`:J.period_number===3&&(ae=`3rd ${J.period_type}`),ae&&N("schoolTerm",ae)}const be=["approved","grants_disbursed"],te=$.filter(ae=>be.includes(ae.status?.toLowerCase()));if(te.length===0){j(!1),f("You are not eligible for renewal. Please submit a new application first."),setTimeout(()=>{t("/portal")},3e3);return}j(!0);const R=te[0];R?(g(R),N("firstName",R.student?.first_name||r?.first_name||""),N("lastName",R.student?.last_name||r?.last_name||""),N("middleName",R.student?.middle_name||""),N("extensionName",R.student?.extension_name||""),N("emailAddress",R.student?.email_address||r?.email||""),N("contactNumber",R.student?.contact_number||""),N("currentEducationalLevel","Tertiary/College"),R.student?.academic_records?.[0]?.program&&N("course",R.student.academic_records[0].program),R.wallet_account_number&&(N("walletAccountNumber",R.wallet_account_number),R.wallet_account_number.startsWith("09")?N("paymentMethod",R.digital_wallets?.[0]||"GCash"):N("paymentMethod","Bank Transfer"))):(N("firstName",r?.first_name||""),N("lastName",r?.last_name||""),N("emailAddress",r?.email||""))}catch($){console.error("Error fetching previous application:",$),f("Failed to load previous application data. You may need to fill in all fields manually."),j(!1)}finally{i(!1)}})()},[r,N,t]);const I=q=>{if(q.target.files){const $=Array.from(q.target.files);v(K=>[...K,...$])}},T=q=>{v($=>$.filter(K=>K.name!==q))},F=async q=>{if(l(!0),f(null),x.length===0){f("Please upload the required renewal documents (e.g., Grades, Certificate of Registration)."),l(!1);return}try{const $={...q,type:"renewal",previous_application_id:p?.id};console.log("Submitting Renewal:",$),await new Promise(K=>setTimeout(K,1500)),d(!0)}catch($){console.error($),f("Failed to submit renewal application. Please try again.")}finally{l(!1)}},Y=()=>s(q=>Math.min(q+1,3)),O=()=>s(q=>Math.max(q-1,1));return z===!1?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center max-w-md w-full",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-full inline-block mb-4",children:e.jsx("div",{className:"w-12 h-12 text-yellow-600 flex items-center justify-center font-bold text-2xl",children:"!"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Applications Closed"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Scholarship renewal applications are currently closed. Please wait for the next academic period to open."}),e.jsx(Es,{onClick:()=>t("/portal"),className:"w-full",children:"Return to Dashboard"})]})}):w===!1?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center max-w-md w-full",children:[e.jsx(Qt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Eligible for Renewal"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You need to have a completed scholarship application from a previous semester before you can renew. Please submit a new application first."}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Redirecting you back to the portal..."}),e.jsx(Es,{onClick:()=>t("/portal"),className:"w-full",children:"Return to Portal Now"})]})}):n?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(za,{className:"h-10 w-10 text-green-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your information..."})]})}):c?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center max-w-md w-full",children:[e.jsx(jt,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Renewal Submitted!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your scholarship renewal application has been successfully submitted. We will review your academic records and updated documents."}),e.jsx(Es,{onClick:()=>t("/portal"),className:"w-full",children:"Return to Portal"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-4",children:[e.jsx(Cm,{to:"/portal",className:"hover:text-green-600",children:"Portal"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:"Renewal Application"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scholarship Renewal"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Update your academic information for the new term."})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-gray-200 -z-0"}),[1,2,3].map(q=>e.jsxs("div",{className:`relative z-10 flex flex-col items-center ${q<=a?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold border-2 bg-white
                  ${q<=a?"border-green-600 text-green-600":"border-gray-300 text-gray-400"}
                  ${q===a?"ring-4 ring-green-50":""}
                `,children:q}),e.jsx("span",{className:"text-xs font-medium mt-2 bg-gray-50 px-2",children:q===1?"Personal Info":q===2?"Academic Updates":"Documents"})]},q))]})}),e.jsxs("form",{onSubmit:S(F),className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[u&&e.jsxs("div",{className:"p-4 bg-red-50 border-l-4 border-red-500 text-red-700 mx-6 mt-6 flex items-start",children:[e.jsx(Qt,{className:"h-5 w-5 mr-2 flex-shrink-0"}),e.jsx("p",{children:u})]}),e.jsxs("div",{className:"p-6 md:p-8",children:[a===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6 pb-4 border-b border-gray-100",children:[e.jsx(Hr,{className:"h-6 w-6 text-green-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Review Personal Information"})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg text-sm text-blue-700 mb-6",children:e.jsx("p",{children:"Some information has been pre-filled from your previous application. Please verify it is correct. Most fields are read-only to ensure consistency."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(mc,{label:"First Name",registration:_("firstName"),error:D.firstName?.message,disabled:!0,className:"bg-gray-50"}),e.jsx(mc,{label:"Last Name",registration:_("lastName"),error:D.lastName?.message,disabled:!0,className:"bg-gray-50"}),e.jsx(mc,{label:"Middle Name",registration:_("middleName"),error:D.middleName?.message,disabled:!0,className:"bg-gray-50"}),e.jsx(mc,{label:"Name Extension",registration:_("extensionName"),disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-gray-100",children:[e.jsx("div",{className:"col-span-1 md:col-span-2",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Contact Information (Editable)"})}),e.jsx(mc,{label:"Email Address",registration:_("emailAddress"),error:D.emailAddress?.message}),e.jsx(mc,{label:"Mobile Number",registration:_("contactNumber"),error:D.contactNumber?.message})]})]}),a===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6 pb-4 border-b border-gray-100",children:[e.jsx(rn,{className:"h-6 w-6 text-green-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Academic Updates"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Year *"}),e.jsxs("select",{..._("schoolYear"),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Select School Year"}),e.jsx("option",{value:"2024-2025",children:"2024-2025"}),e.jsx("option",{value:"2025-2026",children:"2025-2026"})]}),D.schoolYear&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:D.schoolYear.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Term/Semester *"}),e.jsxs("select",{..._("schoolTerm"),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"1st Semester",children:"1st Semester"}),e.jsx("option",{value:"2nd Semester",children:"2nd Semester"}),e.jsx("option",{value:"Trimester",children:"Trimester"}),e.jsx("option",{value:"Summer",children:"Summer"})]}),D.schoolTerm&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:D.schoolTerm.message})]}),e.jsx(mc,{label:"Course/Program",registration:_("course"),error:D.course?.message,placeholder:"e.g. BS Information Technology"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year Level *"}),e.jsxs("select",{..._("yearLevel"),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Select Year Level"}),e.jsx("option",{value:"1st Year",children:"1st Year"}),e.jsx("option",{value:"2nd Year",children:"2nd Year"}),e.jsx("option",{value:"3rd Year",children:"3rd Year"}),e.jsx("option",{value:"4th Year",children:"4th Year"}),e.jsx("option",{value:"5th Year",children:"5th Year"})]}),D.yearLevel&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:D.yearLevel.message})]}),e.jsx(mc,{label:"General Weighted Average (GWA)",registration:_("gwa"),error:D.gwa?.message,placeholder:"e.g. 1.50"}),e.jsx(mc,{label:"Units Enrolled",registration:_("unitsEnrolled"),error:D.unitsEnrolled?.message,placeholder:"e.g. 21"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Are you Graduating this term? *"}),e.jsxs("select",{..._("isGraduating"),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"No",children:"No"}),e.jsx("option",{value:"Yes",children:"Yes"})]}),D.isGraduating&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:D.isGraduating.message})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[e.jsxs("h3",{className:"text-md font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(va,{className:"h-5 w-5 mr-2 text-green-600"}),"Disbursement Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),e.jsxs("select",{..._("paymentMethod"),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Select Payment Method"}),e.jsx("option",{value:"GCash",children:"GCash"}),e.jsx("option",{value:"PayMaya",children:"PayMaya"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Cash",children:"Cash (Over-the-counter)"})]}),D.paymentMethod&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:D.paymentMethod.message})]}),U==="Bank Transfer"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name *"}),e.jsxs("select",{..._("bankName"),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"",children:"Select Bank"}),e.jsx("option",{value:"BDO",children:"BDO"}),e.jsx("option",{value:"BPI",children:"BPI"}),e.jsx("option",{value:"Metrobank",children:"Metrobank"}),e.jsx("option",{value:"Landbank",children:"Landbank"}),e.jsx("option",{value:"PNB",children:"PNB"}),e.jsx("option",{value:"RCBC",children:"RCBC"}),e.jsx("option",{value:"Unionbank",children:"Unionbank"}),e.jsx("option",{value:"Chinabank",children:"Chinabank"}),e.jsx("option",{value:"Others",children:"Others"})]}),D.bankName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:D.bankName.message})]}),U&&U!=="Cash"&&e.jsx(mc,{label:U==="Bank Transfer"?"Bank Account Number":"Mobile Number",registration:_("walletAccountNumber"),error:D.walletAccountNumber?.message,placeholder:U==="Bank Transfer"?"e.g. 1234567890":"e.g. 09171234567"})]})]})]}),a===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6 pb-4 border-b border-gray-100",children:[e.jsx(Kt,{className:"h-6 w-6 text-green-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Required Documents"})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-yellow-800 mb-2",children:"Important for Renewal:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-yellow-700 space-y-1",children:[e.jsxs("li",{children:["Upload your ",e.jsx("strong",{children:"Certificate of Registration/Enrollment"})," for the new term."]}),e.jsxs("li",{children:["Upload your ",e.jsx("strong",{children:"Certificate of Grades/TOR"})," from the previous term."]}),e.jsx("li",{children:"Ensure documents are clear and readable."})]})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:bg-gray-50 transition-colors cursor-pointer relative",children:[e.jsx("input",{type:"file",multiple:!0,onChange:I,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:".pdf,.jpg,.jpeg,.png"}),e.jsx(cl,{className:"h-10 w-10 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-900 font-medium",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"PDF, JPG, PNG (Max 5MB)"})]}),x.length>0&&e.jsx("div",{className:"space-y-3",children:x.map((q,$)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-md border border-gray-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Kt,{className:"h-5 w-5 text-gray-500 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:q.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(q.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx(Es,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 border-red-200 hover:bg-red-50",onClick:()=>T(q.name),type:"button",children:"Remove"})]},$))})]})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between items-center border-t border-gray-100",children:[a>1?e.jsxs(Es,{type:"button",variant:"outline",onClick:O,disabled:o,children:[e.jsx(Xp,{className:"h-4 w-4 mr-2"})," Previous"]}):e.jsx("div",{}),a<3?e.jsxs(Es,{type:"button",onClick:Y,className:"bg-green-600 hover:bg-green-700 text-white",children:["Next ",e.jsx(Zp,{className:"h-4 w-4 ml-2"})]}):e.jsx(Es,{type:"submit",disabled:o,className:"bg-green-600 hover:bg-green-700 text-white min-w-[150px]",children:o?e.jsxs(e.Fragment,{children:[e.jsx(za,{className:"h-4 w-4 mr-2 animate-spin"})," Submitting..."]}):"Submit Renewal"})]})]})]})})},UV={maxSizeMB:10,allowedTypes:["application/pdf","image/jpeg","image/png"],checkSignature:!0,checkPDFSafety:!0},zV=async t=>new Promise(r=>{const a=new FileReader;a.onload=s=>{const n=s.target?.result,i=new Uint8Array(n),o=Array.from(i.slice(0,8)).map(u=>u.toString(16).padStart(2,"0")).join(" ").toUpperCase(),l=t.name.toLowerCase(),c=t.type.toLowerCase();let d=!1;c==="application/pdf"||l.endsWith(".pdf")?d=String.fromCharCode(...i.slice(0,4))==="%PDF":c==="image/png"||l.endsWith(".png")?d=o.startsWith("89 50 4E 47"):c==="image/jpeg"||l.endsWith(".jpg")||l.endsWith(".jpeg")?d=o.startsWith("FF D8 FF"):d=!0,r(d)},a.readAsArrayBuffer(t.slice(0,8))}),qV=(t,r)=>{const a=r*1024*1024;return t.size<=a},VV=(t,r)=>r.includes(t.type),HV=async(t,r={})=>{const a={...UV,...r},s=[];return qV(t,a.maxSizeMB)?VV(t,a.allowedTypes)?a.checkSignature&&!await zV(t)?{isValid:!1,error:"File signature does not match file extension. File may be corrupted or malicious."}:(a.checkPDFSafety&&t.type,t.size>5*1024*1024&&s.push("Large file detected. Upload may take longer."),t.type==="application/pdf"&&t.size<1024&&s.push("PDF file is very small. Please verify it contains the expected content."),{isValid:!0,warnings:s.length>0?s:void 0}):{isValid:!1,error:`File type not allowed. Accepted types: ${a.allowedTypes.join(", ")}`}:{isValid:!1,error:`File size exceeds ${a.maxSizeMB}MB limit`}},WV=t=>{const r=t.type.toLowerCase();return r==="application/pdf"?"":r.startsWith("image/")?"":r.includes("word")?"":r.includes("excel")||r.includes("spreadsheet")?"":""},o3=t=>{if(t===0)return"0 Bytes";const r=1024,a=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,s)).toFixed(2))+" "+a[s]},GV=({documentTypeId:t,documentTypeName:r,studentId:a,applicationId:s,isUploading:n=!1,existingDocument:i,onUploadStart:o,onUploadSuccess:l,onUploadError:c,showRemoveButton:d=!1,onRemove:u,maxSizeMB:f=10,acceptedTypes:p=["application/pdf","image/jpeg","image/png"],className:g=""})=>{const[x,v]=b.useState(!1),[w,j]=b.useState(null),[_,S]=b.useState(null),[N,C]=b.useState(!1),[D]=b.useState(`file-upload-${t}-${Math.random().toString(36).substr(2,9)}`);b.useEffect(()=>(console.log(` SecureDocumentUpload mounted for ${r} (ID: ${t})`),()=>console.log(` SecureDocumentUpload unmounted for ${r}`)),[r,t]);const U=b.useCallback(q=>{q.preventDefault(),q.stopPropagation(),q.type==="dragenter"||q.type==="dragover"?v(!0):q.type==="dragleave"&&v(!1)},[]),z=async q=>{console.log(" File selected:",q.name,q.type,q.size),C(!0),j(q),S(null);try{console.log(" Starting validation...");const $=await HV(q,{maxSizeMB:f,allowedTypes:p,checkSignature:!0,checkPDFSafety:!0});console.log(" Validation result:",$),S($),$.isValid?(console.log(" Starting upload..."),await I(q)):(console.error(" Validation failed:",$.error),c($.error||"File validation failed"))}catch($){console.error(" File validation error:",$),c("File validation failed. Please try again.")}finally{C(!1)}},E=b.useCallback(q=>{q.preventDefault(),q.stopPropagation(),v(!1);const $=q.dataTransfer.files;$&&$[0]&&z($[0])},[z]),I=async q=>{console.log(" Upload started for:",q.name),o();try{const $=new FormData;$.append("file",q),$.append("student_id",a.toString()),$.append("application_id",s.toString()),$.append("document_type_id",t.toString());const K=bo(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.FORM_UPLOAD_DOCUMENT),J=await fetch(K,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:$});if(!J.ok){const be=await J.json();throw new Error(be.message||"Upload failed")}const X=await J.json();l(X.data),j(null),S(null)}catch($){console.error("Upload error:",$);const K=$ instanceof Error?$.message:"Upload failed";K.includes("security")||K.includes("virus")?c(" Security Alert: "+K):c(K)}},T=q=>{console.log(" File input changed, files:",q.target.files);const $=q.target.files?.[0];$?(console.log(" File found:",$.name),z($)):console.warn(" No file selected"),q.target.value=""},F=()=>{j(null),S(null)},Y=()=>N?e.jsx(lr,{className:"h-4 w-4 text-blue-500 animate-spin"}):_?.isValid?e.jsx(jt,{className:"h-4 w-4 text-green-500"}):_&&!_.isValid?e.jsx(Qt,{className:"h-4 w-4 text-red-500"}):e.jsx(Ns,{className:"h-4 w-4 text-gray-400"}),O=()=>N?"border-blue-300 bg-blue-50":_?.isValid?"border-green-300 bg-green-50":_&&!_.isValid?"border-red-300 bg-red-50":"border-gray-300 bg-white";return i?e.jsx("div",{className:`p-3 rounded-lg border ${O()} ${g}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[Y(),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i.file_name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[o3(i.file_size||0)," ",new Date(i.created_at).toLocaleDateString()]}),i.verification_notes&&e.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:["Note: ",i.verification_notes]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-semibold ${i.status==="verified"?"bg-green-100 text-green-800":i.status==="rejected"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:i.status==="verified"?" Verified":i.status==="rejected"?" Rejected":" Pending"}),d&&u&&e.jsx("button",{onClick:u,disabled:n,className:"p-1 text-red-500 hover:text-red-700 disabled:opacity-50",title:"Remove document",children:e.jsx(bn,{className:"h-3 w-3"})})]})]})}):e.jsxs("div",{className:`space-y-2 ${g}`,children:[e.jsx("label",{htmlFor:D,className:`cursor-pointer w-full flex flex-col items-center justify-center p-4 border-2 border-dashed rounded-lg transition-colors ${x?"border-orange-400 bg-orange-50":"border-gray-300 hover:border-orange-400 hover:bg-orange-50"} ${n?"opacity-50 pointer-events-none":""}`,onDragEnter:U,onDragLeave:U,onDragOver:U,onDrop:E,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:n||N?e.jsx(za,{className:"h-8 w-8 text-orange-500 animate-spin"}):Y()}),e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:n?" Uploading file...":N?" Validating file...":_?.isValid?"File validated ":_&&!_.isValid?"Validation failed":`Upload ${r}`}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Drag and drop or click to browse"}),w&&e.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded border text-left",onClick:q=>q.preventDefault(),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx("span",{className:"text-lg",children:WV(w)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:w.name}),e.jsx("p",{className:"text-xs text-gray-500",children:o3(w.size)})]})]}),e.jsx("button",{onClick:q=>{q.stopPropagation(),F()},className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx(dr,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:`inline-flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${n||N?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600"}`,children:[n||N?e.jsx(za,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(cl,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:n?"Uploading...":N?"Validating...":"Choose File"})]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Max ",f,"MB  ",p.join(", ")]})]})}),e.jsx("input",{id:D,type:"file",accept:p.join(","),onChange:T,className:"hidden",disabled:n||N}),_?.warnings&&_.warnings.length>0&&e.jsx("div",{className:"p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800",children:_.warnings.map((q,$)=>e.jsxs("p",{children:[" ",q]},$))}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsx(Ns,{className:"h-3 w-3"}),e.jsx("span",{children:"Files are automatically scanned for security threats"})]})]})},YV=({applicationId:t})=>{const[r,a]=b.useState(null),[s,n]=b.useState(!1),[i,o]=b.useState(null),l=b.useCallback(async()=>{try{n(!0);const S=(await Ut.getInterviewSchedules()).find(N=>N.application_id===t);a(S||null)}catch(_){console.error("Error fetching interview schedule:",_),o("Failed to load interview schedule")}finally{n(!1)}},[t]);b.useEffect(()=>{l()},[t,l]);const c=_=>{switch(_){case"completed":return e.jsx(jt,{className:"h-5 w-5 text-green-500"});case"cancelled":return e.jsx(mr,{className:"h-5 w-5 text-red-500"});case"no_show":return e.jsx(Qt,{className:"h-5 w-5 text-orange-500"});case"rescheduled":return e.jsx(Nr,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(lr,{className:"h-5 w-5 text-blue-500"})}},d=_=>{switch(_){case"completed":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";case"no_show":return"text-orange-600 bg-orange-100";case"rescheduled":return"text-blue-600 bg-blue-100";default:return"text-blue-600 bg-blue-100"}},u=_=>{switch(_){case"completed":return"Completed";case"cancelled":return"Cancelled";case"no_show":return"No Show";case"rescheduled":return"Rescheduled";default:return"Scheduled"}},f=_=>{switch(_){case"online":return e.jsx(Mi,{className:"h-5 w-5 text-blue-500"});case"phone":return e.jsx(qi,{className:"h-5 w-5 text-green-500"});default:return e.jsx(bi,{className:"h-5 w-5 text-purple-500"})}},p=_=>{switch(_){case"online":return"Online Interview";case"phone":return"Phone Interview";default:return"In-Person Interview"}},g=(_,S)=>{if(!_||!S||_==="Invalid Date"||S==="Invalid Date")return{date:"Date not set",time:"Time not set"};let N;return _.includes("T")?N=new Date(_):S.includes(":")?N=new Date(`${_}T${S}`):N=new Date(`${_} ${S}`),isNaN(N.getTime())?{date:"Invalid date format",time:"Invalid time format"}:{date:N.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:N.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}},x=()=>{if(!r||!r.interview_date||!r.interview_time)return;let _;if(r.interview_date.includes("T")?_=new Date(r.interview_date):r.interview_time.includes(":")?_=new Date(`${r.interview_date}T${r.interview_time}`):_=new Date(`${r.interview_date} ${r.interview_time}`),isNaN(_.getTime())){alert("Invalid interview date/time. Cannot add to calendar.");return}const S=new Date(_.getTime()+3600*1e3),N=T=>T.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",C={title:"Scholarship Interview",description:`Interview for scholarship application. ${r.interview_notes||""}`,location:r.interview_type==="online"?r.meeting_link:r.interview_location,start:N(_),end:N(S)},D=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(C.title)}&dates=${C.start}/${C.end}&details=${encodeURIComponent(C.description)}&location=${encodeURIComponent(C.location)}`,U=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Scholarship System//Interview Schedule//EN
BEGIN:VEVENT
UID:${r.id}@scholarship-system.com
DTSTAMP:${N(new Date)}
DTSTART:${C.start}
DTEND:${C.end}
SUMMARY:${C.title}
DESCRIPTION:${C.description}
LOCATION:${C.location}
END:VEVENT
END:VCALENDAR`,z=new Blob([U],{type:"text/calendar"}),E=URL.createObjectURL(z),I=document.createElement("a");I.href=E,I.download=`interview-${r.id}.ics`,I.click(),window.open(D,"_blank")},v=()=>{r?.meeting_link&&window.open(r.meeting_link,"_blank")};if(s)return e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(Nr,{className:"h-5 w-5 animate-spin text-blue-500"}),e.jsx("span",{className:"text-gray-600",children:"Loading interview schedule..."})]})});if(i)return e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Qt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Schedule"}),e.jsx("p",{className:"text-gray-600 mb-4",children:i}),e.jsxs("button",{onClick:l,className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 flex items-center space-x-2 mx-auto",children:[e.jsx(Nr,{className:"h-4 w-4"}),e.jsx("span",{children:"Try Again"})]})]})});if(!r)return e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Rr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Interview Scheduled"}),e.jsx("p",{className:"text-gray-600",children:"Your interview has not been scheduled yet. You will be notified once a date and time are assigned."})]})});const{date:w,time:j}=g(r.interview_date,r.interview_time);return e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(Rr,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{children:"Interview Schedule"})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${d(r.status)}`,children:e.jsxs("div",{className:"flex items-center space-x-1",children:[c(r.status),e.jsx("span",{children:u(r.status)})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Rr,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Date"}),e.jsx("p",{className:"text-gray-900",children:w})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(lr,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Time"}),e.jsx("p",{className:"text-gray-900",children:j})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[f(r.interview_type),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Type"}),e.jsx("p",{className:"text-gray-900",children:p(r.interview_type)})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[r.interview_type==="online"?e.jsx(Mi,{className:"h-5 w-5 text-gray-500"}):e.jsx(bi,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:r.interview_type==="online"?"Meeting Link":"Location"}),e.jsx("p",{className:"text-gray-900",children:r.interview_type==="online"?r.meeting_link||"Link not provided":r.interview_location})]})]})]})}),r.interviewer_name&&e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Hr,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Interviewer"}),e.jsx("p",{className:"text-blue-900",children:r.interviewer_name})]})]})}),r.interview_notes&&e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Interview Notes"}),e.jsx("p",{className:"text-yellow-700",children:r.interview_notes})]}),r.interview_result&&e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(jt,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"Interview Result"}),e.jsx("p",{className:"text-green-700 capitalize",children:r.interview_result.replace("_"," ")})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[e.jsxs("button",{onClick:x,className:"flex items-center space-x-2 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700",children:[e.jsx(Rr,{className:"h-4 w-4"}),e.jsx("span",{children:"Add to Calendar"})]}),r.interview_type==="online"&&r.meeting_link&&e.jsxs("button",{onClick:v,className:"flex items-center space-x-2 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700",children:[e.jsx(Mi,{className:"h-4 w-4"}),e.jsx("span",{children:"Join Meeting"}),e.jsx(hh,{className:"h-3 w-3"})]}),e.jsxs("button",{onClick:l,className:"flex items-center space-x-2 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700",children:[e.jsx(Nr,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:[e.jsxs("p",{children:["Scheduled ",r.scheduling_type==="automatic"?"automatically":"manually"," on"," ",new Date(r.created_at||"").toLocaleDateString()]}),r.completed_at&&e.jsxs("p",{children:["Completed on ",new Date(r.completed_at).toLocaleDateString()]})]})]})]})},KV=()=>{const t=Gi(),r=_r(Te=>Te.currentUser),[a,s]=b.useState([]),[n,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState([]),[u,f]=b.useState([]),[p,g]=b.useState(!1),[x,v]=b.useState(null),[w,j]=b.useState(!1),[_,S]=b.useState(null),[N,C]=b.useState(null),[D,U]=b.useState(!1),[z,E]=b.useState(null),[I,T]=b.useState(!1),[F,Y]=b.useState([]),[O,q]=b.useState(!1),[$,K]=b.useState([]),[J,X]=b.useState(!1),[be,te]=b.useState(0),[R,ae]=b.useState({personal:!0,family:!0,academic:!0,financial:!0,application:!0,documents:!0}),W=Te=>{ae(oe=>({...oe,[Te]:!oe[Te]}))},pe=b.useCallback(Te=>{const oe=[],_e=JSON.parse(localStorage.getItem("read_notifications")||"[]");if(Te){if(Te.submitted_at&&oe.push({id:1,type:"info",title:"Application Submitted",message:"Your scholarship application has been successfully submitted and is now under review.",timestamp:new Date(Te.submitted_at),isRead:_e.includes(1),priority:"high"}),Te.reviewed_at&&oe.push({id:2,type:"success",title:"Application Reviewed",message:"Your application has been reviewed by the Student Services Committee.",timestamp:new Date(Te.reviewed_at),isRead:_e.includes(2),priority:"high"}),Te.interview_completed_at&&oe.push({id:6,type:"success",title:"Interview Completed",message:"Your interview has been completed. The results are being reviewed by the committee.",timestamp:new Date(Te.interview_completed_at),isRead:_e.includes(6),priority:"high"}),Te.approved_at&&oe.push({id:3,type:"success",title:"Application Approved!",message:`Congratulations! Your scholarship application has been approved for ${Te.approved_amount?.toLocaleString()||"0"}.`,timestamp:new Date(Te.approved_at),isRead:_e.includes(3),priority:"urgent"}),Te.rejected_at&&oe.push({id:7,type:"error",title:"Application Not Approved",message:`Unfortunately, your application was not approved. Reason: ${Te.rejection_reason||"Please contact support for details."}`,timestamp:new Date(Te.rejected_at),isRead:_e.includes(7),priority:"high"}),Te.disbursed_at&&oe.push({id:4,type:"success",title:"Grant Disbursed",message:"Your scholarship grant has been disbursed.",timestamp:new Date(Te.disbursed_at),isRead:_e.includes(4),priority:"urgent"}),c.length>0){const Ve=c.filter(Bt=>Bt.status==="rejected");Ve.length>0&&oe.push({id:8,type:"warning",title:"Document Issues",message:`${Ve.length} document(s) were rejected and need to be resubmitted.`,timestamp:new Date,isRead:_e.includes(8),priority:"high"});const Wt=c.filter(Bt=>Bt.status==="verified");Wt.length>0&&oe.push({id:9,type:"success",title:"Documents Verified",message:`${Wt.length} document(s) have been successfully verified.`,timestamp:new Date,isRead:_e.includes(9),priority:"medium"})}if(Te.compliance_issues&&Te.compliance_issues.length>0&&oe.push({id:10,type:"warning",title:"Compliance Review Required",message:"Your application has been flagged for compliance review. Please check the details and make necessary corrections.",timestamp:new Date,isRead:_e.includes(10),priority:"urgent"}),Te.status==="draft"){const Ve=re-Ue;Ve>0&&oe.push({id:11,type:"info",title:"Complete Your Application",message:`You have ${Ve} required document(s) remaining to complete your application.`,timestamp:new Date,isRead:_e.includes(11),priority:"medium"})}}const et=12;return oe.push({id:et,type:"info",title:"System Maintenance",message:"Scheduled maintenance will occur on Sunday, 2:00 AM - 4:00 AM. Some features may be temporarily unavailable.",timestamp:new Date(Date.now()-2880*60*1e3),isRead:_e.includes(et),priority:"low"}),oe.sort((Ve,Wt)=>new Date(Wt.timestamp).getTime()-new Date(Ve.timestamp).getTime())},[c]);b.useEffect(()=>{te($.filter(Te=>!Te.isRead).length)},[$]);const ce=Te=>{K(_e=>_e.map(et=>et.id===Te?{...et,isRead:!0}:et));const oe=JSON.parse(localStorage.getItem("read_notifications")||"[]");oe.includes(Te)||localStorage.setItem("read_notifications",JSON.stringify([...oe,Te]))},we=()=>{K(et=>et.map(Ve=>({...Ve,isRead:!0})));const Te=$.map(et=>et.id),oe=JSON.parse(localStorage.getItem("read_notifications")||"[]"),_e=[...new Set([...oe,...Te])];localStorage.setItem("read_notifications",JSON.stringify(_e))},je=Te=>{K(oe=>oe.filter(_e=>_e.id!==Te))};b.useEffect(()=>{const Te=oe=>{const _e=oe.target;J&&!_e.closest("[data-notification-dropdown]")&&X(!1)};return document.addEventListener("mousedown",Te),()=>{document.removeEventListener("mousedown",Te)}},[J]);const[fe,xe]=b.useState(!1);b.useEffect(()=>{(async()=>{try{i(!0),l(null);const[oe,_e,et]=await Promise.all([Ut.getUserApplications(),Ut.getRequiredDocuments(),Ut.getAcademicPeriods()]);s(oe),f(_e);const Ve=et.find(Fe=>Fe.status==="open"&&Fe.is_current);if(xe(!!Ve),oe.length>0){const Fe=oe[0];try{const nt=await Ut.getDocuments({application_id:Fe.id});d(nt.data||[])}catch(nt){console.error("Error fetching documents:",nt)}}const Wt=oe.length>0?oe[0]:null,Bt=pe(Wt);K(Bt),te(Bt.filter(Fe=>!Fe.isRead).length)}catch(oe){console.error("Error fetching data:",oe),l("Failed to load application data")}finally{i(!1)}})()},[pe]);const $e=async()=>{try{i(!0),l(null);const[Te,oe]=await Promise.all([Ut.getUserApplications(),Ut.getRequiredDocuments()]);if(s(Te),f(oe),Te.length>0){const _e=Te[0];try{const et=await Ut.getDocuments({application_id:_e.id});d(et.data||[])}catch(et){console.error("Error refreshing documents:",et)}}}catch(Te){console.error("Error refreshing data:",Te),l("Failed to refresh application data")}finally{i(!1)}},ge=a.length>0?a[0]:null;b.useEffect(()=>{(async()=>{if(!ge||!ge.id){Y([]);return}try{q(!0);const oe=await fetch(`${Et.AID_SERVICE.BASE_URL}/api/school-aid/disbursements?application_id=${ge.id}`);if(!oe.ok)throw new Error("Failed to fetch disbursements");const _e=await oe.json();Y(Array.isArray(_e)?_e:[])}catch(oe){console.error("Error fetching disbursements:",oe),Y([])}finally{q(!1)}})()},[ge]);const ot=[{id:8,name:"Transcript of Records (Latest)",description:"Official transcript showing your latest academic performance and grades",category:"academic",is_required:!0,priority:1},{id:11,name:"Certificate of Good Moral",description:"Certificate from your school confirming your good moral character",category:"academic",is_required:!0,priority:2},{id:12,name:"Income Certificate",description:"Official document showing your family's income status from BIR or barangay",category:"financial",is_required:!0,priority:3},{id:4,name:"Barangay Certificate",description:"Certificate from your barangay confirming your residency",category:"personal",is_required:!0,priority:4},{id:2,name:"Valid ID (Government-issued)",description:"Government-issued identification document (Driver's License, Passport, etc.)",category:"personal",is_required:!0,priority:5},{id:1,name:"Birth Certificate",description:"Official birth certificate from PSA (Philippine Statistics Authority)",category:"personal",is_required:!0,priority:6},{id:10,name:"Certificate of Enrollment",description:"Document proving your current enrollment status",category:"academic",is_required:!0,priority:7}],Z=(()=>{const Te=u.length>0?u:ot,oe=Te.map(_e=>{const et=c.find(Ve=>typeof _e.id=="number"?Ve.document_type_id===_e.id:typeof _e.id=="string"?Ve.document_type?.name?.toLowerCase().includes(_e.name.toLowerCase().split(" ")[0]):!1);return{id:_e.id,name:_e.name,description:_e.description,category:_e.category,isRequired:_e.is_required!==!1,isSubmitted:!!et,status:et?et.status:"missing",submittedAt:et?new Date(et.created_at).toLocaleDateString():null,verifiedAt:et?.verified_at?new Date(et.verified_at).toLocaleDateString():null,verificationNotes:et?.verification_notes||null,fileName:et?.file_name||null,document:et,priority:_e.priority||999}});return c.forEach(_e=>{Te.some(Ve=>typeof Ve.id=="number"?Ve.id===_e.document_type_id:typeof Ve.id=="string"?_e.document_type?.name?.toLowerCase().includes(Ve.name.toLowerCase().split(" ")[0]):!1)||oe.push({id:_e.document_type_id,name:_e.document_type?.name||"Unknown Document",description:_e.document_type?.description||"",category:_e.document_type?.category||"other",isRequired:!1,isSubmitted:!0,status:_e.status,submittedAt:new Date(_e.created_at).toLocaleDateString(),verifiedAt:_e.verified_at?new Date(_e.verified_at).toLocaleDateString():null,verificationNotes:_e.verification_notes||null,fileName:_e.file_name||null,document:_e,priority:999})}),oe.sort((_e,et)=>_e.isRequired&&!et.isRequired?-1:!_e.isRequired&&et.isRequired?1:(_e.priority||999)-(et.priority||999))})(),re=Z.filter(Te=>Te.isRequired).length,Ue=Z.filter(Te=>Te.isRequired&&Te.isSubmitted).length,Ge=Z.filter(Te=>Te.isRequired&&Te.status==="verified").length,Ke=re>0?Math.round(Ue/re*100):0,ie=!!ge&&["draft","for_compliance"].includes(ge.status)&&re>0&&Ue===re,Ce=async()=>{if(ge){if(!(re>0&&Ue===re)){S("Please upload all required documents before submitting your application."),setTimeout(()=>S(null),3e3);return}j(!0),S(null),C(null);try{await Ut.submitApplication(ge.id),C("Application submitted successfully."),await $e()}catch(Te){console.error("Failed to submit application:",Te),S(Te instanceof Error?Te.message:"Failed to submit application.")}finally{j(!1),setTimeout(()=>C(null),3e3)}}},Oe=Te=>{E(Te),U(!0)},Je=async()=>{if(!(!z||!ge)){T(!0);try{await Ut.deleteDocument(z.id);const Te=await Ut.getDocuments({application_id:ge.id});d(Te.data||[]),U(!1),E(null)}catch(Te){console.error("Error removing document:",Te),v(Te instanceof Error?Te.message:"Failed to remove document")}finally{T(!1)}}},H=Te=>{switch(Te?.toLowerCase()){case"draft":return"Draft";case"submitted":return"Submitted";case"documents_reviewed":return"Documents Reviewed";case"interview_scheduled":return"Interview Scheduled";case"endorsed_to_ssc":return"Endorsed to SSC";case"approved":return"Approved";case"grants_processing":return"Grants Processing";case"grants_disbursed":return"Grants Disbursed";case"rejected":return"Rejected";case"on_hold":return"On Hold";case"cancelled":return"Cancelled";case"for_compliance":return"For Compliance";case"compliance_documents_submitted":return"Compliance Documents Submitted";default:return Te||"Unknown"}},de=Te=>{switch(Te?.toLowerCase()){case"draft":return 0;case"submitted":return 0;case"documents_reviewed":return 0;case"interview_scheduled":return 0;case"endorsed_to_ssc":return 1;case"approved":return 2;case"grants_processing":return 3;case"grants_disbursed":return 4;case"rejected":return-1;case"on_hold":return 1;case"cancelled":return-1;case"for_compliance":return 0;case"compliance_documents_submitted":return 0;default:return 0}},ue=ge?{referenceNumber:ge.application_number||`APP-${ge.id}`,studentName:`${ge.student?.first_name||""} ${ge.student?.middle_name||""} ${ge.student?.last_name||""}`.trim()||"Not specified",firstName:ge.student?.first_name||"Not specified",middleName:ge.student?.middle_name||"N/A",lastName:ge.student?.last_name||"Not specified",extensionName:ge.student?.extension_name||"N/A",sex:ge.student?.sex||"Not specified",civilStatus:ge.student?.civil_status||"Not specified",dateOfBirth:ge.student?.birth_date?new Date(ge.student.birth_date).toLocaleDateString():"Not specified",nationality:ge.student?.nationality||"Not specified",birthPlace:ge.student?.birth_place||"Not specified",religion:ge.student?.religion||"Not specified",heightCm:ge.student?.height_cm?`${ge.student.height_cm} cm`:"Not specified",weightKg:ge.student?.weight_kg?`${ge.student.weight_kg} kg`:"Not specified",isPwd:ge.student?.is_pwd?"Yes":"No",pwdSpecification:ge.student?.pwd_specification||"N/A",contactNumber:ge.student?.contact_number||"Not specified",emailAddress:ge.student?.email_address||"Not specified",presentAddress:ge.student?.addresses?.[0]&&[ge.student.addresses[0].address_line_1,ge.student.addresses[0].address_line_2].filter(Boolean).join(", ")||"Not specified",addressLine1:ge.student?.addresses?.[0]?.address_line_1||"Not specified",addressLine2:ge.student?.addresses?.[0]?.address_line_2||"Not specified",barangay:ge.student?.addresses?.[0]?.barangay||"Not specified",district:ge.student?.addresses?.[0]?.district||"Not specified",city:ge.student?.addresses?.[0]?.city||"Not specified",province:ge.student?.addresses?.[0]?.province||"Not specified",region:ge.student?.addresses?.[0]?.region||"Not specified",zipCode:ge.student?.addresses?.[0]?.zip_code||"Not specified",familyMembers:ge.student?.family_members||[],numberOfSiblings:ge.student?.financial_information?.number_of_siblings?.toString()||"Not specified",numberOfSiblingsInSchool:ge.student?.financial_information?.siblings_currently_enrolled?.toString()||"Not specified",homeOwnershipStatus:ge.student?.financial_information?.home_ownership_status||"Not specified",isEmployed:ge.student?.is_employed?"Yes":"No",studentOccupation:ge.student?.occupation||"Not specified",studentMonthlyIncome:ge.student?.financial_information?.monthly_income?`${parseFloat(ge.student.financial_information.monthly_income).toLocaleString()}`:"Not specified",totalFamilyMonthlyIncome:ge.student?.financial_information?.family_monthly_income_range?`${ge.student.financial_information.family_monthly_income_range}`:"Not specified",isSoloParent:ge.student?.is_solo_parent?"Yes":"No",isIndigenousGroup:ge.student?.is_indigenous_group?"Yes":"No",is4PsBeneficiary:ge.student?.financial_information?.is_4ps_beneficiary?"Yes":"No",isPwdBeneficiary:ge.student?.family_information?.is_pwd_beneficiary?"Yes":"No",isRegisteredVoter:ge.student?.is_registered_voter?"Yes":"No",voterNationality:ge.student?.voter_nationality||"N/A",hasPayMayaAccount:ge.student?.has_paymaya_account?"Yes":"No",course:ge.student?.current_academic_record?.track_specialization||ge.student?.current_academic_record?.area_of_specialization||ge.student?.current_academic_record?.program||"Not specified",school:ge.school?.name||"Not specified",schoolAddress:ge.school?.address||"Not specified",schoolType:ge.school?.classification||"Not specified",educationalLevel:ge.student?.current_academic_record?.educational_level||"Not specified",gradeYearLevel:ge.student?.current_academic_record?.year_level||"Not specified",academicYear:ge.student?.current_academic_record?.school_year||"Not specified",semester:ge.student?.current_academic_record?.school_term||"Not specified",unitsEnrolled:ge.student?.current_academic_record?.units_enrolled?.toString()||"Not specified",gwa:ge.student?.current_academic_record?.general_weighted_average?.toString()||"Not specified",isCurrentlyEnrolled:ge.student?.is_currently_enrolled?"Yes":"No",isGraduating:ge.student?.is_graduating?"Yes":"No",scholarshipType:ge.category?.name||"Not specified",scholarshipSubtype:ge.subcategory?.name||"Not specified",amount:ge.approved_amount?`${ge.approved_amount.toLocaleString()}`:ge.requested_amount?`${ge.requested_amount.toLocaleString()}`:"Not specified",requestedAmount:ge.requested_amount?`${ge.requested_amount.toLocaleString()}`:"Not specified",approvedAmount:ge.approved_amount?`${ge.approved_amount.toLocaleString()}`:"Not approved",status:H(ge.status),rawStatus:ge.status,applicationDate:ge.submitted_at?new Date(ge.submitted_at).toLocaleDateString():"Not submitted",approvalDate:ge.approved_at?new Date(ge.approved_at).toLocaleDateString():"Not approved",reviewedDate:ge.reviewed_at?new Date(ge.reviewed_at).toLocaleDateString():"Not reviewed",currentStage:de(ge.status),type:ge.type==="new"?"New Application":"Renewal Application",reasonForRenewal:ge.reason_for_renewal||"N/A",financialNeedDescription:ge.financial_need_description||"Not provided",rejectionReason:ge.rejection_reason||null,notes:ge.notes||null,complianceIssues:ge.compliance_issues||[],marginalizedGroups:ge.marginalized_groups||[],digitalWallets:ge.digital_wallets||[],walletAccountNumber:ge.wallet_account_number||"Not provided",paymentMethod:ge.payment_method||"Not specified",howDidYouKnow:ge.how_did_you_know||[],isSchoolAtQC:ge.is_school_at_qc||!1,requirements:c.map(Te=>({name:Te.document_type?.name||"Unknown Document",status:Te.status==="verified"?"Verified":Te.status==="rejected"?"Rejected":"Pending",date:new Date(Te.created_at).toLocaleDateString(),fileName:Te.file_name,verificationNotes:Te.verification_notes,verifiedAt:Te.verified_at?new Date(Te.verified_at).toLocaleDateString():null})),disbursements:F.map(Te=>({id:Te.id,date:Te.disbursedAt?new Date(Te.disbursedAt).toLocaleDateString():"N/A",amount:`${parseFloat(Te.amount||0).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,status:Te.disbursement_status||"completed",receiptPath:Te.receiptPath,referenceNumber:Te.referenceNumber||Te.reference_number,providerName:Te.providerName||Te.provider_name,method:Te.method||Te.disbursement_method}))}:{referenceNumber:"No Application",studentName:`${r?.first_name||""} ${r?.middle_name||""} ${r?.last_name||""}`.trim()||"Not specified",firstName:r?.first_name||"Not specified",middleName:r?.middle_name||"N/A",lastName:r?.last_name||"Not specified",extensionName:"N/A",sex:"Not specified",civilStatus:"Not specified",dateOfBirth:"Not specified",nationality:"Not specified",birthPlace:"Not specified",religion:"Not specified",heightCm:"Not specified",weightKg:"Not specified",isPwd:"No",pwdSpecification:"N/A",contactNumber:"Not specified",emailAddress:"Not specified",presentAddress:"Not specified",addressLine1:"Not specified",addressLine2:"Not specified",barangay:"Not specified",district:"Not specified",city:"Not specified",province:"Not specified",region:"Not specified",zipCode:"Not specified",familyMembers:[],numberOfSiblings:"Not specified",numberOfSiblingsInSchool:"Not specified",homeOwnershipStatus:"Not specified",isEmployed:"No",studentMonthlyIncome:"Not specified",totalFamilyMonthlyIncome:"Not specified",isSoloParent:"No",isIndigenousGroup:"No",is4PsBeneficiary:"No",isPwdBeneficiary:"No",isRegisteredVoter:"No",course:"Not specified",school:"Not specified",schoolAddress:"Not specified",schoolType:"Not specified",educationalLevel:"Not specified",gradeYearLevel:"Not specified",academicYear:"Not specified",semester:"Not specified",unitsEnrolled:"Not specified",gwa:"Not specified",isCurrentlyEnrolled:"No",isGraduating:"No",scholarshipType:"Not specified",scholarshipSubtype:"Not specified",amount:"Not specified",requestedAmount:"Not specified",approvedAmount:"Not specified",status:"No Application",rawStatus:"draft",applicationDate:"Not submitted",approvalDate:"Not approved",reviewedDate:"Not reviewed",currentStage:-1,type:"N/A",reasonForRenewal:"N/A",financialNeedDescription:"Not provided",rejectionReason:null,notes:null,walletAccountNumber:"Not provided",complianceIssues:[],disbursements:F.map(Te=>({id:Te.id,date:Te.disbursedAt?new Date(Te.disbursedAt).toLocaleDateString():"N/A",amount:`${parseFloat(Te.amount||0).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,status:Te.disbursement_status||"completed",receiptPath:Te.receiptPath,referenceNumber:Te.referenceNumber||Te.reference_number,providerName:Te.providerName||Te.provider_name,method:Te.method||Te.disbursement_method}))},me=({title:Te,icon:oe,sectionKey:_e,children:et})=>{const Ve=R[_e];return e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-4",children:[e.jsxs("button",{onClick:()=>W(_e),className:"w-full px-6 py-4 flex items-center justify-between bg-gradient-to-r from-orange-50 to-white hover:from-orange-100 hover:to-orange-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:e.jsx(oe,{className:"h-5 w-5 text-white"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:Te})]}),Ve?e.jsx(wd,{className:"h-5 w-5 text-gray-500"}):e.jsx(zi,{className:"h-5 w-5 text-gray-500"})]}),Ve&&e.jsx("div",{className:"px-6 py-4",children:et})]})},Se=({label:Te,value:oe,highlight:_e})=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:Te}),e.jsx("p",{className:`text-sm ${_e?"font-semibold text-orange-600":"text-gray-900"}`,children:oe})]}),Ye=({notification:Te})=>{const oe=et=>{switch(et){case"success":return e.jsx(vy,{className:"w-5 h-5 text-green-500"});case"error":return e.jsx(Br,{className:"w-5 h-5 text-red-500"});case"warning":return e.jsx(Qt,{className:"w-5 h-5 text-yellow-500"});case"info":default:return e.jsx(Pd,{className:"w-5 h-5 text-blue-500"})}},_e=et=>{switch(et){case"urgent":return"border-l-red-500 bg-red-50";case"high":return"border-l-orange-500 bg-orange-50";case"medium":return"border-l-blue-500 bg-blue-50";case"low":default:return"border-l-gray-500 bg-gray-50"}};return e.jsx("div",{className:`p-4 border-l-4 ${_e(Te.priority)} ${Te.isRead?"bg-opacity-50":"bg-opacity-100"} hover:bg-opacity-75 transition-all duration-200 cursor-pointer`,onClick:()=>ce(Te.id),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:oe(Te.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:`text-sm font-semibold ${Te.isRead?"text-gray-600":"text-gray-900"}`,children:Te.title}),!Te.isRead&&e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})]}),e.jsx("p",{className:`text-sm mt-1 ${Te.isRead?"text-gray-500":"text-gray-700"}`,children:Te.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(Te.timestamp).toLocaleString()})]})]}),e.jsx("button",{onClick:et=>{et.stopPropagation(),je(Te.id)},className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(dr,{className:"w-4 h-4"})})]})})},kt=[{id:0,title:"GENERAL REQUIREMENTS AND INTERVIEW",icon:I_,description:"Submit requirements and attend interview"},{id:1,title:"ENDORSED TO SSC APPROVAL",icon:kd,description:"Application reviewed by Student Services Committee"},{id:2,title:"APPROVED APPLICATION",icon:Fu,description:"Application approved by committee"},{id:3,title:"GRANTS PROCESSING",icon:yz,description:"Processing grant disbursement"},{id:4,title:"GRANTS DISBURSED",icon:Sp,description:"Funds released to student"}],it=Te=>{switch(Te.toLowerCase()){case"approved":case"grants_processing":case"grants_disbursed":return e.jsx(jt,{className:"h-5 w-5 text-green-500"});case"submitted":case"documents_reviewed":case"interview_scheduled":case"endorsed_to_ssc":return e.jsx(lr,{className:"h-5 w-5 text-blue-500"});case"interview_completed":return e.jsx(Wr,{className:"h-5 w-5 text-indigo-500"});case"draft":return e.jsx(lr,{className:"h-5 w-5 text-yellow-500"});case"rejected":return e.jsx(Qt,{className:"h-5 w-5 text-red-500"});case"on_hold":return e.jsx(Qt,{className:"h-5 w-5 text-orange-500"});case"for_compliance":return e.jsx(Qt,{className:"h-5 w-5 text-red-500"});case"compliance_documents_submitted":return e.jsx(lr,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(lr,{className:"h-5 w-5 text-gray-500"})}},ft=Te=>{switch(Te.toLowerCase()){case"approved":case"grants_disbursed":return"text-green-600 bg-green-100";case"grants_processing":return"text-purple-600 bg-purple-100";case"submitted":case"documents_reviewed":case"interview_scheduled":case"endorsed_to_ssc":return"text-blue-600 bg-blue-100";case"interview_completed":return"text-indigo-600 bg-indigo-100";case"pending":return"text-yellow-600 bg-yellow-100";case"rejected":return"text-red-600 bg-red-100";case"for_compliance":return"text-red-600 bg-red-100";case"compliance_documents_submitted":return"text-blue-600 bg-blue-100";case"cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}};return n&&a.length===0&&!o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-orange-50 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(Dq,{})})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-orange-50 py-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-lg",children:e.jsx(rn,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Scholarship Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Track your application and manage documents"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>X(!J),className:"relative flex items-center space-x-2 bg-white border border-gray-200 rounded-lg px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all shadow-sm",children:[e.jsx(qu,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Notifications"}),be>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:be>9?"9+":be})]}),J&&e.jsxs("div",{"data-notification-dropdown":!0,className:"absolute right-0 mt-2 w-72 sm:w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-hidden max-w-[calc(100vw-2rem)]",children:[e.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-200 bg-gradient-to-r from-orange-50 to-orange-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(qu,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-orange-500"}),"Notifications"]}),be>0&&e.jsxs("button",{onClick:we,className:"text-xs sm:text-sm text-orange-600 hover:text-orange-700 font-medium",children:[e.jsx("span",{className:"hidden sm:inline",children:"Mark all as read"}),e.jsx("span",{className:"sm:hidden",children:"Clear all"})]})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:$.length>0?$.map(Te=>e.jsx(Ye,{notification:Te},Te.id)):e.jsxs("div",{className:"p-6 sm:p-8 text-center text-gray-500",children:[e.jsx(ok,{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No notifications yet"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"We'll notify you about important updates"})]})})]})]}),ge&&["draft","for_compliance"].includes(ue.rawStatus)&&e.jsxs("button",{onClick:()=>t("/new-application"),className:"flex items-center space-x-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg px-4 py-2 text-sm font-medium hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[e.jsx(ko,{className:"h-4 w-4"}),e.jsx("span",{children:"Edit Application"})]}),e.jsxs("button",{onClick:$e,disabled:n,className:"flex items-center space-x-2 bg-white border border-gray-200 rounded-lg px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm",children:[e.jsx(Nr,{className:`h-4 w-4 ${n?"animate-spin":""}`}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),o&&e.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qt,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-700",children:o})]})}),!n&&!o&&a.length===0&&e.jsx("div",{className:`mt-3 p-4 border rounded-lg shadow-sm ${fe?"bg-yellow-50 border-yellow-200":"bg-gray-50 border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[fe?e.jsx(Qt,{className:"h-5 w-5 text-yellow-500"}):e.jsx(lr,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:`text-sm font-medium ${fe?"text-yellow-800":"text-gray-800"}`,children:fe?"Start Your Journey":"Applications Closed"}),e.jsx("span",{className:`text-sm ${fe?"text-yellow-700":"text-gray-600"}`,children:fe?"Submit a new scholarship application to get started.":"Scholarship applications are currently closed. Please wait for the next academic period."})]})]}),fe&&e.jsx("button",{onClick:()=>t("/new-application"),className:"bg-orange-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-orange-600 transition-colors",children:"Apply Now"})]})})]}),(ue.rawStatus==="for_compliance"||ue.complianceIssues&&ue.complianceIssues.length>0)&&e.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg animate-in fade-in slide-in-from-top-2",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Br,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-yellow-800 mb-1",children:"Action Required: Compliance Review"}),e.jsx("p",{className:"text-sm text-yellow-700 mb-2",children:"Your application has been flagged for compliance issues. Please address the following items:"}),ue.complianceIssues&&ue.complianceIssues.length>0?e.jsx("ul",{className:"list-disc list-inside text-sm text-yellow-700 space-y-1 ml-1",children:ue.complianceIssues.map((Te,oe)=>e.jsxs("li",{children:[e.jsxs("span",{className:"font-medium",children:[Te.title||"Issue",":"]})," ",Te.description||Te.message||JSON.stringify(Te)]},oe))}):e.jsx("p",{className:"text-sm text-yellow-700 italic",children:"Please review your application details and documents."})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl shadow-lg p-6 mb-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-orange-100 text-sm font-medium mb-1",children:"Reference Number"}),e.jsx("p",{className:"text-3xl font-bold mb-3",children:ue.referenceNumber}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-xs mb-1",children:"Scholarship Type"}),e.jsx("p",{className:"text-sm font-medium",children:ue.scholarshipType})]}),e.jsx("div",{className:"h-8 w-px bg-orange-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-xs mb-1",children:"Amount"}),e.jsx("p",{className:"text-sm font-medium",children:ue.amount})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx("div",{className:`px-4 py-2 rounded-full ${ft(ue.status)} shadow-md`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[it(ue.status),e.jsx("span",{className:"font-semibold text-sm",children:ue.status})]})}),ue.rawStatus==="draft"&&e.jsxs("p",{className:"text-xs text-orange-100",children:[Ue," of ",re," documents uploaded"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(I_,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{children:"Application Process"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ease-in-out ${ue.currentStage===-1?"bg-red-500":"bg-gradient-to-r from-orange-500 to-orange-600"}`,style:{width:ue.currentStage===-1?"100%":`${Math.max(0,(ue.currentStage+1)/kt.length*100)}%`}})})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:kt.map((Te,oe)=>{const _e=Te.icon,et=ue.currentStage===-1?!1:oe<=ue.currentStage,Ve=oe===ue.currentStage,Wt=ue.currentStage===-1;return e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsx("div",{className:`w-12 h-12 mx-auto rounded-full flex items-center justify-center border-2 transition-all duration-300 ${Wt?"bg-red-500 border-red-500 text-white shadow-lg":et?"bg-gradient-to-br from-orange-500 to-orange-600 border-orange-500 text-white shadow-lg":"bg-gray-100 border-gray-300 text-gray-400"}`,children:e.jsx(_e,{className:"w-6 h-6"})}),Ve&&!Wt&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-orange-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})}),Wt&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(Qt,{className:"w-3 h-3 text-white"})})]}),e.jsx("h3",{className:`text-[10px] font-bold uppercase mb-1 ${Wt?"text-red-600":et?"text-orange-600":"text-gray-400"}`,children:Te.title}),e.jsx("p",{className:"text-[9px] text-gray-500 hidden md:block leading-tight",children:Te.description})]},Te.id)})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs(me,{title:"Personal Information",icon:Wr,sectionKey:"personal",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(Se,{label:"First Name",value:ue.firstName}),e.jsx(Se,{label:"Middle Name",value:ue.middleName}),e.jsx(Se,{label:"Last Name",value:ue.lastName}),e.jsx(Se,{label:"Extension Name",value:ue.extensionName}),e.jsx(Se,{label:"Sex",value:ue.sex}),e.jsx(Se,{label:"Civil Status",value:ue.civilStatus}),e.jsx(Se,{label:"Date of Birth",value:ue.dateOfBirth}),e.jsx(Se,{label:"Nationality",value:ue.nationality}),e.jsx(Se,{label:"Birth Place",value:ue.birthPlace}),e.jsx(Se,{label:"Religion",value:ue.religion}),e.jsx(Se,{label:"Height",value:ue.heightCm}),e.jsx(Se,{label:"Weight",value:ue.weightKg}),e.jsx(Se,{label:"PWD",value:ue.isPwd}),ue.isPwd==="Yes"&&e.jsx("div",{className:"sm:col-span-2",children:e.jsx(Se,{label:"PWD Specification",value:ue.pwdSpecification})})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(V7,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Address Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"sm:col-span-2 md:col-span-3",children:e.jsx(Se,{label:"Present Address",value:ue.presentAddress})}),e.jsx(Se,{label:"Address Line 1",value:ue.addressLine1}),e.jsx(Se,{label:"Address Line 2",value:ue.addressLine2}),e.jsx(Se,{label:"Barangay",value:ue.barangay}),e.jsx(Se,{label:"District",value:ue.district}),e.jsx(Se,{label:"City",value:ue.city}),e.jsx(Se,{label:"Province",value:ue.province}),e.jsx(Se,{label:"Region",value:ue.region}),e.jsx(Se,{label:"Zip Code",value:ue.zipCode})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(qi,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Contact Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(Se,{label:"Contact Number",value:ue.contactNumber}),e.jsx(Se,{label:"Email Address",value:ue.emailAddress})]})]})]}),e.jsx(me,{title:"Family Information",icon:i2,sectionKey:"family",children:e.jsxs("div",{className:"space-y-6",children:[ue.familyMembers.length>0?ue.familyMembers.map((Te,oe)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[e.jsx("span",{className:"text-orange-500",children:Te.relationship==="father"?"":Te.relationship==="mother"?"":Te.relationship==="guardian"?"":""}),e.jsxs("span",{className:"capitalize",children:[Te.relationship,"'s Information"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(Se,{label:"First Name",value:Te.first_name||"Not specified"}),e.jsx(Se,{label:"Middle Name",value:Te.middle_name||"N/A"}),e.jsx(Se,{label:"Last Name",value:Te.last_name||"Not specified"}),e.jsx(Se,{label:"Extension Name",value:Te.extension_name||"N/A"}),e.jsx(Se,{label:"Contact Number",value:Te.contact_number||"Not specified"}),e.jsx(Se,{label:"Occupation/Employer",value:Te.occupation||"Not specified"}),e.jsx(Se,{label:"Monthly Income",value:Te.monthly_income?`${parseFloat(Te.monthly_income).toLocaleString()}`:"Not specified"}),e.jsx(Se,{label:"Is Alive",value:Te.is_alive?"Yes":"No"}),e.jsx(Se,{label:"Is Employed",value:Te.is_employed?"Yes":"No"}),e.jsx(Se,{label:"Is OFW",value:Te.is_ofw?"Yes":"No"}),e.jsx(Se,{label:"Is PWD",value:Te.is_pwd?"Yes":"No"})]})]},oe)):e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(i2,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No family members information available"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Household Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(Se,{label:"Number of Siblings",value:ue.numberOfSiblings}),e.jsx(Se,{label:"Siblings in School",value:ue.numberOfSiblingsInSchool}),e.jsx(Se,{label:"Home Ownership",value:ue.homeOwnershipStatus})]})]})]})}),e.jsx(me,{title:"Academic Information",icon:Dn,sectionKey:"academic",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"sm:col-span-2",children:e.jsx(Se,{label:"School Name",value:ue.school,highlight:!0})}),e.jsx(Se,{label:"School Type",value:ue.schoolType}),e.jsx("div",{className:"sm:col-span-2 md:col-span-3",children:e.jsx(Se,{label:"School Address",value:ue.schoolAddress})}),e.jsx(Se,{label:"Educational Level",value:ue.educationalLevel}),e.jsx(Se,{label:"Grade/Year Level",value:ue.gradeYearLevel}),e.jsx("div",{className:"sm:col-span-2",children:e.jsx(Se,{label:"Track/Specialization",value:ue.course})}),e.jsx(Se,{label:"Academic Year",value:ue.academicYear}),e.jsx(Se,{label:"Semester/Term",value:ue.semester}),e.jsx(Se,{label:"Units Enrolled",value:ue.unitsEnrolled}),e.jsx(Se,{label:"GWA/GPA",value:ue.gwa,highlight:!0}),e.jsx(Se,{label:"Currently Enrolled",value:ue.isCurrentlyEnrolled}),e.jsx(Se,{label:"Graduating Student",value:ue.isGraduating})]})}),e.jsx(me,{title:"Financial Information",icon:va,sectionKey:"financial",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(Se,{label:"Requested Amount",value:ue.requestedAmount,highlight:!0}),e.jsx(Se,{label:"Approved Amount",value:ue.approvedAmount,highlight:!0}),e.jsx(Se,{label:"Student Employed",value:ue.isEmployed}),e.jsx(Se,{label:"Student Occupation",value:ue.studentOccupation}),e.jsx(Se,{label:"Student Income",value:ue.studentMonthlyIncome}),e.jsx(Se,{label:"Family Monthly Income",value:ue.totalFamilyMonthlyIncome,highlight:!0})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Financial Need Description"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-sm text-gray-700",children:ue.financialNeedDescription})})]}),ue.walletAccountNumber!=="Not provided"&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[e.jsx(mh,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Payment Information"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.jsx(Se,{label:ue.paymentMethod==="Bank Transfer"?"Bank Account Number":ue.paymentMethod==="GCash"||ue.paymentMethod==="PayMaya"?"Mobile Number":"Account Number",value:ue.walletAccountNumber})})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Marginalized Groups & Benefits"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(Se,{label:"Solo Parent",value:ue.isSoloParent}),e.jsx(Se,{label:"Indigenous Group",value:ue.isIndigenousGroup}),e.jsx(Se,{label:"4Ps Beneficiary",value:ue.is4PsBeneficiary}),e.jsx(Se,{label:"PWD Beneficiary",value:ue.isPwdBeneficiary})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Voter Information"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.jsx(Se,{label:"Registered Voter",value:ue.isRegisteredVoter})})]})]})}),e.jsx(me,{title:"Application Details",icon:Fu,sectionKey:"application",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(Se,{label:"Application Type",value:ue.type,highlight:!0}),e.jsx(Se,{label:"Scholarship Category",value:ue.scholarshipType,highlight:!0}),e.jsx(Se,{label:"Scholarship Subcategory",value:ue.scholarshipSubtype}),e.jsx(Se,{label:"Submitted Date",value:ue.applicationDate}),e.jsx(Se,{label:"Reviewed Date",value:ue.reviewedDate}),e.jsx(Se,{label:"Approval Date",value:ue.approvalDate})]}),ue.type==="Renewal Application"&&ue.reasonForRenewal!=="N/A"&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Reason for Renewal"}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-sm text-gray-700",children:ue.reasonForRenewal})})]}),ue.rejectionReason&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-red-700 mb-2",children:"Rejection Reason"}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-300",children:e.jsx("p",{className:"text-sm text-red-900",children:ue.rejectionReason})})]}),ue.notes&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Additional Notes"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-sm text-gray-700",children:ue.notes})})]})]})}),e.jsxs(me,{title:"Documents Checklist",icon:cl,sectionKey:"documents",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[Ue," of ",re," required documents submitted"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Completion Progress"}),e.jsxs("span",{className:"font-bold text-orange-600",children:[Ke,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-500 shadow-sm ${Ke===100?"bg-gradient-to-r from-green-500 to-green-600":Ke>=75?"bg-gradient-to-r from-blue-500 to-blue-600":Ke>=50?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-red-500 to-red-600"}`,style:{width:`${Ke}%`}})})]})]}),e.jsx("div",{className:"space-y-4",children:Z.length>0?(()=>{const Te=Z.reduce((_e,et)=>{const Ve=et.category||"other";return _e[Ve]||(_e[Ve]=[]),_e[Ve].push(et),_e},{}),oe={academic:" Academic Documents",financial:" Financial Documents",personal:" Personal Documents",other:" Other Documents"};return Object.entries(Te).map(([_e,et])=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide border-b border-gray-200 pb-1 mb-2",children:oe[_e]||` ${_e.charAt(0).toUpperCase()+_e.slice(1)} Documents`}),et.map((Ve,Wt)=>e.jsx("div",{className:`p-3 rounded-lg border transition-all hover:shadow-sm ${Ve.isRequired?Ve.isSubmitted?Ve.status==="verified"?"bg-green-50 border-green-300":Ve.status==="rejected"?"bg-red-50 border-red-300":"bg-blue-50 border-blue-300":"bg-yellow-50 border-yellow-300":"bg-gray-50 border-gray-200"}`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start space-x-2 flex-1 w-full sm:w-auto sm:min-w-0",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:Ve.isSubmitted?Ve.status==="verified"?e.jsx(jt,{className:"h-4 w-4 text-green-500"}):Ve.status==="rejected"?e.jsx(Qt,{className:"h-4 w-4 text-red-500"}):e.jsx(lr,{className:"h-4 w-4 text-blue-500"}):e.jsx("div",{className:"h-4 w-4 border-2 border-gray-300 rounded-full"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:Ve.name}),Ve.isRequired&&e.jsx("span",{className:"px-2 py-0.5 text-[10px] font-medium bg-orange-100 text-orange-800 rounded-full",children:"Required"})]}),Ve.description&&e.jsx("p",{className:"text-xs text-gray-600 mt-0.5 line-clamp-1",children:Ve.description}),Ve.isSubmitted&&e.jsxs("div",{className:"mt-1",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:[Ve.submittedAt,Ve.fileName&&`  ${Ve.fileName}`]}),Ve.verificationNotes&&e.jsx("div",{className:"mt-1 p-2 bg-white rounded border border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-700",children:[e.jsx("strong",{children:"Note:"})," ",Ve.verificationNotes]})})]})]})]}),e.jsx("div",{className:"flex items-center justify-end sm:flex-shrink-0 w-full sm:w-auto mt-2 sm:mt-0",children:ge?e.jsx("div",{className:"w-full sm:w-80",children:e.jsx(GV,{documentTypeId:Ve.id,documentTypeName:Ve.name,studentId:ge.student_id,applicationId:ge.id,isUploading:p,existingDocument:Ve.document,onUploadStart:()=>g(!0),onUploadSuccess:async()=>{g(!1);const Bt=await Ut.getDocuments({application_id:ge.id});d(Bt.data||[])},onUploadError:Bt=>{g(!1),v(Bt)},showRemoveButton:Ve.isSubmitted&&["draft","for_compliance"].includes(ge.status),onRemove:()=>Oe(Ve.document),maxSizeMB:10,acceptedTypes:["application/pdf","image/jpeg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],className:"w-full"})}):e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-semibold whitespace-nowrap ${Ve.isSubmitted?Ve.status==="verified"?"bg-green-100 text-green-800":Ve.status==="rejected"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:Ve.isSubmitted?Ve.status==="verified"?" Verified":Ve.status==="rejected"?" Rejected":" Pending":" Missing"})})]})},Wt))]},_e))})():e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Fu,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No document requirements found"}),e.jsx("p",{className:"text-sm",children:"Contact support if you believe this is an error"})]})}),Z.length>0&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-center",children:[e.jsxs("div",{className:"p-2 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-gray-900",children:re}),e.jsx("p",{className:"text-[10px] text-gray-600 uppercase font-medium",children:"Required"})]}),e.jsxs("div",{className:"p-2 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-blue-600",children:Ue}),e.jsx("p",{className:"text-[10px] text-blue-600 uppercase font-medium",children:"Submitted"})]}),e.jsxs("div",{className:"p-2 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-green-600",children:Ge}),e.jsx("p",{className:"text-[10px] text-green-600 uppercase font-medium",children:"Verified"})]}),e.jsxs("div",{className:"p-2 bg-yellow-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-yellow-600",children:re-Ue}),e.jsx("p",{className:"text-[10px] text-yellow-600 uppercase font-medium",children:"Missing"})]})]})}),x&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qt,{className:"h-4 w-4 text-red-500"}),e.jsx("p",{className:"text-sm text-red-700",children:x})]})})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 p-4",children:e.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center space-x-2",children:[e.jsx(va,{className:"h-5 w-5"}),e.jsx("span",{children:"Summary"})]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Amount"}),e.jsx("span",{className:"text-xl font-bold text-green-600",children:ue.amount})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Application Date"}),e.jsx("span",{className:"font-medium text-gray-900",children:ue.applicationDate})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Reviewed Date"}),e.jsx("span",{className:"font-medium text-gray-900",children:ue.reviewedDate})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Approval Date"}),e.jsx("span",{className:"font-medium text-gray-900",children:ue.approvalDate})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Documents Status"}),e.jsxs("span",{className:`text-sm font-bold ${Ke===100?"text-green-600":"text-orange-600"}`,children:[Ue,"/",re," Complete"]})]})]})]})]}),ge&&(ue.rawStatus==="interview_scheduled"||ue.rawStatus==="interview_completed")&&e.jsx(YV,{applicationId:ge.id}),ge&&["draft","for_compliance"].includes(ue.rawStatus)&&e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsx("div",{className:`p-4 ${ue.rawStatus==="for_compliance"?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-blue-500 to-blue-600"}`,children:e.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center space-x-2",children:[e.jsx(Nd,{className:"h-5 w-5"}),e.jsx("span",{children:ue.rawStatus==="for_compliance"?"Resubmit Application":"Submit Application"})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-600",children:ue.rawStatus==="for_compliance"?"Ready to Resubmit?":"Ready to Submit?"}),e.jsxs("span",{className:`font-bold ${ie?"text-green-600":"text-orange-600"}`,children:[Ke,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${ie?"bg-green-500":"bg-orange-500"}`,style:{width:`${Ke}%`}})})]}),e.jsx("button",{onClick:Ce,disabled:!ie||w,className:`w-full inline-flex items-center justify-center px-4 py-3 rounded-lg font-medium transition-all ${!ie||w?"bg-gray-300 text-gray-500 cursor-not-allowed":ue.rawStatus==="for_compliance"?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white hover:from-yellow-600 hover:to-yellow-700 shadow-md hover:shadow-lg":"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 shadow-md hover:shadow-lg"}`,title:ie?ue.rawStatus==="for_compliance"?"Resubmit your application":"Submit your application":"Upload all required documents first",children:w?e.jsxs(e.Fragment,{children:[e.jsx(Nr,{className:"h-4 w-4 mr-2 animate-spin"}),ue.rawStatus==="for_compliance"?"Resubmitting...":"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Nd,{className:"h-4 w-4 mr-2"}),ue.rawStatus==="for_compliance"?"Resubmit Application":"Submit Application"]})}),!ie&&e.jsxs("p",{className:"mt-2 text-xs text-gray-500 text-center",children:["Complete all ",re," required documents to ",ue.rawStatus==="for_compliance"?"resubmit":"submit"]}),(_||N)&&e.jsx("div",{className:`mt-3 p-3 rounded-lg border ${_?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[_?e.jsx(Qt,{className:"h-4 w-4 text-red-500"}):e.jsx(jt,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:`text-xs ${_?"text-red-700":"text-green-700"}`,children:_||N})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-4",children:e.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center space-x-2",children:[e.jsx(Sp,{className:"h-5 w-5"}),e.jsx("span",{children:"Disbursements"})]})}),e.jsx("div",{className:"p-4 space-y-3",children:O?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(Nr,{className:"h-5 w-5 text-gray-400 animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading disbursements..."})]}):ue.disbursements.length>0?ue.disbursements.map((Te,oe)=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rr,{className:"h-4 w-4 text-gray-500 dark:text-slate-400"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-slate-300",children:Te.date})]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-[10px] font-semibold ${ft(Te.status)}`,children:Te.status==="completed"?"Completed":Te.status})]}),e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(va,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:Te.amount})]})}),Te.referenceNumber&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-400 mb-2",children:["Ref: ",Te.referenceNumber]}),Te.receiptPath&&e.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-200 dark:border-slate-700",children:[e.jsxs("a",{href:`${Et.AID_SERVICE.BASE_URL}/api/school-aid/disbursements/${Te.id}/receipt`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium rounded-md bg-blue-50 text-blue-700 hover:bg-blue-100 dark:bg-blue-900/40 dark:text-blue-200 dark:hover:bg-blue-900/60 transition-colors",children:[e.jsx(Or,{className:"w-3.5 h-3.5"}),"View Receipt"]}),e.jsxs("a",{href:`${Et.AID_SERVICE.BASE_URL}/api/school-aid/disbursements/${Te.id}/receipt/download`,download:!0,className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium rounded-md bg-green-50 text-green-700 hover:bg-green-100 dark:bg-green-900/40 dark:text-green-200 dark:hover:bg-green-900/60 transition-colors",children:[e.jsx(Ra,{className:"w-3.5 h-3.5"}),"Download"]})]})]},Te.id||oe)):e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 font-medium italic",children:"No record found"})})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl shadow-md p-4 border border-blue-200",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center space-x-2",children:[e.jsx(Qt,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{children:"Need Help?"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Contact our support team for assistance with your application."}),e.jsx("button",{className:"w-full bg-white text-gray-700 py-2 px-4 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors border border-gray-200",children:"Contact Support"})]})]})]})]}),D&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Br,{className:"h-6 w-6 text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Remove Document"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to remove this document?"})]})]}),z&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:z.file_name}),e.jsx("p",{className:"text-xs text-gray-600",children:"This action cannot be undone."})]}),e.jsxs("div",{className:"flex space-x-3 justify-end",children:[e.jsx("button",{onClick:()=>{U(!1),E(null)},disabled:I,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:Je,disabled:I,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:I?"Removing...":"Remove Document"})]})]})})})]})},bD=({message:t,type:r="info",duration:a=3e3,onClose:s})=>{const[n,i]=b.useState(!0);b.useEffect(()=>{const d=setTimeout(()=>{i(!1),setTimeout(()=>s(),300)},a);return()=>clearTimeout(d)},[a,s]);const o=()=>{i(!1),setTimeout(()=>s(),300)},l=()=>{switch(r){case"success":return e.jsx(jt,{className:"w-5 h-5 text-green-500"});case"error":return e.jsx(mr,{className:"w-5 h-5 text-red-500"});case"warning":return e.jsx(Qt,{className:"w-5 h-5 text-yellow-500"});default:return e.jsx(Pd,{className:"w-5 h-5 text-blue-500"})}},c=()=>{switch(r){case"success":return"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-200";case"error":return"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-200";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-200";default:return"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-200"}};return e.jsx("div",{className:`fixed top-4 right-4 z-50 max-w-sm w-full bg-white dark:bg-gray-800 border rounded-lg shadow-lg transition-all duration-300 ${n?"translate-x-0 opacity-100":"translate-x-full opacity-0"} ${c()}`,children:e.jsxs("div",{className:"flex items-start p-4",children:[e.jsx("div",{className:"flex-shrink-0",children:l()}),e.jsx("div",{className:"ml-3 flex-1",children:e.jsx("p",{className:"text-sm font-medium",children:t})}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx("button",{onClick:o,className:"inline-flex text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none",children:e.jsx(dr,{className:"w-4 h-4"})})})]})})},Ay="scholarship_application_form_data",JV=(t,r)=>{try{const a={formData:t,currentStep:r,timestamp:Date.now()};localStorage.setItem(Ay,JSON.stringify(a))}catch(a){console.error("Failed to save form data to localStorage:",a)}},l3=()=>{try{const t=localStorage.getItem(Ay);if(t){const r=JSON.parse(t);if(Date.now()-r.timestamp<10080*60*1e3)return r;localStorage.removeItem(Ay)}}catch(t){console.error("Failed to load form data from localStorage:",t)}return null},yx=()=>{try{localStorage.removeItem(Ay)}catch(t){console.error("Failed to clear form data from localStorage:",t)}},XV=()=>{const t=Gi(),r=_r(H=>H.currentUser),[a,s]=b.useState(1),[n,i]=b.useState([]),[o,l]=b.useState([]),[c,d]=b.useState(!1),[u,f]=b.useState(null),[p,g]=b.useState(!1),[x,v]=b.useState(null),[w,j]=b.useState(null),[_,S]=b.useState(null),[N,C]=b.useState(!0),[D,U]=b.useState("percentage"),[z,E]=b.useState("school"),[I,T]=b.useState(!0),[F,Y]=b.useState(!1),[O,q]=b.useState(null),[$,K]=b.useState(!1),[J,X]=b.useState(!1),[be,te]=b.useState(null),{control:R,handleSubmit:ae,formState:{errors:W},watch:pe,trigger:ce,clearErrors:we,reset:je,setValue:fe}=iD({mode:"onChange",reValidateMode:"onChange",defaultValues:{lastName:"",firstName:"",middleName:"",extensionName:"",studentId:"",sex:"",civilStatus:"",dateOfBirth:"",religion:"",religionOther:"",nationality:"Filipino",birthPlace:"",heightCm:"",weightKg:"",isPwd:void 0,pwdSpecification:"",presentAddress:"",barangay:"",district:"",city:"CALOOCAN CITY",zipCode:"",contactNumber:"",emailAddress:"",motherFirstName:"",motherLastName:"",motherMiddleName:"",motherExtensionName:"",motherContactNumber:"",motherOccupation:"",motherMonthlyIncome:"",isMotherAvailable:"",isFatherAvailable:"",fatherFirstName:"",fatherLastName:"",fatherMiddleName:"",fatherExtensionName:"",fatherContactNumber:"",fatherOccupation:"",fatherMonthlyIncome:"",emergencyContactName:"",emergencyContactNumber:"",emergencyContactRelationship:"",isStudentEmployed:"",studentOccupation:"",studentMonthlyIncome:"",totalFamilyMonthlyIncome:"",totalAnnualIncome:"",numberOfSiblings:"",numberOfSiblingsInSchool:"",homeOwnershipStatus:"",isSoloParent:"",isIndigenousGroup:"",indigenousGroupName:"",is4PsBeneficiary:"",isPwdBeneficiary:"",isRegisteredVoter:"",voterNationality:"",paymentMethod:"",bankName:"",accountNumber:"",preferredMobileNumber:"",financialNeedDescription:"",scholarshipCategory:"",scholarshipSubCategory:"",howDidYouKnow:[],educationalLevel:"TERTIARY/COLLEGE",isSchoolAtCaloocan:"YES",schoolName:"",campus:"",unitsEnrolled:"",gradeYearLevel:"1st Year",courseProgram:"",major:"",schoolTerm:"1st Semester",schoolYear:"2024-2025",previousSchool:"",previousSchoolAddress:"",unitsCompleted:"N/A",generalWeightedAverage:"",marginalizedGroups:[],digitalWallets:[],birthCertificate:null,reportCard:null,incomeCertificate:null,barangayCertificate:null,idPicture:null,otherDocuments:null}}),xe=pe("isPwd"),$e=pe("paymentMethod"),ge=pe("isMotherAvailable"),ot=pe("isFatherAvailable"),Ze=pe("isIndigenousGroup"),Z=pe("isStudentEmployed"),re=pe("educationalLevel"),Ue={1:["lastName","firstName","studentId","sex","civilStatus","dateOfBirth","religion","nationality","birthPlace","presentAddress","barangay","district","city","zipCode","contactNumber","emailAddress","isPwd"],2:["motherFirstName","motherLastName","motherContactNumber","motherOccupation","motherMonthlyIncome","isMotherAvailable","isFatherAvailable","emergencyContactName","emergencyContactNumber","emergencyContactRelationship"],3:["isStudentEmployed","totalFamilyMonthlyIncome","numberOfSiblings","numberOfSiblingsInSchool","homeOwnershipStatus","isSoloParent","isIndigenousGroup","is4PsBeneficiary","isRegisteredVoter","paymentMethod","financialNeedDescription"],4:["scholarshipCategory","scholarshipSubCategory","howDidYouKnow","educationalLevel","isSchoolAtCaloocan","schoolName","campus","unitsEnrolled","gradeYearLevel","courseProgram","schoolTerm","schoolYear","previousSchool","unitsCompleted","generalWeightedAverage"]},Ge=async H=>{if($)return await ie(H);let de=Ue[H]||[];if(H===1&&pe("isPwd")===!0&&(de=[...de,"pwdSpecification"]),H===2&&(pe("isMotherAvailable")==="yes"&&(de=[...de,"motherFirstName","motherLastName","motherContactNumber","motherOccupation","motherMonthlyIncome"]),pe("isFatherAvailable")==="yes"&&(de=[...de,"fatherFirstName","fatherLastName","fatherContactNumber","fatherOccupation","fatherMonthlyIncome"])),H===3){const Ye=pe("paymentMethod"),kt=pe("isStudentEmployed"),it=pe("isIndigenousGroup");Ye&&Ye!=="Cash"&&(de=[...de,"accountNumber"],Ye==="Bank Transfer"&&(de=[...de,"bankName"])),kt==="yes"&&(de=[...de,"studentOccupation","studentMonthlyIncome"]),it==="yes"&&(de=[...de,"indigenousGroupName"])}H===4&&pe("educationalLevel")==="TERTIARY/COLLEGE"&&(de=[...de,"major"]),console.log(`Validating step ${H} fields:`,de),console.log(`Current step is: ${a}`);const ue=[...Ue[1],...Ue[2],...Ue[3],...Ue[4]];de.forEach(Ye=>{ue.includes(Ye)&&we(Ye)}),await new Promise(Ye=>setTimeout(Ye,50));const me=await ce(de);console.log(`Step ${H} validation result:`,me);const Se=pe();return console.log("Current form values:",Se),console.log("Form errors:",W),console.log("isPwd value:",pe("isPwd")),console.log("isPwd type:",typeof pe("isPwd")),H===1&&(console.log("Step 1 field values:"),de.forEach(Ye=>{const kt=pe(Ye);console.log(`${Ye}:`,kt,typeof kt)})),me},Ke=async H=>{if(console.log(`Navigating to step ${H} from step ${a}`),H<a){s(H);return}for(let de=a;de<H;de++)if(!await Ge(de)){te({message:`Please complete Step ${de} before proceeding.`,type:"error"});return}s(H)},ie=async H=>{console.log(`Edit mode validation for step ${H}`);let de=[];switch(H){case 1:de=["lastName","firstName","sex","civilStatus","dateOfBirth","contactNumber","emailAddress"];break;case 2:de=["isMotherAvailable","isFatherAvailable"];break;case 3:de=["totalFamilyMonthlyIncome","paymentMethod"];break;case 4:de=["scholarshipCategory","educationalLevel","schoolName","campus"];break}console.log(`Edit mode critical fields for step ${H}:`,de);const ue=await ce(de);return console.log(`Edit mode validation result for step ${H}:`,ue),ue},Ce=H=>{if(!H)return 0;if(H.includes("Below"))return 5e4;if(H.includes("Above"))return 75e4;if(H.includes("-")){const[de,ue]=H.split("-").map(me=>parseInt(me.replace(/[^\d]/g,"")));return(de+ue)/2}return parseFloat(H.replace(/[^\d]/g,""))||0},Oe=H=>{const de=Math.max(0,Math.min(100,H));return de>=96?1:de>=94?1.25:de>=92?1.5:de>=89?1.75:de>=87?2:de>=84?2.25:de>=82?2.5:de>=79?2.75:de>=75?3:5};b.useEffect(()=>{(async()=>{if(!r){T(!1);return}try{T(!0);const[de,ue]=await Promise.all([Ut.getUserApplications(),Ut.getAcademicPeriods()]),me=ue.find(oe=>oe.status==="open"&&oe.is_current),Se=!!me,Ye=de.find(oe=>["draft","for_compliance"].includes(oe.status?.toLowerCase()));if(me&&!$&&!Ye){console.log("Auto-populating academic period:",me),fe("schoolYear",me.academic_year);let oe="";me.period_type==="Semester"?me.period_number===1?oe="1st Semester":me.period_number===2?oe="2nd Semester":me.period_number===3&&(oe="Summer"):me.period_number===1?oe=`1st ${me.period_type}`:me.period_number===2?oe=`2nd ${me.period_type}`:me.period_number===3&&(oe=`3rd ${me.period_type}`),oe&&fe("schoolTerm",oe)}const kt=["submitted","documents_reviewed","interview_scheduled","endorsed_to_ssc","approved","grants_processing","grants_disbursed","on_hold","compliance_documents_submitted"],it=de.some(oe=>kt.includes(oe.status?.toLowerCase()));if(!Se&&!Ye){Y(!0),T(!1);return}const ft=!!Ye,Te=!it;if(Y(!Te),Ye&&Te)if(K(!0),Ye.id&&typeof Ye.id=="number")try{const oe=await Ut.getApplication(Ye.id);q(oe),console.log("Edit mode detected. Loading full application data:",oe)}catch(oe){console.error("Failed to fetch full application data:",oe),q(Ye),console.log("Edit mode detected. Using basic application data:",Ye)}else q(Ye),console.log("Edit mode detected. Using basic application data (no ID):",Ye);console.log("User applications:",de),console.log("Has blocking application:",it),console.log("Has editable application:",ft),console.log("Should allow access:",Te),console.log("Is edit mode:",!!Ye&&Te)}catch(de){console.error("Error checking existing applications:",de),Y(!1)}finally{T(!1)}})()},[r]),b.useEffect(()=>{(async()=>{C(!0);try{const[de,ue]=await Promise.all([Ut.getSchools(),Ut.getScholarshipCategories()]);i(Array.isArray(de)?de:[]),l(Array.isArray(ue)?ue:[]),console.log("Loaded schools:",de),console.log("Loaded categories:",ue)}catch(de){console.error("Failed to load reference data:",de),f("Failed to load form data. Please refresh the page."),i([]),l([])}finally{C(!1)}})()},[]),b.useEffect(()=>{const H=l3();H&&!$?(console.log("Loading saved form data:",H),je(H.formData),s(H.currentStep),j(H.formData.scholarshipCategory?parseInt(H.formData.scholarshipCategory):null),S(H.formData.scholarshipSubCategory?parseInt(H.formData.scholarshipSubCategory):null),v(H.formData.schoolName||null),U(H.formData.gwaInputFormat||"percentage"),E(H.formData.studentIdType||"school"),X(H.formData.religion==="OTHERS, PLEASE SPECIFY")):$&&(console.log("Edit mode detected - starting from step 1 and clearing localStorage"),s(1),yx())},[je,$]),b.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[a]),b.useEffect(()=>{if($&&O&&!I){console.log("=== FORM POPULATION DEBUG ==="),console.log("isEditMode:",$),console.log("existingApplication:",O),console.log("existingApplication type:",typeof O),console.log("existingApplication keys:",Object.keys(O||{})),console.log("Student data:",O.student),console.log("Student data keys:",Object.keys(O.student||{})),console.log("Emergency contacts:",O.student?.emergency_contacts);const H={lastName:O.student?.last_name||"",firstName:O.student?.first_name||"",middleName:O.student?.middle_name||"",extensionName:O.student?.extension_name||"",studentId:O.student?.student_id_number||"",sex:O.student?.sex||"",civilStatus:O.student?.civil_status||"",dateOfBirth:O.student?.birth_date?new Date(O.student.birth_date).toISOString().split("T")[0]:"",religion:O.student?.religion||"",nationality:O.student?.nationality||"Filipino",birthPlace:O.student?.birth_place||"",heightCm:O.student?.height_cm?.toString()||"",weightKg:O.student?.weight_kg?.toString()||"",isPwd:O.student?.is_pwd===!0,pwdSpecification:O.student?.pwd_specification||"",presentAddress:O.student?.addresses?.[0]?.address_line_1||"",presentAddressLine2:O.student?.addresses?.[0]?.address_line_2||"",barangay:O.student?.addresses?.[0]?.barangay||"",district:O.student?.addresses?.[0]?.district||"",city:O.student?.addresses?.[0]?.city||"QUEZON CITY",province:O.student?.addresses?.[0]?.province||"",region:O.student?.addresses?.[0]?.region||"",zipCode:O.student?.addresses?.[0]?.zip_code||"",contactNumber:O.student?.contact_number||"",emailAddress:O.student?.email_address||"",motherFirstName:O.student?.family_members?.find(me=>me.relationship==="mother")?.first_name||"",motherLastName:O.student?.family_members?.find(me=>me.relationship==="mother")?.last_name||"",motherMiddleName:O.student?.family_members?.find(me=>me.relationship==="mother")?.middle_name||"",motherExtensionName:O.student?.family_members?.find(me=>me.relationship==="mother")?.extension_name||"",motherContactNumber:O.student?.family_members?.find(me=>me.relationship==="mother")?.contact_number||"",motherOccupation:O.student?.family_members?.find(me=>me.relationship==="mother")?.occupation||"",motherMonthlyIncome:O.student?.family_members?.find(me=>me.relationship==="mother")?.monthly_income?.toString()||"",isMotherAvailable:O.student?.family_members?.find(me=>me.relationship==="mother")?"yes":"no",isFatherAvailable:O.student?.family_members?.find(me=>me.relationship==="father")?"yes":"no",fatherFirstName:O.student?.family_members?.find(me=>me.relationship==="father")?.first_name||"",fatherLastName:O.student?.family_members?.find(me=>me.relationship==="father")?.last_name||"",fatherMiddleName:O.student?.family_members?.find(me=>me.relationship==="father")?.middle_name||"",fatherExtensionName:O.student?.family_members?.find(me=>me.relationship==="father")?.extension_name||"",fatherContactNumber:O.student?.family_members?.find(me=>me.relationship==="father")?.contact_number||"",fatherOccupation:O.student?.family_members?.find(me=>me.relationship==="father")?.occupation||"",fatherMonthlyIncome:O.student?.family_members?.find(me=>me.relationship==="father")?.monthly_income?.toString()||"",emergencyContactName:O.student?.emergency_contacts?.[0]?.full_name||"",emergencyContactNumber:O.student?.emergency_contacts?.[0]?.contact_number||"",emergencyContactRelationship:O.student?.emergency_contacts?.[0]?.relationship||"",isStudentEmployed:O.student?.is_employed?"yes":"no",studentOccupation:O.student?.occupation||"",studentMonthlyIncome:O.student?.financial_information?.monthly_income?.toString()||"",totalFamilyMonthlyIncome:O.student?.financial_information?.family_monthly_income_range||"",totalAnnualIncome:"",numberOfSiblings:O.student?.financial_information?.number_of_siblings?.toString()||"",numberOfSiblingsInSchool:O.student?.financial_information?.siblings_currently_enrolled?.toString()||"",homeOwnershipStatus:O.student?.financial_information?.home_ownership_status||"",isSoloParent:O.student?.is_solo_parent?"yes":"no",isIndigenousGroup:O.student?.is_indigenous_group?"yes":"no",indigenousGroupName:O.student?.indigenous_group_name||"",is4PsBeneficiary:O.student?.financial_information?.is_4ps_beneficiary?"yes":"no",isPwdBeneficiary:O.student?.family_information?.is_pwd_beneficiary?"yes":"no",isRegisteredVoter:O.student?.is_registered_voter?"yes":"no",voterNationality:O.student?.voter_nationality||"",paymentMethod:O.digital_wallets&&O.digital_wallets.length>0?O.digital_wallets[0]:"",bankName:"",accountNumber:O.wallet_account_number||"",hasPayMayaAccount:O.student?.has_paymaya_account?"yes":"no",preferredMobileNumber:O.student?.preferred_mobile_number||"",scholarshipCategory:O.category_id?.toString()||"",scholarshipSubCategory:O.subcategory_id?.toString()||"",schoolName:O.school?.name||"",howDidYouKnow:O.how_did_you_know||[],financialNeedDescription:O.financial_need_description||"",requestedAmount:O.requested_amount?.toString()||"",marginalizedGroups:O.marginalized_groups||[],digitalWallets:O.digital_wallets||[],walletAccountNumber:O.wallet_account_number||"",isSchoolAtCaloocan:O.is_school_at_caloocan?"yes":"no",educationalLevel:O.student?.current_academic_record?.educational_level||"",courseProgram:O.student?.current_academic_record?.program||"",program:O.student?.current_academic_record?.program||"",major:O.student?.current_academic_record?.major||"",trackSpecialization:O.student?.current_academic_record?.track_specialization||"",currentTrackSpecialization:O.student?.current_academic_record?.track_specialization||"",areaOfSpecialization:O.student?.current_academic_record?.area_of_specialization||"",gradeYearLevel:O.student?.current_academic_record?.year_level||"",yearLevel:O.student?.current_academic_record?.year_level||"",schoolTerm:O.student?.current_academic_record?.school_term||"",schoolYear:O.student?.current_academic_record?.school_year||"",campus:O.school?.campus||"",unitsEnrolled:O.student?.current_academic_record?.units_enrolled?.toString()||"",unitsCompleted:O.student?.current_academic_record?.units_completed?.toString()||"N/A",generalWeightedAverage:O.student?.current_academic_record?.general_weighted_average?.toString()||"",previousSchool:O.student?.current_academic_record?.previous_school||"",previousSchoolAddress:O.student?.current_academic_record?.previous_school_address||"",isCurrentlyEnrolled:O.student?.current_academic_record?.is_currently_enrolled?"yes":"no",isGraduating:O.student?.current_academic_record?.is_graduating?"yes":"no",type:O.type||"new",reasonForRenewal:O.reason_for_renewal||"",parentApplicationId:O.parent_application_id||"",notes:O.notes||""};console.log("Form data to be populated:",H),je(H),s(1),O.category_id&&j(O.category_id),O.subcategory_id&&S(O.subcategory_id),O.school?.name&&v(O.school.name);const de=O.student?.current_academic_record?.general_weighted_average;de&&(de<=5?U("gwa"):U("percentage"));const ue=O.student?.student_id_number;ue&&(ue.length===12?E("lrn"):E("school")),H.religion==="OTHERS, PLEASE SPECIFY"&&X(!0),console.log("=== FORM POPULATION COMPLETED ==="),console.log("Form populated with existing application data"),console.log("Current step set to:",1),console.log("Selected category ID:",O.category_id),console.log("Selected subcategory ID:",O.subcategory_id),console.log("Selected school:",O.school?.name)}},[$,O,I,je]),b.useEffect(()=>{(async()=>{if(!r||$||I)return;const de=l3(),ue=new URLSearchParams(window.location.search).get("force-populate")==="true";if(de&&!ue){console.log("Skipping auto-population - saved form data exists in localStorage"),console.log("To test auto-population, add ?force-populate=true to URL or clear localStorage");return}ue&&de&&(console.log("Force auto-population enabled - clearing saved data and populating from user record"),yx()),console.log("Auto-populating form with user data:",r),r.first_name&&fe("firstName",r.first_name),r.last_name&&fe("lastName",r.last_name),r.middle_name&&fe("middleName",r.middle_name),r.extension_name&&fe("extensionName",r.extension_name),r.email&&fe("emailAddress",r.email),r.mobile&&fe("contactNumber",r.mobile),r.birthdate&&fe("dateOfBirth",new Date(r.birthdate).toISOString().split("T")[0]);const me=r.house_number||"",Se=r.street||"",kt=[me,Se].filter(Boolean).join(" ")||r.address||"";kt&&fe("presentAddress",kt),r.barangay&&fe("barangay",r.barangay);try{const it=await Ut.getStudents(),ft=it.data&&it.data.length>0?it.data[0]:null;if(ft){if(console.log("Found existing student record, populating additional fields:",ft),ft.contact_number&&fe("contactNumber",ft.contact_number),ft.sex&&fe("sex",ft.sex),ft.civil_status&&fe("civilStatus",ft.civil_status),ft.birth_date&&fe("dateOfBirth",new Date(ft.birth_date).toISOString().split("T")[0]),ft.religion&&fe("religion",ft.religion),ft.nationality&&fe("nationality",ft.nationality),ft.birth_place&&fe("birthPlace",ft.birth_place),ft.height_cm&&fe("heightCm",ft.height_cm.toString()),ft.weight_kg&&fe("weightKg",ft.weight_kg.toString()),ft.is_pwd!==void 0&&fe("isPwd",ft.is_pwd),ft.pwd_specification&&fe("pwdSpecification",ft.pwd_specification),ft.addresses&&ft.addresses.length>0){const Te=ft.addresses[0];fe("presentAddress",Te.address_line_1||""),fe("presentAddressLine2",Te.address_line_2||""),fe("barangay",Te.barangay||""),fe("district",Te.district||""),fe("city",Te.city||"QUEZON CITY"),fe("province",Te.province||""),fe("region",Te.region||""),fe("zipCode",Te.zip_code||"")}ft.is_employed!==void 0&&fe("isStudentEmployed",ft.is_employed?"yes":"no"),ft.occupation&&fe("studentOccupation",ft.occupation),ft.is_solo_parent!==void 0&&fe("isSoloParent",ft.is_solo_parent?"yes":"no"),ft.is_indigenous_group!==void 0&&fe("isIndigenousGroup",ft.is_indigenous_group?"yes":"no"),ft.is_registered_voter!==void 0&&fe("isRegisteredVoter",ft.is_registered_voter?"yes":"no"),ft.voter_nationality&&fe("voterNationality",ft.voter_nationality),ft.has_paymaya_account!==void 0&&fe("hasPayMayaAccount",ft.has_paymaya_account?"yes":"no"),ft.preferred_mobile_number&&fe("preferredMobileNumber",ft.preferred_mobile_number),ft.student_id_number&&fe("studentId",ft.student_id_number)}else console.log("No existing student record found - using only auth user data")}catch(it){console.error("Error fetching additional student data (non-critical):",it)}})()},[r,$,I,fe]),b.useEffect(()=>{const H=pe(de=>{const ue={...de,gwaInputFormat:D,studentIdType:z};JV(ue,a)});return()=>H.unsubscribe()},[pe,a,D,z]);const Je=async H=>{d(!0),f(null);try{if(!r?.citizen_id){d(!1),f("Your citizen ID is missing. Please log in again or contact support.");return}const de={citizen_id:r.citizen_id,student_id_number:H.studentId||null,first_name:H.firstName||"",last_name:H.lastName||"",middle_name:H.middleName||null,extension_name:H.extensionName||null,sex:H.sex||"Male",civil_status:H.civilStatus||"Single",nationality:H.nationality||"Filipino",birth_place:H.birthPlace||null,birth_date:H.dateOfBirth||null,is_pwd:!!H.isPwd,pwd_specification:H.pwdSpecification||null,religion:H.religion==="OTHERS, PLEASE SPECIFY"?H.religionOther:H.religion||null,height_cm:H.heightCm?parseFloat(H.heightCm):void 0,weight_kg:H.weightKg?parseFloat(H.weightKg):void 0,contact_number:H.contactNumber||null,email_address:H.emailAddress||null,is_employed:H.isStudentEmployed==="yes",occupation:H.studentOccupation||null,is_job_seeking:!1,is_currently_enrolled:!0,is_graduating:!1,is_solo_parent:H.isSoloParent==="yes",is_indigenous_group:H.isIndigenousGroup==="yes",is_registered_voter:H.isRegisteredVoter==="yes",voter_nationality:H.voterNationality||null,has_paymaya_account:H.paymentMethod==="PayMaya",preferred_mobile_number:H.preferredMobileNumber||null,addresses:[{type:"present",address_line_1:H.presentAddress||"",address_line_2:void 0,barangay:H.barangay||void 0,district:H.district||void 0,city:H.city||"Caloocan City",province:"Metro Manila",region:"NCR",zip_code:H.zipCode||void 0}],family_members:[...H.isFatherAvailable==="yes"?[{relationship:"father",first_name:H.fatherFirstName||"",last_name:H.fatherLastName||"",middle_name:H.fatherMiddleName||void 0,extension_name:H.fatherExtensionName||void 0,contact_number:H.fatherContactNumber||void 0,occupation:H.fatherOccupation||void 0,monthly_income:H.fatherMonthlyIncome?Ce(H.fatherMonthlyIncome):void 0,is_alive:!0,is_employed:!!(H.fatherMonthlyIncome||H.fatherOccupation),is_ofw:!1,is_pwd:!1,pwd_specification:void 0}]:[],...H.isMotherAvailable==="yes"?[{relationship:"mother",first_name:H.motherFirstName||"",last_name:H.motherLastName||"",middle_name:H.motherMiddleName||void 0,extension_name:H.motherExtensionName||void 0,contact_number:H.motherContactNumber||void 0,occupation:H.motherOccupation||void 0,monthly_income:H.motherMonthlyIncome?Ce(H.motherMonthlyIncome):void 0,is_alive:!0,is_employed:!!(H.motherMonthlyIncome||H.motherOccupation),is_ofw:!1,is_pwd:!1,pwd_specification:void 0}]:[]],emergency_contacts:H.emergencyContactName?[{full_name:H.emergencyContactName||"",contact_number:H.emergencyContactNumber||"",relationship:H.emergencyContactRelationship||"",address:void 0,email:void 0,notes:void 0,is_primary:!0}]:[],financial_information:{family_monthly_income_range:H.totalFamilyMonthlyIncome||null,monthly_income:H.isStudentEmployed==="yes"&&H.studentMonthlyIncome?Ce(H.studentMonthlyIncome):void 0,number_of_siblings:parseInt(H.numberOfSiblings)||0,siblings_currently_enrolled:parseInt(H.numberOfSiblingsInSchool)||0,home_ownership_status:H.homeOwnershipStatus||null,is_4ps_beneficiary:H.is4PsBeneficiary==="yes"},category_id:w||1,subcategory_id:_||1,school_id:(()=>{if(x&&H.campus&&Array.isArray(n)){const Se=n.find(Ye=>Ye.name===x&&Ye.campus===H.campus);return Se?Se.id:2}return 2})(),type:"new",financial_need_description:H.financialNeedDescription||"Financial assistance needed for education",requested_amount:_&&o.find(Se=>Se.subcategories?.some(Ye=>Ye.id===_))?.subcategories?.find(Se=>Se.id===_)?.amount||5e4,marginalized_groups:H.marginalizedGroups||[],digital_wallets:H.paymentMethod&&H.paymentMethod!=="Cash"?[H.paymentMethod]:[],wallet_account_number:H.accountNumber||void 0,how_did_you_know:H.howDidYouKnow||[],is_school_at_caloocan:H.isSchoolAtCaloocan==="YES",academic_record:{educational_level:H.educationalLevel||"TERTIARY/COLLEGE",program:H.courseProgram||null,major:H.major||null,track_specialization:H.courseProgram||null,area_of_specialization:H.major||null,year_level:H.gradeYearLevel||"1st Year",school_year:H.schoolYear||"2024-2025",school_term:H.schoolTerm||"1st Semester",units_enrolled:H.unitsEnrolled?parseInt(H.unitsEnrolled):void 0,units_completed:H.unitsCompleted&&H.unitsCompleted!=="N/A"?parseInt(H.unitsCompleted):void 0,previous_school_address:H.previousSchoolAddress||null,general_weighted_average:H.generalWeightedAverage?(()=>{const Se=parseFloat(H.generalWeightedAverage);let Ye;return D==="percentage"?(Ye=Oe(Se),console.log(`Converting GWA: ${Se}% -> ${Ye} GWA`)):(Ye=Se,console.log(`Using GWA directly: ${Ye}`)),Ye})():void 0,previous_school:H.previousSchool||null,is_graduating:!1}};console.log("Submitting application data:",de),console.log("Selected IDs:",{selectedCategoryId:w,selectedSubcategoryId:_,selectedSchoolId:x}),console.log("Form data:",H);const ue=localStorage.getItem("auth_token");console.log("Auth token present:",!!ue),console.log("Auth token value:",ue?ue.substring(0,20)+"...":"No token");let me;try{if($&&O){console.log("Updating existing application:",O.id);const Se={first_name:de.first_name,last_name:de.last_name,middle_name:de.middle_name,extension_name:de.extension_name,sex:de.sex,civil_status:de.civil_status,nationality:de.nationality,birth_place:de.birth_place,birth_date:de.birth_date,is_pwd:de.is_pwd,pwd_specification:de.pwd_specification,religion:de.religion,height_cm:de.height_cm,weight_kg:de.weight_kg,contact_number:de.contact_number,email_address:de.email_address,is_employed:de.is_employed,occupation:de.occupation,is_job_seeking:de.is_job_seeking,is_currently_enrolled:de.is_currently_enrolled,is_graduating:de.is_graduating,is_solo_parent:de.is_solo_parent,is_indigenous_group:de.is_indigenous_group,is_registered_voter:de.is_registered_voter,voter_nationality:de.voter_nationality,has_paymaya_account:de.has_paymaya_account,preferred_mobile_number:de.preferred_mobile_number,addresses:de.addresses,family_members:de.family_members,emergency_contacts:de.emergency_contacts,financial_information:de.financial_information},Ye={reason_for_renewal:H.reasonForRenewal||null,financial_need_description:de.financial_need_description,requested_amount:de.requested_amount,marginalized_groups:de.marginalized_groups,digital_wallets:de.digital_wallets,wallet_account_number:de.wallet_account_number,how_did_you_know:de.how_did_you_know,is_school_at_caloocan:de.is_school_at_caloocan,notes:H.notes||null};O.student?.id&&(console.log("Updating student data:",O.student.id),await Ut.updateStudent(O.student.id,Se),console.log("Student updated successfully")),me=await Ut.updateApplication(O.id,Ye),console.log("Application updated successfully:",me)}else me=await Ut.submitNewApplication(de),console.log("Application saved as draft successfully:",me);console.log("Result type:",typeof me),console.log("Result keys:",me?Object.keys(me):"result is null/undefined"),console.log("Student data:",me?.student)}catch(Se){console.error("API draft save error:",Se),console.error("Error details:",{message:Se instanceof Error?Se.message:String(Se),stack:Se instanceof Error?Se.stack:void 0,name:Se instanceof Error?Se.name:"Unknown"});const Ye=Se instanceof Error?Se.message:String(Se);if(Ye.includes("Duplicate entry")&&Ye.includes("citizen_id_unique"))throw new Error("A student record with this information already exists. Please contact support if you believe this is an error.");if(Ye.includes("Integrity constraint violation"))throw new Error("There was a data validation error. Please check your information and try again.");{const kt=$?"update":"save draft";throw new Error(`Failed to ${kt}: ${Ye}`)}}g(!0),yx()}catch(de){console.error(`Failed to ${$?"update":"save draft"}:`,de);const ue=$?"update":"save draft",me=de instanceof Error?de.message:`Failed to ${ue}. Please try again.`;f(me),te({message:`Submission Error: ${me}`,type:"error"})}finally{d(!1)}};return I||F?I?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4",children:e.jsx("h1",{className:"text-2xl font-bold text-white",children:"New Scholarship Application"})}),e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b",children:e.jsxs("button",{onClick:()=>t("/portal"),className:"text-gray-500 hover:text-orange-600 transition-colors text-sm flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Portal"]})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(Mr,{variant:"text",height:24,width:300,className:"mx-auto mb-2"}),e.jsx(Mr,{variant:"text",height:16,width:200,className:"mx-auto"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c2,{}),e.jsx(c2,{})]})]})})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Access Restricted"})}),e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b",children:e.jsxs("button",{onClick:()=>t("/portal"),className:"text-gray-500 hover:text-orange-600 transition-colors text-sm flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Portal"]})}),e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-6",children:e.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"New Application Not Available"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"You currently have an active scholarship application that is being processed. Please wait for your current application to be reviewed before submitting a new one. If you have a draft application, you can edit it from your dashboard."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:()=>t("/scholarship-dashboard"),className:"bg-orange-500 text-white px-6 py-3 rounded-lg hover:bg-orange-600 transition-colors font-semibold",children:"View My Dashboard"}),e.jsx("div",{children:e.jsx("button",{onClick:()=>t("/portal"),className:"text-gray-600 hover:text-gray-800 underline",children:"Return to Portal"})})]})]})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[be&&e.jsx(bD,{message:be.message,type:be.type,onClose:()=>te(null)}),e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:$?"Edit Scholarship Application":"New Scholarship Application"}),e.jsx("p",{className:"text-orange-100 mt-1",children:$?"Update your application information and submit when ready":"Complete all sections to submit your application"})]}),e.jsx("button",{type:"button",onClick:()=>{window.confirm("Are you sure you want to clear all form data? This action cannot be undone.")&&(yx(),je(),s(1),j(null),S(null),v(null),U("percentage"),E("school"),we())},className:"px-4 py-2 bg-white bg-opacity-20 text-white rounded-md hover:bg-opacity-30 transition-colors text-sm",children:"Clear Form"})]})}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",a," of 4"]}),e.jsx("div",{className:"w-64 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${a/4*100}%`}})})]}),e.jsx("nav",{className:"flex overflow-x-auto","aria-label":"Progress Steps",children:e.jsxs("ol",{className:"flex items-center space-x-2",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>Ke(1),className:`text-sm whitespace-nowrap transition-colors ${a===1?"text-orange-600 font-semibold":a>1?"text-green-600 font-medium hover:text-green-700":"text-gray-400 hover:text-gray-600"}`,children:"1. Personal Information"})}),e.jsx("li",{children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>Ke(2),className:`text-sm whitespace-nowrap transition-colors ${a===2?"text-orange-600 font-semibold":a>2?"text-green-600 font-medium hover:text-green-700":"text-gray-400 hover:text-gray-600"}`,children:"2. Family Information"})}),e.jsx("li",{children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>Ke(3),className:`text-sm whitespace-nowrap transition-colors ${a===3?"text-orange-600 font-semibold":a>3?"text-green-600 font-medium hover:text-green-700":"text-gray-400 hover:text-gray-600"}`,children:"3. Financial Information"})}),e.jsx("li",{children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>Ke(4),className:`text-sm whitespace-nowrap transition-colors ${a===4?"text-orange-600 font-semibold":a>4?"text-green-600 font-medium hover:text-green-700":"text-gray-400 hover:text-gray-600"}`,children:"4. Academic Information"})})]})})]}),u&&e.jsx("div",{className:"mx-6 mt-4 p-4 bg-red-50 border border-red-200 rounded-md",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:u})})]})]})}),e.jsxs("form",{onSubmit:ae(Je,H=>{const de=Object.keys(H)[0],ue=H[de]?.message||"Please check the form for errors.";te({message:`Validation Error: ${ue}`,type:"error"}),console.log("Form validation failed:",H)}),className:"p-6",children:[a===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["PERSONAL INFORMATION ",e.jsx("span",{className:"text-gray-600 text-lg",children:"(Import from CaloocanCitizen ID)"})]}),e.jsx("a",{href:"#",className:"text-blue-600 hover:underline text-sm",children:"edit personal information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx(Vt,{name:"lastName",control:R,rules:{required:"Last Name is required"},render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.lastName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx(Vt,{name:"firstName",control:R,rules:{required:"First Name is required"},render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.firstName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),e.jsx(Vt,{name:"middleName",control:R,render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Extension Name"}),e.jsx(Vt,{name:"extensionName",control:R,render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"e.g., Jr., Sr., III",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[z==="school"?"Student ID":"LRN (Learner Reference Number)"," *"]}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"studentIdType",value:"school",checked:z==="school",onChange:()=>E("school"),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"School ID"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"studentIdType",value:"lrn",checked:z==="lrn",onChange:()=>E("lrn"),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"LRN"})]})]})}),e.jsx(Vt,{name:"studentId",control:R,rules:{required:`${z==="school"?"Student ID":"LRN"} is required`,minLength:{value:z==="lrn"?10:1,message:z==="lrn"?"LRN must be at least 10 characters":"Student ID is required"}},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:z==="school"?"e.g., 2024-00123":"e.g., 123456789012",maxLength:z==="lrn"?12:void 0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:z==="school"?"Enter your school-issued student ID number":"Enter your 12-digit Learner Reference Number (LRN)"}),W.studentId&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.studentId.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sex *"}),e.jsx(Vt,{name:"sex",control:R,rules:{required:"Sex is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Sex"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})}),W.sex&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.sex.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Civil Status *"}),e.jsx(Vt,{name:"civilStatus",control:R,rules:{required:"Civil Status is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Married",children:"Married"}),e.jsx("option",{value:"Divorced",children:"Divorced"}),e.jsx("option",{value:"Widowed",children:"Widowed"})]})}),W.civilStatus&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.civilStatus.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth *"}),e.jsx(Vt,{name:"dateOfBirth",control:R,rules:{required:"Date of Birth is required"},render:({field:H})=>e.jsx("input",{...H,type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.dateOfBirth&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.dateOfBirth.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Religion *"}),e.jsx(Vt,{name:"religion",control:R,rules:{required:"Religion is required"},render:({field:H})=>e.jsxs("select",{...H,onChange:de=>{H.onChange(de),X(de.target.value==="OTHERS, PLEASE SPECIFY")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Religion"}),e.jsx("option",{value:"ROMAN CATHOLIC",children:"Roman Catholic"}),e.jsx("option",{value:"ISLAM",children:"Islam"}),e.jsx("option",{value:"CHRISTIAN",children:"Christian"}),e.jsx("option",{value:"BORN AGAIN",children:"Born Again"}),e.jsx("option",{value:"IGLESIA NI CRISTO (INC)",children:"Iglesia ni Cristo (INC)"}),e.jsx("option",{value:"BIBLE BAPTIST",children:"Bible Baptist"}),e.jsx("option",{value:"7TH DAY ADVENTIST",children:"7th Day Adventist"}),e.jsx("option",{value:"AGLIPAY",children:"Aglipay"}),e.jsx("option",{value:"DATING DAAN",children:"Dating Daan"}),e.jsx("option",{value:"JEHOVA",children:"Jehova"}),e.jsx("option",{value:"OTHERS, PLEASE SPECIFY",children:"Others, please specify"})]})}),J&&e.jsx(Vt,{name:"religionOther",control:R,rules:{required:J?"Please specify your religion":!1},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"Please specify your religion",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent mt-2"})}),W.religion&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.religion.message)}),W.religionOther&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.religionOther.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationality *"}),e.jsx(Vt,{name:"nationality",control:R,rules:{required:"Nationality is required"},render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.nationality&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.nationality.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Birth Place *"}),e.jsx(Vt,{name:"birthPlace",control:R,rules:{required:"Birth Place is required"},render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.birthPlace&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.birthPlace.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (cm)"}),e.jsx(Vt,{name:"heightCm",control:R,render:({field:H})=>e.jsx("input",{...H,type:"number",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),e.jsx(Vt,{name:"weightKg",control:R,render:({field:H})=>e.jsx("input",{...H,type:"number",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Are you a Person with Disability (PWD)? *"}),e.jsx("div",{className:"flex space-x-4",children:e.jsx(Vt,{name:"isPwd",control:R,rules:{validate:H=>H===!0||H===!1?!0:"Please select PWD status"},render:({field:H})=>e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"isPwd",value:"true",checked:H.value===!0,onChange:()=>{H.onChange(!0),setTimeout(()=>ce("isPwd"),10)},className:"mr-2"}),"YES"]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"isPwd",value:"false",checked:H.value===!1,onChange:()=>{H.onChange(!1),setTimeout(()=>ce("isPwd"),10)},className:"mr-2"}),"NO"]})]})})}),W.isPwd&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.isPwd.message)})]}),xe&&e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"If PWD, Specify *"}),e.jsx(Vt,{name:"pwdSpecification",control:R,rules:{required:xe?"PWD specification is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"SPECIFY",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.pwdSpecification&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.pwdSpecification.message)})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Present Address *"}),e.jsx(Vt,{name:"presentAddress",control:R,rules:{required:"Present Address is required"},render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.presentAddress&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.presentAddress.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Barangay *"}),e.jsx(Vt,{name:"barangay",control:R,rules:{required:"Barangay is required"},render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.barangay&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.barangay.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"District *"}),e.jsx(Vt,{name:"district",control:R,rules:{required:"District is required"},render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.district&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.district.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),e.jsx(Vt,{name:"city",control:R,rules:{required:"City is required"},render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.city&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.city.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zip Code *"}),e.jsx(Vt,{name:"zipCode",control:R,rules:{required:"Zip Code is required",maxLength:{value:20,message:"Zip Code must not exceed 20 characters"}},render:({field:H})=>e.jsx("input",{...H,type:"text",maxLength:20,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.zipCode&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.zipCode.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Active Contact Number *"}),e.jsx(Vt,{name:"contactNumber",control:R,rules:{required:"Contact Number is required"},render:({field:H})=>e.jsx("input",{...H,type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.contactNumber&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.contactNumber.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Active Email Address *"}),e.jsx(Vt,{name:"emailAddress",control:R,rules:{required:"Email Address is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email format"}},render:({field:H})=>e.jsx("input",{...H,type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.emailAddress&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.emailAddress.message)})]})]})]}),a===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"PARENT/GUARDIAN & EMERGENCY CONTACT INFORMATION"}),e.jsx("a",{href:"#",className:"text-blue-600 hover:underline text-sm",children:"edit personal information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"col-span-full",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Mother's Information (Maiden Name)"})}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Status *"}),e.jsx(Vt,{name:"isMotherAvailable",control:R,rules:{required:"Please indicate your mother's status"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"yes",children:"Living"}),e.jsx("option",{value:"no",children:"Deceased"}),e.jsx("option",{value:"no_contact",children:"No Contact / Unknown"})]})}),W.isMotherAvailable&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.isMotherAvailable.message)})]}),ge==="yes"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx(Vt,{name:"motherFirstName",control:R,rules:{required:ge==="yes"?"Mother's First Name is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.motherFirstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.motherFirstName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx(Vt,{name:"motherLastName",control:R,rules:{required:ge==="yes"?"Mother's Last Name is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.motherLastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.motherLastName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),e.jsx(Vt,{name:"motherMiddleName",control:R,render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Extension Name"}),e.jsx(Vt,{name:"motherExtensionName",control:R,render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"e.g., Jr., Sr.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number *"}),e.jsx(Vt,{name:"motherContactNumber",control:R,rules:{required:ge==="yes"?"Mother's Contact Number is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"tel",placeholder:"e.g., 09171234567",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.motherContactNumber&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.motherContactNumber.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupation *"}),e.jsx(Vt,{name:"motherOccupation",control:R,rules:{required:ge==="yes"?"Mother's Occupation is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"e.g., Teacher, Housewife",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.motherOccupation&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.motherOccupation.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Income *"}),e.jsx(Vt,{name:"motherMonthlyIncome",control:R,rules:{required:ge==="yes"?"Mother's Monthly Income is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"number",min:"0",step:"0.01",placeholder:"e.g., 15000 (Enter 0 if not applicable)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.motherMonthlyIncome&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.motherMonthlyIncome.message)})]})]}),e.jsx("div",{className:"col-span-full mt-6",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Father's Information"})}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Status *"}),e.jsx(Vt,{name:"isFatherAvailable",control:R,rules:{required:"Please indicate your father's status"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"yes",children:"Living"}),e.jsx("option",{value:"no",children:"Deceased"}),e.jsx("option",{value:"no_contact",children:"No Contact / Unknown"})]})}),W.isFatherAvailable&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.isFatherAvailable.message)})]}),ot==="yes"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx(Vt,{name:"fatherFirstName",control:R,rules:{required:ot==="yes"?"Father's First Name is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.fatherFirstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.fatherFirstName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx(Vt,{name:"fatherLastName",control:R,rules:{required:ot==="yes"?"Father's Last Name is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.fatherLastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.fatherLastName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),e.jsx(Vt,{name:"fatherMiddleName",control:R,render:({field:H})=>e.jsx("input",{...H,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Extension Name"}),e.jsx(Vt,{name:"fatherExtensionName",control:R,render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"e.g., Jr., Sr., III",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number *"}),e.jsx(Vt,{name:"fatherContactNumber",control:R,rules:{required:ot==="yes"?"Father's Contact Number is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"tel",placeholder:"e.g., 09171234567",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.fatherContactNumber&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.fatherContactNumber.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupation *"}),e.jsx(Vt,{name:"fatherOccupation",control:R,rules:{required:ot==="yes"?"Father's Occupation is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"e.g., Driver, Engineer",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.fatherOccupation&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.fatherOccupation.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Income *"}),e.jsx(Vt,{name:"fatherMonthlyIncome",control:R,rules:{required:ot==="yes"?"Father's Monthly Income is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"number",min:"0",step:"0.01",placeholder:"e.g., 20000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.fatherMonthlyIncome&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.fatherMonthlyIncome.message)})]})]}),e.jsxs("div",{className:"col-span-full mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Emergency Contact Information"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Person to contact in case of emergency (if different from parents)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx(Vt,{name:"emergencyContactName",control:R,rules:{required:"Emergency Contact Name is required"},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"e.g., Juan Dela Cruz",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.emergencyContactName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.emergencyContactName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number *"}),e.jsx(Vt,{name:"emergencyContactNumber",control:R,rules:{required:"Emergency Contact Number is required"},render:({field:H})=>e.jsx("input",{...H,type:"tel",placeholder:"e.g., 09171234567",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.emergencyContactNumber&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.emergencyContactNumber.message)})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relationship to Student *"}),e.jsx(Vt,{name:"emergencyContactRelationship",control:R,rules:{required:"Relationship is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Relationship"}),e.jsx("option",{value:"Parent",children:"Parent"}),e.jsx("option",{value:"Sibling",children:"Sibling"}),e.jsx("option",{value:"Aunt/Uncle",children:"Aunt/Uncle"}),e.jsx("option",{value:"Grandparent",children:"Grandparent"}),e.jsx("option",{value:"Guardian",children:"Guardian"}),e.jsx("option",{value:"Other Relative",children:"Other Relative"}),e.jsx("option",{value:"Friend",children:"Friend"})]})}),W.emergencyContactRelationship&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.emergencyContactRelationship.message)})]})]})]}),a===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Socio-Economic & Financial Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"col-span-full",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Student Employment Status"})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Are you (the student) currently working or employed? *",e.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(Part-time or full-time)"})]}),e.jsx(Vt,{name:"isStudentEmployed",control:R,rules:{required:"Student employment status is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})}),W.isStudentEmployed&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.isStudentEmployed.message)})]}),Z==="yes"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Occupation/Job *"}),e.jsx(Vt,{name:"studentOccupation",control:R,rules:{required:Z==="yes"?"Student occupation is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"e.g., Sales Associate, Cashier",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.studentOccupation&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.studentOccupation.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Monthly Income *"}),e.jsx(Vt,{name:"studentMonthlyIncome",control:R,rules:{required:Z==="yes"?"Student monthly income is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"number",min:"0",step:"0.01",placeholder:"e.g., 5000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.studentMonthlyIncome&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.studentMonthlyIncome.message)})]})]}),e.jsxs("div",{className:"col-span-full mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Family Income"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Combined income of all family members (parents, guardians, etc.)"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Family Monthly Income Range *"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"This will be used if individual family member incomes are not provided above"}),e.jsx(Vt,{name:"totalFamilyMonthlyIncome",control:R,rules:{required:"Total family monthly income is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Income Range"}),e.jsx("option",{value:"Below 5,000",children:"Below 5,000"}),e.jsx("option",{value:"5,000-10,000",children:"5,000 - 10,000"}),e.jsx("option",{value:"10,000-15,000",children:"10,000 - 15,000"}),e.jsx("option",{value:"15,000-20,000",children:"15,000 - 20,000"}),e.jsx("option",{value:"20,000-30,000",children:"20,000 - 30,000"}),e.jsx("option",{value:"30,000-50,000",children:"30,000 - 50,000"}),e.jsx("option",{value:"Above 50,000",children:"Above 50,000"})]})}),W.totalFamilyMonthlyIncome&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.totalFamilyMonthlyIncome.message)})]}),e.jsx("div",{className:"col-span-full mt-6",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Family Information"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Siblings *"}),e.jsx(Vt,{name:"numberOfSiblings",control:R,rules:{required:"Number of Siblings is required"},render:({field:H})=>e.jsx("input",{...H,type:"number",min:"0",placeholder:"e.g., 3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.numberOfSiblings&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.numberOfSiblings.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"How many siblings are currently enrolled in school? *"}),e.jsx(Vt,{name:"numberOfSiblingsInSchool",control:R,rules:{required:"Number of siblings in school is required"},render:({field:H})=>e.jsx("input",{...H,type:"number",min:"0",placeholder:"e.g., 2",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.numberOfSiblingsInSchool&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.numberOfSiblingsInSchool.message)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Home Ownership Status *"}),e.jsx(Vt,{name:"homeOwnershipStatus",control:R,rules:{required:"Home Ownership Status is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"owned",children:"Owned"}),e.jsx("option",{value:"rented",children:"Rented"}),e.jsx("option",{value:"living_with_relatives",children:"Living with relatives"}),e.jsx("option",{value:"boarding_house",children:"Boarding house"}),e.jsx("option",{value:"informal_settlers",children:"Informal Settlers"}),e.jsx("option",{value:"others",children:"Others"})]})}),W.homeOwnershipStatus&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.homeOwnershipStatus.message)})]}),e.jsxs("div",{className:"col-span-full mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Marginalized Groups & Government Benefits"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please indicate if you belong to any of the following groups:"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Are you a Solo Parent? *"}),e.jsx(Vt,{name:"isSoloParent",control:R,rules:{required:"Solo Parent status is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Option"}),e.jsx("option",{value:"yes",children:"YES"}),e.jsx("option",{value:"no",children:"NO"})]})}),W.isSoloParent&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.isSoloParent.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Are you a member of an Indigenous Group? *"}),e.jsx(Vt,{name:"isIndigenousGroup",control:R,rules:{required:"Indigenous Group status is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Option"}),e.jsx("option",{value:"yes",children:"YES"}),e.jsx("option",{value:"no",children:"NO"})]})}),W.isIndigenousGroup&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.isIndigenousGroup.message)})]}),Ze==="yes"&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specify Indigenous Group Name *"}),e.jsx(Vt,{name:"indigenousGroupName",control:R,rules:{required:Ze==="yes"?"Indigenous group name is required":!1},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"e.g., Aeta, Igorot, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.indigenousGroupName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.indigenousGroupName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Are you a 4Ps Beneficiary? *"}),e.jsx(Vt,{name:"is4PsBeneficiary",control:R,rules:{required:"4Ps beneficiary status is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Option"}),e.jsx("option",{value:"yes",children:"YES"}),e.jsx("option",{value:"no",children:"NO"})]})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pantawid Pamilyang Pilipino Program"}),W.is4PsBeneficiary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.is4PsBeneficiary.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Are you a registered voter in Caloocan City? *"}),e.jsx(Vt,{name:"isRegisteredVoter",control:R,rules:{required:"Registered Voter status is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Option"}),e.jsx("option",{value:"yes",children:"YES"}),e.jsx("option",{value:"no",children:"NO"})]})}),W.isRegisteredVoter&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.isRegisteredVoter.message)})]}),e.jsx("div",{className:"col-span-full mt-6",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Financial Need & Scholarship Amount"})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Describe your financial need *"}),e.jsx(Vt,{name:"financialNeedDescription",control:R,rules:{required:"Financial need description is required",minLength:{value:20,message:"Please provide at least 20 characters"},maxLength:{value:500,message:"Description must not exceed 500 characters"}},render:({field:H})=>e.jsx("textarea",{...H,rows:4,placeholder:"Please explain why you need financial assistance for your education. Include details about your family's financial situation, challenges, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[pe("financialNeedDescription")?.length||0," / 500 characters (minimum 20)"]}),W.financialNeedDescription&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.financialNeedDescription.message)})]}),e.jsxs("div",{className:"col-span-full mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Scholarship Disbursement Method"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"How would you like to receive the scholarship funds?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),e.jsx(Vt,{name:"paymentMethod",control:R,rules:{required:"Payment method is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Payment Method"}),e.jsx("option",{value:"GCash",children:"GCash"}),e.jsx("option",{value:"PayMaya",children:"PayMaya"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Cash",children:"Cash (Over-the-counter)"})]})}),W.paymentMethod&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.paymentMethod.message)})]}),$e==="Bank Transfer"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name *"}),e.jsx(Vt,{name:"bankName",control:R,rules:{required:"Bank Name is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Bank"}),e.jsx("option",{value:"BDO",children:"BDO"}),e.jsx("option",{value:"BPI",children:"BPI"}),e.jsx("option",{value:"Metrobank",children:"Metrobank"}),e.jsx("option",{value:"Landbank",children:"Landbank"}),e.jsx("option",{value:"PNB",children:"PNB"}),e.jsx("option",{value:"RCBC",children:"RCBC"}),e.jsx("option",{value:"Unionbank",children:"Unionbank"}),e.jsx("option",{value:"Chinabank",children:"Chinabank"}),e.jsx("option",{value:"Others",children:"Others"})]})}),W.bankName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.bankName.message)})]}),$e&&$e!=="Cash"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number / Mobile Number *"}),e.jsx(Vt,{name:"accountNumber",control:R,rules:{required:$e!=="Cash"?"Account number is required":!1,minLength:{value:10,message:"Account number must be at least 10 digits"}},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:$e==="Bank Transfer"?"Enter bank account number":"Enter mobile number (09xxxxxxxxx)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.accountNumber&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.accountNumber.message)})]})]})]}),a===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Scholarship and Enrollment Information"}),N&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(Mr,{variant:"text",height:24,width:250}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Array.from({length:6}).map((H,de)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(Mr,{variant:"text",height:14,width:100}),e.jsx(Mr,{variant:"rectangular",height:40})]},de))})]}),!N&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"col-span-full",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Scholarship Information"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scholarship Category *"}),e.jsx(Vt,{name:"scholarshipCategory",control:R,rules:{required:"Scholarship Category is required"},render:({field:H})=>e.jsxs("select",{...H,onChange:de=>{H.onChange(de);const ue=parseInt(de.target.value);j(ue),S(null)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Scholarship Category"}),Array.isArray(o)&&o.map(de=>e.jsx("option",{value:de.id,children:de.name},de.id))]})}),W.scholarshipCategory&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.scholarshipCategory.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scholarship Subcategory *"}),e.jsx(Vt,{name:"scholarshipSubCategory",control:R,rules:{required:"Scholarship Subcategory is required"},render:({field:H})=>e.jsxs("select",{...H,onChange:de=>{H.onChange(de);const ue=parseInt(de.target.value);S(ue)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",disabled:!w,children:[e.jsx("option",{value:"",children:"Select Subcategory"}),w&&Array.isArray(o)&&o.find(de=>de.id===w)?.subcategories?.map(de=>e.jsx("option",{value:de.id,children:de.name},de.id))]})}),W.scholarshipSubCategory&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.scholarshipSubCategory.message)})]}),_&&e.jsx("div",{className:"col-span-full",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Scholarship Details"}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Amount:"})," ",o.find(H=>H.subcategories?.some(de=>de.id===_))?.subcategories?.find(H=>H.id===_)?.amount?.toLocaleString()||"0"]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"This is the predetermined amount for the selected scholarship subcategory."})]})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"How did you hear about this scholarship program? *"}),e.jsx(Vt,{name:"howDidYouKnow",control:R,rules:{required:"Please select at least one option",validate:H=>Array.isArray(H)&&H.length===0?"Please select at least one option":!0},render:({field:H})=>e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Social Media","School Announcement","Friend/Family","Barangay Official","Website","Other"].map(de=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",value:de,checked:H.value?.includes(de)||!1,onChange:ue=>{const me=H.value||[];ue.target.checked?H.onChange([...me,de]):H.onChange(me.filter(Se=>Se!==de))},className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:de})]},de))})}),W.howDidYouKnow&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.howDidYouKnow.message)})]}),e.jsx("div",{className:"col-span-full mt-6",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Current School Information"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Educational Level *"}),e.jsx(Vt,{name:"educationalLevel",control:R,rules:{required:"Educational Level is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"TERTIARY/COLLEGE",children:"TERTIARY/COLLEGE"}),e.jsx("option",{value:"SENIOR HIGH SCHOOL",children:"SENIOR HIGH SCHOOL"}),e.jsx("option",{value:"VOCATIONAL",children:"VOCATIONAL"})]})}),W.educationalLevel&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.educationalLevel.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Is Current School at Caloocan? *"}),e.jsx(Vt,{name:"isSchoolAtCaloocan",control:R,rules:{required:"School location is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"YES",children:"YES"}),e.jsx("option",{value:"NO",children:"NO"})]})}),W.isSchoolAtCaloocan&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.isSchoolAtCaloocan.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name of School *"}),e.jsx(Vt,{name:"schoolName",control:R,rules:{required:"School Name is required"},render:({field:H})=>e.jsxs("select",{...H,onChange:de=>{H.onChange(de);const ue=de.target.value;v(ue),fe("campus","")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select School"}),Array.isArray(n)&&n.reduce((de,ue)=>(de.find(me=>me.name===ue.name)||de.push(ue),de),[]).map(de=>e.jsx("option",{value:de.name,children:de.name},de.id))]})}),W.schoolName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.schoolName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campus *"}),e.jsx(Vt,{name:"campus",control:R,rules:{required:"Campus is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Campus"}),x&&Array.isArray(n)&&n.filter(de=>de.name===x).map((de,ue)=>e.jsx("option",{value:de.campus,children:de.campus},`${de.id}-${ue}`))]})}),W.campus&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.campus.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Units Currently Enrolled *"}),e.jsx(Vt,{name:"unitsEnrolled",control:R,rules:{required:"Units Enrolled is required"},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"Write N/A if Senior High School Student",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.unitsEnrolled&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.unitsEnrolled.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Grade/Year Level *"}),e.jsx(Vt,{name:"gradeYearLevel",control:R,rules:{required:"Grade/Year Level is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Grade/Year Level"}),e.jsx("option",{value:"1st Year",children:"1st Year"}),e.jsx("option",{value:"2nd Year",children:"2nd Year"}),e.jsx("option",{value:"3rd Year",children:"3rd Year"}),e.jsx("option",{value:"4th Year",children:"4th Year"}),e.jsx("option",{value:"5th Year",children:"5th Year"}),e.jsx("option",{value:"Grade 11",children:"Grade 11"}),e.jsx("option",{value:"Grade 12",children:"Grade 12"})]})}),W.gradeYearLevel&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.gradeYearLevel.message)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[re==="SENIOR HIGH SCHOOL"?"Track/Strand":re==="VOCATIONAL"?"Course/Program":"Degree Program"," *"]}),e.jsx(Vt,{name:"courseProgram",control:R,rules:{required:`${re==="SENIOR HIGH SCHOOL"?"Track/Strand":"Degree Program"} is required`},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:re==="SENIOR HIGH SCHOOL"?"e.g., STEM, ABM, HUMSS, etc.":re==="VOCATIONAL"?"e.g., Automotive Servicing, Cookery, etc.":"e.g., BS Computer Science, AB Psychology, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:re==="SENIOR HIGH SCHOOL"?"Enter your SHS track/strand":re==="VOCATIONAL"?"Enter your vocational course":"Enter your college degree program"}),W.courseProgram&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.courseProgram.message)})]}),re==="TERTIARY/COLLEGE"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Major/Specialization"}),e.jsx(Vt,{name:"major",control:R,render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"e.g., Software Engineering, Clinical Psychology (Leave blank if not applicable)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Enter your major or area of specialization if applicable"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Term/Semester *"}),e.jsx(Vt,{name:"schoolTerm",control:R,rules:{required:"School Term/Semester is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"1st Semester",children:"1st Semester"}),e.jsx("option",{value:"2nd Semester",children:"2nd Semester"}),e.jsx("option",{value:"Summer",children:"Summer"})]})}),W.schoolTerm&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.schoolTerm.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Year *"}),e.jsx(Vt,{name:"schoolYear",control:R,rules:{required:"School Year is required"},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"e.g., 2023-2024",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.schoolYear&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.schoolYear.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Are you a Graduating Student? *"}),e.jsx(Vt,{name:"isGraduating",control:R,rules:{required:"Graduating student status is required"},render:({field:H})=>e.jsxs("select",{...H,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Option"}),e.jsx("option",{value:"yes",children:"YES"}),e.jsx("option",{value:"no",children:"NO"})]})}),W.isGraduating&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.isGraduating.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Units Completed *"}),e.jsx(Vt,{name:"unitsCompleted",control:R,rules:{required:"Units Completed is required",validate:H=>!H||H.trim()===""?"Units Completed is required":H!=="N/A"&&isNaN(parseInt(H))?"Please enter a valid number or N/A":!0},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"Write N/A if Senior High School Student",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.unitsCompleted&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.unitsCompleted.message)})]}),e.jsxs("div",{className:"col-span-full mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Previous School Information"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"For transferees or if different from current school"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Previous School Name *"}),e.jsx(Vt,{name:"previousSchool",control:R,rules:{required:"Previous School Name is required"},render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"e.g., ABC High School (Write N/A if not applicable)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter your previous school name, or N/A if not applicable"}),W.previousSchool&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.previousSchool.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Previous School Address"}),e.jsx(Vt,{name:"previousSchoolAddress",control:R,render:({field:H})=>e.jsx("input",{...H,type:"text",placeholder:"Optional: City/Municipality where previous school is located",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsx("div",{className:"col-span-full mt-6",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Academic Performance"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"General Weighted Average *"}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"gwaFormat",value:"percentage",checked:D==="percentage",onChange:()=>U("percentage"),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Percentage (0-100)"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"gwaFormat",value:"gwa",checked:D==="gwa",onChange:()=>U("gwa"),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"GWA (1.00-5.00)"})]})]})}),e.jsx(Vt,{name:"generalWeightedAverage",control:R,rules:{required:"General Weighted Average is required",validate:H=>{if(!H)return!0;const de=parseFloat(H);if(isNaN(de))return"Please enter a valid number";if(D==="percentage"){if(de<0||de>100)return"Percentage must be between 0 and 100"}else if(de<1||de>5)return"GWA must be between 1.00 and 5.00";return!0}},render:({field:H})=>e.jsx("input",{...H,type:"number",step:D==="percentage"?"0.01":"0.25",min:D==="percentage"?"0":"1.00",max:D==="percentage"?"100":"5.00",placeholder:D==="percentage"?"e.g., 96":"e.g., 1.25",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),W.generalWeightedAverage&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(W.generalWeightedAverage.message)}),D==="percentage"&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Will be converted to GWA scale (1.00-5.00, where 1.00 is highest)"})]})]})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx("button",{type:"button",onClick:()=>s(Math.max(1,a-1)),disabled:a===1,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a<4?e.jsx("button",{type:"button",onClick:async H=>{H.preventDefault(),H.stopPropagation(),console.log("Next button clicked, current step:",a,"isEditMode:",$);const de=await Ge(a);if(console.log("Validation result:",de),de)s(a+1);else{console.log("Validation failed, staying on step:",a);const me=(Ue[a]||[]).find(Ye=>W[Ye]),Se=me?W[me]?.message:"Please check the required fields.";te({message:`Validation Error: ${Se}`,type:"error"})}},className:"px-6 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600",children:"Next"}):e.jsxs("button",{type:"submit",disabled:c,className:`px-6 py-2 text-white rounded-md flex items-center ${c?"bg-gray-400 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600"}`,children:[c&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c?"Saving":"Save Draft"]})]})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-10 mx-auto p-6 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Draft Saved Successfully!"}),e.jsxs("div",{className:"mt-2 px-7 py-3",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Your application has been saved as a draft. Please upload the required documents and submit when ready."}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-md",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800",children:" Important: Upload Required Documents"}),e.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"To complete your application, you need to upload the required documents through your dashboard. Your application will not be processed until all documents are uploaded."}),e.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:[e.jsx("p",{children:e.jsx("strong",{children:"Required documents:"})}),e.jsxs("ul",{className:"mt-1 ml-4 list-disc text-left space-y-1",children:[e.jsx("li",{children:"Birth Certificate (PSA/NSO authenticated copy)"}),e.jsx("li",{children:"Transcript of Records (Latest)"}),e.jsx("li",{children:"Certificate of Good Moral Character"}),e.jsx("li",{children:"Income Certificate"}),e.jsx("li",{children:"Barangay Certificate"}),e.jsx("li",{children:"Valid ID (Government-issued)"}),e.jsx("li",{children:"Proof of Residency"})]})]})]})]})})]}),e.jsx("div",{className:"items-center px-4 py-3",children:e.jsx("button",{onClick:()=>{g(!1),t("/scholarship-dashboard")},className:"px-4 py-2 bg-orange-500 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-300",children:"Go to Dashboard"})})]})})})]})},ZV=({length:t=6,onComplete:r,disabled:a=!1,error:s=!1})=>{const[n,i]=b.useState(new Array(t).fill("")),o=b.useRef([]);b.useEffect(()=>{o.current[0]&&!a&&o.current[0].focus()},[a]),b.useEffect(()=>{n.every(p=>p!=="")&&r(n.join(""))},[n,r]);const l=(p,g)=>{if(a)return;const x=g.replace(/[^0-9]/g,"");if(x.length>1){d(x,p);return}const v=[...n];v[p]=x,i(v),x&&p<t-1&&o.current[p+1]?.focus()},c=(p,g)=>{if(!a)if(g.key==="Backspace")if(!n[p]&&p>0)o.current[p-1]?.focus();else{const x=[...n];x[p]="",i(x)}else g.key==="ArrowLeft"&&p>0?o.current[p-1]?.focus():g.key==="ArrowRight"&&p<t-1&&o.current[p+1]?.focus()},d=(p,g=0)=>{const x=p.replace(/[^0-9]/g,"").split(""),v=[...n];x.forEach((j,_)=>{const S=g+_;S<t&&(v[S]=j)}),i(v);const w=Math.min(g+x.length-1,t-1);o.current[w]?.focus()},u=(p,g)=>{p.preventDefault();const x=p.clipboardData.getData("text");d(x,g)},f=p=>{o.current[p]?.select()};return e.jsx("div",{className:"flex gap-2 justify-center",children:n.map((p,g)=>e.jsx("input",{ref:x=>o.current[g]=x,type:"text",inputMode:"numeric",maxLength:1,value:p,onChange:x=>l(g,x.target.value),onKeyDown:x=>c(g,x),onPaste:x=>u(x,g),onFocus:()=>f(g),disabled:a,className:`
						w-12 h-14 text-center text-2xl font-semibold
						border-2 rounded-lg
						transition-all duration-200
						focus:outline-none focus:ring-2
						${s?"border-red-500 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-orange-500 focus:ring-orange-200"}
						${a?"bg-gray-100 cursor-not-allowed":"bg-white"}
						${p?"border-orange-500":""}
					`,"aria-label":`OTP digit ${g+1}`},g))})},QV=()=>{const[t,r]=b.useState({username:"",password:""}),[a,s]=b.useState(!1),[n,i]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState(""),[u,f]=b.useState(600),[p,g]=b.useState(0),{login:x,loginWithOtp:v,error:w,clearError:j}=_r(),_=_r(q=>q.currentUser),S=_r(q=>q.isLoading),N=Gi(),D=Ao().state?.from?.pathname;b.useEffect(()=>{if(!n||u<=0)return;const q=setInterval(()=>{f($=>$<=1?(clearInterval(q),0):$-1)},1e3);return()=>clearInterval(q)},[n,u]),b.useEffect(()=>{if(p<=0)return;const q=setInterval(()=>{g($=>$<=1?(clearInterval(q),0):$-1)},1e3);return()=>clearInterval(q)},[p]),b.useEffect(()=>{const $=new URLSearchParams(window.location.search).get("code");$&&!a&&U($)},[]);const U=async q=>{s(!0),j();try{const K=await(await fetch(`${fh("/api")}/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:q})})).json();if(K.success&&K.data.token){localStorage.setItem("auth_token",K.data.token),window.history.replaceState({},document.title,window.location.pathname);const J=K.data.user.role;J==="admin"||J==="staff"?window.location.href="/admin":window.location.href=D||"/"}else alert(K.message||"Google sign-in failed. Please try again."),window.history.replaceState({},document.title,window.location.pathname)}catch($){console.error("Google OAuth error:",$),alert("Failed to sign in with Google. Please try again."),window.history.replaceState({},document.title,window.location.pathname)}finally{s(!1)}};if(b.useEffect(()=>{!S&&_&&(_.role==="admin"||_.role==="staff"||String(_.role).startsWith("ssc")?N("/admin",{replace:!0}):N(D||"/",{replace:!0}))},[_,S,N,D]),b.useEffect(()=>{if(w&&w.startsWith("OTP_REQUIRED|")){const q=w.split("|")[1];l(q),i(!0),f(600),j()}},[w,j]),S||_)return S?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Mr,{variant:"circular",width:48,height:48,className:"mx-auto mb-4"}),e.jsx(Mr,{variant:"text",height:32,width:200,className:"mx-auto"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx($_,{}),e.jsx($_,{}),e.jsx(d2,{width:"100%"})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx(Mr,{variant:"text",height:16,className:"mb-2"}),e.jsx(Mr,{variant:"text",height:16,width:"90%"})]}),e.jsx("div",{className:"text-center",children:e.jsx(d2,{width:150,className:"mx-auto"})})]})}):null;const z=q=>{const{name:$,value:K}=q.target;r(J=>({...J,[$]:K})),w&&j()},E=async q=>{q.preventDefault(),s(!0),j();const $=await x(t.username,t.password);if(s(!1),!$)return;const K=_r.getState().currentUser?.role;if(K==="admin"||K==="staff"){N("/admin",{replace:!0});return}N(D||"/",{replace:!0})},I=async q=>{s(!0),d("");const $=await v(o,q);if(s(!1),!$){const J=_r.getState().error;d(J||"Invalid OTP code");return}const K=_r.getState().currentUser?.role;if(K==="admin"||K==="staff"){N("/admin",{replace:!0});return}N(D||"/",{replace:!0})},T=async()=>{if(p>0)return;s(!0),d("");const q=await x(t.username,t.password);if(s(!1),q||_r.getState().error?.startsWith("OTP_REQUIRED|")){g(60),f(600),d("");const $="New OTP sent to your email";d($),setTimeout(()=>{c===$&&d("")},3e3)}},F=()=>{i(!1),l(""),d(""),f(600),j()},Y=()=>{const q=Et.GOOGLE_OAUTH.CLIENT_ID,$=window.location.origin,K=Et.GOOGLE_OAUTH.SCOPES,J=Et.GOOGLE_OAUTH.RESPONSE_TYPE,X=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${encodeURIComponent(q)}&redirect_uri=${encodeURIComponent($)}&response_type=${J}&scope=${encodeURIComponent(K)}&access_type=${Et.GOOGLE_OAUTH.ACCESS_TYPE}&prompt=${Et.GOOGLE_OAUTH.PROMPT}`;console.log("Google OAuth URL:",X),console.log("Client ID:",q),window.location.href=X},O=q=>{const $=Math.floor(q/60),K=q%60;return`${$}:${K.toString().padStart(2,"0")}`};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(ll,{className:"w-12 h-12 text-orange-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Verify Your Identity"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We've sent a 6-digit code to"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:o})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4 text-center",children:"Enter Verification Code"}),e.jsx(ZV,{length:6,onComplete:I,disabled:a||u===0,error:!!c&&!c.includes("sent")})]}),c&&e.jsx("p",{className:`text-sm text-center ${c.includes("sent")?"text-green-600":"text-red-600"}`,children:c}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[e.jsx(lr,{className:"w-4 h-4"}),e.jsx("span",{children:u>0?`Code expires in ${O(u)}`:"Code expired"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:T,disabled:p>0||a,className:`text-sm font-medium ${p>0||a?"text-gray-400 cursor-not-allowed":"text-orange-600 hover:text-orange-500"}`,children:p>0?`Resend code in ${p}s`:"Resend verification code"})}),e.jsxs(Es,{type:"button",variant:"outline",className:"w-full",onClick:F,disabled:a,children:[e.jsx(Xp,{className:"h-4 w-4 mr-2"}),"Back to Login"]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Didn't receive the code?"})," Check your spam folder or click the resend button above."]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(R_,{className:"w-12 h-12 text-orange-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"System Login"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username or Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Hr,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors duration-200",placeholder:"Enter your username or email address",value:t.username,onChange:z})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ml,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors duration-200",placeholder:"Enter your password",value:t.password,onChange:z})]})]}),w&&!w.startsWith("OTP_REQUIRED")&&e.jsx("p",{className:"text-sm text-red-600",children:w}),e.jsxs(Es,{type:"submit",className:"w-full",disabled:a,children:[e.jsx(R_,{className:"h-4 w-4 mr-2"}),a?"Signing In...":"Sign In"]}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsxs("button",{type:"button",onClick:Y,className:"w-full flex items-center justify-center gap-3 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 cursor-pointer",children:[e.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Continue with Google"})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," This login is for system users only. New scholarship applicants should use the public application form."]})}),e.jsx("div",{className:"text-center",children:e.jsx(Cm,{to:"/",children:e.jsx(Es,{variant:"outline",children:"Back to Home"})})})]})})},eH=[{name:"trash",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14z"/></svg>'},{name:"send",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/></svg>'},{name:"home",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><path d="M9 22V12h6v10"/></svg>'},{name:"flag",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" y1="22" x2="4" y2="15"/></svg>'},{name:"lock",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>'},{name:"bell",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>'},{name:"mail",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>'}],c3=["#9b87c7","#7fa99b","#c7a87f","#87a7c7","#c79b87"],d3=({isOpen:t,onClose:r,onVerified:a})=>{const[s,n]=b.useState([]),[i,o]=b.useState([]),[l,c]=b.useState([]),[d,u]=b.useState(new Set),[f,p]=b.useState(!1);b.useEffect(()=>{t&&g()},[t]);const g=()=>{c([]),u(new Set),p(!1);const j=[...eH].sort(()=>Math.random()-.5).slice(0,5),_=j.map((C,D)=>({id:D,name:C.name,svg:C.svg,x:10+Math.random()*70,y:10+Math.random()*70,rotation:Math.random()*360}));n(_);const S=3+Math.floor(Math.random()*2),N=[...j].sort(()=>Math.random()-.5).slice(0,S).map(C=>C.name);o(N)},x=w=>{if(d.has(w.id))return;const j=[...l,w.name],_=new Set(d).add(w.id);if(c(j),u(_),!j.every((N,C)=>N===i[C])){p(!0),setTimeout(()=>{g()},1e3);return}j.length===i.length&&setTimeout(()=>{a(),r()},500)},v=w=>({trash:"Trash",send:"Send",home:"Home",flag:"Flag",lock:"Lock",bell:"Bell",mail:"Mail"})[w]||w;return t?e.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 relative",children:[e.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(dr,{size:24})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Security Verification"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-gray-700 font-medium mb-2",children:"Click in order:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:i.map((w,j)=>e.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium transition-all ${l[j]?"bg-green-100 text-green-700 border border-green-300":"bg-gray-100 text-gray-700 border border-gray-300"}`,children:[e.jsxs("span",{className:"font-bold",children:[j+1,"."]}),e.jsx("span",{children:v(w)})]},j))})]})]}),e.jsxs("div",{className:"relative w-full h-64 bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg border-2 border-gray-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:'url("data:image/svg+xml,%3Csvg width="100" height="100" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="noise"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /%3E%3C/filter%3E%3Crect width="100" height="100" filter="url(%23noise)" opacity="0.4"/%3E%3C/svg%3E")'}}),s.map((w,j)=>{const _=d.has(w.id),S=c3[j%c3.length];return e.jsx("button",{onClick:()=>x(w),disabled:_,className:`absolute transition-all duration-300 ${_?"opacity-30 scale-90":"hover:scale-110 cursor-pointer"} ${f&&!_?"animate-shake":""}`,style:{left:`${w.x}%`,top:`${w.y}%`,transform:`translate(-50%, -50%) rotate(${w.rotation}deg)`,color:S,width:"48px",height:"48px"},children:e.jsx("div",{dangerouslySetInnerHTML:{__html:w.svg}})},w.id)})]}),f&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-3 text-center",children:e.jsx("p",{className:"text-sm text-red-600 font-medium",children:" Wrong order! Try again..."})}),e.jsx("button",{onClick:g,className:"mt-4 w-full py-2 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:" Generate New Challenge"})]}),e.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translate(-50%, -50%) translateX(0); }
          25% { transform: translate(-50%, -50%) translateX(-5px); }
          75% { transform: translate(-50%, -50%) translateX(5px); }
        }
        .animate-shake {
          animation: shake 0.3s ease-in-out;
        }
      `})]}):null},tH={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},rH=()=>{const[t,r]=b.useState(""),[a,s]=b.useState(""),[n,i]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[u,f]=b.useState(!1),[p,g]=b.useState(!1),[x,v]=b.useState(!1),[w,j]=b.useState(!1),[_,S]=b.useState(!1),[N,C]=b.useState(null),[D,U]=b.useState({mobile:"",birthdate:"",address:"",houseNumber:"",street:"",barangay:""}),[z,E]=b.useState(600),[I,T]=b.useState(["","","","","",""]),[F,Y]=b.useState(""),[O,q]=b.useState("registration"),[$,K]=b.useState(!1),[J,X]=b.useState(!1),[be,te]=b.useState(!1),[R,ae]=b.useState(""),[W,pe]=b.useState("info"),[ce,we]=b.useState(!1),[je,fe]=b.useState({firstName:"",lastName:"",middleName:"",suffix:"",birthdate:"",regEmail:"",mobile:"",address:"",houseNumber:"",street:"",barangay:"",regPassword:"",confirmPassword:"",noMiddleName:!1}),[xe,$e]=b.useState({length:!1,upper:!1,lower:!1,number:!1,special:!1}),ge=(De,ze="info")=>{ae(De),pe(ze),we(!0),setTimeout(()=>{we(!1)},4e3)},{login:ot,loginWithOtp:Ze,register:Z,googleLogin:re,googleRegister:Ue,error:Ge,clearError:Ke}=_r(),ie=_r(De=>De.currentUser),Ce=_r(De=>De.isLoading),[Oe,Je]=b.useState(!1),H=Gi(),[de,ue]=b.useState(new Date().toLocaleString()),[me,Se]=b.useState(!1),[Ye,kt]=b.useState(!1),[it,ft]=b.useState(!1),[Te,oe]=b.useState(!1),[_e,et]=b.useState(!1);if(b.useEffect(()=>{const De=setInterval(()=>ue(new Date().toLocaleString()),1e3);return()=>clearInterval(De)},[]),b.useEffect(()=>{const De=()=>{window.google&&Se(!0)};De();const ze=setInterval(De,300);return()=>clearInterval(ze)},[]),b.useEffect(()=>{if(!Ce&&ie){const De=String(ie.role);De==="admin"||De==="staff"||De.startsWith("ssc")?H("/admin",{replace:!0}):De==="ps_rep"?H("/partner-school",{replace:!0}):H("/portal",{replace:!0})}},[ie,Ce,H]),b.useEffect(()=>{Ge&&(Ge.toLowerCase().includes("password")||Ge.toLowerCase().includes("invalid credentials"))&&(ge(Ge,"error"),Ke())},[Ge,Ke]),Ce||ie)return e.jsxs("div",{className:"min-h-screen bg-app flex flex-col",children:[e.jsx("header",{className:"py-2 bg-white/90 backdrop-blur sticky top-0 z-20 border-b border-gray-100",children:e.jsx("div",{className:"mx-auto px-6 max-w-7xl",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Mr,{variant:"circular",width:64,height:64}),e.jsx(Mr,{variant:"text",height:36,width:200})]}),e.jsx(Mr,{variant:"text",height:20,width:150})]})})}),e.jsx("main",{className:"mx-auto px-6 pt-4 pb-12 flex-1 max-w-7xl flex items-center justify-center",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 place-items-center text-center lg:text-left w-full",children:[e.jsxs("div",{className:"py-12 px-4 w-full",children:[e.jsx(Mr,{variant:"text",height:48,className:"mb-4"}),e.jsx(Mr,{variant:"text",height:48,width:"80%"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-auto w-full",children:e.jsxs("div",{className:"space-y-5",children:[e.jsx(Mr,{variant:"rectangular",height:48}),e.jsx(Mr,{variant:"rectangular",height:48}),e.jsx(Mr,{variant:"rectangular",height:48}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"OR"})})]}),e.jsx(Mr,{variant:"rectangular",height:48}),e.jsx(Mr,{variant:"text",height:16,className:"text-center"})]})})]})}),e.jsx("footer",{className:"bg-primary-600 text-white py-4 mt-8",children:e.jsx("div",{className:"mx-auto px-6 max-w-7xl",children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center",children:[e.jsxs("div",{className:"text-center lg:text-left mb-2 lg:mb-0 space-y-2",children:[e.jsx(Mr,{variant:"text",height:20,width:300,className:"bg-primary-500"}),e.jsx(Mr,{variant:"text",height:14,width:250,className:"bg-primary-500"})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsx(Mr,{variant:"text",height:14,width:150,className:"bg-primary-500"})})]})})})]});const Ve=async De=>{De.preventDefault(),i(!0),Ke();const ze=await ot(t,a,null);if(i(!1),ze)Je(!0),setTimeout(()=>{const st=String(_r.getState().currentUser?.role);st==="admin"||st==="staff"||st.startsWith("ssc")?H("/admin",{replace:!0}):st==="ps_rep"?H("/partner-school",{replace:!0}):H("/portal",{replace:!0})},1500);else{const st=_r.getState().error;if(st&&st.startsWith("OTP_REQUIRED|")){const[,Nt]=st.split("|");Y(Nt),q("login"),d(!0),Tt(),Lt("OTP sent to your email. Please verify to complete login.","info")}}},Wt=async()=>{try{if(!Te){kt(!0);return}if(console.log("Environment check:",{GOOGLE_CLIENT_ID:Et.GOOGLE_OAUTH?.CLIENT_ID,NODE_ENV:void 0,MODE:"production"}),!window.google){console.error("Google OAuth not loaded");return}if(window.google){const De=Et.GOOGLE_OAUTH?.CLIENT_ID||"855545694637-gi7vtpce9f672hn7me86ugvv2nc8jp1q.apps.googleusercontent.com";window.google.accounts.oauth2.initCodeClient({client_id:De,scope:"email profile",ux_mode:"popup",redirect_uri:window.location.origin,callback:Bt}).requestCode()}else console.error("Google OAuth not loaded"),Lt("Google OAuth not available. Please try again.","error")}catch(De){console.error("Google login error:",De),Lt("Google login failed. Please try again.","error")}},Bt=async De=>{try{if(console.log("Google OAuth response received:",De),await re(De.code,"captcha-verified"))Je(!0),setTimeout(()=>{const st=String(_r.getState().currentUser?.role);st==="admin"||st==="staff"?H("/admin",{replace:!0}):st==="ps_rep"?H("/partner-school",{replace:!0}):H("/portal",{replace:!0})},1500);else{const st=_r.getState().error;if(st&&st.startsWith("NOT_REGISTERED|")){const[,Nt,He,Mt]=st.split("|");C({email:Nt,firstName:He,lastName:Mt,code:De.code});const Ot=_r.getState().additionalInfo||{};U({mobile:Ot.mobile||"",birthdate:Ot.birthdate||"",address:Ot.address||"",houseNumber:Ot.houseNumber||"",street:Ot.street||"",barangay:Ot.barangay||""}),S(!0),l(!1),Lt("Google account not registered. Please complete registration.","info")}else Lt("Google login failed. Please try again.","error")}}catch(ze){console.error("Google callback error:",ze),Lt("Google login failed. Please try again.","error")}},Fe=async De=>{if(De.preventDefault(),!_e){ft(!0);return}const st=["firstName","lastName","birthdate","regEmail","mobile","address","houseNumber","street","barangay","regPassword","confirmPassword"].filter(Pt=>!je[Pt]);if(st.length>0){Lt(`Please fill in all required fields: ${st.join(", ")}`,"error");return}if(!Object.values(xe).every(Pt=>Pt)){Lt("Please meet all password requirements","error");return}if(je.regPassword!==je.confirmPassword){Lt("Passwords do not match","error");return}if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(je.regEmail)){Lt("Please enter a valid email address (e.g., user@example.com)","error");return}if(!/^09[0-9]{9}$/.test(je.mobile)){Lt("Mobile number must be in format 09XXXXXXXXX (11 digits starting with 09)","error");return}const Mt=new Date().toISOString().split("T")[0];if(je.birthdate>=Mt){Lt("Birthdate must be before today","error");return}console.log("Registration data being sent:",je),console.log("Required fields check:",{firstName:!!je.firstName,lastName:!!je.lastName,birthdate:!!je.birthdate,regEmail:!!je.regEmail,mobile:!!je.mobile,address:!!je.address,houseNumber:!!je.houseNumber,street:!!je.street,barangay:!!je.barangay,regPassword:!!je.regPassword,confirmPassword:!!je.confirmPassword}),i(!0);const Ot=await Z(je,"captcha-verified");i(!1),Ot?(Lt("Registration successful! You are now logged in.","success"),l(!1)):Lt("Registration failed. Please try again.","error")},nt=async De=>{if(De.preventDefault(),!N){Lt("Google user data not available. Please try again.","error");return}const st=["mobile","birthdate","address","houseNumber","street","barangay"].filter(Mt=>!D[Mt]);if(st.length>0){Lt(`Please fill in all required fields: ${st.join(", ")}`,"error");return}if(!/^09[0-9]{9}$/.test(D.mobile)){Lt("Mobile number must be in format 09XXXXXXXXX (11 digits starting with 09)","error");return}const He=new Date().toISOString().split("T")[0];if(D.birthdate>=He){Lt("Birthdate must be before today","error");return}i(!0);try{const Mt=Et.GOOGLE_OAUTH?.CLIENT_ID||"855545694637-gi7vtpce9f672hn7me86ugvv2nc8jp1q.apps.googleusercontent.com";if(!window.google){Lt("Google OAuth not available. Please try again.","error"),i(!1);return}const Ot=await new Promise((Pe,vt)=>{window.google.accounts.oauth2.initCodeClient({client_id:Mt,scope:"email profile",ux_mode:"popup",redirect_uri:window.location.origin,callback:yt=>{yt.code?Pe(yt.code):vt(new Error("No code received"))}}).requestCode()});if(await Ue(Ot,{mobile:D.mobile,birthdate:D.birthdate,address:D.address,houseNumber:D.houseNumber,street:D.street,barangay:D.barangay},"captcha-verified"))Lt("Registration with Google successful!","success"),S(!1),C(null),U({mobile:"",birthdate:"",address:"",houseNumber:"",street:"",barangay:""}),Je(!0),setTimeout(()=>{const Pe=String(_r.getState().currentUser?.role);Pe==="admin"||Pe==="staff"?H("/admin",{replace:!0}):Pe==="ps_rep"?H("/partner-school",{replace:!0}):H("/portal",{replace:!0})},1500);else{const Pe=_r.getState().error;Pe&&(Pe.includes("expired")||Pe.includes("invalid"))?(Lt("Google authorization expired. Please try logging in with Google again.","error"),S(!1),C(null),U({mobile:"",birthdate:"",address:"",houseNumber:"",street:"",barangay:""})):Lt("Google registration failed. Please try again.","error")}}catch(Mt){console.error("Error getting fresh Google OAuth code:",Mt),Lt("Failed to get Google authorization. Please try again.","error")}finally{i(!1)}},ut=De=>{$e({length:De.length>=10,upper:/[A-Z]/.test(De),lower:/[a-z]/.test(De),number:/\d/.test(De),special:/[^A-Za-z0-9]/.test(De)})},Tt=()=>{E(600);const De=setInterval(()=>{E(ze=>ze<=1?(clearInterval(De),0):ze-1)},1e3)},Lt=(De,ze="info")=>{document.querySelectorAll(".notification").forEach(He=>He.remove());const Nt=document.createElement("div");switch(Nt.className="notification fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg transform transition-all duration-300 translate-x-full",ze){case"success":Nt.classList.add("bg-green-500","text-white");break;case"error":Nt.classList.add("bg-red-500","text-white");break;case"warning":Nt.classList.add("bg-yellow-500","text-white");break;default:Nt.classList.add("bg-blue-500","text-white")}Nt.innerHTML=`
      <div class="flex items-center space-x-2">
        <span>${De}</span>
        <button onclick="this.parentElement.parentElement.remove()" class="ml-4 text-white hover:text-gray-200">
          
        </button>
      </div>
    `,document.body.appendChild(Nt),setTimeout(()=>{Nt.classList.remove("translate-x-full")},100),setTimeout(()=>{Nt.parentNode&&(Nt.classList.add("translate-x-full"),setTimeout(()=>{Nt.parentNode&&Nt.remove()},300))},5e3)},Ar=async De=>{De.preventDefault();const ze=I.join("");if(ze.length!==6){Lt("Please enter the complete 6-digit OTP","error");return}if(i(!0),O==="login"){const st=await Ze(F,ze);i(!1),st&&(d(!1),T(["","","","","",""]),Y(""),Je(!0),setTimeout(()=>{const Nt=String(_r.getState().currentUser?.role);Nt==="admin"||Nt==="staff"?H("/admin",{replace:!0}):Nt==="ps_rep"?H("/partner-school",{replace:!0}):H("/portal",{replace:!0})},1500))}else try{const st=await fetch(`${fh("/api/verify-otp")}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:F,otp_code:ze})}),Nt=await st.json();if(i(!1),st.ok&&Nt.success){const{user:He,token:Mt}=Nt.data,Ot={id:String(He.id),citizen_id:He.citizen_id??"",email:He.email,first_name:He.first_name,last_name:He.last_name,middle_name:He.middle_name,extension_name:He.extension_name,mobile:He.mobile,birthdate:He.birthdate,address:He.address,house_number:He.house_number,street:He.street,barangay:He.barangay,role:He.role,is_active:He.is_active};localStorage.setItem("user_data",JSON.stringify(Ot)),localStorage.setItem("auth_token",Mt),_r.setState({currentUser:Ot,token:Mt,error:null}),d(!1),T(["","","","","",""]),Y(""),Lt("Account verified successfully! You are now logged in.","success"),Je(!0),setTimeout(()=>{const Pt=String(Ot.role);Pt==="admin"||Pt==="staff"?H("/admin",{replace:!0}):Pt==="ps_rep"?H("/partner-school",{replace:!0}):H("/portal",{replace:!0})},1500)}else Lt(Nt.message||"OTP verification failed","error")}catch(st){console.error("OTP verification error:",st),Lt("Network error. Please try again.","error"),i(!1)}},Fr=async()=>{try{const De=await fetch(`${fh("/api/send-otp")}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:F})}),ze=await De.json();De.ok&&ze.success?(Tt(),Lt("New OTP sent successfully!","success")):Lt(ze.message||"Failed to resend OTP","error")}catch(De){console.error("Resend OTP error:",De),Lt("Network error. Please try again.","error")}};console.log(" ENVIRONMENT DEBUG:",{GOOGLE_CLIENT_ID:Et.GOOGLE_OAUTH?.CLIENT_ID,hasGoogleClientId:!0,clientIdLength:Et.GOOGLE_OAUTH?.CLIENT_ID?.length||0,mode:"production",dev:!1,prod:!0,allViteEnvVars:Object.keys(tH).filter(De=>De.startsWith("VITE_"))});const Re=!0;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex flex-col",children:[e.jsx("header",{className:"py-3 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm sticky top-0 z-20 border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"mx-auto px-6 max-w-7xl",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:"/GSM_logo.png",alt:"Logo",className:"h-14 w-auto"})}),e.jsxs("h1",{className:"text-2xl font-bold",children:[e.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Go"}),e.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"Serve"}),e.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"PH"})]})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:de})]})})}),e.jsx("main",{className:"mx-auto px-6 pt-4 pb-4 flex-1 max-w-7xl flex items-center justify-center min-h-0",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 place-items-center text-center lg:text-left w-full",children:[e.jsx("div",{className:"py-8 px-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:[e.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"Abot-Kamay mo ang"}),e.jsx("br",{}),e.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Serbisyong Publiko!"})]}),e.jsx("p",{className:"text-gray-600 dark:text-slate-400 max-w-lg text-base",children:"Access government services with ease. Your gateway to efficient and transparent public service delivery."})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-5 max-w-sm mx-auto w-full border border-gray-100 dark:border-slate-700",children:e.jsxs("form",{onSubmit:Ve,className:"space-y-3",children:[e.jsx("div",{children:e.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Email address",className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",required:!0,value:t,onChange:De=>r(De.target.value)})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:$?"text":"password",id:"password",name:"password",placeholder:"Password",className:"w-full px-4 py-3 pr-12 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",required:!0,value:a,onChange:De=>s(De.target.value)}),e.jsx("button",{type:"button",onClick:()=>K(!$),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 dark:text-slate-500 hover:text-gray-600 dark:hover:text-slate-300 transition-colors",children:$?e.jsx(ai,{size:18}):e.jsx(Or,{size:18})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"ml-2 text-gray-600 dark:text-slate-400",children:"Remember me"})]}),e.jsx("button",{type:"button",className:"text-primary-600 dark:text-primary-400 hover:underline",children:"Forgot password?"})]}),Ge&&!Ge.toLowerCase().includes("password")&&!Ge.toLowerCase().includes("invalid credentials")&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:Ge})}),e.jsx("button",{type:"submit",className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-3 px-4 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:n,children:n?"Signing In...":"Sign In"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-slate-600"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-gray-500 dark:text-slate-400",children:"OR"})})]}),e.jsxs("button",{type:"button",onClick:Wt,disabled:!me||!Re,className:`w-full py-3 px-4 rounded-lg font-medium flex items-center justify-center transition-colors ${me&&Re?"bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-600":"bg-gray-100 dark:bg-slate-600 border border-gray-200 dark:border-slate-500 text-gray-400 dark:text-slate-500 cursor-not-allowed"}`,children:[e.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsx("div",{className:"text-center pt-2",children:e.jsxs("p",{className:"text-gray-600 dark:text-slate-400 text-sm",children:["No account?"," ",e.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-primary-600 dark:text-primary-400 hover:underline font-medium",children:"Register here"})]})})]})})]})}),e.jsx("footer",{className:"bg-primary-600 text-white py-3 mt-4",children:e.jsx("div",{className:"mx-auto px-6 max-w-7xl",children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center",children:[e.jsxs("div",{className:"text-center lg:text-left mb-1 lg:mb-0",children:[e.jsx("h3",{className:"text-sm font-bold mb-1",children:"Government Services Management System"}),e.jsx("p",{className:"text-xs opacity-90",children:"For any inquiries, please call 122 or email helpdesk@gov.ph"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex space-x-3 text-xs",children:[e.jsx("button",{onClick:()=>f(!0),className:"hover:underline cursor-pointer",children:"TERMS OF SERVICE"}),e.jsx("span",{children:"|"}),e.jsx("button",{onClick:()=>g(!0),className:"hover:underline cursor-pointer",children:"PRIVACY POLICY"})]})})]})})}),o&&e.jsx("div",{className:"fixed inset-0 z-30 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl max-w-3xl w-full max-h-[85vh] overflow-hidden flex flex-col animate-in fade-in-0 zoom-in-95 duration-300",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create Account"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("form",{onSubmit:Fe,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"firstName",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"Enter your first name",value:je.firstName,onChange:De=>fe({...je,firstName:De.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"lastName",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"Enter your last name",value:je.lastName,onChange:De=>fe({...je,lastName:De.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Middle Name",e.jsx("span",{className:"text-red-500",style:{display:je.noMiddleName?"none":"inline"},children:"*"})]}),e.jsx("input",{type:"text",name:"middleName",required:!je.noMiddleName,disabled:je.noMiddleName,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400 disabled:bg-gray-100 dark:disabled:bg-slate-600 disabled:text-gray-500",placeholder:"Enter your middle name",value:je.middleName,onChange:De=>fe({...je,middleName:De.target.value})}),e.jsxs("label",{className:"inline-flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx("input",{type:"checkbox",className:"mr-2 rounded border-gray-300 text-primary-600 focus:ring-primary-500",checked:je.noMiddleName,onChange:De=>fe({...je,noMiddleName:De.target.checked,middleName:De.target.checked?"":je.middleName})}),"I don't have a middle name"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Suffix"}),e.jsx("input",{type:"text",name:"suffix",placeholder:"Jr., Sr., III (optional)",className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",value:je.suffix,onChange:De=>fe({...je,suffix:De.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Birthdate ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"birthdate",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white",value:je.birthdate,onChange:De=>fe({...je,birthdate:De.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"regEmail",required:!0,pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}",title:"Please enter a valid email address (e.g., user@example.com)",className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"your.email@example.com",value:je.regEmail,onChange:De=>fe({...je,regEmail:De.target.value})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:" Accepts all email providers (Gmail, Yahoo, Outlook, etc.)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Mobile Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"mobile",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"09XXXXXXXXX",value:je.mobile,onChange:De=>fe({...je,mobile:De.target.value})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Format: 09XXXXXXXXX (11 digits starting with 09)"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Address Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Complete Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"address",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"Lot/Unit, Building, Subdivision",value:je.address,onChange:De=>fe({...je,address:De.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["House Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"houseNumber",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"123",value:je.houseNumber,onChange:De=>fe({...je,houseNumber:De.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Street ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"street",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"Main Street",value:je.street,onChange:De=>fe({...je,street:De.target.value})})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Barangay ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"barangay",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"Barangay Name",value:je.barangay,onChange:De=>fe({...je,barangay:De.target.value})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Security Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:J?"text":"password",name:"regPassword",minLength:10,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl pr-12 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"Create a strong password",value:je.regPassword,onChange:De=>{fe({...je,regPassword:De.target.value}),ut(De.target.value)}}),e.jsx("button",{type:"button",onClick:()=>X(!J),className:"absolute inset-y-0 right-0 px-3 text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300 transition-colors",children:J?e.jsx(ai,{size:20}):e.jsx(Or,{size:20})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-slate-600 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${Object.values(xe).filter(Boolean).length===0?"w-0":Object.values(xe).filter(Boolean).length===1?"w-1/4 bg-red-500":Object.values(xe).filter(Boolean).length===2?"w-2/4 bg-orange-500":Object.values(xe).filter(Boolean).length===3?"w-3/4 bg-yellow-500":Object.values(xe).filter(Boolean).length===4?"w-4/5 bg-blue-500":"w-full bg-green-500"}`})}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-slate-400",children:Object.values(xe).filter(Boolean).length===0?"Very Weak":Object.values(xe).filter(Boolean).length===1?"Weak":Object.values(xe).filter(Boolean).length===2?"Fair":Object.values(xe).filter(Boolean).length===3?"Good":Object.values(xe).filter(Boolean).length===4?"Strong":"Very Strong"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{className:`flex items-center text-xs transition-colors ${xe.length?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-slate-400"}`,children:[xe.length?e.jsx(jt,{size:14,className:"mr-2"}):e.jsx(mr,{size:14,className:"mr-2"}),"At least 10 characters"]}),e.jsxs("div",{className:`flex items-center text-xs transition-colors ${xe.upper?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-slate-400"}`,children:[xe.upper?e.jsx(jt,{size:14,className:"mr-2"}):e.jsx(mr,{size:14,className:"mr-2"}),"Has uppercase letter"]}),e.jsxs("div",{className:`flex items-center text-xs transition-colors ${xe.lower?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-slate-400"}`,children:[xe.lower?e.jsx(jt,{size:14,className:"mr-2"}):e.jsx(mr,{size:14,className:"mr-2"}),"Has lowercase letter"]}),e.jsxs("div",{className:`flex items-center text-xs transition-colors ${xe.number?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-slate-400"}`,children:[xe.number?e.jsx(jt,{size:14,className:"mr-2"}):e.jsx(mr,{size:14,className:"mr-2"}),"Has a number"]}),e.jsxs("div",{className:`flex items-center text-xs transition-colors ${xe.special?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-slate-400"}`,children:[xe.special?e.jsx(jt,{size:14,className:"mr-2"}):e.jsx(mr,{size:14,className:"mr-2"}),"Has a special character"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Confirm Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:be?"text":"password",name:"confirmPassword",minLength:10,required:!0,className:`w-full px-4 py-3 border rounded-xl pr-12 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400 ${je.confirmPassword&&je.regPassword!==je.confirmPassword?"border-red-500 dark:border-red-400":je.confirmPassword&&je.regPassword===je.confirmPassword?"border-green-500 dark:border-green-400":"border-gray-300 dark:border-slate-600"}`,placeholder:"Confirm your password",value:je.confirmPassword,onChange:De=>fe({...je,confirmPassword:De.target.value})}),e.jsx("button",{type:"button",onClick:()=>te(!be),className:"absolute inset-y-0 right-0 px-3 text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300 transition-colors",children:be?e.jsx(ai,{size:20}):e.jsx(Or,{size:20})})]}),je.confirmPassword&&e.jsx("div",{className:"flex items-center text-xs",children:je.regPassword===je.confirmPassword?e.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[e.jsx(jt,{size:14,className:"mr-2"}),"Passwords match"]}):e.jsxs("div",{className:"flex items-center text-red-500 dark:text-red-400",children:[e.jsx(mr,{size:14,className:"mr-2"}),"Passwords do not match"]})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Terms & Privacy"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("label",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",className:"mt-1 rounded border-gray-300 text-primary-600 focus:ring-primary-500",required:!0,checked:x&&w,onChange:De=>{v(De.target.checked),j(De.target.checked)}}),e.jsxs("span",{className:"text-sm text-gray-700 dark:text-slate-300",children:["I agree to the"," ",e.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-primary-600 dark:text-primary-400 hover:underline",children:"Terms of Use"})," ","and"," ",e.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-primary-600 dark:text-primary-400 hover:underline",children:"Privacy Policy"})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-slate-600"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-3 bg-white dark:bg-slate-800 text-gray-500 dark:text-slate-400",children:"OR"})})]}),e.jsxs("button",{type:"button",onClick:Wt,disabled:!Re,className:"w-full flex justify-center items-center px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm font-medium text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Register with Google"]}),!Re]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 px-4 py-3 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-slate-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n||!x||!w,className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${n||!x||!w?"bg-gray-300 dark:bg-slate-600 text-gray-500 dark:text-slate-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:n?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"})]}),(!x||!w)&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-red-500 dark:text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:"You must read and accept both Terms of Use and Data Privacy Policy to register"})]})})]})})]})}),_&&N&&e.jsx("div",{className:"fixed inset-0 z-30 flex items-start justify-center pt-20 px-4 bg-black/40",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 text-center flex-shrink-0",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-secondary-600",children:"Complete Registration with Google"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Welcome ",N.firstName," ",N.lastName,"! Please provide additional information to complete your registration."]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("form",{onSubmit:nt,className:"space-y-5",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Google Account Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600 font-medium",children:"Name:"})," ",N.firstName," ",N.lastName]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600 font-medium",children:"Email:"})," ",N.email]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1",children:["Mobile Number",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"mobile",required:!0,pattern:"09[0-9]{9}",title:"Mobile number must be in format 09XXXXXXXXX (11 digits starting with 09)",placeholder:"09XXXXXXXXX",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:D.mobile,onChange:De=>U({...D,mobile:De.target.value})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 09XXXXXXXXX (11 digits starting with 09)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1",children:["Birthdate",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"birthdate",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:D.birthdate,onChange:De=>U({...D,birthdate:De.target.value})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1",children:["Address",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"address",required:!0,placeholder:"Complete address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:D.address,onChange:De=>U({...D,address:De.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1",children:["House Number",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"houseNumber",required:!0,placeholder:"123",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:D.houseNumber,onChange:De=>U({...D,houseNumber:De.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1",children:["Street",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"street",required:!0,placeholder:"Main Street",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:D.street,onChange:De=>U({...D,street:De.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1",children:["Barangay",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"barangay",required:!0,placeholder:"Barangay Name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:D.barangay,onChange:De=>U({...D,barangay:De.target.value})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>{S(!1),C(null),U({mobile:"",birthdate:"",address:"",houseNumber:"",street:"",barangay:""})},className:"bg-red-500 text-white px-4 py-2 rounded-lg",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:`px-4 py-2 rounded-lg transition-colors ${n?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-secondary-500 hover:bg-secondary-600 text-white"}`,children:n?"Registering...":"Complete Registration"})]})]})})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-center",children:"Two-Factor Verification"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4 text-center",children:["Please check your registered email for your OTP. You have ",e.jsxs("span",{className:"font-semibold text-secondary-600",children:[Math.floor(z/60),":",(z%60).toString().padStart(2,"0")]})," to enter it."]}),e.jsxs("form",{onSubmit:Ar,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-2 text-center",children:"Enter OTP"}),e.jsx("div",{className:"flex justify-center space-x-2",id:"otpInputs",children:[0,1,2,3,4,5].map(De=>e.jsx("input",{type:"text",className:"w-12 h-12 text-center border border-gray-300 rounded-lg",maxLength:1,inputMode:"numeric",value:I[De],onChange:ze=>{const st=ze.target.value.replace(/\D/g,"").slice(0,1),Nt=[...I];Nt[De]=st,T(Nt),st&&De<5&&ze.target.parentNode?.children[De+1]?.focus()},onKeyDown:ze=>{ze.key==="Backspace"&&!ze.currentTarget.value&&De>0&&ze.currentTarget.parentNode?.children[De-1]?.focus()}},De))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 rounded-lg bg-red-500 text-white",children:"Cancel"}),e.jsxs("div",{className:"space-x-2",children:[e.jsx("button",{type:"button",onClick:Fr,disabled:z>0,className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-800 disabled:opacity-50",children:"Resend OTP"}),e.jsx("button",{type:"submit",disabled:z===0,className:"px-4 py-2 rounded-lg bg-secondary-500 text-white disabled:opacity-50",children:"Verify"})]})]})]})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"GoServePH Terms of Service Agreement"}),e.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsxs("div",{className:"px-6 py-4 space-y-4 text-sm leading-6",children:[e.jsx("p",{children:e.jsx("strong",{children:"Welcome to GoServePH!"})}),e.jsx("p",{children:'This GoServePH Services Agreement ("Agreement") is a binding legal contract for the use of our software systemswhich handle data input, monitoring, processing, and analytics("Services") between GoServePH ("us," "our," or "we") and you, the registered user ("you" or "user").'}),e.jsx("p",{children:"This Agreement details the terms and conditions for using our Services. By accessing or using any GoServePH Services, you agree to these terms. If you don't understand any part of this Agreement, please contact us at info@goserveph.com."}),e.jsx("h4",{className:"font-semibold",children:"OVERVIEW OF THIS AGREEMENT"}),e.jsx("p",{children:"This document outlines the terms for your use of the GoServePH system:"}),e.jsxs("table",{className:"w-full text-left text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-1 pr-4",children:"Section"}),e.jsx("th",{className:"py-1",children:"Topic"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"Section A"}),e.jsx("td",{className:"py-1",children:"General Account Setup and Use"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"Section B"}),e.jsx("td",{className:"py-1",children:"Technology, Intellectual Property, and Licensing"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"Section C"}),e.jsx("td",{className:"py-1",children:"Payment Terms, Fees, and Billing"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"Section D"}),e.jsx("td",{className:"py-1",children:"Data Usage, Privacy, and Security"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"Section E"}),e.jsx("td",{className:"py-1",children:"Additional Legal Terms and Disclaimers"})]})]})]}),e.jsx("h4",{className:"font-semibold",children:"SECTION A: GENERAL TERMS"}),e.jsx("p",{children:e.jsx("strong",{children:"1. Your Account and Registration"})}),e.jsx("p",{children:"a. Account Creation: To use our Services, you must create an Account. Your representative (Representative) must provide us with required details, including your entity's name, address, contact person, email, phone number, relevant ID/tax number, and the nature of your business/activities."}),e.jsx("p",{children:"b. Review and Approval: We reserve the right to review and approve your application, which typically takes at least two (2) business days. We can deny or reject any application at our discretion."}),e.jsx("p",{children:"c. Eligibility: Only businesses, institutions, and other entities based in the Philippines are eligible to apply for a GoServePH Account."}),e.jsx("p",{children:"d. Representative Authority: You confirm that your Representative has the full authority to provide your information and legally bind your entity to this Agreement. We may ask for proof of this authority."}),e.jsx("p",{children:"e. Validation: We may require additional documentation at any time (e.g., business licenses, IDs) to verify your entity's ownership, control, and the information you provided."}),e.jsx("p",{children:e.jsx("strong",{children:"2. Services and Support"})}),e.jsx("p",{children:'We provide support for general account inquiries and issues that prevent the proper use of the system ("System Errors"). Support includes resources available through our in-app Ticketing System and website documentation ("Documentation"). For further questions, contact us at support@goserveph.com.'}),e.jsx("p",{children:e.jsx("strong",{children:"3. Service Rules and Restrictions"})}),e.jsx("p",{children:'a. Lawful Use: You must use the Services lawfully and comply with all applicable Philippine laws, rules, and regulations ("Laws") regarding your use of the Services and the transactions you facilitate ("Transactions").'}),e.jsx("p",{children:"b. Prohibited Activities: You may not use the Services to facilitate illegal transactions, or for personal/household use. Specifically, you must not, nor allow others to:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Access non-public systems or data."}),e.jsx("li",{children:"Copy, resell, or distribute the Services, Documentation, or system content."}),e.jsx("li",{children:"Use, transfer, or access data you do not own or have no documented rights to use."}),e.jsx("li",{children:"Act as a service agent for the Services."}),e.jsx("li",{children:"Transfer your rights under this Agreement."}),e.jsx("li",{children:"Bypass technical limitations or enable disabled features."}),e.jsx("li",{children:"Reverse engineer the Services (except where legally permitted)."}),e.jsx("li",{children:"Interfere with the normal operation of the Services or impose an unreasonably large load on the system."})]}),e.jsx("p",{children:e.jsx("strong",{children:"4. Electronic Notices and Consent"})}),e.jsx("p",{children:"a. Electronic Consent: By registering, you provide your electronic signature and consent to receive all notices and disclosures from us electronically (via our website, email, or text message), which has the same legal effect as a physical signature."}),e.jsx("p",{children:"b. Delivery: We are not liable for non-receipt of notices due to issues beyond our control (e.g., network outages, incorrect contact details, firewall restrictions). Notices posted or emailed are considered received within 24 hours."}),e.jsx("p",{children:"c. Text Messages: You authorize us to use text messages to verify your account control (like two-step verification) and provide critical updates. Standard carrier charges may apply."}),e.jsx("p",{children:"d. Withdrawing Consent: You can withdraw your consent to electronic notices only by terminating your Account."}),e.jsx("p",{children:e.jsx("strong",{children:"5. Termination"})}),e.jsx("p",{children:"a. Agreement Term: This Agreement starts upon registration and continues until terminated by you or us."}),e.jsx("p",{children:"b. Termination by You: You can terminate by emailing a closure request to info@goserveph.com. Your Account will be closed within 120 business days of receipt."}),e.jsx("p",{children:"c. Termination by Us: We may terminate this Agreement, suspend your Account, or close it at any time, for any reason, by providing you notice. Immediate suspension or termination may occur if:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"You pose a significant fraud or credit risk."}),e.jsx("li",{children:"You use the Services in a prohibited manner or violate this Agreement."}),e.jsx("li",{children:"Law requires us to do so."})]}),e.jsx("p",{children:"d. Effect of Termination: Upon termination:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"All licenses granted to you end."}),e.jsx("li",{children:"We may delete your data and information (though we have no obligation to do so)."}),e.jsx("li",{children:"We are not liable to you for any damages related to the termination, suspension, or data deletion."}),e.jsx("li",{children:"You remain liable for any outstanding fees, fines, or financial obligations incurred before termination."})]}),e.jsx("h4",{className:"font-semibold",children:"SECTION B: TECHNOLOGY"}),e.jsx("p",{children:e.jsx("strong",{children:"1. System Access and Updates"})}),e.jsx("p",{children:'We provide access to the web system and/or mobile application ("Application"). You must only use the Application as described in the Documentation. We will update the Application and Documentation periodically, which may add or remove features, and we will notify you of material changes.'}),e.jsx("p",{children:e.jsx("strong",{children:"2. Ownership of Intellectual Property (IP)"})}),e.jsx("p",{children:"a. Your Data: You retain ownership of all your master data, raw transactional data, and generated reports gathered from the system."}),e.jsx("p",{children:'b. GoServePH IP: We exclusively own all rights, titles, and interests in the patents, copyrights, trademarks, system designs, and documentation ("GoServePH IP"). All rights in GoServePH IP not expressly granted to you are reserved by us.'}),e.jsx("p",{children:'c. Ideas: If you submit comments or ideas for system improvements ("Ideas"), you agree that we are free to use these Ideas without any attribution or compensation to you.'}),e.jsx("p",{children:e.jsx("strong",{children:"3. License Coverage"})}),e.jsx("p",{children:"We grant you a non-exclusive and non-transferable license to electronically access and use the GoServePH IP only as described in this Agreement. We are not selling the IP to you, and you cannot sublicense it. We may revoke this license if you violate the Agreement."}),e.jsx("p",{children:e.jsx("strong",{children:"4. References to Our Relationship"})}),e.jsx("p",{children:"During the term of this Agreement, both you and we may publicly identify the other party as the service provider or client, respectively. If you object to us identifying you as a client, you must notify us at info@goserveph.com. Upon termination, both parties must remove all public references to the relationship."}),e.jsx("h4",{className:"font-semibold",children:"SECTION C: PAYMENT TERMS AND CONDITIONS"}),e.jsx("p",{children:e.jsx("strong",{children:"1. Service Fees"})}),e.jsx("p",{children:"We will charge the Fees for set-up, access, support, penalties, and other transactions as described on the GoServePH website. We may revise the Fees at any time, with at least 30 days' notice before the revisions apply to you."}),e.jsx("p",{children:e.jsx("strong",{children:"2. Payment Terms and Schedule"})}),e.jsx("p",{children:'a. Billing: Your monthly bill for the upcoming month is generated by the system on the 21st day of the current month and is due after 5 days. Billing is based on the number of registered users ("End-User") as of the 20th day.'}),e.jsx("p",{children:"b. Payment Method: All payments must be settled via our third-party Payment System Provider, PayPal. You agree to abide by all of PayPal's terms, and we are not responsible for any issues with their service."}),e.jsx("p",{children:e.jsx("strong",{children:"3. Taxes"})}),e.jsx("p",{children:"Fees exclude applicable taxes. You are solely responsible for remitting all taxes for your business to the appropriate Philippine tax and revenue authorities."}),e.jsx("p",{children:e.jsx("strong",{children:"4. Payment Processing"})}),e.jsx("p",{children:"We are not a bank and do not offer services regulated by the Bangko Sentral ng Pilipinas. We reserve the right to reject your application or terminate your Account if you are ineligible to use PayPal services."}),e.jsx("p",{children:e.jsx("strong",{children:"5. Processing Disputes and Refunds"})}),e.jsx("p",{children:"You must report disputes and refund requests by emailing us at billing@goserveph.com. Disputes will only be investigated if reported within 60 days from the billing date. If a refund is warranted, it will be issued as a credit memo for use on future bills."}),e.jsx("h4",{className:"font-semibold",children:"SECTION D: DATA USAGE, PRIVACY AND SECURITY"}),e.jsx("p",{children:e.jsx("strong",{children:"1. Data Usage Overview"})}),e.jsx("p",{children:"Data security is a top priority. This section outlines our obligations when handling information."}),e.jsx("p",{children:"'PERSONAL DATA' is information that relates to and can identify a person."}),e.jsx("p",{children:"'USER DATA' is information that describes your business, operations, products, or services."}),e.jsx("p",{children:"'GoServePH DATA' is transactional data over our infrastructure, fraud analysis info, aggregated data, and other information originating from the Services."}),e.jsx("p",{children:"'DATA' means all of the above."}),e.jsx("p",{children:"We use Data to provide Services, mitigate fraud, and improve our systems. We do not provide Personal Data to unaffiliated parties for marketing purposes."}),e.jsx("p",{children:e.jsx("strong",{children:"2. Data Protection and Privacy"})}),e.jsx("p",{children:"a. Confidentiality: You will protect all Data received via the Services and only use it in connection with this Agreement. Neither party may use Personal Data for marketing without express consent. We may disclose Data if required by legal instruments (e.g., subpoena)."}),e.jsx("p",{children:"b. Privacy Compliance: You affirm that you comply with all Laws governing the privacy and protection of the Data you provide to or access through the Services. You are responsible for obtaining all necessary consents from End-Users to allow us to collect, use, and disclose their Data."}),e.jsx("p",{children:"c. Data Processing Roles: You shall be the data controller, and we shall be the data intermediary. We will process the Personal Data only according to this Agreement and will implement appropriate measures to protect it."}),e.jsx("p",{children:"d. Data Mining: You may not mine the database or any part of it without our express consent."}),e.jsx("p",{children:e.jsx("strong",{children:"3. Security Controls"})}),e.jsx("p",{children:'We are responsible for protecting your Data using commercially reasonable administrative, technical, and physical security measures. However, no system is impenetrable. You agree that you are responsible for implementing your own firewall, anti-virus, anti-phishing, and other security measures ("Security Controls"). We may suspend your Account to maintain the integrity of the Services, and you waive the right to claim losses that result from such actions.'}),e.jsx("h4",{className:"font-semibold",children:"SECTION E: ADDITIONAL LEGAL TERMS"}),e.jsx("p",{children:e.jsx("strong",{children:"1. Right to Amend"})}),e.jsx("p",{children:"We can change or add to these terms at any time by posting the changes on our website. Your continued use of the Services constitutes your acceptance of the modified Agreement."}),e.jsx("p",{children:e.jsx("strong",{children:"2. Assignment"})}),e.jsx("p",{children:"You cannot assign this Agreement or your Account rights to anyone else without our prior written consent. We can assign this Agreement without your consent."}),e.jsx("p",{children:e.jsx("strong",{children:"3. Force Majeure"})}),e.jsx("p",{children:"Neither party will be liable for delays or non-performance caused by events beyond reasonable control, such as utility failures, acts of nature, or war. This does not excuse your obligation to pay fees."}),e.jsx("p",{children:e.jsx("strong",{children:"4. Representations and Warranties"})}),e.jsx("p",{children:"By agreeing, you warrant that:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"You are eligible to use the Services and have the authority to enter this Agreement."}),e.jsx("li",{children:"All information you provide is accurate and complete."}),e.jsx("li",{children:"You will comply with all Laws."}),e.jsx("li",{children:"You will not use the Services for fraudulent or illegal purposes."})]}),e.jsx("p",{children:e.jsx("strong",{children:"5. No Warranties"})}),e.jsx("p",{children:'We provide the Services and GoServePH IP "AS IS" and "AS AVAILABLE," without any express, implied, or statutory warranties of title, merchantability, fitness for a particular purpose, or non-infringement.'}),e.jsx("p",{children:e.jsx("strong",{children:"6. Limitation of Liability"})}),e.jsx("p",{children:"We shall not be responsible or liable to you for any indirect, punitive, incidental, special, consequential, or exemplary damages resulting from your use or inability to use the Services, lost profits, personal injury, or property damage. We are not liable for damages arising from:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Hacking, tampering, or unauthorized access to your Account."}),e.jsx("li",{children:"Your failure to implement Security Controls."}),e.jsx("li",{children:"Use of the Services inconsistent with the Documentation."}),e.jsx("li",{children:"Bugs, viruses, or interruptions to the Services."})]}),e.jsx("p",{children:"This Agreement and all incorporated policies constitute the entire agreement between you and GoServePH."})]}),e.jsxs("div",{className:"border-t px-6 py-3 flex justify-between items-center",children:[e.jsxs("label",{className:"inline-flex items-center text-sm",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:x,onChange:De=>v(De.target.checked)}),e.jsx("span",{children:"I have read and understood the Terms of Use"})]}),e.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 rounded-lg bg-secondary-500 text-white hover:bg-secondary-600",children:x?"Accept & Close":"Close"})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"GoServePH Data Privacy Policy"}),e.jsx("button",{type:"button",onClick:()=>g(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsxs("div",{className:"px-6 py-4 space-y-4 text-sm leading-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Protecting the information you and your users handle through our system is our highest priority."})," This policy outlines how GoServePH manages, secures, and uses your data."]}),e.jsx("h4",{className:"font-semibold",children:"1. How We Define and Use Data"}),e.jsx("p",{children:"In this policy, we define the types of data that flow through the GoServePH system:"}),e.jsxs("table",{className:"w-full text-left text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-1 pr-4",children:"Term"}),e.jsx("th",{className:"py-1",children:"Definition"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"Personal Data"}),e.jsx("td",{className:"py-1",children:"Any information that can identify a specific person, whether directly or indirectly, shared or accessible through the Services."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"User Data"}),e.jsx("td",{className:"py-1",children:"Information that describes your business operations, services, or internal activities."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"GoServePH Data"}),e.jsx("td",{className:"py-1",children:"Details about transactions and activity on our platform, information used for fraud detection, aggregated data, and any non-personal information generated by our system."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"DATA"}),e.jsx("td",{className:"py-1",children:"Used broadly to refer to all the above: Personal Data, User Data, and GoServePH Data."})]})]})]}),e.jsx("h4",{className:"font-semibold",children:"Our Commitment to Data Use"}),e.jsx("p",{children:"We analyze and manage data only for the following critical purposes:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"To provide, maintain, and improve the GoServePH Services for you and all other users."}),e.jsx("li",{children:"To detect and mitigate fraud, financial loss, or other harm to you or other users."}),e.jsx("li",{children:"To develop and enhance our products, systems, and tools."})]}),e.jsx("p",{children:"We will not sell or share Personal Data with unaffiliated parties for their marketing purposes. By using our system, you consent to our use of your Data in this manner."}),e.jsx("h4",{className:"font-semibold",children:"2. Data Protection and Compliance"}),e.jsx("p",{children:e.jsx("strong",{children:"Confidentiality"})}),e.jsx("p",{children:"We commit to using Data only as permitted by our agreement or as specifically directed by you. You, in turn, must protect all Data you access through GoServePH and use it only in connection with our Services. Neither party may use Personal Data to market to third parties without explicit consent."}),e.jsx("p",{children:"We will only disclose Data when legally required to do so, such as through a subpoena, court order, or search warrant."}),e.jsx("p",{children:e.jsx("strong",{children:"Privacy Compliance and Responsibilities"})}),e.jsxs("p",{children:[e.jsx("em",{children:"Your Legal Duty:"})," You affirm that you are, and will remain, compliant with all applicable Philippine laws (including the Data Privacy Act of 2012) governing the collection, protection, and use of the Data you provide to us."]}),e.jsxs("p",{children:[e.jsx("em",{children:"Consent:"})," You are responsible for obtaining all necessary rights and consents from your End-Users to allow us to collect, use, and store their Personal Data."]}),e.jsxs("p",{children:[e.jsx("em",{children:"End-User Disclosure:"})," You must clearly inform your End-Users that GoServePH processes transactions for you and may receive their Personal Data as part of that process."]}),e.jsx("p",{children:e.jsx("strong",{children:"Data Processing Roles"})}),e.jsx("p",{children:"When we process Personal Data on your behalf, we operate under the following legal roles:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"You are the Data Controller (you determine why and how the data is processed)."}),e.jsx("li",{children:"We are the Data Intermediary (we process data strictly according to your instructions)."})]}),e.jsx("p",{children:"As the Data Intermediary, we commit to:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Implementing appropriate security measures to protect the Personal Data we process."}),e.jsx("li",{children:"Not retaining Personal Data longer than necessary to fulfill the purposes set out in our agreement."})]}),e.jsx("p",{children:"You acknowledge that we rely entirely on your instructions. Therefore, we are not liable for any claims resulting from our actions that were based directly or indirectly on your instructions."}),e.jsx("p",{children:e.jsx("strong",{children:"Prohibited Activities"})}),e.jsx("p",{children:"You are strictly prohibited from data mining the GoServePH database or any portion of it without our express written permission."}),e.jsx("p",{children:e.jsx("strong",{children:"Breach Notification"})}),e.jsx("p",{children:'If we become aware of an unauthorized acquisition, disclosure, change, or loss of Personal Data on our systems (a "Breach"), we will notify you and provide sufficient information to help you mitigate any negative impact, consistent with our legal obligations.'}),e.jsx("h4",{className:"font-semibold",children:"3. Account Deactivation and Data Deletion"}),e.jsx("p",{children:e.jsx("strong",{children:"Initiating Deactivation"})}),e.jsx("p",{children:"If you wish to remove your personal information from our systems, you must go to your Edit Profile page and click the 'Deactivate Account' button. This action initiates the data deletion and account deactivation process."}),e.jsx("p",{children:e.jsx("strong",{children:"Data Retention"})}),e.jsx("p",{children:"Upon deactivation, all of your Personal Identifying Information will be deleted from our systems."}),e.jsxs("p",{children:[e.jsx("em",{children:"Important Note:"})," Due to the nature of our role as a Government Services Management System, and for legal, accounting, and audit purposes, we are required to retain some of your non-personal account activity history and transactional records. You will receive a confirmation email once your request has been fully processed."]}),e.jsx("h4",{className:"font-semibold",children:"4. Security Controls and Responsibilities"}),e.jsx("p",{children:e.jsx("strong",{children:"Our Security"})}),e.jsx("p",{children:"We are responsible for implementing commercially reasonable administrative, technical, and physical procedures to protect Data from unauthorized access, loss, or modification. We comply with all applicable Laws in handling Data."}),e.jsx("p",{children:e.jsx("strong",{children:"Your Security Controls"})}),e.jsx("p",{children:'You acknowledge that no security system is perfect. You agree to implement your own necessary security measures ("Security Controls"), which must include:'}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Firewall and anti-virus systems."}),e.jsx("li",{children:"Anti-phishing systems."}),e.jsx("li",{children:"End-User and device management policies."}),e.jsx("li",{children:"Data handling protocols."})]}),e.jsx("p",{children:"We reserve the right to suspend your Account or the Services if necessary to maintain system integrity and security, or to prevent harm. You waive any right to claim losses that result from a Breach or any action we take to prevent harm."})]}),e.jsxs("div",{className:"border-t px-6 py-3 flex justify-between items-center",children:[e.jsxs("label",{className:"inline-flex items-center text-sm",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:w,onChange:De=>j(De.target.checked)}),e.jsx("span",{children:"I have read and understood the Data Privacy Policy"})]}),e.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 rounded-lg bg-secondary-500 text-white hover:bg-secondary-600",children:w?"Accept & Close":"Close"})]})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"GoServePH Terms of Service"}),e.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsxs("div",{className:"px-6 py-4 space-y-4 text-sm leading-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Welcome to GoServePH!"}),' These Terms of Service ("Terms") govern your use of the Government Services Management System and all related services provided by GoServePH.']}),e.jsx("h4",{className:"font-semibold",children:"1. Acceptance of Terms"}),e.jsx("p",{children:"By accessing or using GoServePH, you agree to be bound by these Terms and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing this site."}),e.jsx("h4",{className:"font-semibold",children:"2. Description of Service"}),e.jsx("p",{children:"GoServePH is a comprehensive government services management platform that provides:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Student registration and scholarship management"}),e.jsx("li",{children:"Document processing and verification"}),e.jsx("li",{children:"Payment processing for government services"}),e.jsx("li",{children:"Administrative dashboard for government personnel"}),e.jsx("li",{children:"Secure data management and reporting"})]}),e.jsx("h4",{className:"font-semibold",children:"3. User Accounts and Registration"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Creation:"})," To access certain features, you must create an account by providing accurate, current, and complete information."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Security:"})," You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Types:"})," GoServePH supports different user types including students, government personnel, and administrators, each with specific access levels and permissions."]}),e.jsx("h4",{className:"font-semibold",children:"4. Acceptable Use Policy"}),e.jsx("p",{children:"You agree to use GoServePH only for lawful purposes and in accordance with these Terms. You agree NOT to:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Use the service for any illegal or unauthorized purpose"}),e.jsx("li",{children:"Attempt to gain unauthorized access to any part of the system"}),e.jsx("li",{children:"Interfere with or disrupt the service or servers"}),e.jsx("li",{children:"Submit false, misleading, or fraudulent information"}),e.jsx("li",{children:"Violate any applicable local, national, or international law"}),e.jsx("li",{children:"Harass, abuse, or harm other users"})]}),e.jsx("h4",{className:"font-semibold",children:"5. Privacy and Data Protection"}),e.jsx("p",{children:"Your privacy is important to us. Our collection and use of personal information is governed by our Data Privacy Policy, which is incorporated into these Terms by reference. By using GoServePH, you consent to the collection and use of information as described in our Privacy Policy."}),e.jsx("h4",{className:"font-semibold",children:"6. Intellectual Property Rights"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Our Rights:"})," GoServePH and its original content, features, and functionality are owned by the Government of the Philippines and are protected by international copyright, trademark, patent, trade secret, and other intellectual property laws."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Your Content:"})," You retain ownership of any content you submit to GoServePH, but grant us a license to use, modify, and display such content as necessary to provide our services."]}),e.jsx("h4",{className:"font-semibold",children:"7. Service Availability and Modifications"}),e.jsx("p",{children:"We strive to maintain high service availability but cannot guarantee uninterrupted access. We reserve the right to:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Modify or discontinue the service with reasonable notice"}),e.jsx("li",{children:"Perform maintenance that may temporarily affect service availability"}),e.jsx("li",{children:"Update features and functionality to improve user experience"})]}),e.jsx("h4",{className:"font-semibold",children:"8. Payment Terms"}),e.jsx("p",{children:"Certain services may require payment of fees. All fees are non-refundable unless otherwise specified. Payment processing is handled securely through authorized payment gateways."}),e.jsx("h4",{className:"font-semibold",children:"9. Limitation of Liability"}),e.jsx("p",{children:"To the maximum extent permitted by law, GoServePH shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses resulting from your use of the service."}),e.jsx("h4",{className:"font-semibold",children:"10. Indemnification"}),e.jsx("p",{children:"You agree to defend, indemnify, and hold harmless GoServePH and its officers, directors, employees, and agents from and against any claims, damages, obligations, losses, liabilities, costs, or debt arising from your use of the service or violation of these Terms."}),e.jsx("h4",{className:"font-semibold",children:"11. Termination"}),e.jsx("p",{children:"We may terminate or suspend your account and access to the service immediately, without prior notice, for any reason, including breach of these Terms. Upon termination, your right to use the service will cease immediately."}),e.jsx("h4",{className:"font-semibold",children:"12. Governing Law and Dispute Resolution"}),e.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of the Republic of the Philippines. Any disputes arising from these Terms or your use of GoServePH shall be resolved through the appropriate Philippine courts."}),e.jsx("h4",{className:"font-semibold",children:"13. Changes to Terms"}),e.jsx("p",{children:"We reserve the right to modify these Terms at any time. We will notify users of any material changes through the service or via email. Your continued use of GoServePH after such modifications constitutes acceptance of the updated Terms."}),e.jsx("h4",{className:"font-semibold",children:"14. Contact Information"}),e.jsx("p",{children:"For questions about these Terms of Service, please contact us at:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Email: helpdesk@gov.ph"}),e.jsx("li",{children:"Phone: 122"}),e.jsx("li",{children:"Address: Government Services Management System, Philippines"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Updated:"})," ",new Date().toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"border-t px-6 py-3 flex justify-between items-center",children:[e.jsxs("label",{className:"inline-flex items-center text-sm",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:x,onChange:De=>v(De.target.checked)}),e.jsx("span",{children:"I have read and understood the Terms of Service"})]}),e.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 rounded-lg bg-primary-600 text-white hover:bg-primary-700",children:x?"Accept & Close":"Close"})]})]})}),Oe&&e.jsx("div",{className:"fixed inset-0 z-50 bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:"/splash.svg",alt:"Loading",className:"splash-logo mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Welcome to GoServePH!"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Redirecting you to your dashboard..."})]})}),e.jsx(d3,{isOpen:Ye,onClose:()=>kt(!1),onVerified:()=>{oe(!0),kt(!1),setTimeout(()=>{Wt()},100)}}),e.jsx(d3,{isOpen:it,onClose:()=>ft(!1),onVerified:()=>{et(!0),ft(!1),setTimeout(()=>{const De=document.querySelectorAll("form"),ze=Array.from(De).find(st=>st.querySelectorAll('input[name="firstName"]').length>0);ze&&ze.requestSubmit()},100)}}),ce&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-right duration-300",children:e.jsx("div",{className:`rounded-lg shadow-lg p-4 max-w-sm ${W==="error"?"bg-red-500 text-white":W==="success"?"bg-green-500 text-white":"bg-blue-500 text-white"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium",children:R}),e.jsx("button",{onClick:()=>we(!1),className:"ml-3 text-white/80 hover:text-white",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})]})},aH=()=>{const t=Gi(),[r]=M7(),[a,s]=b.useState(!0),[n,i]=b.useState(null);b.useEffect(()=>{r.get("reference")||r.get("checkout_session_id");const l=setTimeout(()=>{s(!1)},2e3);return()=>clearTimeout(l)},[r]);const o=()=>{t("/admin",{state:{activeItem:"school-aid-distribution",activeTab:"applications"}})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 text-center",children:a?e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(za,{className:"w-16 h-16 text-green-500 animate-spin"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Processing your payment..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:e.jsx(jt,{className:"w-12 h-12 text-green-600 dark:text-green-400"})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Your scholarship grant payment has been processed successfully."})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6 text-left",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Status"}),e.jsx("p",{className:"font-semibold text-green-600 dark:text-green-400",children:"Payment Completed"}),r.get("reference")&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-3 mb-1",children:"Reference Number"}),e.jsx("p",{className:"font-mono text-sm text-slate-800 dark:text-white",children:r.get("reference")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Your application status will be updated automatically. You will receive a confirmation once the disbursement is processed."}),e.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center space-x-2 bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:[e.jsx(Xp,{className:"w-4 h-4"}),e.jsx("span",{children:"Back to Applications"})]})]})]})})})},gn=`${Et.AID_SERVICE.BASE_URL}/api`;class sH{buildAuthHeaders(r={}){const a={Accept:"application/json",...r},s=typeof window<"u"?localStorage.getItem("auth_token"):null;if(s){a.Authorization=`Bearer ${s}`;try{const n=localStorage.getItem("user_data");if(n){const i=JSON.parse(n);i?.id!=null&&(a["X-User-ID"]=String(i.id)),i?.role&&(a["X-User-Role"]=String(i.role)),i?.email&&(a["X-User-Email"]=String(i.email)),i?.first_name&&(a["X-User-First-Name"]=String(i.first_name)),i?.last_name&&(a["X-User-Last-Name"]=String(i.last_name))}}catch(n){console.warn("SchoolAidService: failed to parse user_data from localStorage",n)}}return a}async getApplications(r){const a=new URLSearchParams;r?.status&&a.append("status",r.status),r?.search&&a.append("search",r.search),r?.submodule&&a.append("submodule",r.submodule);const s=await fetch(`${gn}/school-aid/applications?${a}`,{headers:this.buildAuthHeaders()});if(!s.ok)throw new Error(`Failed to fetch applications: ${s.statusText}`);return(await s.json()).map(i=>{const o=i.application||i;let l;const c=o.digital_wallets||i.digital_wallets;if(c){let d=c;if(typeof d=="string")try{d.trim().startsWith("[")&&(d=JSON.parse(d))}catch(u){console.warn("Failed to parse digital_wallets",u)}Array.isArray(d)&&d.length>0?l=d[0]:typeof d=="string"&&(l=d)}return console.log("SchoolAidService - Mapping application:",{id:i.id,digital_wallets:c,walletMethod:l,raw_app:i}),{...i,studentName:i.studentName||i.student_name||o.student_name||`${i.first_name||o.first_name||""} ${i.last_name||o.last_name||""}`.trim(),studentId:i.studentId||i.student_id||o.student_id_number||i.student_id_number,paymentMethod:i.paymentMethod||i.payment_method||o.payment_method||l,walletAccountNumber:i.walletAccountNumber||i.wallet_account_number||o.wallet_account_number||i.account_number,schoolYear:i.schoolYear||i.school_year||o.school_year,submittedDate:i.submittedDate||i.submitted_at||o.submitted_at||i.created_at,approvalDate:i.approvalDate||i.approved_at||o.approved_at,digitalWallets:c}})}async updateApplicationStatus(r,a,s){const n=await fetch(`${gn}/school-aid/applications/${r}/status`,{method:"PATCH",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify({status:a,notes:s})});if(!n.ok)throw new Error(`Failed to update application status: ${n.statusText}`)}async processGrant(r){const a=typeof window<"u"?localStorage.getItem("user_data"):null;let s,n;if(a)try{const o=JSON.parse(a);s=o?.id?String(o.id):void 0,n=o?.first_name&&o?.last_name?`${o.first_name} ${o.last_name}`.trim():o?.name||o?.email||void 0}catch(o){console.warn("Failed to parse user data:",o)}const i=await fetch(`${gn}/school-aid/applications/${r}/process-grant`,{method:"POST",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify({user_id:s,user_name:n})});if(!i.ok){const o=await i.json().catch(()=>({}));throw new Error(o.message||o.error||`Failed to process grant: ${i.statusText}`)}return await i.json()}async batchUpdateApplications(r,a){const s=await fetch(`${gn}/school-aid/applications/batch-update`,{method:"PATCH",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify({applicationIds:r,status:a})});if(!s.ok)throw new Error(`Failed to batch update applications: ${s.statusText}`)}async revertApplicationOnCancel(r){const a=await fetch(`${gn}/school-aid/applications/revert-on-cancel`,{method:"POST",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify(r)});if(!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.message||s.error||`Failed to revert application status: ${a.statusText}`)}return await a.json()}async processPayment(r,a){const s=await fetch(`${gn}/school-aid/payments/process`,{method:"POST",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify({applicationId:r,paymentMethod:a})});if(!s.ok)throw new Error(`Failed to process payment: ${s.statusText}`);return await s.json()}async processPaymentWithDetails(r,a,s,n,i,o,l,c){const d=new FormData;d.append("applicationId",r),d.append("method",a),d.append("providerName",s),d.append("referenceNumber",n),d.append("notes",o),l&&d.append("disbursedById",l),c&&d.append("disbursedByName",c),i&&d.append("receiptFile",i);const u=await fetch(`${gn}/school-aid/applications/${r}/disburse`,{method:"POST",headers:this.buildAuthHeaders(),body:d});if(!u.ok)throw new Error(`Failed to process payment with details: ${u.statusText}`);return await u.json()}async retryPayment(r){const a=await fetch(`${gn}/school-aid/payments/${r}/retry`,{method:"POST",headers:this.buildAuthHeaders()});if(!a.ok)throw new Error(`Failed to retry payment: ${a.statusText}`);return await a.json()}async getPaymentRecords(r){const a=new URLSearchParams;r?.status&&a.append("status",r.status);const s=await fetch(`${gn}/school-aid/payments?${a}`,{headers:this.buildAuthHeaders()});if(!s.ok)throw new Error(`Failed to fetch payment records: ${s.statusText}`);return await s.json()}async getDisbursementHistory(r){const a=new URLSearchParams;r?.search&&a.append("search",r.search),r?.method&&a.append("method",r.method),r?.dateFrom&&a.append("date_from",r.dateFrom),r?.dateTo&&a.append("date_to",r.dateTo),r?.sortBy&&a.append("sortBy",r.sortBy),r?.sortDir&&a.append("sortDir",r.sortDir);const s=await fetch(`${gn}/school-aid/disbursements?${a}`,{headers:this.buildAuthHeaders()});if(!s.ok)throw new Error(`Failed to fetch disbursement history: ${s.statusText}`);return await s.json()}async getMetrics(r){const a=new URLSearchParams;r?.school_year&&a.append("school_year",r.school_year);const s=`${gn}/school-aid/metrics${a.toString()?`?${a.toString()}`:""}`,n=await fetch(s,{headers:this.buildAuthHeaders()});if(!n.ok)throw new Error(`Failed to fetch metrics: ${n.statusText}`);return await n.json()}async getAnalyticsData(r,a){const s=await fetch(`${gn}/school-aid/analytics/${r}?range=${a}`,{headers:this.buildAuthHeaders()});if(!s.ok)throw new Error(`Failed to fetch analytics data: ${s.statusText}`);return await s.json()}async getAvailableSchoolYears(){const r=await fetch(`${gn}/school-aid/school-years`,{headers:this.buildAuthHeaders()});if(!r.ok)throw new Error(`Failed to fetch school years: ${r.statusText}`);return(await r.json()).school_years||[]}async getSettings(){const r=await fetch(`${gn}/school-aid/settings`,{headers:this.buildAuthHeaders()});if(!r.ok)throw new Error(`Failed to fetch settings: ${r.statusText}`);return await r.json()}async updateSettings(r){const a=await fetch(`${gn}/school-aid/settings`,{method:"PUT",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify(r)});if(!a.ok)throw new Error(`Failed to update settings: ${a.statusText}`)}async testConfiguration(r){const a=await fetch(`${gn}/school-aid/settings/test/${r}`,{method:"POST",headers:this.buildAuthHeaders()});if(!a.ok)throw new Error(`Failed to test configuration: ${a.statusText}`);return await a.json()}async getBudgets(r){const a=new URLSearchParams;r&&a.append("school_year",r);const s=await fetch(`${gn}/school-aid/budgets?${a.toString()}`,{headers:this.buildAuthHeaders()});if(!s.ok)throw new Error(`Failed to fetch budgets: ${s.statusText}`);return(await s.json()).budgets||[]}async createOrUpdateBudget(r){const a=await fetch(`${gn}/school-aid/budget`,{method:"POST",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify(r)});if(!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.message||s.error||`Failed to save budget: ${a.statusText}`)}return await a.json()}}const Xn=new sH,nH=()=>{const t=Gi(),[r]=M7(),[a,s]=b.useState(!0),[n,i]=b.useState(!1),[o,l]=b.useState(null);b.useEffect(()=>{(async()=>{try{const f=r.get("application_id"),p=r.get("checkout_session_id"),g=r.get("transaction_id");(f||p||g)&&(await Xn.revertApplicationOnCancel({application_id:f||void 0,checkout_session_id:p||void 0,transaction_id:g||void 0})).success&&i(!0)}catch(f){console.error("Error reverting application status:",f),f.message&&!f.message.includes("not found")&&l(f.message)}finally{s(!1)}})()},[r]);const c=()=>{t("/admin",{state:{activeItem:"school-aid-distribution",activeTab:"applications"}})},d=()=>{const u=r.get("application_id");u?t("/admin",{state:{activeItem:"school-aid-distribution",activeTab:"applications",retryApplicationId:u}}):c()};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-4",children:e.jsx(mr,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Payment Cancelled"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"The payment process was cancelled. No charges were made."})]}),e.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6",children:a?e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(za,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Reverting application status..."})]}):n?e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Your application status has been reverted to ",e.jsx("strong",{children:"approved"}),". You can retry the payment process at any time."]}):o?e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:o}):e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["You can retry the payment process at any time. Your application status has been reverted to ",e.jsx("strong",{children:"approved"}),"."]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:d,className:"w-full flex items-center justify-center space-x-2 bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:[e.jsx(Nr,{className:"w-4 h-4"}),e.jsx("span",{children:"Retry Payment"})]}),e.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center space-x-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-800 dark:text-white font-medium py-3 px-4 rounded-lg transition-colors",children:[e.jsx(Xp,{className:"w-4 h-4"}),e.jsx("span",{children:"Back to Applications"})]})]})]})})},iH="modulepreload",oH=function(t){return"/"+t},u3={},Oa=function(r,a,s){let n=Promise.resolve();if(a&&a.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");n=c(a.map(d=>{if(d=oH(d),d in u3)return;u3[d]=!0;const u=d.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":iH,u||(p.as="script"),p.crossOrigin="",p.href=d,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((g,x)=>{p.addEventListener("load",g),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return n.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return r().catch(i)})},f2={en:{Dashboard:"Dashboard",Home:"Home",Settings:"Settings",Profile:"Profile",Logout:"Logout",Login:"Login",Register:"Register",Save:"Save",Cancel:"Cancel",Delete:"Delete",Edit:"Edit",Add:"Add",Create:"Create",Update:"Update",Submit:"Submit",Reset:"Reset",Search:"Search",Filter:"Filter",Sort:"Sort",Export:"Export",Import:"Import",Download:"Download",Upload:"Upload",View:"View",Details:"Details",Close:"Close",Back:"Back",Next:"Next",Previous:"Previous","Loading...":"Loading...","Saving...":"Saving...","Processing...":"Processing...",Success:"Success",Error:"Error",Warning:"Warning",Info:"Info",Confirm:"Confirm",Yes:"Yes",No:"No",OK:"OK",Apply:"Apply",Clear:"Clear",Refresh:"Refresh",Reload:"Reload",Copy:"Copy",Paste:"Paste",Cut:"Cut",Undo:"Undo",Redo:"Redo","Select All":"Select All","Deselect All":"Deselect All",Select:"Select",Deselect:"Deselect",Enable:"Enable",Disable:"Disable",Active:"Active",Inactive:"Inactive",Online:"Online",Offline:"Offline",Available:"Available",Unavailable:"Unavailable",Public:"Public",Private:"Private",Draft:"Draft",Published:"Published",Archived:"Archived",Pending:"Pending",Approved:"Approved",Rejected:"Rejected",Completed:"Completed","In Progress":"In Progress",Cancelled:"Cancelled",Expired:"Expired",New:"New",Old:"Old",Recent:"Recent",Popular:"Popular",Featured:"Featured",Recommended:"Recommended","Best Seller":"Best Seller","Top Rated":"Top Rated",Latest:"Latest",Oldest:"Oldest",Ascending:"Ascending",Descending:"Descending",Name:"Name",Title:"Title",Description:"Description",Content:"Content",Message:"Message",Note:"Note",Comment:"Comment",Review:"Review",Rating:"Rating",Price:"Price",Cost:"Cost",Amount:"Amount",Quantity:"Quantity",Total:"Total",Subtotal:"Subtotal",Tax:"Tax",Discount:"Discount",Shipping:"Shipping",Date:"Date",Time:"Time","Start Date":"Start Date","End Date":"End Date","Created At":"Created At","Updated At":"Updated At","Last Modified":"Last Modified","First Name":"First Name","Last Name":"Last Name","Middle Name":"Middle Name","Full Name":"Full Name",Email:"Email",Phone:"Phone",Mobile:"Mobile",Address:"Address",City:"City",State:"State",Country:"Country","Zip Code":"Zip Code","Postal Code":"Postal Code",Username:"Username",Password:"Password","Confirm Password":"Confirm Password","Current Password":"Current Password","New Password":"New Password","Old Password":"Old Password","Remember Me":"Remember Me","Forgot Password":"Forgot Password","Reset Password":"Reset Password","Change Password":"Change Password",Account:"Account",User:"User",Users:"Users",Admin:"Admin",Administrator:"Administrator",Manager:"Manager",Staff:"Staff",Employee:"Employee",Customer:"Customer",Client:"Client",Guest:"Guest",Visitor:"Visitor",Member:"Member",Student:"Student",Teacher:"Teacher",Instructor:"Instructor",Professor:"Professor",School:"School",University:"University",College:"College",Department:"Department",Course:"Course",Subject:"Subject",Class:"Class",Grade:"Grade",Score:"Score",Mark:"Mark",Result:"Result",Exam:"Exam",Test:"Test",Quiz:"Quiz",Assignment:"Assignment",Homework:"Homework",Project:"Project",Report:"Report",Document:"Document",File:"File",Folder:"Folder",Directory:"Directory",Path:"Path",URL:"URL",Link:"Link",Image:"Image",Photo:"Photo",Picture:"Picture",Video:"Video",Audio:"Audio",Music:"Music",Sound:"Sound",Text:"Text",Data:"Data",Information:"Information",Details:"Details",Summary:"Summary",Overview:"Overview",Preview:"Preview","Full Screen":"Full Screen",Print:"Print",Share:"Share",Send:"Send",Receive:"Receive",Read:"Read",Unread:"Unread","Mark as Read":"Mark as Read","Mark as Unread":"Mark as Unread",Reply:"Reply",Forward:"Forward",Archive:"Archive",Unarchive:"Unarchive",Star:"Star",Unstar:"Unstar",Favorite:"Favorite",Unfavorite:"Unfavorite",Like:"Like",Unlike:"Unlike",Follow:"Follow",Unfollow:"Unfollow",Subscribe:"Subscribe",Unsubscribe:"Unsubscribe",Join:"Join",Leave:"Leave",Enter:"Enter",Exit:"Exit",Start:"Start",Stop:"Stop",Pause:"Pause",Resume:"Resume",Play:"Play",Record:"Record","Stop Recording":"Stop Recording","Pause Recording":"Pause Recording","Resume Recording":"Resume Recording","Upload File":"Upload File","Choose File":"Choose File",Browse:"Browse","Select File":"Select File","Drop files here":"Drop files here","Drag and drop files here":"Drag and drop files here","File uploaded successfully":"File uploaded successfully","File upload failed":"File upload failed","Invalid file type":"Invalid file type","File too large":"File too large","File not found":"File not found","Access denied":"Access denied","Permission denied":"Permission denied",Unauthorized:"Unauthorized",Forbidden:"Forbidden","Not found":"Not found","Page not found":"Page not found","Server error":"Server error","Network error":"Network error","Connection error":"Connection error",Timeout:"Timeout","Try again":"Try again",Retry:"Retry","Something went wrong":"Something went wrong","An error occurred":"An error occurred","Please try again":"Please try again","Please wait":"Please wait","Please select":"Please select","Please enter":"Please enter","Please fill in":"Please fill in","Required field":"Required field","Optional field":"Optional field","Invalid input":"Invalid input","Invalid format":"Invalid format","Invalid email":"Invalid email","Invalid phone":"Invalid phone","Invalid date":"Invalid date","Invalid time":"Invalid time","Invalid number":"Invalid number","Invalid URL":"Invalid URL","Invalid file":"Invalid file","Field is required":"Field is required","This field is required":"This field is required","Please enter a valid email":"Please enter a valid email","Please enter a valid phone number":"Please enter a valid phone number","Please enter a valid date":"Please enter a valid date","Please enter a valid time":"Please enter a valid time","Please enter a valid number":"Please enter a valid number","Please enter a valid URL":"Please enter a valid URL","Please select a file":"Please select a file","Please select at least one item":"Please select at least one item","Please select at least one option":"Please select at least one option","No data available":"No data available","No results found":"No results found","No items found":"No items found","No files found":"No files found","No records found":"No records found","No matches found":"No matches found","Nothing to display":"Nothing to display",Empty:"Empty",None:"None",All:"All",Any:"Any",Other:"Other",More:"More",Less:"Less","Show More":"Show More","Show Less":"Show Less","Show All":"Show All","Hide All":"Hide All",Expand:"Expand",Collapse:"Collapse",Open:"Open",Close:"Close",Minimize:"Minimize",Maximize:"Maximize",Restore:"Restore",Fullscreen:"Fullscreen","Exit Fullscreen":"Exit Fullscreen","Zoom In":"Zoom In","Zoom Out":"Zoom Out","Reset Zoom":"Reset Zoom","Fit to Screen":"Fit to Screen","Actual Size":"Actual Size",Auto:"Auto",Manual:"Manual",Automatic:"Automatic",Custom:"Custom",Default:"Default",Standard:"Standard",Basic:"Basic",Advanced:"Advanced",Expert:"Expert",Beginner:"Beginner",Intermediate:"Intermediate",Professional:"Professional",Enterprise:"Enterprise",Premium:"Premium",Free:"Free",Paid:"Paid",Trial:"Trial",Demo:"Demo",Beta:"Beta",Alpha:"Alpha",Stable:"Stable",Development:"Development",Production:"Production",Testing:"Testing",Debug:"Debug",Release:"Release",Version:"Version",Update:"Update",Upgrade:"Upgrade",Downgrade:"Downgrade",Install:"Install",Uninstall:"Uninstall",Setup:"Setup",Configure:"Configure",Settings:"Settings",Preferences:"Preferences",Options:"Options",Properties:"Properties",Attributes:"Attributes",Parameters:"Parameters",Variables:"Variables",Constants:"Constants",Functions:"Functions",Methods:"Methods",Classes:"Classes",Objects:"Objects",Arrays:"Arrays",Lists:"Lists",Tables:"Tables",Forms:"Forms",Fields:"Fields",Inputs:"Inputs",Outputs:"Outputs",Results:"Results",Responses:"Responses",Requests:"Requests",Queries:"Queries",Filters:"Filters",Sorting:"Sorting",Grouping:"Grouping",Pagination:"Pagination",Navigation:"Navigation",Menu:"Menu",Submenu:"Submenu",Dropdown:"Dropdown",Toolbar:"Toolbar",Sidebar:"Sidebar",Header:"Header",Footer:"Footer",Content:"Content",Main:"Main",Primary:"Primary",Secondary:"Secondary",Tertiary:"Tertiary","Primary Color":"Primary Color","Secondary Color":"Secondary Color","Accent Color":"Accent Color","Background Color":"Background Color","Text Color":"Text Color","Border Color":"Border Color","Link Color":"Link Color","Hover Color":"Hover Color","Active Color":"Active Color","Disabled Color":"Disabled Color","Success Color":"Success Color","Warning Color":"Warning Color","Error Color":"Error Color","Info Color":"Info Color",Light:"Light",Dark:"Dark",Theme:"Theme",Language:"Language",English:"English",Filipino:"Filipino",Timezone:"Timezone","Date Format":"Date Format","Time Format":"Time Format","12 Hour":"12 Hour","24 Hour":"24 Hour","Items Per Page":"Items Per Page","Save Settings":"Save Settings","System settings updated and applied":"System settings updated and applied","Confirm Settings Update":"Confirm Settings Update","Are you sure you want to save these changes? This will update your settings in the database and apply them immediately.":"Are you sure you want to save these changes? This will update your settings in the database and apply them immediately.","Save Changes":"Save Changes","Current Settings (Debug)":"Current Settings (Debug)",Profile:"Profile",Security:"Security",Notifications:"Notifications",System:"System","Admin Tools":"Admin Tools","Personal Information":"Personal Information","Email Address":"Email Address","Mobile Number":"Mobile Number","Save Profile":"Save Profile","Profile updated successfully":"Profile updated successfully","Change Password":"Change Password","Password changed successfully":"Password changed successfully",Weak:"Weak",Medium:"Medium",Strong:"Strong",Match:"Match","No Match":"No Match","Notification Preferences":"Notification Preferences","Email Notifications":"Email Notifications","SMS Alerts":"SMS Alerts","Push Notifications":"Push Notifications","Weekly Reports":"Weekly Reports","System Updates":"System Updates","Receive notifications via email":"Receive notifications via email","Receive SMS alerts for important updates":"Receive SMS alerts for important updates","Receive push notifications in browser":"Receive push notifications in browser","Receive weekly summary reports":"Receive weekly summary reports","Receive system maintenance notifications":"Receive system maintenance notifications","Save Preferences":"Save Preferences","SSC Management":"SSC Management","My Interviews":"My Interviews","Pending Interviews":"Pending Interviews","All Interviews":"All Interviews","Access Denied":"Access Denied","Logging out...":"Logging out...",Logout:"Logout","School Aid Distribution":"School Aid Distribution","Student Registry":"Student Registry","Active Students":"Active Students","Archived Students":"Archived Students",Scholars:"Scholars","Bulk Operations":"Bulk Operations","Reports & Analytics":"Reports & Analytics","Import/Export":"Import/Export","Partner School Database":"Partner School Database","School Management":"School Management","Student Population":"Student Population","Verification & Accreditation":"Verification & Accreditation","Analytics & Reports":"Analytics & Reports","Education Monitoring":"Education Monitoring","Academic Performance":"Academic Performance","Enrollment Statistics":"Enrollment Statistics","Student Progress":"Student Progress",Analytics:"Analytics","User Management":"User Management","Roles & Permissions":"Roles & Permissions","Activity Logs":"Activity Logs","Audit Logs":"Audit Logs","System Logs":"System Logs","User Activity":"User Activity","Security Events":"Security Events","Security Settings":"Security Settings","Security Monitoring":"Security Monitoring","Archived Data":"Archived Data","Archived Applications":"Archived Applications","Archived Reports":"Archived Reports"},fil:{Dashboard:"Dashboard",Home:"Bahay",Settings:"Mga Setting",Profile:"Profil",Logout:"Mag-logout",Login:"Mag-login",Register:"Mag-register",Save:"I-save",Cancel:"Kanselahin",Delete:"Tanggalin",Edit:"I-edit",Add:"Magdagdag",Create:"Gumawa",Update:"I-update",Submit:"I-submit",Reset:"I-reset",Search:"Maghanap",Filter:"I-filter",Sort:"I-sort",Export:"I-export",Import:"I-import",Download:"I-download",Upload:"I-upload",View:"Tingnan",Details:"Mga Detalye",Close:"Isara",Back:"Bumalik",Next:"Susunod",Previous:"Nakaraan","Loading...":"Naglo-load...","Saving...":"Nagse-save...","Processing...":"Pinoproseso...",Success:"Tagumpay",Error:"Error",Warning:"Babala",Info:"Impormasyon",Confirm:"Kumpirmahin",Yes:"Oo",No:"Hindi",OK:"OK",Apply:"I-apply",Clear:"I-clear",Refresh:"I-refresh",Reload:"I-reload",Copy:"I-copy",Paste:"I-paste",Cut:"I-cut",Undo:"I-undo",Redo:"I-redo","Select All":"Piliin Lahat","Deselect All":"Tanggalin Lahat",Select:"Piliin",Deselect:"Tanggalin",Enable:"I-enable",Disable:"I-disable",Active:"Aktibo",Inactive:"Hindi Aktibo",Online:"Online",Offline:"Offline",Available:"Available",Unavailable:"Hindi Available",Public:"Publiko",Private:"Pribado",Draft:"Draft",Published:"Nai-publish",Archived:"Nai-archive",Pending:"Pending",Approved:"Na-approve",Rejected:"Na-reject",Completed:"Natapos","In Progress":"Ginagawa",Cancelled:"Na-cancel",Expired:"Nag-expire",New:"Bago",Old:"Luma",Recent:"Kamakailan",Popular:"Sikat",Featured:"Featured",Recommended:"Inirerekomenda","Best Seller":"Pinakamabenta","Top Rated":"Pinakamataas na Rating",Latest:"Pinakabago",Oldest:"Pinakaluma",Ascending:"Pataas",Descending:"Pababa",Name:"Pangalan",Title:"Pamagat",Description:"Paglalarawan",Content:"Nilalaman",Message:"Mensahe",Note:"Tala",Comment:"Komento",Review:"Review",Rating:"Rating",Price:"Presyo",Cost:"Gastos",Amount:"Halaga",Quantity:"Dami",Total:"Kabuuan",Subtotal:"Subtotal",Tax:"Buwis",Discount:"Diskuwento",Shipping:"Shipping",Date:"Petsa",Time:"Oras","Start Date":"Simula ng Petsa","End Date":"Katapusan ng Petsa","Created At":"Ginawa Noong","Updated At":"Na-update Noong","Last Modified":"Huling Binago","First Name":"Pangalan","Last Name":"Apelyido","Middle Name":"Gitnang Pangalan","Full Name":"Buong Pangalan",Email:"Email",Phone:"Telepono",Mobile:"Mobile",Address:"Address",City:"Lungsod",State:"Estado",Country:"Bansa","Zip Code":"Zip Code","Postal Code":"Postal Code",Username:"Username",Password:"Password","Confirm Password":"Kumpirmahin ang Password","Current Password":"Kasalukuyang Password","New Password":"Bagong Password","Old Password":"Lumang Password","Remember Me":"Tandaan Ako","Forgot Password":"Nakalimutan ang Password","Reset Password":"I-reset ang Password","Change Password":"Palitan ang Password",Account:"Account",User:"User",Users:"Mga User",Admin:"Admin",Administrator:"Administrator",Manager:"Manager",Staff:"Staff",Employee:"Empleyado",Customer:"Customer",Client:"Client",Guest:"Bisita",Visitor:"Bisita",Member:"Miyembro",Student:"Estudyante",Teacher:"Guro",Instructor:"Instructor",Professor:"Propesor",School:"Paaralan",University:"Unibersidad",College:"Kolehiyo",Department:"Departamento",Course:"Kurso",Subject:"Paksa",Class:"Klase",Grade:"Marka",Score:"Puntos",Mark:"Marka",Result:"Resulta",Exam:"Eksamen",Test:"Test",Quiz:"Quiz",Assignment:"Assignment",Homework:"Takdang Aralin",Project:"Proyekto",Report:"Ulat",Document:"Dokumento",File:"File",Folder:"Folder",Directory:"Directory",Path:"Path",URL:"URL",Link:"Link",Image:"Larawan",Photo:"Larawan",Picture:"Larawan",Video:"Video",Audio:"Audio",Music:"Musika",Sound:"Tunog",Text:"Teksto",Data:"Data",Information:"Impormasyon",Details:"Mga Detalye",Summary:"Buod",Overview:"Pangkalahatang Tingin",Preview:"Preview","Full Screen":"Buong Screen",Print:"I-print",Share:"I-share",Send:"Ipadala",Receive:"Tumanggap",Read:"Basahin",Unread:"Hindi Nabasa","Mark as Read":"Markahan bilang Nabasa","Mark as Unread":"Markahan bilang Hindi Nabasa",Reply:"Sumagot",Forward:"I-forward",Archive:"I-archive",Unarchive:"I-unarchive",Star:"I-star",Unstar:"I-unstar",Favorite:"Paborito",Unfavorite:"I-unfavorite",Like:"I-like",Unlike:"I-unlike",Follow:"I-follow",Unfollow:"I-unfollow",Subscribe:"Mag-subscribe",Unsubscribe:"Mag-unsubscribe",Join:"Sumali",Leave:"Umalis",Enter:"Pumasok",Exit:"Lumabas",Start:"Simula",Stop:"Tigil",Pause:"Pause",Resume:"I-resume",Play:"I-play",Record:"I-record","Stop Recording":"Itigil ang Recording","Pause Recording":"I-pause ang Recording","Resume Recording":"I-resume ang Recording","Upload File":"I-upload ang File","Choose File":"Piliin ang File",Browse:"I-browse","Select File":"Piliin ang File","Drop files here":"I-drop ang mga file dito","Drag and drop files here":"I-drag at i-drop ang mga file dito","File uploaded successfully":"Matagumpay na na-upload ang file","File upload failed":"Nabigo ang pag-upload ng file","Invalid file type":"Hindi wastong uri ng file","File too large":"Masyadong malaki ang file","File not found":"Hindi nahanap ang file","Access denied":"Tinanggihan ang access","Permission denied":"Tinanggihan ang pahintulot",Unauthorized:"Hindi awtorisado",Forbidden:"Bawal","Not found":"Hindi nahanap","Page not found":"Hindi nahanap ang pahina","Server error":"Error ng server","Network error":"Error ng network","Connection error":"Error ng koneksyon",Timeout:"Timeout","Try again":"Subukan ulit",Retry:"I-retry","Something went wrong":"May mali","An error occurred":"May naganap na error","Please try again":"Pakiusap subukan ulit","Please wait":"Pakiusap maghintay","Please select":"Pakiusap piliin","Please enter":"Pakiusap ilagay","Please fill in":"Pakiusap punan","Required field":"Kailangang field","Optional field":"Opsiyonal na field","Invalid input":"Hindi wastong input","Invalid format":"Hindi wastong format","Invalid email":"Hindi wastong email","Invalid phone":"Hindi wastong telepono","Invalid date":"Hindi wastong petsa","Invalid time":"Hindi wastong oras","Invalid number":"Hindi wastong numero","Invalid URL":"Hindi wastong URL","Invalid file":"Hindi wastong file","Field is required":"Kailangan ang field","This field is required":"Kailangan ang field na ito","Please enter a valid email":"Pakiusap maglagay ng wastong email","Please enter a valid phone number":"Pakiusap maglagay ng wastong numero ng telepono","Please enter a valid date":"Pakiusap maglagay ng wastong petsa","Please enter a valid time":"Pakiusap maglagay ng wastong oras","Please enter a valid number":"Pakiusap maglagay ng wastong numero","Please enter a valid URL":"Pakiusap maglagay ng wastong URL","Please select a file":"Pakiusap piliin ang file","Please select at least one item":"Pakiusap piliin ang kahit isang item","Please select at least one option":"Pakiusap piliin ang kahit isang opsiyon","No data available":"Walang available na data","No results found":"Walang nahanap na resulta","No items found":"Walang nahanap na item","No files found":"Walang nahanap na file","No records found":"Walang nahanap na record","No matches found":"Walang nahanap na tugma","Nothing to display":"Walang ipapakita",Empty:"Walang laman",None:"Wala",All:"Lahat",Any:"Kahit ano",Other:"Iba pa",More:"Marami pa",Less:"Konti pa","Show More":"Ipakita ang Marami pa","Show Less":"Ipakita ang Konti pa","Show All":"Ipakita Lahat","Hide All":"Itago Lahat",Expand:"I-expand",Collapse:"I-collapse",Open:"Buksan",Close:"Isara",Minimize:"I-minimize",Maximize:"I-maximize",Restore:"I-restore",Fullscreen:"Buong screen","Exit Fullscreen":"Lumabas sa buong screen","Zoom In":"I-zoom in","Zoom Out":"I-zoom out","Reset Zoom":"I-reset ang zoom","Fit to Screen":"I-fit sa screen","Actual Size":"Aktwal na laki",Auto:"Awtomatiko",Manual:"Manual",Automatic:"Awtomatiko",Custom:"Custom",Default:"Default",Standard:"Standard",Basic:"Basic",Advanced:"Advanced",Expert:"Eksperto",Beginner:"Nagsisimula",Intermediate:"Katamtaman",Professional:"Propesyonal",Enterprise:"Enterprise",Premium:"Premium",Free:"Libre",Paid:"Bayad",Trial:"Trial",Demo:"Demo",Beta:"Beta",Alpha:"Alpha",Stable:"Stable",Development:"Development",Production:"Production",Testing:"Testing",Debug:"Debug",Release:"Release",Version:"Bersyon",Update:"I-update",Upgrade:"I-upgrade",Downgrade:"I-downgrade",Install:"I-install",Uninstall:"I-uninstall",Setup:"I-setup",Configure:"I-configure",Settings:"Mga Setting",Preferences:"Mga Kagustuhan",Options:"Mga Opsiyon",Properties:"Mga Katangian",Attributes:"Mga Katangian",Parameters:"Mga Parameter",Variables:"Mga Variable",Constants:"Mga Constant",Functions:"Mga Function",Methods:"Mga Method",Classes:"Mga Class",Objects:"Mga Object",Arrays:"Mga Array",Lists:"Mga Lista",Tables:"Mga Talaan",Forms:"Mga Form",Fields:"Mga Field",Inputs:"Mga Input",Outputs:"Mga Output",Results:"Mga Resulta",Responses:"Mga Response",Requests:"Mga Request",Queries:"Mga Query",Filters:"Mga Filter",Sorting:"Pag-sort",Grouping:"Pag-grupo",Pagination:"Pagination",Navigation:"Navigation",Menu:"Menu",Submenu:"Submenu",Dropdown:"Dropdown",Toolbar:"Toolbar",Sidebar:"Sidebar",Header:"Header",Footer:"Footer",Content:"Nilalaman",Main:"Pangunahin",Primary:"Primary",Secondary:"Secondary",Tertiary:"Tertiary","Primary Color":"Primary na Kulay","Secondary Color":"Secondary na Kulay","Accent Color":"Accent na Kulay","Background Color":"Kulay ng Background","Text Color":"Kulay ng Text","Border Color":"Kulay ng Border","Link Color":"Kulay ng Link","Hover Color":"Kulay ng Hover","Active Color":"Kulay ng Active","Disabled Color":"Kulay ng Disabled","Success Color":"Kulay ng Success","Warning Color":"Kulay ng Warning","Error Color":"Kulay ng Error","Info Color":"Kulay ng Info",Light:"Maliwanag",Dark:"Madilim",Theme:"Tema",Language:"Wika",English:"Ingles",Filipino:"Filipino",Timezone:"Timezone","Date Format":"Format ng Petsa","Time Format":"Format ng Oras","12 Hour":"12 Oras","24 Hour":"24 Oras","Items Per Page":"Mga Item sa Bawat Pahina","Save Settings":"I-save ang Settings","System settings updated and applied":"Na-update at na-apply ang mga setting ng sistema","Confirm Settings Update":"Kumpirmahin ang Update ng Settings","Are you sure you want to save these changes? This will update your settings in the database and apply them immediately.":"Sigurado ka bang gusto mong i-save ang mga pagbabagong ito? I-uupdate nito ang iyong mga setting sa database at ia-apply agad.","Save Changes":"I-save ang mga Pagbabago","Current Settings (Debug)":"Kasalukuyang Settings (Debug)",Profile:"Profil",Security:"Seguridad",Notifications:"Mga Abiso",System:"Sistema","Admin Tools":"Mga Tool ng Admin","Personal Information":"Impormasyon ng Personal","Email Address":"Email Address","Mobile Number":"Numero ng Mobile","Save Profile":"I-save ang Profil","Profile updated successfully":"Matagumpay na na-update ang profil","Change Password":"Palitan ang Password","Password changed successfully":"Matagumpay na napalitan ang password",Weak:"Mahina",Medium:"Katamtaman",Strong:"Malakas",Match:"Tugma","No Match":"Hindi Tugma","Notification Preferences":"Mga Kagustuhan sa Abiso","Email Notifications":"Mga Abiso sa Email","SMS Alerts":"Mga Alert sa SMS","Push Notifications":"Mga Push Notification","Weekly Reports":"Mga Ulat Lingguhan","System Updates":"Mga Update ng Sistema","Receive notifications via email":"Tumanggap ng mga abiso sa pamamagitan ng email","Receive SMS alerts for important updates":"Tumanggap ng mga alert sa SMS para sa mahahalagang update","Receive push notifications in browser":"Tumanggap ng mga push notification sa browser","Receive weekly summary reports":"Tumanggap ng mga lingguhang ulat","Receive system maintenance notifications":"Tumanggap ng mga abiso sa maintenance ng sistema","Save Preferences":"I-save ang mga Kagustuhan","SSC Management":"Pamahalaan ng SSC","My Interviews":"Aking mga Interview","Pending Interviews":"Mga Pending na Interview","All Interviews":"Lahat ng Interview","Access Denied":"Tinanggihan ang Access","Logging out...":"Naglo-logout...",Logout:"Mag-logout","School Aid Distribution":"Pamamahagi ng Tulong sa Paaralan","Student Registry":"Registry ng Estudyante","Active Students":"Aktibong Estudyante","Archived Students":"Na-archive na Estudyante",Scholars:"Mga Scholar","Bulk Operations":"Mga Bulk na Operasyon","Reports & Analytics":"Mga Ulat at Analytics","Import/Export":"Import/Export","Partner School Database":"Database ng Partner School","School Management":"Pamahalaan ng Paaralan","Student Population":"Populasyon ng Estudyante","Verification & Accreditation":"Verification at Accreditation","Analytics & Reports":"Analytics at Ulat","Education Monitoring":"Monitoring ng Edukasyon","Academic Performance":"Performance sa Akademiko","Enrollment Statistics":"Mga Estadistika ng Enrollment","Student Progress":"Progreso ng Estudyante",Analytics:"Analytics","User Management":"Pamahalaan ng User","Roles & Permissions":"Mga Role at Pahintulot","Activity Logs":"Mga Log ng Aktibidad","Audit Logs":"Mga Log ng Audit","System Logs":"Mga Log ng Sistema","User Activity":"Aktibidad ng User","Security Events":"Mga Event ng Seguridad","Security Settings":"Mga Setting ng Seguridad","Security Monitoring":"Monitoring ng Seguridad","Archived Data":"Na-archive na Data","Archived Applications":"Na-archive na Applications","Archived Reports":"Na-archive na Ulat"}},lH=Object.freeze(Object.defineProperty({__proto__:null,globalTranslations:f2},Symbol.toStringTag,{value:"Module"})),nm={en:{Dashboard:"Dashboard",Settings:"Settings",Profile:"Profile",Logout:"Logout","SSC Management":"SSC Management","School Aid Distribution":"School Aid Distribution","Student Registry":"Student Registry",Overview:"Overview","Active Students":"Active Students","Archived Students":"Archived Students",Scholars:"Scholars","Bulk Operations":"Bulk Operations","Reports & Analytics":"Reports & Analytics","Import/Export":"Import/Export","Partner School Database":"Partner School Database","School Management":"School Management","Student Population":"Student Population","Verification & Accreditation":"Verification & Accreditation","Analytics & Reports":"Analytics & Reports","Education Monitoring":"Education Monitoring","Academic Performance":"Academic Performance","Enrollment Statistics":"Enrollment Statistics","Student Progress":"Student Progress",Analytics:"Analytics","User Management":"User Management","Audit Logs":"Audit Logs",Security:"Security","Document Security":"Document Security","Threat Monitoring":"Threat Monitoring",Quarantine:"Quarantine","Security Settings":"Security Settings","Archived Data":"Archived Data",Applications:"Applications",Programs:"Programs",Scholarship:"Scholarship"},fil:{Dashboard:"Dashboard",Settings:"Mga Setting",Profile:"Profil",Logout:"Mag-logout","SSC Management":"Pamahalaan ng SSC","School Aid Distribution":"Pamamahagi ng Tulong sa Paaralan","Student Registry":"Registry ng Estudyante",Overview:"Pangkalahatang Tingin","Active Students":"Aktibong Estudyante","Archived Students":"Na-archive na Estudyante",Scholars:"Mga Scholar","Bulk Operations":"Mga Bulk na Operasyon","Reports & Analytics":"Mga Ulat at Analytics","Import/Export":"Import/Export","Partner School Database":"Database ng Partner School","School Management":"Pamahalaan ng Paaralan","Student Population":"Populasyon ng Estudyante","Verification & Accreditation":"Verification at Accreditation","Analytics & Reports":"Analytics at Ulat","Education Monitoring":"Monitoring ng Edukasyon","Academic Performance":"Performance sa Akademiko","Enrollment Statistics":"Mga Estadistika ng Enrollment","Student Progress":"Progreso ng Estudyante",Analytics:"Analytics","User Management":"Pamahalaan ng User","Audit Logs":"Mga Log ng Audit",Security:"Seguridad","Document Security":"Seguridad ng Dokumento","Threat Monitoring":"Monitoring ng Banta",Quarantine:"Quarantine","Security Settings":"Mga Setting ng Seguridad","Archived Data":"Na-archive na Data",Applications:"Mga Application",Programs:"Mga Programa",Scholarship:"Scholarship"}};class cH{constructor(){this.currentLanguage=localStorage.getItem("language")||"en",this.translations=f2||nm,this.listeners=[],console.log("TranslationService initialized:",{currentLanguage:this.currentLanguage,hasTranslations:!!this.translations,translationKeys:this.translations?Object.keys(this.translations):[]})}t(r,a={}){try{if(this.ensureTranslationsLoaded(),!this.translations||!this.translations[this.currentLanguage])return console.warn("Translations not loaded, using key as fallback:",r),r;const s=this.translations[this.currentLanguage][r]||r;return typeof s=="string"?s.replace(/\{(\w+)\}/g,(n,i)=>a[i]||n):s}catch(s){return console.error("Translation error:",s,"Key:",r),r}}setLanguage(r){this.currentLanguage=r,localStorage.setItem("language",r),document.documentElement.lang=r,this.listeners.forEach(a=>a(r)),window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:r}}))}getCurrentLanguage(){return this.currentLanguage}getAvailableLanguages(){return[{code:"en",name:"English",nativeName:"English"},{code:"fil",name:"Filipino",nativeName:"Filipino"}]}hasTranslation(r){return this.ensureTranslationsLoaded(),this.translations[this.currentLanguage]?.hasOwnProperty(r)||!1}getAllTranslations(){return this.ensureTranslationsLoaded(),this.translations[this.currentLanguage]||{}}getStatus(){return{currentLanguage:this.currentLanguage,hasTranslations:!!this.translations,translationCount:this.translations?Object.keys(this.translations).length:0,currentLanguageTranslations:this.translations?.[this.currentLanguage]?Object.keys(this.translations[this.currentLanguage]).length:0,isUsingFallback:this.translations===nm}}ensureTranslationsLoaded(){(!this.translations||Object.keys(this.translations).length===0)&&(console.warn("Translations not loaded, attempting to reload..."),this.translations=f2||nm)}reloadTranslations(){try{Oa(async()=>{const{globalTranslations:r}=await Promise.resolve().then(()=>lH);return{globalTranslations:r}},[]).then(({globalTranslations:r})=>{this.translations=r||nm,console.log("Translations reloaded successfully")}).catch(()=>{this.translations=nm,console.log("Using fallback translations")})}catch(r){console.error("Error reloading translations:",r),this.translations=nm}}subscribe(r){return this.listeners.push(r),()=>{this.listeners=this.listeners.filter(a=>a!==r)}}changeLanguage(r){this.setLanguage(r)}}const fd=new cH,dH=[{id:"dashboard",icon:$0,label:"Dashboard"},{id:"scholarship",icon:rn,label:"Scholarship",subItems:[{id:"scholarship-applications",label:"Applications"},{id:"scholarship-programs",label:"Programs"},{id:"scholarship-periods",label:"Academic Periods"},{id:"scholarship-ssc",label:"SSC Management"}]},{id:"sad",icon:Sp,label:"School Aid Distribution",subItems:[{id:"sad-overview",label:"Overview"},{id:"sad-disbursement-history",label:"Disbursement History"}]},{id:"studentRegistry",icon:Z0,label:"Student Registry",subItems:[{id:"studentRegistry-overview",label:"Overview"},{id:"studentRegistry-directory",label:"Student Directory"},{id:"studentRegistry-tools",label:"Import/Export"}]},{id:"psd",icon:Nz,label:"Partner School Database",subItems:[{id:"psd-school-management",label:"School Management"},{id:"psd-student-population",label:"Student Population"},{id:"psd-guidelines",label:"Guidelines"},{id:"psd-applications",label:"Applications"},{id:"psd-analytics",label:"Analytics & Reports"}]},{id:"emr",icon:eg,label:"Education Monitoring",subItems:[{id:"emr-overview",label:"Overview"},{id:"emr-academic-performance",label:"Academic Performance"},{id:"emr-enrollment-statistics",label:"Enrollment Statistics"},{id:"emr-analytics",label:"Analytics"}]},{id:"user-management",icon:Wr,label:"User Management"},{id:"audit-logs",icon:Ns,label:"Audit Logs"},{id:"security",icon:ey,label:"Security"},{id:"settings",icon:rl,label:"Settings"},{id:"archived",icon:kp,label:"Archived Data"}],vD=(t,r,a=null)=>{if(!a)try{fd.ensureTranslationsLoaded(),a=fd.t.bind(fd);const s=fd.getStatus();console.log("Sidebar translation status:",s)}catch(s){console.error("Translation service error:",s),a=n=>n}return t==="ssc"||String(t).startsWith("ssc_")?[{id:"dashboard",icon:$0,label:a("Dashboard")},{id:"scholarship",icon:rn,label:a("Scholarship"),subItems:[{id:"scholarship-ssc",label:a("SSC Management")}]},{id:"settings",icon:rl,label:a("Settings")}]:t==="staff"?r?r==="interviewer"?[{id:"dashboard",icon:$0,label:a("Dashboard")},{id:"interviews",icon:Z0,label:a("My Interviews"),subItems:[{id:"interviews-pending",label:a("Pending Interviews")},{id:"interviews-completed",label:a("Completed")},{id:"interviews-all",label:a("All Interviews")}]},{id:"settings",icon:rl,label:a("Settings")}]:r==="reviewer"?[{id:"dashboard",icon:$0,label:a("Dashboard")},{id:"scholarship",icon:rn,label:a("Scholarship"),subItems:[{id:"scholarship-applications",label:a("Applications")}]},{id:"settings",icon:rl,label:a("Settings")}]:r==="coordinator"?[{id:"dashboard",icon:$0,label:a("Dashboard")},{id:"scholarship",icon:rn,label:a("Scholarship"),subItems:[{id:"scholarship-applications",label:a("Applications")},{id:"scholarship-programs",label:a("Programs")}]},{id:"studentRegistry",icon:Z0,label:a("Student Registry"),subItems:[{id:"studentRegistry-overview",label:a("Overview")},{id:"studentRegistry-directory",label:a("Student Directory")}]},{id:"settings",icon:rl,label:a("Settings")}]:[{id:"dashboard",icon:$0,label:a("Dashboard")},{id:"settings",icon:rl,label:a("Settings")}]:[{id:"access-denied",icon:Ns,label:a("Access Denied")}]:t==="admin"?dH.map(s=>({...s,label:a(s.label),subItems:s.subItems?s.subItems.map(n=>({...n,label:a(n.label)})):void 0})):[{id:"access-denied",icon:Ns,label:a("Access Denied")}]},vk=b.createContext({});function wk(t){const r=b.useRef(null);return r.current===null&&(r.current=t()),r.current}const jk=typeof window<"u",wD=jk?b.useLayoutEffect:b.useEffect,Ob=b.createContext(null);function Nk(t,r){t.indexOf(r)===-1&&t.push(r)}function kk(t,r){const a=t.indexOf(r);a>-1&&t.splice(a,1)}const Ed=(t,r,a)=>a>r?r:a<t?t:a;let Sk=()=>{};const Td={},jD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ND(t){return typeof t=="object"&&t!==null}const kD=t=>/^0[^.\s]+$/u.test(t);function _k(t){let r;return()=>(r===void 0&&(r=t()),r)}const il=t=>t,uH=(t,r)=>a=>r(t(a)),ag=(...t)=>t.reduce(uH),Ap=(t,r,a)=>{const s=r-t;return s===0?1:(a-t)/s};class Ak{constructor(){this.subscriptions=[]}add(r){return Nk(this.subscriptions,r),()=>kk(this.subscriptions,r)}notify(r,a,s){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](r,a,s);else for(let i=0;i<n;i++){const o=this.subscriptions[i];o&&o(r,a,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kc=t=>t*1e3,al=t=>t/1e3;function SD(t,r){return r?t*(1e3/r):0}const _D=(t,r,a)=>(((1-3*a+3*r)*t+(3*a-6*r))*t+3*r)*t,hH=1e-7,mH=12;function fH(t,r,a,s,n){let i,o,l=0;do o=r+(a-r)/2,i=_D(o,s,n)-t,i>0?a=o:r=o;while(Math.abs(i)>hH&&++l<mH);return o}function sg(t,r,a,s){if(t===r&&a===s)return il;const n=i=>fH(i,0,1,t,a);return i=>i===0||i===1?i:_D(n(i),r,s)}const AD=t=>r=>r<=.5?t(2*r)/2:(2-t(2*(1-r)))/2,CD=t=>r=>1-t(1-r),PD=sg(.33,1.53,.69,.99),Ck=CD(PD),ED=AD(Ck),TD=t=>(t*=2)<1?.5*Ck(t):.5*(2-Math.pow(2,-10*(t-1))),Pk=t=>1-Math.sin(Math.acos(t)),DD=CD(Pk),ID=AD(Pk),pH=sg(.42,0,1,1),gH=sg(0,0,.58,1),OD=sg(.42,0,.58,1),xH=t=>Array.isArray(t)&&typeof t[0]!="number",RD=t=>Array.isArray(t)&&typeof t[0]=="number",yH={linear:il,easeIn:pH,easeInOut:OD,easeOut:gH,circIn:Pk,circInOut:ID,circOut:DD,backIn:Ck,backInOut:ED,backOut:PD,anticipate:TD},bH=t=>typeof t=="string",h3=t=>{if(RD(t)){Sk(t.length===4);const[r,a,s,n]=t;return sg(r,a,s,n)}else if(bH(t))return yH[t];return t},bx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vH(t,r){let a=new Set,s=new Set,n=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),t()),u(l)}const d={schedule:(u,f=!1,p=!1)=>{const x=p&&n?a:s;return f&&o.add(u),x.has(u)||x.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(l=u,n){i=!0;return}n=!0,[a,s]=[s,a],a.forEach(c),a.clear(),n=!1,i&&(i=!1,d.process(u))}};return d}const wH=40;function LD(t,r){let a=!1,s=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>a=!0,o=bx.reduce((S,N)=>(S[N]=vH(i),S),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:f,preRender:p,render:g,postRender:x}=o,v=()=>{const S=Td.useManualTiming?n.timestamp:performance.now();a=!1,Td.useManualTiming||(n.delta=s?1e3/60:Math.max(Math.min(S-n.timestamp,wH),1)),n.timestamp=S,n.isProcessing=!0,l.process(n),c.process(n),d.process(n),u.process(n),f.process(n),p.process(n),g.process(n),x.process(n),n.isProcessing=!1,a&&r&&(s=!1,t(v))},w=()=>{a=!0,s=!0,n.isProcessing||t(v)};return{schedule:bx.reduce((S,N)=>{const C=o[N];return S[N]=(D,U=!1,z=!1)=>(a||w(),C.schedule(D,U,z)),S},{}),cancel:S=>{for(let N=0;N<bx.length;N++)o[bx[N]].cancel(S)},state:n,steps:o}}const{schedule:Ka,cancel:Vu,state:En,steps:Aw}=LD(typeof requestAnimationFrame<"u"?requestAnimationFrame:il,!0);let ny;function jH(){ny=void 0}const Bi={now:()=>(ny===void 0&&Bi.set(En.isProcessing||Td.useManualTiming?En.timestamp:performance.now()),ny),set:t=>{ny=t,queueMicrotask(jH)}},MD=t=>r=>typeof r=="string"&&r.startsWith(t),Ek=MD("--"),NH=MD("var(--"),Tk=t=>NH(t)?kH.test(t.split("/*")[0].trim()):!1,kH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cp={...Wm,transform:t=>Ed(0,1,t)},vx={...Wm,default:1},op=t=>Math.round(t*1e5)/1e5,Dk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SH(t){return t==null}const _H=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ik=(t,r)=>a=>!!(typeof a=="string"&&_H.test(a)&&a.startsWith(t)||r&&!SH(a)&&Object.prototype.hasOwnProperty.call(a,r)),FD=(t,r,a)=>s=>{if(typeof s!="string")return s;const[n,i,o,l]=s.match(Dk);return{[t]:parseFloat(n),[r]:parseFloat(i),[a]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},AH=t=>Ed(0,255,t),Cw={...Wm,transform:t=>Math.round(AH(t))},z0={test:Ik("rgb","red"),parse:FD("red","green","blue"),transform:({red:t,green:r,blue:a,alpha:s=1})=>"rgba("+Cw.transform(t)+", "+Cw.transform(r)+", "+Cw.transform(a)+", "+op(Cp.transform(s))+")"};function CH(t){let r="",a="",s="",n="";return t.length>5?(r=t.substring(1,3),a=t.substring(3,5),s=t.substring(5,7),n=t.substring(7,9)):(r=t.substring(1,2),a=t.substring(2,3),s=t.substring(3,4),n=t.substring(4,5),r+=r,a+=a,s+=s,n+=n),{red:parseInt(r,16),green:parseInt(a,16),blue:parseInt(s,16),alpha:n?parseInt(n,16)/255:1}}const p2={test:Ik("#"),parse:CH,transform:z0.transform},ng=t=>({test:r=>typeof r=="string"&&r.endsWith(t)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${t}`}),Tu=ng("deg"),Sc=ng("%"),Sr=ng("px"),PH=ng("vh"),EH=ng("vw"),m3={...Sc,parse:t=>Sc.parse(t)/100,transform:t=>Sc.transform(t*100)},fm={test:Ik("hsl","hue"),parse:FD("hue","saturation","lightness"),transform:({hue:t,saturation:r,lightness:a,alpha:s=1})=>"hsla("+Math.round(t)+", "+Sc.transform(op(r))+", "+Sc.transform(op(a))+", "+op(Cp.transform(s))+")"},Vs={test:t=>z0.test(t)||p2.test(t)||fm.test(t),parse:t=>z0.test(t)?z0.parse(t):fm.test(t)?fm.parse(t):p2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?z0.transform(t):fm.transform(t),getAnimatableNone:t=>{const r=Vs.parse(t);return r.alpha=0,Vs.transform(r)}},TH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DH(t){return isNaN(t)&&typeof t=="string"&&(t.match(Dk)?.length||0)+(t.match(TH)?.length||0)>0}const $D="number",BD="color",IH="var",OH="var(",f3="${}",RH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pp(t){const r=t.toString(),a=[],s={color:[],number:[],var:[]},n=[];let i=0;const l=r.replace(RH,c=>(Vs.test(c)?(s.color.push(i),n.push(BD),a.push(Vs.parse(c))):c.startsWith(OH)?(s.var.push(i),n.push(IH),a.push(c)):(s.number.push(i),n.push($D),a.push(parseFloat(c))),++i,f3)).split(f3);return{values:a,split:l,indexes:s,types:n}}function UD(t){return Pp(t).values}function zD(t){const{split:r,types:a}=Pp(t),s=r.length;return n=>{let i="";for(let o=0;o<s;o++)if(i+=r[o],n[o]!==void 0){const l=a[o];l===$D?i+=op(n[o]):l===BD?i+=Vs.transform(n[o]):i+=n[o]}return i}}const LH=t=>typeof t=="number"?0:Vs.test(t)?Vs.getAnimatableNone(t):t;function MH(t){const r=UD(t);return zD(t)(r.map(LH))}const Hu={test:DH,parse:UD,createTransformer:zD,getAnimatableNone:MH};function Pw(t,r,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(r-t)*6*a:a<1/2?r:a<2/3?t+(r-t)*(2/3-a)*6:t}function FH({hue:t,saturation:r,lightness:a,alpha:s}){t/=360,r/=100,a/=100;let n=0,i=0,o=0;if(!r)n=i=o=a;else{const l=a<.5?a*(1+r):a+r-a*r,c=2*a-l;n=Pw(c,l,t+1/3),i=Pw(c,l,t),o=Pw(c,l,t-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Cy(t,r){return a=>a>0?r:t}const cs=(t,r,a)=>t+(r-t)*a,Ew=(t,r,a)=>{const s=t*t,n=a*(r*r-s)+s;return n<0?0:Math.sqrt(n)},$H=[p2,z0,fm],BH=t=>$H.find(r=>r.test(t));function p3(t){const r=BH(t);if(!r)return!1;let a=r.parse(t);return r===fm&&(a=FH(a)),a}const g3=(t,r)=>{const a=p3(t),s=p3(r);if(!a||!s)return Cy(t,r);const n={...a};return i=>(n.red=Ew(a.red,s.red,i),n.green=Ew(a.green,s.green,i),n.blue=Ew(a.blue,s.blue,i),n.alpha=cs(a.alpha,s.alpha,i),z0.transform(n))},g2=new Set(["none","hidden"]);function UH(t,r){return g2.has(t)?a=>a<=0?t:r:a=>a>=1?r:t}function zH(t,r){return a=>cs(t,r,a)}function Ok(t){return typeof t=="number"?zH:typeof t=="string"?Tk(t)?Cy:Vs.test(t)?g3:HH:Array.isArray(t)?qD:typeof t=="object"?Vs.test(t)?g3:qH:Cy}function qD(t,r){const a=[...t],s=a.length,n=t.map((i,o)=>Ok(i)(i,r[o]));return i=>{for(let o=0;o<s;o++)a[o]=n[o](i);return a}}function qH(t,r){const a={...t,...r},s={};for(const n in a)t[n]!==void 0&&r[n]!==void 0&&(s[n]=Ok(t[n])(t[n],r[n]));return n=>{for(const i in s)a[i]=s[i](n);return a}}function VH(t,r){const a=[],s={color:0,var:0,number:0};for(let n=0;n<r.values.length;n++){const i=r.types[n],o=t.indexes[i][s[i]],l=t.values[o]??0;a[n]=l,s[i]++}return a}const HH=(t,r)=>{const a=Hu.createTransformer(r),s=Pp(t),n=Pp(r);return s.indexes.var.length===n.indexes.var.length&&s.indexes.color.length===n.indexes.color.length&&s.indexes.number.length>=n.indexes.number.length?g2.has(t)&&!n.values.length||g2.has(r)&&!s.values.length?UH(t,r):ag(qD(VH(s,n),n.values),a):Cy(t,r)};function VD(t,r,a){return typeof t=="number"&&typeof r=="number"&&typeof a=="number"?cs(t,r,a):Ok(t)(t,r)}const WH=t=>{const r=({timestamp:a})=>t(a);return{start:(a=!0)=>Ka.update(r,a),stop:()=>Vu(r),now:()=>En.isProcessing?En.timestamp:Bi.now()}},HD=(t,r,a=10)=>{let s="";const n=Math.max(Math.round(r/a),2);for(let i=0;i<n;i++)s+=Math.round(t(i/(n-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Py=2e4;function Rk(t){let r=0;const a=50;let s=t.next(r);for(;!s.done&&r<Py;)r+=a,s=t.next(r);return r>=Py?1/0:r}function GH(t,r=100,a){const s=a({...t,keyframes:[0,r]}),n=Math.min(Rk(s),Py);return{type:"keyframes",ease:i=>s.next(n*i).value/r,duration:al(n)}}const YH=5;function WD(t,r,a){const s=Math.max(r-YH,0);return SD(a-t(s),r-s)}const js={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tw=.001;function KH({duration:t=js.duration,bounce:r=js.bounce,velocity:a=js.velocity,mass:s=js.mass}){let n,i,o=1-r;o=Ed(js.minDamping,js.maxDamping,o),t=Ed(js.minDuration,js.maxDuration,al(t)),o<1?(n=d=>{const u=d*o,f=u*t,p=u-a,g=x2(d,o),x=Math.exp(-f);return Tw-p/g*x},i=d=>{const f=d*o*t,p=f*a+a,g=Math.pow(o,2)*Math.pow(d,2)*t,x=Math.exp(-f),v=x2(Math.pow(d,2),o);return(-n(d)+Tw>0?-1:1)*((p-g)*x)/v}):(n=d=>{const u=Math.exp(-d*t),f=(d-a)*t+1;return-Tw+u*f},i=d=>{const u=Math.exp(-d*t),f=(a-d)*(t*t);return u*f});const l=5/t,c=XH(n,i,l);if(t=kc(t),isNaN(c))return{stiffness:js.stiffness,damping:js.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const JH=12;function XH(t,r,a){let s=a;for(let n=1;n<JH;n++)s=s-t(s)/r(s);return s}function x2(t,r){return t*Math.sqrt(1-r*r)}const ZH=["duration","bounce"],QH=["stiffness","damping","mass"];function x3(t,r){return r.some(a=>t[a]!==void 0)}function eW(t){let r={velocity:js.velocity,stiffness:js.stiffness,damping:js.damping,mass:js.mass,isResolvedFromDuration:!1,...t};if(!x3(t,QH)&&x3(t,ZH))if(t.visualDuration){const a=t.visualDuration,s=2*Math.PI/(a*1.2),n=s*s,i=2*Ed(.05,1,1-(t.bounce||0))*Math.sqrt(n);r={...r,mass:js.mass,stiffness:n,damping:i}}else{const a=KH(t);r={...r,...a,mass:js.mass},r.isResolvedFromDuration=!0}return r}function Ey(t=js.visualDuration,r=js.bounce){const a=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:r}:t;let{restSpeed:s,restDelta:n}=a;const i=a.keyframes[0],o=a.keyframes[a.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:f,velocity:p,isResolvedFromDuration:g}=eW({...a,velocity:-al(a.velocity||0)}),x=p||0,v=d/(2*Math.sqrt(c*u)),w=o-i,j=al(Math.sqrt(c/u)),_=Math.abs(w)<5;s||(s=_?js.restSpeed.granular:js.restSpeed.default),n||(n=_?js.restDelta.granular:js.restDelta.default);let S;if(v<1){const C=x2(j,v);S=D=>{const U=Math.exp(-v*j*D);return o-U*((x+v*j*w)/C*Math.sin(C*D)+w*Math.cos(C*D))}}else if(v===1)S=C=>o-Math.exp(-j*C)*(w+(x+j*w)*C);else{const C=j*Math.sqrt(v*v-1);S=D=>{const U=Math.exp(-v*j*D),z=Math.min(C*D,300);return o-U*((x+v*j*w)*Math.sinh(z)+C*w*Math.cosh(z))/C}}const N={calculatedDuration:g&&f||null,next:C=>{const D=S(C);if(g)l.done=C>=f;else{let U=C===0?x:0;v<1&&(U=C===0?kc(x):WD(S,C,D));const z=Math.abs(U)<=s,E=Math.abs(o-D)<=n;l.done=z&&E}return l.value=l.done?o:D,l},toString:()=>{const C=Math.min(Rk(N),Py),D=HD(U=>N.next(C*U).value,C,30);return C+"ms "+D},toTransition:()=>{}};return N}Ey.applyToOptions=t=>{const r=GH(t,100,Ey);return t.ease=r.ease,t.duration=kc(r.duration),t.type="keyframes",t};function y2({keyframes:t,velocity:r=0,power:a=.8,timeConstant:s=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const f=t[0],p={done:!1,value:f},g=z=>l!==void 0&&z<l||c!==void 0&&z>c,x=z=>l===void 0?c:c===void 0||Math.abs(l-z)<Math.abs(c-z)?l:c;let v=a*r;const w=f+v,j=o===void 0?w:o(w);j!==w&&(v=j-f);const _=z=>-v*Math.exp(-z/s),S=z=>j+_(z),N=z=>{const E=_(z),I=S(z);p.done=Math.abs(E)<=d,p.value=p.done?j:I};let C,D;const U=z=>{g(p.value)&&(C=z,D=Ey({keyframes:[p.value,x(p.value)],velocity:WD(S,z,p.value),damping:n,stiffness:i,restDelta:d,restSpeed:u}))};return U(0),{calculatedDuration:null,next:z=>{let E=!1;return!D&&C===void 0&&(E=!0,N(z),U(z)),C!==void 0&&z>=C?D.next(z-C):(!E&&N(z),p)}}}function tW(t,r,a){const s=[],n=a||Td.mix||VD,i=t.length-1;for(let o=0;o<i;o++){let l=n(t[o],t[o+1]);if(r){const c=Array.isArray(r)?r[o]||il:r;l=ag(c,l)}s.push(l)}return s}function rW(t,r,{clamp:a=!0,ease:s,mixer:n}={}){const i=t.length;if(Sk(i===r.length),i===1)return()=>r[0];if(i===2&&r[0]===r[1])return()=>r[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),r=[...r].reverse());const l=tW(r,s,n),c=l.length,d=u=>{if(o&&u<t[0])return r[0];let f=0;if(c>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const p=Ap(t[f],t[f+1],u);return l[f](p)};return a?u=>d(Ed(t[0],t[i-1],u)):d}function aW(t,r){const a=t[t.length-1];for(let s=1;s<=r;s++){const n=Ap(0,r,s);t.push(cs(a,1,n))}}function sW(t){const r=[0];return aW(r,t.length-1),r}function nW(t,r){return t.map(a=>a*r)}function iW(t,r){return t.map(()=>r||OD).splice(0,t.length-1)}function lp({duration:t=300,keyframes:r,times:a,ease:s="easeInOut"}){const n=xH(s)?s.map(h3):h3(s),i={done:!1,value:r[0]},o=nW(a&&a.length===r.length?a:sW(r),t),l=rW(o,r,{ease:Array.isArray(n)?n:iW(r,n)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const oW=t=>t!==null;function Lk(t,{repeat:r,repeatType:a="loop"},s,n=1){const i=t.filter(oW),l=n<0||r&&a!=="loop"&&r%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const lW={decay:y2,inertia:y2,tween:lp,keyframes:lp,spring:Ey};function GD(t){typeof t.type=="string"&&(t.type=lW[t.type])}class Mk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(r=>{this.resolve=r})}notifyFinished(){this.resolve()}then(r,a){return this.finished.then(r,a)}}const cW=t=>t/100;class Fk extends Mk{constructor(r){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==Bi.now()&&this.tick(Bi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=r,this.initAnimation(),this.play(),r.autoplay===!1&&this.pause()}initAnimation(){const{options:r}=this;GD(r);const{type:a=lp,repeat:s=0,repeatDelay:n=0,repeatType:i,velocity:o=0}=r;let{keyframes:l}=r;const c=a||lp;c!==lp&&typeof l[0]!="number"&&(this.mixKeyframes=ag(cW,VD(l[0],l[1])),l=[0,100]);const d=c({...r,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...r,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Rk(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+n,this.totalDuration=this.resolvedDuration*(s+1)-n,this.generator=d}updateTime(r){const a=Math.round(r-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(r,a=!1){const{generator:s,totalDuration:n,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:f,repeatType:p,repeatDelay:g,type:x,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-n/this.speed,this.startTime)),a?this.currentTime=r:this.updateTime(r);const j=this.currentTime-d*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?j<0:j>n;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let S=this.currentTime,N=s;if(f){const z=Math.min(this.currentTime,n)/l;let E=Math.floor(z),I=z%1;!I&&z>=1&&(I=1),I===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(p==="reverse"?(I=1-I,g&&(I-=g/l)):p==="mirror"&&(N=o)),S=Ed(0,1,I)*l}const C=_?{done:!1,value:u[0]}:N.next(S);i&&(C.value=i(C.value));let{done:D}=C;!_&&c!==null&&(D=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return U&&x!==y2&&(C.value=Lk(u,this.options,w,this.speed)),v&&v(C.value),U&&this.finish(),C}then(r,a){return this.finished.then(r,a)}get duration(){return al(this.calculatedDuration)}get iterationDuration(){const{delay:r=0}=this.options||{};return this.duration+al(r)}get time(){return al(this.currentTime)}set time(r){r=kc(r),this.currentTime=r,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(r){this.updateTime(Bi.now());const a=this.playbackSpeed!==r;this.playbackSpeed=r,a&&(this.time=al(this.currentTime))}play(){if(this.isStopped)return;const{driver:r=WH,startTime:a}=this.options;this.driver||(this.driver=r(n=>this.tick(n))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=a??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}attachTimeline(r){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),r.observe(this)}}function dW(t){for(let r=1;r<t.length;r++)t[r]??(t[r]=t[r-1])}const q0=t=>t*180/Math.PI,b2=t=>{const r=q0(Math.atan2(t[1],t[0]));return v2(r)},uW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:b2,rotateZ:b2,skewX:t=>q0(Math.atan(t[1])),skewY:t=>q0(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},v2=t=>(t=t%360,t<0&&(t+=360),t),y3=b2,b3=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),v3=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),hW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:b3,scaleY:v3,scale:t=>(b3(t)+v3(t))/2,rotateX:t=>v2(q0(Math.atan2(t[6],t[5]))),rotateY:t=>v2(q0(Math.atan2(-t[2],t[0]))),rotateZ:y3,rotate:y3,skewX:t=>q0(Math.atan(t[4])),skewY:t=>q0(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function w2(t){return t.includes("scale")?1:0}function j2(t,r){if(!t||t==="none")return w2(r);const a=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,n;if(a)s=hW,n=a;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=uW,n=l}if(!n)return w2(r);const i=s[r],o=n[1].split(",").map(fW);return typeof i=="function"?i(o):o[i]}const mW=(t,r)=>{const{transform:a="none"}=getComputedStyle(t);return j2(a,r)};function fW(t){return parseFloat(t.trim())}const Gm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ym=new Set(Gm),w3=t=>t===Wm||t===Sr,pW=new Set(["x","y","z"]),gW=Gm.filter(t=>!pW.has(t));function xW(t){const r=[];return gW.forEach(a=>{const s=t.getValue(a);s!==void 0&&(r.push([a,s.get()]),s.set(a.startsWith("scale")?1:0))}),r}const eh={width:({x:t},{paddingLeft:r="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(r)-parseFloat(a),height:({y:t},{paddingTop:r="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(r)-parseFloat(a),top:(t,{top:r})=>parseFloat(r),left:(t,{left:r})=>parseFloat(r),bottom:({y:t},{top:r})=>parseFloat(r)+(t.max-t.min),right:({x:t},{left:r})=>parseFloat(r)+(t.max-t.min),x:(t,{transform:r})=>j2(r,"x"),y:(t,{transform:r})=>j2(r,"y")};eh.translateX=eh.x;eh.translateY=eh.y;const th=new Set;let N2=!1,k2=!1,S2=!1;function YD(){if(k2){const t=Array.from(th).filter(s=>s.needsMeasurement),r=new Set(t.map(s=>s.element)),a=new Map;r.forEach(s=>{const n=xW(s);n.length&&(a.set(s,n),s.render())}),t.forEach(s=>s.measureInitialState()),r.forEach(s=>{s.render();const n=a.get(s);n&&n.forEach(([i,o])=>{s.getValue(i)?.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}k2=!1,N2=!1,th.forEach(t=>t.complete(S2)),th.clear()}function KD(){th.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(k2=!0)})}function yW(){S2=!0,KD(),YD(),S2=!1}class $k{constructor(r,a,s,n,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...r],this.onComplete=a,this.name=s,this.motionValue=n,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(th.add(this),N2||(N2=!0,Ka.read(KD),Ka.resolveKeyframes(YD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:a,element:s,motionValue:n}=this;if(r[0]===null){const i=n?.get(),o=r[r.length-1];if(i!==void 0)r[0]=i;else if(s&&a){const l=s.readValue(a,o);l!=null&&(r[0]=l)}r[0]===void 0&&(r[0]=o),n&&i===void 0&&n.set(r[0])}dW(r)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(r=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,r),th.delete(this)}cancel(){this.state==="scheduled"&&(th.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bW=t=>t.startsWith("--");function vW(t,r,a){bW(r)?t.style.setProperty(r,a):t.style[r]=a}const wW=_k(()=>window.ScrollTimeline!==void 0),jW={};function NW(t,r){const a=_k(t);return()=>jW[r]??a()}const JD=NW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ep=([t,r,a,s])=>`cubic-bezier(${t}, ${r}, ${a}, ${s})`,j3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ep([0,.65,.55,1]),circOut:ep([.55,0,1,.45]),backIn:ep([.31,.01,.66,-.59]),backOut:ep([.33,1.53,.69,.99])};function XD(t,r){if(t)return typeof t=="function"?JD()?HD(t,r):"ease-out":RD(t)?ep(t):Array.isArray(t)?t.map(a=>XD(a,r)||j3.easeOut):j3[t]}function kW(t,r,a,{delay:s=0,duration:n=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[r]:a};c&&(u.offset=c);const f=XD(l,n);Array.isArray(f)&&(u.easing=f);const p={delay:s,duration:n,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(u,p)}function ZD(t){return typeof t=="function"&&"applyToOptions"in t}function SW({type:t,...r}){return ZD(t)&&JD()?t.applyToOptions(r):(r.duration??(r.duration=300),r.ease??(r.ease="easeOut"),r)}class _W extends Mk{constructor(r){if(super(),this.finishedTime=null,this.isStopped=!1,!r)return;const{element:a,name:s,keyframes:n,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=r;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=r,Sk(typeof r.type!="string");const d=SW(r);this.animation=kW(a,s,n,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Lk(n,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):vW(a,s,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:r}=this;r==="idle"||r==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const r=this.animation.effect?.getComputedTiming?.().duration||0;return al(Number(r))}get iterationDuration(){const{delay:r=0}=this.options||{};return this.duration+al(r)}get time(){return al(Number(this.animation.currentTime)||0)}set time(r){this.finishedTime=null,this.animation.currentTime=kc(r)}get speed(){return this.animation.playbackRate}set speed(r){r<0&&(this.finishedTime=null),this.animation.playbackRate=r}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(r){this.animation.startTime=r}attachTimeline({timeline:r,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,r&&wW()?(this.animation.timeline=r,il):a(this)}}const QD={anticipate:TD,backInOut:ED,circInOut:ID};function AW(t){return t in QD}function CW(t){typeof t.ease=="string"&&AW(t.ease)&&(t.ease=QD[t.ease])}const N3=10;class PW extends _W{constructor(r){CW(r),GD(r),super(r),r.startTime&&(this.startTime=r.startTime),this.options=r}updateMotionValue(r){const{motionValue:a,onUpdate:s,onComplete:n,element:i,...o}=this.options;if(!a)return;if(r!==void 0){a.set(r);return}const l=new Fk({...o,autoplay:!1}),c=kc(this.finishedTime??this.time);a.setWithVelocity(l.sample(c-N3).value,l.sample(c).value,N3),l.stop()}}const k3=(t,r)=>r==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hu.test(t)||t==="0")&&!t.startsWith("url("));function EW(t){const r=t[0];if(t.length===1)return!0;for(let a=0;a<t.length;a++)if(t[a]!==r)return!0}function TW(t,r,a,s){const n=t[0];if(n===null)return!1;if(r==="display"||r==="visibility")return!0;const i=t[t.length-1],o=k3(n,r),l=k3(i,r);return!o||!l?!1:EW(t)||(a==="spring"||ZD(a))&&s}function _2(t){t.duration=0,t.type="keyframes"}const DW=new Set(["opacity","clipPath","filter","transform"]),IW=_k(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OW(t){const{motionValue:r,name:a,repeatDelay:s,repeatType:n,damping:i,type:o}=t;if(!(r?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=r.owner.getProps();return IW()&&a&&DW.has(a)&&(a!=="transform"||!d)&&!c&&!s&&n!=="mirror"&&i!==0&&o!=="inertia"}const RW=40;class LW extends Mk{constructor({autoplay:r=!0,delay:a=0,type:s="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Bi.now();const p={autoplay:r,delay:a,type:s,repeat:n,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...f},g=u?.KeyframeResolver||$k;this.keyframeResolver=new g(l,(x,v,w)=>this.onKeyframesResolved(x,v,p,!w),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(r,a,s,n){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=Bi.now(),TW(r,i,o,l)||((Td.instantAnimations||!c)&&u?.(Lk(r,s,a)),r[0]=r[r.length-1],_2(s),s.repeat=0);const p={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>RW?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...s,keyframes:r},g=!d&&OW(p)?new PW({...p,element:p.motionValue.owner.current}):new Fk(p);g.finished.then(()=>this.notifyFinished()).catch(il),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(r,a){return this.finished.finally(r).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),yW()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(r){this.animation.time=r}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(r){this.animation.speed=r}get startTime(){return this.animation.startTime}attachTimeline(r){return this._animation?this.stopTimeline=this.animation.attachTimeline(r):this.pendingTimeline=r,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const MW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FW(t){const r=MW.exec(t);if(!r)return[,];const[,a,s,n]=r;return[`--${a??s}`,n]}function eI(t,r,a=1){const[s,n]=FW(t);if(!s)return;const i=window.getComputedStyle(r).getPropertyValue(s);if(i){const o=i.trim();return jD(o)?parseFloat(o):o}return Tk(n)?eI(n,r,a+1):n}function Bk(t,r){return t?.[r]??t?.default??t}const tI=new Set(["width","height","top","left","right","bottom",...Gm]),$W={test:t=>t==="auto",parse:t=>t},rI=t=>r=>r.test(t),aI=[Wm,Sr,Sc,Tu,EH,PH,$W],S3=t=>aI.find(rI(t));function BW(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kD(t):!0}const UW=new Set(["brightness","contrast","saturate","opacity"]);function zW(t){const[r,a]=t.slice(0,-1).split("(");if(r==="drop-shadow")return t;const[s]=a.match(Dk)||[];if(!s)return t;const n=a.replace(s,"");let i=UW.has(r)?1:0;return s!==a&&(i*=100),r+"("+i+n+")"}const qW=/\b([a-z-]*)\(.*?\)/gu,A2={...Hu,getAnimatableNone:t=>{const r=t.match(qW);return r?r.map(zW).join(" "):t}},_3={...Wm,transform:Math.round},VW={rotate:Tu,rotateX:Tu,rotateY:Tu,rotateZ:Tu,scale:vx,scaleX:vx,scaleY:vx,scaleZ:vx,skew:Tu,skewX:Tu,skewY:Tu,distance:Sr,translateX:Sr,translateY:Sr,translateZ:Sr,x:Sr,y:Sr,z:Sr,perspective:Sr,transformPerspective:Sr,opacity:Cp,originX:m3,originY:m3,originZ:Sr},Uk={borderWidth:Sr,borderTopWidth:Sr,borderRightWidth:Sr,borderBottomWidth:Sr,borderLeftWidth:Sr,borderRadius:Sr,radius:Sr,borderTopLeftRadius:Sr,borderTopRightRadius:Sr,borderBottomRightRadius:Sr,borderBottomLeftRadius:Sr,width:Sr,maxWidth:Sr,height:Sr,maxHeight:Sr,top:Sr,right:Sr,bottom:Sr,left:Sr,padding:Sr,paddingTop:Sr,paddingRight:Sr,paddingBottom:Sr,paddingLeft:Sr,margin:Sr,marginTop:Sr,marginRight:Sr,marginBottom:Sr,marginLeft:Sr,backgroundPositionX:Sr,backgroundPositionY:Sr,...VW,zIndex:_3,fillOpacity:Cp,strokeOpacity:Cp,numOctaves:_3},HW={...Uk,color:Vs,backgroundColor:Vs,outlineColor:Vs,fill:Vs,stroke:Vs,borderColor:Vs,borderTopColor:Vs,borderRightColor:Vs,borderBottomColor:Vs,borderLeftColor:Vs,filter:A2,WebkitFilter:A2},sI=t=>HW[t];function nI(t,r){let a=sI(t);return a!==A2&&(a=Hu),a.getAnimatableNone?a.getAnimatableNone(r):void 0}const WW=new Set(["auto","none","0"]);function GW(t,r,a){let s=0,n;for(;s<t.length&&!n;){const i=t[s];typeof i=="string"&&!WW.has(i)&&Pp(i).values.length&&(n=t[s]),s++}if(n&&a)for(const i of r)t[i]=nI(a,n)}class YW extends $k{constructor(r,a,s,n,i){super(r,a,s,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:a,name:s}=this;if(!a||!a.current)return;super.readKeyframes();for(let c=0;c<r.length;c++){let d=r[c];if(typeof d=="string"&&(d=d.trim(),Tk(d))){const u=eI(d,a.current);u!==void 0&&(r[c]=u),c===r.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!tI.has(s)||r.length!==2)return;const[n,i]=r,o=S3(n),l=S3(i);if(o!==l)if(w3(o)&&w3(l))for(let c=0;c<r.length;c++){const d=r[c];typeof d=="string"&&(r[c]=parseFloat(d))}else eh[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:a}=this,s=[];for(let n=0;n<r.length;n++)(r[n]===null||BW(r[n]))&&s.push(n);s.length&&GW(r,s,a)}measureInitialState(){const{element:r,unresolvedKeyframes:a,name:s}=this;if(!r||!r.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eh[s](r.measureViewportBox(),window.getComputedStyle(r.current)),a[0]=this.measuredOrigin;const n=a[a.length-1];n!==void 0&&r.getValue(s,n).jump(n,!1)}measureEndState(){const{element:r,name:a,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const n=r.getValue(a);n&&n.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=eh[a](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{r.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function KW(t,r,a){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const n=a?.[t]??s.querySelectorAll(t);return n?Array.from(n):[]}return Array.from(t)}const iI=(t,r)=>r&&typeof t=="number"?r.transform(t):t;function oI(t){return ND(t)&&"offsetHeight"in t}const A3=30,JW=t=>!isNaN(parseFloat(t));class XW{constructor(r,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const n=Bi.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(r),this.owner=a.owner}setCurrent(r){this.current=r,this.updatedAt=Bi.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=JW(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,a){this.events[r]||(this.events[r]=new Ak);const s=this.events[r].add(a);return r==="change"?()=>{s(),Ka.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,a){this.passiveEffect=r,this.stopPassiveEffect=a}set(r){this.passiveEffect?this.passiveEffect(r,this.updateAndNotify):this.updateAndNotify(r)}setWithVelocity(r,a,s){this.set(a),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-s}jump(r,a=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(r){this.dependents||(this.dependents=new Set),this.dependents.add(r)}removeDependent(r){this.dependents&&this.dependents.delete(r)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=Bi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>A3)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,A3);return SD(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(r){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=r(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pm(t,r){return new XW(t,r)}const{schedule:zk}=LD(queueMicrotask,!1),Ll={x:!1,y:!1};function lI(){return Ll.x||Ll.y}function ZW(t){return t==="x"||t==="y"?Ll[t]?null:(Ll[t]=!0,()=>{Ll[t]=!1}):Ll.x||Ll.y?null:(Ll.x=Ll.y=!0,()=>{Ll.x=Ll.y=!1})}function cI(t,r){const a=KW(t),s=new AbortController,n={passive:!0,...r,signal:s.signal};return[a,n,()=>s.abort()]}function C3(t){return!(t.pointerType==="touch"||lI())}function QW(t,r,a={}){const[s,n,i]=cI(t,a),o=l=>{if(!C3(l))return;const{target:c}=l,d=r(c,l);if(typeof d!="function"||!c)return;const u=f=>{C3(f)&&(d(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,n)};return s.forEach(l=>{l.addEventListener("pointerenter",o,n)}),i}const dI=(t,r)=>r?t===r?!0:dI(t,r.parentElement):!1,qk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,eG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tG(t){return eG.has(t.tagName)||t.tabIndex!==-1}const iy=new WeakSet;function P3(t){return r=>{r.key==="Enter"&&t(r)}}function Dw(t,r){t.dispatchEvent(new PointerEvent("pointer"+r,{isPrimary:!0,bubbles:!0}))}const rG=(t,r)=>{const a=t.currentTarget;if(!a)return;const s=P3(()=>{if(iy.has(a))return;Dw(a,"down");const n=P3(()=>{Dw(a,"up")}),i=()=>Dw(a,"cancel");a.addEventListener("keyup",n,r),a.addEventListener("blur",i,r)});a.addEventListener("keydown",s,r),a.addEventListener("blur",()=>a.removeEventListener("keydown",s),r)};function E3(t){return qk(t)&&!lI()}function aG(t,r,a={}){const[s,n,i]=cI(t,a),o=l=>{const c=l.currentTarget;if(!E3(l))return;iy.add(c);const d=r(c,l),u=(g,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),iy.has(c)&&iy.delete(c),E3(g)&&typeof d=="function"&&d(g,{success:x})},f=g=>{u(g,c===window||c===document||a.useGlobalTarget||dI(c,g.target))},p=g=>{u(g,!1)};window.addEventListener("pointerup",f,n),window.addEventListener("pointercancel",p,n)};return s.forEach(l=>{(a.useGlobalTarget?window:l).addEventListener("pointerdown",o,n),oI(l)&&(l.addEventListener("focus",d=>rG(d,n)),!tG(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function uI(t){return ND(t)&&"ownerSVGElement"in t}function sG(t){return uI(t)&&t.tagName==="svg"}const ri=t=>!!(t&&t.getVelocity),nG=[...aI,Vs,Hu],iG=t=>nG.find(rI(t)),Vk=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function T3(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function oG(...t){return r=>{let a=!1;const s=t.map(n=>{const i=T3(n,r);return!a&&typeof i=="function"&&(a=!0),i});if(a)return()=>{for(let n=0;n<s.length;n++){const i=s[n];typeof i=="function"?i():T3(t[n],null)}}}}function lG(...t){return b.useCallback(oG(...t),t)}class cG extends b.Component{getSnapshotBeforeUpdate(r){const a=this.props.childRef.current;if(a&&r.isPresent&&!this.props.isPresent){const s=a.offsetParent,n=oI(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=a.offsetHeight||0,i.width=a.offsetWidth||0,i.top=a.offsetTop,i.left=a.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dG({children:t,isPresent:r,anchorX:a,root:s}){const n=b.useId(),i=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=b.useContext(Vk),c=lG(i,t?.ref);return b.useInsertionEffect(()=>{const{width:d,height:u,top:f,left:p,right:g}=o.current;if(r||!i.current||!d||!u)return;const x=a==="left"?`left: ${p}`:`right: ${g}`;i.current.dataset.motionPopId=n;const v=document.createElement("style");l&&(v.nonce=l);const w=s??document.head;return w.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{w.contains(v)&&w.removeChild(v)}},[r]),e.jsx(cG,{isPresent:r,childRef:i,sizeRef:o,children:b.cloneElement(t,{ref:c})})}const uG=({children:t,initial:r,isPresent:a,onExitComplete:s,custom:n,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=wk(hG),u=b.useId();let f=!0,p=b.useMemo(()=>(f=!1,{id:u,initial:r,isPresent:a,custom:n,onExitComplete:g=>{d.set(g,!0);for(const x of d.values())if(!x)return;s&&s()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[a,d,s]);return i&&f&&(p={...p}),b.useMemo(()=>{d.forEach((g,x)=>d.set(x,!1))},[a]),b.useEffect(()=>{!a&&!d.size&&s&&s()},[a]),o==="popLayout"&&(t=e.jsx(dG,{isPresent:a,anchorX:l,root:c,children:t})),e.jsx(Ob.Provider,{value:p,children:t})};function hG(){return new Map}function hI(t=!0){const r=b.useContext(Ob);if(r===null)return[!0,null];const{isPresent:a,onExitComplete:s,register:n}=r,i=b.useId();b.useEffect(()=>{if(t)return n(i)},[t]);const o=b.useCallback(()=>t&&s&&s(i),[i,s,t]);return!a&&s?[!1,o]:[!0]}const wx=t=>t.key||"";function D3(t){const r=[];return b.Children.forEach(t,a=>{b.isValidElement(a)&&r.push(a)}),r}const wo=({children:t,custom:r,initial:a=!0,onExitComplete:s,presenceAffectsLayout:n=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=hI(o),f=b.useMemo(()=>D3(t),[t]),p=o&&!d?[]:f.map(wx),g=b.useRef(!0),x=b.useRef(f),v=wk(()=>new Map),[w,j]=b.useState(f),[_,S]=b.useState(f);wD(()=>{g.current=!1,x.current=f;for(let D=0;D<_.length;D++){const U=wx(_[D]);p.includes(U)?v.delete(U):v.get(U)!==!0&&v.set(U,!1)}},[_,p.length,p.join("-")]);const N=[];if(f!==w){let D=[...f];for(let U=0;U<_.length;U++){const z=_[U],E=wx(z);p.includes(E)||(D.splice(U,0,z),N.push(z))}return i==="wait"&&N.length&&(D=N),S(D3(D)),j(f),null}const{forceRender:C}=b.useContext(vk);return e.jsx(e.Fragment,{children:_.map(D=>{const U=wx(D),z=o&&!d?!1:f===_||p.includes(U),E=()=>{if(v.has(U))v.set(U,!0);else return;let I=!0;v.forEach(T=>{T||(I=!1)}),I&&(C?.(),S(x.current),o&&u?.(),s&&s())};return e.jsx(uG,{isPresent:z,initial:!g.current||a?void 0:!1,custom:r,presenceAffectsLayout:n,mode:i,root:c,onExitComplete:z?void 0:E,anchorX:l,children:D},U)})})},mI=b.createContext({strict:!1}),I3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Em={};for(const t in I3)Em[t]={isEnabled:r=>I3[t].some(a=>!!r[a])};function mG(t){for(const r in t)Em[r]={...Em[r],...t[r]}}const fG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ty(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fG.has(t)}let fI=t=>!Ty(t);function pG(t){typeof t=="function"&&(fI=r=>r.startsWith("on")?!Ty(r):t(r))}try{pG(require("@emotion/is-prop-valid").default)}catch{}function gG(t,r,a){const s={};for(const n in t)n==="values"&&typeof t.values=="object"||(fI(n)||a===!0&&Ty(n)||!r&&!Ty(n)||t.draggable&&n.startsWith("onDrag"))&&(s[n]=t[n]);return s}const Rb=b.createContext({});function Lb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ep(t){return typeof t=="string"||Array.isArray(t)}const Hk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wk=["initial",...Hk];function Mb(t){return Lb(t.animate)||Wk.some(r=>Ep(t[r]))}function pI(t){return!!(Mb(t)||t.variants)}function xG(t,r){if(Mb(t)){const{initial:a,animate:s}=t;return{initial:a===!1||Ep(a)?a:void 0,animate:Ep(s)?s:void 0}}return t.inherit!==!1?r:{}}function yG(t){const{initial:r,animate:a}=xG(t,b.useContext(Rb));return b.useMemo(()=>({initial:r,animate:a}),[O3(r),O3(a)])}function O3(t){return Array.isArray(t)?t.join(" "):t}const Tp={};function bG(t){for(const r in t)Tp[r]=t[r],Ek(r)&&(Tp[r].isCSSVariable=!0)}function gI(t,{layout:r,layoutId:a}){return Ym.has(t)||t.startsWith("origin")||(r||a!==void 0)&&(!!Tp[t]||t==="opacity")}const vG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wG=Gm.length;function jG(t,r,a){let s="",n=!0;for(let i=0;i<wG;i++){const o=Gm[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||a){const d=iI(l,Uk[o]);if(!c){n=!1;const u=vG[o]||o;s+=`${u}(${d}) `}a&&(r[o]=d)}}return s=s.trim(),a?s=a(r,n?"":s):n&&(s="none"),s}function Gk(t,r,a){const{style:s,vars:n,transformOrigin:i}=t;let o=!1,l=!1;for(const c in r){const d=r[c];if(Ym.has(c)){o=!0;continue}else if(Ek(c)){n[c]=d;continue}else{const u=iI(d,Uk[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(r.transform||(o||a?s.transform=jG(r,t.transform,a):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const Yk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xI(t,r,a){for(const s in r)!ri(r[s])&&!gI(s,a)&&(t[s]=r[s])}function NG({transformTemplate:t},r){return b.useMemo(()=>{const a=Yk();return Gk(a,r,t),Object.assign({},a.vars,a.style)},[r])}function kG(t,r){const a=t.style||{},s={};return xI(s,a,t),Object.assign(s,NG(t,r)),s}function SG(t,r){const a={},s=kG(t,r);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=s,a}const _G={offset:"stroke-dashoffset",array:"stroke-dasharray"},AG={offset:"strokeDashoffset",array:"strokeDasharray"};function CG(t,r,a=1,s=0,n=!0){t.pathLength=1;const i=n?_G:AG;t[i.offset]=Sr.transform(-s);const o=Sr.transform(r),l=Sr.transform(a);t[i.array]=`${o} ${l}`}function yI(t,{attrX:r,attrY:a,attrScale:s,pathLength:n,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(Gk(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=u?.transformBox??"fill-box",delete f.transformBox),r!==void 0&&(f.x=r),a!==void 0&&(f.y=a),s!==void 0&&(f.scale=s),n!==void 0&&CG(f,n,i,o,!1)}const bI=()=>({...Yk(),attrs:{}}),vI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PG(t,r,a,s){const n=b.useMemo(()=>{const i=bI();return yI(i,r,vI(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[r]);if(t.style){const i={};xI(i,t.style,t),n.style={...i,...n.style}}return n}const EG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kk(t){return typeof t!="string"||t.includes("-")?!1:!!(EG.indexOf(t)>-1||/[A-Z]/u.test(t))}function TG(t,r,a,{latestValues:s},n,i=!1){const l=(Kk(t)?PG:SG)(r,s,n,t),c=gG(r,typeof t=="string",i),d=t!==b.Fragment?{...c,...l,ref:a}:{},{children:u}=r,f=b.useMemo(()=>ri(u)?u.get():u,[u]);return b.createElement(t,{...d,children:f})}function R3(t){const r=[{},{}];return t?.values.forEach((a,s)=>{r[0][s]=a.get(),r[1][s]=a.getVelocity()}),r}function Jk(t,r,a,s){if(typeof r=="function"){const[n,i]=R3(s);r=r(a!==void 0?a:t.custom,n,i)}if(typeof r=="string"&&(r=t.variants&&t.variants[r]),typeof r=="function"){const[n,i]=R3(s);r=r(a!==void 0?a:t.custom,n,i)}return r}function oy(t){return ri(t)?t.get():t}function DG({scrapeMotionValuesFromProps:t,createRenderState:r},a,s,n){return{latestValues:IG(a,s,n,t),renderState:r()}}function IG(t,r,a,s){const n={},i=s(t,{});for(const p in i)n[p]=oy(i[p]);let{initial:o,animate:l}=t;const c=Mb(t),d=pI(t);r&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=r.initial),l===void 0&&(l=r.animate));let u=a?a.initial===!1:!1;u=u||o===!1;const f=u?l:o;if(f&&typeof f!="boolean"&&!Lb(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const x=Jk(t,p[g]);if(x){const{transitionEnd:v,transition:w,...j}=x;for(const _ in j){let S=j[_];if(Array.isArray(S)){const N=u?S.length-1:0;S=S[N]}S!==null&&(n[_]=S)}for(const _ in v)n[_]=v[_]}}}return n}const wI=t=>(r,a)=>{const s=b.useContext(Rb),n=b.useContext(Ob),i=()=>DG(t,r,s,n);return a?i():wk(i)};function Xk(t,r,a){const{style:s}=t,n={};for(const i in s)(ri(s[i])||r.style&&ri(r.style[i])||gI(i,t)||a?.getValue(i)?.liveStyle!==void 0)&&(n[i]=s[i]);return n}const OG=wI({scrapeMotionValuesFromProps:Xk,createRenderState:Yk});function jI(t,r,a){const s=Xk(t,r,a);for(const n in t)if(ri(t[n])||ri(r[n])){const i=Gm.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[i]=t[n]}return s}const RG=wI({scrapeMotionValuesFromProps:jI,createRenderState:bI}),LG=Symbol.for("motionComponentSymbol");function pm(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function MG(t,r,a){return b.useCallback(s=>{s&&t.onMount&&t.onMount(s),r&&(s?r.mount(s):r.unmount()),a&&(typeof a=="function"?a(s):pm(a)&&(a.current=s))},[r])}const Zk=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FG="framerAppearId",NI="data-"+Zk(FG),kI=b.createContext({});function $G(t,r,a,s,n){const{visualElement:i}=b.useContext(Rb),o=b.useContext(mI),l=b.useContext(Ob),c=b.useContext(Vk).reducedMotion,d=b.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(t,{visualState:r,parent:i,props:a,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,f=b.useContext(kI);u&&!u.projection&&n&&(u.type==="html"||u.type==="svg")&&BG(d.current,a,n,f);const p=b.useRef(!1);b.useInsertionEffect(()=>{u&&p.current&&u.update(a,l)});const g=a[NI],x=b.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return wD(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),x.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),x.current=!1),u.enteringChildren=void 0)}),u}function BG(t,r,a,s){const{layoutId:n,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=r;t.projection=new a(t.latestValues,r["data-framer-portal-id"]?void 0:SI(t.parent)),t.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!o||l&&pm(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function SI(t){if(t)return t.options.allowProjection!==!1?t.projection:SI(t.parent)}function Iw(t,{forwardMotionProps:r=!1}={},a,s){a&&mG(a);const n=Kk(t)?RG:OG;function i(l,c){let d;const u={...b.useContext(Vk),...l,layoutId:UG(l)},{isStatic:f}=u,p=yG(l),g=n(l,f);if(!f&&jk){zG();const x=qG(u);d=x.MeasureLayout,p.visualElement=$G(t,g,u,s,x.ProjectionNode)}return e.jsxs(Rb.Provider,{value:p,children:[d&&p.visualElement?e.jsx(d,{visualElement:p.visualElement,...u}):null,TG(t,l,MG(g,p.visualElement,c),g,f,r)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=b.forwardRef(i);return o[LG]=t,o}function UG({layoutId:t}){const r=b.useContext(vk).id;return r&&t!==void 0?r+"-"+t:t}function zG(t,r){b.useContext(mI).strict}function qG(t){const{drag:r,layout:a}=Em;if(!r&&!a)return{};const s={...r,...a};return{MeasureLayout:r?.isEnabled(t)||a?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function VG(t,r){if(typeof Proxy>"u")return Iw;const a=new Map,s=(i,o)=>Iw(i,o,t,r),n=(i,o)=>s(i,o);return new Proxy(n,{get:(i,o)=>o==="create"?s:(a.has(o)||a.set(o,Iw(o,void 0,t,r)),a.get(o))})}function _I({top:t,left:r,right:a,bottom:s}){return{x:{min:r,max:a},y:{min:t,max:s}}}function HG({x:t,y:r}){return{top:r.min,right:t.max,bottom:r.max,left:t.min}}function WG(t,r){if(!r)return t;const a=r({x:t.left,y:t.top}),s=r({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:s.y,right:s.x}}function Ow(t){return t===void 0||t===1}function C2({scale:t,scaleX:r,scaleY:a}){return!Ow(t)||!Ow(r)||!Ow(a)}function O0(t){return C2(t)||AI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function AI(t){return L3(t.x)||L3(t.y)}function L3(t){return t&&t!=="0%"}function Dy(t,r,a){const s=t-a,n=r*s;return a+n}function M3(t,r,a,s,n){return n!==void 0&&(t=Dy(t,n,s)),Dy(t,a,s)+r}function P2(t,r=0,a=1,s,n){t.min=M3(t.min,r,a,s,n),t.max=M3(t.max,r,a,s,n)}function CI(t,{x:r,y:a}){P2(t.x,r.translate,r.scale,r.originPoint),P2(t.y,a.translate,a.scale,a.originPoint)}const F3=.999999999999,$3=1.0000000000001;function GG(t,r,a,s=!1){const n=a.length;if(!n)return;r.x=r.y=1;let i,o;for(let l=0;l<n;l++){i=a[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&xm(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(r.x*=o.x.scale,r.y*=o.y.scale,CI(t,o)),s&&O0(i.latestValues)&&xm(t,i.latestValues))}r.x<$3&&r.x>F3&&(r.x=1),r.y<$3&&r.y>F3&&(r.y=1)}function gm(t,r){t.min=t.min+r,t.max=t.max+r}function B3(t,r,a,s,n=.5){const i=cs(t.min,t.max,n);P2(t,r,a,i,s)}function xm(t,r){B3(t.x,r.x,r.scaleX,r.scale,r.originX),B3(t.y,r.y,r.scaleY,r.scale,r.originY)}function PI(t,r){return _I(WG(t.getBoundingClientRect(),r))}function YG(t,r,a){const s=PI(t,a),{scroll:n}=r;return n&&(gm(s.x,n.offset.x),gm(s.y,n.offset.y)),s}const U3=()=>({translate:0,scale:1,origin:0,originPoint:0}),ym=()=>({x:U3(),y:U3()}),z3=()=>({min:0,max:0}),Ps=()=>({x:z3(),y:z3()}),E2={current:null},EI={current:!1};function KG(){if(EI.current=!0,!!jk)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),r=()=>E2.current=t.matches;t.addEventListener("change",r),r()}else E2.current=!1}const JG=new WeakMap;function XG(t,r,a){for(const s in r){const n=r[s],i=a[s];if(ri(n))t.addValue(s,n);else if(ri(i))t.addValue(s,Pm(n,{owner:t}));else if(i!==n)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=t.getStaticValue(s);t.addValue(s,Pm(o!==void 0?o:n,{owner:t}))}}for(const s in a)r[s]===void 0&&t.removeValue(s);return r}const q3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZG{scrapeMotionValuesFromProps(r,a,s){return{}}constructor({parent:r,props:a,presenceContext:s,reducedMotionConfig:n,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$k,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Bi.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ka.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=a.initial?{...c}:{},this.renderState=d,this.parent=r,this.props=a,this.presenceContext=s,this.depth=r?r.depth+1:0,this.reducedMotionConfig=n,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Mb(a),this.isVariantNode=pI(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(a,{},this);for(const p in f){const g=f[p];c[p]!==void 0&&ri(g)&&g.set(c[p])}}mount(r){this.current=r,JG.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,s)=>this.bindToMotionValue(s,a)),EI.current||KG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:E2.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vu(this.notifyUpdate),Vu(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const a=this.features[r];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(r){this.children.add(r),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(r)}removeChild(r){this.children.delete(r),this.enteringChildren&&this.enteringChildren.delete(r)}bindToMotionValue(r,a){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const s=Ym.has(r);s&&this.onBindTransform&&this.onBindTransform();const n=a.on("change",o=>{this.latestValues[r]=o,this.props.onUpdate&&Ka.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,r,a)),this.valueSubscriptions.set(r,()=>{n(),i&&i(),a.owner&&a.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in Em){const a=Em[r];if(!a)continue;const{isEnabled:s,Feature:n}=a;if(!this.features[r]&&n&&s(this.props)&&(this.features[r]=new n(this)),this.features[r]){const i=this.features[r];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ps()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,a){this.latestValues[r]=a}update(r,a){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let s=0;s<q3.length;s++){const n=q3[s];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,o=r[i];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=XG(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(r),()=>a.variantChildren.delete(r)}addValue(r,a){const s=this.values.get(r);a!==s&&(s&&this.removeValue(r),this.bindToMotionValue(r,a),this.values.set(r,a),this.latestValues[r]=a.get())}removeValue(r){this.values.delete(r);const a=this.valueSubscriptions.get(r);a&&(a(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,a){if(this.props.values&&this.props.values[r])return this.props.values[r];let s=this.values.get(r);return s===void 0&&a!==void 0&&(s=Pm(a===null?void 0:a,{owner:this}),this.addValue(r,s)),s}readValue(r,a){let s=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:this.getBaseTargetFromProps(this.props,r)??this.readValueFromInstance(this.current,r,this.options);return s!=null&&(typeof s=="string"&&(jD(s)||kD(s))?s=parseFloat(s):!iG(s)&&Hu.test(a)&&(s=nI(r,a)),this.setBaseTarget(r,ri(s)?s.get():s)),ri(s)?s.get():s}setBaseTarget(r,a){this.baseTarget[r]=a}getBaseTarget(r){const{initial:a}=this.props;let s;if(typeof a=="string"||typeof a=="object"){const i=Jk(this.props,a,this.presenceContext?.custom);i&&(s=i[r])}if(a&&s!==void 0)return s;const n=this.getBaseTargetFromProps(this.props,r);return n!==void 0&&!ri(n)?n:this.initialValues[r]!==void 0&&s===void 0?void 0:this.baseTarget[r]}on(r,a){return this.events[r]||(this.events[r]=new Ak),this.events[r].add(a)}notify(r,...a){this.events[r]&&this.events[r].notify(...a)}scheduleRenderMicrotask(){zk.render(this.render)}}class TI extends ZG{constructor(){super(...arguments),this.KeyframeResolver=YW}sortInstanceNodePosition(r,a){return r.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(r,a){return r.style?r.style[a]:void 0}removeValueFromRenderState(r,{vars:a,style:s}){delete a[r],delete s[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;ri(r)&&(this.childSubscription=r.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function DI(t,{style:r,vars:a},s,n){const i=t.style;let o;for(o in r)i[o]=r[o];n?.applyProjectionStyles(i,s);for(o in a)i.setProperty(o,a[o])}function QG(t){return window.getComputedStyle(t)}class eY extends TI{constructor(){super(...arguments),this.type="html",this.renderInstance=DI}readValueFromInstance(r,a){if(Ym.has(a))return this.projection?.isProjecting?w2(a):mW(r,a);{const s=QG(r),n=(Ek(a)?s.getPropertyValue(a):s[a])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(r,{transformPagePoint:a}){return PI(r,a)}build(r,a,s){Gk(r,a,s.transformTemplate)}scrapeMotionValuesFromProps(r,a,s){return Xk(r,a,s)}}const II=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tY(t,r,a,s){DI(t,r,void 0,s);for(const n in r.attrs)t.setAttribute(II.has(n)?n:Zk(n),r.attrs[n])}class rY extends TI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ps}getBaseTargetFromProps(r,a){return r[a]}readValueFromInstance(r,a){if(Ym.has(a)){const s=sI(a);return s&&s.default||0}return a=II.has(a)?a:Zk(a),r.getAttribute(a)}scrapeMotionValuesFromProps(r,a,s){return jI(r,a,s)}build(r,a,s){yI(r,a,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(r,a,s,n){tY(r,a,s,n)}mount(r){this.isSVGTag=vI(r.tagName),super.mount(r)}}const aY=(t,r)=>Kk(t)?new rY(r):new eY(r,{allowProjection:t!==b.Fragment});function Nm(t,r,a){const s=t.getProps();return Jk(s,r,a!==void 0?a:s.custom,t)}const T2=t=>Array.isArray(t);function sY(t,r,a){t.hasValue(r)?t.getValue(r).set(a):t.addValue(r,Pm(a))}function nY(t){return T2(t)?t[t.length-1]||0:t}function iY(t,r){const a=Nm(t,r);let{transitionEnd:s={},transition:n={},...i}=a||{};i={...i,...s};for(const o in i){const l=nY(i[o]);sY(t,o,l)}}function oY(t){return!!(ri(t)&&t.add)}function D2(t,r){const a=t.getValue("willChange");if(oY(a))return a.add(r);if(!a&&Td.WillChange){const s=new Td.WillChange("auto");t.addValue("willChange",s),s.add(r)}}function OI(t){return t.props[NI]}const lY=t=>t!==null;function cY(t,{repeat:r,repeatType:a="loop"},s){const n=t.filter(lY),i=r&&a!=="loop"&&r%2===1?0:n.length-1;return n[i]}const dY={type:"spring",stiffness:500,damping:25,restSpeed:10},uY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hY={type:"keyframes",duration:.8},mY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fY=(t,{keyframes:r})=>r.length>2?hY:Ym.has(t)?t.startsWith("scale")?uY(r[1]):dY:mY;function pY({when:t,delay:r,delayChildren:a,staggerChildren:s,staggerDirection:n,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Qk=(t,r,a,s={},n,i)=>o=>{const l=Bk(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-kc(c);const u={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:r.getVelocity(),...l,delay:-d,onUpdate:p=>{r.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:r,element:i?void 0:n};pY(l)||Object.assign(u,fY(t,u)),u.duration&&(u.duration=kc(u.duration)),u.repeatDelay&&(u.repeatDelay=kc(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(_2(u),u.delay===0&&(f=!0)),(Td.instantAnimations||Td.skipAnimations)&&(f=!0,_2(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,f&&!i&&r.get()!==void 0){const p=cY(u.keyframes,l);if(p!==void 0){Ka.update(()=>{u.onUpdate(p),u.onComplete()});return}}return l.isSync?new Fk(u):new LW(u)};function gY({protectedKeys:t,needsAnimating:r},a){const s=t.hasOwnProperty(a)&&r[a]!==!0;return r[a]=!1,s}function RI(t,r,{delay:a=0,transitionOverride:s,type:n}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=r;s&&(i=s);const c=[],d=n&&t.animationState&&t.animationState.getState()[n];for(const u in l){const f=t.getValue(u,t.latestValues[u]??null),p=l[u];if(p===void 0||d&&gY(d,u))continue;const g={delay:a,...Bk(i||{},u)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===x&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const j=OI(t);if(j){const _=window.MotionHandoffAnimation(j,u,Ka);_!==null&&(g.startTime=_,v=!0)}}D2(t,u),f.start(Qk(u,f,p,t.shouldReduceMotion&&tI.has(u)?{type:!1}:g,t,v));const w=f.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{Ka.update(()=>{o&&iY(t,o)})}),c}function LI(t,r,a,s=0,n=1){const i=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(r),o=t.size,l=(o-1)*s;return typeof a=="function"?a(i,o):n===1?i*s:l-i*s}function I2(t,r,a={}){const s=Nm(t,r,a.type==="exit"?t.presenceContext?.custom:void 0);let{transition:n=t.getDefaultTransition()||{}}=s||{};a.transitionOverride&&(n=a.transitionOverride);const i=s?()=>Promise.all(RI(t,s,a)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:f}=n;return xY(t,r,c,d,u,f,a)}:()=>Promise.resolve(),{when:l}=n;if(l){const[c,d]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(a.delay)])}function xY(t,r,a=0,s=0,n=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",r),l.push(I2(c,r,{...o,delay:a+(typeof s=="function"?0:s)+LI(t.variantChildren,c,s,n,i)}).then(()=>c.notify("AnimationComplete",r)));return Promise.all(l)}function yY(t,r,a={}){t.notify("AnimationStart",r);let s;if(Array.isArray(r)){const n=r.map(i=>I2(t,i,a));s=Promise.all(n)}else if(typeof r=="string")s=I2(t,r,a);else{const n=typeof r=="function"?Nm(t,r,a.custom):r;s=Promise.all(RI(t,n,a))}return s.then(()=>{t.notify("AnimationComplete",r)})}function MI(t,r){if(!Array.isArray(r))return!1;const a=r.length;if(a!==t.length)return!1;for(let s=0;s<a;s++)if(r[s]!==t[s])return!1;return!0}const bY=Wk.length;function FI(t){if(!t)return;if(!t.isControllingVariants){const a=t.parent?FI(t.parent)||{}:{};return t.props.initial!==void 0&&(a.initial=t.props.initial),a}const r={};for(let a=0;a<bY;a++){const s=Wk[a],n=t.props[s];(Ep(n)||n===!1)&&(r[s]=n)}return r}const vY=[...Hk].reverse(),wY=Hk.length;function jY(t){return r=>Promise.all(r.map(({animation:a,options:s})=>yY(t,a,s)))}function NY(t){let r=jY(t),a=V3(),s=!0;const n=c=>(d,u)=>{const f=Nm(t,u,c==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:p,transitionEnd:g,...x}=f;d={...d,...x,...g}}return d};function i(c){r=c(t)}function o(c){const{props:d}=t,u=FI(t.parent)||{},f=[],p=new Set;let g={},x=1/0;for(let w=0;w<wY;w++){const j=vY[w],_=a[j],S=d[j]!==void 0?d[j]:u[j],N=Ep(S),C=j===c?_.isActive:null;C===!1&&(x=w);let D=S===u[j]&&S!==d[j]&&N;if(D&&s&&t.manuallyAnimateOnMount&&(D=!1),_.protectedKeys={...g},!_.isActive&&C===null||!S&&!_.prevProp||Lb(S)||typeof S=="boolean")continue;const U=kY(_.prevProp,S);let z=U||j===c&&_.isActive&&!D&&N||w>x&&N,E=!1;const I=Array.isArray(S)?S:[S];let T=I.reduce(n(j),{});C===!1&&(T={});const{prevResolvedValues:F={}}=_,Y={...F,...T},O=K=>{z=!0,p.has(K)&&(E=!0,p.delete(K)),_.needsAnimating[K]=!0;const J=t.getValue(K);J&&(J.liveStyle=!1)};for(const K in Y){const J=T[K],X=F[K];if(g.hasOwnProperty(K))continue;let be=!1;T2(J)&&T2(X)?be=!MI(J,X):be=J!==X,be?J!=null?O(K):p.add(K):J!==void 0&&p.has(K)?O(K):_.protectedKeys[K]=!0}_.prevProp=S,_.prevResolvedValues=T,_.isActive&&(g={...g,...T}),s&&t.blockInitialAnimation&&(z=!1);const q=D&&U;z&&(!q||E)&&f.push(...I.map(K=>{const J={type:j};if(typeof K=="string"&&s&&!q&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,be=Nm(X,K);if(X.enteringChildren&&be){const{delayChildren:te}=be.transition||{};J.delay=LI(X.enteringChildren,t,te)}}return{animation:K,options:J}}))}if(p.size){const w={};if(typeof d.initial!="boolean"){const j=Nm(t,Array.isArray(d.initial)?d.initial[0]:d.initial);j&&j.transition&&(w.transition=j.transition)}p.forEach(j=>{const _=t.getBaseTarget(j),S=t.getValue(j);S&&(S.liveStyle=!0),w[j]=_??null}),f.push({animation:w})}let v=!!f.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(v=!1),s=!1,v?r(f):Promise.resolve()}function l(c,d){if(a[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(c,d)),a[c].isActive=d;const u=o(c);for(const f in a)a[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>a,reset:()=>{a=V3()}}}function kY(t,r){return typeof r=="string"?r!==t:Array.isArray(r)?!MI(r,t):!1}function I0(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V3(){return{animate:I0(!0),whileInView:I0(),whileHover:I0(),whileTap:I0(),whileDrag:I0(),whileFocus:I0(),exit:I0()}}class Zu{constructor(r){this.isMounted=!1,this.node=r}update(){}}class SY extends Zu{constructor(r){super(r),r.animationState||(r.animationState=NY(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();Lb(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:a}=this.node.prevProps||{};r!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let _Y=0;class AY extends Zu{constructor(){super(...arguments),this.id=_Y++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:a}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===s)return;const n=this.node.animationState.setActive("exit",!r);a&&!r&&n.then(()=>{a(this.id)})}mount(){const{register:r,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),r&&(this.unmount=r(this.id))}unmount(){}}const CY={animation:{Feature:SY},exit:{Feature:AY}};function Dp(t,r,a,s={passive:!0}){return t.addEventListener(r,a,s),()=>t.removeEventListener(r,a)}function ig(t){return{point:{x:t.pageX,y:t.pageY}}}const PY=t=>r=>qk(r)&&t(r,ig(r));function cp(t,r,a,s){return Dp(t,r,PY(a),s)}const $I=1e-4,EY=1-$I,TY=1+$I,BI=.01,DY=0-BI,IY=0+BI;function xi(t){return t.max-t.min}function OY(t,r,a){return Math.abs(t-r)<=a}function H3(t,r,a,s=.5){t.origin=s,t.originPoint=cs(r.min,r.max,t.origin),t.scale=xi(a)/xi(r),t.translate=cs(a.min,a.max,t.origin)-t.originPoint,(t.scale>=EY&&t.scale<=TY||isNaN(t.scale))&&(t.scale=1),(t.translate>=DY&&t.translate<=IY||isNaN(t.translate))&&(t.translate=0)}function dp(t,r,a,s){H3(t.x,r.x,a.x,s?s.originX:void 0),H3(t.y,r.y,a.y,s?s.originY:void 0)}function W3(t,r,a){t.min=a.min+r.min,t.max=t.min+xi(r)}function RY(t,r,a){W3(t.x,r.x,a.x),W3(t.y,r.y,a.y)}function G3(t,r,a){t.min=r.min-a.min,t.max=t.min+xi(r)}function up(t,r,a){G3(t.x,r.x,a.x),G3(t.y,r.y,a.y)}function Qo(t){return[t("x"),t("y")]}const UI=({current:t})=>t?t.ownerDocument.defaultView:null,Y3=(t,r)=>Math.abs(t-r);function LY(t,r){const a=Y3(t.x,r.x),s=Y3(t.y,r.y);return Math.sqrt(a**2+s**2)}class zI{constructor(r,a,{transformPagePoint:s,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Lw(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=LY(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:v}=p,{timestamp:w}=En;this.history.push({...v,timestamp:w});const{onStart:j,onMove:_}=this.handlers;g||(j&&j(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Rw(g,this.transformPagePoint),Ka.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Lw(p.type==="pointercancel"?this.lastMoveEventInfo:Rw(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,j),v&&v(p,j)},!qk(r))return;this.dragSnapToOrigin=i,this.handlers=a,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=n||window;const l=ig(r),c=Rw(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=En;this.history=[{...d,timestamp:u}];const{onSessionStart:f}=a;f&&f(r,Lw(c,this.history)),this.removeListeners=ag(cp(this.contextWindow,"pointermove",this.handlePointerMove),cp(this.contextWindow,"pointerup",this.handlePointerUp),cp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),Vu(this.updatePoint)}}function Rw(t,r){return r?{point:r(t.point)}:t}function K3(t,r){return{x:t.x-r.x,y:t.y-r.y}}function Lw({point:t},r){return{point:t,delta:K3(t,qI(r)),offset:K3(t,MY(r)),velocity:FY(r,.1)}}function MY(t){return t[0]}function qI(t){return t[t.length-1]}function FY(t,r){if(t.length<2)return{x:0,y:0};let a=t.length-1,s=null;const n=qI(t);for(;a>=0&&(s=t[a],!(n.timestamp-s.timestamp>kc(r)));)a--;if(!s)return{x:0,y:0};const i=al(n.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(n.x-s.x)/i,y:(n.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $Y(t,{min:r,max:a},s){return r!==void 0&&t<r?t=s?cs(r,t,s.min):Math.max(t,r):a!==void 0&&t>a&&(t=s?cs(a,t,s.max):Math.min(t,a)),t}function J3(t,r,a){return{min:r!==void 0?t.min+r:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function BY(t,{top:r,left:a,bottom:s,right:n}){return{x:J3(t.x,a,n),y:J3(t.y,r,s)}}function X3(t,r){let a=r.min-t.min,s=r.max-t.max;return r.max-r.min<t.max-t.min&&([a,s]=[s,a]),{min:a,max:s}}function UY(t,r){return{x:X3(t.x,r.x),y:X3(t.y,r.y)}}function zY(t,r){let a=.5;const s=xi(t),n=xi(r);return n>s?a=Ap(r.min,r.max-s,t.min):s>n&&(a=Ap(t.min,t.max-n,r.min)),Ed(0,1,a)}function qY(t,r){const a={};return r.min!==void 0&&(a.min=r.min-t.min),r.max!==void 0&&(a.max=r.max-t.min),a}const O2=.35;function VY(t=O2){return t===!1?t=0:t===!0&&(t=O2),{x:Z3(t,"left","right"),y:Z3(t,"top","bottom")}}function Z3(t,r,a){return{min:Q3(t,r),max:Q3(t,a)}}function Q3(t,r){return typeof t=="number"?t:t[r]||0}const HY=new WeakMap;class WY{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ps(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=r}start(r,{snapToCursor:a=!1,distanceThreshold:s}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(ig(f).point)},o=(f,p)=>{const{drag:g,dragPropagation:x,onDragStart:v}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZW(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qo(j=>{let _=this.getAxisMotionValue(j).get()||0;if(Sc.test(_)){const{projection:S}=this.visualElement;if(S&&S.layout){const N=S.layout.layoutBox[j];N&&(_=xi(N)*(parseFloat(_)/100))}}this.originPoint[j]=_}),v&&Ka.postRender(()=>v(f,p)),D2(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:v,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:j}=p;if(x&&this.currentDirection===null){this.currentDirection=GY(j),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,j),this.updateAxis("y",p.point,j),this.visualElement.render(),w&&w(f,p)},c=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Qo(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new zI(r,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:UI(this.visualElement)})}stop(r,a){const s=r||this.latestPointerEvent,n=a||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!s)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ka.postRender(()=>l(s,n))}cancel(){this.isDragging=!1;const{projection:r,animationState:a}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(r,a,s){const{drag:n}=this.getProps();if(!s||!jx(r,n,this.currentDirection))return;const i=this.getAxisMotionValue(r);let o=this.originPoint[r]+s[r];this.constraints&&this.constraints[r]&&(o=$Y(o,this.constraints[r],this.elastic[r])),i.set(o)}resolveConstraints(){const{dragConstraints:r,dragElastic:a}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;r&&pm(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=BY(s.layoutBox,r):this.constraints=!1,this.elastic=VY(a),n!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qo(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=qY(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:a}=this.getProps();if(!r||!pm(r))return!1;const s=r.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=YG(s,n.root,this.visualElement.getTransformPagePoint());let o=UY(n.layout.layoutBox,i);if(a){const l=a(HG(o));this.hasMutatedConstraints=!!l,l&&(o=_I(l))}return o}startAnimation(r){const{drag:a,dragMomentum:s,dragElastic:n,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Qo(u=>{if(!jx(u,a,this.currentDirection))return;let f=c&&c[u]||{};o&&(f={min:0,max:0});const p=n?200:1e6,g=n?40:1e7,x={type:"inertia",velocity:s?r[u]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(r,a){const s=this.getAxisMotionValue(r);return D2(this.visualElement,r),s.start(Qk(r,s,0,a,this.visualElement,!1))}stopAnimation(){Qo(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){Qo(r=>this.getAxisMotionValue(r).animation?.pause())}getAnimationState(r){return this.getAxisMotionValue(r).animation?.state}getAxisMotionValue(r){const a=`_drag${r.toUpperCase()}`,s=this.visualElement.getProps(),n=s[a];return n||this.visualElement.getValue(r,(s.initial?s.initial[r]:void 0)||0)}snapToCursor(r){Qo(a=>{const{drag:s}=this.getProps();if(!jx(a,s,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(a);if(n&&n.layout){const{min:o,max:l}=n.layout.layoutBox[a];i.set(r[a]-cs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:a}=this.getProps(),{projection:s}=this.visualElement;if(!pm(a)||!s||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Qo(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();n[o]=zY({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qo(o=>{if(!jx(o,r,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(cs(c,d,n[o]))})}addListeners(){if(!this.visualElement.current)return;HY.set(this.visualElement,this);const r=this.visualElement.current,a=cp(r,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();pm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",s);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ka.read(s);const o=Dp(window,"resize",()=>this.scalePositionWithinConstraints()),l=n.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Qo(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())}));return()=>{o(),a(),i(),l&&l()}}getProps(){const r=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:s=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:o=O2,dragMomentum:l=!0}=r;return{...r,drag:a,dragDirectionLock:s,dragPropagation:n,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function jx(t,r,a){return(r===!0||r===t)&&(a===null||a===t)}function GY(t,r=10){let a=null;return Math.abs(t.y)>r?a="y":Math.abs(t.x)>r&&(a="x"),a}class YY extends Zu{constructor(r){super(r),this.removeGroupControls=il,this.removeListeners=il,this.controls=new WY(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||il}unmount(){this.removeGroupControls(),this.removeListeners()}}const eA=t=>(r,a)=>{t&&Ka.postRender(()=>t(r,a))};class KY extends Zu{constructor(){super(...arguments),this.removePointerDownListener=il}onPointerDown(r){this.session=new zI(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UI(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:a,onPan:s,onPanEnd:n}=this.node.getProps();return{onSessionStart:eA(r),onStart:eA(a),onMove:s,onEnd:(i,o)=>{delete this.session,n&&Ka.postRender(()=>n(i,o))}}}mount(){this.removePointerDownListener=cp(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ly={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tA(t,r){return r.max===r.min?0:t/(r.max-r.min)*100}const Ff={correct:(t,r)=>{if(!r.target)return t;if(typeof t=="string")if(Sr.test(t))t=parseFloat(t);else return t;const a=tA(t,r.target.x),s=tA(t,r.target.y);return`${a}% ${s}%`}},JY={correct:(t,{treeScale:r,projectionDelta:a})=>{const s=t,n=Hu.parse(t);if(n.length>5)return s;const i=Hu.createTransformer(t),o=typeof n[0]!="number"?1:0,l=a.x.scale*r.x,c=a.y.scale*r.y;n[0+o]/=l,n[1+o]/=c;const d=cs(l,c,.5);return typeof n[2+o]=="number"&&(n[2+o]/=d),typeof n[3+o]=="number"&&(n[3+o]/=d),i(n)}};let Mw=!1;class XY extends b.Component{componentDidMount(){const{visualElement:r,layoutGroup:a,switchLayoutGroup:s,layoutId:n}=this.props,{projection:i}=r;bG(ZY),i&&(a.group&&a.group.add(i),s&&s.register&&n&&s.register(i),Mw&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ly.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:a,visualElement:s,drag:n,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,Mw=!0,n||r.layoutDependency!==a||a===void 0||r.isPresent!==i?o.willUpdate():this.safeToRemove(),r.isPresent!==i&&(i?o.promote():o.relegate()||Ka.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),zk.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:a,switchLayoutGroup:s}=this.props,{projection:n}=r;Mw=!0,n&&(n.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(n),s&&s.deregister&&s.deregister(n))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function VI(t){const[r,a]=hI(),s=b.useContext(vk);return e.jsx(XY,{...t,layoutGroup:s,switchLayoutGroup:b.useContext(kI),isPresent:r,safeToRemove:a})}const ZY={borderRadius:{...Ff,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ff,borderTopRightRadius:Ff,borderBottomLeftRadius:Ff,borderBottomRightRadius:Ff,boxShadow:JY};function QY(t,r,a){const s=ri(t)?t:Pm(t);return s.start(Qk("",s,r,a)),s.animation}const eK=(t,r)=>t.depth-r.depth;class tK{constructor(){this.children=[],this.isDirty=!1}add(r){Nk(this.children,r),this.isDirty=!0}remove(r){kk(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(eK),this.isDirty=!1,this.children.forEach(r)}}function rK(t,r){const a=Bi.now(),s=({timestamp:n})=>{const i=n-a;i>=r&&(Vu(s),t(i-r))};return Ka.setup(s,!0),()=>Vu(s)}const HI=["TopLeft","TopRight","BottomLeft","BottomRight"],aK=HI.length,rA=t=>typeof t=="string"?parseFloat(t):t,aA=t=>typeof t=="number"||Sr.test(t);function sK(t,r,a,s,n,i){n?(t.opacity=cs(0,a.opacity??1,nK(s)),t.opacityExit=cs(r.opacity??1,0,iK(s))):i&&(t.opacity=cs(r.opacity??1,a.opacity??1,s));for(let o=0;o<aK;o++){const l=`border${HI[o]}Radius`;let c=sA(r,l),d=sA(a,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||aA(c)===aA(d)?(t[l]=Math.max(cs(rA(c),rA(d),s),0),(Sc.test(d)||Sc.test(c))&&(t[l]+="%")):t[l]=d}(r.rotate||a.rotate)&&(t.rotate=cs(r.rotate||0,a.rotate||0,s))}function sA(t,r){return t[r]!==void 0?t[r]:t.borderRadius}const nK=WI(0,.5,DD),iK=WI(.5,.95,il);function WI(t,r,a){return s=>s<t?0:s>r?1:a(Ap(t,r,s))}function nA(t,r){t.min=r.min,t.max=r.max}function Go(t,r){nA(t.x,r.x),nA(t.y,r.y)}function iA(t,r){t.translate=r.translate,t.scale=r.scale,t.originPoint=r.originPoint,t.origin=r.origin}function oA(t,r,a,s,n){return t-=r,t=Dy(t,1/a,s),n!==void 0&&(t=Dy(t,1/n,s)),t}function oK(t,r=0,a=1,s=.5,n,i=t,o=t){if(Sc.test(r)&&(r=parseFloat(r),r=cs(o.min,o.max,r/100)-o.min),typeof r!="number")return;let l=cs(i.min,i.max,s);t===i&&(l-=r),t.min=oA(t.min,r,a,l,n),t.max=oA(t.max,r,a,l,n)}function lA(t,r,[a,s,n],i,o){oK(t,r[a],r[s],r[n],r.scale,i,o)}const lK=["x","scaleX","originX"],cK=["y","scaleY","originY"];function cA(t,r,a,s){lA(t.x,r,lK,a?a.x:void 0,s?s.x:void 0),lA(t.y,r,cK,a?a.y:void 0,s?s.y:void 0)}function dA(t){return t.translate===0&&t.scale===1}function GI(t){return dA(t.x)&&dA(t.y)}function uA(t,r){return t.min===r.min&&t.max===r.max}function dK(t,r){return uA(t.x,r.x)&&uA(t.y,r.y)}function hA(t,r){return Math.round(t.min)===Math.round(r.min)&&Math.round(t.max)===Math.round(r.max)}function YI(t,r){return hA(t.x,r.x)&&hA(t.y,r.y)}function mA(t){return xi(t.x)/xi(t.y)}function fA(t,r){return t.translate===r.translate&&t.scale===r.scale&&t.originPoint===r.originPoint}class uK{constructor(){this.members=[]}add(r){Nk(this.members,r),r.scheduleRender()}remove(r){if(kk(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(r){const a=this.members.findIndex(n=>r===n);if(a===0)return!1;let s;for(let n=a;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(r,a){const s=this.lead;if(r!==s&&(this.prevLead=s,this.lead=r,r.show(),s)){s.instance&&s.scheduleRender(),r.scheduleRender(),r.resumeFrom=s,a&&(r.resumeFrom.preserveOpacity=!0),s.snapshot&&(r.snapshot=s.snapshot,r.snapshot.latestValues=s.animationValues||s.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:n}=r.options;n===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:a,resumingFrom:s}=r;a.onExitComplete&&a.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hK(t,r,a){let s="";const n=t.x.translate/r.x,i=t.y.translate/r.y,o=a?.z||0;if((n||i||o)&&(s=`translate3d(${n}px, ${i}px, ${o}px) `),(r.x!==1||r.y!==1)&&(s+=`scale(${1/r.x}, ${1/r.y}) `),a){const{transformPerspective:d,rotate:u,rotateX:f,rotateY:p,skewX:g,skewY:x}=a;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),f&&(s+=`rotateX(${f}deg) `),p&&(s+=`rotateY(${p}deg) `),g&&(s+=`skewX(${g}deg) `),x&&(s+=`skewY(${x}deg) `)}const l=t.x.scale*r.x,c=t.y.scale*r.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Fw=["","X","Y","Z"],mK=1e3;let fK=0;function $w(t,r,a,s){const{latestValues:n}=r;n[t]&&(a[t]=n[t],r.setStaticValue(t,0),s&&(s[t]=0))}function KI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:r}=t.options;if(!r)return;const a=OI(r);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:n,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",Ka,!(n||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&KI(s)}function JI({attachResizeListener:t,defaultParent:r,measureScroll:a,checkIsScrollRoot:s,resetTransform:n}){return class{constructor(o={},l=r?.()){this.id=fK++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(xK),this.nodes.forEach(wK),this.nodes.forEach(jK),this.nodes.forEach(yK)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new tK)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ak),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=uI(o)&&!sG(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u,f=0;const p=()=>this.root.updateBlockedByResize=!1;Ka.read(()=>{f=window.innerWidth}),t(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,u&&u(),u=rK(p,250),ly.hasAnimatedSinceResize&&(ly.hasAnimatedSinceResize=!1,this.nodes.forEach(xA)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||AK,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=d.getProps(),j=!this.targetLayout||!YI(this.targetLayout,g),_=!f&&p;if(this.options.layoutRoot||this.resumeFrom||_||f&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...Bk(x,"layout"),onPlay:v,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(u,_)}else f||xA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(gA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vK),this.nodes.forEach(pK),this.nodes.forEach(gK)):this.nodes.forEach(gA),this.clearAllSnapshots();const l=Bi.now();En.delta=Ed(0,1e3/60,l-En.timestamp),En.timestamp=l,En.isProcessing=!0,Aw.update.process(En),Aw.preRender.process(En),Aw.render.process(En),En.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zk.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bK),this.sharedNodes.forEach(kK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ka.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ka.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xi(this.snapshot.measuredBox.x)&&!xi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ps(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!GI(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||O0(this.latestValues)||u)&&(n(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),CK(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ps();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(PK))){const{scroll:d}=this.root;d&&(gm(l.x,d.offset.x),gm(l.y,d.offset.y))}return l}removeElementScroll(o){const l=Ps();if(Go(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:f}=d;d!==this.root&&u&&f.layoutScroll&&(u.wasRoot&&Go(l,o),gm(l.x,u.offset.x),gm(l.y,u.offset.y))}return l}applyTransform(o,l=!1){const c=Ps();Go(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xm(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),O0(u.latestValues)&&xm(c,u.latestValues)}return O0(this.latestValues)&&xm(c,this.latestValues),c}removeTransform(o){const l=Ps();Go(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!O0(d.latestValues))continue;C2(d.latestValues)&&d.updateSnapshot();const u=Ps(),f=d.measurePageBox();Go(u,f),cA(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return O0(this.latestValues)&&cA(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==En.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=En.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ps(),this.relativeTargetOrigin=Ps(),up(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Go(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ps(),this.targetWithTransforms=Ps()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Go(this.target,this.layout.layoutBox),CI(this.target,this.targetDelta)):Go(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ps(),this.relativeTargetOrigin=Ps(),up(this.relativeTargetOrigin,this.target,p.target),Go(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||C2(this.parent.latestValues)||AI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===En.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Go(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;GG(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ps());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iA(this.prevProjectionDelta.x,this.projectionDelta.x),iA(this.prevProjectionDelta.y,this.projectionDelta.y)),dp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!fA(this.projectionDelta.x,this.prevProjectionDelta.x)||!fA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ym(),this.projectionDelta=ym(),this.projectionDeltaWithTransform=ym()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},f=ym();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Ps(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,w=this.getStack(),j=!w||w.members.length<=1,_=!!(v&&!j&&this.options.crossfade===!0&&!this.path.some(_K));this.animationProgress=0;let S;this.mixTargetDelta=N=>{const C=N/1e3;yA(f.x,o.x,C),yA(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(up(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SK(this.relativeTarget,this.relativeTargetOrigin,p,C),S&&dK(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ps()),Go(S,this.relativeTarget)),v&&(this.animationValues=u,sK(u,d,this.latestValues,C,_,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Vu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ka.update(()=>{ly.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Pm(0)),this.currentAnimation=QY(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&XI(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ps();const f=xi(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=xi(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Go(l,c),xm(l,u),dp(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uK),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&$w("z",o,d,this.animationValues);for(let u=0;u<Fw.length;u++)$w(`rotate${Fw[u]}`,o,d,this.animationValues),$w(`skew${Fw[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=oy(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=oy(l?.pointerEvents)||""),this.hasProjected&&!O0(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=hK(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),o.transform=f;const{x:p,y:g}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in Tp){if(u[x]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:j}=Tp[x],_=f==="none"?u[x]:v(u[x],d);if(w){const S=w.length;for(let N=0;N<S;N++)o[w[N]]=_}else j?this.options.visualElement.renderState.vars[x]=_:o[x]=_}this.options.layoutId&&(o.pointerEvents=d===this?oy(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(pA),this.root.sharedNodes.clear()}}}function pK(t){t.updateLayout()}function gK(t){const r=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=t.layout,{animationType:n}=t.options,i=r.source!==t.layout.source;n==="size"?Qo(u=>{const f=i?r.measuredBox[u]:r.layoutBox[u],p=xi(f);f.min=a[u].min,f.max=f.min+p}):XI(n,r.layoutBox,a)&&Qo(u=>{const f=i?r.measuredBox[u]:r.layoutBox[u],p=xi(a[u]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+p)});const o=ym();dp(o,a,r.layoutBox);const l=ym();i?dp(l,t.applyTransform(s,!0),r.measuredBox):dp(l,a,r.layoutBox);const c=!GI(o);let d=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:f,layout:p}=u;if(f&&p){const g=Ps();up(g,r.layoutBox,f.layoutBox);const x=Ps();up(x,a,p.layoutBox),YI(g,x)||(d=!0),u.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:r,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function xK(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function bK(t){t.clearSnapshot()}function pA(t){t.clearMeasurements()}function gA(t){t.isLayoutDirty=!1}function vK(t){const{visualElement:r}=t.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),t.resetTransform()}function xA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wK(t){t.resolveTargetDelta()}function jK(t){t.calcProjection()}function NK(t){t.resetSkewAndRotation()}function kK(t){t.removeLeadSnapshot()}function yA(t,r,a){t.translate=cs(r.translate,0,a),t.scale=cs(r.scale,1,a),t.origin=r.origin,t.originPoint=r.originPoint}function bA(t,r,a,s){t.min=cs(r.min,a.min,s),t.max=cs(r.max,a.max,s)}function SK(t,r,a,s){bA(t.x,r.x,a.x,s),bA(t.y,r.y,a.y,s)}function _K(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AK={duration:.45,ease:[.4,0,.1,1]},vA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),wA=vA("applewebkit/")&&!vA("chrome/")?Math.round:il;function jA(t){t.min=wA(t.min),t.max=wA(t.max)}function CK(t){jA(t.x),jA(t.y)}function XI(t,r,a){return t==="position"||t==="preserve-aspect"&&!OY(mA(r),mA(a),.2)}function PK(t){return t!==t.root&&t.scroll?.wasRoot}const EK=JI({attachResizeListener:(t,r)=>Dp(t,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bw={current:void 0},ZI=JI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bw.current){const t=new EK({});t.mount(window),t.setOptions({layoutScroll:!0}),Bw.current=t}return Bw.current},resetTransform:(t,r)=>{t.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),TK={pan:{Feature:KY},drag:{Feature:YY,ProjectionNode:ZI,MeasureLayout:VI}};function NA(t,r,a){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",a==="Start");const n="onHover"+a,i=s[n];i&&Ka.postRender(()=>i(r,ig(r)))}class DK extends Zu{mount(){const{current:r}=this.node;r&&(this.unmount=QW(r,(a,s)=>(NA(this.node,s,"Start"),n=>NA(this.node,n,"End"))))}unmount(){}}class IK extends Zu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ag(Dp(this.node.current,"focus",()=>this.onFocus()),Dp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kA(t,r,a){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",a==="Start");const n="onTap"+(a==="End"?"":a),i=s[n];i&&Ka.postRender(()=>i(r,ig(r)))}class OK extends Zu{mount(){const{current:r}=this.node;r&&(this.unmount=aG(r,(a,s)=>(kA(this.node,s,"Start"),(n,{success:i})=>kA(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const R2=new WeakMap,Uw=new WeakMap,RK=t=>{const r=R2.get(t.target);r&&r(t)},LK=t=>{t.forEach(RK)};function MK({root:t,...r}){const a=t||document;Uw.has(a)||Uw.set(a,{});const s=Uw.get(a),n=JSON.stringify(r);return s[n]||(s[n]=new IntersectionObserver(LK,{root:t,...r})),s[n]}function FK(t,r,a){const s=MK(r);return R2.set(t,a),s.observe(t),()=>{R2.delete(t),s.unobserve(t)}}const $K={some:0,all:1};class BK extends Zu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:a,margin:s,amount:n="some",once:i}=r,o={root:a?a.current:void 0,rootMargin:s,threshold:typeof n=="number"?n:$K[n]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),p=d?u:f;p&&p(c)};return FK(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:a}=this.node;["amount","margin","root"].some(UK(r,a))&&this.startObserver()}unmount(){}}function UK({viewport:t={}},{viewport:r={}}={}){return a=>t[a]!==r[a]}const zK={inView:{Feature:BK},tap:{Feature:OK},focus:{Feature:IK},hover:{Feature:DK}},qK={layout:{ProjectionNode:ZI,MeasureLayout:VI}},VK={...CY,...zK,...TK,...qK},br=VG(VK,aY);class HK{constructor(){this.listeners=new Map,this.notificationQueue=[],this.isProcessing=!1}subscribe(r,a){this.listeners.has(r)||this.listeners.set(r,new Set),this.listeners.get(r).add(a)}unsubscribe(r,a){this.listeners.has(r)&&this.listeners.get(r).delete(a)}emit(r,a){this.listeners.has(r)&&this.listeners.get(r).forEach(s=>{try{s(a)}catch(n){console.error("Error in notification callback:",n)}})}createNotification(r,a,s,n={}){return{id:`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:r,title:a,message:s,timestamp:new Date().toISOString(),read:!1,metadata:n,priority:n.priority||"normal"}}addToQueue(r){this.notificationQueue.push(r),this.processQueue()}async processQueue(){if(!(this.isProcessing||this.notificationQueue.length===0)){for(this.isProcessing=!0;this.notificationQueue.length>0;){const r=this.notificationQueue.shift();await this.processNotification(r)}this.isProcessing=!1}}async processNotification(r){try{this.storeNotification(r),this.emit("notification",r),this.emit(r.type,r),Notification.permission==="granted"&&this.showBrowserNotification(r),console.log("Notification processed:",r)}catch(a){console.error("Error processing notification:",a)}}storeNotification(r){try{const a=JSON.parse(localStorage.getItem("admin_notifications")||"[]");a.unshift(r),a.length>100&&a.splice(100),localStorage.setItem("admin_notifications",JSON.stringify(a))}catch(a){console.error("Error storing notification:",a)}}getStoredNotifications(){try{return JSON.parse(localStorage.getItem("admin_notifications")||"[]")}catch(r){return console.error("Error getting stored notifications:",r),[]}}markAsRead(r){try{const a=this.getStoredNotifications(),s=a.find(n=>n.id===r);s&&(s.read=!0,localStorage.setItem("admin_notifications",JSON.stringify(a)),this.emit("notificationRead",{id:r}))}catch(a){console.error("Error marking notification as read:",a)}}markAllAsRead(){try{const r=this.getStoredNotifications();r.forEach(a=>{a.read=!0}),localStorage.setItem("admin_notifications",JSON.stringify(r)),this.emit("allNotificationsRead",{})}catch(r){console.error("Error marking all notifications as read:",r)}}clearAll(){try{localStorage.removeItem("admin_notifications"),this.emit("notificationsCleared",{})}catch(r){console.error("Error clearing notifications:",r)}}showBrowserNotification(r){try{new Notification(r.title,{body:r.message,icon:"/favicon.ico",badge:"/favicon.ico",tag:r.id,requireInteraction:r.priority==="high",silent:r.priority==="low"})}catch(a){console.error("Error showing browser notification:",a)}}async requestPermission(){try{return Notification.permission==="default"?await Notification.requestPermission()==="granted":Notification.permission==="granted"}catch(r){return console.error("Error requesting notification permission:",r),!1}}notifyNewApplication(r){const a=this._getStudentName(r),s=this.createNotification("scholarship_new_application","New Scholarship Application",`New application from ${a} for ${r.scholarship_category||r.category?.name||"Scholarship"}`,{priority:"high",applicationId:r.id,studentId:r.student_id,category:r.scholarship_category,level:r.education_level});this.addToQueue(s)}notifyApplicationReview(r,a){let s,n;const i=this._getStudentName(r);switch(a){case"reviewed":s="Application Reviewed",n=`Application from ${i} has been reviewed and approved`;break;case"rejected":s="Application Rejected",n=`Application from ${i} has been rejected`;break;case"compliance":s="Application Flagged for Compliance",n=`Application from ${i} has been flagged for compliance review`;break;default:s="Application Status Updated",n=`Application from ${i} status has been updated`}const o=this.createNotification("scholarship_application_review",s,n,{priority:"normal",applicationId:r.id,studentId:r.student_id,action:a,category:r.scholarship_category});this.addToQueue(o)}notifyInterviewScheduled(r){const a=this._getStudentName(r),s=this.createNotification("scholarship_interview_scheduled","Interview Scheduled",`Interview scheduled for ${a} on ${new Date(r.scheduled_date).toLocaleDateString()}`,{priority:"normal",applicationId:r.application_id,studentId:r.student_id,interviewId:r.id,scheduledDate:r.scheduled_date});this.addToQueue(s)}notifyInterviewCompleted(r,a){const s=this._getStudentName(r),n=this.createNotification("scholarship_interview_completed","Interview Completed",`Interview for ${s} has been completed - ${a}`,{priority:"normal",applicationId:r.application_id,studentId:r.student_id,interviewId:r.id,result:a});this.addToQueue(n)}notifyFinalApproval(r){const a=this._getStudentName(r),s=this.createNotification("scholarship_final_approval","Scholarship Approved",`Scholarship application from ${a} has been finally approved`,{priority:"high",applicationId:r.id,studentId:r.student_id,category:r.scholarship_category,level:r.education_level});this.addToQueue(s)}notifyBulkAction(r,a){let s,n;switch(r){case"reviewed":s="Bulk Review Complete",n=`${a} application(s) have been marked as reviewed`;break;case"rejected":s="Bulk Rejection Complete",n=`${a} application(s) have been rejected`;break;case"compliance":s="Bulk Compliance Complete",n=`${a} application(s) have been flagged for compliance`;break;default:s="Bulk Action Complete",n=`${a} application(s) have been processed`}const i=this.createNotification("scholarship_bulk_action",s,n,{priority:"normal",action:r,count:a});this.addToQueue(i)}_getStudentName(r){if(!r)return"Unknown Student";if(r.student_name)return r.student_name;if(r.name&&typeof r.name=="string")return r.name;if(r.student){if(r.student.full_name)return r.student.full_name;if(r.student.first_name&&r.student.last_name)return`${r.student.first_name} ${r.student.last_name}`;if(r.student.name)return r.student.name}return"Unknown Student"}notifySystemEvent(r,a,s={}){const n=this.createNotification("system_event","System Event",a,{priority:"low",event:r,...s});this.addToQueue(n)}}const xa=new HK;function QI(t,r){return function(){return t.apply(r,arguments)}}const{toString:WK}=Object.prototype,{getPrototypeOf:e5}=Object,{iterator:Fb,toStringTag:eO}=Symbol,$b=(t=>r=>{const a=WK.call(r);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Hl=t=>(t=t.toLowerCase(),r=>$b(r)===t),Bb=t=>r=>typeof r===t,{isArray:Km}=Array,Ip=Bb("undefined");function og(t){return t!==null&&!Ip(t)&&t.constructor!==null&&!Ip(t.constructor)&&Vi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tO=Hl("ArrayBuffer");function GK(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&tO(t.buffer),r}const YK=Bb("string"),Vi=Bb("function"),rO=Bb("number"),lg=t=>t!==null&&typeof t=="object",KK=t=>t===!0||t===!1,cy=t=>{if($b(t)!=="object")return!1;const r=e5(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(eO in t)&&!(Fb in t)},JK=t=>{if(!lg(t)||og(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},XK=Hl("Date"),ZK=Hl("File"),QK=Hl("Blob"),eJ=Hl("FileList"),tJ=t=>lg(t)&&Vi(t.pipe),rJ=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||Vi(t.append)&&((r=$b(t))==="formdata"||r==="object"&&Vi(t.toString)&&t.toString()==="[object FormData]"))},aJ=Hl("URLSearchParams"),[sJ,nJ,iJ,oJ]=["ReadableStream","Request","Response","Headers"].map(Hl),lJ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cg(t,r,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let s,n;if(typeof t!="object"&&(t=[t]),Km(t))for(s=0,n=t.length;s<n;s++)r.call(null,t[s],s,t);else{if(og(t))return;const i=a?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(s=0;s<o;s++)l=i[s],r.call(null,t[l],l,t)}}function aO(t,r){if(og(t))return null;r=r.toLowerCase();const a=Object.keys(t);let s=a.length,n;for(;s-- >0;)if(n=a[s],r===n.toLowerCase())return n;return null}const V0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sO=t=>!Ip(t)&&t!==V0;function L2(){const{caseless:t}=sO(this)&&this||{},r={},a=(s,n)=>{const i=t&&aO(r,n)||n;cy(r[i])&&cy(s)?r[i]=L2(r[i],s):cy(s)?r[i]=L2({},s):Km(s)?r[i]=s.slice():r[i]=s};for(let s=0,n=arguments.length;s<n;s++)arguments[s]&&cg(arguments[s],a);return r}const cJ=(t,r,a,{allOwnKeys:s}={})=>(cg(r,(n,i)=>{a&&Vi(n)?t[i]=QI(n,a):t[i]=n},{allOwnKeys:s}),t),dJ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),uJ=(t,r,a,s)=>{t.prototype=Object.create(r.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),a&&Object.assign(t.prototype,a)},hJ=(t,r,a,s)=>{let n,i,o;const l={};if(r=r||{},t==null)return r;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],(!s||s(o,t,r))&&!l[o]&&(r[o]=t[o],l[o]=!0);t=a!==!1&&e5(t)}while(t&&(!a||a(t,r))&&t!==Object.prototype);return r},mJ=(t,r,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=r.length;const s=t.indexOf(r,a);return s!==-1&&s===a},fJ=t=>{if(!t)return null;if(Km(t))return t;let r=t.length;if(!rO(r))return null;const a=new Array(r);for(;r-- >0;)a[r]=t[r];return a},pJ=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&e5(Uint8Array)),gJ=(t,r)=>{const s=(t&&t[Fb]).call(t);let n;for(;(n=s.next())&&!n.done;){const i=n.value;r.call(t,i[0],i[1])}},xJ=(t,r)=>{let a;const s=[];for(;(a=t.exec(r))!==null;)s.push(a);return s},yJ=Hl("HTMLFormElement"),bJ=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,s,n){return s.toUpperCase()+n}),SA=(({hasOwnProperty:t})=>(r,a)=>t.call(r,a))(Object.prototype),vJ=Hl("RegExp"),nO=(t,r)=>{const a=Object.getOwnPropertyDescriptors(t),s={};cg(a,(n,i)=>{let o;(o=r(n,i,t))!==!1&&(s[i]=o||n)}),Object.defineProperties(t,s)},wJ=t=>{nO(t,(r,a)=>{if(Vi(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const s=t[a];if(Vi(s)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},jJ=(t,r)=>{const a={},s=n=>{n.forEach(i=>{a[i]=!0})};return Km(t)?s(t):s(String(t).split(r)),a},NJ=()=>{},kJ=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function SJ(t){return!!(t&&Vi(t.append)&&t[eO]==="FormData"&&t[Fb])}const _J=t=>{const r=new Array(10),a=(s,n)=>{if(lg(s)){if(r.indexOf(s)>=0)return;if(og(s))return s;if(!("toJSON"in s)){r[n]=s;const i=Km(s)?[]:{};return cg(s,(o,l)=>{const c=a(o,n+1);!Ip(c)&&(i[l]=c)}),r[n]=void 0,i}}return s};return a(t,0)},AJ=Hl("AsyncFunction"),CJ=t=>t&&(lg(t)||Vi(t))&&Vi(t.then)&&Vi(t.catch),iO=((t,r)=>t?setImmediate:r?((a,s)=>(V0.addEventListener("message",({source:n,data:i})=>{n===V0&&i===a&&s.length&&s.shift()()},!1),n=>{s.push(n),V0.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Vi(V0.postMessage)),PJ=typeof queueMicrotask<"u"?queueMicrotask.bind(V0):typeof process<"u"&&process.nextTick||iO,EJ=t=>t!=null&&Vi(t[Fb]),mt={isArray:Km,isArrayBuffer:tO,isBuffer:og,isFormData:rJ,isArrayBufferView:GK,isString:YK,isNumber:rO,isBoolean:KK,isObject:lg,isPlainObject:cy,isEmptyObject:JK,isReadableStream:sJ,isRequest:nJ,isResponse:iJ,isHeaders:oJ,isUndefined:Ip,isDate:XK,isFile:ZK,isBlob:QK,isRegExp:vJ,isFunction:Vi,isStream:tJ,isURLSearchParams:aJ,isTypedArray:pJ,isFileList:eJ,forEach:cg,merge:L2,extend:cJ,trim:lJ,stripBOM:dJ,inherits:uJ,toFlatObject:hJ,kindOf:$b,kindOfTest:Hl,endsWith:mJ,toArray:fJ,forEachEntry:gJ,matchAll:xJ,isHTMLForm:yJ,hasOwnProperty:SA,hasOwnProp:SA,reduceDescriptors:nO,freezeMethods:wJ,toObjectSet:jJ,toCamelCase:bJ,noop:NJ,toFiniteNumber:kJ,findKey:aO,global:V0,isContextDefined:sO,isSpecCompliantForm:SJ,toJSONObject:_J,isAsyncFn:AJ,isThenable:CJ,setImmediate:iO,asap:PJ,isIterable:EJ};function Lr(t,r,a,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),a&&(this.config=a),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}mt.inherits(Lr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:mt.toJSONObject(this.config),code:this.code,status:this.status}}});const oO=Lr.prototype,lO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lO[t]={value:t}});Object.defineProperties(Lr,lO);Object.defineProperty(oO,"isAxiosError",{value:!0});Lr.from=(t,r,a,s,n,i)=>{const o=Object.create(oO);return mt.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Lr.call(o,t.message,r,a,s,n),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const TJ=null;function M2(t){return mt.isPlainObject(t)||mt.isArray(t)}function cO(t){return mt.endsWith(t,"[]")?t.slice(0,-2):t}function _A(t,r,a){return t?t.concat(r).map(function(n,i){return n=cO(n),!a&&i?"["+n+"]":n}).join(a?".":""):r}function DJ(t){return mt.isArray(t)&&!t.some(M2)}const IJ=mt.toFlatObject(mt,{},null,function(r){return/^is[A-Z]/.test(r)});function Ub(t,r,a){if(!mt.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,a=mt.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!mt.isUndefined(w[v])});const s=a.metaTokens,n=a.visitor||u,i=a.dots,o=a.indexes,c=(a.Blob||typeof Blob<"u"&&Blob)&&mt.isSpecCompliantForm(r);if(!mt.isFunction(n))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(mt.isDate(x))return x.toISOString();if(mt.isBoolean(x))return x.toString();if(!c&&mt.isBlob(x))throw new Lr("Blob is not supported. Use a Buffer instead.");return mt.isArrayBuffer(x)||mt.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,v,w){let j=x;if(x&&!w&&typeof x=="object"){if(mt.endsWith(v,"{}"))v=s?v:v.slice(0,-2),x=JSON.stringify(x);else if(mt.isArray(x)&&DJ(x)||(mt.isFileList(x)||mt.endsWith(v,"[]"))&&(j=mt.toArray(x)))return v=cO(v),j.forEach(function(S,N){!(mt.isUndefined(S)||S===null)&&r.append(o===!0?_A([v],N,i):o===null?v:v+"[]",d(S))}),!1}return M2(x)?!0:(r.append(_A(w,v,i),d(x)),!1)}const f=[],p=Object.assign(IJ,{defaultVisitor:u,convertValue:d,isVisitable:M2});function g(x,v){if(!mt.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(x),mt.forEach(x,function(j,_){(!(mt.isUndefined(j)||j===null)&&n.call(r,j,mt.isString(_)?_.trim():_,v,p))===!0&&g(j,v?v.concat(_):[_])}),f.pop()}}if(!mt.isObject(t))throw new TypeError("data must be an object");return g(t),r}function AA(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return r[s]})}function t5(t,r){this._pairs=[],t&&Ub(t,this,r)}const dO=t5.prototype;dO.append=function(r,a){this._pairs.push([r,a])};dO.toString=function(r){const a=r?function(s){return r.call(this,s,AA)}:AA;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function OJ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uO(t,r,a){if(!r)return t;const s=a&&a.encode||OJ;mt.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(r,a):i=mt.isURLSearchParams(r)?r.toString():new t5(r,a).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class CA{constructor(){this.handlers=[]}use(r,a,s){return this.handlers.push({fulfilled:r,rejected:a,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){mt.forEach(this.handlers,function(s){s!==null&&r(s)})}}const hO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RJ=typeof URLSearchParams<"u"?URLSearchParams:t5,LJ=typeof FormData<"u"?FormData:null,MJ=typeof Blob<"u"?Blob:null,FJ={isBrowser:!0,classes:{URLSearchParams:RJ,FormData:LJ,Blob:MJ},protocols:["http","https","file","blob","url","data"]},r5=typeof window<"u"&&typeof document<"u",F2=typeof navigator=="object"&&navigator||void 0,$J=r5&&(!F2||["ReactNative","NativeScript","NS"].indexOf(F2.product)<0),BJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",UJ=r5&&window.location.href||"http://localhost",zJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:r5,hasStandardBrowserEnv:$J,hasStandardBrowserWebWorkerEnv:BJ,navigator:F2,origin:UJ},Symbol.toStringTag,{value:"Module"})),ti={...zJ,...FJ};function qJ(t,r){return Ub(t,new ti.classes.URLSearchParams,{visitor:function(a,s,n,i){return ti.isNode&&mt.isBuffer(a)?(this.append(s,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function VJ(t){return mt.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function HJ(t){const r={},a=Object.keys(t);let s;const n=a.length;let i;for(s=0;s<n;s++)i=a[s],r[i]=t[i];return r}function mO(t){function r(a,s,n,i){let o=a[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=a.length;return o=!o&&mt.isArray(n)?n.length:o,c?(mt.hasOwnProp(n,o)?n[o]=[n[o],s]:n[o]=s,!l):((!n[o]||!mt.isObject(n[o]))&&(n[o]=[]),r(a,s,n[o],i)&&mt.isArray(n[o])&&(n[o]=HJ(n[o])),!l)}if(mt.isFormData(t)&&mt.isFunction(t.entries)){const a={};return mt.forEachEntry(t,(s,n)=>{r(VJ(s),n,a,0)}),a}return null}function WJ(t,r,a){if(mt.isString(t))try{return(r||JSON.parse)(t),mt.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(a||JSON.stringify)(t)}const dg={transitional:hO,adapter:["xhr","http","fetch"],transformRequest:[function(r,a){const s=a.getContentType()||"",n=s.indexOf("application/json")>-1,i=mt.isObject(r);if(i&&mt.isHTMLForm(r)&&(r=new FormData(r)),mt.isFormData(r))return n?JSON.stringify(mO(r)):r;if(mt.isArrayBuffer(r)||mt.isBuffer(r)||mt.isStream(r)||mt.isFile(r)||mt.isBlob(r)||mt.isReadableStream(r))return r;if(mt.isArrayBufferView(r))return r.buffer;if(mt.isURLSearchParams(r))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return qJ(r,this.formSerializer).toString();if((l=mt.isFileList(r))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ub(l?{"files[]":r}:r,c&&new c,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),WJ(r)):r}],transformResponse:[function(r){const a=this.transitional||dg.transitional,s=a&&a.forcedJSONParsing,n=this.responseType==="json";if(mt.isResponse(r)||mt.isReadableStream(r))return r;if(r&&mt.isString(r)&&(s&&!this.responseType||n)){const o=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(r)}catch(l){if(o)throw l.name==="SyntaxError"?Lr.from(l,Lr.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ti.classes.FormData,Blob:ti.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};mt.forEach(["delete","get","head","post","put","patch"],t=>{dg.headers[t]={}});const GJ=mt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YJ=t=>{const r={};let a,s,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),a=o.substring(0,n).trim().toLowerCase(),s=o.substring(n+1).trim(),!(!a||r[a]&&GJ[a])&&(a==="set-cookie"?r[a]?r[a].push(s):r[a]=[s]:r[a]=r[a]?r[a]+", "+s:s)}),r},PA=Symbol("internals");function $f(t){return t&&String(t).trim().toLowerCase()}function dy(t){return t===!1||t==null?t:mt.isArray(t)?t.map(dy):String(t)}function KJ(t){const r=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=a.exec(t);)r[s[1]]=s[2];return r}const JJ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zw(t,r,a,s,n){if(mt.isFunction(s))return s.call(this,r,a);if(n&&(r=a),!!mt.isString(r)){if(mt.isString(s))return r.indexOf(s)!==-1;if(mt.isRegExp(s))return s.test(r)}}function XJ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,a,s)=>a.toUpperCase()+s)}function ZJ(t,r){const a=mt.toCamelCase(" "+r);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+a,{value:function(n,i,o){return this[s].call(this,r,n,i,o)},configurable:!0})})}let Hi=class{constructor(r){r&&this.set(r)}set(r,a,s){const n=this;function i(l,c,d){const u=$f(c);if(!u)throw new Error("header name must be a non-empty string");const f=mt.findKey(n,u);(!f||n[f]===void 0||d===!0||d===void 0&&n[f]!==!1)&&(n[f||c]=dy(l))}const o=(l,c)=>mt.forEach(l,(d,u)=>i(d,u,c));if(mt.isPlainObject(r)||r instanceof this.constructor)o(r,a);else if(mt.isString(r)&&(r=r.trim())&&!JJ(r))o(YJ(r),a);else if(mt.isObject(r)&&mt.isIterable(r)){let l={},c,d;for(const u of r){if(!mt.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?mt.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,a)}else r!=null&&i(a,r,s);return this}get(r,a){if(r=$f(r),r){const s=mt.findKey(this,r);if(s){const n=this[s];if(!a)return n;if(a===!0)return KJ(n);if(mt.isFunction(a))return a.call(this,n,s);if(mt.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,a){if(r=$f(r),r){const s=mt.findKey(this,r);return!!(s&&this[s]!==void 0&&(!a||zw(this,this[s],s,a)))}return!1}delete(r,a){const s=this;let n=!1;function i(o){if(o=$f(o),o){const l=mt.findKey(s,o);l&&(!a||zw(s,s[l],l,a))&&(delete s[l],n=!0)}}return mt.isArray(r)?r.forEach(i):i(r),n}clear(r){const a=Object.keys(this);let s=a.length,n=!1;for(;s--;){const i=a[s];(!r||zw(this,this[i],i,r,!0))&&(delete this[i],n=!0)}return n}normalize(r){const a=this,s={};return mt.forEach(this,(n,i)=>{const o=mt.findKey(s,i);if(o){a[o]=dy(n),delete a[i];return}const l=r?XJ(i):String(i).trim();l!==i&&delete a[i],a[l]=dy(n),s[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const a=Object.create(null);return mt.forEach(this,(s,n)=>{s!=null&&s!==!1&&(a[n]=r&&mt.isArray(s)?s.join(", "):s)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,a])=>r+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...a){const s=new this(r);return a.forEach(n=>s.set(n)),s}static accessor(r){const s=(this[PA]=this[PA]={accessors:{}}).accessors,n=this.prototype;function i(o){const l=$f(o);s[l]||(ZJ(n,o),s[l]=!0)}return mt.isArray(r)?r.forEach(i):i(r),this}};Hi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);mt.reduceDescriptors(Hi.prototype,({value:t},r)=>{let a=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(s){this[a]=s}}});mt.freezeMethods(Hi);function qw(t,r){const a=this||dg,s=r||a,n=Hi.from(s.headers);let i=s.data;return mt.forEach(t,function(l){i=l.call(a,i,n.normalize(),r?r.status:void 0)}),n.normalize(),i}function fO(t){return!!(t&&t.__CANCEL__)}function Jm(t,r,a){Lr.call(this,t??"canceled",Lr.ERR_CANCELED,r,a),this.name="CanceledError"}mt.inherits(Jm,Lr,{__CANCEL__:!0});function pO(t,r,a){const s=a.config.validateStatus;!a.status||!s||s(a.status)?t(a):r(new Lr("Request failed with status code "+a.status,[Lr.ERR_BAD_REQUEST,Lr.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function QJ(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function eX(t,r){t=t||10;const a=new Array(t),s=new Array(t);let n=0,i=0,o;return r=r!==void 0?r:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),a[n]=c,s[n]=d;let f=i,p=0;for(;f!==n;)p+=a[f++],f=f%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),d-o<r)return;const g=u&&d-u;return g?Math.round(p*1e3/g):void 0}}function tX(t,r){let a=0,s=1e3/r,n,i;const o=(d,u=Date.now())=>{a=u,n=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const u=Date.now(),f=u-a;f>=s?o(d,u):(n=d,i||(i=setTimeout(()=>{i=null,o(n)},s-f)))},()=>n&&o(n)]}const Iy=(t,r,a=3)=>{let s=0;const n=eX(50,250);return tX(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=n(c),u=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};t(f)},a)},EA=(t,r)=>{const a=t!=null;return[s=>r[0]({lengthComputable:a,total:t,loaded:s}),r[1]]},TA=t=>(...r)=>mt.asap(()=>t(...r)),rX=ti.hasStandardBrowserEnv?((t,r)=>a=>(a=new URL(a,ti.origin),t.protocol===a.protocol&&t.host===a.host&&(r||t.port===a.port)))(new URL(ti.origin),ti.navigator&&/(msie|trident)/i.test(ti.navigator.userAgent)):()=>!0,aX=ti.hasStandardBrowserEnv?{write(t,r,a,s,n,i){const o=[t+"="+encodeURIComponent(r)];mt.isNumber(a)&&o.push("expires="+new Date(a).toGMTString()),mt.isString(s)&&o.push("path="+s),mt.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sX(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nX(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function gO(t,r,a){let s=!sX(r);return t&&(s||a==!1)?nX(t,r):r}const DA=t=>t instanceof Hi?{...t}:t;function ph(t,r){r=r||{};const a={};function s(d,u,f,p){return mt.isPlainObject(d)&&mt.isPlainObject(u)?mt.merge.call({caseless:p},d,u):mt.isPlainObject(u)?mt.merge({},u):mt.isArray(u)?u.slice():u}function n(d,u,f,p){if(mt.isUndefined(u)){if(!mt.isUndefined(d))return s(void 0,d,f,p)}else return s(d,u,f,p)}function i(d,u){if(!mt.isUndefined(u))return s(void 0,u)}function o(d,u){if(mt.isUndefined(u)){if(!mt.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,f){if(f in r)return s(d,u);if(f in t)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,f)=>n(DA(d),DA(u),f,!0)};return mt.forEach(Object.keys({...t,...r}),function(u){const f=c[u]||n,p=f(t[u],r[u],u);mt.isUndefined(p)&&f!==l||(a[u]=p)}),a}const xO=t=>{const r=ph({},t);let{data:a,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:l}=r;r.headers=o=Hi.from(o),r.url=uO(gO(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(mt.isFormData(a)){if(ti.hasStandardBrowserEnv||ti.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...u]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...u].join("; "))}}if(ti.hasStandardBrowserEnv&&(s&&mt.isFunction(s)&&(s=s(r)),s||s!==!1&&rX(r.url))){const d=n&&i&&aX.read(i);d&&o.set(n,d)}return r},iX=typeof XMLHttpRequest<"u",oX=iX&&function(t){return new Promise(function(a,s){const n=xO(t);let i=n.data;const o=Hi.from(n.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=n,u,f,p,g,x;function v(){g&&g(),x&&x(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(n.method.toUpperCase(),n.url,!0),w.timeout=n.timeout;function j(){if(!w)return;const S=Hi.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:S,config:t,request:w};pO(function(U){a(U),v()},function(U){s(U),v()},C),w=null}"onloadend"in w?w.onloadend=j:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(j)},w.onabort=function(){w&&(s(new Lr("Request aborted",Lr.ECONNABORTED,t,w)),w=null)},w.onerror=function(){s(new Lr("Network Error",Lr.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let N=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const C=n.transitional||hO;n.timeoutErrorMessage&&(N=n.timeoutErrorMessage),s(new Lr(N,C.clarifyTimeoutError?Lr.ETIMEDOUT:Lr.ECONNABORTED,t,w)),w=null},i===void 0&&o.setContentType(null),"setRequestHeader"in w&&mt.forEach(o.toJSON(),function(N,C){w.setRequestHeader(C,N)}),mt.isUndefined(n.withCredentials)||(w.withCredentials=!!n.withCredentials),l&&l!=="json"&&(w.responseType=n.responseType),d&&([p,x]=Iy(d,!0),w.addEventListener("progress",p)),c&&w.upload&&([f,g]=Iy(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",g)),(n.cancelToken||n.signal)&&(u=S=>{w&&(s(!S||S.type?new Jm(null,t,w):S),w.abort(),w=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const _=QJ(n.url);if(_&&ti.protocols.indexOf(_)===-1){s(new Lr("Unsupported protocol "+_+":",Lr.ERR_BAD_REQUEST,t));return}w.send(i||null)})},lX=(t,r)=>{const{length:a}=t=t?t.filter(Boolean):[];if(r||a){let s=new AbortController,n;const i=function(d){if(!n){n=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof Lr?u:new Jm(u instanceof Error?u.message:u))}};let o=r&&setTimeout(()=>{o=null,i(new Lr(`timeout ${r} of ms exceeded`,Lr.ETIMEDOUT))},r);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>mt.asap(l),c}},cX=function*(t,r){let a=t.byteLength;if(a<r){yield t;return}let s=0,n;for(;s<a;)n=s+r,yield t.slice(s,n),s=n},dX=async function*(t,r){for await(const a of uX(t))yield*cX(a,r)},uX=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:a,value:s}=await r.read();if(a)break;yield s}}finally{await r.cancel()}},IA=(t,r,a,s)=>{const n=dX(t,r);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){l(),c.close();return}let f=u.byteLength;if(a){let p=i+=f;a(p)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),n.return()}},{highWaterMark:2})},zb=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yO=zb&&typeof ReadableStream=="function",hX=zb&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),bO=(t,...r)=>{try{return!!t(...r)}catch{return!1}},mX=yO&&bO(()=>{let t=!1;const r=new Request(ti.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),OA=64*1024,$2=yO&&bO(()=>mt.isReadableStream(new Response("").body)),Oy={stream:$2&&(t=>t.body)};zb&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!Oy[r]&&(Oy[r]=mt.isFunction(t[r])?a=>a[r]():(a,s)=>{throw new Lr(`Response type '${r}' is not supported`,Lr.ERR_NOT_SUPPORT,s)})})})(new Response);const fX=async t=>{if(t==null)return 0;if(mt.isBlob(t))return t.size;if(mt.isSpecCompliantForm(t))return(await new Request(ti.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(mt.isArrayBufferView(t)||mt.isArrayBuffer(t))return t.byteLength;if(mt.isURLSearchParams(t)&&(t=t+""),mt.isString(t))return(await hX(t)).byteLength},pX=async(t,r)=>{const a=mt.toFiniteNumber(t.getContentLength());return a??fX(r)},gX=zb&&(async t=>{let{url:r,method:a,data:s,signal:n,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:u,withCredentials:f="same-origin",fetchOptions:p}=xO(t);d=d?(d+"").toLowerCase():"text";let g=lX([n,i&&i.toAbortSignal()],o),x;const v=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let w;try{if(c&&mX&&a!=="get"&&a!=="head"&&(w=await pX(u,s))!==0){let C=new Request(r,{method:"POST",body:s,duplex:"half"}),D;if(mt.isFormData(s)&&(D=C.headers.get("content-type"))&&u.setContentType(D),C.body){const[U,z]=EA(w,Iy(TA(c)));s=IA(C.body,OA,U,z)}}mt.isString(f)||(f=f?"include":"omit");const j="credentials"in Request.prototype;x=new Request(r,{...p,signal:g,method:a.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:j?f:void 0});let _=await fetch(x,p);const S=$2&&(d==="stream"||d==="response");if($2&&(l||S&&v)){const C={};["status","statusText","headers"].forEach(E=>{C[E]=_[E]});const D=mt.toFiniteNumber(_.headers.get("content-length")),[U,z]=l&&EA(D,Iy(TA(l),!0))||[];_=new Response(IA(_.body,OA,U,()=>{z&&z(),v&&v()}),C)}d=d||"text";let N=await Oy[mt.findKey(Oy,d)||"text"](_,t);return!S&&v&&v(),await new Promise((C,D)=>{pO(C,D,{data:N,headers:Hi.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:x})})}catch(j){throw v&&v(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new Lr("Network Error",Lr.ERR_NETWORK,t,x),{cause:j.cause||j}):Lr.from(j,j&&j.code,t,x)}}),B2={http:TJ,xhr:oX,fetch:gX};mt.forEach(B2,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const RA=t=>`- ${t}`,xX=t=>mt.isFunction(t)||t===null||t===!1,vO={getAdapter:t=>{t=mt.isArray(t)?t:[t];const{length:r}=t;let a,s;const n={};for(let i=0;i<r;i++){a=t[i];let o;if(s=a,!xX(a)&&(s=B2[(o=String(a)).toLowerCase()],s===void 0))throw new Lr(`Unknown adapter '${o}'`);if(s)break;n[o||"#"+i]=s}if(!s){const i=Object.entries(n).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(RA).join(`
`):" "+RA(i[0]):"as no adapter specified";throw new Lr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:B2};function Vw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jm(null,t)}function LA(t){return Vw(t),t.headers=Hi.from(t.headers),t.data=qw.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vO.getAdapter(t.adapter||dg.adapter)(t).then(function(s){return Vw(t),s.data=qw.call(t,t.transformResponse,s),s.headers=Hi.from(s.headers),s},function(s){return fO(s)||(Vw(t),s&&s.response&&(s.response.data=qw.call(t,t.transformResponse,s.response),s.response.headers=Hi.from(s.response.headers))),Promise.reject(s)})}const wO="1.11.0",qb={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{qb[t]=function(s){return typeof s===t||"a"+(r<1?"n ":" ")+t}});const MA={};qb.transitional=function(r,a,s){function n(i,o){return"[Axios v"+wO+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(r===!1)throw new Lr(n(o," has been removed"+(a?" in "+a:"")),Lr.ERR_DEPRECATED);return a&&!MA[o]&&(MA[o]=!0,console.warn(n(o," has been deprecated since v"+a+" and will be removed in the near future"))),r?r(i,o,l):!0}};qb.spelling=function(r){return(a,s)=>(console.warn(`${s} is likely a misspelling of ${r}`),!0)};function yX(t,r,a){if(typeof t!="object")throw new Lr("options must be an object",Lr.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let n=s.length;for(;n-- >0;){const i=s[n],o=r[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new Lr("option "+i+" must be "+c,Lr.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Lr("Unknown option "+i,Lr.ERR_BAD_OPTION)}}const uy={assertOptions:yX,validators:qb},fc=uy.validators;let rh=class{constructor(r){this.defaults=r||{},this.interceptors={request:new CA,response:new CA}}async request(r,a){try{return await this._request(r,a)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(r,a){typeof r=="string"?(a=a||{},a.url=r):a=r||{},a=ph(this.defaults,a);const{transitional:s,paramsSerializer:n,headers:i}=a;s!==void 0&&uy.assertOptions(s,{silentJSONParsing:fc.transitional(fc.boolean),forcedJSONParsing:fc.transitional(fc.boolean),clarifyTimeoutError:fc.transitional(fc.boolean)},!1),n!=null&&(mt.isFunction(n)?a.paramsSerializer={serialize:n}:uy.assertOptions(n,{encode:fc.function,serialize:fc.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),uy.assertOptions(a,{baseUrl:fc.spelling("baseURL"),withXsrfToken:fc.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=i&&mt.merge(i.common,i[a.method]);i&&mt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),a.headers=Hi.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(a)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let u,f=0,p;if(!c){const x=[LA.bind(this),void 0];for(x.unshift(...l),x.push(...d),p=x.length,u=Promise.resolve(a);f<p;)u=u.then(x[f++],x[f++]);return u}p=l.length;let g=a;for(f=0;f<p;){const x=l[f++],v=l[f++];try{g=x(g)}catch(w){v.call(this,w);break}}try{u=LA.call(this,g)}catch(x){return Promise.reject(x)}for(f=0,p=d.length;f<p;)u=u.then(d[f++],d[f++]);return u}getUri(r){r=ph(this.defaults,r);const a=gO(r.baseURL,r.url,r.allowAbsoluteUrls);return uO(a,r.params,r.paramsSerializer)}};mt.forEach(["delete","get","head","options"],function(r){rh.prototype[r]=function(a,s){return this.request(ph(s||{},{method:r,url:a,data:(s||{}).data}))}});mt.forEach(["post","put","patch"],function(r){function a(s){return function(i,o,l){return this.request(ph(l||{},{method:r,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}rh.prototype[r]=a(),rh.prototype[r+"Form"]=a(!0)});let bX=class jO{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const s=this;this.promise.then(n=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](n);s._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(n);return o.cancel=function(){s.unsubscribe(i)},o},r(function(i,o,l){s.reason||(s.reason=new Jm(i,o,l),a(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const a=this._listeners.indexOf(r);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const r=new AbortController,a=s=>{r.abort(s)};return this.subscribe(a),r.signal.unsubscribe=()=>this.unsubscribe(a),r.signal}static source(){let r;return{token:new jO(function(n){r=n}),cancel:r}}};function vX(t){return function(a){return t.apply(null,a)}}function wX(t){return mt.isObject(t)&&t.isAxiosError===!0}const U2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(U2).forEach(([t,r])=>{U2[r]=t});function NO(t){const r=new rh(t),a=QI(rh.prototype.request,r);return mt.extend(a,rh.prototype,r,{allOwnKeys:!0}),mt.extend(a,r,null,{allOwnKeys:!0}),a.create=function(n){return NO(ph(t,n))},a}const or=NO(dg);or.Axios=rh;or.CanceledError=Jm;or.CancelToken=bX;or.isCancel=fO;or.VERSION=wO;or.toFormData=Ub;or.AxiosError=Lr;or.Cancel=or.CanceledError;or.all=function(r){return Promise.all(r)};or.spread=vX;or.isAxiosError=wX;or.mergeConfig=ph;or.AxiosHeaders=Hi;or.formToJSON=t=>mO(mt.isHTMLForm(t)?new FormData(t):t);or.getAdapter=vO.getAdapter;or.HttpStatusCode=U2;or.default=or;const{Axios:Zbe,AxiosError:Qbe,CanceledError:eve,isCancel:tve,CancelToken:rve,VERSION:ave,all:sve,Cancel:nve,isAxiosError:ive,spread:ove,toFormData:lve,AxiosHeaders:cve,HttpStatusCode:dve,formToJSON:uve,getAdapter:hve,mergeConfig:mve}=or,kO=b.createContext(void 0),a5=()=>{const t=b.useContext(kO);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},jX=({children:t})=>{const[r,a]=b.useState({scholarship:{applications:0,total:0},schoolAid:{applications:0,total:0},studentRegistry:{newStudents:0,total:0},auditLogs:{newLogs:0,total:0},security:{threats:0,total:0}}),[s,n]=b.useState(!1),i=async()=>{n(!0);try{const f=bo("/api");let p=0;try{const j=await fetch(`${f}/applications/counts`);j.ok&&(p=(await j.json()).data?.submitted||0)}catch(j){console.warn("Scholarship API not available:",j)}let g=0;try{const j=await or.get(`${f}/users`);if(j.data.success){const _=j.data.data;let S=[];Array.isArray(_)?S=_:S=[..._.citizens||[],..._.staff||[],..._.admins||[],..._.ps_reps||[]];const N=new Date;N.setDate(N.getDate()-1),g=S.filter(C=>new Date(C.created_at||C.createdAt)>N).length}}catch(j){console.warn("Users API not available:",j)}const x=0,v=0,w=0;a({scholarship:{applications:p,total:p},schoolAid:{applications:x,total:x},studentRegistry:{newStudents:g,total:g},auditLogs:{newLogs:v,total:v},security:{threats:w,total:w}})}catch(f){console.error("Error fetching notification counts:",f)}finally{n(!1)}},o=async()=>{await i()},l=(f,p)=>{a(g=>{const x={...g};p?f==="scholarship"&&p==="applications"?x.scholarship.applications=0:f==="schoolAid"&&p==="applications"?x.schoolAid.applications=0:f==="studentRegistry"&&p==="newStudents"?x.studentRegistry.newStudents=0:f==="auditLogs"&&p==="newLogs"?x.auditLogs.newLogs=0:f==="security"&&p==="threats"&&(x.security.threats=0):x[f]={...x[f],total:0};const v=x[f];return typeof v=="object"&&"applications"in v&&(v.total=Object.values(v).reduce((w,j)=>typeof j=="number"?w+j:w,0)),x})},c=(f,p)=>{console.log(`Triggering notification for ${f}${p?`/${p}`:""}`),a(g=>{const x={...g};p?f==="scholarship"&&p==="applications"?x.scholarship.applications+=1:f==="schoolAid"&&p==="applications"?x.schoolAid.applications+=1:f==="studentRegistry"&&p==="newStudents"?x.studentRegistry.newStudents+=1:f==="auditLogs"&&p==="newLogs"?x.auditLogs.newLogs+=1:f==="security"&&p==="threats"&&(x.security.threats+=1):f==="scholarship"?x.scholarship.applications+=1:f==="schoolAid"?x.schoolAid.applications+=1:f==="studentRegistry"?x.studentRegistry.newStudents+=1:f==="auditLogs"?x.auditLogs.newLogs+=1:f==="security"&&(x.security.threats+=1);const v=x[f];return typeof v=="object"&&"applications"in v&&(v.total=Object.values(v).reduce((w,j)=>typeof j=="number"?w+j:w,0)),console.log("Updated notification counts:",x),x})};b.useEffect(()=>{i();const f=setInterval(i,3e4),p=()=>{c("studentRegistry","newStudents")};return window.addEventListener("userRegistered",p),()=>{clearInterval(f),window.removeEventListener("userRegistered",p)}},[]),b.useEffect(()=>{xa.requestPermission();const f=p=>{p.type.startsWith("scholarship_")&&c("scholarship","applications")};return xa.subscribe("scholarship_new_application",f),xa.subscribe("scholarship_application_review",f),xa.subscribe("scholarship_interview_scheduled",f),xa.subscribe("scholarship_interview_completed",f),xa.subscribe("scholarship_final_approval",f),xa.subscribe("scholarship_bulk_action",f),()=>{xa.unsubscribe("scholarship_new_application",f),xa.unsubscribe("scholarship_application_review",f),xa.unsubscribe("scholarship_interview_scheduled",f),xa.unsubscribe("scholarship_interview_completed",f),xa.unsubscribe("scholarship_final_approval",f),xa.unsubscribe("scholarship_bulk_action",f)}},[]);const u={notificationCounts:r,refreshNotifications:o,markAsRead:l,triggerNotification:c,triggerScholarshipNotification:(f,p)=>{switch(f){case"new_application":xa.notifyNewApplication(p);break;case"application_review":xa.notifyApplicationReview(p.application,p.action);break;case"interview_scheduled":xa.notifyInterviewScheduled(p);break;case"interview_completed":xa.notifyInterviewCompleted(p.interview,p.result);break;case"final_approval":xa.notifyFinalApproval(p);break;case"bulk_action":xa.notifyBulkAction(p.action,p.count);break;default:console.warn("Unknown scholarship notification type:",f)}},isLoading:s};return e.jsx(kO.Provider,{value:u,children:t})},FA=({count:t,className:r="",size:a="md",showZero:s=!1})=>{const n={sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4"};return t===0&&!s?null:e.jsx(wo,{children:e.jsx(br.div,{className:`
          ${n[a]} 
          bg-red-500 
          rounded-full 
          shadow-lg
          border-2 border-white
          absolute top-0 right-0
          z-10
          ${r}
        `,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:30,duration:.3},whileHover:{scale:1.1},title:`${t} new notifications`})})},SO=b.createContext(),_O=()=>{const t=b.useContext(SO);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},NX=({children:t})=>{const[r,a]=b.useState(fd.getCurrentLanguage()),[s,n]=b.useState(!1);b.useEffect(()=>{const d=localStorage.getItem("language")||"en";a(d),fd.setLanguage(d)},[]),b.useEffect(()=>{const d=u=>{a(u.detail.language)};return window.addEventListener("languageChanged",d),()=>window.removeEventListener("languageChanged",d)},[]);const c={language:r,changeLanguage:async d=>{n(!0);try{fd.setLanguage(d),a(d),localStorage.setItem("language",d),document.documentElement.lang=d,window.dispatchEvent(new CustomEvent("globalLanguageChanged",{detail:{language:d}})),console.log(`Global language changed to: ${d}`)}catch(u){console.error("Error changing language:",u)}finally{n(!1)}},t:(d,u={})=>fd.t(d,u),getAvailableLanguages:()=>fd.getAvailableLanguages(),isLoading:s};return e.jsx(SO.Provider,{value:c,children:t})};function kX({collapsed:t,onPageChange:r,activeItem:a}){const[s,n]=gt.useState(new Set([""])),[i,o]=gt.useState(null),[l,c]=gt.useState(!1),d=Gi(),{logout:u,isLoggingOut:f,currentUser:p}=_r(),{notificationCounts:g,markAsRead:x}=a5(),{t:v}=_O(),w=vD(p?.role,p?.system_role,v),j=D=>{switch(D){case"scholarship":return g.scholarship.total;case"sad":return g.schoolAid.total;case"studentRegistry":return g.studentRegistry.total;case"audit-logs":return g.auditLogs.total;case"security":return g.security.total;default:return 0}},_=(D,U)=>{switch(D){case"scholarship":if(U==="scholarship-applications")return g.scholarship.applications;break;case"sad":if(U==="sad-applications")return g.schoolAid.applications;break;case"studentRegistry":if(U==="studentRegistry-overview")return g.studentRegistry.newStudents;break;case"security":if(U==="security-threats")return g.security.threats;break}return 0};gt.useEffect(()=>{const D=()=>{c(window.innerWidth<768)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const S=D=>{const U=new Set(s);U.has(D)?U.delete(D):(U.clear(),U.add(D)),n(U)},N=async()=>{try{await u(),d("/",{replace:!0})}catch{d("/",{replace:!0})}},C=t&&!l;return e.jsx("div",{className:"flex",children:e.jsxs(br.div,{className:"bg-white border-r border-slate-200/50 flex flex-col dark:bg-slate-900 dark:border-slate-700 h-screen min-h-screen shadow-lg md:shadow-none",animate:{width:C?64:256},transition:{type:"spring",damping:25,stiffness:200,duration:.3},children:[e.jsx(br.div,{className:"flex-shrink-0",animate:{padding:C?12:24},transition:{type:"spring",damping:25,stiffness:200,duration:.3},children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"w-10 h-10 flex items-center justify-center text-white text-xl font-bold flex-shrink-0",children:[e.jsx("img",{src:"/GSM_logo.png",alt:"GSM Logo",className:"w-full h-full object-contain",onError:D=>{const U=D.target;U.style.display="none";const z=U.parentElement?.querySelector(".logo-fallback");z&&(z.style.display="block")}}),e.jsx("span",{className:"logo-fallback hidden text-white font-bold text-lg",children:"GSM"})]}),e.jsx(wo,{children:!C&&e.jsxs(br.div,{className:"min-w-0",initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2,ease:"easeInOut"},children:[e.jsx("h1",{className:"text-lg md:text-xl font-bold dark:text-white truncate",children:"GSM"}),e.jsx("p",{className:"text-xs text-slate-500 truncate",children:"Admin Dashboard"})]})})]})}),e.jsx("hr",{className:"border-slate-200 dark:border-slate-700 mx-2 flex-shrink-0"}),e.jsx("nav",{className:"flex-1 p-2 md:p-4 space-y-1 md:space-y-2 overflow-y-auto",children:w.map((D,U)=>e.jsxs(br.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:U*.1,duration:.3,ease:"easeOut"},children:[e.jsxs(br.button,{className:`w-full flex justify-between items-center p-2 md:p-2 rounded-xl transition-all duration-300 text-left ${C?"px-2":"px-3"} relative overflow-hidden group`,style:{background:a===D.id||D.subItems&&D.subItems.some(z=>z.id===i)?"linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(34, 197, 94, 0.05) 100%)":"transparent"},onClick:()=>{D.subItems?(S(D.id),D.subItems.length>0&&(o(D.subItems[0].id),r&&r(D.subItems[0].id))):(o(null),r&&r(D.id),x(D.id))},whileHover:{scale:1.02,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.98,transition:{duration:.1,ease:"easeInOut"}},initial:{opacity:0,x:-20},animate:{opacity:1,x:0,transition:{delay:U*.1,duration:.3,ease:"easeOut"}},exit:{opacity:0,x:-20,transition:{duration:.2,ease:"easeIn"}},children:[e.jsx(br.div,{className:"absolute inset-0 bg-gradient-to-r from-green-500/20 via-green-400/10 to-transparent rounded-xl opacity-0",initial:{opacity:0,scaleX:0,x:"100%"},whileHover:{opacity:1,scaleX:1,x:0,transition:{duration:.4,ease:"easeOut"}},style:{background:"linear-gradient(90deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 50%, transparent 100%)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"}}),e.jsx(br.div,{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-white/10 to-transparent rounded-xl opacity-0",initial:{opacity:0,scaleX:0,x:"100%"},whileHover:{opacity:1,scaleX:1,x:0,transition:{duration:.3,ease:"easeOut",delay:.1}}}),e.jsxs("div",{className:"flex items-center space-x-3 min-w-0 relative z-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx(D.icon,{className:`w-5 h-5 flex-shrink-0 transition-colors duration-300 ${a===D.id||D.subItems&&D.subItems.some(z=>z.id===i)?"text-green-600 dark:text-green-400":"text-slate-600 dark:text-slate-400 group-hover:text-green-500 dark:group-hover:text-green-400"}`}),j(D.id)>0&&e.jsx(FA,{count:j(D.id),size:"sm",className:"-top-1 -right-1"})]}),e.jsx(wo,{children:!C&&e.jsx(br.div,{className:"flex items-center space-x-2 min-w-0 flex-1",initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2,ease:"easeInOut"},children:e.jsx("span",{className:`text-sm font-medium truncate transition-colors duration-300 ${a===D.id||D.subItems&&D.subItems.some(z=>z.id===i)?"text-green-700 dark:text-green-300 font-semibold":"text-slate-600 dark:text-slate-400 group-hover:text-green-600 dark:group-hover:text-green-400"}`,children:D.label})})})]}),e.jsx(wo,{children:!C&&D.subItems&&e.jsx(br.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:-90},transition:{duration:.2,ease:"easeInOut"},children:e.jsx(zi,{className:`${s.has(D.id)?"rotate-180":""} w-4 h-4 text-slate-500 transition-transform duration-200 flex-shrink-0`})})})]}),e.jsx(wo,{children:!C&&D.subItems&&s.has(D.id)&&e.jsx(br.div,{className:"ml-6 md:ml-8 mt-2 space-y-1 border-l border-slate-300 pl-2",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},children:D.subItems.map((z,E)=>{const I=_(D.id,z.id);return e.jsxs(br.button,{className:`w-full text-sm text-left p-2 rounded-lg transition-all duration-300 relative overflow-hidden group ${i===z.id?"bg-green-100/50 dark:bg-green-900/20":""}`,style:{background:i===z.id?"linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(34, 197, 94, 0.05) 100%)":"transparent"},onClick:()=>{o(z.id),r&&r(z.id),x(D.id,z.id)},initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:E*.05,duration:.2,ease:"easeOut"},whileHover:{scale:1.02,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.98,transition:{duration:.1,ease:"easeInOut"}},exit:{opacity:0,x:-10,transition:{duration:.15,ease:"easeIn"}},children:[e.jsx(br.div,{className:"absolute inset-0 bg-gradient-to-r from-green-500/15 via-green-400/8 to-transparent rounded-lg opacity-0",initial:{opacity:0,scaleX:0,x:"100%"},whileHover:{opacity:1,scaleX:1,x:0,transition:{duration:.3,ease:"easeOut"}},style:{background:"linear-gradient(90deg, rgba(34, 197, 94, 0.15) 0%, rgba(34, 197, 94, 0.08) 50%, transparent 100%)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"}}),e.jsxs("div",{className:"relative flex items-center z-10",children:[e.jsx("span",{className:`truncate block flex-1 transition-colors duration-300 ${i===z.id?"text-green-700 dark:text-green-300 font-semibold":"text-slate-700 dark:text-slate-500 group-hover:text-green-600 dark:group-hover:text-green-400"}`,children:z.label}),I>0&&e.jsx(FA,{count:I,size:"sm",className:"-top-1 -right-1"})]})]},z.id)})})})]},D.id))}),e.jsx(br.div,{className:"flex-shrink-0 border-t border-slate-200 dark:border-slate-700",animate:{padding:C?8:16},transition:{type:"spring",damping:25,stiffness:200,duration:.3},children:e.jsxs(br.button,{onClick:N,disabled:f,className:`w-full flex items-center space-x-3 p-2 md:p-3 rounded-xl transition-all duration-200 text-left ${C?"px-2 justify-center":"px-3"} text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 disabled:opacity-50 disabled:cursor-not-allowed`,whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w.length*.1+.2,duration:.3,ease:"easeOut"},children:[e.jsx(Db,{className:"w-5 h-5 flex-shrink-0"}),e.jsx(wo,{children:!C&&e.jsx(br.span,{className:"text-sm font-medium",initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2,ease:"easeInOut"},children:v(f?"Logging out...":"Logout")})})]})})]})})}const SX=()=>{const[t,r]=b.useState(!1),[a,s]=b.useState([]),[n,i]=b.useState(0),{triggerNotification:o}=a5(),l=b.useRef(null);b.useEffect(()=>{(()=>{const _=xa.getStoredNotifications();s(_),i(_.filter(S=>!S.read).length)})();const v=_=>{s(S=>[_,...S]),i(S=>S+1),o("scholarship","applications")},w=({id:_})=>{s(S=>S.map(N=>N.id===_?{...N,read:!0}:N)),i(S=>Math.max(0,S-1))},j=()=>{s(_=>_.map(S=>({...S,read:!0}))),i(0)};return xa.subscribe("notification",v),xa.subscribe("notificationRead",w),xa.subscribe("allNotificationsRead",j),()=>{xa.unsubscribe("notification",v),xa.unsubscribe("notificationRead",w),xa.unsubscribe("allNotificationsRead",j)}},[o]),b.useEffect(()=>{const x=v=>{l.current&&!l.current.contains(v.target)&&r(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const c=x=>{xa.markAsRead(x)},d=()=>{xa.markAllAsRead()},u=()=>{xa.clearAll(),s([]),i(0)},f=(x,v)=>{if(v==="high")return e.jsx(Qt,{className:"w-4 h-4 text-red-500"});switch(x){case"scholarship_new_application":return e.jsx(jt,{className:"w-4 h-4 text-green-500"});case"scholarship_application_review":return e.jsx(U7,{className:"w-4 h-4 text-blue-500"});case"scholarship_interview_scheduled":case"scholarship_interview_completed":return e.jsx(lr,{className:"w-4 h-4 text-purple-500"});case"scholarship_final_approval":return e.jsx(jt,{className:"w-4 h-4 text-green-600"});case"scholarship_bulk_action":return e.jsx(AU,{className:"w-4 h-4 text-orange-500"});case"system_event":return e.jsx(Pd,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(Pd,{className:"w-4 h-4 text-gray-500"})}},p=x=>{switch(x){case"high":return"border-l-red-500 bg-red-50 dark:bg-red-900/20";case"normal":return"border-l-blue-500 bg-blue-50 dark:bg-blue-900/20";case"low":return"border-l-gray-500 bg-gray-50 dark:bg-gray-900/20";default:return"border-l-gray-500 bg-gray-50 dark:bg-gray-900/20"}},g=x=>{const v=new Date(x),j=Math.floor((new Date().getTime()-v.getTime())/(1e3*60));return j<1?"Just now":j<60?`${j}m ago`:j<1440?`${Math.floor(j/60)}h ago`:v.toLocaleDateString()};return e.jsxs("div",{className:"relative",ref:l,children:[e.jsxs("button",{onClick:()=>r(!t),className:"relative p-1.5 sm:p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 transition-colors",children:[e.jsx(qu,{className:"w-5 h-5 sm:w-6 sm:h-6"}),n>0&&e.jsx(br.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center font-bold",children:n>9?"9+":n})]}),e.jsx(wo,{children:t&&e.jsxs(br.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 sm:w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50 max-w-[calc(100vw-2rem)]",children:[e.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[n>0&&e.jsxs("button",{onClick:d,className:"text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[e.jsx("span",{className:"hidden sm:inline",children:"Mark all read"}),e.jsx("span",{className:"sm:hidden",children:"Read"})]}),e.jsx("button",{onClick:u,className:"text-xs text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"Clear all"})]})]})}),e.jsx("div",{className:"max-h-80 sm:max-h-96 overflow-y-auto",children:a.length===0?e.jsxs("div",{className:"p-6 sm:p-8 text-center text-gray-500 dark:text-gray-400",children:[e.jsx(qu,{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm sm:text-base",children:"No notifications yet"})]}):a.map(x=>e.jsx(br.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`p-3 sm:p-4 border-l-4 ${p(x.priority)} ${x.read?"bg-opacity-50":"bg-opacity-100"} hover:bg-opacity-75 transition-all duration-200`,children:e.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:f(x.type,x.priority)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm font-medium ${x.read?"text-gray-600 dark:text-gray-400":"text-gray-900 dark:text-white"}`,children:x.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:x.message}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:g(x.timestamp)})]}),!x.read&&e.jsx("button",{onClick:()=>c(x.id),className:"ml-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(dr,{className:"w-3 h-3"})})]})})]})},x.id))}),a.length>0&&e.jsx("div",{className:"p-3 sm:p-4 border-t border-gray-200 dark:border-gray-700",children:e.jsx("button",{onClick:()=>r(!1),className:"w-full text-center text-xs sm:text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"View all notifications"})})]})})]})};function _X({onToggleSidebar:t,breadcrumb:r=["Dashboard"]}){const[a,s]=gt.useState(""),{currentUser:n}=_r();gt.useEffect(()=>{const o=localStorage.getItem("theme");if(o)s(o),document.documentElement.classList.toggle("dark",o==="dark");else{const l=window.matchMedia("(prefers-color-scheme: dark)").matches;s(l?"dark":"light"),document.documentElement.classList.toggle("dark",l)}},[]);const i=()=>{const o=a==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o),document.documentElement.classList.toggle("dark",o==="dark")};return e.jsx("div",{className:"bg-white/-80 backdrop-blur-xl border-b border-slate-200 px-6 py-4 dark:bg-slate-800 dark:border-slate-700/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"p-2 rounded-lg text-slate-500 hover:bg-slate-200 transition-colors duration-200",onClick:t,children:e.jsx(H7,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"hidden md:flex items-center space-x-1",children:e.jsx("h1",{className:"text-md font-bold dark:text-white",children:"EDUCATION & SCHOLARSHIP MANAGEMENT"})}),e.jsx("div",{children:e.jsx("span",{className:"text-xs text-slate-500 font-bold",children:r.join(" > ")})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(Hr,{className:"w-4 h-4"}),e.jsx("span",{children:n?dk(n):""}),e.jsx("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded-full",children:n?.role?.startsWith("ssc")?"SSC":n?.role})]}),e.jsx(SX,{}),e.jsx("button",{className:"ml-2 rounded-xl p-2 bg-slate-300 text-slate-600 hover:bg-slate-400 dark:bg-slate-700 dark:text-yellow-400 dark:hover:bg-slate-900 transition-colors cursor-pointer",onClick:i,"aria-label":"Toggle dark mode",children:a==="dark"?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("path",{stroke:"currentColor",strokeWidth:"2",d:"M12 1v2m0 18v2m11-11h-2M3 12H1m16.95 7.07l-1.41-1.41M6.46 6.46L5.05 5.05m13.9 0l-1.41 1.41M6.46 17.54l-1.41 1.41"})]}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{stroke:"currentColor",strokeWidth:"2",d:"M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z"})})})]})]})})}const AX=({label:t,value:r,subtext:a,status:s="neutral",trend:n=null,icon:i})=>{const o=()=>{switch(s){case"good":return"text-green-600 bg-green-50 border-green-200";case"warning":return"text-amber-600 bg-amber-50 border-amber-200";case"critical":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-white border-gray-200"}},l=()=>n?n>0?e.jsx(B7,{className:"w-4 h-4 text-green-500"}):n<0?e.jsx($7,{className:"w-4 h-4 text-red-500"}):e.jsx(lk,{className:"w-4 h-4 text-gray-400"}):null;return e.jsxs("div",{className:`p-4 rounded-xl border transition-all duration-200 ${o()} flex flex-col justify-between h-32`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm font-medium opacity-80 uppercase tracking-wide",children:t}),i&&e.jsx(i,{className:"w-5 h-5 opacity-60"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-3xl font-bold tracking-tight",children:r}),(a||n)&&e.jsxs("div",{className:"flex items-center mt-1 space-x-2 text-sm opacity-80",children:[l(),e.jsx("span",{children:a})]})]})]})},CX=({items:t=[]})=>{t.filter(a=>a.priority==="high"||a.status==="critical").slice(0,5);const r=a=>{switch(a){case"stale_application":return e.jsx(lr,{className:"w-5 h-5 text-amber-500"});case"payment_failed":return e.jsx(az,{className:"w-5 h-5 text-red-500"});case"verification_needed":return e.jsx(Qt,{className:"w-5 h-5 text-blue-500"});default:return e.jsx(Qt,{className:"w-5 h-5 text-gray-400"})}};return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm h-full flex flex-col",children:[e.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Requires Attention"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Items that need immediate resolution"})]}),e.jsxs("span",{className:"bg-red-100 text-red-700 text-xs font-bold px-2 py-1 rounded-full",children:[t.length," Pending"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-gray-400",children:[e.jsx(jt,{className:"w-12 h-12 mb-2 opacity-20"}),e.jsx("p",{children:"All caught up! No critical issues."})]}):e.jsx("div",{className:"space-y-1",children:t.map((a,s)=>e.jsxs("div",{className:"group flex items-center p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors border border-transparent hover:border-gray-100",children:[e.jsx("div",{className:"flex-shrink-0 mr-4 bg-white p-2 rounded-lg border border-gray-100 shadow-sm",children:r(a.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:a.title}),e.jsx("span",{className:"text-xs text-gray-400",children:a.timeAgo})]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:a.description})]}),e.jsx(Xu,{className:"w-4 h-4 text-gray-300 group-hover:text-gray-500 ml-2"})]},s))})}),e.jsx("div",{className:"p-3 border-t border-gray-50 bg-gray-50/50 rounded-b-xl",children:e.jsx("button",{className:"w-full py-2 text-sm text-blue-600 font-medium hover:bg-blue-50 rounded-lg transition-colors",children:"View All Action Items"})})]})};function AO(t){var r,a,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(a=AO(t[r]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a);return s}function aa(){for(var t,r,a=0,s="",n=arguments.length;a<n;a++)(t=arguments[a])&&(r=AO(t))&&(s&&(s+=" "),s+=r);return s}var Hw={},Ww={},$A;function PX(){return $A||($A=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a==="__proto__"}t.isUnsafeProperty=r})(Ww)),Ww}var Gw={},BA;function CO(){return BA||(BA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}t.isDeepKey=r})(Gw)),Gw}var Yw={},UA;function PO(){return UA||(UA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}t.toKey=r})(Yw)),Yw}var Kw={},zA;function s5(){return zA||(zA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){const s=[],n=a.length;if(n===0)return s;let i=0,o="",l="",c=!1;for(a.charCodeAt(0)===46&&(s.push(""),i++);i<n;){const d=a[i];l?d==="\\"&&i+1<n?(i++,o+=a[i]):d===l?l="":o+=d:c?d==='"'||d==="'"?l=d:d==="]"?(c=!1,s.push(o),o=""):o+=d:d==="["?(c=!0,o&&(s.push(o),o="")):d==="."?o&&(s.push(o),o=""):o+=d,i++}return o&&s.push(o),s}t.toPath=r})(Kw)),Kw}var qA;function n5(){return qA||(qA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=PX(),a=CO(),s=PO(),n=s5();function i(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(r.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?a.isDeepKey(c)?i(l,n.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=s.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return o(l,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),r.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function o(l,c,d){if(c.length===0)return d;let u=l;for(let f=0;f<c.length;f++){if(u==null||r.isUnsafeProperty(c[f]))return d;u=u[c[f]]}return u===void 0?d:u}t.get=i})(Hw)),Hw}var Jw,VA;function EX(){return VA||(VA=1,Jw=n5().get),Jw}var TX=EX();const Wu=ml(TX);var Xw={exports:{}},Na={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA;function DX(){if(HA)return Na;HA=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function x(v){if(typeof v=="object"&&v!==null){var w=v.$$typeof;switch(w){case t:switch(v=v.type,v){case a:case n:case s:case c:case d:case p:return v;default:switch(v=v&&v.$$typeof,v){case o:case l:case f:case u:return v;case i:return v;default:return w}}case r:return w}}}return Na.ContextConsumer=i,Na.ContextProvider=o,Na.Element=t,Na.ForwardRef=l,Na.Fragment=a,Na.Lazy=f,Na.Memo=u,Na.Portal=r,Na.Profiler=n,Na.StrictMode=s,Na.Suspense=c,Na.SuspenseList=d,Na.isContextConsumer=function(v){return x(v)===i},Na.isContextProvider=function(v){return x(v)===o},Na.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},Na.isForwardRef=function(v){return x(v)===l},Na.isFragment=function(v){return x(v)===a},Na.isLazy=function(v){return x(v)===f},Na.isMemo=function(v){return x(v)===u},Na.isPortal=function(v){return x(v)===r},Na.isProfiler=function(v){return x(v)===n},Na.isStrictMode=function(v){return x(v)===s},Na.isSuspense=function(v){return x(v)===c},Na.isSuspenseList=function(v){return x(v)===d},Na.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===a||v===n||v===s||v===c||v===d||typeof v=="object"&&v!==null&&(v.$$typeof===f||v.$$typeof===u||v.$$typeof===o||v.$$typeof===i||v.$$typeof===l||v.$$typeof===g||v.getModuleId!==void 0)},Na.typeOf=x,Na}var WA;function IX(){return WA||(WA=1,Xw.exports=DX()),Xw.exports}var OX=IX(),vn=t=>t===0?0:t>0?1:-1,Wi=t=>typeof t=="number"&&t!=+t,H0=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Gt=t=>(typeof t=="number"||t instanceof Number)&&!Wi(t),Cc=t=>Gt(t)||typeof t=="string",RX=0,Op=t=>{var r=++RX;return"".concat(t||"").concat(r)},vi=function(r,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Gt(r)&&typeof r!="string")return s;var i;if(H0(r)){if(a==null)return s;var o=r.indexOf("%");i=a*parseFloat(r.slice(0,o))/100}else i=+r;return Wi(i)&&(i=s),n&&a!=null&&i>a&&(i=a),i},EO=t=>{if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},GA=(t,r)=>Gt(t)&&Gt(r)?a=>t+a*(r-t):()=>r;function el(t,r,a){return Gt(t)&&Gt(r)?t+a*(r-t):r}function TO(t,r,a){if(!(!t||!t.length))return t.find(s=>s&&(typeof r=="function"?r(s):Wu(s,r))===a)}var Za=t=>t===null||typeof t>"u",ug=t=>Za(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),LX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function i5(t){if(typeof t!="string")return!1;var r=LX;return r.includes(t)}var MX=["viewBox","children"],YA=["points","pathLength"],Zw={svg:MX,polygon:YA,polyline:YA},o5=(t,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(b.isValidElement(t)&&(a=t.props),typeof a!="object"&&typeof a!="function")return null;var s={};return Object.keys(a).forEach(n=>{i5(n)&&(s[n]=(i=>a[n](a,i)))}),s},FX=(t,r,a)=>s=>(t(r,a,s),null),hg=(t,r,a)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var s=null;return Object.keys(t).forEach(n=>{var i=t[n];i5(n)&&typeof i=="function"&&(s||(s={}),s[n]=FX(i,r,a))}),s},$X=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function DO(t){if(typeof t!="string")return!1;var r=$X;return r.includes(t)}function Ec(t){var r=Object.entries(t).filter(a=>{var[s]=a;return DO(s)});return Object.fromEntries(r)}var KA=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",JA=null,Qw=null,IO=t=>{if(t===JA&&Array.isArray(Qw))return Qw;var r=[];return b.Children.forEach(t,a=>{Za(a)||(OX.isFragment(a)?r=r.concat(IO(a.props.children)):r.push(a))}),Qw=r,JA=t,r};function mg(t,r){var a=[],s=[];return Array.isArray(r)?s=r.map(n=>KA(n)):s=[KA(r)],IO(t).forEach(n=>{var i=Wu(n,"type.displayName")||Wu(n,"type.name");s.indexOf(i)!==-1&&a.push(n)}),a}var OO=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,BX=(t,r,a,s)=>{var n;if(typeof r=="symbol"||typeof r=="number")return!0;var i=(n=s&&Zw?.[s])!==null&&n!==void 0?n:[],o=r.startsWith("data-"),l=typeof t!="function"&&(!!s&&i.includes(r)||DO(r)),c=!!a&&i5(r);return o||l||c},ds=(t,r,a)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(b.isValidElement(t)&&(s=t.props),typeof s!="object"&&typeof s!="function")return null;var n={};return Object.keys(s).forEach(i=>{var o;BX((o=s)===null||o===void 0?void 0:o[i],i,r,a)&&(n[i]=s[i])}),n},UX=["children","width","height","viewBox","className","style","title","desc"];function z2(){return z2=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},z2.apply(null,arguments)}function zX(t,r){if(t==null)return{};var a,s,n=qX(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function qX(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var l5=b.forwardRef((t,r)=>{var{children:a,width:s,height:n,viewBox:i,className:o,style:l,title:c,desc:d}=t,u=zX(t,UX),f=i||{width:s,height:n,x:0,y:0},p=aa("recharts-surface",o);return b.createElement("svg",z2({},ds(u,!0,"svg"),{className:p,width:s,height:n,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:r}),b.createElement("title",null,c),b.createElement("desc",null,d),a)}),VX=["children","className"];function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},q2.apply(null,arguments)}function HX(t,r){if(t==null)return{};var a,s,n=WX(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function WX(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var an=b.forwardRef((t,r)=>{var{children:a,className:s}=t,n=HX(t,VX),i=aa("recharts-layer",s);return b.createElement("g",q2({className:i},ds(n,!0),{ref:r}),a)}),RO=b.createContext(null),GX=()=>b.useContext(RO);function Ia(t){return function(){return t}}const LO=Math.cos,Ry=Math.sin,Wl=Math.sqrt,Ly=Math.PI,Vb=2*Ly,V2=Math.PI,H2=2*V2,R0=1e-6,YX=H2-R0;function MO(t){this._+=t[0];for(let r=1,a=t.length;r<a;++r)this._+=arguments[r]+t[r]}function KX(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return MO;const a=10**r;return function(s){this._+=s[0];for(let n=1,i=s.length;n<i;++n)this._+=Math.round(arguments[n]*a)/a+s[n]}}class JX{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?MO:KX(r)}moveTo(r,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,a){this._append`L${this._x1=+r},${this._y1=+a}`}quadraticCurveTo(r,a,s,n){this._append`Q${+r},${+a},${this._x1=+s},${this._y1=+n}`}bezierCurveTo(r,a,s,n,i,o){this._append`C${+r},${+a},${+s},${+n},${this._x1=+i},${this._y1=+o}`}arcTo(r,a,s,n,i){if(r=+r,a=+a,s=+s,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-r,d=n-a,u=o-r,f=l-a,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=r},${this._y1=a}`;else if(p>R0)if(!(Math.abs(f*c-d*u)>R0)||!i)this._append`L${this._x1=r},${this._y1=a}`;else{let g=s-o,x=n-l,v=c*c+d*d,w=g*g+x*x,j=Math.sqrt(v),_=Math.sqrt(p),S=i*Math.tan((V2-Math.acos((v+p-w)/(2*j*_)))/2),N=S/_,C=S/j;Math.abs(N-1)>R0&&this._append`L${r+N*u},${a+N*f}`,this._append`A${i},${i},0,0,${+(f*g>u*x)},${this._x1=r+C*c},${this._y1=a+C*d}`}}arc(r,a,s,n,i,o){if(r=+r,a=+a,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(n),c=s*Math.sin(n),d=r+l,u=a+c,f=1^o,p=o?n-i:i-n;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>R0||Math.abs(this._y1-u)>R0)&&this._append`L${d},${u}`,s&&(p<0&&(p=p%H2+H2),p>YX?this._append`A${s},${s},0,1,${f},${r-l},${a-c}A${s},${s},0,1,${f},${this._x1=d},${this._y1=u}`:p>R0&&this._append`A${s},${s},0,${+(p>=V2)},${f},${this._x1=r+s*Math.cos(i)},${this._y1=a+s*Math.sin(i)}`)}rect(r,a,s,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+a}h${s=+s}v${+n}h${-s}Z`}toString(){return this._}}function c5(t){let r=3;return t.digits=function(a){if(!arguments.length)return r;if(a==null)r=null;else{const s=Math.floor(a);if(!(s>=0))throw new RangeError(`invalid digits: ${a}`);r=s}return t},()=>new JX(r)}function d5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function FO(t){this._context=t}FO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function Hb(t){return new FO(t)}function $O(t){return t[0]}function BO(t){return t[1]}function UO(t,r){var a=Ia(!0),s=null,n=Hb,i=null,o=c5(l);t=typeof t=="function"?t:t===void 0?$O:Ia(t),r=typeof r=="function"?r:r===void 0?BO:Ia(r);function l(c){var d,u=(c=d5(c)).length,f,p=!1,g;for(s==null&&(i=n(g=o())),d=0;d<=u;++d)!(d<u&&a(f=c[d],d,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(f,d,c),+r(f,d,c));if(g)return i=null,g+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ia(+c),l):t},l.y=function(c){return arguments.length?(r=typeof c=="function"?c:Ia(+c),l):r},l.defined=function(c){return arguments.length?(a=typeof c=="function"?c:Ia(!!c),l):a},l.curve=function(c){return arguments.length?(n=c,s!=null&&(i=n(s)),l):n},l.context=function(c){return arguments.length?(c==null?s=i=null:i=n(s=c),l):s},l}function Nx(t,r,a){var s=null,n=Ia(!0),i=null,o=Hb,l=null,c=c5(d);t=typeof t=="function"?t:t===void 0?$O:Ia(+t),r=typeof r=="function"?r:Ia(r===void 0?0:+r),a=typeof a=="function"?a:a===void 0?BO:Ia(+a);function d(f){var p,g,x,v=(f=d5(f)).length,w,j=!1,_,S=new Array(v),N=new Array(v);for(i==null&&(l=o(_=c())),p=0;p<=v;++p){if(!(p<v&&n(w=f[p],p,f))===j)if(j=!j)g=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=p-1;x>=g;--x)l.point(S[x],N[x]);l.lineEnd(),l.areaEnd()}j&&(S[p]=+t(w,p,f),N[p]=+r(w,p,f),l.point(s?+s(w,p,f):S[p],a?+a(w,p,f):N[p]))}if(_)return l=null,_+""||null}function u(){return UO().defined(n).curve(o).context(i)}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ia(+f),s=null,d):t},d.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ia(+f),d):t},d.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Ia(+f),d):s},d.y=function(f){return arguments.length?(r=typeof f=="function"?f:Ia(+f),a=null,d):r},d.y0=function(f){return arguments.length?(r=typeof f=="function"?f:Ia(+f),d):r},d.y1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:Ia(+f),d):a},d.lineX0=d.lineY0=function(){return u().x(t).y(r)},d.lineY1=function(){return u().x(t).y(a)},d.lineX1=function(){return u().x(s).y(r)},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ia(!!f),d):n},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class zO{constructor(r,a){this._context=r,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,a){switch(r=+r,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,a,r,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,r,this._y0,r,a);break}}this._x0=r,this._y0=a}}function XX(t){return new zO(t,!0)}function ZX(t){return new zO(t,!1)}const u5={draw(t,r){const a=Wl(r/Ly);t.moveTo(a,0),t.arc(0,0,a,0,Vb)}},QX={draw(t,r){const a=Wl(r/5)/2;t.moveTo(-3*a,-a),t.lineTo(-a,-a),t.lineTo(-a,-3*a),t.lineTo(a,-3*a),t.lineTo(a,-a),t.lineTo(3*a,-a),t.lineTo(3*a,a),t.lineTo(a,a),t.lineTo(a,3*a),t.lineTo(-a,3*a),t.lineTo(-a,a),t.lineTo(-3*a,a),t.closePath()}},qO=Wl(1/3),eZ=qO*2,tZ={draw(t,r){const a=Wl(r/eZ),s=a*qO;t.moveTo(0,-a),t.lineTo(s,0),t.lineTo(0,a),t.lineTo(-s,0),t.closePath()}},rZ={draw(t,r){const a=Wl(r),s=-a/2;t.rect(s,s,a,a)}},aZ=.8908130915292852,VO=Ry(Ly/10)/Ry(7*Ly/10),sZ=Ry(Vb/10)*VO,nZ=-LO(Vb/10)*VO,iZ={draw(t,r){const a=Wl(r*aZ),s=sZ*a,n=nZ*a;t.moveTo(0,-a),t.lineTo(s,n);for(let i=1;i<5;++i){const o=Vb*i/5,l=LO(o),c=Ry(o);t.lineTo(c*a,-l*a),t.lineTo(l*s-c*n,c*s+l*n)}t.closePath()}},ej=Wl(3),oZ={draw(t,r){const a=-Wl(r/(ej*3));t.moveTo(0,a*2),t.lineTo(-ej*a,-a),t.lineTo(ej*a,-a),t.closePath()}},Yo=-.5,Ko=Wl(3)/2,W2=1/Wl(12),lZ=(W2/2+1)*3,cZ={draw(t,r){const a=Wl(r/lZ),s=a/2,n=a*W2,i=s,o=a*W2+a,l=-i,c=o;t.moveTo(s,n),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(Yo*s-Ko*n,Ko*s+Yo*n),t.lineTo(Yo*i-Ko*o,Ko*i+Yo*o),t.lineTo(Yo*l-Ko*c,Ko*l+Yo*c),t.lineTo(Yo*s+Ko*n,Yo*n-Ko*s),t.lineTo(Yo*i+Ko*o,Yo*o-Ko*i),t.lineTo(Yo*l+Ko*c,Yo*c-Ko*l),t.closePath()}};function dZ(t,r){let a=null,s=c5(n);t=typeof t=="function"?t:Ia(t||u5),r=typeof r=="function"?r:Ia(r===void 0?64:+r);function n(){let i;if(a||(a=i=s()),t.apply(this,arguments).draw(a,+r.apply(this,arguments)),i)return a=null,i+""||null}return n.type=function(i){return arguments.length?(t=typeof i=="function"?i:Ia(i),n):t},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:Ia(+i),n):r},n.context=function(i){return arguments.length?(a=i??null,n):a},n}function My(){}function Fy(t,r,a){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+r)/6,(t._y0+4*t._y1+a)/6)}function HO(t){this._context=t}HO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fy(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function uZ(t){return new HO(t)}function WO(t){this._context=t}WO.prototype={areaStart:My,areaEnd:My,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x2=t,this._y2=r;break;case 1:this._point=2,this._x3=t,this._y3=r;break;case 2:this._point=3,this._x4=t,this._y4=r,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+r)/6);break;default:Fy(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function hZ(t){return new WO(t)}function GO(t){this._context=t}GO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(a,s):this._context.moveTo(a,s);break;case 3:this._point=4;default:Fy(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function mZ(t){return new GO(t)}function YO(t){this._context=t}YO.prototype={areaStart:My,areaEnd:My,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,r){t=+t,r=+r,this._point?this._context.lineTo(t,r):(this._point=1,this._context.moveTo(t,r))}};function fZ(t){return new YO(t)}function XA(t){return t<0?-1:1}function ZA(t,r,a){var s=t._x1-t._x0,n=r-t._x1,i=(t._y1-t._y0)/(s||n<0&&-0),o=(a-t._y1)/(n||s<0&&-0),l=(i*n+o*s)/(s+n);return(XA(i)+XA(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function QA(t,r){var a=t._x1-t._x0;return a?(3*(t._y1-t._y0)/a-r)/2:r}function tj(t,r,a){var s=t._x0,n=t._y0,i=t._x1,o=t._y1,l=(i-s)/3;t._context.bezierCurveTo(s+l,n+l*r,i-l,o-l*a,i,o)}function $y(t){this._context=t}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tj(this,this._t0,QA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){var a=NaN;if(t=+t,r=+r,!(t===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,tj(this,QA(this,a=ZA(this,t,r)),a);break;default:tj(this,this._t0,a=ZA(this,t,r));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r,this._t0=a}}};function KO(t){this._context=new JO(t)}(KO.prototype=Object.create($y.prototype)).point=function(t,r){$y.prototype.point.call(this,r,t)};function JO(t){this._context=t}JO.prototype={moveTo:function(t,r){this._context.moveTo(r,t)},closePath:function(){this._context.closePath()},lineTo:function(t,r){this._context.lineTo(r,t)},bezierCurveTo:function(t,r,a,s,n,i){this._context.bezierCurveTo(r,t,s,a,i,n)}};function pZ(t){return new $y(t)}function gZ(t){return new KO(t)}function XO(t){this._context=t}XO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,r=this._y,a=t.length;if(a)if(this._line?this._context.lineTo(t[0],r[0]):this._context.moveTo(t[0],r[0]),a===2)this._context.lineTo(t[1],r[1]);else for(var s=e6(t),n=e6(r),i=0,o=1;o<a;++i,++o)this._context.bezierCurveTo(s[0][i],n[0][i],s[1][i],n[1][i],t[o],r[o]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,r){this._x.push(+t),this._y.push(+r)}};function e6(t){var r,a=t.length-1,s,n=new Array(a),i=new Array(a),o=new Array(a);for(n[0]=0,i[0]=2,o[0]=t[0]+2*t[1],r=1;r<a-1;++r)n[r]=1,i[r]=4,o[r]=4*t[r]+2*t[r+1];for(n[a-1]=2,i[a-1]=7,o[a-1]=8*t[a-1]+t[a],r=1;r<a;++r)s=n[r]/i[r-1],i[r]-=s,o[r]-=s*o[r-1];for(n[a-1]=o[a-1]/i[a-1],r=a-2;r>=0;--r)n[r]=(o[r]-n[r+1])/i[r];for(i[a-1]=(t[a]+n[a-1])/2,r=0;r<a-1;++r)i[r]=2*t[r+1]-n[r+1];return[n,i]}function xZ(t){return new XO(t)}function Wb(t,r){this._context=t,this._t=r}Wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(t,r);else{var a=this._x*(1-this._t)+t*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,r)}break}}this._x=t,this._y=r}};function yZ(t){return new Wb(t,.5)}function bZ(t){return new Wb(t,0)}function vZ(t){return new Wb(t,1)}function Tm(t,r){if((o=t.length)>1)for(var a=1,s,n,i=t[r[0]],o,l=i.length;a<o;++a)for(n=i,i=t[r[a]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}function G2(t){for(var r=t.length,a=new Array(r);--r>=0;)a[r]=r;return a}function wZ(t,r){return t[r]}function jZ(t){const r=[];return r.key=t,r}function NZ(){var t=Ia([]),r=G2,a=Tm,s=wZ;function n(i){var o=Array.from(t.apply(this,arguments),jZ),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(f,o[l].key,d,i)]).data=f;for(l=0,u=d5(r(o));l<c;++l)o[u[l]].index=l;return a(o,u),o}return n.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Ia(Array.from(i)),n):t},n.value=function(i){return arguments.length?(s=typeof i=="function"?i:Ia(+i),n):s},n.order=function(i){return arguments.length?(r=i==null?G2:typeof i=="function"?i:Ia(Array.from(i)),n):r},n.offset=function(i){return arguments.length?(a=i??Tm,n):a},n}function kZ(t,r){if((s=t.length)>0){for(var a,s,n=0,i=t[0].length,o;n<i;++n){for(o=a=0;a<s;++a)o+=t[a][n][1]||0;if(o)for(a=0;a<s;++a)t[a][n][1]/=o}Tm(t,r)}}function SZ(t,r){if((n=t.length)>0){for(var a=0,s=t[r[0]],n,i=s.length;a<i;++a){for(var o=0,l=0;o<n;++o)l+=t[o][a][1]||0;s[a][1]+=s[a][0]=-l/2}Tm(t,r)}}function _Z(t,r){if(!(!((o=t.length)>0)||!((i=(n=t[r[0]]).length)>0))){for(var a=0,s=1,n,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=t[r[l]],f=u[s][1]||0,p=u[s-1][1]||0,g=(f-p)/2,x=0;x<l;++x){var v=t[r[x]],w=v[s][1]||0,j=v[s-1][1]||0;g+=w-j}c+=f,d+=g*f}n[s-1][1]+=n[s-1][0]=a,c&&(a-=d/c)}n[s-1][1]+=n[s-1][0]=a,Tm(t,r)}}var AZ=["type","size","sizeType"];function Y2(){return Y2=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Y2.apply(null,arguments)}function t6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function r6(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?t6(Object(a),!0).forEach(function(s){CZ(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):t6(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function CZ(t,r,a){return(r=PZ(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function PZ(t){var r=EZ(t,"string");return typeof r=="symbol"?r:r+""}function EZ(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function TZ(t,r){if(t==null)return{};var a,s,n=DZ(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function DZ(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var ZO={symbolCircle:u5,symbolCross:QX,symbolDiamond:tZ,symbolSquare:rZ,symbolStar:iZ,symbolTriangle:oZ,symbolWye:cZ},IZ=Math.PI/180,OZ=t=>{var r="symbol".concat(ug(t));return ZO[r]||u5},RZ=(t,r,a)=>{if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*IZ;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.tan(s)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},LZ=(t,r)=>{ZO["symbol".concat(ug(t))]=r},h5=t=>{var{type:r="circle",size:a=64,sizeType:s="area"}=t,n=TZ(t,AZ),i=r6(r6({},n),{},{type:r,size:a,sizeType:s}),o=()=>{var f=OZ(r),p=dZ().type(f).size(RZ(a,s,r));return p()},{className:l,cx:c,cy:d}=i,u=ds(i,!0);return c===+c&&d===+d&&a===+a?b.createElement("path",Y2({},u,{className:aa("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};h5.registerSymbol=LZ;function K2(){return K2=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},K2.apply(null,arguments)}function a6(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function MZ(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?a6(Object(a),!0).forEach(function(s){m5(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):a6(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function m5(t,r,a){return(r=FZ(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function FZ(t){var r=$Z(t,"string");return typeof r=="symbol"?r:r+""}function $Z(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Jo=32;class f5 extends b.PureComponent{renderIcon(r,a){var{inactiveColor:s}=this.props,n=Jo/2,i=Jo/6,o=Jo/3,l=r.inactive?s:r.color,c=a??r.type;if(c==="none")return null;if(c==="plainline")return b.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:n,x2:Jo,y2:n,className:"recharts-legend-icon"});if(c==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(n,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(n,`
            H`).concat(Jo,"M").concat(2*o,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if(c==="rect")return b.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Jo/8,"h").concat(Jo,"v").concat(Jo*3/4,"h").concat(-Jo,"z"),className:"recharts-legend-icon"});if(b.isValidElement(r.legendIcon)){var d=MZ({},r);return delete d.legendIcon,b.cloneElement(r.legendIcon,d)}return b.createElement(h5,{fill:l,cx:n,cy:n,size:Jo,sizeType:"diameter",type:c})}renderItems(){var{payload:r,iconSize:a,layout:s,formatter:n,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:Jo,height:Jo},c={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((u,f)=>{var p=u.formatter||n,g=aa({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var x=u.inactive?i:u.color,v=p?p(u.value,u,f):u.value;return b.createElement("li",K2({className:g,style:c,key:"legend-item-".concat(f)},hg(this.props,u,f)),b.createElement(l5,{width:a,height:a,viewBox:l,style:d,"aria-label":"".concat(v," legend icon")},this.renderIcon(u,o)),b.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},v))})}render(){var{payload:r,layout:a,align:s}=this.props;if(!r||!r.length)return null;var n={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:n},this.renderItems())}}m5(f5,"displayName","Legend");m5(f5,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var rj={},aj={},s6;function BZ(){return s6||(s6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a,s){const n=new Map;for(let i=0;i<a.length;i++){const o=a[i],l=s(o);n.has(l)||n.set(l,o)}return Array.from(n.values())}t.uniqBy=r})(aj)),aj}var sj={},n6;function QO(){return n6||(n6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a}t.identity=r})(sj)),sj}var nj={},ij={},oj={},i6;function UZ(){return i6||(i6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return Number.isSafeInteger(a)&&a>=0}t.isLength=r})(oj)),oj}var o6;function p5(){return o6||(o6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=UZ();function a(s){return s!=null&&typeof s!="function"&&r.isLength(s.length)}t.isArrayLike=a})(ij)),ij}var lj={},l6;function zZ(){return l6||(l6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="object"&&a!==null}t.isObjectLike=r})(lj)),lj}var c6;function qZ(){return c6||(c6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=p5(),a=zZ();function s(n){return a.isObjectLike(n)&&r.isArrayLike(n)}t.isArrayLikeObject=s})(nj)),nj}var cj={},dj={},d6;function VZ(){return d6||(d6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n5();function a(s){return function(n){return r.get(n,s)}}t.property=a})(dj)),dj}var uj={},hj={},mj={},fj={},u6;function eR(){return u6||(u6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a!==null&&(typeof a=="object"||typeof a=="function")}t.isObject=r})(fj)),fj}var pj={},h6;function tR(){return h6||(h6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a==null||typeof a!="object"&&typeof a!="function"}t.isPrimitive=r})(pj)),pj}var gj={},m6;function g5(){return m6||(m6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a,s){return a===s||Number.isNaN(a)&&Number.isNaN(s)}t.eq=r})(gj)),gj}var f6;function HZ(){return f6||(f6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=x5(),a=eR(),s=tR(),n=g5();function i(f,p,g){return typeof g!="function"?r.isMatch(f,p):o(f,p,function x(v,w,j,_,S,N){const C=g(v,w,j,_,S,N);return C!==void 0?!!C:o(v,w,x,N)},new Map)}function o(f,p,g,x){if(p===f)return!0;switch(typeof p){case"object":return l(f,p,g,x);case"function":return Object.keys(p).length>0?o(f,{...p},g,x):n.eq(f,p);default:return a.isObject(f)?typeof p=="string"?p==="":!0:n.eq(f,p)}}function l(f,p,g,x){if(p==null)return!0;if(Array.isArray(p))return d(f,p,g,x);if(p instanceof Map)return c(f,p,g,x);if(p instanceof Set)return u(f,p,g,x);const v=Object.keys(p);if(f==null)return v.length===0;if(v.length===0)return!0;if(x&&x.has(p))return x.get(p)===f;x&&x.set(p,f);try{for(let w=0;w<v.length;w++){const j=v[w];if(!s.isPrimitive(f)&&!(j in f)||p[j]===void 0&&f[j]!==void 0||p[j]===null&&f[j]!==null||!g(f[j],p[j],j,f,p,x))return!1}return!0}finally{x&&x.delete(p)}}function c(f,p,g,x){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[v,w]of p.entries()){const j=f.get(v);if(g(j,w,v,f,p,x)===!1)return!1}return!0}function d(f,p,g,x){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const v=new Set;for(let w=0;w<p.length;w++){const j=p[w];let _=!1;for(let S=0;S<f.length;S++){if(v.has(S))continue;const N=f[S];let C=!1;if(g(N,j,w,f,p,x)&&(C=!0),C){v.add(S),_=!0;break}}if(!_)return!1}return!0}function u(f,p,g,x){return p.size===0?!0:f instanceof Set?d([...f],[...p],g,x):!1}t.isMatchWith=i,t.isSetMatch=u})(mj)),mj}var p6;function x5(){return p6||(p6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=HZ();function a(s,n){return r.isMatchWith(s,n,()=>{})}t.isMatch=a})(hj)),hj}var xj={},yj={},bj={},g6;function rR(){return g6||(g6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return Object.getOwnPropertySymbols(a).filter(s=>Object.prototype.propertyIsEnumerable.call(a,s))}t.getSymbols=r})(bj)),bj}var vj={},x6;function y5(){return x6||(x6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}t.getTag=r})(vj)),vj}var wj={},y6;function b5(){return y6||(y6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",a="[object String]",s="[object Number]",n="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",p="[object ArrayBuffer]",g="[object Object]",x="[object Error]",v="[object DataView]",w="[object Uint8Array]",j="[object Uint8ClampedArray]",_="[object Uint16Array]",S="[object Uint32Array]",N="[object BigUint64Array]",C="[object Int8Array]",D="[object Int16Array]",U="[object Int32Array]",z="[object BigInt64Array]",E="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=i,t.arrayBufferTag=p,t.arrayTag=u,t.bigInt64ArrayTag=z,t.bigUint64ArrayTag=N,t.booleanTag=n,t.dataViewTag=v,t.dateTag=l,t.errorTag=x,t.float32ArrayTag=E,t.float64ArrayTag=I,t.functionTag=f,t.int16ArrayTag=D,t.int32ArrayTag=U,t.int8ArrayTag=C,t.mapTag=c,t.numberTag=s,t.objectTag=g,t.regexpTag=r,t.setTag=d,t.stringTag=a,t.symbolTag=o,t.uint16ArrayTag=_,t.uint32ArrayTag=S,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=j})(wj)),wj}var jj={},b6;function WZ(){return b6||(b6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}t.isTypedArray=r})(jj)),jj}var v6;function aR(){return v6||(v6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=rR(),a=y5(),s=b5(),n=tR(),i=WZ();function o(u,f){return l(u,void 0,u,new Map,f)}function l(u,f,p,g=new Map,x=void 0){const v=x?.(u,f,p,g);if(v!==void 0)return v;if(n.isPrimitive(u))return u;if(g.has(u))return g.get(u);if(Array.isArray(u)){const w=new Array(u.length);g.set(u,w);for(let j=0;j<u.length;j++)w[j]=l(u[j],j,p,g,x);return Object.hasOwn(u,"index")&&(w.index=u.index),Object.hasOwn(u,"input")&&(w.input=u.input),w}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const w=new RegExp(u.source,u.flags);return w.lastIndex=u.lastIndex,w}if(u instanceof Map){const w=new Map;g.set(u,w);for(const[j,_]of u)w.set(j,l(_,j,p,g,x));return w}if(u instanceof Set){const w=new Set;g.set(u,w);for(const j of u)w.add(l(j,void 0,p,g,x));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const w=new(Object.getPrototypeOf(u)).constructor(u.length);g.set(u,w);for(let j=0;j<u.length;j++)w[j]=l(u[j],j,p,g,x);return w}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const w=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return g.set(u,w),c(w,u,p,g,x),w}if(typeof File<"u"&&u instanceof File){const w=new File([u],u.name,{type:u.type});return g.set(u,w),c(w,u,p,g,x),w}if(u instanceof Blob){const w=new Blob([u],{type:u.type});return g.set(u,w),c(w,u,p,g,x),w}if(u instanceof Error){const w=new u.constructor;return g.set(u,w),w.message=u.message,w.name=u.name,w.stack=u.stack,w.cause=u.cause,c(w,u,p,g,x),w}if(typeof u=="object"&&d(u)){const w=Object.create(Object.getPrototypeOf(u));return g.set(u,w),c(w,u,p,g,x),w}return u}function c(u,f,p=u,g,x){const v=[...Object.keys(f),...r.getSymbols(f)];for(let w=0;w<v.length;w++){const j=v[w],_=Object.getOwnPropertyDescriptor(u,j);(_==null||_.writable)&&(u[j]=l(f[j],j,p,g,x))}}function d(u){switch(a.getTag(u)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=l,t.copyProperties=c})(yj)),yj}var w6;function GZ(){return w6||(w6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=aR();function a(s){return r.cloneDeepWithImpl(s,void 0,s,new Map,void 0)}t.cloneDeep=a})(xj)),xj}var j6;function YZ(){return j6||(j6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=x5(),a=GZ();function s(n){return n=a.cloneDeep(n),i=>r.isMatch(i,n)}t.matches=s})(uj)),uj}var Nj={},kj={},Sj={},N6;function KZ(){return N6||(N6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=aR(),a=b5();function s(n,i){return r.cloneDeepWith(n,(o,l,c,d)=>{const u=i?.(o,l,c,d);if(u!==void 0)return u;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case a.numberTag:case a.stringTag:case a.booleanTag:{const f=new n.constructor(n?.valueOf());return r.copyProperties(f,n),f}case a.argumentsTag:{const f={};return r.copyProperties(f,n),f.length=n.length,f[Symbol.iterator]=n[Symbol.iterator],f}default:return}})}t.cloneDeepWith=s})(Sj)),Sj}var k6;function JZ(){return k6||(k6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=KZ();function a(s){return r.cloneDeepWith(s)}t.cloneDeep=a})(kj)),kj}var _j={},Aj={},S6;function sR(){return S6||(S6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function a(s,n=Number.MAX_SAFE_INTEGER){switch(typeof s){case"number":return Number.isInteger(s)&&s>=0&&s<n;case"symbol":return!1;case"string":return r.test(s)}}t.isIndex=a})(Aj)),Aj}var Cj={},_6;function XZ(){return _6||(_6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=y5();function a(s){return s!==null&&typeof s=="object"&&r.getTag(s)==="[object Arguments]"}t.isArguments=a})(Cj)),Cj}var A6;function ZZ(){return A6||(A6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=CO(),a=sR(),s=XZ(),n=s5();function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&r.isDeepKey(l)&&o?.[l]==null?c=n.toPath(l):c=[l],c.length===0)return!1;let d=o;for(let u=0;u<c.length;u++){const f=c[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||s.isArguments(d))&&a.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}t.has=i})(_j)),_j}var C6;function QZ(){return C6||(C6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=x5(),a=PO(),s=JZ(),n=n5(),i=ZZ();function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=a.toKey(l);break}}return c=s.cloneDeep(c),function(d){const u=n.get(d,l);return u===void 0?i.has(d,l):c===void 0?u===void 0:r.isMatch(u,c)}}t.matchesProperty=o})(Nj)),Nj}var P6;function eQ(){return P6||(P6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=QO(),a=VZ(),s=YZ(),n=QZ();function i(o){if(o==null)return r.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?n.matchesProperty(o[0],o[1]):s.matches(o);case"string":case"symbol":case"number":return a.property(o)}}t.iteratee=i})(cj)),cj}var E6;function tQ(){return E6||(E6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=BZ(),a=QO(),s=qZ(),n=eQ();function i(o,l=a.identity){return s.isArrayLikeObject(o)?r.uniqBy(Array.from(o),n.iteratee(l)):[]}t.uniqBy=i})(rj)),rj}var Pj,T6;function rQ(){return T6||(T6=1,Pj=tQ().uniqBy),Pj}var aQ=rQ();const D6=ml(aQ);function nR(t,r,a){return r===!0?D6(t,a):typeof r=="function"?D6(t,r):t}var Ej={exports:{}},Tj={},Dj={exports:{}},Ij={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I6;function sQ(){if(I6)return Ij;I6=1;var t=zm();function r(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var a=typeof Object.is=="function"?Object.is:r,s=t.useState,n=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(f,p){var g=p(),x=s({inst:{value:g,getSnapshot:p}}),v=x[0].inst,w=x[1];return i(function(){v.value=g,v.getSnapshot=p,c(v)&&w({inst:v})},[f,g,p]),n(function(){return c(v)&&w({inst:v}),f(function(){c(v)&&w({inst:v})})},[f]),o(g),g}function c(f){var p=f.getSnapshot;f=f.value;try{var g=p();return!a(f,g)}catch{return!0}}function d(f,p){return p()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Ij.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,Ij}var O6;function nQ(){return O6||(O6=1,Dj.exports=sQ()),Dj.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R6;function iQ(){if(R6)return Tj;R6=1;var t=zm(),r=nQ();function a(d,u){return d===u&&(d!==0||1/d===1/u)||d!==d&&u!==u}var s=typeof Object.is=="function"?Object.is:a,n=r.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Tj.useSyncExternalStoreWithSelector=function(d,u,f,p,g){var x=i(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=l(function(){function j(D){if(!_){if(_=!0,S=D,D=p(D),g!==void 0&&v.hasValue){var U=v.value;if(g(U,D))return N=U}return N=D}if(U=N,s(S,D))return U;var z=p(D);return g!==void 0&&g(U,z)?(S=D,U):(S=D,N=z)}var _=!1,S,N,C=f===void 0?null:f;return[function(){return j(u())},C===null?void 0:function(){return j(C())}]},[u,f,p,g]);var w=n(d,x[0],x[1]);return o(function(){v.hasValue=!0,v.value=w},[w]),c(w),w},Tj}var L6;function oQ(){return L6||(L6=1,Ej.exports=iQ()),Ej.exports}var lQ=oQ(),v5=b.createContext(null),cQ=t=>t,us=()=>{var t=b.useContext(v5);return t?t.store.dispatch:cQ},hy=()=>{},dQ=()=>hy,uQ=(t,r)=>t===r;function fr(t){var r=b.useContext(v5);return lQ.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:dQ,r?r.store.getState:hy,r?r.store.getState:hy,r?t:hy,uQ)}function hQ(t,r=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(r)}function mQ(t,r=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(r)}function fQ(t,r="expected all items to be functions, instead received the following types: "){if(!t.every(a=>typeof a=="function")){const a=t.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${r}[${a}]`)}}var M6=t=>Array.isArray(t)?t:[t];function pQ(t){const r=Array.isArray(t[0])?t[0]:t;return fQ(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function gQ(t,r){const a=[],{length:s}=t;for(let n=0;n<s;n++)a.push(t[n].apply(null,r));return a}var xQ=class{constructor(t){this.value=t}deref(){return this.value}},yQ=typeof WeakRef<"u"?WeakRef:xQ,bQ=0,F6=1;function kx(){return{s:bQ,v:void 0,o:null,p:null}}function iR(t,r={}){let a=kx();const{resultEqualityCheck:s}=r;let n,i=0;function o(){let l=a;const{length:c}=arguments;for(let f=0,p=c;f<p;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const v=x.get(g);v===void 0?(l=kx(),x.set(g,l)):l=v}else{let x=l.p;x===null&&(l.p=x=new Map);const v=x.get(g);v===void 0?(l=kx(),x.set(g,l)):l=v}}const d=l;let u;if(l.s===F6)u=l.v;else if(u=t.apply(null,arguments),i++,s){const f=n?.deref?.()??n;f!=null&&s(f,u)&&(u=f,i!==0&&i--),n=typeof u=="object"&&u!==null||typeof u=="function"?new yQ(u):u}return d.s=F6,d.v=u,u}return o.clearCache=()=>{a=kx(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function vQ(t,...r){const a=typeof t=="function"?{memoize:t,memoizeOptions:r}:t,s=(...n)=>{let i=0,o=0,l,c={},d=n.pop();typeof d=="object"&&(c=d,d=n.pop()),hQ(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...a,...c},{memoize:f,memoizeOptions:p=[],argsMemoize:g=iR,argsMemoizeOptions:x=[]}=u,v=M6(p),w=M6(x),j=pQ(n),_=f(function(){return i++,d.apply(null,arguments)},...v),S=g(function(){o++;const C=gQ(j,arguments);return l=_.apply(null,C),l},...w);return Object.assign(S,{resultFunc:d,memoizedResultFunc:_,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:g})};return Object.assign(s,{withTypes:()=>s}),s}var ct=vQ(iR),wQ=Object.assign((t,r=ct)=>{mQ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const a=Object.keys(t),s=a.map(i=>t[i]);return r(s,(...i)=>i.reduce((o,l,c)=>(o[a[c]]=l,o),{}))},{withTypes:()=>wQ}),Oj={},Rj={},Lj={},$6;function jQ(){return $6||($6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="symbol"?1:s===null?2:s===void 0?3:s!==s?4:0}const a=(s,n,i)=>{if(s!==n){const o=r(s),l=r(n);if(o===l&&o===0){if(s<n)return i==="desc"?1:-1;if(s>n)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};t.compareValues=a})(Lj)),Lj}var Mj={},Fj={},B6;function oR(){return B6||(B6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"||a instanceof Symbol}t.isSymbol=r})(Fj)),Fj}var U6;function NQ(){return U6||(U6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=oR(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function n(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||r.isSymbol(i)?!0:typeof i=="string"&&(s.test(i)||!a.test(i))||o!=null&&Object.hasOwn(o,i)}t.isKey=n})(Mj)),Mj}var z6;function kQ(){return z6||(z6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=jQ(),a=NQ(),s=s5();function n(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(g=>String(g));const d=(g,x)=>{let v=g;for(let w=0;w<x.length&&v!=null;++w)v=v[x[w]];return v},u=(g,x)=>x==null||g==null?x:typeof g=="object"&&"key"in g?Object.hasOwn(x,g.key)?x[g.key]:d(x,g.path):typeof g=="function"?g(x):Array.isArray(g)?d(x,g):typeof x=="object"?x[g]:x,f=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||a.isKey(g)?g:{key:g,path:s.toPath(g)}));return i.map(g=>({original:g,criteria:f.map(x=>u(x,g))})).slice().sort((g,x)=>{for(let v=0;v<f.length;v++){const w=r.compareValues(g.criteria[v],x.criteria[v],l[v]);if(w!==0)return w}return 0}).map(g=>g.original)}t.orderBy=n})(Rj)),Rj}var $j={},q6;function SQ(){return q6||(q6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a,s=1){const n=[],i=Math.floor(s),o=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<i?o(u,c+1):n.push(u)}};return o(a,0),n}t.flatten=r})($j)),$j}var Bj={},V6;function lR(){return V6||(V6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=sR(),a=p5(),s=eR(),n=g5();function i(o,l,c){return s.isObject(c)&&(typeof l=="number"&&a.isArrayLike(c)&&r.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?n.eq(c[l],o):!1}t.isIterateeCall=i})(Bj)),Bj}var H6;function _Q(){return H6||(H6=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=kQ(),a=SQ(),s=lR();function n(i,...o){const l=o.length;return l>1&&s.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&s.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),r.orderBy(i,a.flatten(o),["asc"])}t.sortBy=n})(Oj)),Oj}var Uj,W6;function AQ(){return W6||(W6=1,Uj=_Q().sortBy),Uj}var CQ=AQ();const Gb=ml(CQ);var cR=t=>t.legend.settings,PQ=t=>t.legend.size,EQ=t=>t.legend.payload,TQ=ct([EQ,cR],(t,r)=>{var{itemSorter:a}=r,s=t.flat(1);return a?Gb(s,a):s});function DQ(){return fr(TQ)}var Sx=1;function dR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,a]=b.useState({height:0,left:0,top:0,width:0}),s=b.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-r.height)>Sx||Math.abs(o.left-r.left)>Sx||Math.abs(o.top-r.top)>Sx||Math.abs(o.width-r.width)>Sx)&&a({height:o.height,left:o.left,top:o.top,width:o.width})}},[r.width,r.height,r.top,r.left,...t]);return[r,s]}function Pn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var IQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",G6=IQ,zj=()=>Math.random().toString(36).substring(7).split("").join("."),OQ={INIT:`@@redux/INIT${zj()}`,REPLACE:`@@redux/REPLACE${zj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zj()}`},By=OQ;function w5(t){if(typeof t!="object"||t===null)return!1;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r||Object.getPrototypeOf(t)===null}function uR(t,r,a){if(typeof t!="function")throw new Error(Pn(2));if(typeof r=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(Pn(0));if(typeof r=="function"&&typeof a>"u"&&(a=r,r=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(Pn(1));return a(uR)(t,r)}let s=t,n=r,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((w,j)=>{o.set(j,w)}))}function u(){if(c)throw new Error(Pn(3));return n}function f(w){if(typeof w!="function")throw new Error(Pn(4));if(c)throw new Error(Pn(5));let j=!0;d();const _=l++;return o.set(_,w),function(){if(j){if(c)throw new Error(Pn(6));j=!1,d(),o.delete(_),i=null}}}function p(w){if(!w5(w))throw new Error(Pn(7));if(typeof w.type>"u")throw new Error(Pn(8));if(typeof w.type!="string")throw new Error(Pn(17));if(c)throw new Error(Pn(9));try{c=!0,n=s(n,w)}finally{c=!1}return(i=o).forEach(_=>{_()}),w}function g(w){if(typeof w!="function")throw new Error(Pn(10));s=w,p({type:By.REPLACE})}function x(){const w=f;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Pn(11));function _(){const N=j;N.next&&N.next(u())}return _(),{unsubscribe:w(_)}},[G6](){return this}}}return p({type:By.INIT}),{dispatch:p,subscribe:f,getState:u,replaceReducer:g,[G6]:x}}function RQ(t){Object.keys(t).forEach(r=>{const a=t[r];if(typeof a(void 0,{type:By.INIT})>"u")throw new Error(Pn(12));if(typeof a(void 0,{type:By.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pn(13))})}function hR(t){const r=Object.keys(t),a={};for(let i=0;i<r.length;i++){const o=r[i];typeof t[o]=="function"&&(a[o]=t[o])}const s=Object.keys(a);let n;try{RQ(a)}catch(i){n=i}return function(o={},l){if(n)throw n;let c=!1;const d={};for(let u=0;u<s.length;u++){const f=s[u],p=a[f],g=o[f],x=p(g,l);if(typeof x>"u")throw l&&l.type,new Error(Pn(14));d[f]=x,c=c||x!==g}return c=c||s.length!==Object.keys(o).length,c?d:o}}function Uy(...t){return t.length===0?r=>r:t.length===1?t[0]:t.reduce((r,a)=>(...s)=>r(a(...s)))}function LQ(...t){return r=>(a,s)=>{const n=r(a,s);let i=()=>{throw new Error(Pn(15))};const o={getState:n.getState,dispatch:(c,...d)=>i(c,...d)},l=t.map(c=>c(o));return i=Uy(...l)(n.dispatch),{...n,dispatch:i}}}function mR(t){return w5(t)&&"type"in t&&typeof t.type=="string"}var fR=Symbol.for("immer-nothing"),Y6=Symbol.for("immer-draftable"),_o=Symbol.for("immer-state");function Bl(t,...r){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Dm=Object.getPrototypeOf;function gh(t){return!!t&&!!t[_o]}function Dd(t){return t?pR(t)||Array.isArray(t)||!!t[Y6]||!!t.constructor?.[Y6]||fg(t)||Kb(t):!1}var MQ=Object.prototype.constructor.toString();function pR(t){if(!t||typeof t!="object")return!1;const r=Dm(t);if(r===null)return!0;const a=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===MQ}function zy(t,r){Yb(t)===0?Reflect.ownKeys(t).forEach(a=>{r(a,t[a],t)}):t.forEach((a,s)=>r(s,a,t))}function Yb(t){const r=t[_o];return r?r.type_:Array.isArray(t)?1:fg(t)?2:Kb(t)?3:0}function J2(t,r){return Yb(t)===2?t.has(r):Object.prototype.hasOwnProperty.call(t,r)}function gR(t,r,a){const s=Yb(t);s===2?t.set(r,a):s===3?t.add(a):t[r]=a}function FQ(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}function fg(t){return t instanceof Map}function Kb(t){return t instanceof Set}function L0(t){return t.copy_||t.base_}function X2(t,r){if(fg(t))return new Map(t);if(Kb(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const a=pR(t);if(r===!0||r==="class_only"&&!a){const s=Object.getOwnPropertyDescriptors(t);delete s[_o];let n=Reflect.ownKeys(s);for(let i=0;i<n.length;i++){const o=n[i],l=s[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(s[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(Dm(t),s)}else{const s=Dm(t);if(s!==null&&a)return{...t};const n=Object.create(s);return Object.assign(n,t)}}function j5(t,r=!1){return Jb(t)||gh(t)||!Dd(t)||(Yb(t)>1&&Object.defineProperties(t,{set:{value:_x},add:{value:_x},clear:{value:_x},delete:{value:_x}}),Object.freeze(t),r&&Object.values(t).forEach(a=>j5(a,!0))),t}function _x(){Bl(2)}function Jb(t){return Object.isFrozen(t)}var $Q={};function xh(t){const r=$Q[t];return r||Bl(0,t),r}var Rp;function xR(){return Rp}function BQ(t,r){return{drafts_:[],parent_:t,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function K6(t,r){r&&(xh("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=r)}function Z2(t){Q2(t),t.drafts_.forEach(UQ),t.drafts_=null}function Q2(t){t===Rp&&(Rp=t.parent_)}function J6(t){return Rp=BQ(Rp,t)}function UQ(t){const r=t[_o];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function X6(t,r){r.unfinalizedDrafts_=r.drafts_.length;const a=r.drafts_[0];return t!==void 0&&t!==a?(a[_o].modified_&&(Z2(r),Bl(4)),Dd(t)&&(t=qy(r,t),r.parent_||Vy(r,t)),r.patches_&&xh("Patches").generateReplacementPatches_(a[_o].base_,t,r.patches_,r.inversePatches_)):t=qy(r,a,[]),Z2(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),t!==fR?t:void 0}function qy(t,r,a){if(Jb(r))return r;const s=r[_o];if(!s)return zy(r,(n,i)=>Z6(t,s,r,n,i,a)),r;if(s.scope_!==t)return r;if(!s.modified_)return Vy(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const n=s.copy_;let i=n,o=!1;s.type_===3&&(i=new Set(n),n.clear(),o=!0),zy(i,(l,c)=>Z6(t,s,n,l,c,a,o)),Vy(t,n,!1),a&&t.patches_&&xh("Patches").generatePatches_(s,a,t.patches_,t.inversePatches_)}return s.copy_}function Z6(t,r,a,s,n,i,o){if(gh(n)){const l=i&&r&&r.type_!==3&&!J2(r.assigned_,s)?i.concat(s):void 0,c=qy(t,n,l);if(gR(a,s,c),gh(c))t.canAutoFreeze_=!1;else return}else o&&a.add(n);if(Dd(n)&&!Jb(n)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;qy(t,n),(!r||!r.scope_.parent_)&&typeof s!="symbol"&&(fg(a)?a.has(s):Object.prototype.propertyIsEnumerable.call(a,s))&&Vy(t,n)}}function Vy(t,r,a=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&j5(r,a)}function zQ(t,r){const a=Array.isArray(t),s={type_:a?1:0,scope_:r?r.scope_:xR(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=s,i=N5;a&&(n=[s],i=Lp);const{revoke:o,proxy:l}=Proxy.revocable(n,i);return s.draft_=l,s.revoke_=o,l}var N5={get(t,r){if(r===_o)return t;const a=L0(t);if(!J2(a,r))return qQ(t,a,r);const s=a[r];return t.finalized_||!Dd(s)?s:s===qj(t.base_,r)?(Vj(t),t.copy_[r]=tN(s,t)):s},has(t,r){return r in L0(t)},ownKeys(t){return Reflect.ownKeys(L0(t))},set(t,r,a){const s=yR(L0(t),r);if(s?.set)return s.set.call(t.draft_,a),!0;if(!t.modified_){const n=qj(L0(t),r),i=n?.[_o];if(i&&i.base_===a)return t.copy_[r]=a,t.assigned_[r]=!1,!0;if(FQ(a,n)&&(a!==void 0||J2(t.base_,r)))return!0;Vj(t),eN(t)}return t.copy_[r]===a&&(a!==void 0||r in t.copy_)||Number.isNaN(a)&&Number.isNaN(t.copy_[r])||(t.copy_[r]=a,t.assigned_[r]=!0),!0},deleteProperty(t,r){return qj(t.base_,r)!==void 0||r in t.base_?(t.assigned_[r]=!1,Vj(t),eN(t)):delete t.assigned_[r],t.copy_&&delete t.copy_[r],!0},getOwnPropertyDescriptor(t,r){const a=L0(t),s=Reflect.getOwnPropertyDescriptor(a,r);return s&&{writable:!0,configurable:t.type_!==1||r!=="length",enumerable:s.enumerable,value:a[r]}},defineProperty(){Bl(11)},getPrototypeOf(t){return Dm(t.base_)},setPrototypeOf(){Bl(12)}},Lp={};zy(N5,(t,r)=>{Lp[t]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});Lp.deleteProperty=function(t,r){return Lp.set.call(this,t,r,void 0)};Lp.set=function(t,r,a){return N5.set.call(this,t[0],r,a,t[0])};function qj(t,r){const a=t[_o];return(a?L0(a):t)[r]}function qQ(t,r,a){const s=yR(r,a);return s?"value"in s?s.value:s.get?.call(t.draft_):void 0}function yR(t,r){if(!(r in t))return;let a=Dm(t);for(;a;){const s=Object.getOwnPropertyDescriptor(a,r);if(s)return s;a=Dm(a)}}function eN(t){t.modified_||(t.modified_=!0,t.parent_&&eN(t.parent_))}function Vj(t){t.copy_||(t.copy_=X2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var VQ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,a,s)=>{if(typeof r=="function"&&typeof a!="function"){const i=a;a=r;const o=this;return function(c=i,...d){return o.produce(c,u=>a.call(this,u,...d))}}typeof a!="function"&&Bl(6),s!==void 0&&typeof s!="function"&&Bl(7);let n;if(Dd(r)){const i=J6(this),o=tN(r,void 0);let l=!0;try{n=a(o),l=!1}finally{l?Z2(i):Q2(i)}return K6(i,s),X6(n,i)}else if(!r||typeof r!="object"){if(n=a(r),n===void 0&&(n=r),n===fR&&(n=void 0),this.autoFreeze_&&j5(n,!0),s){const i=[],o=[];xh("Patches").generateReplacementPatches_(r,n,i,o),s(i,o)}return n}else Bl(1,r)},this.produceWithPatches=(r,a)=>{if(typeof r=="function")return(o,...l)=>this.produceWithPatches(o,c=>r(c,...l));let s,n;return[this.produce(r,a,(o,l)=>{s=o,n=l}),s,n]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Dd(t)||Bl(8),gh(t)&&(t=Sd(t));const r=J6(this),a=tN(t,void 0);return a[_o].isManual_=!0,Q2(r),a}finishDraft(t,r){const a=t&&t[_o];(!a||!a.isManual_)&&Bl(9);const{scope_:s}=a;return K6(s,r),X6(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,r){let a;for(a=r.length-1;a>=0;a--){const n=r[a];if(n.path.length===0&&n.op==="replace"){t=n.value;break}}a>-1&&(r=r.slice(a+1));const s=xh("Patches").applyPatches_;return gh(t)?s(t,r):this.produce(t,n=>s(n,r))}};function tN(t,r){const a=fg(t)?xh("MapSet").proxyMap_(t,r):Kb(t)?xh("MapSet").proxySet_(t,r):zQ(t,r);return(r?r.scope_:xR()).drafts_.push(a),a}function Sd(t){return gh(t)||Bl(10,t),bR(t)}function bR(t){if(!Dd(t)||Jb(t))return t;const r=t[_o];let a;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,a=X2(t,r.scope_.immer_.useStrictShallowCopy_)}else a=X2(t,!0);return zy(a,(s,n)=>{gR(a,s,bR(n))}),r&&(r.finalized_=!1),a}var HQ=new VQ,vR=HQ.produce;function wR(t){return({dispatch:a,getState:s})=>n=>i=>typeof i=="function"?i(a,s,t):n(i)}var WQ=wR(),GQ=wR,YQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Uy:Uy.apply(null,arguments)};function dl(t,r){function a(...s){if(r){let n=r(...s);if(!n)throw new Error(So(0));return{type:t,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:t,payload:s[0]}}return a.toString=()=>`${t}`,a.type=t,a.match=s=>mR(s)&&s.type===t,a}var jR=class tp extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,tp.prototype)}static get[Symbol.species](){return tp}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new tp(...r[0].concat(this)):new tp(...r.concat(this))}};function Q6(t){return Dd(t)?vR(t,()=>{}):t}function Ax(t,r,a){return t.has(r)?t.get(r):t.set(r,a(r)).get(r)}function KQ(t){return typeof t=="boolean"}var JQ=()=>function(r){const{thunk:a=!0,immutableCheck:s=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=r??{};let o=new jR;return a&&(KQ(a)?o.push(WQ):o.push(GQ(a.extraArgument))),o},XQ="RTK_autoBatch",eC=t=>r=>{setTimeout(r,t)},ZQ=(t={type:"raf"})=>r=>(...a)=>{const s=r(...a);let n=!0,i=!1,o=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:eC(10):t.type==="callback"?t.queueNotification:eC(t.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},s,{subscribe(u){const f=()=>n&&u(),p=s.subscribe(f);return l.add(u),()=>{p(),l.delete(u)}},dispatch(u){try{return n=!u?.meta?.[XQ],i=!n,i&&(o||(o=!0,c(d))),s.dispatch(u)}finally{n=!0}}})},QQ=t=>function(a){const{autoBatch:s=!0}=a??{};let n=new jR(t);return s&&n.push(ZQ(typeof s=="object"?s:void 0)),n};function eee(t){const r=JQ(),{reducer:a=void 0,middleware:s,devTools:n=!0,preloadedState:i=void 0,enhancers:o=void 0}=t||{};let l;if(typeof a=="function")l=a;else if(w5(a))l=hR(a);else throw new Error(So(1));let c;typeof s=="function"?c=s(r):c=r();let d=Uy;n&&(d=YQ({trace:!1,...typeof n=="object"&&n}));const u=LQ(...c),f=QQ(u);let p=typeof o=="function"?o(f):f();const g=d(...p);return uR(l,i,g)}function NR(t){const r={},a=[];let s;const n={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(So(28));if(l in r)throw new Error(So(29));return r[l]=o,n},addAsyncThunk(i,o){return o.pending&&(r[i.pending.type]=o.pending),o.rejected&&(r[i.rejected.type]=o.rejected),o.fulfilled&&(r[i.fulfilled.type]=o.fulfilled),o.settled&&a.push({matcher:i.settled,reducer:o.settled}),n},addMatcher(i,o){return a.push({matcher:i,reducer:o}),n},addDefaultCase(i){return s=i,n}};return t(n),[r,a,s]}function tee(t){return typeof t=="function"}function ree(t,r){let[a,s,n]=NR(r),i;if(tee(t))i=()=>Q6(t());else{const l=Q6(t);i=()=>l}function o(l=i(),c){let d=[a[c.type],...s.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[n]),d.reduce((u,f)=>{if(f)if(gh(u)){const g=f(u,c);return g===void 0?u:g}else{if(Dd(u))return vR(u,p=>f(p,c));{const p=f(u,c);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},l)}return o.getInitialState=i,o}var aee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",see=(t=21)=>{let r="",a=t;for(;a--;)r+=aee[Math.random()*64|0];return r},nee=Symbol.for("rtk-slice-createasyncthunk");function iee(t,r){return`${t}/${r}`}function oee({creators:t}={}){const r=t?.asyncThunk?.[nee];return function(s){const{name:n,reducerPath:i=n}=s;if(!n)throw new Error(So(11));const o=(typeof s.reducers=="function"?s.reducers(cee()):s.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,N){const C=typeof S=="string"?S:S.type;if(!C)throw new Error(So(12));if(C in c.sliceCaseReducersByType)throw new Error(So(13));return c.sliceCaseReducersByType[C]=N,d},addMatcher(S,N){return c.sliceMatchers.push({matcher:S,reducer:N}),d},exposeAction(S,N){return c.actionCreators[S]=N,d},exposeCaseReducer(S,N){return c.sliceCaseReducersByName[S]=N,d}};l.forEach(S=>{const N=o[S],C={reducerName:S,type:iee(n,S),createNotation:typeof s.reducers=="function"};uee(N)?mee(C,N,d,r):dee(C,N,d)});function u(){const[S={},N=[],C=void 0]=typeof s.extraReducers=="function"?NR(s.extraReducers):[s.extraReducers],D={...S,...c.sliceCaseReducersByType};return ree(s.initialState,U=>{for(let z in D)U.addCase(z,D[z]);for(let z of c.sliceMatchers)U.addMatcher(z.matcher,z.reducer);for(let z of N)U.addMatcher(z.matcher,z.reducer);C&&U.addDefaultCase(C)})}const f=S=>S,p=new Map,g=new WeakMap;let x;function v(S,N){return x||(x=u()),x(S,N)}function w(){return x||(x=u()),x.getInitialState()}function j(S,N=!1){function C(U){let z=U[S];return typeof z>"u"&&N&&(z=Ax(g,C,w)),z}function D(U=f){const z=Ax(p,N,()=>new WeakMap);return Ax(z,U,()=>{const E={};for(const[I,T]of Object.entries(s.selectors??{}))E[I]=lee(T,U,()=>Ax(g,U,w),N);return E})}return{reducerPath:S,getSelectors:D,get selectors(){return D(C)},selectSlice:C}}const _={name:n,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,...j(i),injectInto(S,{reducerPath:N,...C}={}){const D=N??i;return S.inject({reducerPath:D,reducer:v},C),{..._,...j(D,!0)}}};return _}}function lee(t,r,a,s){function n(i,...o){let l=r(i);return typeof l>"u"&&s&&(l=a()),t(l,...o)}return n.unwrapped=t,n}var Co=oee();function cee(){function t(r,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...a}}return t.withTypes=()=>t,{reducer(r){return Object.assign({[r.name](...a){return r(...a)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:a}},asyncThunk:t}}function dee({type:t,reducerName:r,createNotation:a},s,n){let i,o;if("reducer"in s){if(a&&!hee(s))throw new Error(So(17));i=s.reducer,o=s.prepare}else i=s;n.addCase(t,i).exposeCaseReducer(r,i).exposeAction(r,o?dl(t,o):dl(t))}function uee(t){return t._reducerDefinitionType==="asyncThunk"}function hee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function mee({type:t,reducerName:r},a,s,n){if(!n)throw new Error(So(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=a,f=n(t,i,u);s.exposeAction(r,f),o&&s.addCase(f.fulfilled,o),l&&s.addCase(f.pending,l),c&&s.addCase(f.rejected,c),d&&s.addMatcher(f.settled,d),s.exposeCaseReducer(r,{fulfilled:o||Cx,pending:l||Cx,rejected:c||Cx,settled:d||Cx})}function Cx(){}var fee="task",kR="listener",SR="completed",k5="cancelled",pee=`task-${k5}`,gee=`task-${SR}`,rN=`${kR}-${k5}`,xee=`${kR}-${SR}`,Xb=class{constructor(t){this.code=t,this.message=`${fee} ${k5} (reason: ${t})`}name="TaskAbortError";message},S5=(t,r)=>{if(typeof t!="function")throw new TypeError(So(32))},Hy=()=>{},_R=(t,r=Hy)=>(t.catch(r),t),AR=(t,r)=>(t.addEventListener("abort",r,{once:!0}),()=>t.removeEventListener("abort",r)),ah=(t,r)=>{const a=t.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),t.abort(r))},sh=t=>{if(t.aborted){const{reason:r}=t;throw new Xb(r)}};function CR(t,r){let a=Hy;return new Promise((s,n)=>{const i=()=>n(new Xb(t.reason));if(t.aborted){i();return}a=AR(t,i),r.finally(()=>a()).then(s,n)}).finally(()=>{a=Hy})}var yee=async(t,r)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(a){return{status:a instanceof Xb?"cancelled":"rejected",error:a}}finally{r?.()}},Wy=t=>r=>_R(CR(t,r).then(a=>(sh(t),a))),PR=t=>{const r=Wy(t);return a=>r(new Promise(s=>setTimeout(s,a)))},{assign:km}=Object,tC={},Zb="listenerMiddleware",bee=(t,r)=>{const a=s=>AR(t,()=>ah(s,t.reason));return(s,n)=>{S5(s);const i=new AbortController;a(i);const o=yee(async()=>{sh(t),sh(i.signal);const l=await s({pause:Wy(i.signal),delay:PR(i.signal),signal:i.signal});return sh(i.signal),l},()=>ah(i,gee));return n?.autoJoin&&r.push(o.catch(Hy)),{result:Wy(t)(o),cancel(){ah(i,pee)}}}},vee=(t,r)=>{const a=async(s,n)=>{sh(r);let i=()=>{};const l=[new Promise((c,d)=>{let u=t({predicate:s,effect:(f,p)=>{p.unsubscribe(),c([f,p.getState(),p.getOriginalState()])}});i=()=>{u(),d()}})];n!=null&&l.push(new Promise(c=>setTimeout(c,n,null)));try{const c=await CR(r,Promise.race(l));return sh(r),c}finally{i()}};return(s,n)=>_R(a(s,n))},ER=t=>{let{type:r,actionCreator:a,matcher:s,predicate:n,effect:i}=t;if(r)n=dl(r).match;else if(a)r=a.type,n=a.match;else if(s)n=s;else if(!n)throw new Error(So(21));return S5(i),{predicate:n,type:r,effect:i}},TR=km(t=>{const{type:r,predicate:a,effect:s}=ER(t);return{id:see(),effect:s,type:r,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(So(22))}}},{withTypes:()=>TR}),rC=(t,r)=>{const{type:a,effect:s,predicate:n}=ER(r);return Array.from(t.values()).find(i=>(typeof a=="string"?i.type===a:i.predicate===n)&&i.effect===s)},aN=t=>{t.pending.forEach(r=>{ah(r,rN)})},wee=t=>()=>{t.forEach(aN),t.clear()},aC=(t,r,a)=>{try{t(r,a)}catch(s){setTimeout(()=>{throw s},0)}},DR=km(dl(`${Zb}/add`),{withTypes:()=>DR}),jee=dl(`${Zb}/removeAll`),IR=km(dl(`${Zb}/remove`),{withTypes:()=>IR}),Nee=(...t)=>{console.error(`${Zb}/error`,...t)},pg=(t={})=>{const r=new Map,{extra:a,onError:s=Nee}=t;S5(s);const n=u=>(u.unsubscribe=()=>r.delete(u.id),r.set(u.id,u),f=>{u.unsubscribe(),f?.cancelActive&&aN(u)}),i=u=>{const f=rC(r,u)??TR(u);return n(f)};km(i,{withTypes:()=>i});const o=u=>{const f=rC(r,u);return f&&(f.unsubscribe(),u.cancelActive&&aN(f)),!!f};km(o,{withTypes:()=>o});const l=async(u,f,p,g)=>{const x=new AbortController,v=vee(i,x.signal),w=[];try{u.pending.add(x),await Promise.resolve(u.effect(f,km({},p,{getOriginalState:g,condition:(j,_)=>v(j,_).then(Boolean),take:v,delay:PR(x.signal),pause:Wy(x.signal),extra:a,signal:x.signal,fork:bee(x.signal,w),unsubscribe:u.unsubscribe,subscribe:()=>{r.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((j,_,S)=>{j!==x&&(ah(j,rN),S.delete(j))})},cancel:()=>{ah(x,rN),u.pending.delete(x)},throwIfCancelled:()=>{sh(x.signal)}})))}catch(j){j instanceof Xb||aC(s,j,{raisedBy:"effect"})}finally{await Promise.all(w),ah(x,xee),u.pending.delete(x)}},c=wee(r);return{middleware:u=>f=>p=>{if(!mR(p))return f(p);if(DR.match(p))return i(p.payload);if(jee.match(p)){c();return}if(IR.match(p))return o(p.payload);let g=u.getState();const x=()=>{if(g===tC)throw new Error(So(23));return g};let v;try{if(v=f(p),r.size>0){const w=u.getState(),j=Array.from(r.values());for(const _ of j){let S=!1;try{S=_.predicate(p,w,g)}catch(N){S=!1,aC(s,N,{raisedBy:"predicate"})}S&&l(_,p,u,x)}}}finally{g=tC}return v},startListening:i,stopListening:o,clearListeners:c}};function So(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},OR=Co({name:"chartLayout",initialState:kee,reducers:{setLayout(t,r){t.layoutType=r.payload},setChartSize(t,r){t.width=r.payload.width,t.height=r.payload.height},setMargin(t,r){t.margin.top=r.payload.top,t.margin.right=r.payload.right,t.margin.bottom=r.payload.bottom,t.margin.left=r.payload.left},setScale(t,r){t.scale=r.payload}}}),{setMargin:See,setLayout:_ee,setChartSize:Aee,setScale:Cee}=OR.actions,Pee=OR.reducer;function sC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function nC(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?sC(Object(a),!0).forEach(function(s){Eee(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):sC(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Eee(t,r,a){return(r=Tee(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Tee(t){var r=Dee(t,"string");return typeof r=="symbol"?r:r+""}function Dee(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Gy=Math.PI/180,Iee=t=>t*180/Math.PI,Ws=(t,r,a,s)=>({x:t+Math.cos(-Gy*s)*a,y:r+Math.sin(-Gy*s)*a}),RR=function(r,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(s.left||0)-(s.right||0)),Math.abs(a-(s.top||0)-(s.bottom||0)))/2},Oee=(t,r)=>{var{x:a,y:s}=t,{x:n,y:i}=r;return Math.sqrt((a-n)**2+(s-i)**2)},Ree=(t,r)=>{var{x:a,y:s}=t,{cx:n,cy:i}=r,o=Oee({x:a,y:s},{x:n,y:i});if(o<=0)return{radius:o,angle:0};var l=(a-n)/o,c=Math.acos(l);return s>i&&(c=2*Math.PI-c),{radius:o,angle:Iee(c),angleInRadian:c}},Lee=t=>{var{startAngle:r,endAngle:a}=t,s=Math.floor(r/360),n=Math.floor(a/360),i=Math.min(s,n);return{startAngle:r-i*360,endAngle:a-i*360}},Mee=(t,r)=>{var{startAngle:a,endAngle:s}=r,n=Math.floor(a/360),i=Math.floor(s/360),o=Math.min(n,i);return t+o*360},Fee=(t,r)=>{var{x:a,y:s}=t,{radius:n,angle:i}=Ree({x:a,y:s},r),{innerRadius:o,outerRadius:l}=r;if(n<o||n>l||n===0)return null;var{startAngle:c,endAngle:d}=Lee(r),u=i,f;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=c}return f?nC(nC({},r),{},{radius:n,angle:Mee(u,r)}):null};function LR(t,r,a){return Array.isArray(t)&&t&&r+a!==0?t.slice(r,a+1):t}function iC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function tl(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?iC(Object(a),!0).forEach(function(s){$ee(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):iC(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function $ee(t,r,a){return(r=Bee(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Bee(t){var r=Uee(t,"string");return typeof r=="symbol"?r:r+""}function Uee(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Aa(t,r,a){return Za(t)||Za(r)?a:Cc(r)?Wu(t,r,a):typeof r=="function"?r(t):a}var zee=(t,r,a,s,n)=>{var i,o=-1,l=(i=r?.length)!==null&&i!==void 0?i:0;if(l<=1||t==null)return 0;if(s==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?a[c-1].coordinate:a[l-1].coordinate,u=a[c].coordinate,f=c>=l-1?a[0].coordinate:a[c+1].coordinate,p=void 0;if(vn(u-d)!==vn(f-u)){var g=[];if(vn(f-u)===vn(n[1]-n[0])){p=f;var x=u+n[1]-n[0];g[0]=Math.min(x,(x+d)/2),g[1]=Math.max(x,(x+d)/2)}else{p=d;var v=f+n[1]-n[0];g[0]=Math.min(u,(v+u)/2),g[1]=Math.max(u,(v+u)/2)}var w=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(t>w[0]&&t<=w[1]||t>=g[0]&&t<=g[1]){({index:o}=a[c]);break}}else{var j=Math.min(d,f),_=Math.max(d,f);if(t>(j+u)/2&&t<=(_+u)/2){({index:o}=a[c]);break}}}else if(r){for(var S=0;S<l;S++)if(S===0&&t<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<l-1&&t>(r[S].coordinate+r[S-1].coordinate)/2&&t<=(r[S].coordinate+r[S+1].coordinate)/2||S===l-1&&t>(r[S].coordinate+r[S-1].coordinate)/2){({index:o}=r[S]);break}}return o},qee=(t,r,a)=>{if(r&&a){var{width:s,height:n}=a,{align:i,verticalAlign:o,layout:l}=r;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&Gt(t[i]))return tl(tl({},t),{},{[i]:t[i]+(s||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&Gt(t[o]))return tl(tl({},t),{},{[o]:t[o]+(n||0)})}return t},Fd=(t,r)=>t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis",MR=(t,r,a,s)=>{if(s)return t.map(l=>l.coordinate);var n,i,o=t.map(l=>(l.coordinate===r&&(n=!0),l.coordinate===a&&(i=!0),l.coordinate));return n||o.push(r),i||o.push(a),o},FR=(t,r,a)=>{if(!t)return null;var{duplicateDomain:s,type:n,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:p,axisType:g}=t;if(!o)return null;var x=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=n==="category"&&o.bandwidth?o.bandwidth()/x:0;if(v=g==="angleAxis"&&i&&i.length>=2?vn(i[0]-i[1])*2*v:v,f||p){var w=(f||p||[]).map((j,_)=>{var S=s?s.indexOf(j):j;return{coordinate:o(S)+v,value:j,offset:v,index:_}});return w.filter(j=>!Wi(j.coordinate))}return c&&d?d.map((j,_)=>({coordinate:o(j)+v,value:j,index:_,offset:v})):o.ticks&&u!=null?o.ticks(u).map((j,_)=>({coordinate:o(j)+v,value:j,offset:v,index:_})):o.domain().map((j,_)=>({coordinate:o(j)+v,value:s?s[j]:j,index:_,offset:v}))},oC=1e-4,Vee=t=>{var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),n=Math.min(s[0],s[1])-oC,i=Math.max(s[0],s[1])+oC,o=t(r[0]),l=t(r[a-1]);(o<n||o>i||l<n||l>i)&&t.domain([r[0],r[a-1]])}},Hee=(t,r)=>{if(!r||r.length!==2||!Gt(r[0])||!Gt(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),n=[t[0],t[1]];return(!Gt(t[0])||t[0]<a)&&(n[0]=a),(!Gt(t[1])||t[1]>s)&&(n[1]=s),n[0]>s&&(n[0]=s),n[1]<a&&(n[1]=a),n},Wee=t=>{var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var n=0,i=0,o=0;o<r;++o){var l=Wi(t[o][a][1])?t[o][a][0]:t[o][a][1];l>=0?(t[o][a][0]=n,t[o][a][1]=n+l,n=t[o][a][1]):(t[o][a][0]=i,t[o][a][1]=i+l,i=t[o][a][1])}},Gee=t=>{var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var n=0,i=0;i<r;++i){var o=Wi(t[i][a][1])?t[i][a][0]:t[i][a][1];o>=0?(t[i][a][0]=n,t[i][a][1]=n+o,n=t[i][a][1]):(t[i][a][0]=0,t[i][a][1]=0)}},Yee={sign:Wee,expand:kZ,none:Tm,silhouette:SZ,wiggle:_Z,positive:Gee},Kee=(t,r,a)=>{var s=Yee[a],n=NZ().keys(r).value((i,o)=>+Aa(i,o,0)).order(G2).offset(s);return n(t)};function $R(t){return t==null?void 0:String(t)}function lC(t){var{axis:r,ticks:a,bandSize:s,entry:n,index:i,dataKey:o}=t;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Za(n[r.dataKey])){var l=TO(a,"value",n[r.dataKey]);if(l)return l.coordinate+s/2}return a[i]?a[i].coordinate+s/2:null}var c=Aa(n,Za(o)?r.dataKey:o);return Za(c)?null:r.scale(c)}var cC=t=>{var{axis:r,ticks:a,offset:s,bandSize:n,entry:i,index:o}=t;if(r.type==="category")return a[o]?a[o].coordinate+s:null;var l=Aa(i,r.dataKey,r.scale.domain()[o]);return Za(l)?null:r.scale(l)-n/2+s},Jee=t=>{var{numericAxis:r}=t,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),n=Math.max(a[0],a[1]);return s<=0&&n>=0?0:n<0?n:s}return a[0]},Xee=t=>{var r=t.flat(2).filter(Gt);return[Math.min(...r),Math.max(...r)]},Zee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Qee=(t,r,a)=>{if(t!=null)return Zee(Object.keys(t).reduce((s,n)=>{var i=t[n],{stackedData:o}=i,l=o.reduce((c,d)=>{var u=LR(d,r,a),f=Xee(u);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],s[0]),Math.max(l[1],s[1])]},[1/0,-1/0]))},dC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mp=(t,r,a)=>{if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var n=Gb(r,u=>u.coordinate),i=1/0,o=1,l=n.length;o<l;o++){var c=n[o],d=n[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return a?void 0:0};function hC(t){var{tooltipEntrySettings:r,dataKey:a,payload:s,value:n,name:i}=t;return tl(tl({},r),{},{dataKey:a,payload:s,value:n,name:i})}function Xm(t,r){if(t)return String(t);if(typeof r=="string")return r}function ete(t,r,a,s,n){if(a==="horizontal"||a==="vertical"){var i=t>=n.left&&t<=n.left+n.width&&r>=n.top&&r<=n.top+n.height;return i?{x:t,y:r}:null}return s?Fee({x:t,y:r},s):null}var tte=(t,r,a,s)=>{var n=r.find(d=>d&&d.index===a);if(n){if(t==="horizontal")return{x:n.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:n.coordinate};if(t==="centric"){var i=n.coordinate,{radius:o}=s;return tl(tl(tl({},s),Ws(s.cx,s.cy,o,i)),{},{angle:i,radius:o})}var l=n.coordinate,{angle:c}=s;return tl(tl(tl({},s),Ws(s.cx,s.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},rte=(t,r)=>r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius,$d=t=>t.layout.width,Bd=t=>t.layout.height,ate=t=>t.layout.scale,BR=t=>t.layout.margin,_5=ct(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),A5=ct(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),UR="data-recharts-item-index",zR="data-recharts-item-data-key",Qb=60;function mC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Su(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?mC(Object(a),!0).forEach(function(s){ste(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):mC(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function ste(t,r,a){return(r=nte(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function nte(t){var r=ite(t,"string");return typeof r=="symbol"?r:r+""}function ite(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var ote=t=>t.brush.height,sn=ct([$d,Bd,BR,ote,_5,A5,cR,PQ],(t,r,a,s,n,i,o,l)=>{var c=i.reduce((x,v)=>{var{orientation:w}=v;if(!v.mirror&&!v.hide){var j=typeof v.width=="number"?v.width:Qb;return Su(Su({},x),{},{[w]:x[w]+j})}return x},{left:a.left||0,right:a.right||0}),d=n.reduce((x,v)=>{var{orientation:w}=v;return!v.mirror&&!v.hide?Su(Su({},x),{},{[w]:Wu(x,"".concat(w))+v.height}):x},{top:a.top||0,bottom:a.bottom||0}),u=Su(Su({},d),c),f=u.bottom;u.bottom+=s,u=qee(u,o,l);var p=t-u.left-u.right,g=r-u.top-u.bottom;return Su(Su({brushBottom:f},u),{},{width:Math.max(p,0),height:Math.max(g,0)})}),lte=ct(sn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),qR=ct($d,Bd,(t,r)=>({x:0,y:0,width:t,height:r})),cte=b.createContext(null),Ki=()=>b.useContext(cte)!=null,ev=t=>t.brush,tv=ct([ev,sn,BR],(t,r,a)=>({height:t.height,x:Gt(t.x)?t.x:r.left,y:Gt(t.y)?t.y:r.top+r.height+r.brushBottom-(a?.bottom||0),width:Gt(t.width)?t.width:r.width})),C5=()=>{var t,r=Ki(),a=fr(lte),s=fr(tv),n=(t=fr(ev))===null||t===void 0?void 0:t.padding;return!r||!s||!n?a:{width:s.width-n.left-n.right,height:s.height-n.top-n.bottom,x:n.left,y:n.top}},dte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},VR=()=>{var t;return(t=fr(sn))!==null&&t!==void 0?t:dte},P5=()=>fr($d),E5=()=>fr(Bd),ute={top:0,right:0,bottom:0,left:0},hte=()=>{var t;return(t=fr(r=>r.layout.margin))!==null&&t!==void 0?t:ute},Yr=t=>t.layout.layoutType,rv=()=>fr(Yr),mte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},HR=Co({name:"legend",initialState:mte,reducers:{setLegendSize(t,r){t.size.width=r.payload.width,t.size.height=r.payload.height},setLegendSettings(t,r){t.settings.align=r.payload.align,t.settings.layout=r.payload.layout,t.settings.verticalAlign=r.payload.verticalAlign,t.settings.itemSorter=r.payload.itemSorter},addLegendPayload(t,r){t.payload.push(r.payload)},removeLegendPayload(t,r){var a=Sd(t).payload.indexOf(r.payload);a>-1&&t.payload.splice(a,1)}}}),{setLegendSize:fC,setLegendSettings:fte,addLegendPayload:WR,removeLegendPayload:GR}=HR.actions,pte=HR.reducer,gte=["contextPayload"];function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},sN.apply(null,arguments)}function pC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Im(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?pC(Object(a),!0).forEach(function(s){T5(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pC(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function T5(t,r,a){return(r=xte(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function xte(t){var r=yte(t,"string");return typeof r=="symbol"?r:r+""}function yte(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function bte(t,r){if(t==null)return{};var a,s,n=vte(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function vte(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function wte(t){return t.value}function jte(t){var{contextPayload:r}=t,a=bte(t,gte),s=nR(r,t.payloadUniqBy,wte),n=Im(Im({},a),{},{payload:s});return b.isValidElement(t.content)?b.cloneElement(t.content,n):typeof t.content=="function"?b.createElement(t.content,n):b.createElement(f5,n)}function Nte(t,r,a,s,n,i){var{layout:o,align:l,verticalAlign:c}=r,d,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&o==="vertical"?d={left:((s||0)-i.width)/2}:d=l==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?u={top:((n||0)-i.height)/2}:u=c==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),Im(Im({},d),u)}function kte(t){var r=us();return b.useEffect(()=>{r(fte(t))},[r,t]),null}function Ste(t){var r=us();return b.useEffect(()=>(r(fC(t)),()=>{r(fC({width:0,height:0}))}),[r,t]),null}function _te(t){var r=DQ(),a=GX(),s=hte(),{width:n,height:i,wrapperStyle:o,portal:l}=t,[c,d]=dR([r]),u=P5(),f=E5(),p=u-(s.left||0)-(s.right||0),g=Om.getWidthOrHeight(t.layout,i,n,p),x=l?o:Im(Im({position:"absolute",width:g?.width||n||"auto",height:g?.height||i||"auto"},Nte(o,t,s,u,f,c)),o),v=l??a;if(v==null)return null;var w=b.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},b.createElement(kte,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),b.createElement(Ste,{width:c.width,height:c.height}),b.createElement(jte,sN({},t,g,{margin:s,chartWidth:u,chartHeight:f,contextPayload:r})));return _a.createPortal(w,v)}class Om extends b.PureComponent{static getWidthOrHeight(r,a,s,n){return r==="vertical"&&Gt(a)?{height:a}:r==="horizontal"?{width:s||n}:null}render(){return b.createElement(_te,this.props)}}T5(Om,"displayName","Legend");T5(Om,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function nN(){return nN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},nN.apply(null,arguments)}function gC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Hj(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?gC(Object(a),!0).forEach(function(s){Ate(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):gC(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Ate(t,r,a){return(r=Cte(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Cte(t){var r=Pte(t,"string");return typeof r=="symbol"?r:r+""}function Pte(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ete(t){return Array.isArray(t)&&Cc(t[0])&&Cc(t[1])?t.join(" ~ "):t}var Tte=t=>{var{separator:r=" : ",contentStyle:a={},itemStyle:s={},labelStyle:n={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:p=!1}=t,g=()=>{if(i&&i.length){var C={padding:0,margin:0},D=(l?Gb(i,l):i).map((U,z)=>{if(U.type==="none")return null;var E=U.formatter||o||Ete,{value:I,name:T}=U,F=I,Y=T;if(E){var O=E(I,T,U,z,i);if(Array.isArray(O))[F,Y]=O;else if(O!=null)F=O;else return null}var q=Hj({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:q},Cc(Y)?b.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Cc(Y)?b.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,b.createElement("span",{className:"recharts-tooltip-item-value"},F),b.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:C},D)}return null},x=Hj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),v=Hj({margin:0},n),w=!Za(u),j=w?u:"",_=aa("recharts-default-tooltip",c),S=aa("recharts-tooltip-label",d);w&&f&&i!==void 0&&i!==null&&(j=f(u,i));var N=p?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",nN({className:_,style:x},N),b.createElement("p",{className:S,style:v},b.isValidElement(j)?j:"".concat(j)),g())},Bf="recharts-tooltip-wrapper",Dte={visibility:"hidden"};function Ite(t){var{coordinate:r,translateX:a,translateY:s}=t;return aa(Bf,{["".concat(Bf,"-right")]:Gt(a)&&r&&Gt(r.x)&&a>=r.x,["".concat(Bf,"-left")]:Gt(a)&&r&&Gt(r.x)&&a<r.x,["".concat(Bf,"-bottom")]:Gt(s)&&r&&Gt(r.y)&&s>=r.y,["".concat(Bf,"-top")]:Gt(s)&&r&&Gt(r.y)&&s<r.y})}function xC(t){var{allowEscapeViewBox:r,coordinate:a,key:s,offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=t;if(i&&Gt(i[s]))return i[s];var u=a[s]-l-(n>0?n:0),f=a[s]+n;if(r[s])return o[s]?u:f;var p=c[s];if(p==null)return 0;if(o[s]){var g=u,x=p;return g<x?Math.max(f,p):Math.max(u,p)}if(d==null)return 0;var v=f+l,w=p+d;return v>w?Math.max(u,p):Math.max(f,p)}function Ote(t){var{translateX:r,translateY:a,useTranslate3d:s}=t;return{transform:s?"translate3d(".concat(r,"px, ").concat(a,"px, 0)"):"translate(".concat(r,"px, ").concat(a,"px)")}}function Rte(t){var{allowEscapeViewBox:r,coordinate:a,offsetTopLeft:s,position:n,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=t,d,u,f;return o.height>0&&o.width>0&&a?(u=xC({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:s,position:n,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=xC({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:s,position:n,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Ote({translateX:u,translateY:f,useTranslate3d:l})):d=Dte,{cssProperties:d,cssClasses:Ite({translateX:u,translateY:f,coordinate:a})}}function yC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Px(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?yC(Object(a),!0).forEach(function(s){iN(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):yC(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function iN(t,r,a){return(r=Lte(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Lte(t){var r=Mte(t,"string");return typeof r=="symbol"?r:r+""}function Mte(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class Fte extends b.PureComponent{constructor(){super(...arguments),iN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),iN(this,"handleKeyDown",r=>{if(r.key==="Escape"){var a,s,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&a!==void 0?a:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,a;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:a,animationDuration:s,animationEasing:n,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:f,useTranslate3d:p,viewBox:g,wrapperStyle:x,lastBoundingBox:v,innerRef:w,hasPortalFromProps:j}=this.props,{cssClasses:_,cssProperties:S}=Rte({allowEscapeViewBox:a,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:p,viewBox:g}),N=j?{}:Px(Px({transition:c&&r?"transform ".concat(s,"ms ").concat(n):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&l?"visible":"hidden",position:"absolute",top:0,left:0}),C=Px(Px({},N),{},{visibility:!this.state.dismissed&&r&&l?"visible":"hidden"},x);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:C,ref:w},i)}}var $te=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),kh={isSsr:$te()},YR=()=>fr(t=>t.rootProps.accessibilityLayer);function On(t){return Number.isFinite(t)}function Rm(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},oN.apply(null,arguments)}function bC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function vC(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?bC(Object(a),!0).forEach(function(s){Bte(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):bC(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Bte(t,r,a){return(r=Ute(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Ute(t){var r=zte(t,"string");return typeof r=="symbol"?r:r+""}function zte(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var wC={curveBasisClosed:hZ,curveBasisOpen:mZ,curveBasis:uZ,curveBumpX:XX,curveBumpY:ZX,curveLinearClosed:fZ,curveLinear:Hb,curveMonotoneX:pZ,curveMonotoneY:gZ,curveNatural:xZ,curveStep:yZ,curveStepAfter:vZ,curveStepBefore:bZ},Ex=t=>On(t.x)&&On(t.y),Uf=t=>t.x,zf=t=>t.y,qte=(t,r)=>{if(typeof t=="function")return t;var a="curve".concat(ug(t));return(a==="curveMonotone"||a==="curveBump")&&r?wC["".concat(a).concat(r==="vertical"?"Y":"X")]:wC[a]||Hb},Vte=t=>{var{type:r="linear",points:a=[],baseLine:s,layout:n,connectNulls:i=!1}=t,o=qte(r,n),l=i?a.filter(Ex):a,c;if(Array.isArray(s)){var d=i?s.filter(f=>Ex(f)):s,u=l.map((f,p)=>vC(vC({},f),{},{base:d[p]}));return n==="vertical"?c=Nx().y(zf).x1(Uf).x0(f=>f.base.x):c=Nx().x(Uf).y1(zf).y0(f=>f.base.y),c.defined(Ex).curve(o),c(u)}return n==="vertical"&&Gt(s)?c=Nx().y(zf).x1(Uf).x0(s):Gt(s)?c=Nx().x(Uf).y1(zf).y0(s):c=UO().x(Uf).y(zf),c.defined(Ex).curve(o),c(l)},hp=t=>{var{className:r,points:a,path:s,pathRef:n}=t;if((!a||!a.length)&&!s)return null;var i=a&&a.length?Vte(t):s;return b.createElement("path",oN({},Ec(t),o5(t),{className:aa("recharts-curve",r),d:i===null?void 0:i,ref:n}))},Hte=["x","y","top","left","width","height","className"];function lN(){return lN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},lN.apply(null,arguments)}function jC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Wte(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?jC(Object(a),!0).forEach(function(s){Gte(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):jC(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Gte(t,r,a){return(r=Yte(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Yte(t){var r=Kte(t,"string");return typeof r=="symbol"?r:r+""}function Kte(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Jte(t,r){if(t==null)return{};var a,s,n=Xte(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Xte(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var Zte=(t,r,a,s,n,i)=>"M".concat(t,",").concat(n,"v").concat(s,"M").concat(i,",").concat(r,"h").concat(a),Qte=t=>{var{x:r=0,y:a=0,top:s=0,left:n=0,width:i=0,height:o=0,className:l}=t,c=Jte(t,Hte),d=Wte({x:r,y:a,top:s,left:n,width:i,height:o},c);return!Gt(r)||!Gt(a)||!Gt(i)||!Gt(o)||!Gt(s)||!Gt(n)?null:b.createElement("path",lN({},ds(d,!0),{className:aa("recharts-cross",l),d:Zte(r,a,i,o,s,n)}))};function ere(t,r,a,s){var n=s/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?r.x-n:a.left+.5,y:t==="horizontal"?a.top+.5:r.y-n,width:t==="horizontal"?s:a.width-1,height:t==="horizontal"?a.height-1:s}}function NC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function tre(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?NC(Object(a),!0).forEach(function(s){rre(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):NC(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function rre(t,r,a){return(r=are(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function are(t){var r=sre(t,"string");return typeof r=="symbol"?r:r+""}function sre(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Po(t,r){var a=tre({},t),s=r,n=Object.keys(r),i=n.reduce((o,l)=>(o[l]===void 0&&s[l]!==void 0&&(o[l]=s[l]),o),a);return i}var Wj={},Gj={},Yj={},kC;function nre(){return kC||(kC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){if(!a||typeof a!="object")return!1;const s=Object.getPrototypeOf(a);return s===null||s===Object.prototype||Object.getPrototypeOf(s)===null?Object.prototype.toString.call(a)==="[object Object]":!1}t.isPlainObject=r})(Yj)),Yj}var SC;function ire(){return SC||(SC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=nre(),a=rR(),s=y5(),n=b5(),i=g5();function o(d,u,f){return l(d,u,void 0,void 0,void 0,void 0,f)}function l(d,u,f,p,g,x,v){const w=v(d,u,f,p,g,x);if(w!==void 0)return w;if(typeof d==typeof u)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===u;case"number":return d===u||Object.is(d,u);case"function":return d===u;case"object":return c(d,u,x,v)}return c(d,u,x,v)}function c(d,u,f,p){if(Object.is(d,u))return!0;let g=s.getTag(d),x=s.getTag(u);if(g===n.argumentsTag&&(g=n.objectTag),x===n.argumentsTag&&(x=n.objectTag),g!==x)return!1;switch(g){case n.stringTag:return d.toString()===u.toString();case n.numberTag:{const j=d.valueOf(),_=u.valueOf();return i.eq(j,_)}case n.booleanTag:case n.dateTag:case n.symbolTag:return Object.is(d.valueOf(),u.valueOf());case n.regexpTag:return d.source===u.source&&d.flags===u.flags;case n.functionTag:return d===u}f=f??new Map;const v=f.get(d),w=f.get(u);if(v!=null&&w!=null)return v===u;f.set(d,u),f.set(u,d);try{switch(g){case n.mapTag:{if(d.size!==u.size)return!1;for(const[j,_]of d.entries())if(!u.has(j)||!l(_,u.get(j),j,d,u,f,p))return!1;return!0}case n.setTag:{if(d.size!==u.size)return!1;const j=Array.from(d.values()),_=Array.from(u.values());for(let S=0;S<j.length;S++){const N=j[S],C=_.findIndex(D=>l(N,D,void 0,d,u,f,p));if(C===-1)return!1;_.splice(C,1)}return!0}case n.arrayTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:case n.bigUint64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.bigInt64ArrayTag:case n.float32ArrayTag:case n.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(d)!==Buffer.isBuffer(u)||d.length!==u.length)return!1;for(let j=0;j<d.length;j++)if(!l(d[j],u[j],j,d,u,f,p))return!1;return!0}case n.arrayBufferTag:return d.byteLength!==u.byteLength?!1:c(new Uint8Array(d),new Uint8Array(u),f,p);case n.dataViewTag:return d.byteLength!==u.byteLength||d.byteOffset!==u.byteOffset?!1:c(new Uint8Array(d),new Uint8Array(u),f,p);case n.errorTag:return d.name===u.name&&d.message===u.message;case n.objectTag:{if(!(c(d.constructor,u.constructor,f,p)||r.isPlainObject(d)&&r.isPlainObject(u)))return!1;const _=[...Object.keys(d),...a.getSymbols(d)],S=[...Object.keys(u),...a.getSymbols(u)];if(_.length!==S.length)return!1;for(let N=0;N<_.length;N++){const C=_[N],D=d[C];if(!Object.hasOwn(u,C))return!1;const U=u[C];if(!l(D,U,C,d,u,f,p))return!1}return!0}default:return!1}}finally{f.delete(d),f.delete(u)}}t.isEqualWith=o})(Gj)),Gj}var Kj={},_C;function ore(){return _C||(_C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(){}t.noop=r})(Kj)),Kj}var AC;function lre(){return AC||(AC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=ire(),a=ore();function s(n,i){return r.isEqualWith(n,i,a.noop)}t.isEqual=s})(Wj)),Wj}var Jj,CC;function cre(){return CC||(CC=1,Jj=lre().isEqual),Jj}var dre=cre();const ure=ml(dre);var Yy=1e-4,KR=(t,r)=>[0,3*t,3*r-6*t,3*t-3*r+1],JR=(t,r)=>t.map((a,s)=>a*r**s).reduce((a,s)=>a+s),PC=(t,r)=>a=>{var s=KR(t,r);return JR(s,a)},hre=(t,r)=>a=>{var s=KR(t,r),n=[...s.map((i,o)=>i*o).slice(1),0];return JR(n,a)},EC=function(){for(var r,a,s,n,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[r,s,a,n]=[0,0,1,1];break;case"ease":[r,s,a,n]=[.25,.1,.25,1];break;case"ease-in":[r,s,a,n]=[.42,0,1,1];break;case"ease-out":[r,s,a,n]=[.42,0,.58,1];break;case"ease-in-out":[r,s,a,n]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([r,s,a,n]=c[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else o.length===4&&([r,s,a,n]=o);var d=PC(r,a),u=PC(s,n),f=hre(r,a),p=x=>x>1?1:x<0?0:x,g=x=>{for(var v=x>1?1:x,w=v,j=0;j<8;++j){var _=d(w)-v,S=f(w);if(Math.abs(_-v)<Yy||S<Yy)return u(w);w=p(w-_/S)}return u(w)};return g.isStepper=!1,g},mre=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:s=8,dt:n=17}=r,i=(o,l,c)=>{var d=-(o-l)*a,u=c*s,f=c+(d-u)*n/1e3,p=c*n/1e3+o;return Math.abs(p-l)<Yy&&Math.abs(f)<Yy?[l,0]:[p,f]};return i.isStepper=!0,i.dt=n,i},XR=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EC(t);case"spring":return mre();default:if(t.split("(")[0]==="cubic-bezier")return EC(t)}return typeof t=="function"?t:null};function TC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function DC(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?TC(Object(a),!0).forEach(function(s){fre(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):TC(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function fre(t,r,a){return(r=pre(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function pre(t){var r=gre(t,"string");return typeof r=="symbol"?r:r+""}function gre(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var xre=t=>t.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),yre=(t,r,a)=>t.map(s=>"".concat(xre(s)," ").concat(r,"ms ").concat(a)).join(","),bre=(t,r)=>[Object.keys(t),Object.keys(r)].reduce((a,s)=>a.filter(n=>s.includes(n))),Fp=(t,r)=>Object.keys(r).reduce((a,s)=>DC(DC({},a),{},{[s]:t(s,r[s])}),{});function IC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Tn(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?IC(Object(a),!0).forEach(function(s){vre(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):IC(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function vre(t,r,a){return(r=wre(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function wre(t){var r=jre(t,"string");return typeof r=="symbol"?r:r+""}function jre(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Ky=(t,r,a)=>t+(r-t)*a,cN=t=>{var{from:r,to:a}=t;return r!==a},ZR=(t,r,a)=>{var s=Fp((n,i)=>{if(cN(i)){var[o,l]=t(i.from,i.to,i.velocity);return Tn(Tn({},i),{},{from:o,velocity:l})}return i},r);return a<1?Fp((n,i)=>cN(i)?Tn(Tn({},i),{},{velocity:Ky(i.velocity,s[n].velocity,a),from:Ky(i.from,s[n].from,a)}):i,r):ZR(t,s,a-1)};function Nre(t,r,a,s,n,i){var o,l=s.reduce((p,g)=>Tn(Tn({},p),{},{[g]:{from:t[g],velocity:0,to:r[g]}}),{}),c=()=>Fp((p,g)=>g.from,l),d=()=>!Object.values(l).filter(cN).length,u=null,f=p=>{o||(o=p);var g=p-o,x=g/a.dt;l=ZR(a,l,x),n(Tn(Tn(Tn({},t),r),c())),o=p,d()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function kre(t,r,a,s,n,i,o){var l=null,c=n.reduce((f,p)=>Tn(Tn({},f),{},{[p]:[t[p],r[p]]}),{}),d,u=f=>{d||(d=f);var p=(f-d)/s,g=Fp((v,w)=>Ky(...w,a(p)),c);if(i(Tn(Tn(Tn({},t),r),g)),p<1)l=o.setTimeout(u);else{var x=Fp((v,w)=>Ky(...w,a(1)),c);i(Tn(Tn(Tn({},t),r),x))}};return()=>(l=o.setTimeout(u),()=>{l()})}const QR=(t,r,a,s,n,i)=>{var o=bre(t,r);return a.isStepper===!0?Nre(t,r,a,o,n,i):kre(t,r,a,s,o,n,i)};function Sre(t){var r,a=()=>null,s=!1,n=null,i=o=>{if(!s){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...d]=l;if(typeof c=="number"){n=t.setTimeout(i.bind(null,d),c);return}i(c),n=t.setTimeout(i.bind(null,d));return}typeof o=="string"&&(r=o,a(r)),typeof o=="object"&&(r=o,a(r)),typeof o=="function"&&o()}};return{stop:()=>{s=!0},start:o=>{s=!1,n&&(n(),n=null),i(o)},subscribe:o=>(a=o,()=>{a=()=>null}),getTimeoutController:()=>t}}class _re{setTimeout(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=performance.now(),n=null,i=o=>{o-s>=a?r(o):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function Are(){return Sre(new _re)}var Cre=b.createContext(Are);function eL(t,r){var a=b.useContext(Cre);return b.useMemo(()=>r??a(t),[t,r,a])}var Pre=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},dN.apply(null,arguments)}function Ere(t,r){if(t==null)return{};var a,s,n=Tre(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Tre(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function OC(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function _u(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?OC(Object(a),!0).forEach(function(s){W0(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):OC(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function W0(t,r,a){return(r=Dre(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Dre(t){var r=Ire(t,"string");return typeof r=="symbol"?r:r+""}function Ire(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class D5 extends b.PureComponent{constructor(r,a){super(r,a),W0(this,"mounted",!1),W0(this,"manager",void 0),W0(this,"stopJSAnimation",null),W0(this,"unSubscribe",null);var{isActive:s,attributeName:n,from:i,to:o,children:l,duration:c,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!s||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(i){if(typeof l=="function"){this.state={style:i};return}this.state={style:n?{[n]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:r,canBegin:a}=this.props;this.mounted=!0,!(!r||!a)&&this.runAnimation(this.props)}componentDidUpdate(r){var{isActive:a,canBegin:s,attributeName:n,shouldReAnimate:i,to:o,from:l}=this.props,{style:c}=this.state;if(s){if(!a){var d={style:n?{[n]:o}:o};this.state&&c&&(n&&c[n]!==o||!n&&c!==o)&&this.setState(d);return}if(!(ure(r.to,o)&&r.canBegin&&r.isActive)){var u=!r.canBegin||!r.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=u||i?l:r.to;if(this.state&&c){var p={style:n?{[n]:f}:f};(n&&c[n]!==f||!n&&c!==f)&&this.setState(p)}this.runAnimation(_u(_u({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:r}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),r&&r()}handleStyleChange(r){this.changeStyle(r)}changeStyle(r){this.mounted&&this.setState({style:r})}runJSAnimation(r){var{from:a,to:s,duration:n,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c}=r,d=QR(a,s,XR(i),n,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=d()};this.manager.start([c,o,u,n,l])}runAnimation(r){var{begin:a,duration:s,attributeName:n,to:i,easing:o,onAnimationStart:l,onAnimationEnd:c,children:d}=r;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof d=="function"||o==="spring"){this.runJSAnimation(r);return}var u=n?{[n]:i}:i,f=yre(Object.keys(u),s,o);this.manager.start([l,a,_u(_u({},u),{},{transition:f}),s,c])}render(){var r=this.props,{children:a,begin:s,duration:n,attributeName:i,easing:o,isActive:l,from:c,to:d,canBegin:u,onAnimationEnd:f,shouldReAnimate:p,onAnimationReStart:g,animationManager:x}=r,v=Ere(r,Pre),w=b.Children.count(a),j=this.state.style;if(typeof a=="function")return a(j);if(!l||w===0||n<=0)return a;var _=S=>{var{style:N={},className:C}=S.props,D=b.cloneElement(S,_u(_u({},v),{},{style:_u(_u({},N),j),className:C}));return D};return w===1?_(b.Children.only(a)):b.createElement("div",null,b.Children.map(a,S=>_(S)))}}W0(D5,"displayName","Animate");W0(D5,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Jy(t){var r,a=eL((r=t.attributeName)!==null&&r!==void 0?r:Object.keys(t.to).join(","),t.animationManager);return b.createElement(D5,dN({},t,{animationManager:a}))}function Xy(){return Xy=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Xy.apply(null,arguments)}var RC=(t,r,a,s,n)=>{var i=Math.min(Math.abs(a)/2,Math.abs(s)/2),o=s>=0?1:-1,l=a>=0?1:-1,c=s>=0&&a>=0||s<0&&a<0?1:0,d;if(i>0&&n instanceof Array){for(var u=[0,0,0,0],f=0,p=4;f<p;f++)u[f]=n[f]>i?i:n[f];d="M".concat(t,",").concat(r+o*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(t+l*u[0],",").concat(r)),d+="L ".concat(t+a-l*u[1],",").concat(r),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(t+a,",").concat(r+o*u[1])),d+="L ".concat(t+a,",").concat(r+s-o*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(t+a-l*u[2],",").concat(r+s)),d+="L ".concat(t+l*u[3],",").concat(r+s),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+s-o*u[3])),d+="Z"}else if(i>0&&n===+n&&n>0){var g=Math.min(i,n);d="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+a-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+a,",").concat(r+o*g,`
            L `).concat(t+a,",").concat(r+s-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+a-l*g,",").concat(r+s,`
            L `).concat(t+l*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+s-o*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return d},Ore={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tL=t=>{var r=Po(t,Ore),a=b.useRef(null),[s,n]=b.useState(-1);b.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var j=a.current.getTotalLength();j&&n(j)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=r,{animationEasing:f,animationDuration:p,animationBegin:g,isAnimationActive:x,isUpdateAnimationActive:v}=r;if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var w=aa("recharts-rectangle",u);return v?b.createElement(Jy,{canBegin:s>0,from:{width:l,height:c,x:i,y:o},to:{width:l,height:c,x:i,y:o},duration:p,animationEasing:f,isActive:v},j=>{var{width:_,height:S,x:N,y:C}=j;return b.createElement(Jy,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:x,easing:f},b.createElement("path",Xy({},ds(r,!0),{className:w,d:RC(N,C,_,S,d),ref:a})))}):b.createElement("path",Xy({},ds(r,!0),{className:w,d:RC(i,o,l,c,d)}))};function rL(t){var{cx:r,cy:a,radius:s,startAngle:n,endAngle:i}=t,o=Ws(r,a,s,n),l=Ws(r,a,s,i);return{points:[o,l],cx:r,cy:a,radius:s,startAngle:n,endAngle:i}}function uN(){return uN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},uN.apply(null,arguments)}var Rre=(t,r)=>{var a=vn(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},Tx=t=>{var{cx:r,cy:a,radius:s,angle:n,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=t,d=l*(o?1:-1)+s,u=Math.asin(l/d)/Gy,f=c?n:n+i*u,p=Ws(r,a,d,f),g=Ws(r,a,s,f),x=c?n-i*u:n,v=Ws(r,a,d*Math.cos(u*Gy),x);return{center:p,circleTangency:g,lineTangency:v,theta:u}},aL=t=>{var{cx:r,cy:a,innerRadius:s,outerRadius:n,startAngle:i,endAngle:o}=t,l=Rre(i,o),c=i+l,d=Ws(r,a,n,i),u=Ws(r,a,n,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(s>0){var p=Ws(r,a,s,i),g=Ws(r,a,s,c);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(a," Z");return f},Lre=t=>{var{cx:r,cy:a,innerRadius:s,outerRadius:n,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}=t,u=vn(d-c),{circleTangency:f,lineTangency:p,theta:g}=Tx({cx:r,cy:a,radius:n,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:x,lineTangency:v,theta:w}=Tx({cx:r,cy:a,radius:n,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),j=l?Math.abs(c-d):Math.abs(c-d)-g-w;if(j<0)return o?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):aL({cx:r,cy:a,innerRadius:s,outerRadius:n,startAngle:c,endAngle:d});var _="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var{circleTangency:S,lineTangency:N,theta:C}=Tx({cx:r,cy:a,radius:s,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:D,lineTangency:U,theta:z}=Tx({cx:r,cy:a,radius:s,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),E=l?Math.abs(c-d):Math.abs(c-d)-C-z;if(E<0&&i===0)return"".concat(_,"L").concat(r,",").concat(a,"Z");_+="L".concat(U.x,",").concat(U.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else _+="L".concat(r,",").concat(a,"Z");return _},Mre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sL=t=>{var r=Po(t,Mre),{cx:a,cy:s,innerRadius:n,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=r;if(i<n||d===u)return null;var p=aa("recharts-sector",f),g=i-n,x=vi(o,g,0,!0),v;return x>0&&Math.abs(d-u)<360?v=Lre({cx:a,cy:s,innerRadius:n,outerRadius:i,cornerRadius:Math.min(x,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):v=aL({cx:a,cy:s,innerRadius:n,outerRadius:i,startAngle:d,endAngle:u}),b.createElement("path",uN({},ds(r,!0),{className:p,d:v}))};function Fre(t,r,a){var s,n,i,o;if(t==="horizontal")s=r.x,i=s,n=a.top,o=a.top+a.height;else if(t==="vertical")n=r.y,o=n,s=a.left,i=a.left+a.width;else if(r.cx!=null&&r.cy!=null)if(t==="centric"){var{cx:l,cy:c,innerRadius:d,outerRadius:u,angle:f}=r,p=Ws(l,c,d,f),g=Ws(l,c,u,f);s=p.x,n=p.y,i=g.x,o=g.y}else return rL(r);return[{x:s,y:n},{x:i,y:o}]}var Xj={},Zj={},Qj={},LC;function $re(){return LC||(LC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=oR();function a(s){return r.isSymbol(s)?NaN:Number(s)}t.toNumber=a})(Qj)),Qj}var MC;function Bre(){return MC||(MC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=$re();function a(s){return s?(s=r.toNumber(s),s===1/0||s===-1/0?(s<0?-1:1)*Number.MAX_VALUE:s===s?s:0):s===0?s:0}t.toFinite=a})(Zj)),Zj}var FC;function Ure(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=lR(),a=Bre();function s(n,i,o){o&&typeof o!="number"&&r.isIterateeCall(n,i,o)&&(i=o=void 0),n=a.toFinite(n),i===void 0?(i=n,n=0):i=a.toFinite(i),o=o===void 0?n<i?1:-1:a.toFinite(o);const l=Math.max(Math.ceil((i-n)/(o||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=n,n+=o;return c}t.range=s})(Xj)),Xj}var e1,$C;function zre(){return $C||($C=1,e1=Ure().range),e1}var qre=zre();const nL=ml(qre);function Bu(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function Vre(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function I5(t){let r,a,s;t.length!==2?(r=Bu,a=(l,c)=>Bu(t(l),c),s=(l,c)=>t(l)-c):(r=t===Bu||t===Vre?t:Hre,a=t,s=t);function n(l,c,d=0,u=l.length){if(d<u){if(r(c,c)!==0)return u;do{const f=d+u>>>1;a(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(r(c,c)!==0)return u;do{const f=d+u>>>1;a(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=n(l,c,d,u-1);return f>d&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:n,center:o,right:i}}function Hre(){return 0}function iL(t){return t===null?NaN:+t}function*Wre(t,r){for(let a of t)a!=null&&(a=+a)>=a&&(yield a)}const Gre=I5(Bu),gg=Gre.right;I5(iL).center;class BC extends Map{constructor(r,a=Jre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),r!=null)for(const[s,n]of r)this.set(s,n)}get(r){return super.get(UC(this,r))}has(r){return super.has(UC(this,r))}set(r,a){return super.set(Yre(this,r),a)}delete(r){return super.delete(Kre(this,r))}}function UC({_intern:t,_key:r},a){const s=r(a);return t.has(s)?t.get(s):a}function Yre({_intern:t,_key:r},a){const s=r(a);return t.has(s)?t.get(s):(t.set(s,a),a)}function Kre({_intern:t,_key:r},a){const s=r(a);return t.has(s)&&(a=t.get(s),t.delete(s)),a}function Jre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Xre(t=Bu){if(t===Bu)return oL;if(typeof t!="function")throw new TypeError("compare is not a function");return(r,a)=>{const s=t(r,a);return s||s===0?s:(t(a,a)===0)-(t(r,r)===0)}}function oL(t,r){return(t==null||!(t>=t))-(r==null||!(r>=r))||(t<r?-1:t>r?1:0)}const Zre=Math.sqrt(50),Qre=Math.sqrt(10),eae=Math.sqrt(2);function Zy(t,r,a){const s=(r-t)/Math.max(0,a),n=Math.floor(Math.log10(s)),i=s/Math.pow(10,n),o=i>=Zre?10:i>=Qre?5:i>=eae?2:1;let l,c,d;return n<0?(d=Math.pow(10,-n)/o,l=Math.round(t*d),c=Math.round(r*d),l/d<t&&++l,c/d>r&&--c,d=-d):(d=Math.pow(10,n)*o,l=Math.round(t/d),c=Math.round(r/d),l*d<t&&++l,c*d>r&&--c),c<l&&.5<=a&&a<2?Zy(t,r,a*2):[l,c,d]}function hN(t,r,a){if(r=+r,t=+t,a=+a,!(a>0))return[];if(t===r)return[t];const s=r<t,[n,i,o]=s?Zy(r,t,a):Zy(t,r,a);if(!(i>=n))return[];const l=i-n+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(n+d)/-o;else for(let d=0;d<l;++d)c[d]=(n+d)*o;return c}function mN(t,r,a){return r=+r,t=+t,a=+a,Zy(t,r,a)[2]}function fN(t,r,a){r=+r,t=+t,a=+a;const s=r<t,n=s?mN(r,t,a):mN(t,r,a);return(s?-1:1)*(n<0?1/-n:n)}function zC(t,r){let a;for(const s of t)s!=null&&(a<s||a===void 0&&s>=s)&&(a=s);return a}function qC(t,r){let a;for(const s of t)s!=null&&(a>s||a===void 0&&s>=s)&&(a=s);return a}function lL(t,r,a=0,s=1/0,n){if(r=Math.floor(r),a=Math.floor(Math.max(0,a)),s=Math.floor(Math.min(t.length-1,s)),!(a<=r&&r<=s))return t;for(n=n===void 0?oL:Xre(n);s>a;){if(s-a>600){const c=s-a+1,d=r-a+1,u=Math.log(c),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),g=Math.max(a,Math.floor(r-d*f/c+p)),x=Math.min(s,Math.floor(r+(c-d)*f/c+p));lL(t,r,g,x,n)}const i=t[r];let o=a,l=s;for(qf(t,a,r),n(t[s],i)>0&&qf(t,a,s);o<l;){for(qf(t,o,l),++o,--l;n(t[o],i)<0;)++o;for(;n(t[l],i)>0;)--l}n(t[a],i)===0?qf(t,a,l):(++l,qf(t,l,s)),l<=r&&(a=l+1),r<=l&&(s=l-1)}return t}function qf(t,r,a){const s=t[r];t[r]=t[a],t[a]=s}function tae(t,r,a){if(t=Float64Array.from(Wre(t)),!(!(s=t.length)||isNaN(r=+r))){if(r<=0||s<2)return qC(t);if(r>=1)return zC(t);var s,n=(s-1)*r,i=Math.floor(n),o=zC(lL(t,i).subarray(0,i+1)),l=qC(t.subarray(i+1));return o+(l-o)*(n-i)}}function rae(t,r,a=iL){if(!(!(s=t.length)||isNaN(r=+r))){if(r<=0||s<2)return+a(t[0],0,t);if(r>=1)return+a(t[s-1],s-1,t);var s,n=(s-1)*r,i=Math.floor(n),o=+a(t[i],i,t),l=+a(t[i+1],i+1,t);return o+(l-o)*(n-i)}}function aae(t,r,a){t=+t,r=+r,a=(n=arguments.length)<2?(r=t,t=0,1):n<3?1:+a;for(var s=-1,n=Math.max(0,Math.ceil((r-t)/a))|0,i=new Array(n);++s<n;)i[s]=t+s*a;return i}function fl(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function Ud(t,r){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const pN=Symbol("implicit");function O5(){var t=new BC,r=[],a=[],s=pN;function n(i){let o=t.get(i);if(o===void 0){if(s!==pN)return s;t.set(i,o=r.push(i)-1)}return a[o%a.length]}return n.domain=function(i){if(!arguments.length)return r.slice();r=[],t=new BC;for(const o of i)t.has(o)||t.set(o,r.push(o)-1);return n},n.range=function(i){return arguments.length?(a=Array.from(i),n):a.slice()},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return O5(r,a).unknown(s)},fl.apply(n,arguments),n}function R5(){var t=O5().unknown(void 0),r=t.domain,a=t.range,s=0,n=1,i,o,l=!1,c=0,d=0,u=.5;delete t.unknown;function f(){var p=r().length,g=n<s,x=g?n:s,v=g?s:n;i=(v-x)/Math.max(1,p-c+d*2),l&&(i=Math.floor(i)),x+=(v-x-i*(p-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var w=aae(p).map(function(j){return x+i*j});return a(g?w.reverse():w)}return t.domain=function(p){return arguments.length?(r(p),f()):r()},t.range=function(p){return arguments.length?([s,n]=p,s=+s,n=+n,f()):[s,n]},t.rangeRound=function(p){return[s,n]=p,s=+s,n=+n,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(p){return arguments.length?(l=!!p,f()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),f()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},t.paddingOuter=function(p){return arguments.length?(d=+p,f()):d},t.align=function(p){return arguments.length?(u=Math.max(0,Math.min(1,p)),f()):u},t.copy=function(){return R5(r(),[s,n]).round(l).paddingInner(c).paddingOuter(d).align(u)},fl.apply(f(),arguments)}function cL(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return cL(r())},t}function sae(){return cL(R5.apply(null,arguments).paddingInner(1))}function L5(t,r,a){t.prototype=r.prototype=a,a.constructor=t}function dL(t,r){var a=Object.create(t.prototype);for(var s in r)a[s]=r[s];return a}function xg(){}var $p=.7,Qy=1/$p,Sm="\\s*([+-]?\\d+)\\s*",Bp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nae=/^#([0-9a-f]{3,8})$/,iae=new RegExp(`^rgb\\(${Sm},${Sm},${Sm}\\)$`),oae=new RegExp(`^rgb\\(${_c},${_c},${_c}\\)$`),lae=new RegExp(`^rgba\\(${Sm},${Sm},${Sm},${Bp}\\)$`),cae=new RegExp(`^rgba\\(${_c},${_c},${_c},${Bp}\\)$`),dae=new RegExp(`^hsl\\(${Bp},${_c},${_c}\\)$`),uae=new RegExp(`^hsla\\(${Bp},${_c},${_c},${Bp}\\)$`),VC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};L5(xg,Up,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HC,formatHex:HC,formatHex8:hae,formatHsl:mae,formatRgb:WC,toString:WC});function HC(){return this.rgb().formatHex()}function hae(){return this.rgb().formatHex8()}function mae(){return uL(this).formatHsl()}function WC(){return this.rgb().formatRgb()}function Up(t){var r,a;return t=(t+"").trim().toLowerCase(),(r=nae.exec(t))?(a=r[1].length,r=parseInt(r[1],16),a===6?GC(r):a===3?new Ui(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):a===8?Dx(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):a===4?Dx(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=iae.exec(t))?new Ui(r[1],r[2],r[3],1):(r=oae.exec(t))?new Ui(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=lae.exec(t))?Dx(r[1],r[2],r[3],r[4]):(r=cae.exec(t))?Dx(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=dae.exec(t))?JC(r[1],r[2]/100,r[3]/100,1):(r=uae.exec(t))?JC(r[1],r[2]/100,r[3]/100,r[4]):VC.hasOwnProperty(t)?GC(VC[t]):t==="transparent"?new Ui(NaN,NaN,NaN,0):null}function GC(t){return new Ui(t>>16&255,t>>8&255,t&255,1)}function Dx(t,r,a,s){return s<=0&&(t=r=a=NaN),new Ui(t,r,a,s)}function fae(t){return t instanceof xg||(t=Up(t)),t?(t=t.rgb(),new Ui(t.r,t.g,t.b,t.opacity)):new Ui}function gN(t,r,a,s){return arguments.length===1?fae(t):new Ui(t,r,a,s??1)}function Ui(t,r,a,s){this.r=+t,this.g=+r,this.b=+a,this.opacity=+s}L5(Ui,gN,dL(xg,{brighter(t){return t=t==null?Qy:Math.pow(Qy,t),new Ui(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$p:Math.pow($p,t),new Ui(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ui(nh(this.r),nh(this.g),nh(this.b),eb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YC,formatHex:YC,formatHex8:pae,formatRgb:KC,toString:KC}));function YC(){return`#${G0(this.r)}${G0(this.g)}${G0(this.b)}`}function pae(){return`#${G0(this.r)}${G0(this.g)}${G0(this.b)}${G0((isNaN(this.opacity)?1:this.opacity)*255)}`}function KC(){const t=eb(this.opacity);return`${t===1?"rgb(":"rgba("}${nh(this.r)}, ${nh(this.g)}, ${nh(this.b)}${t===1?")":`, ${t})`}`}function eb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function nh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function G0(t){return t=nh(t),(t<16?"0":"")+t.toString(16)}function JC(t,r,a,s){return s<=0?t=r=a=NaN:a<=0||a>=1?t=r=NaN:r<=0&&(t=NaN),new Ul(t,r,a,s)}function uL(t){if(t instanceof Ul)return new Ul(t.h,t.s,t.l,t.opacity);if(t instanceof xg||(t=Up(t)),!t)return new Ul;if(t instanceof Ul)return t;t=t.rgb();var r=t.r/255,a=t.g/255,s=t.b/255,n=Math.min(r,a,s),i=Math.max(r,a,s),o=NaN,l=i-n,c=(i+n)/2;return l?(r===i?o=(a-s)/l+(a<s)*6:a===i?o=(s-r)/l+2:o=(r-a)/l+4,l/=c<.5?i+n:2-i-n,o*=60):l=c>0&&c<1?0:o,new Ul(o,l,c,t.opacity)}function gae(t,r,a,s){return arguments.length===1?uL(t):new Ul(t,r,a,s??1)}function Ul(t,r,a,s){this.h=+t,this.s=+r,this.l=+a,this.opacity=+s}L5(Ul,gae,dL(xg,{brighter(t){return t=t==null?Qy:Math.pow(Qy,t),new Ul(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$p:Math.pow($p,t),new Ul(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,a=this.l,s=a+(a<.5?a:1-a)*r,n=2*a-s;return new Ui(t1(t>=240?t-240:t+120,n,s),t1(t,n,s),t1(t<120?t+240:t-120,n,s),this.opacity)},clamp(){return new Ul(XC(this.h),Ix(this.s),Ix(this.l),eb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=eb(this.opacity);return`${t===1?"hsl(":"hsla("}${XC(this.h)}, ${Ix(this.s)*100}%, ${Ix(this.l)*100}%${t===1?")":`, ${t})`}`}}));function XC(t){return t=(t||0)%360,t<0?t+360:t}function Ix(t){return Math.max(0,Math.min(1,t||0))}function t1(t,r,a){return(t<60?r+(a-r)*t/60:t<180?a:t<240?r+(a-r)*(240-t)/60:r)*255}const M5=t=>()=>t;function xae(t,r){return function(a){return t+a*r}}function yae(t,r,a){return t=Math.pow(t,a),r=Math.pow(r,a)-t,a=1/a,function(s){return Math.pow(t+s*r,a)}}function bae(t){return(t=+t)==1?hL:function(r,a){return a-r?yae(r,a,t):M5(isNaN(r)?a:r)}}function hL(t,r){var a=r-t;return a?xae(t,a):M5(isNaN(t)?r:t)}const ZC=(function t(r){var a=bae(r);function s(n,i){var o=a((n=gN(n)).r,(i=gN(i)).r),l=a(n.g,i.g),c=a(n.b,i.b),d=hL(n.opacity,i.opacity);return function(u){return n.r=o(u),n.g=l(u),n.b=c(u),n.opacity=d(u),n+""}}return s.gamma=t,s})(1);function vae(t,r){r||(r=[]);var a=t?Math.min(r.length,t.length):0,s=r.slice(),n;return function(i){for(n=0;n<a;++n)s[n]=t[n]*(1-i)+r[n]*i;return s}}function wae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jae(t,r){var a=r?r.length:0,s=t?Math.min(a,t.length):0,n=new Array(s),i=new Array(a),o;for(o=0;o<s;++o)n[o]=Zm(t[o],r[o]);for(;o<a;++o)i[o]=r[o];return function(l){for(o=0;o<s;++o)i[o]=n[o](l);return i}}function Nae(t,r){var a=new Date;return t=+t,r=+r,function(s){return a.setTime(t*(1-s)+r*s),a}}function tb(t,r){return t=+t,r=+r,function(a){return t*(1-a)+r*a}}function kae(t,r){var a={},s={},n;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in t?a[n]=Zm(t[n],r[n]):s[n]=r[n];return function(i){for(n in a)s[n]=a[n](i);return s}}var xN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r1=new RegExp(xN.source,"g");function Sae(t){return function(){return t}}function _ae(t){return function(r){return t(r)+""}}function Aae(t,r){var a=xN.lastIndex=r1.lastIndex=0,s,n,i,o=-1,l=[],c=[];for(t=t+"",r=r+"";(s=xN.exec(t))&&(n=r1.exec(r));)(i=n.index)>a&&(i=r.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,c.push({i:o,x:tb(s,n)})),a=r1.lastIndex;return a<r.length&&(i=r.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?_ae(c[0].x):Sae(r):(r=c.length,function(d){for(var u=0,f;u<r;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function Zm(t,r){var a=typeof r,s;return r==null||a==="boolean"?M5(r):(a==="number"?tb:a==="string"?(s=Up(r))?(r=s,ZC):Aae:r instanceof Up?ZC:r instanceof Date?Nae:wae(r)?vae:Array.isArray(r)?jae:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?kae:tb)(t,r)}function F5(t,r){return t=+t,r=+r,function(a){return Math.round(t*(1-a)+r*a)}}function Cae(t,r){r===void 0&&(r=t,t=Zm);for(var a=0,s=r.length-1,n=r[0],i=new Array(s<0?0:s);a<s;)i[a]=t(n,n=r[++a]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function Pae(t){return function(){return t}}function rb(t){return+t}var QC=[0,1];function yi(t){return t}function yN(t,r){return(r-=t=+t)?function(a){return(a-t)/r}:Pae(isNaN(r)?NaN:.5)}function Eae(t,r){var a;return t>r&&(a=t,t=r,r=a),function(s){return Math.max(t,Math.min(r,s))}}function Tae(t,r,a){var s=t[0],n=t[1],i=r[0],o=r[1];return n<s?(s=yN(n,s),i=a(o,i)):(s=yN(s,n),i=a(i,o)),function(l){return i(s(l))}}function Dae(t,r,a){var s=Math.min(t.length,r.length)-1,n=new Array(s),i=new Array(s),o=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++o<s;)n[o]=yN(t[o],t[o+1]),i[o]=a(r[o],r[o+1]);return function(l){var c=gg(t,l,1,s)-1;return i[c](n[c](l))}}function yg(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function av(){var t=QC,r=QC,a=Zm,s,n,i,o=yi,l,c,d;function u(){var p=Math.min(t.length,r.length);return o!==yi&&(o=Eae(t[0],t[p-1])),l=p>2?Dae:Tae,c=d=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=l(t.map(s),r,a)))(s(o(p)))}return f.invert=function(p){return o(n((d||(d=l(r,t.map(s),tb)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,rb),u()):t.slice()},f.range=function(p){return arguments.length?(r=Array.from(p),u()):r.slice()},f.rangeRound=function(p){return r=Array.from(p),a=F5,u()},f.clamp=function(p){return arguments.length?(o=p?!0:yi,u()):o!==yi},f.interpolate=function(p){return arguments.length?(a=p,u()):a},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,g){return s=p,n=g,u()}}function $5(){return av()(yi,yi)}function Iae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ab(t,r){if((a=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var a,s=t.slice(0,a);return[s.length>1?s[0]+s.slice(2):s,+t.slice(a+1)]}function Lm(t){return t=ab(Math.abs(t)),t?t[1]:NaN}function Oae(t,r){return function(a,s){for(var n=a.length,i=[],o=0,l=t[0],c=0;n>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(a.substring(n-=l,n+l)),!((c+=l+1)>s));)l=t[o=(o+1)%t.length];return i.reverse().join(r)}}function Rae(t){return function(r){return r.replace(/[0-9]/g,function(a){return t[+a]})}}var Lae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zp(t){if(!(r=Lae.exec(t)))throw new Error("invalid format: "+t);var r;return new B5({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}zp.prototype=B5.prototype;function B5(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}B5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mae(t){e:for(var r=t.length,a=1,s=-1,n;a<r;++a)switch(t[a]){case".":s=n=a;break;case"0":s===0&&(s=a),n=a;break;default:if(!+t[a])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(n+1):t}var mL;function Fae(t,r){var a=ab(t,r);if(!a)return t+"";var s=a[0],n=a[1],i=n-(mL=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+ab(t,Math.max(0,r+i-1))[0]}function eP(t,r){var a=ab(t,r);if(!a)return t+"";var s=a[0],n=a[1];return n<0?"0."+new Array(-n).join("0")+s:s.length>n+1?s.slice(0,n+1)+"."+s.slice(n+1):s+new Array(n-s.length+2).join("0")}const tP={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Iae,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>eP(t*100,r),r:eP,s:Fae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rP(t){return t}var aP=Array.prototype.map,sP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $ae(t){var r=t.grouping===void 0||t.thousands===void 0?rP:Oae(aP.call(t.grouping,Number),t.thousands+""),a=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?rP:Rae(aP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(f){f=zp(f);var p=f.fill,g=f.align,x=f.sign,v=f.symbol,w=f.zero,j=f.width,_=f.comma,S=f.precision,N=f.trim,C=f.type;C==="n"?(_=!0,C="g"):tP[C]||(S===void 0&&(S=12),N=!0,C="g"),(w||p==="0"&&g==="=")&&(w=!0,p="0",g="=");var D=v==="$"?a:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",U=v==="$"?s:/[%p]/.test(C)?o:"",z=tP[C],E=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(T){var F=D,Y=U,O,q,$;if(C==="c")Y=z(T)+Y,T="";else{T=+T;var K=T<0||1/T<0;if(T=isNaN(T)?c:z(Math.abs(T),S),N&&(T=Mae(T)),K&&+T==0&&x!=="+"&&(K=!1),F=(K?x==="("?x:l:x==="-"||x==="("?"":x)+F,Y=(C==="s"?sP[8+mL/3]:"")+Y+(K&&x==="("?")":""),E){for(O=-1,q=T.length;++O<q;)if($=T.charCodeAt(O),48>$||$>57){Y=($===46?n+T.slice(O+1):T.slice(O))+Y,T=T.slice(0,O);break}}}_&&!w&&(T=r(T,1/0));var J=F.length+T.length+Y.length,X=J<j?new Array(j-J+1).join(p):"";switch(_&&w&&(T=r(X+T,X.length?j-Y.length:1/0),X=""),g){case"<":T=F+T+Y+X;break;case"=":T=F+X+T+Y;break;case"^":T=X.slice(0,J=X.length>>1)+F+T+Y+X.slice(J);break;default:T=X+F+T+Y;break}return i(T)}return I.toString=function(){return f+""},I}function u(f,p){var g=d((f=zp(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Lm(p)/3)))*3,v=Math.pow(10,-x),w=sP[8+x/3];return function(j){return g(v*j)+w}}return{format:d,formatPrefix:u}}var Ox,U5,fL;Bae({thousands:",",grouping:[3],currency:["$",""]});function Bae(t){return Ox=$ae(t),U5=Ox.format,fL=Ox.formatPrefix,Ox}function Uae(t){return Math.max(0,-Lm(Math.abs(t)))}function zae(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lm(r)/3)))*3-Lm(Math.abs(t)))}function qae(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,Lm(r)-Lm(t))+1}function pL(t,r,a,s){var n=fN(t,r,a),i;switch(s=zp(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(r));return s.precision==null&&!isNaN(i=zae(n,o))&&(s.precision=i),fL(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=qae(n,Math.max(Math.abs(t),Math.abs(r))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=Uae(n))&&(s.precision=i-(s.type==="%")*2);break}}return U5(s)}function Qu(t){var r=t.domain;return t.ticks=function(a){var s=r();return hN(s[0],s[s.length-1],a??10)},t.tickFormat=function(a,s){var n=r();return pL(n[0],n[n.length-1],a??10,s)},t.nice=function(a){a==null&&(a=10);var s=r(),n=0,i=s.length-1,o=s[n],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=n,n=i,i=d);u-- >0;){if(d=mN(o,l,a),d===c)return s[n]=o,s[i]=l,r(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function gL(){var t=$5();return t.copy=function(){return yg(t,gL())},fl.apply(t,arguments),Qu(t)}function xL(t){var r;function a(s){return s==null||isNaN(s=+s)?r:s}return a.invert=a,a.domain=a.range=function(s){return arguments.length?(t=Array.from(s,rb),a):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return xL(t).unknown(r)},t=arguments.length?Array.from(t,rb):[0,1],Qu(a)}function yL(t,r){t=t.slice();var a=0,s=t.length-1,n=t[a],i=t[s],o;return i<n&&(o=a,a=s,s=o,o=n,n=i,i=o),t[a]=r.floor(n),t[s]=r.ceil(i),t}function nP(t){return Math.log(t)}function iP(t){return Math.exp(t)}function Vae(t){return-Math.log(-t)}function Hae(t){return-Math.exp(-t)}function Wae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gae(t){return t===10?Wae:t===Math.E?Math.exp:r=>Math.pow(t,r)}function Yae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),r=>Math.log(r)/t)}function oP(t){return(r,a)=>-t(-r,a)}function z5(t){const r=t(nP,iP),a=r.domain;let s=10,n,i;function o(){return n=Yae(s),i=Gae(s),a()[0]<0?(n=oP(n),i=oP(i),t(Vae,Hae)):t(nP,iP),r}return r.base=function(l){return arguments.length?(s=+l,o()):s},r.domain=function(l){return arguments.length?(a(l),o()):a()},r.ticks=l=>{const c=a();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let p=n(d),g=n(u),x,v;const w=l==null?10:+l;let j=[];if(!(s%1)&&g-p<w){if(p=Math.floor(p),g=Math.ceil(g),d>0){for(;p<=g;++p)for(x=1;x<s;++x)if(v=p<0?x/i(-p):x*i(p),!(v<d)){if(v>u)break;j.push(v)}}else for(;p<=g;++p)for(x=s-1;x>=1;--x)if(v=p>0?x/i(-p):x*i(p),!(v<d)){if(v>u)break;j.push(v)}j.length*2<w&&(j=hN(d,u,w))}else j=hN(p,g,Math.min(g-p,w)).map(i);return f?j.reverse():j},r.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=zp(c)).precision==null&&(c.trim=!0),c=U5(c)),l===1/0)return c;const d=Math.max(1,s*l/r.ticks().length);return u=>{let f=u/i(Math.round(n(u)));return f*s<s-.5&&(f*=s),f<=d?c(u):""}},r.nice=()=>a(yL(a(),{floor:l=>i(Math.floor(n(l))),ceil:l=>i(Math.ceil(n(l)))})),r}function bL(){const t=z5(av()).domain([1,10]);return t.copy=()=>yg(t,bL()).base(t.base()),fl.apply(t,arguments),t}function lP(t){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/t))}}function cP(t){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*t}}function q5(t){var r=1,a=t(lP(r),cP(r));return a.constant=function(s){return arguments.length?t(lP(r=+s),cP(r)):r},Qu(a)}function vL(){var t=q5(av());return t.copy=function(){return yg(t,vL()).constant(t.constant())},fl.apply(t,arguments)}function dP(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function Kae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Jae(t){return t<0?-t*t:t*t}function V5(t){var r=t(yi,yi),a=1;function s(){return a===1?t(yi,yi):a===.5?t(Kae,Jae):t(dP(a),dP(1/a))}return r.exponent=function(n){return arguments.length?(a=+n,s()):a},Qu(r)}function H5(){var t=V5(av());return t.copy=function(){return yg(t,H5()).exponent(t.exponent())},fl.apply(t,arguments),t}function Xae(){return H5.apply(null,arguments).exponent(.5)}function uP(t){return Math.sign(t)*t*t}function Zae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function wL(){var t=$5(),r=[0,1],a=!1,s;function n(i){var o=Zae(t(i));return isNaN(o)?s:a?Math.round(o):o}return n.invert=function(i){return t.invert(uP(i))},n.domain=function(i){return arguments.length?(t.domain(i),n):t.domain()},n.range=function(i){return arguments.length?(t.range((r=Array.from(i,rb)).map(uP)),n):r.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(a=!!i,n):a},n.clamp=function(i){return arguments.length?(t.clamp(i),n):t.clamp()},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return wL(t.domain(),r).round(a).clamp(t.clamp()).unknown(s)},fl.apply(n,arguments),Qu(n)}function jL(){var t=[],r=[],a=[],s;function n(){var o=0,l=Math.max(1,r.length);for(a=new Array(l-1);++o<l;)a[o-1]=rae(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:r[gg(a,o)]}return i.invertExtent=function(o){var l=r.indexOf(o);return l<0?[NaN,NaN]:[l>0?a[l-1]:t[0],l<a.length?a[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Bu),n()},i.range=function(o){return arguments.length?(r=Array.from(o),n()):r.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return a.slice()},i.copy=function(){return jL().domain(t).range(r).unknown(s)},fl.apply(i,arguments)}function NL(){var t=0,r=1,a=1,s=[.5],n=[0,1],i;function o(c){return c!=null&&c<=c?n[gg(s,c,0,a)]:i}function l(){var c=-1;for(s=new Array(a);++c<a;)s[c]=((c+1)*r-(c-a)*t)/(a+1);return o}return o.domain=function(c){return arguments.length?([t,r]=c,t=+t,r=+r,l()):[t,r]},o.range=function(c){return arguments.length?(a=(n=Array.from(c)).length-1,l()):n.slice()},o.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,s[0]]:d>=a?[s[a-1],r]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return NL().domain([t,r]).range(n).unknown(i)},fl.apply(Qu(o),arguments)}function kL(){var t=[.5],r=[0,1],a,s=1;function n(i){return i!=null&&i<=i?r[gg(t,i,0,s)]:a}return n.domain=function(i){return arguments.length?(t=Array.from(i),s=Math.min(t.length,r.length-1),n):t.slice()},n.range=function(i){return arguments.length?(r=Array.from(i),s=Math.min(t.length,r.length-1),n):r.slice()},n.invertExtent=function(i){var o=r.indexOf(i);return[t[o-1],t[o]]},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return kL().domain(t).range(r).unknown(a)},fl.apply(n,arguments)}const a1=new Date,s1=new Date;function nn(t,r,a,s){function n(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(t(i=new Date(+i)),i),n.ceil=i=>(t(i=new Date(i-1)),r(i,1),t(i),i),n.round=i=>{const o=n(i),l=n.ceil(i);return i-o<l-i?o:l},n.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),n.range=(i,o,l)=>{const c=[];if(i=n.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),r(i,l),t(i);while(d<i&&i<o);return c},n.filter=i=>nn(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;r(o,-1),!i(o););else for(;--l>=0;)for(;r(o,1),!i(o););}),a&&(n.count=(i,o)=>(a1.setTime(+i),s1.setTime(+o),t(a1),t(s1),Math.floor(a(a1,s1))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(s?o=>s(o)%i===0:o=>n.count(0,o)%i===0):n)),n}const sb=nn(()=>{},(t,r)=>{t.setTime(+t+r)},(t,r)=>r-t);sb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nn(r=>{r.setTime(Math.floor(r/t)*t)},(r,a)=>{r.setTime(+r+a*t)},(r,a)=>(a-r)/t):sb);sb.range;const xd=1e3,sl=xd*60,yd=sl*60,Id=yd*24,W5=Id*7,hP=Id*30,n1=Id*365,Y0=nn(t=>{t.setTime(t-t.getMilliseconds())},(t,r)=>{t.setTime(+t+r*xd)},(t,r)=>(r-t)/xd,t=>t.getUTCSeconds());Y0.range;const G5=nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xd)},(t,r)=>{t.setTime(+t+r*sl)},(t,r)=>(r-t)/sl,t=>t.getMinutes());G5.range;const Y5=nn(t=>{t.setUTCSeconds(0,0)},(t,r)=>{t.setTime(+t+r*sl)},(t,r)=>(r-t)/sl,t=>t.getUTCMinutes());Y5.range;const K5=nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xd-t.getMinutes()*sl)},(t,r)=>{t.setTime(+t+r*yd)},(t,r)=>(r-t)/yd,t=>t.getHours());K5.range;const J5=nn(t=>{t.setUTCMinutes(0,0,0)},(t,r)=>{t.setTime(+t+r*yd)},(t,r)=>(r-t)/yd,t=>t.getUTCHours());J5.range;const bg=nn(t=>t.setHours(0,0,0,0),(t,r)=>t.setDate(t.getDate()+r),(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*sl)/Id,t=>t.getDate()-1);bg.range;const sv=nn(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Id,t=>t.getUTCDate()-1);sv.range;const SL=nn(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Id,t=>Math.floor(t/Id));SL.range;function Sh(t){return nn(r=>{r.setDate(r.getDate()-(r.getDay()+7-t)%7),r.setHours(0,0,0,0)},(r,a)=>{r.setDate(r.getDate()+a*7)},(r,a)=>(a-r-(a.getTimezoneOffset()-r.getTimezoneOffset())*sl)/W5)}const nv=Sh(0),nb=Sh(1),Qae=Sh(2),ese=Sh(3),Mm=Sh(4),tse=Sh(5),rse=Sh(6);nv.range;nb.range;Qae.range;ese.range;Mm.range;tse.range;rse.range;function _h(t){return nn(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-t)%7),r.setUTCHours(0,0,0,0)},(r,a)=>{r.setUTCDate(r.getUTCDate()+a*7)},(r,a)=>(a-r)/W5)}const iv=_h(0),ib=_h(1),ase=_h(2),sse=_h(3),Fm=_h(4),nse=_h(5),ise=_h(6);iv.range;ib.range;ase.range;sse.range;Fm.range;nse.range;ise.range;const X5=nn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,r)=>{t.setMonth(t.getMonth()+r)},(t,r)=>r.getMonth()-t.getMonth()+(r.getFullYear()-t.getFullYear())*12,t=>t.getMonth());X5.range;const Z5=nn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCMonth(t.getUTCMonth()+r)},(t,r)=>r.getUTCMonth()-t.getUTCMonth()+(r.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Z5.range;const Od=nn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r)},(t,r)=>r.getFullYear()-t.getFullYear(),t=>t.getFullYear());Od.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nn(r=>{r.setFullYear(Math.floor(r.getFullYear()/t)*t),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,a)=>{r.setFullYear(r.getFullYear()+a*t)});Od.range;const Rd=nn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r)},(t,r)=>r.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Rd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nn(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/t)*t),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,a)=>{r.setUTCFullYear(r.getUTCFullYear()+a*t)});Rd.range;function _L(t,r,a,s,n,i){const o=[[Y0,1,xd],[Y0,5,5*xd],[Y0,15,15*xd],[Y0,30,30*xd],[i,1,sl],[i,5,5*sl],[i,15,15*sl],[i,30,30*sl],[n,1,yd],[n,3,3*yd],[n,6,6*yd],[n,12,12*yd],[s,1,Id],[s,2,2*Id],[a,1,W5],[r,1,hP],[r,3,3*hP],[t,1,n1]];function l(d,u,f){const p=u<d;p&&([d,u]=[u,d]);const g=f&&typeof f.range=="function"?f:c(d,u,f),x=g?g.range(d,+u+1):[];return p?x.reverse():x}function c(d,u,f){const p=Math.abs(u-d)/f,g=I5(([,,w])=>w).right(o,p);if(g===o.length)return t.every(fN(d/n1,u/n1,f));if(g===0)return sb.every(Math.max(fN(d,u,f),1));const[x,v]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return x.every(v)}return[l,c]}const[ose,lse]=_L(Rd,Z5,iv,SL,J5,Y5),[cse,dse]=_L(Od,X5,nv,bg,K5,G5);function i1(t){if(0<=t.y&&t.y<100){var r=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return r.setFullYear(t.y),r}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function o1(t){if(0<=t.y&&t.y<100){var r=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return r.setUTCFullYear(t.y),r}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vf(t,r,a){return{y:t,m:r,d:a,H:0,M:0,S:0,L:0}}function use(t){var r=t.dateTime,a=t.date,s=t.time,n=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=Hf(n),u=Wf(n),f=Hf(i),p=Wf(i),g=Hf(o),x=Wf(o),v=Hf(l),w=Wf(l),j=Hf(c),_=Wf(c),S={a:K,A:J,b:X,B:be,c:null,d:yP,e:yP,f:Ose,g:Vse,G:Wse,H:Tse,I:Dse,j:Ise,L:AL,m:Rse,M:Lse,p:te,q:R,Q:wP,s:jP,S:Mse,u:Fse,U:$se,V:Bse,w:Use,W:zse,x:null,X:null,y:qse,Y:Hse,Z:Gse,"%":vP},N={a:ae,A:W,b:pe,B:ce,c:null,d:bP,e:bP,f:Xse,g:one,G:cne,H:Yse,I:Kse,j:Jse,L:PL,m:Zse,M:Qse,p:we,q:je,Q:wP,s:jP,S:ene,u:tne,U:rne,V:ane,w:sne,W:nne,x:null,X:null,y:ine,Y:lne,Z:dne,"%":vP},C={a:I,A:T,b:F,B:Y,c:O,d:gP,e:gP,f:Ase,g:pP,G:fP,H:xP,I:xP,j:Nse,L:_se,m:jse,M:kse,p:E,q:wse,Q:Pse,s:Ese,S:Sse,u:gse,U:xse,V:yse,w:pse,W:bse,x:q,X:$,y:pP,Y:fP,Z:vse,"%":Cse};S.x=D(a,S),S.X=D(s,S),S.c=D(r,S),N.x=D(a,N),N.X=D(s,N),N.c=D(r,N);function D(fe,xe){return function($e){var ge=[],ot=-1,Ze=0,Z=fe.length,re,Ue,Ge;for($e instanceof Date||($e=new Date(+$e));++ot<Z;)fe.charCodeAt(ot)===37&&(ge.push(fe.slice(Ze,ot)),(Ue=mP[re=fe.charAt(++ot)])!=null?re=fe.charAt(++ot):Ue=re==="e"?" ":"0",(Ge=xe[re])&&(re=Ge($e,Ue)),ge.push(re),Ze=ot+1);return ge.push(fe.slice(Ze,ot)),ge.join("")}}function U(fe,xe){return function($e){var ge=Vf(1900,void 0,1),ot=z(ge,fe,$e+="",0),Ze,Z;if(ot!=$e.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(xe&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Ze=o1(Vf(ge.y,0,1)),Z=Ze.getUTCDay(),Ze=Z>4||Z===0?ib.ceil(Ze):ib(Ze),Ze=sv.offset(Ze,(ge.V-1)*7),ge.y=Ze.getUTCFullYear(),ge.m=Ze.getUTCMonth(),ge.d=Ze.getUTCDate()+(ge.w+6)%7):(Ze=i1(Vf(ge.y,0,1)),Z=Ze.getDay(),Ze=Z>4||Z===0?nb.ceil(Ze):nb(Ze),Ze=bg.offset(Ze,(ge.V-1)*7),ge.y=Ze.getFullYear(),ge.m=Ze.getMonth(),ge.d=Ze.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),Z="Z"in ge?o1(Vf(ge.y,0,1)).getUTCDay():i1(Vf(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(Z+5)%7:ge.w+ge.U*7-(Z+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,o1(ge)):i1(ge)}}function z(fe,xe,$e,ge){for(var ot=0,Ze=xe.length,Z=$e.length,re,Ue;ot<Ze;){if(ge>=Z)return-1;if(re=xe.charCodeAt(ot++),re===37){if(re=xe.charAt(ot++),Ue=C[re in mP?xe.charAt(ot++):re],!Ue||(ge=Ue(fe,$e,ge))<0)return-1}else if(re!=$e.charCodeAt(ge++))return-1}return ge}function E(fe,xe,$e){var ge=d.exec(xe.slice($e));return ge?(fe.p=u.get(ge[0].toLowerCase()),$e+ge[0].length):-1}function I(fe,xe,$e){var ge=g.exec(xe.slice($e));return ge?(fe.w=x.get(ge[0].toLowerCase()),$e+ge[0].length):-1}function T(fe,xe,$e){var ge=f.exec(xe.slice($e));return ge?(fe.w=p.get(ge[0].toLowerCase()),$e+ge[0].length):-1}function F(fe,xe,$e){var ge=j.exec(xe.slice($e));return ge?(fe.m=_.get(ge[0].toLowerCase()),$e+ge[0].length):-1}function Y(fe,xe,$e){var ge=v.exec(xe.slice($e));return ge?(fe.m=w.get(ge[0].toLowerCase()),$e+ge[0].length):-1}function O(fe,xe,$e){return z(fe,r,xe,$e)}function q(fe,xe,$e){return z(fe,a,xe,$e)}function $(fe,xe,$e){return z(fe,s,xe,$e)}function K(fe){return o[fe.getDay()]}function J(fe){return i[fe.getDay()]}function X(fe){return c[fe.getMonth()]}function be(fe){return l[fe.getMonth()]}function te(fe){return n[+(fe.getHours()>=12)]}function R(fe){return 1+~~(fe.getMonth()/3)}function ae(fe){return o[fe.getUTCDay()]}function W(fe){return i[fe.getUTCDay()]}function pe(fe){return c[fe.getUTCMonth()]}function ce(fe){return l[fe.getUTCMonth()]}function we(fe){return n[+(fe.getUTCHours()>=12)]}function je(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var xe=D(fe+="",S);return xe.toString=function(){return fe},xe},parse:function(fe){var xe=U(fe+="",!1);return xe.toString=function(){return fe},xe},utcFormat:function(fe){var xe=D(fe+="",N);return xe.toString=function(){return fe},xe},utcParse:function(fe){var xe=U(fe+="",!0);return xe.toString=function(){return fe},xe}}}var mP={"-":"",_:" ",0:"0"},wn=/^\s*\d+/,hse=/^%/,mse=/[\\^$*+?|[\]().{}]/g;function sa(t,r,a){var s=t<0?"-":"",n=(s?-t:t)+"",i=n.length;return s+(i<a?new Array(a-i+1).join(r)+n:n)}function fse(t){return t.replace(mse,"\\$&")}function Hf(t){return new RegExp("^(?:"+t.map(fse).join("|")+")","i")}function Wf(t){return new Map(t.map((r,a)=>[r.toLowerCase(),a]))}function pse(t,r,a){var s=wn.exec(r.slice(a,a+1));return s?(t.w=+s[0],a+s[0].length):-1}function gse(t,r,a){var s=wn.exec(r.slice(a,a+1));return s?(t.u=+s[0],a+s[0].length):-1}function xse(t,r,a){var s=wn.exec(r.slice(a,a+2));return s?(t.U=+s[0],a+s[0].length):-1}function yse(t,r,a){var s=wn.exec(r.slice(a,a+2));return s?(t.V=+s[0],a+s[0].length):-1}function bse(t,r,a){var s=wn.exec(r.slice(a,a+2));return s?(t.W=+s[0],a+s[0].length):-1}function fP(t,r,a){var s=wn.exec(r.slice(a,a+4));return s?(t.y=+s[0],a+s[0].length):-1}function pP(t,r,a){var s=wn.exec(r.slice(a,a+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),a+s[0].length):-1}function vse(t,r,a){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(a,a+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),a+s[0].length):-1}function wse(t,r,a){var s=wn.exec(r.slice(a,a+1));return s?(t.q=s[0]*3-3,a+s[0].length):-1}function jse(t,r,a){var s=wn.exec(r.slice(a,a+2));return s?(t.m=s[0]-1,a+s[0].length):-1}function gP(t,r,a){var s=wn.exec(r.slice(a,a+2));return s?(t.d=+s[0],a+s[0].length):-1}function Nse(t,r,a){var s=wn.exec(r.slice(a,a+3));return s?(t.m=0,t.d=+s[0],a+s[0].length):-1}function xP(t,r,a){var s=wn.exec(r.slice(a,a+2));return s?(t.H=+s[0],a+s[0].length):-1}function kse(t,r,a){var s=wn.exec(r.slice(a,a+2));return s?(t.M=+s[0],a+s[0].length):-1}function Sse(t,r,a){var s=wn.exec(r.slice(a,a+2));return s?(t.S=+s[0],a+s[0].length):-1}function _se(t,r,a){var s=wn.exec(r.slice(a,a+3));return s?(t.L=+s[0],a+s[0].length):-1}function Ase(t,r,a){var s=wn.exec(r.slice(a,a+6));return s?(t.L=Math.floor(s[0]/1e3),a+s[0].length):-1}function Cse(t,r,a){var s=hse.exec(r.slice(a,a+1));return s?a+s[0].length:-1}function Pse(t,r,a){var s=wn.exec(r.slice(a));return s?(t.Q=+s[0],a+s[0].length):-1}function Ese(t,r,a){var s=wn.exec(r.slice(a));return s?(t.s=+s[0],a+s[0].length):-1}function yP(t,r){return sa(t.getDate(),r,2)}function Tse(t,r){return sa(t.getHours(),r,2)}function Dse(t,r){return sa(t.getHours()%12||12,r,2)}function Ise(t,r){return sa(1+bg.count(Od(t),t),r,3)}function AL(t,r){return sa(t.getMilliseconds(),r,3)}function Ose(t,r){return AL(t,r)+"000"}function Rse(t,r){return sa(t.getMonth()+1,r,2)}function Lse(t,r){return sa(t.getMinutes(),r,2)}function Mse(t,r){return sa(t.getSeconds(),r,2)}function Fse(t){var r=t.getDay();return r===0?7:r}function $se(t,r){return sa(nv.count(Od(t)-1,t),r,2)}function CL(t){var r=t.getDay();return r>=4||r===0?Mm(t):Mm.ceil(t)}function Bse(t,r){return t=CL(t),sa(Mm.count(Od(t),t)+(Od(t).getDay()===4),r,2)}function Use(t){return t.getDay()}function zse(t,r){return sa(nb.count(Od(t)-1,t),r,2)}function qse(t,r){return sa(t.getFullYear()%100,r,2)}function Vse(t,r){return t=CL(t),sa(t.getFullYear()%100,r,2)}function Hse(t,r){return sa(t.getFullYear()%1e4,r,4)}function Wse(t,r){var a=t.getDay();return t=a>=4||a===0?Mm(t):Mm.ceil(t),sa(t.getFullYear()%1e4,r,4)}function Gse(t){var r=t.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+sa(r/60|0,"0",2)+sa(r%60,"0",2)}function bP(t,r){return sa(t.getUTCDate(),r,2)}function Yse(t,r){return sa(t.getUTCHours(),r,2)}function Kse(t,r){return sa(t.getUTCHours()%12||12,r,2)}function Jse(t,r){return sa(1+sv.count(Rd(t),t),r,3)}function PL(t,r){return sa(t.getUTCMilliseconds(),r,3)}function Xse(t,r){return PL(t,r)+"000"}function Zse(t,r){return sa(t.getUTCMonth()+1,r,2)}function Qse(t,r){return sa(t.getUTCMinutes(),r,2)}function ene(t,r){return sa(t.getUTCSeconds(),r,2)}function tne(t){var r=t.getUTCDay();return r===0?7:r}function rne(t,r){return sa(iv.count(Rd(t)-1,t),r,2)}function EL(t){var r=t.getUTCDay();return r>=4||r===0?Fm(t):Fm.ceil(t)}function ane(t,r){return t=EL(t),sa(Fm.count(Rd(t),t)+(Rd(t).getUTCDay()===4),r,2)}function sne(t){return t.getUTCDay()}function nne(t,r){return sa(ib.count(Rd(t)-1,t),r,2)}function ine(t,r){return sa(t.getUTCFullYear()%100,r,2)}function one(t,r){return t=EL(t),sa(t.getUTCFullYear()%100,r,2)}function lne(t,r){return sa(t.getUTCFullYear()%1e4,r,4)}function cne(t,r){var a=t.getUTCDay();return t=a>=4||a===0?Fm(t):Fm.ceil(t),sa(t.getUTCFullYear()%1e4,r,4)}function dne(){return"+0000"}function vP(){return"%"}function wP(t){return+t}function jP(t){return Math.floor(+t/1e3)}var im,TL,DL;une({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function une(t){return im=use(t),TL=im.format,im.parse,DL=im.utcFormat,im.utcParse,im}function hne(t){return new Date(t)}function mne(t){return t instanceof Date?+t:+new Date(+t)}function Q5(t,r,a,s,n,i,o,l,c,d){var u=$5(),f=u.invert,p=u.domain,g=d(".%L"),x=d(":%S"),v=d("%I:%M"),w=d("%I %p"),j=d("%a %d"),_=d("%b %d"),S=d("%B"),N=d("%Y");function C(D){return(c(D)<D?g:l(D)<D?x:o(D)<D?v:i(D)<D?w:s(D)<D?n(D)<D?j:_:a(D)<D?S:N)(D)}return u.invert=function(D){return new Date(f(D))},u.domain=function(D){return arguments.length?p(Array.from(D,mne)):p().map(hne)},u.ticks=function(D){var U=p();return t(U[0],U[U.length-1],D??10)},u.tickFormat=function(D,U){return U==null?C:d(U)},u.nice=function(D){var U=p();return(!D||typeof D.range!="function")&&(D=r(U[0],U[U.length-1],D??10)),D?p(yL(U,D)):u},u.copy=function(){return yg(u,Q5(t,r,a,s,n,i,o,l,c,d))},u}function fne(){return fl.apply(Q5(cse,dse,Od,X5,nv,bg,K5,G5,Y0,TL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pne(){return fl.apply(Q5(ose,lse,Rd,Z5,iv,sv,J5,Y5,Y0,DL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ov(){var t=0,r=1,a,s,n,i,o=yi,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(n===0?.5:(f=(i(f)-a)*n,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([t,r]=f,a=i(t=+t),s=i(r=+r),n=a===s?0:1/(s-a),d):[t,r]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(p){var g,x;return arguments.length?([g,x]=p,o=f(g,x),d):[o(0),o(1)]}}return d.range=u(Zm),d.rangeRound=u(F5),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,a=f(t),s=f(r),n=a===s?0:1/(s-a),d}}function e0(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function IL(){var t=Qu(ov()(yi));return t.copy=function(){return e0(t,IL())},Ud.apply(t,arguments)}function OL(){var t=z5(ov()).domain([1,10]);return t.copy=function(){return e0(t,OL()).base(t.base())},Ud.apply(t,arguments)}function RL(){var t=q5(ov());return t.copy=function(){return e0(t,RL()).constant(t.constant())},Ud.apply(t,arguments)}function eS(){var t=V5(ov());return t.copy=function(){return e0(t,eS()).exponent(t.exponent())},Ud.apply(t,arguments)}function gne(){return eS.apply(null,arguments).exponent(.5)}function LL(){var t=[],r=yi;function a(s){if(s!=null&&!isNaN(s=+s))return r((gg(t,s,1)-1)/(t.length-1))}return a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let n of s)n!=null&&!isNaN(n=+n)&&t.push(n);return t.sort(Bu),a},a.interpolator=function(s){return arguments.length?(r=s,a):r},a.range=function(){return t.map((s,n)=>r(n/(t.length-1)))},a.quantiles=function(s){return Array.from({length:s+1},(n,i)=>tae(t,i/s))},a.copy=function(){return LL(r).domain(t)},Ud.apply(a,arguments)}function lv(){var t=0,r=.5,a=1,s=1,n,i,o,l,c,d=yi,u,f=!1,p;function g(v){return isNaN(v=+v)?p:(v=.5+((v=+u(v))-i)*(s*v<s*i?l:c),d(f?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,r,a]=v,n=u(t=+t),i=u(r=+r),o=u(a=+a),l=n===i?0:.5/(i-n),c=i===o?0:.5/(o-i),s=i<n?-1:1,g):[t,r,a]},g.clamp=function(v){return arguments.length?(f=!!v,g):f},g.interpolator=function(v){return arguments.length?(d=v,g):d};function x(v){return function(w){var j,_,S;return arguments.length?([j,_,S]=w,d=Cae(v,[j,_,S]),g):[d(0),d(.5),d(1)]}}return g.range=x(Zm),g.rangeRound=x(F5),g.unknown=function(v){return arguments.length?(p=v,g):p},function(v){return u=v,n=v(t),i=v(r),o=v(a),l=n===i?0:.5/(i-n),c=i===o?0:.5/(o-i),s=i<n?-1:1,g}}function ML(){var t=Qu(lv()(yi));return t.copy=function(){return e0(t,ML())},Ud.apply(t,arguments)}function FL(){var t=z5(lv()).domain([.1,1,10]);return t.copy=function(){return e0(t,FL()).base(t.base())},Ud.apply(t,arguments)}function $L(){var t=q5(lv());return t.copy=function(){return e0(t,$L()).constant(t.constant())},Ud.apply(t,arguments)}function tS(){var t=V5(lv());return t.copy=function(){return e0(t,tS()).exponent(t.exponent())},Ud.apply(t,arguments)}function xne(){return tS.apply(null,arguments).exponent(.5)}const rp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:R5,scaleDiverging:ML,scaleDivergingLog:FL,scaleDivergingPow:tS,scaleDivergingSqrt:xne,scaleDivergingSymlog:$L,scaleIdentity:xL,scaleImplicit:pN,scaleLinear:gL,scaleLog:bL,scaleOrdinal:O5,scalePoint:sae,scalePow:H5,scaleQuantile:jL,scaleQuantize:NL,scaleRadial:wL,scaleSequential:IL,scaleSequentialLog:OL,scaleSequentialPow:eS,scaleSequentialQuantile:LL,scaleSequentialSqrt:gne,scaleSequentialSymlog:RL,scaleSqrt:Xae,scaleSymlog:vL,scaleThreshold:kL,scaleTime:fne,scaleUtc:pne,tickFormat:pL},Symbol.toStringTag,{value:"Module"}));var t0=t=>t.chartData,rS=ct([t0],t=>{var r=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:r,dataStartIndex:0}}),cv=(t,r,a,s)=>s?rS(t):t0(t);function $m(t){if(Array.isArray(t)&&t.length===2){var[r,a]=t;if(On(r)&&On(a))return!0}return!1}function NP(t,r,a){return a?t:[Math.min(t[0],r[0]),Math.max(t[1],r[1])]}function yne(t,r){if(r&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[a,s]=t,n,i;if(On(a))n=a;else if(typeof a=="function")return;if(On(s))i=s;else if(typeof s=="function")return;var o=[n,i];if($m(o))return o}}function bne(t,r,a){if(!(!a&&r==null)){if(typeof t=="function"&&r!=null)try{var s=t(r,a);if($m(s))return NP(s,r,a)}catch{}if(Array.isArray(t)&&t.length===2){var[n,i]=t,o,l;if(n==="auto")r!=null&&(o=Math.min(...r));else if(Gt(n))o=n;else if(typeof n=="function")try{r!=null&&(o=n(r?.[0]))}catch{}else if(typeof n=="string"&&dC.test(n)){var c=dC.exec(n);if(c==null||r==null)o=void 0;else{var d=+c[1];o=r[0]-d}}else o=r?.[0];if(i==="auto")r!=null&&(l=Math.max(...r));else if(Gt(i))l=i;else if(typeof i=="function")try{r!=null&&(l=i(r?.[1]))}catch{}else if(typeof i=="string"&&uC.test(i)){var u=uC.exec(i);if(u==null||r==null)l=void 0;else{var f=+u[1];l=r[1]+f}}else l=r?.[1];var p=[o,l];if($m(p))return r==null?p:NP(p,r,a)}}}var Qm=1e9,vne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sS,Ja=!0,ul="[DecimalError] ",ih=ul+"Invalid argument: ",aS=ul+"Exponent out of range: ",ef=Math.floor,M0=Math.pow,wne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jo,yn=1e7,$a=7,BL=9007199254740991,ob=ef(BL/$a),er={};er.absoluteValue=er.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};er.comparedTo=er.cmp=function(t){var r,a,s,n,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(s=i.d.length,n=t.d.length,r=0,a=s<n?s:n;r<a;++r)if(i.d[r]!==t.d[r])return i.d[r]>t.d[r]^i.s<0?1:-1;return s===n?0:s>n^i.s<0?1:-1};er.decimalPlaces=er.dp=function(){var t=this,r=t.d.length-1,a=(r-t.e)*$a;if(r=t.d[r],r)for(;r%10==0;r/=10)a--;return a<0?0:a};er.dividedBy=er.div=function(t){return _d(this,new this.constructor(t))};er.dividedToIntegerBy=er.idiv=function(t){var r=this,a=r.constructor;return Ca(_d(r,new a(t),0,1),a.precision)};er.equals=er.eq=function(t){return!this.cmp(t)};er.exponent=function(){return Gs(this)};er.greaterThan=er.gt=function(t){return this.cmp(t)>0};er.greaterThanOrEqualTo=er.gte=function(t){return this.cmp(t)>=0};er.isInteger=er.isint=function(){return this.e>this.d.length-2};er.isNegative=er.isneg=function(){return this.s<0};er.isPositive=er.ispos=function(){return this.s>0};er.isZero=function(){return this.s===0};er.lessThan=er.lt=function(t){return this.cmp(t)<0};er.lessThanOrEqualTo=er.lte=function(t){return this.cmp(t)<1};er.logarithm=er.log=function(t){var r,a=this,s=a.constructor,n=s.precision,i=n+5;if(t===void 0)t=new s(10);else if(t=new s(t),t.s<1||t.eq(jo))throw Error(ul+"NaN");if(a.s<1)throw Error(ul+(a.s?"NaN":"-Infinity"));return a.eq(jo)?new s(0):(Ja=!1,r=_d(qp(a,i),qp(t,i),i),Ja=!0,Ca(r,n))};er.minus=er.sub=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?qL(r,t):UL(r,(t.s=-t.s,t))};er.modulo=er.mod=function(t){var r,a=this,s=a.constructor,n=s.precision;if(t=new s(t),!t.s)throw Error(ul+"NaN");return a.s?(Ja=!1,r=_d(a,t,0,1).times(t),Ja=!0,a.minus(r)):Ca(new s(a),n)};er.naturalExponential=er.exp=function(){return zL(this)};er.naturalLogarithm=er.ln=function(){return qp(this)};er.negated=er.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};er.plus=er.add=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?UL(r,t):qL(r,(t.s=-t.s,t))};er.precision=er.sd=function(t){var r,a,s,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ih+t);if(r=Gs(n)+1,s=n.d.length-1,a=s*$a+1,s=n.d[s],s){for(;s%10==0;s/=10)a--;for(s=n.d[0];s>=10;s/=10)a++}return t&&r>a?r:a};er.squareRoot=er.sqrt=function(){var t,r,a,s,n,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ul+"NaN")}for(t=Gs(l),Ja=!1,n=Math.sqrt(+l),n==0||n==1/0?(r=vc(l.d),(r.length+t)%2==0&&(r+="0"),n=Math.sqrt(r),t=ef((t+1)/2)-(t<0||t%2),n==1/0?r="5e"+t:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),s=new c(r)):s=new c(n.toString()),a=c.precision,n=o=a+3;;)if(i=s,s=i.plus(_d(l,i,o+2)).times(.5),vc(i.d).slice(0,o)===(r=vc(s.d)).slice(0,o)){if(r=r.slice(o-3,o+1),n==o&&r=="4999"){if(Ca(i,a+1,0),i.times(i).eq(l)){s=i;break}}else if(r!="9999")break;o+=4}return Ja=!0,Ca(s,a)};er.times=er.mul=function(t){var r,a,s,n,i,o,l,c,d,u=this,f=u.constructor,p=u.d,g=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,a=u.e+t.e,c=p.length,d=g.length,c<d&&(i=p,p=g,g=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(r=0,n=c+s;n>s;)l=i[n]+g[s]*p[n-s-1]+r,i[n--]=l%yn|0,r=l/yn|0;i[n]=(i[n]+r)%yn|0}for(;!i[--o];)i.pop();return r?++a:i.shift(),t.d=i,t.e=a,Ja?Ca(t,f.precision):t};er.toDecimalPlaces=er.todp=function(t,r){var a=this,s=a.constructor;return a=new s(a),t===void 0?a:(Pc(t,0,Qm),r===void 0?r=s.rounding:Pc(r,0,8),Ca(a,t+Gs(a)+1,r))};er.toExponential=function(t,r){var a,s=this,n=s.constructor;return t===void 0?a=yh(s,!0):(Pc(t,0,Qm),r===void 0?r=n.rounding:Pc(r,0,8),s=Ca(new n(s),t+1,r),a=yh(s,!0,t+1)),a};er.toFixed=function(t,r){var a,s,n=this,i=n.constructor;return t===void 0?yh(n):(Pc(t,0,Qm),r===void 0?r=i.rounding:Pc(r,0,8),s=Ca(new i(n),t+Gs(n)+1,r),a=yh(s.abs(),!1,t+Gs(s)+1),n.isneg()&&!n.isZero()?"-"+a:a)};er.toInteger=er.toint=function(){var t=this,r=t.constructor;return Ca(new r(t),Gs(t)+1,r.rounding)};er.toNumber=function(){return+this};er.toPower=er.pow=function(t){var r,a,s,n,i,o,l=this,c=l.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(jo);if(l=new c(l),!l.s){if(t.s<1)throw Error(ul+"Infinity");return l}if(l.eq(jo))return l;if(s=c.precision,t.eq(jo))return Ca(l,s);if(r=t.e,a=t.d.length-1,o=r>=a,i=l.s,o){if((a=u<0?-u:u)<=BL){for(n=new c(jo),r=Math.ceil(s/$a+4),Ja=!1;a%2&&(n=n.times(l),SP(n.d,r)),a=ef(a/2),a!==0;)l=l.times(l),SP(l.d,r);return Ja=!0,t.s<0?new c(jo).div(n):Ca(n,s)}}else if(i<0)throw Error(ul+"NaN");return i=i<0&&t.d[Math.max(r,a)]&1?-1:1,l.s=1,Ja=!1,n=t.times(qp(l,s+d)),Ja=!0,n=zL(n),n.s=i,n};er.toPrecision=function(t,r){var a,s,n=this,i=n.constructor;return t===void 0?(a=Gs(n),s=yh(n,a<=i.toExpNeg||a>=i.toExpPos)):(Pc(t,1,Qm),r===void 0?r=i.rounding:Pc(r,0,8),n=Ca(new i(n),t,r),a=Gs(n),s=yh(n,t<=a||a<=i.toExpNeg,t)),s};er.toSignificantDigits=er.tosd=function(t,r){var a=this,s=a.constructor;return t===void 0?(t=s.precision,r=s.rounding):(Pc(t,1,Qm),r===void 0?r=s.rounding:Pc(r,0,8)),Ca(new s(a),t,r)};er.toString=er.valueOf=er.val=er.toJSON=er[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,r=Gs(t),a=t.constructor;return yh(t,r<=a.toExpNeg||r>=a.toExpPos)};function UL(t,r){var a,s,n,i,o,l,c,d,u=t.constructor,f=u.precision;if(!t.s||!r.s)return r.s||(r=new u(t)),Ja?Ca(r,f):r;if(c=t.d,d=r.d,o=t.e,n=r.e,c=c.slice(),i=o-n,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,n=o,l=c.length),o=Math.ceil(f/$a),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),a=0;i;)a=(c[--i]=c[i]+d[i]+a)/yn|0,c[i]%=yn;for(a&&(c.unshift(a),++n),l=c.length;c[--l]==0;)c.pop();return r.d=c,r.e=n,Ja?Ca(r,f):r}function Pc(t,r,a){if(t!==~~t||t<r||t>a)throw Error(ih+t)}function vc(t){var r,a,s,n=t.length-1,i="",o=t[0];if(n>0){for(i+=o,r=1;r<n;r++)s=t[r]+"",a=$a-s.length,a&&(i+=Du(a)),i+=s;o=t[r],s=o+"",a=$a-s.length,a&&(i+=Du(a))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var _d=(function(){function t(s,n){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*n+o,s[l]=i%yn|0,o=i/yn|0;return o&&s.unshift(o),s}function r(s,n,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=n[l]){c=s[l]>n[l]?1:-1;break}return c}function a(s,n,i){for(var o=0;i--;)s[i]-=o,o=s[i]<n[i]?1:0,s[i]=o*yn+s[i]-n[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,n,i,o){var l,c,d,u,f,p,g,x,v,w,j,_,S,N,C,D,U,z,E=s.constructor,I=s.s==n.s?1:-1,T=s.d,F=n.d;if(!s.s)return new E(s);if(!n.s)throw Error(ul+"Division by zero");for(c=s.e-n.e,U=F.length,C=T.length,g=new E(I),x=g.d=[],d=0;F[d]==(T[d]||0);)++d;if(F[d]>(T[d]||0)&&--c,i==null?_=i=E.precision:o?_=i+(Gs(s)-Gs(n))+1:_=i,_<0)return new E(0);if(_=_/$a+2|0,d=0,U==1)for(u=0,F=F[0],_++;(d<C||u)&&_--;d++)S=u*yn+(T[d]||0),x[d]=S/F|0,u=S%F|0;else{for(u=yn/(F[0]+1)|0,u>1&&(F=t(F,u),T=t(T,u),U=F.length,C=T.length),N=U,v=T.slice(0,U),w=v.length;w<U;)v[w++]=0;z=F.slice(),z.unshift(0),D=F[0],F[1]>=yn/2&&++D;do u=0,l=r(F,v,U,w),l<0?(j=v[0],U!=w&&(j=j*yn+(v[1]||0)),u=j/D|0,u>1?(u>=yn&&(u=yn-1),f=t(F,u),p=f.length,w=v.length,l=r(f,v,p,w),l==1&&(u--,a(f,U<p?z:F,p))):(u==0&&(l=u=1),f=F.slice()),p=f.length,p<w&&f.unshift(0),a(v,f,w),l==-1&&(w=v.length,l=r(F,v,U,w),l<1&&(u++,a(v,U<w?z:F,w))),w=v.length):l===0&&(u++,v=[0]),x[d++]=u,l&&v[0]?v[w++]=T[N]||0:(v=[T[N]],w=1);while((N++<C||v[0]!==void 0)&&_--)}return x[0]||x.shift(),g.e=c,Ca(g,o?i+Gs(g)+1:i)}})();function zL(t,r){var a,s,n,i,o,l,c=0,d=0,u=t.constructor,f=u.precision;if(Gs(t)>16)throw Error(aS+Gs(t));if(!t.s)return new u(jo);for(Ja=!1,l=f,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(s=Math.log(M0(2,d))/Math.LN10*2+5|0,l+=s,a=n=i=new u(jo),u.precision=l;;){if(n=Ca(n.times(t),l),a=a.times(++c),o=i.plus(_d(n,a,l)),vc(o.d).slice(0,l)===vc(i.d).slice(0,l)){for(;d--;)i=Ca(i.times(i),l);return u.precision=f,r==null?(Ja=!0,Ca(i,f)):i}i=o}}function Gs(t){for(var r=t.e*$a,a=t.d[0];a>=10;a/=10)r++;return r}function l1(t,r,a){if(r>t.LN10.sd())throw Ja=!0,a&&(t.precision=a),Error(ul+"LN10 precision limit exceeded");return Ca(new t(t.LN10),r)}function Du(t){for(var r="";t--;)r+="0";return r}function qp(t,r){var a,s,n,i,o,l,c,d,u,f=1,p=10,g=t,x=g.d,v=g.constructor,w=v.precision;if(g.s<1)throw Error(ul+(g.s?"NaN":"-Infinity"));if(g.eq(jo))return new v(0);if(r==null?(Ja=!1,d=w):d=r,g.eq(10))return r==null&&(Ja=!0),l1(v,d);if(d+=p,v.precision=d,a=vc(x),s=a.charAt(0),i=Gs(g),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&a.charAt(1)>3;)g=g.times(t),a=vc(g.d),s=a.charAt(0),f++;i=Gs(g),s>1?(g=new v("0."+a),i++):g=new v(s+"."+a.slice(1))}else return c=l1(v,d+2,w).times(i+""),g=qp(new v(s+"."+a.slice(1)),d-p).plus(c),v.precision=w,r==null?(Ja=!0,Ca(g,w)):g;for(l=o=g=_d(g.minus(jo),g.plus(jo),d),u=Ca(g.times(g),d),n=3;;){if(o=Ca(o.times(u),d),c=l.plus(_d(o,new v(n),d)),vc(c.d).slice(0,d)===vc(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(l1(v,d+2,w).times(i+""))),l=_d(l,new v(f),d),v.precision=w,r==null?(Ja=!0,Ca(l,w)):l;l=c,n+=2}}function kP(t,r){var a,s,n;for((a=r.indexOf("."))>-1&&(r=r.replace(".","")),(s=r.search(/e/i))>0?(a<0&&(a=s),a+=+r.slice(s+1),r=r.substring(0,s)):a<0&&(a=r.length),s=0;r.charCodeAt(s)===48;)++s;for(n=r.length;r.charCodeAt(n-1)===48;)--n;if(r=r.slice(s,n),r){if(n-=s,a=a-s-1,t.e=ef(a/$a),t.d=[],s=(a+1)%$a,a<0&&(s+=$a),s<n){for(s&&t.d.push(+r.slice(0,s)),n-=$a;s<n;)t.d.push(+r.slice(s,s+=$a));r=r.slice(s),s=$a-r.length}else s-=n;for(;s--;)r+="0";if(t.d.push(+r),Ja&&(t.e>ob||t.e<-ob))throw Error(aS+a)}else t.s=0,t.e=0,t.d=[0];return t}function Ca(t,r,a){var s,n,i,o,l,c,d,u,f=t.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(s=r-o,s<0)s+=$a,n=r,d=f[u=0];else{if(u=Math.ceil((s+1)/$a),i=f.length,u>=i)return t;for(d=i=f[u],o=1;i>=10;i/=10)o++;s%=$a,n=s-$a+o}if(a!==void 0&&(i=M0(10,o-n-1),l=d/i%10|0,c=r<0||f[u+1]!==void 0||d%i,c=a<4?(l||c)&&(a==0||a==(t.s<0?3:2)):l>5||l==5&&(a==4||c||a==6&&(s>0?n>0?d/M0(10,o-n):0:f[u-1])%10&1||a==(t.s<0?8:7))),r<1||!f[0])return c?(i=Gs(t),f.length=1,r=r-i-1,f[0]=M0(10,($a-r%$a)%$a),t.e=ef(-r/$a)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(s==0?(f.length=u,i=1,u--):(f.length=u+1,i=M0(10,$a-s),f[u]=n>0?(d/M0(10,o-n)%M0(10,n)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==yn&&(f[0]=1,++t.e);break}else{if(f[u]+=i,f[u]!=yn)break;f[u--]=0,i=1}for(s=f.length;f[--s]===0;)f.pop();if(Ja&&(t.e>ob||t.e<-ob))throw Error(aS+Gs(t));return t}function qL(t,r){var a,s,n,i,o,l,c,d,u,f,p=t.constructor,g=p.precision;if(!t.s||!r.s)return r.s?r.s=-r.s:r=new p(t),Ja?Ca(r,g):r;if(c=t.d,f=r.d,s=r.e,d=t.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(a=c,o=-o,l=f.length):(a=f,s=d,l=c.length),n=Math.max(Math.ceil(g/$a),l)+2,o>n&&(o=n,a.length=1),a.reverse(),n=o;n--;)a.push(0);a.reverse()}else{for(n=c.length,l=f.length,u=n<l,u&&(l=n),n=0;n<l;n++)if(c[n]!=f[n]){u=c[n]<f[n];break}o=0}for(u&&(a=c,c=f,f=a,r.s=-r.s),l=c.length,n=f.length-l;n>0;--n)c[l++]=0;for(n=f.length;n>o;){if(c[--n]<f[n]){for(i=n;i&&c[--i]===0;)c[i]=yn-1;--c[i],c[n]+=yn}c[n]-=f[n]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(r.d=c,r.e=s,Ja?Ca(r,g):r):new p(0)}function yh(t,r,a){var s,n=Gs(t),i=vc(t.d),o=i.length;return r?(a&&(s=a-o)>0?i=i.charAt(0)+"."+i.slice(1)+Du(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+Du(-n-1)+i,a&&(s=a-o)>0&&(i+=Du(s))):n>=o?(i+=Du(n+1-o),a&&(s=a-n-1)>0&&(i=i+"."+Du(s))):((s=n+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),a&&(s=a-o)>0&&(n+1===o&&(i+="."),i+=Du(s))),t.s<0?"-"+i:i}function SP(t,r){if(t.length>r)return t.length=r,!0}function VL(t){var r,a,s;function n(i){var o=this;if(!(o instanceof n))return new n(i);if(o.constructor=n,i instanceof n){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ih+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return kP(o,i.toString())}else if(typeof i!="string")throw Error(ih+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,wne.test(i))kP(o,i);else throw Error(ih+i)}if(n.prototype=er,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=VL,n.config=n.set=jne,t===void 0&&(t={}),t)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<s.length;)t.hasOwnProperty(a=s[r++])||(t[a]=this[a]);return n.config(t),n}function jne(t){if(!t||typeof t!="object")throw Error(ul+"Object expected");var r,a,s,n=["precision",1,Qm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<n.length;r+=3)if((s=t[a=n[r]])!==void 0)if(ef(s)===s&&s>=n[r+1]&&s<=n[r+2])this[a]=s;else throw Error(ih+a+": "+s);if((s=t[a="LN10"])!==void 0)if(s==Math.LN10)this[a]=new this(s);else throw Error(ih+a+": "+s);return this}var sS=VL(vne);jo=new sS(1);const ya=sS;var Nne=t=>t,HL={},WL=t=>t===HL,_P=t=>function r(){return arguments.length===0||arguments.length===1&&WL(arguments.length<=0?void 0:arguments[0])?r:t(...arguments)},GL=(t,r)=>t===1?r:_P(function(){for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];var i=s.filter(o=>o!==HL).length;return i>=t?r(...s):GL(t-i,_P(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=s.map(u=>WL(u)?l.shift():u);return r(...d,...l)}))}),dv=t=>GL(t.length,t),bN=(t,r)=>{for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},kne=dv((t,r)=>Array.isArray(r)?r.map(t):Object.keys(r).map(a=>r[a]).map(t)),Sne=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];if(!a.length)return Nne;var n=a.reverse(),i=n[0],o=n.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},vN=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),YL=t=>{var r=null,a=null;return function(){for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return r&&n.every((o,l)=>{var c;return o===((c=r)===null||c===void 0?void 0:c[l])})||(r=n,a=t(...n)),a}};function KL(t){var r;return t===0?r=1:r=Math.floor(new ya(t).abs().log(10).toNumber())+1,r}function JL(t,r,a){for(var s=new ya(t),n=0,i=[];s.lt(r)&&n<1e5;)i.push(s.toNumber()),s=s.add(a),n++;return i}dv((t,r,a)=>{var s=+t,n=+r;return s+a*(n-s)});dv((t,r,a)=>{var s=r-+t;return s=s||1/0,(a-t)/s});dv((t,r,a)=>{var s=r-+t;return s=s||1/0,Math.max(0,Math.min(1,(a-t)/s))});var XL=t=>{var[r,a]=t,[s,n]=[r,a];return r>a&&([s,n]=[a,r]),[s,n]},ZL=(t,r,a)=>{if(t.lte(0))return new ya(0);var s=KL(t.toNumber()),n=new ya(10).pow(s),i=t.div(n),o=s!==1?.05:.1,l=new ya(Math.ceil(i.div(o).toNumber())).add(a).mul(o),c=l.mul(n);return r?new ya(c.toNumber()):new ya(Math.ceil(c.toNumber()))},_ne=(t,r,a)=>{var s=new ya(1),n=new ya(t);if(!n.isint()&&a){var i=Math.abs(t);i<1?(s=new ya(10).pow(KL(t)-1),n=new ya(Math.floor(n.div(s).toNumber())).mul(s)):i>1&&(n=new ya(Math.floor(t)))}else t===0?n=new ya(Math.floor((r-1)/2)):a||(n=new ya(Math.floor(t)));var o=Math.floor((r-1)/2),l=Sne(kne(c=>n.add(new ya(c-o).mul(s)).toNumber()),bN);return l(0,r)},QL=function(r,a,s,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-r)/(s-1)))return{step:new ya(0),tickMin:new ya(0),tickMax:new ya(0)};var o=ZL(new ya(a).sub(r).div(s-1),n,i),l;r<=0&&a>=0?l=new ya(0):(l=new ya(r).add(a).div(2),l=l.sub(new ya(l).mod(o)));var c=Math.ceil(l.sub(r).div(o).toNumber()),d=Math.ceil(new ya(a).sub(l).div(o).toNumber()),u=c+d+1;return u>s?QL(r,a,s,n,i+1):(u<s&&(d=a>0?d+(s-u):d,c=a>0?c:c+(s-u)),{step:o,tickMin:l.sub(new ya(c).mul(o)),tickMax:l.add(new ya(d).mul(o))})};function Ane(t){var[r,a]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),[o,l]=XL([r,a]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...bN(0,s-1).map(()=>1/0)]:[...bN(0,s-1).map(()=>-1/0),l];return r>a?vN(c):c}if(o===l)return _ne(o,s,n);var{step:d,tickMin:u,tickMax:f}=QL(o,l,i,n,0),p=JL(u,f.add(new ya(.1).mul(d)),d);return r>a?vN(p):p}function Cne(t,r){var[a,s]=t,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=XL([a,s]);if(i===-1/0||o===1/0)return[a,s];if(i===o)return[i];var l=Math.max(r,2),c=ZL(new ya(o).sub(i).div(l-1),n,0),d=[...JL(new ya(i),new ya(o),c),o];return n===!1&&(d=d.map(u=>Math.round(u))),a>s?vN(d):d}var Pne=YL(Ane),Ene=YL(Cne),e8=t=>t.rootProps.maxBarSize,Tne=t=>t.rootProps.barGap,t8=t=>t.rootProps.barCategoryGap,Dne=t=>t.rootProps.barSize,vg=t=>t.rootProps.stackOffset,nS=t=>t.options.chartName,iS=t=>t.rootProps.syncId,r8=t=>t.rootProps.syncMethod,oS=t=>t.options.eventEmitter,pd={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xo={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},uv=(t,r)=>{if(!(!t||!r))return t!=null&&t.reversed?[r[1],r[0]]:r},Ine={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:pd.angleAxisId,includeHidden:!1,name:void 0,reversed:pd.reversed,scale:pd.scale,tick:pd.tick,tickCount:void 0,ticks:void 0,type:pd.type,unit:void 0},One={allowDataOverflow:xo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xo.scale,tick:xo.tick,tickCount:xo.tickCount,ticks:void 0,type:xo.type,unit:void 0},Rne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:pd.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pd.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pd.scale,tick:pd.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Lne={allowDataOverflow:xo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xo.scale,tick:xo.tick,tickCount:xo.tickCount,ticks:void 0,type:"category",unit:void 0},lS=(t,r)=>t.polarAxis.angleAxis[r]!=null?t.polarAxis.angleAxis[r]:t.layout.layoutType==="radial"?Rne:Ine,cS=(t,r)=>t.polarAxis.radiusAxis[r]!=null?t.polarAxis.radiusAxis[r]:t.layout.layoutType==="radial"?Lne:One,hv=t=>t.polarOptions,dS=ct([$d,Bd,sn],RR),a8=ct([hv,dS],(t,r)=>{if(t!=null)return vi(t.innerRadius,r,0)}),s8=ct([hv,dS],(t,r)=>{if(t!=null)return vi(t.outerRadius,r,r*.8)}),Mne=t=>{if(t==null)return[0,0];var{startAngle:r,endAngle:a}=t;return[r,a]},n8=ct([hv],Mne);ct([lS,n8],uv);var i8=ct([dS,a8,s8],(t,r,a)=>{if(!(t==null||r==null||a==null))return[r,a]});ct([cS,i8],uv);var o8=ct([Yr,hv,a8,s8,$d,Bd],(t,r,a,s,n,i)=>{if(!(t!=="centric"&&t!=="radial"||r==null||a==null||s==null)){var{cx:o,cy:l,startAngle:c,endAngle:d}=r;return{cx:vi(o,n,n/2),cy:vi(l,i,i/2),innerRadius:a,outerRadius:s,startAngle:c,endAngle:d,clockWise:!1}}}),Qa=(t,r)=>r,wg=(t,r,a)=>a;function mv(t){return t?.id}var on=t=>{var r=Yr(t);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},tf=t=>t.tooltip.settings.axisId,ln=t=>{var r=on(t),a=tf(t);return jg(t,r,a)};function l8(t,r,a){var{chartData:s=[]}=r,n=a?.dataKey,i=new Map;return t.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:s;if(!(c==null||c.length===0)){var d=mv(o);c.forEach((u,f)=>{var p=n==null?f:String(Aa(u,n,null)),g=Aa(u,o.dataKey,0),x;i.has(p)?x=i.get(p):x={},Object.assign(x,{[d]:g}),i.set(p,x)})}}),Array.from(i.values())}function fv(t){return t.stackId!=null&&t.dataKey!=null}function AP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function lb(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?AP(Object(a),!0).forEach(function(s){Fne(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):AP(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Fne(t,r,a){return(r=$ne(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function $ne(t){var r=Bne(t,"string");return typeof r=="symbol"?r:r+""}function Bne(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var wN=[0,"auto"],fo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},zd=(t,r)=>{var a=t.cartesianAxis.xAxis[r];return a??fo},po={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:wN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Qb},r0=(t,r)=>{var a=t.cartesianAxis.yAxis[r];return a??po},Une={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},uS=(t,r)=>{var a=t.cartesianAxis.zAxis[r];return a??Une},Ms=(t,r,a)=>{switch(r){case"xAxis":return zd(t,a);case"yAxis":return r0(t,a);case"zAxis":return uS(t,a);case"angleAxis":return lS(t,a);case"radiusAxis":return cS(t,a);default:throw new Error("Unexpected axis type: ".concat(r))}},zne=(t,r,a)=>{switch(r){case"xAxis":return zd(t,a);case"yAxis":return r0(t,a);default:throw new Error("Unexpected axis type: ".concat(r))}},jg=(t,r,a)=>{switch(r){case"xAxis":return zd(t,a);case"yAxis":return r0(t,a);case"angleAxis":return lS(t,a);case"radiusAxis":return cS(t,a);default:throw new Error("Unexpected axis type: ".concat(r))}},c8=t=>t.graphicalItems.cartesianItems.some(r=>r.type==="bar")||t.graphicalItems.polarItems.some(r=>r.type==="radialBar");function hS(t,r){return a=>{switch(t){case"xAxis":return"xAxisId"in a&&a.xAxisId===r;case"yAxis":return"yAxisId"in a&&a.yAxisId===r;case"zAxis":return"zAxisId"in a&&a.zAxisId===r;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===r;default:return!1}}}var pv=t=>t.graphicalItems.cartesianItems,qne=ct([Qa,wg],hS),mS=(t,r,a)=>t.filter(a).filter(s=>r?.includeHidden===!0?!0:!s.hide),Ng=ct([pv,Ms,qne],mS),d8=ct([Ng],t=>t.filter(r=>r.type==="area"||r.type==="bar").filter(fv)),u8=t=>t.filter(r=>!("stackId"in r)||r.stackId===void 0),h8=ct([Ng],u8),fS=t=>t.map(r=>r.data).filter(Boolean).flat(1),Vne=ct([Ng],fS),pS=(t,r)=>{var{chartData:a=[],dataStartIndex:s,dataEndIndex:n}=r;return t.length>0?t:a.slice(s,n+1)},gS=ct([Vne,cv],pS),xS=(t,r,a)=>r?.dataKey!=null?t.map(s=>({value:Aa(s,r.dataKey)})):a.length>0?a.map(s=>s.dataKey).flatMap(s=>t.map(n=>({value:Aa(n,s)}))):t.map(s=>({value:s})),gv=ct([gS,Ms,Ng],xS);function m8(t,r){switch(t){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function Ah(t){return t.filter(r=>Cc(r)||r instanceof Date).map(Number).filter(r=>Wi(r)===!1)}function Hne(t,r,a){return!a||typeof r!="number"||Wi(r)?[]:a.length?Ah(a.flatMap(s=>{var n=Aa(t,s.dataKey),i,o;if(Array.isArray(n)?[i,o]=n:i=o=n,!(!On(i)||!On(o)))return[r-i,r+o]})):[]}var Wne=ct([d8,cv,ln],l8),f8=(t,r,a)=>{var s={},n=r.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),s);return Object.fromEntries(Object.entries(n).map(i=>{var[o,l]=i,c=l.map(mv);return[o,{stackedData:Kee(t,c,a),graphicalItems:l}]}))},Vp=ct([Wne,d8,vg],f8),p8=(t,r,a)=>{var{dataStartIndex:s,dataEndIndex:n}=r;if(a!=="zAxis"){var i=Qee(t,s,n);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Gne=ct([Vp,t0,Qa],p8),g8=(t,r,a,s,n)=>a.length>0?t.flatMap(i=>a.flatMap(o=>{var l,c,d=(l=s[o.id])===null||l===void 0?void 0:l.filter(f=>m8(n,f)),u=Aa(i,(c=r.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:u,errorDomain:Hne(i,u,d)}})).filter(Boolean):r?.dataKey!=null?t.map(i=>({value:Aa(i,r.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),xv=t=>t.errorBars,x8=(t,r,a)=>t.flatMap(s=>r[s.id]).filter(Boolean).filter(s=>m8(a,s));ct([h8,xv,Qa],x8);var Yne=ct([gS,Ms,h8,xv,Qa],g8);function Kne(t){var{value:r}=t;if(Cc(r)||r instanceof Date)return r}var CP=t=>{var r=t.flatMap(s=>[s.value,s.errorDomain]).flat(1),a=Ah(r);if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Jne=(t,r,a)=>{var s=t.map(Kne).filter(n=>n!=null);return a&&(r.dataKey==null||r.allowDuplicatedCategory&&EO(s))?nL(0,t.length):r.allowDuplicatedCategory?s:Array.from(new Set(s))},yS=t=>{var r;if(t==null||!("domain"in t))return wN;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var a=Ah(t.ticks);return[Math.min(...a),Math.max(...a)]}if(t.type==="category")return t.ticks.map(String)}return(r=t?.domain)!==null&&r!==void 0?r:wN},cb=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var n=a.filter(Boolean);if(n.length!==0){var i=n.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},y8=t=>t.referenceElements.dots,rf=(t,r,a)=>t.filter(s=>s.ifOverflow==="extendDomain").filter(s=>r==="xAxis"?s.xAxisId===a:s.yAxisId===a),Xne=ct([y8,Qa,wg],rf),b8=t=>t.referenceElements.areas,Zne=ct([b8,Qa,wg],rf),v8=t=>t.referenceElements.lines,Qne=ct([v8,Qa,wg],rf),w8=(t,r)=>{var a=Ah(t.map(s=>r==="xAxis"?s.x:s.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},eie=ct(Xne,Qa,w8),j8=(t,r)=>{var a=Ah(t.flatMap(s=>[r==="xAxis"?s.x1:s.y1,r==="xAxis"?s.x2:s.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},tie=ct([Zne,Qa],j8),N8=(t,r)=>{var a=Ah(t.map(s=>r==="xAxis"?s.x:s.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},rie=ct(Qne,Qa,N8),aie=ct(eie,rie,tie,(t,r,a)=>cb(t,a,r)),k8=ct([Ms],yS),bS=(t,r,a,s,n,i,o)=>{var l=yne(r,t.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",d=c?cb(a,n,CP(s)):cb(n,CP(s));return bne(r,d,t.allowDataOverflow)},sie=ct([Ms,k8,Gne,Yne,aie,Yr,Qa],bS),nie=[0,1],vS=(t,r,a,s,n,i,o)=>{if(!((t==null||a==null||a.length===0)&&o===void 0)){var{dataKey:l,type:c}=t,d=Fd(r,i);return d&&l==null?nL(0,a.length):c==="category"?Jne(s,t,d):n==="expand"?nie:o}},wS=ct([Ms,Yr,gS,gv,vg,Qa,sie],vS),S8=(t,r,a,s,n)=>{if(t!=null){var{scale:i,type:o}=t;if(i==="auto")return r==="radial"&&n==="radiusAxis"?"band":r==="radial"&&n==="angleAxis"?"linear":o==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!a)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(ug(i));return l in rp?l:"point"}}},af=ct([Ms,Yr,c8,nS,Qa],S8);function iie(t){if(t!=null){if(t in rp)return rp[t]();var r="scale".concat(ug(t));if(r in rp)return rp[r]()}}function jS(t,r,a,s){if(!(a==null||s==null)){if(typeof t.scale=="function")return t.scale.copy().domain(a).range(s);var n=iie(r);if(n!=null){var i=n.domain(a).range(s);return Vee(i),i}}}var NS=(t,r,a)=>{var s=yS(r);if(!(a!=="auto"&&a!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(s)&&(s[0]==="auto"||s[1]==="auto")&&$m(t))return Pne(t,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&$m(t))return Ene(t,r.tickCount,r.allowDecimals)}},kS=ct([wS,jg,af],NS),SS=(t,r,a,s)=>{if(s!=="angleAxis"&&t?.type==="number"&&$m(r)&&Array.isArray(a)&&a.length>0){var n=r[0],i=a[0],o=r[1],l=a[a.length-1];return[Math.min(n,i),Math.max(o,l)]}return r},oie=ct([Ms,wS,kS,Qa],SS),lie=ct(gv,Ms,(t,r)=>{if(!(!r||r.type!=="number")){var a=1/0,s=Array.from(Ah(t.map(l=>l.value))).sort((l,c)=>l-c);if(s.length<2)return 1/0;var n=s[s.length-1]-s[0];if(n===0)return 1/0;for(var i=0;i<s.length-1;i++){var o=s[i+1]-s[i];a=Math.min(a,o)}return a/n}}),_8=ct(lie,Yr,t8,sn,(t,r,a,s)=>s,(t,r,a,s,n)=>{if(!On(t))return 0;var i=r==="vertical"?s.height:s.width;if(n==="gap")return t*i/2;if(n==="no-gap"){var o=vi(a,t*i),l=t*i/2;return l-o-(l-o)/i*o}return 0}),cie=(t,r)=>{var a=zd(t,r);return a==null||typeof a.padding!="string"?0:_8(t,"xAxis",r,a.padding)},die=(t,r)=>{var a=r0(t,r);return a==null||typeof a.padding!="string"?0:_8(t,"yAxis",r,a.padding)},uie=ct(zd,cie,(t,r)=>{var a,s;if(t==null)return{left:0,right:0};var{padding:n}=t;return typeof n=="string"?{left:r,right:r}:{left:((a=n.left)!==null&&a!==void 0?a:0)+r,right:((s=n.right)!==null&&s!==void 0?s:0)+r}}),hie=ct(r0,die,(t,r)=>{var a,s;if(t==null)return{top:0,bottom:0};var{padding:n}=t;return typeof n=="string"?{top:r,bottom:r}:{top:((a=n.top)!==null&&a!==void 0?a:0)+r,bottom:((s=n.bottom)!==null&&s!==void 0?s:0)+r}}),mie=ct([sn,uie,tv,ev,(t,r,a)=>a],(t,r,a,s,n)=>{var{padding:i}=s;return n?[i.left,a.width-i.right]:[t.left+r.left,t.left+t.width-r.right]}),fie=ct([sn,Yr,hie,tv,ev,(t,r,a)=>a],(t,r,a,s,n,i)=>{var{padding:o}=n;return i?[s.height-o.bottom,o.top]:r==="horizontal"?[t.top+t.height-a.bottom,t.top+a.top]:[t.top+a.top,t.top+t.height-a.bottom]}),kg=(t,r,a,s)=>{var n;switch(r){case"xAxis":return mie(t,a,s);case"yAxis":return fie(t,a,s);case"zAxis":return(n=uS(t,a))===null||n===void 0?void 0:n.range;case"angleAxis":return n8(t);case"radiusAxis":return i8(t,a);default:return}},A8=ct([Ms,kg],uv),sf=ct([Ms,af,oie,A8],jS);ct([Ng,xv,Qa],x8);function C8(t,r){return t.id<r.id?-1:t.id>r.id?1:0}var yv=(t,r)=>r,bv=(t,r,a)=>a,pie=ct(_5,yv,bv,(t,r,a)=>t.filter(s=>s.orientation===r).filter(s=>s.mirror===a).sort(C8)),gie=ct(A5,yv,bv,(t,r,a)=>t.filter(s=>s.orientation===r).filter(s=>s.mirror===a).sort(C8)),P8=(t,r)=>({width:t.width,height:r.height}),xie=(t,r)=>{var a=typeof r.width=="number"?r.width:Qb;return{width:a,height:t.height}},E8=ct(sn,zd,P8),yie=(t,r,a)=>{switch(r){case"top":return t.top;case"bottom":return a-t.bottom;default:return 0}},bie=(t,r,a)=>{switch(r){case"left":return t.left;case"right":return a-t.right;default:return 0}},vie=ct(Bd,sn,pie,yv,bv,(t,r,a,s,n)=>{var i={},o;return a.forEach(l=>{var c=P8(r,l);o==null&&(o=yie(r,s,t));var d=s==="top"&&!n||s==="bottom"&&n;i[l.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),i}),wie=ct($d,sn,gie,yv,bv,(t,r,a,s,n)=>{var i={},o;return a.forEach(l=>{var c=xie(r,l);o==null&&(o=bie(r,s,t));var d=s==="left"&&!n||s==="right"&&n;i[l.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),i}),jie=(t,r)=>{var a=sn(t),s=zd(t,r);if(s!=null){var n=vie(t,s.orientation,s.mirror),i=n[r];return i==null?{x:a.left,y:0}:{x:a.left,y:i}}},Nie=(t,r)=>{var a=sn(t),s=r0(t,r);if(s!=null){var n=wie(t,s.orientation,s.mirror),i=n[r];return i==null?{x:0,y:a.top}:{x:i,y:a.top}}},T8=ct(sn,r0,(t,r)=>{var a=typeof r.width=="number"?r.width:Qb;return{width:a,height:t.height}}),PP=(t,r,a)=>{switch(r){case"xAxis":return E8(t,a).width;case"yAxis":return T8(t,a).height;default:return}},D8=(t,r,a,s)=>{if(a!=null){var{allowDuplicatedCategory:n,type:i,dataKey:o}=a,l=Fd(t,s),c=r.map(d=>d.value);if(o&&l&&i==="category"&&n&&EO(c))return c}},_S=ct([Yr,gv,Ms,Qa],D8),I8=(t,r,a,s)=>{if(!(a==null||a.dataKey==null)){var{type:n,scale:i}=a,o=Fd(t,s);if(o&&(n==="number"||i!=="auto"))return r.map(l=>l.value)}},AS=ct([Yr,gv,jg,Qa],I8),EP=ct([Yr,zne,af,sf,_S,AS,kg,kS,Qa],(t,r,a,s,n,i,o,l,c)=>{if(r==null)return null;var d=Fd(t,c);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:c,categoricalDomain:i,duplicateDomain:n,isCategorical:d,niceTicks:l,range:o,realScaleType:a,scale:s}}),kie=(t,r,a,s,n,i,o,l,c)=>{if(!(r==null||s==null)){var d=Fd(t,c),{type:u,ticks:f,tickCount:p}=r,g=a==="scaleBand"&&typeof s.bandwidth=="function"?s.bandwidth()/2:2,x=u==="category"&&s.bandwidth?s.bandwidth()/g:0;x=c==="angleAxis"&&i!=null&&i.length>=2?vn(i[0]-i[1])*2*x:x;var v=f||n;if(v){var w=v.map((j,_)=>{var S=o?o.indexOf(j):j;return{index:_,coordinate:s(S)+x,value:j,offset:x}});return w.filter(j=>!Wi(j.coordinate))}return d&&l?l.map((j,_)=>({coordinate:s(j)+x,value:j,index:_,offset:x})):s.ticks?s.ticks(p).map(j=>({coordinate:s(j)+x,value:j,offset:x})):s.domain().map((j,_)=>({coordinate:s(j)+x,value:o?o[j]:j,index:_,offset:x}))}},O8=ct([Yr,jg,af,sf,kS,kg,_S,AS,Qa],kie),Sie=(t,r,a,s,n,i,o)=>{if(!(r==null||a==null||s==null||s[0]===s[1])){var l=Fd(t,o),{tickCount:c}=r,d=0;return d=o==="angleAxis"&&s?.length>=2?vn(s[0]-s[1])*2*d:d,l&&i?i.map((u,f)=>({coordinate:a(u)+d,value:u,index:f,offset:d})):a.ticks?a.ticks(c).map(u=>({coordinate:a(u)+d,value:u,offset:d})):a.domain().map((u,f)=>({coordinate:a(u)+d,value:n?n[u]:u,index:f,offset:d}))}},Gu=ct([Yr,jg,sf,kg,_S,AS,Qa],Sie),Yu=ct(Ms,sf,(t,r)=>{if(!(t==null||r==null))return lb(lb({},t),{},{scale:r})}),_ie=ct([Ms,af,wS,A8],jS);ct((t,r,a)=>uS(t,a),_ie,(t,r)=>{if(!(t==null||r==null))return lb(lb({},t),{},{scale:r})});var Aie=ct([Yr,_5,A5],(t,r,a)=>{switch(t){case"horizontal":return r.some(s=>s.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(s=>s.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),R8=t=>t.options.defaultTooltipEventType,L8=t=>t.options.validateTooltipEventTypes;function M8(t,r,a){if(t==null)return r;var s=t?"axis":"item";return a==null?r:a.includes(s)?s:r}function CS(t,r){var a=R8(t),s=L8(t);return M8(r,a,s)}function Cie(t){return fr(r=>CS(r,t))}var F8=(t,r)=>{var a,s=Number(r);if(!(Wi(s)||r==null))return s>=0?t==null||(a=t[s])===null||a===void 0?void 0:a.value:void 0},Pie=t=>t.tooltip.settings,Iu={active:!1,index:null,dataKey:void 0,coordinate:void 0},Eie={itemInteraction:{click:Iu,hover:Iu},axisInteraction:{click:Iu,hover:Iu},keyboardInteraction:Iu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$8=Co({name:"tooltip",initialState:Eie,reducers:{addTooltipEntrySettings(t,r){t.tooltipItemPayloads.push(r.payload)},removeTooltipEntrySettings(t,r){var a=Sd(t).tooltipItemPayloads.indexOf(r.payload);a>-1&&t.tooltipItemPayloads.splice(a,1)},setTooltipSettingsState(t,r){t.settings=r.payload},setActiveMouseOverItemIndex(t,r){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=r.payload.activeIndex,t.itemInteraction.hover.dataKey=r.payload.activeDataKey,t.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,r){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=r.payload.activeIndex,t.itemInteraction.click.dataKey=r.payload.activeDataKey,t.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(t,r){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=r.payload.activeIndex,t.axisInteraction.hover.dataKey=r.payload.activeDataKey,t.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(t,r){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=r.payload.activeIndex,t.axisInteraction.click.dataKey=r.payload.activeDataKey,t.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(t,r){t.syncInteraction=r.payload},setKeyboardInteraction(t,r){t.keyboardInteraction.active=r.payload.active,t.keyboardInteraction.index=r.payload.activeIndex,t.keyboardInteraction.coordinate=r.payload.activeCoordinate,t.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:Tie,removeTooltipEntrySettings:Die,setTooltipSettingsState:Iie,setActiveMouseOverItemIndex:B8,mouseLeaveItem:Oie,mouseLeaveChart:U8,setActiveClickItemIndex:Rie,setMouseOverAxisIndex:z8,setMouseClickAxisIndex:Lie,setSyncInteraction:jN,setKeyboardInteraction:NN}=$8.actions,Mie=$8.reducer;function TP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Rx(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?TP(Object(a),!0).forEach(function(s){Fie(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):TP(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Fie(t,r,a){return(r=$ie(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function $ie(t){var r=Bie(t,"string");return typeof r=="symbol"?r:r+""}function Bie(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Uie(t,r,a){return r==="axis"?a==="click"?t.axisInteraction.click:t.axisInteraction.hover:a==="click"?t.itemInteraction.click:t.itemInteraction.hover}function zie(t){return t.index!=null}var q8=(t,r,a,s)=>{if(r==null)return Iu;var n=Uie(t,r,a);if(n==null)return Iu;if(n.active)return n;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var i=t.settings.active===!0;if(zie(n)){if(i)return Rx(Rx({},n),{},{active:!0})}else if(s!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:s};return Rx(Rx({},Iu),{},{coordinate:n.coordinate})},PS=(t,r)=>{var a=t?.index;if(a==null)return null;var s=Number(a);if(!On(s))return a;var n=0,i=1/0;return r.length>0&&(i=r.length-1),String(Math.max(n,Math.min(s,i)))},V8=(t,r,a,s,n,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],d=c==null?void 0:l(c.positions,i);if(d!=null)return d;var u=n?.[Number(i)];if(u)switch(a){case"horizontal":return{x:u.coordinate,y:(s.top+r)/2};default:return{x:(s.left+t)/2,y:u.coordinate}}}},H8=(t,r,a,s)=>{if(r==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var n;return a==="hover"?n=t.itemInteraction.hover.dataKey:n=t.itemInteraction.click.dataKey,n==null&&s!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===n})},Sg=t=>t.options.tooltipPayloadSearcher,nf=t=>t.tooltip;function DP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function IP(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?DP(Object(a),!0).forEach(function(s){qie(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):DP(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function qie(t,r,a){return(r=Vie(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Vie(t){var r=Hie(t,"string");return typeof r=="symbol"?r:r+""}function Hie(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Wie(t,r){return t??r}var W8=(t,r,a,s,n,i,o)=>{if(!(r==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=a,f=[];return t.reduce((p,g)=>{var x,{dataDefinedOnItem:v,settings:w}=g,j=Wie(v,l),_=Array.isArray(j)?LR(j,d,u):j,S=(x=w?.dataKey)!==null&&x!==void 0?x:s?.dataKey,N=w?.nameKey,C;if(s!=null&&s.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&o==="axis"?C=TO(_,s.dataKey,n):C=i(_,r,c,N),Array.isArray(C))C.forEach(U=>{var z=IP(IP({},w),{},{name:U.name,unit:U.unit,color:void 0,fill:void 0});p.push(hC({tooltipEntrySettings:z,dataKey:U.dataKey,payload:U.payload,value:Aa(U.payload,U.dataKey),name:U.name}))});else{var D;p.push(hC({tooltipEntrySettings:w,dataKey:S,payload:C,value:Aa(C,S),name:(D=Aa(C,N))!==null&&D!==void 0?D:w?.name}))}return p},f)}},ES=ct([ln,Yr,c8,nS,on],S8),Gie=ct([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,r)=>[...t,...r]),Yie=ct([on,tf],hS),_g=ct([Gie,ln,Yie],mS),Kie=ct([_g],t=>t.filter(fv)),Jie=ct([_g],fS),of=ct([Jie,t0],pS),Xie=ct([Kie,t0,ln],l8),TS=ct([of,ln,_g],xS),Zie=ct([ln],yS),Qie=ct([_g],t=>t.filter(fv)),eoe=ct([Xie,Qie,vg],f8),toe=ct([eoe,t0,on],p8),roe=ct([_g],u8),aoe=ct([of,ln,roe,xv,on],g8),soe=ct([y8,on,tf],rf),noe=ct([soe,on],w8),ioe=ct([b8,on,tf],rf),ooe=ct([ioe,on],j8),loe=ct([v8,on,tf],rf),coe=ct([loe,on],N8),doe=ct([noe,coe,ooe],cb),uoe=ct([ln,Zie,toe,aoe,doe,Yr,on],bS),G8=ct([ln,Yr,of,TS,vg,on,uoe],vS),hoe=ct([G8,ln,ES],NS),moe=ct([ln,G8,hoe,on],SS),Y8=t=>{var r=on(t),a=tf(t),s=!1;return kg(t,r,a,s)},K8=ct([ln,Y8],uv),J8=ct([ln,ES,moe,K8],jS),foe=ct([Yr,TS,ln,on],D8),poe=ct([Yr,TS,ln,on],I8),goe=(t,r,a,s,n,i,o,l)=>{if(r){var{type:c}=r,d=Fd(t,l);if(s){var u=a==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,f=c==="category"&&s.bandwidth?s.bandwidth()/u:0;return f=l==="angleAxis"&&n!=null&&n?.length>=2?vn(n[0]-n[1])*2*f:f,d&&o?o.map((p,g)=>({coordinate:s(p)+f,value:p,index:g,offset:f})):s.domain().map((p,g)=>({coordinate:s(p)+f,value:i?i[p]:p,index:g,offset:f}))}}},qd=ct([Yr,ln,ES,J8,Y8,foe,poe,on],goe),DS=ct([R8,L8,Pie],(t,r,a)=>M8(a.shared,t,r)),X8=t=>t.tooltip.settings.trigger,IS=t=>t.tooltip.settings.defaultIndex,vv=ct([nf,DS,X8,IS],q8),Ku=ct([vv,of],PS),Z8=ct([qd,Ku],F8),Q8=ct([vv],t=>{if(t)return t.dataKey}),eM=ct([nf,DS,X8,IS],H8),xoe=ct([$d,Bd,Yr,sn,qd,IS,eM,Sg],V8),yoe=ct([vv,xoe],(t,r)=>t!=null&&t.coordinate?t.coordinate:r),boe=ct([vv],t=>t.active),voe=ct([eM,Ku,t0,ln,Z8,Sg,DS],W8),woe=ct([voe],t=>{if(t!=null){var r=t.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(r))}});function OP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function RP(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?OP(Object(a),!0).forEach(function(s){joe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):OP(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function joe(t,r,a){return(r=Noe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Noe(t){var r=koe(t,"string");return typeof r=="symbol"?r:r+""}function koe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Soe=()=>fr(ln),_oe=()=>{var t=Soe(),r=fr(qd),a=fr(J8);return Mp(RP(RP({},t),{},{scale:a}),r)},tM=()=>fr(nS),OS=(t,r)=>r,rM=(t,r,a)=>a,RS=(t,r,a,s)=>s,Aoe=ct(qd,t=>Gb(t,r=>r.coordinate)),LS=ct([nf,OS,rM,RS],q8),aM=ct([LS,of],PS),Coe=(t,r,a)=>{if(r!=null){var s=nf(t);return r==="axis"?a==="hover"?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:a==="hover"?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}},sM=ct([nf,OS,rM,RS],H8),db=ct([$d,Bd,Yr,sn,qd,RS,sM,Sg],V8),Poe=ct([LS,db],(t,r)=>{var a;return(a=t.coordinate)!==null&&a!==void 0?a:r}),nM=ct(qd,aM,F8),Eoe=ct([sM,aM,t0,ln,nM,Sg,OS],W8),Toe=ct([LS],t=>({isActive:t.active,activeIndex:t.index})),Doe=(t,r,a,s,n,i,o,l)=>{if(!(!t||!r||!s||!n||!i)){var c=ete(t.chartX,t.chartY,r,a,l);if(c){var d=rte(c,r),u=zee(d,o,i,s,n),f=tte(r,i,u,c);return{activeIndex:String(u),activeCoordinate:f}}}};function kN(){return kN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},kN.apply(null,arguments)}function LP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Lx(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?LP(Object(a),!0).forEach(function(s){Ioe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):LP(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Ioe(t,r,a){return(r=Ooe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Ooe(t){var r=Roe(t,"string");return typeof r=="symbol"?r:r+""}function Roe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Loe(t){var{coordinate:r,payload:a,index:s,offset:n,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:d}=t,u=r,f=a,p=s;if(!l||!u||d!=="ScatterChart"&&c!=="axis")return null;var g,x;if(d==="ScatterChart")g=u,x=Qte;else if(d==="BarChart")g=ere(o,u,n,i),x=tL;else if(o==="radial"){var{cx:v,cy:w,radius:j,startAngle:_,endAngle:S}=rL(u);g={cx:v,cy:w,startAngle:_,endAngle:S,innerRadius:j,outerRadius:j},x=sL}else g={points:Fre(o,u,n)},x=hp;var N=typeof l=="object"&&"className"in l?l.className:void 0,C=Lx(Lx(Lx(Lx({stroke:"#ccc",pointerEvents:"none"},n),g),ds(l,!1)),{},{payload:f,payloadIndex:p,className:aa("recharts-tooltip-cursor",N)});return b.isValidElement(l)?b.cloneElement(l,C):b.createElement(x,C)}function Moe(t){var r=_oe(),a=VR(),s=rv(),n=tM();return b.createElement(Loe,kN({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:a,layout:s,tooltipAxisBandSize:r,chartName:n}))}var iM=b.createContext(null),Foe=()=>b.useContext(iM),c1={exports:{}},MP;function $oe(){return MP||(MP=1,(function(t){var r=Object.prototype.hasOwnProperty,a="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(a=!1));function n(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,p){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new n(u,f||c,p),x=a?a+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)r.call(u,f)&&d.push(a?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=a?a+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,g=f.length,x=new Array(g);p<g;p++)x[p]=f[p].fn;return x},l.prototype.listenerCount=function(d){var u=a?a+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,p,g,x){var v=a?a+d:d;if(!this._events[v])return!1;var w=this._events[v],j=arguments.length,_,S;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),j){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,f),!0;case 4:return w.fn.call(w.context,u,f,p),!0;case 5:return w.fn.call(w.context,u,f,p,g),!0;case 6:return w.fn.call(w.context,u,f,p,g,x),!0}for(S=1,_=new Array(j-1);S<j;S++)_[S-1]=arguments[S];w.fn.apply(w.context,_)}else{var N=w.length,C;for(S=0;S<N;S++)switch(w[S].once&&this.removeListener(d,w[S].fn,void 0,!0),j){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,u);break;case 3:w[S].fn.call(w[S].context,u,f);break;case 4:w[S].fn.call(w[S].context,u,f,p);break;default:if(!_)for(C=1,_=new Array(j-1);C<j;C++)_[C-1]=arguments[C];w[S].fn.apply(w[S].context,_)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,p){var g=a?a+d:d;if(!this._events[g])return this;if(!u)return o(this,g),this;var x=this._events[g];if(x.fn)x.fn===u&&(!p||x.once)&&(!f||x.context===f)&&o(this,g);else{for(var v=0,w=[],j=x.length;v<j;v++)(x[v].fn!==u||p&&!x[v].once||f&&x[v].context!==f)&&w.push(x[v]);w.length?this._events[g]=w.length===1?w[0]:w:o(this,g)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=a?a+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=a,l.EventEmitter=l,t.exports=l})(c1)),c1.exports}var Boe=$oe();const Uoe=ml(Boe);var Hp=new Uoe,SN="recharts.syncEvent.tooltip",FP="recharts.syncEvent.brush";function MS(t,r){if(r){var a=Number.parseInt(r,10);if(!Wi(a))return t?.[a]}}var zoe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},oM=Co({name:"options",initialState:zoe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qoe=oM.reducer,{createEventEmitter:Voe}=oM.actions;function Hoe(t){return t.tooltip.syncInteraction}var Woe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},lM=Co({name:"chartData",initialState:Woe,reducers:{setChartData(t,r){if(t.chartData=r.payload,r.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}r.payload.length>0&&t.dataEndIndex!==r.payload.length-1&&(t.dataEndIndex=r.payload.length-1)},setComputedData(t,r){t.computedData=r.payload},setDataStartEndIndexes(t,r){var{startIndex:a,endIndex:s}=r.payload;a!=null&&(t.dataStartIndex=a),s!=null&&(t.dataEndIndex=s)}}}),{setChartData:$P,setDataStartEndIndexes:Goe,setComputedData:fve}=lM.actions,Yoe=lM.reducer,cM=()=>{};function Koe(){var t=fr(iS),r=fr(oS),a=us(),s=fr(r8),n=fr(qd),i=rv(),o=C5(),l=fr(c=>c.rootProps.className);b.useEffect(()=>{if(t==null)return cM;var c=(d,u,f)=>{if(r!==f&&t===d){if(s==="index"){a(u);return}if(n!=null){var p;if(typeof s=="function"){var g={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},x=s(n,g);p=n[x]}else s==="value"&&(p=n.find(D=>String(D.value)===u.payload.label));var{coordinate:v}=u.payload;if(p==null||u.payload.active===!1||v==null||o==null){a(jN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:j}=v,_=Math.min(w,o.x+o.width),S=Math.min(j,o.y+o.height),N={x:i==="horizontal"?p.coordinate:_,y:i==="horizontal"?S:p.coordinate},C=jN({active:u.payload.active,coordinate:N,dataKey:u.payload.dataKey,index:String(p.index),label:u.payload.label});a(C)}}};return Hp.on(SN,c),()=>{Hp.off(SN,c)}},[l,a,r,t,s,n,i,o])}function Joe(){var t=fr(iS),r=fr(oS),a=us();b.useEffect(()=>{if(t==null)return cM;var s=(n,i,o)=>{r!==o&&t===n&&a(Goe(i))};return Hp.on(FP,s),()=>{Hp.off(FP,s)}},[a,r,t])}function Xoe(){var t=us();b.useEffect(()=>{t(Voe())},[t]),Koe(),Joe()}function Zoe(t,r,a,s,n,i){var o=fr(p=>Coe(p,t,r)),l=fr(oS),c=fr(iS),d=fr(r8),u=fr(Hoe),f=u?.active;b.useEffect(()=>{if(!f&&c!=null&&l!=null){var p=jN({active:i,coordinate:a,dataKey:o,index:n,label:typeof s=="number"?String(s):s});Hp.emit(SN,c,p,l)}},[f,a,o,n,s,l,c,d,i])}function BP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function UP(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?BP(Object(a),!0).forEach(function(s){Qoe(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):BP(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Qoe(t,r,a){return(r=ele(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function ele(t){var r=tle(t,"string");return typeof r=="symbol"?r:r+""}function tle(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function rle(t){return t.dataKey}function ale(t,r){return b.isValidElement(t)?b.cloneElement(t,r):typeof t=="function"?b.createElement(t,r):b.createElement(Tte,r)}var zP=[],sle={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!kh.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ou(t){var r=Po(t,sle),{active:a,allowEscapeViewBox:s,animationDuration:n,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:f,reverseDirection:p,useTranslate3d:g,wrapperStyle:x,cursor:v,shared:w,trigger:j,defaultIndex:_,portal:S,axisId:N}=r,C=us(),D=typeof _=="number"?String(_):_;b.useEffect(()=>{C(Iie({shared:w,trigger:j,axisId:N,active:a,defaultIndex:D}))},[C,w,j,N,a,D]);var U=C5(),z=YR(),E=Cie(w),{activeIndex:I,isActive:T}=fr(pe=>Toe(pe,E,j,D)),F=fr(pe=>Eoe(pe,E,j,D)),Y=fr(pe=>nM(pe,E,j,D)),O=fr(pe=>Poe(pe,E,j,D)),q=F,$=Foe(),K=a??T,[J,X]=dR([q,K]),be=E==="axis"?Y:void 0;Zoe(E,j,O,be,I,K);var te=S??$;if(te==null)return null;var R=q??zP;K||(R=zP),l&&R.length&&(R=nR(q.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),u,rle));var ae=R.length>0,W=b.createElement(Fte,{allowEscapeViewBox:s,animationDuration:n,animationEasing:i,isAnimationActive:c,active:K,coordinate:O,hasPayload:ae,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:U,wrapperStyle:x,lastBoundingBox:J,innerRef:X,hasPortalFromProps:!!S},ale(o,UP(UP({},r),{},{payload:R,label:be,active:K,coordinate:O,accessibilityLayer:z})));return b.createElement(b.Fragment,null,_a.createPortal(W,te),K&&b.createElement(Moe,{cursor:v,tooltipEventType:E,coordinate:O,payload:q,index:I}))}var d1={},u1={},h1={},qP;function nle(){return qP||(qP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a,s,{signal:n,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{l!==null&&(a.apply(o,l),o=void 0,l=null)},f=()=>{d&&u(),v()};let p=null;const g=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},s)},x=()=>{p!==null&&(clearTimeout(p),p=null)},v=()=>{x(),o=void 0,l=null},w=()=>{u()},j=function(..._){if(n?.aborted)return;o=this,l=_;const S=p==null;g(),c&&S&&u()};return j.schedule=g,j.cancel=v,j.flush=w,n?.addEventListener("abort",v,{once:!0}),j}t.debounce=r})(h1)),h1}var VP;function ile(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=nle();function a(s,n=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let u,f=null;const p=r.debounce(function(...v){u=s.apply(this,v),f=null},n,{edges:d}),g=function(...v){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=s.apply(this,v),f=Date.now(),p.cancel(),p.schedule(),u):(p.apply(this,v),u)},x=()=>(p.flush(),u);return g.cancel=p.cancel,g.flush=x,g}t.debounce=a})(u1)),u1}var HP;function ole(){return HP||(HP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=ile();function a(s,n=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return r.debounce(s,n,{leading:o,maxWait:n,trailing:l})}t.throttle=a})(d1)),d1}var m1,WP;function lle(){return WP||(WP=1,m1=ole().throttle),m1}var cle=lle();const dle=ml(cle);var mp=function(r,a){for(var s=arguments.length,n=new Array(s>2?s-2:0),i=2;i<s;i++)n[i-2]=arguments[i]};function GP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function f1(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?GP(Object(a),!0).forEach(function(s){ule(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):GP(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function ule(t,r,a){return(r=hle(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function hle(t){var r=mle(t,"string");return typeof r=="symbol"?r:r+""}function mle(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Ru=b.forwardRef((t,r)=>{var{aspect:a,initialDimension:s={width:-1,height:-1},width:n="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:f,className:p,onResize:g,style:x={}}=t,v=b.useRef(null),w=b.useRef();w.current=g,b.useImperativeHandle(r,()=>v.current);var[j,_]=b.useState({containerWidth:s.width,containerHeight:s.height}),S=b.useCallback((C,D)=>{_(U=>{var z=Math.round(C),E=Math.round(D);return U.containerWidth===z&&U.containerHeight===E?U:{containerWidth:z,containerHeight:E}})},[]);b.useEffect(()=>{var C=E=>{var I,{width:T,height:F}=E[0].contentRect;S(T,F),(I=w.current)===null||I===void 0||I.call(w,T,F)};u>0&&(C=dle(C,u,{trailing:!0,leading:!1}));var D=new ResizeObserver(C),{width:U,height:z}=v.current.getBoundingClientRect();return S(U,z),D.observe(v.current),()=>{D.disconnect()}},[S,u]);var N=b.useMemo(()=>{var{containerWidth:C,containerHeight:D}=j;if(C<0||D<0)return null;mp(H0(n)||H0(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,n,i),mp(!a||a>0,"The aspect(%s) must be greater than zero.",a);var U=H0(n)?C:n,z=H0(i)?D:i;return a&&a>0&&(U?z=U/a:z&&(U=z*a),c&&z>c&&(z=c)),mp(U>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,z,n,i,o,l,a),b.Children.map(d,E=>b.cloneElement(E,{width:U,height:z,style:f1({width:U,height:z},E.props.style)}))},[a,d,i,c,l,o,j,n]);return b.createElement("div",{id:f?"".concat(f):void 0,className:aa("recharts-responsive-container",p),style:f1(f1({},x),{},{width:n,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:v},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))}),bh=t=>null;bh.displayName="Cell";function fle(t,r,a){return(r=ple(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function ple(t){var r=gle(t,"string");return typeof r=="symbol"?r:r+""}function gle(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class xle{constructor(r){fle(this,"cache",new Map),this.maxSize=r}get(r){var a=this.cache.get(r);return a!==void 0&&(this.cache.delete(r),this.cache.set(r,a)),a}set(r,a){if(this.cache.has(r))this.cache.delete(r);else if(this.cache.size>=this.maxSize){var s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(r,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function YP(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function yle(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?YP(Object(a),!0).forEach(function(s){ble(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):YP(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function ble(t,r,a){return(r=vle(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function vle(t){var r=wle(t,"string");return typeof r=="symbol"?r:r+""}function wle(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var jle={cacheSize:2e3,enableCache:!0},dM=yle({},jle),KP=new xle(dM.cacheSize),Nle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JP="recharts_measurement_span";function kle(t,r){var a=r.fontSize||"",s=r.fontFamily||"",n=r.fontWeight||"",i=r.fontStyle||"",o=r.letterSpacing||"",l=r.textTransform||"";return"".concat(t,"|").concat(a,"|").concat(s,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(l)}var XP=(t,r)=>{try{var a=document.getElementById(JP);a||(a=document.createElement("span"),a.setAttribute("id",JP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,Nle,r),a.textContent="".concat(t);var s=a.getBoundingClientRect();return{width:s.width,height:s.height}}catch{return{width:0,height:0}}},fp=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||kh.isSsr)return{width:0,height:0};if(!dM.enableCache)return XP(r,a);var s=kle(r,a),n=KP.get(s);if(n)return n;var i=XP(r,a);return KP.set(s,i),i},ZP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sle=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_le=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ale=Object.keys(uM),bm="NaN";function Cle(t,r){return t*uM[r]}class Fi{static parse(r){var a,[,s,n]=(a=_le.exec(r))!==null&&a!==void 0?a:[];return new Fi(parseFloat(s),n??"")}constructor(r,a){this.num=r,this.unit=a,this.num=r,this.unit=a,Wi(r)&&(this.unit=""),a!==""&&!Sle.test(a)&&(this.num=NaN,this.unit=""),Ale.includes(a)&&(this.num=Cle(r,a),this.unit="px")}add(r){return this.unit!==r.unit?new Fi(NaN,""):new Fi(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new Fi(NaN,""):new Fi(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new Fi(NaN,""):new Fi(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new Fi(NaN,""):new Fi(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Wi(this.num)}}function hM(t){if(t.includes(bm))return bm;for(var r=t;r.includes("*")||r.includes("/");){var a,[,s,n,i]=(a=ZP.exec(r))!==null&&a!==void 0?a:[],o=Fi.parse(s??""),l=Fi.parse(i??""),c=n==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return bm;r=r.replace(ZP,c.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var d,[,u,f,p]=(d=QP.exec(r))!==null&&d!==void 0?d:[],g=Fi.parse(u??""),x=Fi.parse(p??""),v=f==="+"?g.add(x):g.subtract(x);if(v.isNaN())return bm;r=r.replace(QP,v.toString())}return r}var eE=/\(([^()]*)\)/;function Ple(t){for(var r=t,a;(a=eE.exec(r))!=null;){var[,s]=a;r=r.replace(eE,hM(s))}return r}function Ele(t){var r=t.replace(/\s+/g,"");return r=Ple(r),r=hM(r),r}function Tle(t){try{return Ele(t)}catch{return bm}}function p1(t){var r=Tle(t.slice(5,-1));return r===bm?"":r}var Dle=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ile=["dx","dy","angle","className","breakAll"];function _N(){return _N=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},_N.apply(null,arguments)}function tE(t,r){if(t==null)return{};var a,s,n=Ole(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Ole(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var mM=/[ \f\n\r\t\v\u2028\u2029]+/,fM=t=>{var{children:r,breakAll:a,style:s}=t;try{var n=[];Za(r)||(a?n=r.toString().split(""):n=r.toString().split(mM));var i=n.map(l=>({word:l,width:fp(l,s).width})),o=a?0:fp("",s).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},Rle=(t,r,a,s,n)=>{var{maxLines:i,children:o,style:l,breakAll:c}=t,d=Gt(i),u=o,f=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce((F,Y)=>{var{word:O,width:q}=Y,$=F[F.length-1];if($&&(s==null||n||$.width+q+a<Number(s)))$.words.push(O),$.width+=q+a;else{var K={words:[O],width:q};F.push(K)}return F},[])},p=f(r),g=I=>I.reduce((T,F)=>T.width>F.width?T:F);if(!d||n)return p;var x=p.length>i||g(p).width>Number(s);if(!x)return p;for(var v="",w=I=>{var T=u.slice(0,I),F=fM({breakAll:c,style:l,children:T+v}).wordsWithComputedWidth,Y=f(F),O=Y.length>i||g(Y).width>Number(s);return[O,Y]},j=0,_=u.length-1,S=0,N;j<=_&&S<=u.length-1;){var C=Math.floor((j+_)/2),D=C-1,[U,z]=w(D),[E]=w(C);if(!U&&!E&&(j=C+1),U&&E&&(_=C-1),!U&&E){N=z;break}S++}return N||p},rE=t=>{var r=Za(t)?[]:t.toString().split(mM);return[{words:r}]},Lle=t=>{var{width:r,scaleToFit:a,children:s,style:n,breakAll:i,maxLines:o}=t;if((r||a)&&!kh.isSsr){var l,c,d=fM({breakAll:i,children:s,style:n});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;l=u,c=f}else return rE(s);return Rle({breakAll:i,children:s,maxLines:o,style:n},l,c,r,a)}return rE(s)},aE="#808080",wv=b.forwardRef((t,r)=>{var{x:a=0,y:s=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=aE}=t,u=tE(t,Dle),f=b.useMemo(()=>Lle({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:p,dy:g,angle:x,className:v,breakAll:w}=u,j=tE(u,Ile);if(!Cc(a)||!Cc(s))return null;var _=a+(Gt(p)?p:0),S=s+(Gt(g)?g:0),N;switch(c){case"start":N=p1("calc(".concat(i,")"));break;case"middle":N=p1("calc(".concat((f.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:N=p1("calc(".concat(f.length-1," * -").concat(n,")"));break}var C=[];if(o){var D=f[0].width,{width:U}=u;C.push("scale(".concat(Gt(U)?U/D:1,")"))}return x&&C.push("rotate(".concat(x,", ").concat(_,", ").concat(S,")")),C.length&&(j.transform=C.join(" ")),b.createElement("text",_N({},ds(j,!0),{ref:r,x:_,y:S,className:aa("recharts-text",v),textAnchor:l,fill:d.includes("url")?aE:d}),f.map((z,E)=>{var I=z.words.join(w?"":" ");return b.createElement("tspan",{x:_,dy:E===0?N:n,key:"".concat(I,"-").concat(E)},I)}))});wv.displayName="Text";var Mle=["offset"],Fle=["labelRef"];function sE(t,r){if(t==null)return{};var a,s,n=$le(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function $le(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function nE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function vs(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?nE(Object(a),!0).forEach(function(s){Ble(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):nE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Ble(t,r,a){return(r=Ule(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Ule(t){var r=zle(t,"string");return typeof r=="symbol"?r:r+""}function zle(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},gd.apply(null,arguments)}var qle=t=>{var{value:r,formatter:a}=t,s=Za(t.children)?r:t.children;return typeof a=="function"?a(s):s},FS=t=>t!=null&&typeof t=="function",Vle=(t,r)=>{var a=vn(r-t),s=Math.min(Math.abs(r-t),360);return a*s},Hle=(t,r,a,s)=>{var{position:n,offset:i,className:o}=t,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:f,endAngle:p,clockWise:g}=s,x=(d+u)/2,v=Vle(f,p),w=v>=0?1:-1,j,_;n==="insideStart"?(j=f+w*i,_=g):n==="insideEnd"?(j=p-w*i,_=!g):n==="end"&&(j=p+w*i,_=g),_=v<=0?_:!_;var S=Ws(l,c,x,j),N=Ws(l,c,x,j+(_?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(N.x,",").concat(N.y),D=Za(t.id)?Op("recharts-radial-line-"):t.id;return b.createElement("text",gd({},a,{dominantBaseline:"central",className:aa("recharts-radial-bar-label",o)}),b.createElement("defs",null,b.createElement("path",{id:D,d:C})),b.createElement("textPath",{xlinkHref:"#".concat(D)},r))},Wle=(t,r,a)=>{var{cx:s,cy:n,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=t,d=(l+c)/2;if(a==="outside"){var{x:u,y:f}=Ws(s,n,o+r,d);return{x:u,y:f,textAnchor:u>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:n,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:n,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:g,y:x}=Ws(s,n,p,d);return{x:g,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Gle=(t,r)=>{var{parentViewBox:a,offset:s,position:n}=t,{x:i,y:o,width:l,height:c}=r,d=c>=0?1:-1,u=d*s,f=d>0?"end":"start",p=d>0?"start":"end",g=l>=0?1:-1,x=g*s,v=g>0?"end":"start",w=g>0?"start":"end";if(n==="top"){var j={x:i+l/2,y:o-d*s,textAnchor:"middle",verticalAnchor:f};return vs(vs({},j),a?{height:Math.max(o-a.y,0),width:l}:{})}if(n==="bottom"){var _={x:i+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:p};return vs(vs({},_),a?{height:Math.max(a.y+a.height-(o+c),0),width:l}:{})}if(n==="left"){var S={x:i-x,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return vs(vs({},S),a?{width:Math.max(S.x-a.x,0),height:c}:{})}if(n==="right"){var N={x:i+l+x,y:o+c/2,textAnchor:w,verticalAnchor:"middle"};return vs(vs({},N),a?{width:Math.max(a.x+a.width-N.x,0),height:c}:{})}var C=a?{width:l,height:c}:{};return n==="insideLeft"?vs({x:i+x,y:o+c/2,textAnchor:w,verticalAnchor:"middle"},C):n==="insideRight"?vs({x:i+l-x,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},C):n==="insideTop"?vs({x:i+l/2,y:o+u,textAnchor:"middle",verticalAnchor:p},C):n==="insideBottom"?vs({x:i+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:f},C):n==="insideTopLeft"?vs({x:i+x,y:o+u,textAnchor:w,verticalAnchor:p},C):n==="insideTopRight"?vs({x:i+l-x,y:o+u,textAnchor:v,verticalAnchor:p},C):n==="insideBottomLeft"?vs({x:i+x,y:o+c-u,textAnchor:w,verticalAnchor:f},C):n==="insideBottomRight"?vs({x:i+l-x,y:o+c-u,textAnchor:v,verticalAnchor:f},C):n&&typeof n=="object"&&(Gt(n.x)||H0(n.x))&&(Gt(n.y)||H0(n.y))?vs({x:i+vi(n.x,l),y:o+vi(n.y,c),textAnchor:"end",verticalAnchor:"end"},C):vs({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},C)},Yle=t=>"cx"in t&&Gt(t.cx);function vo(t){var{offset:r=5}=t,a=sE(t,Mle),s=vs({offset:r},a),{viewBox:n,position:i,value:o,children:l,content:c,className:d="",textBreakAll:u,labelRef:f}=s,p=fr(o8),g=C5(),x=i==="center"?g:p??g,v=n||x;if(!v||Za(o)&&Za(l)&&!b.isValidElement(c)&&typeof c!="function")return null;var w=vs(vs({},s),{},{viewBox:v});if(b.isValidElement(c)){var{labelRef:j}=w,_=sE(w,Fle);return b.cloneElement(c,_)}var S;if(typeof c=="function"){if(S=b.createElement(c,w),b.isValidElement(S))return S}else S=qle(s);var N=Yle(v),C=ds(s,!0);if(N&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Hle(s,S,C,v);var D=N?Wle(v,s.offset,s.position):Gle(s,v);return b.createElement(wv,gd({ref:f,className:aa("recharts-label",d)},C,D,{breakAll:u}),S)}vo.displayName="Label";var pM=t=>{var{cx:r,cy:a,angle:s,startAngle:n,endAngle:i,r:o,radius:l,innerRadius:c,outerRadius:d,x:u,y:f,top:p,left:g,width:x,height:v,clockWise:w,labelViewBox:j}=t;if(j)return j;if(Gt(x)&&Gt(v)){if(Gt(u)&&Gt(f))return{x:u,y:f,width:x,height:v};if(Gt(p)&&Gt(g))return{x:p,y:g,width:x,height:v}}if(Gt(u)&&Gt(f))return{x:u,y:f,width:0,height:0};if(Gt(r)&&Gt(a))return{cx:r,cy:a,startAngle:n||s||0,endAngle:i||s||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:w};if(t.viewBox)return t.viewBox},Kle=(t,r,a)=>{if(!t)return null;var s={viewBox:r,labelRef:a};return t===!0?b.createElement(vo,gd({key:"label-implicit"},s)):Cc(t)?b.createElement(vo,gd({key:"label-implicit",value:t},s)):b.isValidElement(t)?t.type===vo?b.cloneElement(t,vs({key:"label-implicit"},s)):b.createElement(vo,gd({key:"label-implicit",content:t},s)):FS(t)?b.createElement(vo,gd({key:"label-implicit",content:t},s)):t&&typeof t=="object"?b.createElement(vo,gd({},t,{key:"label-implicit"},s)):null},Jle=function(r,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&s&&!r.label)return null;var{children:n,labelRef:i}=r,o=pM(r),l=mg(n,vo).map((d,u)=>b.cloneElement(d,{viewBox:a||o,key:"label-".concat(u)}));if(!s)return l;var c=Kle(r.label,a||o,i);return[c,...l]};vo.parseViewBox=pM;vo.renderCallByParent=Jle;var g1={},x1={},iE;function Xle(){return iE||(iE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return a[a.length-1]}t.last=r})(x1)),x1}var y1={},oE;function Zle(){return oE||(oE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return Array.isArray(a)?a:Array.from(a)}t.toArray=r})(y1)),y1}var lE;function Qle(){return lE||(lE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=Xle(),a=Zle(),s=p5();function n(i){if(s.isArrayLike(i))return r.last(a.toArray(i))}t.last=n})(g1)),g1}var b1,cE;function ece(){return cE||(cE=1,b1=Qle().last),b1}var tce=ece();const rce=ml(tce);var ace=["valueAccessor"],sce=["data","dataKey","clockWise","id","textBreakAll"];function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},ub.apply(null,arguments)}function dE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function uE(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?dE(Object(a),!0).forEach(function(s){nce(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):dE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function nce(t,r,a){return(r=ice(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function ice(t){var r=oce(t,"string");return typeof r=="symbol"?r:r+""}function oce(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function hE(t,r){if(t==null)return{};var a,s,n=lce(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function lce(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var cce=t=>Array.isArray(t.value)?rce(t.value):t.value;function Uu(t){var{valueAccessor:r=cce}=t,a=hE(t,ace),{data:s,dataKey:n,clockWise:i,id:o,textBreakAll:l}=a,c=hE(a,sce);return!s||!s.length?null:b.createElement(an,{className:"recharts-label-list"},s.map((d,u)=>{var f=Za(n)?r(d,u):Aa(d&&d.payload,n),p=Za(o)?{}:{id:"".concat(o,"-").concat(u)};return b.createElement(vo,ub({},ds(d,!0),c,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:l,viewBox:vo.parseViewBox(Za(i)?d:uE(uE({},d),{},{clockWise:i})),key:"label-".concat(u),index:u}))}))}Uu.displayName="LabelList";function dce(t,r){return t?t===!0?b.createElement(Uu,{key:"labelList-implicit",data:r}):b.isValidElement(t)||FS(t)?b.createElement(Uu,{key:"labelList-implicit",data:r,content:t}):typeof t=="object"?b.createElement(Uu,ub({data:r},t,{key:"labelList-implicit"})):null:null}function uce(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var{children:s}=t,n=mg(s,Uu).map((o,l)=>b.cloneElement(o,{data:r,key:"labelList-".concat(l)}));if(!a)return n;var i=dce(t.label,r);return[i,...n]}Uu.renderCallByParent=uce;function AN(){return AN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},AN.apply(null,arguments)}var gM=t=>{var{cx:r,cy:a,r:s,className:n}=t,i=aa("recharts-dot",n);return r===+r&&a===+a&&s===+s?b.createElement("circle",AN({},Ec(t),o5(t),{className:i,cx:r,cy:a,r:s})):null},xM=t=>t.graphicalItems.polarItems,hce=ct([Qa,wg],hS),$S=ct([xM,Ms,hce],mS),mce=ct([$S],fS),BS=ct([mce,rS],pS),fce=ct([BS,Ms,$S],xS),pce=ct([BS,Ms,$S],(t,r,a)=>a.length>0?t.flatMap(s=>a.flatMap(n=>{var i,o=Aa(s,(i=r.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):r?.dataKey!=null?t.map(s=>({value:Aa(s,r.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]}))),mE=()=>{},gce=ct([Ms,k8,mE,pce,mE,Yr,Qa],bS),yM=ct([Ms,Yr,BS,fce,vg,Qa,gce],vS),xce=ct([yM,Ms,af],NS);ct([Ms,yM,xce,Qa],SS);var yce={radiusAxis:{},angleAxis:{}},bM=Co({name:"polarAxis",initialState:yce,reducers:{addRadiusAxis(t,r){t.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(t,r){delete t.radiusAxis[r.payload.id]},addAngleAxis(t,r){t.angleAxis[r.payload.id]=r.payload},removeAngleAxis(t,r){delete t.angleAxis[r.payload.id]}}}),{addRadiusAxis:pve,removeRadiusAxis:gve,addAngleAxis:xve,removeAngleAxis:yve}=bM.actions,bce=bM.reducer;function fE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function pE(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?fE(Object(a),!0).forEach(function(s){vce(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):fE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function vce(t,r,a){return(r=wce(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function wce(t){var r=jce(t,"string");return typeof r=="symbol"?r:r+""}function jce(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Nce=(t,r)=>r,US=ct([xM,Nce],(t,r)=>t.filter(a=>a.type==="pie").find(a=>a.id===r)),kce=[],zS=(t,r,a)=>a?.length===0?kce:a,vM=ct([rS,US,zS],(t,r,a)=>{var{chartData:s}=t;if(r!=null){var n;if(r?.data!=null&&r.data.length>0?n=r.data:n=s,(!n||!n.length)&&a!=null&&(n=a.map(i=>pE(pE({},r.presentationProps),i.props))),n!=null)return n}}),Sce=ct([vM,US,zS],(t,r,a)=>{if(!(t==null||r==null))return t.map((s,n)=>{var i,o=Aa(s,r.nameKey,r.name),l;return a!=null&&(i=a[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=a[n].props.fill:typeof s=="object"&&s!=null&&"fill"in s?l=s.fill:l=r.fill,{value:Xm(o,r.dataKey),color:l,payload:s,type:r.legendType}})}),_ce=ct([vM,US,zS,sn],(t,r,a,s)=>{if(!(r==null||t==null))return bde({offset:s,pieSettings:r,displayedData:t,cells:a})}),v1={},gE;function Ace(){return gE||(gE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const n=a[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${n}]`}let s=a;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(a)===s}t.isPlainObject=r})(v1)),v1}var w1,xE;function Cce(){return xE||(xE=1,w1=Ace().isPlainObject),w1}var Pce=Cce();const Ece=ml(Pce);function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},hb.apply(null,arguments)}var yE=(t,r,a,s,n)=>{var i=a-s,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+a,",").concat(r),o+="L ".concat(t+a-i/2,",").concat(r+n),o+="L ".concat(t+a-i/2-s,",").concat(r+n),o+="L ".concat(t,",").concat(r," Z"),o},Tce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dce=t=>{var r=Po(t,Tce),a=b.useRef(),[s,n]=b.useState(-1);b.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var w=a.current.getTotalLength();w&&n(w)}catch{}},[]);var{x:i,y:o,upperWidth:l,lowerWidth:c,height:d,className:u}=r,{animationEasing:f,animationDuration:p,animationBegin:g,isUpdateAnimationActive:x}=r;if(i!==+i||o!==+o||l!==+l||c!==+c||d!==+d||l===0&&c===0||d===0)return null;var v=aa("recharts-trapezoid",u);return x?b.createElement(Jy,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:i,y:o},to:{upperWidth:l,lowerWidth:c,height:d,x:i,y:o},duration:p,animationEasing:f,isActive:x},w=>{var{upperWidth:j,lowerWidth:_,height:S,x:N,y:C}=w;return b.createElement(Jy,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:f},b.createElement("path",hb({},ds(r,!0),{className:v,d:yE(N,C,j,_,S),ref:a})))}):b.createElement("g",null,b.createElement("path",hb({},ds(r,!0),{className:v,d:yE(i,o,l,c,d)})))},Ice=["option","shapeType","propTransformer","activeClassName","isActive"];function Oce(t,r){if(t==null)return{};var a,s,n=Rce(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Rce(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function bE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function mb(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?bE(Object(a),!0).forEach(function(s){Lce(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):bE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Lce(t,r,a){return(r=Mce(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Mce(t){var r=Fce(t,"string");return typeof r=="symbol"?r:r+""}function Fce(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function $ce(t,r){return mb(mb({},r),t)}function Bce(t,r){return t==="symbols"}function vE(t){var{shapeType:r,elementProps:a}=t;switch(r){case"rectangle":return b.createElement(tL,a);case"trapezoid":return b.createElement(Dce,a);case"sector":return b.createElement(sL,a);case"symbols":if(Bce(r))return b.createElement(h5,a);break;default:return null}}function Uce(t){return b.isValidElement(t)?t.props:t}function wM(t){var{option:r,shapeType:a,propTransformer:s=$ce,activeClassName:n="recharts-active-shape",isActive:i}=t,o=Oce(t,Ice),l;if(b.isValidElement(r))l=b.cloneElement(r,mb(mb({},o),Uce(r)));else if(typeof r=="function")l=r(o);else if(Ece(r)&&typeof r!="boolean"){var c=s(r,o);l=b.createElement(vE,{shapeType:a,elementProps:c})}else{var d=o;l=b.createElement(vE,{shapeType:a,elementProps:d})}return i?b.createElement(an,{className:n},l):l}var qS=(t,r)=>{var a=us();return(s,n)=>i=>{t?.(s,n,i),a(B8({activeIndex:String(n),activeDataKey:r,activeCoordinate:s.tooltipPosition}))}},VS=t=>{var r=us();return(a,s)=>n=>{t?.(a,s,n),r(Oie())}},HS=(t,r)=>{var a=us();return(s,n)=>i=>{t?.(s,n,i),a(Rie({activeIndex:String(n),activeDataKey:r,activeCoordinate:s.tooltipPosition}))}};function WS(t){var{fn:r,args:a}=t,s=us(),n=Ki();return b.useEffect(()=>{if(!n){var i=r(a);return s(Tie(i)),()=>{s(Die(i))}}},[r,a,s,n]),null}var jM=()=>{};function NM(t){var{legendPayload:r}=t,a=us(),s=Ki();return b.useEffect(()=>s?jM:(a(WR(r)),()=>{a(GR(r))}),[a,s,r]),null}function zce(t){var{legendPayload:r}=t,a=us(),s=fr(Yr);return b.useEffect(()=>s!=="centric"&&s!=="radial"?jM:(a(WR(r)),()=>{a(GR(r))}),[a,s,r]),null}function GS(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=b.useRef(Op(r)),s=b.useRef(t);return s.current!==t&&(a.current=Op(r),s.current=t),a.current}var j1,qce=()=>{var[t]=b.useState(()=>Op("uid-"));return t},Vce=(j1=y$.useId)!==null&&j1!==void 0?j1:qce;function Hce(t,r){var a=Vce();return r||(t?"".concat(t,"-").concat(a):a)}var Wce=b.createContext(void 0),YS=t=>{var{id:r,type:a,children:s}=t,n=Hce("recharts-".concat(a),r);return b.createElement(Wce.Provider,{value:n},s(n))},Gce={cartesianItems:[],polarItems:[]},kM=Co({name:"graphicalItems",initialState:Gce,reducers:{addCartesianGraphicalItem(t,r){t.cartesianItems.push(r.payload)},replaceCartesianGraphicalItem(t,r){var{prev:a,next:s}=r.payload,n=Sd(t).cartesianItems.indexOf(a);n>-1&&(t.cartesianItems[n]=s)},removeCartesianGraphicalItem(t,r){var a=Sd(t).cartesianItems.indexOf(r.payload);a>-1&&t.cartesianItems.splice(a,1)},addPolarGraphicalItem(t,r){t.polarItems.push(r.payload)},removePolarGraphicalItem(t,r){var a=Sd(t).polarItems.indexOf(r.payload);a>-1&&t.polarItems.splice(a,1)}}}),{addCartesianGraphicalItem:Yce,replaceCartesianGraphicalItem:Kce,removeCartesianGraphicalItem:Jce,addPolarGraphicalItem:Xce,removePolarGraphicalItem:Zce}=kM.actions,Qce=kM.reducer;function SM(t){var r=us(),a=b.useRef(null);return b.useEffect(()=>{a.current===null?r(Yce(t)):a.current!==t&&r(Kce({prev:a.current,next:t})),a.current=t},[r,t]),b.useEffect(()=>()=>{a.current&&(r(Jce(a.current)),a.current=null)},[r]),null}function ede(t){var r=us();return b.useEffect(()=>(r(Xce(t)),()=>{r(Zce(t))}),[r,t]),null}function tde(){}var rde={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wE={t:0},N1={t:1};function KS(t){var r=Po(t,rde),{isActive:a,canBegin:s,duration:n,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:d}=r,u=eL("JavascriptAnimate",r.animationManager),[f,p]=b.useState(a?wE:N1),g=b.useRef(null);return b.useEffect(()=>{a||p(N1)},[a]),b.useEffect(()=>{if(!a||!s)return tde;var x=QR(wE,N1,XR(i),n,p,u.getTimeoutController()),v=()=>{g.current=x()};return u.start([c,o,v,n,l]),()=>{u.stop(),g.current&&g.current(),l()}},[a,s,n,i,o,c,l,u]),d(f.t)}var ade=["onMouseEnter","onClick","onMouseLeave"],sde=["id"],nde=["id"];function JS(t,r){if(t==null)return{};var a,s,n=ide(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function ide(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function jE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function ks(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?jE(Object(a),!0).forEach(function(s){ode(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):jE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function ode(t,r,a){return(r=lde(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function lde(t){var r=cde(t,"string");return typeof r=="symbol"?r:r+""}function cde(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Ld.apply(null,arguments)}function dde(t){var r=b.useMemo(()=>mg(t.children,bh),[t.children]),a=fr(s=>Sce(s,t.id,r));return a==null?null:b.createElement(zce,{legendPayload:a})}function ude(t){var{dataKey:r,nameKey:a,sectors:s,stroke:n,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:d}=t;return{dataDefinedOnItem:s?.map(u=>u.tooltipPayload),positions:s?.map(u=>u.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:o,dataKey:r,nameKey:a,name:Xm(l,r),hide:c,type:d,color:o,unit:""}}}var hde=(t,r)=>t>r?"start":t<r?"end":"middle",mde=(t,r,a)=>typeof r=="function"?r(t):vi(r,a,a*.8),fde=(t,r,a)=>{var{top:s,left:n,width:i,height:o}=r,l=RR(i,o),c=n+vi(t.cx,i,i/2),d=s+vi(t.cy,o,o/2),u=vi(t.innerRadius,l,0),f=mde(a,t.outerRadius,l),p=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:f,maxRadius:p}},pde=(t,r)=>{var a=vn(r-t),s=Math.min(Math.abs(r-t),360);return a*s},gde=(t,r)=>{if(b.isValidElement(t))return b.cloneElement(t,r);if(typeof t=="function")return t(r);var a=aa("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return b.createElement(hp,Ld({},r,{type:"linear",className:a}))},xde=(t,r,a)=>{if(b.isValidElement(t))return b.cloneElement(t,r);var s=a;if(typeof t=="function"&&(s=t(r),b.isValidElement(s)))return s;var n=aa("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return b.createElement(wv,Ld({},r,{alignmentBaseline:"middle",className:n}),s)};function yde(t){var{sectors:r,props:a,showLabels:s}=t,{label:n,labelLine:i,dataKey:o}=a;if(!s||!n||!r)return null;var l=Ec(a),c=ds(n,!1),d=ds(i,!1),u=typeof n=="object"&&"offsetRadius"in n&&n.offsetRadius||20,f=r.map((p,g)=>{var x=(p.startAngle+p.endAngle)/2,v=Ws(p.cx,p.cy,p.outerRadius+u,x),w=ks(ks(ks(ks({},l),p),{},{stroke:"none"},c),{},{index:g,textAnchor:hde(v.x,p.cx)},v),j=ks(ks(ks(ks({},l),p),{},{fill:"none",stroke:p.fill},d),{},{index:g,points:[Ws(p.cx,p.cy,p.outerRadius,x),v],key:"line"});return b.createElement(an,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},i&&gde(i,j),xde(n,w,Aa(p,o)))});return b.createElement(an,{className:"recharts-pie-labels"},f)}function _M(t){var{sectors:r,activeShape:a,inactiveShape:s,allOtherPieProps:n,showLabels:i}=t,o=fr(Ku),{onMouseEnter:l,onClick:c,onMouseLeave:d}=n,u=JS(n,ade),f=qS(l,n.dataKey),p=VS(d),g=HS(c,n.dataKey);return r==null?null:b.createElement(b.Fragment,null,r.map((x,v)=>{if(x?.startAngle===0&&x?.endAngle===0&&r.length!==1)return null;var w=a&&String(v)===o,j=o?s:null,_=w?a:j,S=ks(ks({},x),{},{stroke:x.stroke,tabIndex:-1,[UR]:v,[zR]:n.dataKey});return b.createElement(an,Ld({tabIndex:-1,className:"recharts-pie-sector"},hg(u,x,v),{onMouseEnter:f(x,v),onMouseLeave:p(x,v),onClick:g(x,v),key:"sector-".concat(x?.startAngle,"-").concat(x?.endAngle,"-").concat(x.midAngle,"-").concat(v)}),b.createElement(wM,Ld({option:_,isActive:w,shapeType:"sector"},S)))}),b.createElement(yde,{sectors:r,props:n,showLabels:i}))}function bde(t){var r,{pieSettings:a,displayedData:s,cells:n,offset:i}=t,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:d,nameKey:u,tooltipType:f}=a,p=Math.abs(a.minAngle),g=pde(l,c),x=Math.abs(g),v=s.length<=1?0:(r=a.paddingAngle)!==null&&r!==void 0?r:0,w=s.filter(D=>Aa(D,d,0)!==0).length,j=(x>=360?w:w-1)*v,_=x-w*p-j,S=s.reduce((D,U)=>{var z=Aa(U,d,0);return D+(Gt(z)?z:0)},0),N;if(S>0){var C;N=s.map((D,U)=>{var z=Aa(D,d,0),E=Aa(D,u,U),I=fde(a,i,D),T=(Gt(z)?z:0)/S,F,Y=ks(ks({},D),n&&n[U]&&n[U].props);U?F=C.endAngle+vn(g)*v*(z!==0?1:0):F=l;var O=F+vn(g)*((z!==0?p:0)+T*_),q=(F+O)/2,$=(I.innerRadius+I.outerRadius)/2,K=[{name:E,value:z,payload:Y,dataKey:d,type:f}],J=Ws(I.cx,I.cy,$,q);return C=ks(ks(ks(ks({},a.presentationProps),{},{percent:T,cornerRadius:o,name:E,tooltipPayload:K,midAngle:q,middleRadius:$,tooltipPosition:J},Y),I),{},{value:Aa(D,d),startAngle:F,endAngle:O,payload:Y,paddingAngle:vn(g)*v}),C})}return N}function vde(t){var{props:r,previousSectorsRef:a}=t,{sectors:s,isAnimationActive:n,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:f}=r,p=GS(r,"recharts-pie-"),g=a.current,[x,v]=b.useState(!0),w=b.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),j=b.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return b.createElement(KS,{begin:i,duration:o,isActive:n,easing:l,onAnimationStart:j,onAnimationEnd:w,key:p},_=>{var S=[],N=s&&s[0],C=N.startAngle;return s.forEach((D,U)=>{var z=g&&g[U],E=U>0?Wu(D,"paddingAngle",0):0;if(z){var I=GA(z.endAngle-z.startAngle,D.endAngle-D.startAngle),T=ks(ks({},D),{},{startAngle:C+E,endAngle:C+I(_)+E});S.push(T),C=T.endAngle}else{var{endAngle:F,startAngle:Y}=D,O=GA(0,F-Y),q=O(_),$=ks(ks({},D),{},{startAngle:C+E,endAngle:C+q+E});S.push($),C=$.endAngle}}),a.current=S,b.createElement(an,null,b.createElement(_M,{sectors:S,activeShape:c,inactiveShape:d,allOtherPieProps:r,showLabels:!x}))})}function wde(t){var{sectors:r,isAnimationActive:a,activeShape:s,inactiveShape:n}=t,i=b.useRef(null),o=i.current;return a&&r&&r.length&&(!o||o!==r)?b.createElement(vde,{props:t,previousSectorsRef:i}):b.createElement(_M,{sectors:r,activeShape:s,inactiveShape:n,allOtherPieProps:t,showLabels:!0})}function jde(t){var{hide:r,className:a,rootTabIndex:s}=t,n=aa("recharts-pie",a);return r?null:b.createElement(an,{tabIndex:s,className:n},b.createElement(wde,t))}var Nde={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!kh.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function kde(t){var{id:r}=t,a=JS(t,sde),s=b.useMemo(()=>mg(t.children,bh),[t.children]),n=fr(i=>_ce(i,r,s));return b.createElement(b.Fragment,null,b.createElement(WS,{fn:ude,args:ks(ks({},t),{},{sectors:n})}),b.createElement(jde,Ld({},a,{sectors:n})))}function fb(t){var r=Po(t,Nde),{id:a}=r,s=JS(r,nde),n=Ec(s);return b.createElement(YS,{id:a,type:"pie"},i=>b.createElement(b.Fragment,null,b.createElement(ede,{type:"pie",id:i,data:s.data,dataKey:s.dataKey,hide:s.hide,angleAxisId:0,radiusAxisId:0,name:s.name,nameKey:s.nameKey,tooltipType:s.tooltipType,legendType:s.legendType,fill:s.fill,cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,paddingAngle:s.paddingAngle,minAngle:s.minAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius,cornerRadius:s.cornerRadius,presentationProps:n}),b.createElement(dde,Ld({},s,{id:i})),b.createElement(kde,Ld({},s,{id:i})),s.children))}fb.displayName="Pie";var Sde=ct([sn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),_de=ct([Sde,$d,Bd],(t,r,a)=>{if(!(!t||r==null||a==null))return{x:t.left,y:t.top,width:Math.max(0,r-t.left-t.right),height:Math.max(0,a-t.top-t.bottom)}}),XS=()=>fr(_de),Ade=()=>fr(woe);function NE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function kE(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?NE(Object(a),!0).forEach(function(s){Cde(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):NE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Cde(t,r,a){return(r=Pde(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Pde(t){var r=Ede(t,"string");return typeof r=="symbol"?r:r+""}function Ede(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Tde=t=>{var{point:r,childIndex:a,mainColor:s,activeDot:n,dataKey:i}=t;if(n===!1||r.x==null||r.y==null)return null;var o=kE(kE({index:a,dataKey:i,cx:r.x,cy:r.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},ds(n,!1)),o5(n)),l;return b.isValidElement(n)?l=b.cloneElement(n,o):typeof n=="function"?l=n(o):l=b.createElement(gM,o),b.createElement(an,{className:"recharts-active-dot"},l)};function SE(t){var{points:r,mainColor:a,activeDot:s,itemDataKey:n}=t,i=fr(Ku),o=Ade();if(r==null||o==null)return null;var l=r.find(c=>o.includes(c.payload));return Za(l)?null:Tde({point:l,childIndex:Number(i),mainColor:a,dataKey:n,activeDot:s})}var Dde="Invariant failed";function Ide(t,r){throw new Error(Dde)}var Ode=["x","y"];function CN(){return CN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},CN.apply(null,arguments)}function _E(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Gf(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?_E(Object(a),!0).forEach(function(s){Rde(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_E(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function Rde(t,r,a){return(r=Lde(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Lde(t){var r=Mde(t,"string");return typeof r=="symbol"?r:r+""}function Mde(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Fde(t,r){if(t==null)return{};var a,s,n=$de(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function $de(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function Bde(t,r){var{x:a,y:s}=t,n=Fde(t,Ode),i="".concat(a),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(r.height||n.height),u=parseInt(d,10),f="".concat(r.width||n.width),p=parseInt(f,10);return Gf(Gf(Gf(Gf(Gf({},r),n),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:p,name:r.name,radius:r.radius})}function AM(t){return b.createElement(wM,CN({shapeType:"rectangle",propTransformer:Bde,activeClassName:"recharts-active-bar"},t))}var Ude=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(s,n)=>{if(Gt(r))return r;var i=Gt(s)||Za(s);return i?r(s,n):(i||Ide(),a)}},zde={},CM=Co({name:"errorBars",initialState:zde,reducers:{addErrorBar:(t,r)=>{var{itemId:a,errorBar:s}=r.payload;t[a]||(t[a]=[]),t[a].push(s)},removeErrorBar:(t,r)=>{var{itemId:a,errorBar:s}=r.payload;t[a]&&(t[a]=t[a].filter(n=>n.dataKey!==s.dataKey||n.direction!==s.direction))}}}),{addErrorBar:bve,removeErrorBar:vve}=CM.actions,qde=CM.reducer,Vde=["children"];function Hde(t,r){if(t==null)return{};var a,s,n=Wde(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Wde(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var Gde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Yde=b.createContext(Gde);function Kde(t){var{children:r}=t,a=Hde(t,Vde);return b.createElement(Yde.Provider,{value:a},r)}function ZS(t,r){var a,s,n=fr(d=>zd(d,t)),i=fr(d=>r0(d,r)),o=(a=n?.allowDataOverflow)!==null&&a!==void 0?a:fo.allowDataOverflow,l=(s=i?.allowDataOverflow)!==null&&s!==void 0?s:po.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function PM(t){var{xAxisId:r,yAxisId:a,clipPathId:s}=t,n=XS(),{needClipX:i,needClipY:o,needClip:l}=ZS(r,a);if(!l)return null;var{x:c,y:d,width:u,height:f}=n;return b.createElement("clipPath",{id:"clipPath-".concat(s)},b.createElement("rect",{x:i?c:c-u/2,y:o?d:d-f/2,width:i?u:u*2,height:o?f:f*2}))}var Jde=["onMouseEnter","onMouseLeave","onClick"],Xde=["value","background","tooltipPosition"],Zde=["id"],Qde=["onMouseEnter","onClick","onMouseLeave"];function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Bm.apply(null,arguments)}function AE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Qn(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?AE(Object(a),!0).forEach(function(s){eue(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):AE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function eue(t,r,a){return(r=tue(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function tue(t){var r=rue(t,"string");return typeof r=="symbol"?r:r+""}function rue(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function pb(t,r){if(t==null)return{};var a,s,n=aue(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function aue(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var sue=t=>{var{dataKey:r,name:a,fill:s,legendType:n,hide:i}=t;return[{inactive:i,dataKey:r,type:n,color:s,value:Xm(a,r),payload:t}]};function nue(t){var{dataKey:r,stroke:a,strokeWidth:s,fill:n,name:i,hide:o,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:n,dataKey:r,nameKey:void 0,name:Xm(i,r),hide:o,type:t.tooltipType,color:t.fill,unit:l}}}function iue(t){var r=fr(Ku),{data:a,dataKey:s,background:n,allOtherBarProps:i}=t,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,d=pb(i,Jde),u=qS(o,s),f=VS(l),p=HS(c,s);if(!n||a==null)return null;var g=ds(n,!1);return b.createElement(b.Fragment,null,a.map((x,v)=>{var{value:w,background:j,tooltipPosition:_}=x,S=pb(x,Xde);if(!j)return null;var N=u(x,v),C=f(x,v),D=p(x,v),U=Qn(Qn(Qn(Qn(Qn({option:n,isActive:String(v)===r},S),{},{fill:"#eee"},j),g),hg(d,x,v)),{},{onMouseEnter:N,onMouseLeave:C,onClick:D,dataKey:s,index:v,className:"recharts-bar-background-rectangle"});return b.createElement(AM,Bm({key:"background-bar-".concat(v)},U))}))}function EM(t){var{data:r,props:a,showLabels:s}=t,n=Ec(a),{id:i}=n,o=pb(n,Zde),{shape:l,dataKey:c,activeBar:d}=a,u=fr(Ku),f=fr(Q8),{onMouseEnter:p,onClick:g,onMouseLeave:x}=a,v=pb(a,Qde),w=qS(p,c),j=VS(x),_=HS(g,c);return r?b.createElement(b.Fragment,null,r.map((S,N)=>{var C=d&&String(N)===u&&(f==null||c===f),D=C?d:l,U=Qn(Qn(Qn({},o),S),{},{isActive:C,option:D,index:N,dataKey:c});return b.createElement(an,Bm({className:"recharts-bar-rectangle"},hg(v,S,N),{onMouseEnter:w(S,N),onMouseLeave:j(S,N),onClick:_(S,N),key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(N)}),b.createElement(AM,U))}),s&&Uu.renderCallByParent(a,r)):null}function oue(t){var{props:r,previousRectanglesRef:a}=t,{data:s,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=r,f=a.current,p=GS(r,"recharts-bar-"),[g,x]=b.useState(!1),v=b.useCallback(()=>{typeof d=="function"&&d(),x(!1)},[d]),w=b.useCallback(()=>{typeof u=="function"&&u(),x(!0)},[u]);return b.createElement(KS,{begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:v,onAnimationStart:w,key:p},j=>{var _=j===1?s:s?.map((S,N)=>{var C=f&&f[N];if(C)return Qn(Qn({},S),{},{x:el(C.x,S.x,j),y:el(C.y,S.y,j),width:el(C.width,S.width,j),height:el(C.height,S.height,j)});if(n==="horizontal"){var D=el(0,S.height,j);return Qn(Qn({},S),{},{y:S.y+S.height-D,height:D})}var U=el(0,S.width,j);return Qn(Qn({},S),{},{width:U})});return j>0&&(a.current=_??null),_==null?null:b.createElement(an,null,b.createElement(EM,{props:r,data:_,showLabels:!g}))})}function lue(t){var{data:r,isAnimationActive:a}=t,s=b.useRef(null);return a&&r&&r.length&&(s.current==null||s.current!==r)?b.createElement(oue,{previousRectanglesRef:s,props:t}):b.createElement(EM,{props:t,data:r,showLabels:!0})}var TM=0,cue=(t,r)=>{var a=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:a,errorVal:Aa(t,r)}};class due extends b.PureComponent{render(){var{hide:r,data:a,dataKey:s,className:n,xAxisId:i,yAxisId:o,needClip:l,background:c,id:d}=this.props;if(r)return null;var u=aa("recharts-bar",n),f=d;return b.createElement(an,{className:u,id:d},l&&b.createElement("defs",null,b.createElement(PM,{clipPathId:f,xAxisId:i,yAxisId:o})),b.createElement(an,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},b.createElement(iue,{data:a,dataKey:s,background:c,allOtherBarProps:this.props}),b.createElement(lue,this.props)),this.props.children)}}var uue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!kh.isSsr,legendType:"rect",minPointSize:TM,xAxisId:0,yAxisId:0};function hue(t){var{xAxisId:r,yAxisId:a,hide:s,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u}=t,{needClip:f}=ZS(r,a),p=rv(),g=Ki(),x=mg(t.children,bh),v=fr(_=>$ue(_,r,a,g,t.id,x));if(p!=="vertical"&&p!=="horizontal")return null;var w,j=v?.[0];return j==null||j.height==null||j.width==null?w=0:w=p==="vertical"?j.height/2:j.width/2,b.createElement(Kde,{xAxisId:r,yAxisId:a,data:v,dataPointFormatter:cue,errorBarOffset:w},b.createElement(due,Bm({},t,{layout:p,needClip:f,data:v,xAxisId:r,yAxisId:a,hide:s,legendType:n,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function mue(t){var{layout:r,barSettings:{dataKey:a,minPointSize:s},pos:n,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:f,offset:p,cells:g}=t,x=r==="horizontal"?l:o,v=u?x.scale.domain():null,w=Jee({numericAxis:x});return f.map((j,_)=>{var S,N,C,D,U,z;u?S=Hee(u[_],v):(S=Aa(j,a),Array.isArray(S)||(S=[w,S]));var E=Ude(s,TM)(S[1],_);if(r==="horizontal"){var I,[T,F]=[l.scale(S[0]),l.scale(S[1])];N=cC({axis:o,ticks:c,bandSize:i,offset:n.offset,entry:j,index:_}),C=(I=F??T)!==null&&I!==void 0?I:void 0,D=n.size;var Y=T-F;if(U=Wi(Y)?0:Y,z={x:N,y:p.top,width:D,height:p.height},Math.abs(E)>0&&Math.abs(U)<Math.abs(E)){var O=vn(U||E)*(Math.abs(E)-Math.abs(U));C-=O,U+=O}}else{var[q,$]=[o.scale(S[0]),o.scale(S[1])];if(N=q,C=cC({axis:l,ticks:d,bandSize:i,offset:n.offset,entry:j,index:_}),D=$-q,U=n.size,z={x:p.left,y:C,width:p.width,height:U},Math.abs(E)>0&&Math.abs(D)<Math.abs(E)){var K=vn(D||E)*(Math.abs(E)-Math.abs(D));D+=K}}if(N==null||C==null||D==null||U==null)return null;var J=Qn(Qn({},j),{},{x:N,y:C,width:D,height:U,value:u?S:S[1],payload:j,background:z,tooltipPosition:{x:N+D/2,y:C+U/2}},g&&g[_]&&g[_].props);return J}).filter(Boolean)}function Um(t){var r=Po(t,uue),a=Ki();return b.createElement(YS,{id:r.id,type:"bar"},s=>b.createElement(b.Fragment,null,b.createElement(NM,{legendPayload:sue(r)}),b.createElement(WS,{fn:nue,args:r}),b.createElement(SM,{type:"bar",id:s,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:$R(r.stackId),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:a}),b.createElement(hue,Bm({},r,{id:s}))))}Um.displayName="Bar";function CE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Mx(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?CE(Object(a),!0).forEach(function(s){fue(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):CE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function fue(t,r,a){return(r=pue(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function pue(t){var r=gue(t,"string");return typeof r=="symbol"?r:r+""}function gue(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var xue=(t,r)=>r,yue=(t,r,a)=>a,bue=(t,r,a,s)=>s,vue=(t,r,a,s,n)=>n,Ag=ct([pv,vue],(t,r)=>t.filter(a=>a.type==="bar").find(a=>a.id===r)),wue=ct([Ag],t=>t?.maxBarSize),jue=(t,r,a,s,n,i)=>i,PE=(t,r,a)=>{var s=a??t;if(!Za(s))return vi(s,r,0)},Nue=ct([Yr,pv,xue,yue,bue],(t,r,a,s,n)=>r.filter(i=>t==="horizontal"?i.xAxisId===a:i.yAxisId===s).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),kue=(t,r,a,s)=>{var n=Yr(t);return n==="horizontal"?Vp(t,"yAxis",a,s):Vp(t,"xAxis",r,s)},Sue=(t,r,a)=>{var s=Yr(t);return s==="horizontal"?PP(t,"xAxis",r):PP(t,"yAxis",a)},_ue=(t,r,a)=>{var s={},n=t.filter(fv),i=t.filter(d=>d.stackId==null),o=n.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),s),l=Object.entries(o).map(d=>{var[u,f]=d,p=f.map(x=>x.dataKey),g=PE(r,a,f[0].barSize);return{stackId:u,dataKeys:p,barSize:g}}),c=i.map(d=>{var u=[d.dataKey].filter(p=>p!=null),f=PE(r,a,d.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...l,...c]},Aue=ct([Nue,Dne,Sue],_ue),Cue=(t,r,a,s,n)=>{var i,o,l=Ag(t,r,a,s,n);if(l!=null){var c=Yr(t),d=e8(t),{maxBarSize:u}=l,f=Za(u)?d:u,p,g;return c==="horizontal"?(p=Yu(t,"xAxis",r,s),g=Gu(t,"xAxis",r,s)):(p=Yu(t,"yAxis",a,s),g=Gu(t,"yAxis",a,s)),(i=(o=Mp(p,g,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},DM=(t,r,a,s)=>{var n=Yr(t),i,o;return n==="horizontal"?(i=Yu(t,"xAxis",r,s),o=Gu(t,"xAxis",r,s)):(i=Yu(t,"yAxis",a,s),o=Gu(t,"yAxis",a,s)),Mp(i,o)};function Pue(t,r,a,s,n){var i=s.length;if(!(i<1)){var o=vi(t,a,0,!0),l,c=[];if(On(s[0].barSize)){var d=!1,u=a/i,f=s.reduce((j,_)=>j+(_.barSize||0),0);f+=(i-1)*o,f>=a&&(f-=(i-1)*o,o=0),f>=a&&u>0&&(d=!0,u*=.9,f=i*u);var p=(a-f)/2>>0,g={offset:p-o,size:0};l=s.reduce((j,_)=>{var S,N={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:g.offset+g.size+o,size:d?u:(S=_.barSize)!==null&&S!==void 0?S:0}},C=[...j,N];return g=C[C.length-1].position,C},c)}else{var x=vi(r,a,0,!0);a-2*x-(i-1)*o<=0&&(o=0);var v=(a-2*x-(i-1)*o)/i;v>1&&(v>>=0);var w=On(n)?Math.min(v,n):v;l=s.reduce((j,_,S)=>[...j,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:x+(v+o)*S+(v-w)/2,size:w}}],c)}return l}}var Eue=(t,r,a,s,n,i,o)=>{var l=Za(o)?r:o,c=Pue(a,s,n!==i?n:i,t,l);return n!==i&&c!=null&&(c=c.map(d=>Mx(Mx({},d),{},{position:Mx(Mx({},d.position),{},{offset:d.position.offset-n/2})}))),c},Tue=ct([Aue,e8,Tne,t8,Cue,DM,wue],Eue),Due=(t,r,a,s)=>Yu(t,"xAxis",r,s),Iue=(t,r,a,s)=>Yu(t,"yAxis",a,s),Oue=(t,r,a,s)=>Gu(t,"xAxis",r,s),Rue=(t,r,a,s)=>Gu(t,"yAxis",a,s),Lue=ct([Tue,Ag],(t,r)=>{if(!(t==null||r==null)){var a=t.find(s=>s.stackId===r.stackId&&r.dataKey!=null&&s.dataKeys.includes(r.dataKey));if(a!=null)return a.position}}),Mue=(t,r)=>{var a=mv(r);if(!(!t||a==null||r==null)){var{stackId:s}=r;if(s!=null){var n=t[s];if(n){var{stackedData:i}=n;if(i)return i.find(o=>o.key===a)}}}},Fue=ct([kue,Ag],Mue),$ue=ct([sn,Due,Iue,Oue,Rue,Lue,Yr,cv,DM,Fue,Ag,jue],(t,r,a,s,n,i,o,l,c,d,u,f)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:x}=l;if(!(u==null||i==null||o!=="horizontal"&&o!=="vertical"||r==null||a==null||s==null||n==null||c==null)){var{data:v}=u,w;if(v!=null&&v.length>0?w=v:w=p?.slice(g,x+1),w!=null)return mue({layout:o,barSettings:u,pos:i,bandSize:c,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:n,stackedData:d,displayedData:w,offset:t,cells:f})}}),IM=t=>{var{chartData:r}=t,a=us(),s=Ki();return b.useEffect(()=>s?()=>{}:(a($P(r)),()=>{a($P(void 0))}),[r,a,s]),null},EE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},OM=Co({name:"brush",initialState:EE,reducers:{setBrushSettings(t,r){return r.payload==null?EE:r.payload}}}),{setBrushSettings:wve}=OM.actions,Bue=OM.reducer;function Uue(t,r,a){return(r=zue(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function zue(t){var r=que(t,"string");return typeof r=="symbol"?r:r+""}function que(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class QS{static create(r){return new QS(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:a,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(r)+i}default:return this.scale(r)}if(a){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}return this.scale(r)}}isInRange(r){var a=this.range(),s=a[0],n=a[a.length-1];return s<=n?r>=s&&r<=n:r>=n&&r<=s}}Uue(QS,"EPS",1e-4);function Vue(t){return(t%180+180)%180}var Hue=function(r){var{width:a,height:s}=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Vue(n),o=i*Math.PI/180,l=Math.atan(s/a),c=o>l&&o<Math.PI-l?s/Math.sin(o):a/Math.cos(o);return Math.abs(c)},Wue={dots:[],areas:[],lines:[]},RM=Co({name:"referenceElements",initialState:Wue,reducers:{addDot:(t,r)=>{t.dots.push(r.payload)},removeDot:(t,r)=>{var a=Sd(t).dots.findIndex(s=>s===r.payload);a!==-1&&t.dots.splice(a,1)},addArea:(t,r)=>{t.areas.push(r.payload)},removeArea:(t,r)=>{var a=Sd(t).areas.findIndex(s=>s===r.payload);a!==-1&&t.areas.splice(a,1)},addLine:(t,r)=>{t.lines.push(r.payload)},removeLine:(t,r)=>{var a=Sd(t).lines.findIndex(s=>s===r.payload);a!==-1&&t.lines.splice(a,1)}}}),{addDot:jve,removeDot:Nve,addArea:kve,removeArea:Sve,addLine:_ve,removeLine:Ave}=RM.actions,Gue=RM.reducer,Yue=b.createContext(void 0),Kue=t=>{var{children:r}=t,[a]=b.useState("".concat(Op("recharts"),"-clip")),s=XS();if(s==null)return null;var{x:n,y:i,width:o,height:l}=s;return b.createElement(Yue.Provider,{value:a},b.createElement("defs",null,b.createElement("clipPath",{id:a},b.createElement("rect",{x:n,y:i,height:l,width:o}))),r)};function k1(t,r){for(var a in t)if({}.hasOwnProperty.call(t,a)&&(!{}.hasOwnProperty.call(r,a)||t[a]!==r[a]))return!1;for(var s in r)if({}.hasOwnProperty.call(r,s)&&!{}.hasOwnProperty.call(t,s))return!1;return!0}function LM(t,r,a){if(r<1)return[];if(r===1&&a===void 0)return t;for(var s=[],n=0;n<t.length;n+=r)s.push(t[n]);return s}function Jue(t,r,a){var s={width:t.width+r.width,height:t.height+r.height};return Hue(s,a)}function Xue(t,r,a){var s=a==="width",{x:n,y:i,width:o,height:l}=t;return r===1?{start:s?n:i,end:s?n+o:i+l}:{start:s?n+o:i+l,end:s?n:i}}function gb(t,r,a,s,n){if(t*r<t*s||t*r>t*n)return!1;var i=a();return t*(r-t*i/2-s)>=0&&t*(r+t*i/2-n)<=0}function Zue(t,r){return LM(t,r+1)}function Que(t,r,a,s,n){for(var i=(s||[]).slice(),{start:o,end:l}=r,c=0,d=1,u=o,f=function(){var x=s?.[c];if(x===void 0)return{v:LM(s,d)};var v=c,w,j=()=>(w===void 0&&(w=a(x,v)),w),_=x.coordinate,S=c===0||gb(t,_,j,u,l);S||(c=0,u=o,d+=1),S&&(u=_+t*(j()/2+n),c+=d)},p;d<=i.length;)if(p=f(),p)return p.v;return[]}function TE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Jn(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?TE(Object(a),!0).forEach(function(s){e0e(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):TE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function e0e(t,r,a){return(r=t0e(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function t0e(t){var r=r0e(t,"string");return typeof r=="symbol"?r:r+""}function r0e(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function a0e(t,r,a,s,n){for(var i=(s||[]).slice(),o=i.length,{start:l}=r,{end:c}=r,d=function(p){var g=i[p],x,v=()=>(x===void 0&&(x=a(g,p)),x);if(p===o-1){var w=t*(g.coordinate+t*v()/2-c);i[p]=g=Jn(Jn({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate})}else i[p]=g=Jn(Jn({},g),{},{tickCoord:g.coordinate});var j=gb(t,g.tickCoord,v,l,c);j&&(c=g.tickCoord-t*(v()/2+n),i[p]=Jn(Jn({},g),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function s0e(t,r,a,s,n,i){var o=(s||[]).slice(),l=o.length,{start:c,end:d}=r;if(i){var u=s[l-1],f=a(u,l-1),p=t*(u.coordinate+t*f/2-d);o[l-1]=u=Jn(Jn({},u),{},{tickCoord:p>0?u.coordinate-p*t:u.coordinate});var g=gb(t,u.tickCoord,()=>f,c,d);g&&(d=u.tickCoord-t*(f/2+n),o[l-1]=Jn(Jn({},u),{},{isShow:!0}))}for(var x=i?l-1:l,v=function(_){var S=o[_],N,C=()=>(N===void 0&&(N=a(S,_)),N);if(_===0){var D=t*(S.coordinate-t*C()/2-c);o[_]=S=Jn(Jn({},S),{},{tickCoord:D<0?S.coordinate-D*t:S.coordinate})}else o[_]=S=Jn(Jn({},S),{},{tickCoord:S.coordinate});var U=gb(t,S.tickCoord,C,c,d);U&&(c=S.tickCoord+t*(C()/2+n),o[_]=Jn(Jn({},S),{},{isShow:!0}))},w=0;w<x;w++)v(w);return o}function e4(t,r,a){var{tick:s,ticks:n,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:f}=t;if(!n||!n.length||!s)return[];if(Gt(c)||kh.isSsr){var p;return(p=Zue(n,Gt(c)?c:0))!==null&&p!==void 0?p:[]}var g=[],x=l==="top"||l==="bottom"?"width":"height",v=u&&x==="width"?fp(u,{fontSize:r,letterSpacing:a}):{width:0,height:0},w=(S,N)=>{var C=typeof d=="function"?d(S.value,N):S.value;return x==="width"?Jue(fp(C,{fontSize:r,letterSpacing:a}),v,f):fp(C,{fontSize:r,letterSpacing:a})[x]},j=n.length>=2?vn(n[1].coordinate-n[0].coordinate):1,_=Xue(i,j,x);return c==="equidistantPreserveStart"?Que(j,_,w,n,o):(c==="preserveStart"||c==="preserveStartEnd"?g=s0e(j,_,w,n,o,c==="preserveStartEnd"):g=a0e(j,_,w,n,o),g.filter(S=>S.isShow))}var n0e=["viewBox"],i0e=["viewBox"];function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},vm.apply(null,arguments)}function DE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function Qs(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?DE(Object(a),!0).forEach(function(s){t4(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):DE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function IE(t,r){if(t==null)return{};var a,s,n=o0e(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function o0e(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function t4(t,r,a){return(r=l0e(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function l0e(t){var r=c0e(t,"string");return typeof r=="symbol"?r:r+""}function c0e(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class a0 extends b.Component{constructor(r){super(r),this.tickRefs=b.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(r,a){var{viewBox:s}=r,n=IE(r,n0e),i=this.props,{viewBox:o}=i,l=IE(i,i0e);return!k1(s,o)||!k1(n,l)||!k1(a,this.state)}getTickLineCoord(r){var{x:a,y:s,width:n,height:i,orientation:o,tickSize:l,mirror:c,tickMargin:d}=this.props,u,f,p,g,x,v,w=c?-1:1,j=r.tickSize||l,_=Gt(r.tickCoord)?r.tickCoord:r.coordinate;switch(o){case"top":u=f=r.coordinate,g=s+ +!c*i,p=g-w*j,v=p-w*d,x=_;break;case"left":p=g=r.coordinate,f=a+ +!c*n,u=f-w*j,x=u-w*d,v=_;break;case"right":p=g=r.coordinate,f=a+ +c*n,u=f+w*j,x=u+w*d,v=_;break;default:u=f=r.coordinate,g=s+ +c*i,p=g+w*j,v=p+w*d,x=_;break}return{line:{x1:u,y1:p,x2:f,y2:g},tick:{x,y:v}}}getTickTextAnchor(){var{orientation:r,mirror:a}=this.props,s;switch(r){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}getTickVerticalAnchor(){var{orientation:r,mirror:a}=this.props;switch(r){case"left":case"right":return"middle";case"top":return a?"start":"end";default:return a?"end":"start"}}renderAxisLine(){var{x:r,y:a,width:s,height:n,orientation:i,mirror:o,axisLine:l}=this.props,c=Qs(Qs(Qs({},ds(this.props,!1)),ds(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=Qs(Qs({},c),{},{x1:r,y1:a+d*n,x2:r+s,y2:a+d*n})}else{var u=+(i==="left"&&!o||i==="right"&&o);c=Qs(Qs({},c),{},{x1:r+u*s,y1:a,x2:r+u*s,y2:a+n})}return b.createElement("line",vm({},c,{className:aa("recharts-cartesian-axis-line",Wu(l,"className"))}))}static renderTickItem(r,a,s){var n,i=aa(a.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(r))n=b.cloneElement(r,Qs(Qs({},a),{},{className:i}));else if(typeof r=="function")n=r(Qs(Qs({},a),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(o=aa(o,r.className)),n=b.createElement(wv,vm({},a,{className:o}),s)}return n}renderTicks(r,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:n,stroke:i,tick:o,tickFormatter:l,unit:c,padding:d}=this.props,u=e4(Qs(Qs({},this.props),{},{ticks:s}),r,a),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=Ec(this.props),x=ds(o,!1),v=Qs(Qs({},g),{},{fill:"none"},ds(n,!1)),w=u.map((j,_)=>{var{line:S,tick:N}=this.getTickLineCoord(j),C=Qs(Qs(Qs(Qs({textAnchor:f,verticalAnchor:p},g),{},{stroke:"none",fill:i},x),N),{},{index:_,payload:j,visibleTicksCount:u.length,tickFormatter:l,padding:d});return b.createElement(an,vm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},hg(this.props,j,_)),n&&b.createElement("line",vm({},v,S,{className:aa("recharts-cartesian-axis-tick-line",Wu(n,"className"))})),o&&a0.renderTickItem(o,C,"".concat(typeof l=="function"?l(j.value,_):j.value).concat(c||"")))});return w.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:r,width:a,height:s,className:n,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return a!=null&&a<=0||s!=null&&s<=0?null:b.createElement(an,{className:aa("recharts-cartesian-axis",n),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var d=c[0];if(d){var u=window.getComputedStyle(d).fontSize,f=window.getComputedStyle(d).letterSpacing;(u!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},r&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),vo.renderCallByParent(this.props))}}t4(a0,"displayName","CartesianAxis");t4(a0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var d0e=["x1","y1","x2","y2","key"],u0e=["offset"],h0e=["xAxisId","yAxisId"],m0e=["xAxisId","yAxisId"];function OE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function ei(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?OE(Object(a),!0).forEach(function(s){f0e(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):OE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function f0e(t,r,a){return(r=p0e(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function p0e(t){var r=g0e(t,"string");return typeof r=="symbol"?r:r+""}function g0e(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},K0.apply(null,arguments)}function xb(t,r){if(t==null)return{};var a,s,n=x0e(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function x0e(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var y0e=t=>{var{fill:r}=t;if(!r||r==="none")return null;var{fillOpacity:a,x:s,y:n,width:i,height:o,ry:l}=t;return b.createElement("rect",{x:s,y:n,ry:l,width:i,height:o,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function MM(t,r){var a;if(b.isValidElement(t))a=b.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var{x1:s,y1:n,x2:i,y2:o,key:l}=r,c=xb(r,d0e),d=Ec(c),{offset:u}=d,f=xb(d,u0e);a=b.createElement("line",K0({},f,{x1:s,y1:n,x2:i,y2:o,fill:"none",key:l}))}return a}function b0e(t){var{x:r,width:a,horizontal:s=!0,horizontalPoints:n}=t;if(!s||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=t,l=xb(t,h0e),c=n.map((d,u)=>{var f=ei(ei({},l),{},{x1:r,y1:d,x2:r+a,y2:d,key:"line-".concat(u),index:u});return MM(s,f)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function v0e(t){var{y:r,height:a,vertical:s=!0,verticalPoints:n}=t;if(!s||!n||!n.length)return null;var{xAxisId:i,yAxisId:o}=t,l=xb(t,m0e),c=n.map((d,u)=>{var f=ei(ei({},l),{},{x1:d,y1:r,x2:d,y2:r+a,key:"line-".concat(u),index:u});return MM(s,f)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function w0e(t){var{horizontalFill:r,fillOpacity:a,x:s,y:n,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!r||!r.length)return null;var d=l.map(f=>Math.round(f+n-n)).sort((f,p)=>f-p);n!==d[0]&&d.unshift(0);var u=d.map((f,p)=>{var g=!d[p+1],x=g?n+o-f:d[p+1]-f;if(x<=0)return null;var v=p%r.length;return b.createElement("rect",{key:"react-".concat(p),y:f,x:s,height:x,width:i,stroke:"none",fill:r[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function j0e(t){var{vertical:r=!0,verticalFill:a,fillOpacity:s,x:n,y:i,width:o,height:l,verticalPoints:c}=t;if(!r||!a||!a.length)return null;var d=c.map(f=>Math.round(f+n-n)).sort((f,p)=>f-p);n!==d[0]&&d.unshift(0);var u=d.map((f,p)=>{var g=!d[p+1],x=g?n+o-f:d[p+1]-f;if(x<=0)return null;var v=p%a.length;return b.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:x,height:l,stroke:"none",fill:a[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var N0e=(t,r)=>{var{xAxis:a,width:s,height:n,offset:i}=t;return MR(e4(ei(ei(ei({},a0.defaultProps),a),{},{ticks:FR(a),viewBox:{x:0,y:0,width:s,height:n}})),i.left,i.left+i.width,r)},k0e=(t,r)=>{var{yAxis:a,width:s,height:n,offset:i}=t;return MR(e4(ei(ei(ei({},a0.defaultProps),a),{},{ticks:FR(a),viewBox:{x:0,y:0,width:s,height:n}})),i.top,i.top+i.height,r)},S0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function pp(t){var r=P5(),a=E5(),s=VR(),n=ei(ei({},Po(t,S0e)),{},{x:Gt(t.x)?t.x:s.left,y:Gt(t.y)?t.y:s.top,width:Gt(t.width)?t.width:s.width,height:Gt(t.height)?t.height:s.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:f,horizontalValues:p,verticalValues:g}=n,x=Ki(),v=fr(E=>EP(E,"xAxis",i,x)),w=fr(E=>EP(E,"yAxis",o,x));if(!Gt(d)||d<=0||!Gt(u)||u<=0||!Gt(l)||l!==+l||!Gt(c)||c!==+c)return null;var j=n.verticalCoordinatesGenerator||N0e,_=n.horizontalCoordinatesGenerator||k0e,{horizontalPoints:S,verticalPoints:N}=n;if((!S||!S.length)&&typeof _=="function"){var C=p&&p.length,D=_({yAxis:w?ei(ei({},w),{},{ticks:C?p:w.ticks}):void 0,width:r,height:a,offset:s},C?!0:f);mp(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(S=D)}if((!N||!N.length)&&typeof j=="function"){var U=g&&g.length,z=j({xAxis:v?ei(ei({},v),{},{ticks:U?g:v.ticks}):void 0,width:r,height:a,offset:s},U?!0:f);mp(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(N=z)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(y0e,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),b.createElement(w0e,K0({},n,{horizontalPoints:S})),b.createElement(j0e,K0({},n,{verticalPoints:N})),b.createElement(b0e,K0({},n,{offset:s,horizontalPoints:S,xAxis:v,yAxis:w})),b.createElement(v0e,K0({},n,{offset:s,verticalPoints:N,xAxis:v,yAxis:w})))}pp.displayName="CartesianGrid";var FM=(t,r,a,s)=>Yu(t,"xAxis",r,s),$M=(t,r,a,s)=>Gu(t,"xAxis",r,s),BM=(t,r,a,s)=>Yu(t,"yAxis",a,s),UM=(t,r,a,s)=>Gu(t,"yAxis",a,s),_0e=ct([Yr,FM,BM,$M,UM],(t,r,a,s,n)=>Fd(t,"xAxis")?Mp(r,s,!1):Mp(a,n,!1)),A0e=(t,r,a,s,n)=>n,zM=ct([pv,A0e],(t,r)=>t.filter(a=>a.type==="area").find(a=>a.id===r)),C0e=(t,r,a,s,n)=>{var i,o=zM(t,r,a,s,n);if(o!=null){var l=Yr(t),c=Fd(l,"xAxis"),d;if(c?d=Vp(t,"yAxis",a,s):d=Vp(t,"xAxis",r,s),d!=null){var{stackId:u}=o,f=mv(o);if(!(u==null||f==null)){var p=(i=d[u])===null||i===void 0?void 0:i.stackedData;return p?.find(g=>g.key===f)}}}},P0e=ct([Yr,FM,BM,$M,UM,C0e,cv,_0e,zM],(t,r,a,s,n,i,o,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:f}=o;if(!(c==null||t!=="horizontal"&&t!=="vertical"||r==null||a==null||s==null||n==null||s.length===0||n.length===0||l==null)){var{data:p}=c,g;if(p&&p.length>0?g=p:g=d?.slice(u,f+1),g!=null){var x=void 0;return K0e({layout:t,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:n,dataStartIndex:u,areaSettings:c,stackedData:i,displayedData:g,chartBaseValue:x,bandSize:l})}}}),E0e=["id"],T0e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function qM(t,r){if(t==null)return{};var a,s,n=D0e(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function D0e(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function RE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function J0(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?RE(Object(a),!0).forEach(function(s){I0e(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):RE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function I0e(t,r,a){return(r=O0e(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function O0e(t){var r=R0e(t,"string");return typeof r=="symbol"?r:r+""}function R0e(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},Ad.apply(null,arguments)}function yb(t,r){return t&&t!=="none"?t:r}var L0e=t=>{var{dataKey:r,name:a,stroke:s,fill:n,legendType:i,hide:o}=t;return[{inactive:o,dataKey:r,type:i,color:yb(s,n),value:Xm(a,r),payload:t}]};function M0e(t){var{dataKey:r,data:a,stroke:s,strokeWidth:n,fill:i,name:o,hide:l,unit:c}=t;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:s,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:Xm(o,r),hide:l,type:t.tooltipType,color:yb(s,i),unit:c}}}var F0e=(t,r)=>{var a;if(b.isValidElement(t))a=b.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var s=aa("recharts-area-dot",typeof t!="boolean"?t.className:"");a=b.createElement(gM,Ad({},r,{className:s}))}return a};function $0e(t,r){return t==null?!1:r?!0:t.length===1}function B0e(t){var{clipPathId:r,points:a,props:s}=t,{needClip:n,dot:i,dataKey:o}=s;if(!$0e(a,i))return null;var l=OO(i),c=Ec(s),d=ds(i,!0),u=a.map((p,g)=>{var x=J0(J0(J0({key:"dot-".concat(g),r:3},c),d),{},{index:g,cx:p.x,cy:p.y,dataKey:o,value:p.value,payload:p.payload,points:a});return F0e(i,x)}),f={clipPath:n?"url(#clipPath-".concat(l?"":"dots-").concat(r,")"):void 0};return b.createElement(an,Ad({className:"recharts-area-dots"},f),u)}function PN(t){var{points:r,baseLine:a,needClip:s,clipPathId:n,props:i,showLabels:o}=t,{layout:l,type:c,stroke:d,connectNulls:u,isRange:f}=i,{id:p}=i,g=qM(i,E0e),x=Ec(g);return b.createElement(b.Fragment,null,r?.length>1&&b.createElement(an,{clipPath:s?"url(#clipPath-".concat(n,")"):void 0},b.createElement(hp,Ad({},x,{id:p,points:r,connectNulls:u,type:c,baseLine:a,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&b.createElement(hp,Ad({},x,{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:r})),d!=="none"&&f&&b.createElement(hp,Ad({},x,{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:a}))),b.createElement(B0e,{points:r,props:g,clipPathId:n}),o&&Uu.renderCallByParent(g,r))}function U0e(t){var{alpha:r,baseLine:a,points:s,strokeWidth:n}=t,i=s[0].y,o=s[s.length-1].y;if(!On(i)||!On(o))return null;var l=r*Math.abs(i-o),c=Math.max(...s.map(d=>d.x||0));return Gt(a)?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max(...a.map(d=>d.x||0),c)),Gt(c)?b.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(n?parseInt("".concat(n),10):1),height:Math.floor(l)}):null}function z0e(t){var{alpha:r,baseLine:a,points:s,strokeWidth:n}=t,i=s[0].x,o=s[s.length-1].x;if(!On(i)||!On(o))return null;var l=r*Math.abs(i-o),c=Math.max(...s.map(d=>d.y||0));return Gt(a)?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max(...a.map(d=>d.y||0),c)),Gt(c)?b.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(n?parseInt("".concat(n),10):1))}):null}function q0e(t){var{alpha:r,layout:a,points:s,baseLine:n,strokeWidth:i}=t;return a==="vertical"?b.createElement(U0e,{alpha:r,points:s,baseLine:n,strokeWidth:i}):b.createElement(z0e,{alpha:r,points:s,baseLine:n,strokeWidth:i})}function V0e(t){var{needClip:r,clipPathId:a,props:s,previousPointsRef:n,previousBaselineRef:i}=t,{points:o,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,onAnimationStart:p,onAnimationEnd:g}=s,x=GS(s,"recharts-area-"),[v,w]=b.useState(!0),j=b.useCallback(()=>{typeof g=="function"&&g(),w(!1)},[g]),_=b.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]),S=n.current,N=i.current;return b.createElement(KS,{begin:d,duration:u,isActive:c,easing:f,onAnimationEnd:j,onAnimationStart:_,key:x},C=>{if(S){var D=S.length/o.length,U=C===1?o:o.map((E,I)=>{var T=Math.floor(I*D);if(S[T]){var F=S[T];return J0(J0({},E),{},{x:el(F.x,E.x,C),y:el(F.y,E.y,C)})}return E}),z;return Gt(l)?z=el(N,l,C):Za(l)||Wi(l)?z=el(N,0,C):z=l.map((E,I)=>{var T=Math.floor(I*D);if(Array.isArray(N)&&N[T]){var F=N[T];return J0(J0({},E),{},{x:el(F.x,E.x,C),y:el(F.y,E.y,C)})}return E}),C>0&&(n.current=U,i.current=z),b.createElement(PN,{points:U,baseLine:z,needClip:r,clipPathId:a,props:s,showLabels:!v})}return C>0&&(n.current=o,i.current=l),b.createElement(an,null,b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(a)},b.createElement(q0e,{alpha:C,points:o,baseLine:l,layout:s.layout,strokeWidth:s.strokeWidth}))),b.createElement(an,{clipPath:"url(#animationClipPath-".concat(a,")")},b.createElement(PN,{points:o,baseLine:l,needClip:r,clipPathId:a,props:s,showLabels:!0})))})}function H0e(t){var{needClip:r,clipPathId:a,props:s}=t,{points:n,baseLine:i,isAnimationActive:o}=s,l=b.useRef(null),c=b.useRef(),d=l.current,u=c.current;return o&&n&&n.length&&(d!==n||u!==i)?b.createElement(V0e,{needClip:r,clipPathId:a,props:s,previousPointsRef:l,previousBaselineRef:c}):b.createElement(PN,{points:n,baseLine:i,needClip:r,clipPathId:a,props:s,showLabels:!0})}class W0e extends b.PureComponent{render(){var r,{hide:a,dot:s,points:n,className:i,top:o,left:l,needClip:c,xAxisId:d,yAxisId:u,width:f,height:p,id:g,baseLine:x}=this.props;if(a)return null;var v=aa("recharts-area",i),w=g,{r:j=3,strokeWidth:_=2}=(r=ds(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},S=OO(s),N=j*2+_;return b.createElement(b.Fragment,null,b.createElement(an,{className:v},c&&b.createElement("defs",null,b.createElement(PM,{clipPathId:w,xAxisId:d,yAxisId:u}),!S&&b.createElement("clipPath",{id:"clipPath-dots-".concat(w)},b.createElement("rect",{x:l-N/2,y:o-N/2,width:f+N,height:p+N}))),b.createElement(H0e,{needClip:c,clipPathId:w,props:this.props})),b.createElement(SE,{points:n,mainColor:yb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(x)&&b.createElement(SE,{points:x,mainColor:yb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var VM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!kh.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function G0e(t){var r,a=Po(t,VM),{activeDot:s,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:d,fillOpacity:u,hide:f,isAnimationActive:p,legendType:g,stroke:x,xAxisId:v,yAxisId:w}=a,j=qM(a,T0e),_=rv(),S=tM(),{needClip:N}=ZS(v,w),C=Ki(),{points:D,isRange:U,baseLine:z}=(r=fr(O=>P0e(O,v,w,C,t.id)))!==null&&r!==void 0?r:{},E=XS();if(_!=="horizontal"&&_!=="vertical"||E==null||S!=="AreaChart"&&S!=="ComposedChart")return null;var{height:I,width:T,x:F,y:Y}=E;return!D||!D.length?null:b.createElement(W0e,Ad({},j,{activeDot:s,animationBegin:n,animationDuration:i,animationEasing:o,baseLine:z,connectNulls:l,dot:c,fill:d,fillOpacity:u,height:I,hide:f,layout:_,isAnimationActive:p,isRange:U,legendType:g,needClip:N,points:D,stroke:x,width:T,left:F,top:Y,xAxisId:v,yAxisId:w}))}var Y0e=(t,r,a,s,n)=>{var i=a??r;if(Gt(i))return i;var o=t==="horizontal"?n:s,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function K0e(t){var{areaSettings:{connectNulls:r,baseValue:a,dataKey:s},stackedData:n,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:f,yAxisTicks:p,bandSize:g}=t,x=n&&n.length,v=Y0e(i,o,a,l,c),w=i==="horizontal",j=!1,_=d.map((N,C)=>{var D;x?D=n[u+C]:(D=Aa(N,s),Array.isArray(D)?j=!0:D=[v,D]);var U=D[1]==null||x&&!r&&Aa(N,s)==null;return w?{x:lC({axis:l,ticks:f,bandSize:g,entry:N,index:C}),y:U?null:c.scale(D[1]),value:D,payload:N}:{x:U?null:l.scale(D[1]),y:lC({axis:c,ticks:p,bandSize:g,entry:N,index:C}),value:D,payload:N}}),S;return x||j?S=_.map(N=>{var C=Array.isArray(N.value)?N.value[0]:null;return w?{x:N.x,y:C!=null&&N.y!=null?c.scale(C):null,payload:N.payload}:{x:C!=null?l.scale(C):null,y:N.y,payload:N.payload}}):S=w?c.scale(v):l.scale(v),{points:_,baseLine:S,isRange:j}}function HM(t){var r=Po(t,VM),a=Ki();return b.createElement(YS,{id:r.id,type:"area"},s=>b.createElement(b.Fragment,null,b.createElement(NM,{legendPayload:L0e(r)}),b.createElement(WS,{fn:M0e,args:r}),b.createElement(SM,{type:"area",id:s,data:r.data,dataKey:r.dataKey,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,stackId:$R(r.stackId),hide:r.hide,barSize:void 0,baseValue:r.baseValue,isPanorama:a,connectNulls:r.connectNulls}),b.createElement(G0e,Ad({},r,{id:s}))))}HM.displayName="Area";function LE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function ME(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?LE(Object(a),!0).forEach(function(s){J0e(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):LE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function J0e(t,r,a){return(r=X0e(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function X0e(t){var r=Z0e(t,"string");return typeof r=="symbol"?r:r+""}function Z0e(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Q0e={xAxis:{},yAxis:{},zAxis:{}},WM=Co({name:"cartesianAxis",initialState:Q0e,reducers:{addXAxis(t,r){t.xAxis[r.payload.id]=r.payload},removeXAxis(t,r){delete t.xAxis[r.payload.id]},addYAxis(t,r){t.yAxis[r.payload.id]=r.payload},removeYAxis(t,r){delete t.yAxis[r.payload.id]},addZAxis(t,r){t.zAxis[r.payload.id]=r.payload},removeZAxis(t,r){delete t.zAxis[r.payload.id]},updateYAxisWidth(t,r){var{id:a,width:s}=r.payload;t.yAxis[a]&&(t.yAxis[a]=ME(ME({},t.yAxis[a]),{},{width:s}))}}}),{addXAxis:ehe,removeXAxis:the,addYAxis:rhe,removeYAxis:ahe,addZAxis:Cve,removeZAxis:Pve,updateYAxisWidth:she}=WM.actions,nhe=WM.reducer,ihe=["children"],ohe=["dangerouslySetInnerHTML","ticks"];function GM(t,r,a){return(r=lhe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function lhe(t){var r=che(t,"string");return typeof r=="symbol"?r:r+""}function che(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function EN(){return EN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},EN.apply(null,arguments)}function YM(t,r){if(t==null)return{};var a,s,n=dhe(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function dhe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function uhe(t){var r=us(),a=b.useMemo(()=>{var{children:i}=t,o=YM(t,ihe);return o},[t]),s=fr(i=>zd(i,a.id)),n=a===s;return b.useEffect(()=>(r(ehe(a)),()=>{r(the(a))}),[a,r]),n?t.children:null}var hhe=t=>{var{xAxisId:r,className:a}=t,s=fr(qR),n=Ki(),i="xAxis",o=fr(g=>sf(g,i,r,n)),l=fr(g=>O8(g,i,r,n)),c=fr(g=>E8(g,r)),d=fr(g=>jie(g,r));if(c==null||d==null)return null;var{dangerouslySetInnerHTML:u,ticks:f}=t,p=YM(t,ohe);return b.createElement(a0,EN({},p,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:aa("recharts-".concat(i," ").concat(i),a),viewBox:s,ticks:l}))},mhe=t=>{var r,a,s,n,i;return b.createElement(uhe,{interval:(r=t.interval)!==null&&r!==void 0?r:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(a=t.includeHidden)!==null&&a!==void 0?a:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(s=t.angle)!==null&&s!==void 0?s:0,minTickGap:(n=t.minTickGap)!==null&&n!==void 0?n:5,tick:(i=t.tick)!==null&&i!==void 0?i:!0,tickFormatter:t.tickFormatter},b.createElement(hhe,t))};class oh extends b.Component{render(){return b.createElement(mhe,this.props)}}GM(oh,"displayName","XAxis");GM(oh,"defaultProps",{allowDataOverflow:fo.allowDataOverflow,allowDecimals:fo.allowDecimals,allowDuplicatedCategory:fo.allowDuplicatedCategory,height:fo.height,hide:!1,mirror:fo.mirror,orientation:fo.orientation,padding:fo.padding,reversed:fo.reversed,scale:fo.scale,tickCount:fo.tickCount,type:fo.type,xAxisId:0});var fhe=t=>{var{ticks:r,label:a,labelGapWithTick:s=5,tickSize:n=0,tickMargin:i=0}=t,o=0;if(r){r.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=a?a.getBoundingClientRect().width:0,c=n+i,d=o+c+l+(a?s:0);return Math.round(d)}return 0},phe=["dangerouslySetInnerHTML","ticks"];function KM(t,r,a){return(r=ghe(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function ghe(t){var r=xhe(t,"string");return typeof r=="symbol"?r:r+""}function xhe(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function TN(){return TN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},TN.apply(null,arguments)}function yhe(t,r){if(t==null)return{};var a,s,n=bhe(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function bhe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function vhe(t){var r=us();return b.useEffect(()=>(r(rhe(t)),()=>{r(ahe(t))}),[t,r]),null}var whe=t=>{var r,{yAxisId:a,className:s,width:n,label:i}=t,o=b.useRef(null),l=b.useRef(null),c=fr(qR),d=Ki(),u=us(),f="yAxis",p=fr(S=>sf(S,f,a,d)),g=fr(S=>T8(S,a)),x=fr(S=>Nie(S,a)),v=fr(S=>O8(S,f,a,d));if(b.useLayoutEffect(()=>{var S;if(!(n!=="auto"||!g||FS(i)||b.isValidElement(i))){var N=o.current,C=N==null||(S=N.tickRefs)===null||S===void 0?void 0:S.current,{tickSize:D,tickMargin:U}=N.props,z=fhe({ticks:C,label:l.current,labelGapWithTick:5,tickSize:D,tickMargin:U});Math.round(g.width)!==Math.round(z)&&u(she({id:a,width:z}))}},[o,o==null||(r=o.current)===null||r===void 0||(r=r.tickRefs)===null||r===void 0?void 0:r.current,g?.width,g,u,i,a,n]),g==null||x==null)return null;var{dangerouslySetInnerHTML:w,ticks:j}=t,_=yhe(t,phe);return b.createElement(a0,TN({},_,{ref:o,labelRef:l,scale:p,x:x.x,y:x.y,width:g.width,height:g.height,className:aa("recharts-".concat(f," ").concat(f),s),viewBox:c,ticks:v}))},jhe=t=>{var r,a,s,n,i;return b.createElement(b.Fragment,null,b.createElement(vhe,{interval:(r=t.interval)!==null&&r!==void 0?r:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(a=t.includeHidden)!==null&&a!==void 0?a:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(s=t.angle)!==null&&s!==void 0?s:0,minTickGap:(n=t.minTickGap)!==null&&n!==void 0?n:5,tick:(i=t.tick)!==null&&i!==void 0?i:!0,tickFormatter:t.tickFormatter}),b.createElement(whe,t))},Nhe={allowDataOverflow:po.allowDataOverflow,allowDecimals:po.allowDecimals,allowDuplicatedCategory:po.allowDuplicatedCategory,hide:!1,mirror:po.mirror,orientation:po.orientation,padding:po.padding,reversed:po.reversed,scale:po.scale,tickCount:po.tickCount,type:po.type,width:po.width,yAxisId:0};class _m extends b.Component{render(){return b.createElement(jhe,this.props)}}KM(_m,"displayName","YAxis");KM(_m,"defaultProps",Nhe);var S1={exports:{}},_1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function khe(){if(FE)return _1;FE=1;var t=zm();function r(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,n=t.useRef,i=t.useEffect,o=t.useMemo,l=t.useDebugValue;return _1.useSyncExternalStoreWithSelector=function(c,d,u,f,p){var g=n(null);if(g.current===null){var x={hasValue:!1,value:null};g.current=x}else x=g.current;g=o(function(){function w(C){if(!j){if(j=!0,_=C,C=f(C),p!==void 0&&x.hasValue){var D=x.value;if(p(D,C))return S=D}return S=C}if(D=S,a(_,C))return D;var U=f(C);return p!==void 0&&p(D,U)?(_=C,D):(_=C,S=U)}var j=!1,_,S,N=u===void 0?null:u;return[function(){return w(d())},N===null?void 0:function(){return w(N())}]},[d,u,f,p]);var v=s(c,g[0],g[1]);return i(function(){x.hasValue=!0,x.value=v},[v]),l(v),v},_1}var $E;function She(){return $E||($E=1,S1.exports=khe()),S1.exports}She();function _he(t){t()}function Ahe(){let t=null,r=null;return{clear(){t=null,r=null},notify(){_he(()=>{let a=t;for(;a;)a.callback(),a=a.next})},get(){const a=[];let s=t;for(;s;)a.push(s),s=s.next;return a},subscribe(a){let s=!0;const n=r={callback:a,next:null,prev:r};return n.prev?n.prev.next=n:t=n,function(){!s||t===null||(s=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}var BE={notify(){},get:()=>[]};function Che(t,r){let a,s=BE,n=0,i=!1;function o(v){u();const w=s.subscribe(v);let j=!1;return()=>{j||(j=!0,w(),f())}}function l(){s.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return i}function u(){n++,a||(a=t.subscribe(c),s=Ahe())}function f(){n--,a&&n===0&&(a(),a=void 0,s.clear(),s=BE)}function p(){i||(i=!0,u())}function g(){i&&(i=!1,f())}const x={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>s};return x}var Phe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ehe=Phe(),The=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Dhe=The(),Ihe=()=>Ehe||Dhe?b.useLayoutEffect:b.useEffect,Ohe=Ihe(),Rhe=Symbol.for("react-redux-context"),Lhe=typeof globalThis<"u"?globalThis:{};function Mhe(){if(!b.createContext)return{};const t=Lhe[Rhe]??=new Map;let r=t.get(b.createContext);return r||(r=b.createContext(null),t.set(b.createContext,r)),r}var Fhe=Mhe();function $he(t){const{children:r,context:a,serverState:s,store:n}=t,i=b.useMemo(()=>{const c=Che(n);return{store:n,subscription:c,getServerState:s?()=>s:void 0}},[n,s]),o=b.useMemo(()=>n.getState(),[n]);Ohe(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=a||Fhe;return b.createElement(l.Provider,{value:i},r)}var Bhe=$he,Uhe=(t,r)=>r,r4=ct([Uhe,Yr,o8,on,K8,qd,Aoe,sn],Doe),a4=t=>{var r=t.currentTarget.getBoundingClientRect(),a=r.width/t.currentTarget.offsetWidth,s=r.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-r.left)/a),chartY:Math.round((t.clientY-r.top)/s)}},JM=dl("mouseClick"),XM=pg();XM.startListening({actionCreator:JM,effect:(t,r)=>{var a=t.payload,s=r4(r.getState(),a4(a));s?.activeIndex!=null&&r.dispatch(Lie({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var DN=dl("mouseMove"),ZM=pg();ZM.startListening({actionCreator:DN,effect:(t,r)=>{var a=t.payload,s=r.getState(),n=CS(s,s.tooltip.settings.shared),i=r4(s,a4(a));n==="axis"&&(i?.activeIndex!=null?r.dispatch(z8({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):r.dispatch(U8()))}});function zhe(t,r){return r instanceof HTMLElement?"HTMLElement <".concat(r.tagName,' class="').concat(r.className,'">'):r===window?"global.window":r}var UE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},QM=Co({name:"rootProps",initialState:UE,reducers:{updateOptions:(t,r)=>{var a;t.accessibilityLayer=r.payload.accessibilityLayer,t.barCategoryGap=r.payload.barCategoryGap,t.barGap=(a=r.payload.barGap)!==null&&a!==void 0?a:UE.barGap,t.barSize=r.payload.barSize,t.maxBarSize=r.payload.maxBarSize,t.stackOffset=r.payload.stackOffset,t.syncId=r.payload.syncId,t.syncMethod=r.payload.syncMethod,t.className=r.payload.className}}}),qhe=QM.reducer,{updateOptions:Vhe}=QM.actions,e9=Co({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,r)=>r.payload}}),{updatePolarOptions:Hhe}=e9.actions,Whe=e9.reducer,t9=dl("keyDown"),r9=dl("focus"),s4=pg();s4.startListening({actionCreator:t9,effect:(t,r)=>{var a=r.getState(),s=a.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:n}=a.tooltip,i=t.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(PS(n,of(a))),l=qd(a);if(i==="Enter"){var c=db(a,"axis","hover",String(n.index));r.dispatch(NN({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}));return}var d=Aie(a),u=d==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,p=o+f*u;if(!(l==null||p>=l.length||p<0)){var g=db(a,"axis","hover",String(p));r.dispatch(NN({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});s4.startListening({actionCreator:r9,effect:(t,r)=>{var a=r.getState(),s=a.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:n}=a.tooltip;if(!n.active&&n.index==null){var i="0",o=db(a,"axis","hover",String(i));r.dispatch(NN({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Zo=dl("externalEvent"),a9=pg();a9.startListening({actionCreator:Zo,effect:(t,r)=>{if(t.payload.handler!=null){var a=r.getState(),s={activeCoordinate:yoe(a),activeDataKey:Q8(a),activeIndex:Ku(a),activeLabel:Z8(a),activeTooltipIndex:Ku(a),isTooltipActive:boe(a)};t.payload.handler(s,t.payload.reactEvent)}}});var Ghe=ct([nf],t=>t.tooltipItemPayloads),Yhe=ct([Ghe,Sg,(t,r,a)=>r,(t,r,a)=>a],(t,r,a,s)=>{var n=t.find(l=>l.settings.dataKey===s);if(n!=null){var{positions:i}=n;if(i!=null){var o=r(i,a);return o}}}),s9=dl("touchMove"),n9=pg();n9.startListening({actionCreator:s9,effect:(t,r)=>{var a=t.payload,s=r.getState(),n=CS(s,s.tooltip.settings.shared);if(n==="axis"){var i=r4(s,a4({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));i?.activeIndex!=null&&r.dispatch(z8({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var o,l=a.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(UR),u=(o=c.getAttribute(zR))!==null&&o!==void 0?o:void 0,f=Yhe(r.getState(),d,u);r.dispatch(B8({activeDataKey:u,activeIndex:d,activeCoordinate:f}))}}});var Khe=hR({brush:Bue,cartesianAxis:nhe,chartData:Yoe,errorBars:qde,graphicalItems:Qce,layout:Pee,legend:pte,options:qoe,polarAxis:bce,polarOptions:Whe,referenceElements:Gue,rootProps:qhe,tooltip:Mie}),Jhe=function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return eee({reducer:Khe,preloadedState:r,middleware:s=>s({serializableCheck:!1}).concat([XM.middleware,ZM.middleware,s4.middleware,a9.middleware,n9.middleware]),devTools:{serialize:{replacer:zhe},name:"recharts-".concat(a)}})};function i9(t){var{preloadedState:r,children:a,reduxStoreName:s}=t,n=Ki(),i=b.useRef(null);if(n)return a;i.current==null&&(i.current=Jhe(r,s));var o=v5;return b.createElement(Bhe,{context:o,store:i.current},a)}function o9(t){var{layout:r,width:a,height:s,margin:n}=t,i=us(),o=Ki();return b.useEffect(()=>{o||(i(_ee(r)),i(Aee({width:a,height:s})),i(See(n)))},[i,o,r,a,s,n]),null}function l9(t){var r=us();return b.useEffect(()=>{r(Vhe(t))},[r,t]),null}var Xhe=["children"];function Zhe(t,r){if(t==null)return{};var a,s,n=Qhe(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Qhe(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},bb.apply(null,arguments)}var eme={width:"100%",height:"100%"},tme=b.forwardRef((t,r)=>{var a=P5(),s=E5(),n=YR();if(!Rm(a)||!Rm(s))return null;var{children:i,otherAttributes:o,title:l,desc:c}=t,d,u;return typeof o.tabIndex=="number"?d=o.tabIndex:d=n?0:void 0,typeof o.role=="string"?u=o.role:u=n?"application":void 0,b.createElement(l5,bb({},o,{title:l,desc:c,role:u,tabIndex:d,width:a,height:s,style:eme,ref:r}),i)}),rme=t=>{var{children:r}=t,a=fr(tv);if(!a)return null;var{width:s,height:n,y:i,x:o}=a;return b.createElement(l5,{width:s,height:n,x:o,y:i},r)},zE=b.forwardRef((t,r)=>{var{children:a}=t,s=Zhe(t,Xhe),n=Ki();return n?b.createElement(rme,null,a):b.createElement(tme,bb({ref:r},s),a)});function ame(){var t=us(),[r,a]=b.useState(null),s=fr(ate);return b.useEffect(()=>{if(r!=null){var n=r.getBoundingClientRect(),i=n.width/r.offsetWidth;On(i)&&i!==s&&t(Cee(i))}},[r,t,s]),a}function qE(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,s)}return a}function sme(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?qE(Object(a),!0).forEach(function(s){nme(t,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qE(Object(a)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(a,s))})}return t}function nme(t,r,a){return(r=ime(r))in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function ime(t){var r=ome(t,"string");return typeof r=="symbol"?r:r+""}function ome(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var s=a.call(t,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var lme=b.forwardRef((t,r)=>{var{children:a,className:s,height:n,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:p,onTouchEnd:g,onTouchMove:x,onTouchStart:v,style:w,width:j}=t,_=us(),[S,N]=b.useState(null),[C,D]=b.useState(null);Xoe();var U=ame(),z=b.useCallback(R=>{U(R),typeof r=="function"&&r(R),N(R),D(R)},[U,r,N,D]),E=b.useCallback(R=>{_(JM(R)),_(Zo({handler:i,reactEvent:R}))},[_,i]),I=b.useCallback(R=>{_(DN(R)),_(Zo({handler:d,reactEvent:R}))},[_,d]),T=b.useCallback(R=>{_(U8()),_(Zo({handler:u,reactEvent:R}))},[_,u]),F=b.useCallback(R=>{_(DN(R)),_(Zo({handler:f,reactEvent:R}))},[_,f]),Y=b.useCallback(()=>{_(r9())},[_]),O=b.useCallback(R=>{_(t9(R.key))},[_]),q=b.useCallback(R=>{_(Zo({handler:o,reactEvent:R}))},[_,o]),$=b.useCallback(R=>{_(Zo({handler:l,reactEvent:R}))},[_,l]),K=b.useCallback(R=>{_(Zo({handler:c,reactEvent:R}))},[_,c]),J=b.useCallback(R=>{_(Zo({handler:p,reactEvent:R}))},[_,p]),X=b.useCallback(R=>{_(Zo({handler:v,reactEvent:R}))},[_,v]),be=b.useCallback(R=>{_(s9(R)),_(Zo({handler:x,reactEvent:R}))},[_,x]),te=b.useCallback(R=>{_(Zo({handler:g,reactEvent:R}))},[_,g]);return b.createElement(iM.Provider,{value:S},b.createElement(RO.Provider,{value:C},b.createElement("div",{className:aa("recharts-wrapper",s),style:sme({position:"relative",cursor:"default",width:j,height:n},w),onClick:E,onContextMenu:q,onDoubleClick:$,onFocus:Y,onKeyDown:O,onMouseDown:K,onMouseEnter:I,onMouseLeave:T,onMouseMove:F,onMouseUp:J,onTouchEnd:te,onTouchMove:be,onTouchStart:X,ref:z},a)))}),cme=["children","className","width","height","style","compact","title","desc"];function dme(t,r){if(t==null)return{};var a,s,n=ume(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function ume(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var c9=b.forwardRef((t,r)=>{var{children:a,className:s,width:n,height:i,style:o,compact:l,title:c,desc:d}=t,u=dme(t,cme),f=Ec(u);return l?b.createElement(zE,{otherAttributes:f,title:c,desc:d},a):b.createElement(lme,{className:s,style:o,width:n,height:i,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},b.createElement(zE,{otherAttributes:f,title:c,desc:d,ref:r},b.createElement(Kue,null,a)))}),hme=["width","height"];function IN(){return IN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},IN.apply(null,arguments)}function mme(t,r){if(t==null)return{};var a,s,n=fme(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function fme(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var pme={top:5,right:5,bottom:5,left:5},gme={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:pme,reverseStackOrder:!1,syncMethod:"index"},d9=b.forwardRef(function(r,a){var s,n=Po(r.categoricalChartProps,gme),{width:i,height:o}=n,l=mme(n,hme);if(!Rm(i)||!Rm(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:p}=r,g={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(i9,{preloadedState:{options:g},reduxStoreName:(s=p.id)!==null&&s!==void 0?s:c},b.createElement(IM,{chartData:p.data}),b.createElement(o9,{width:i,height:o,layout:n.layout,margin:n.margin}),b.createElement(l9,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),b.createElement(c9,IN({},l,{width:i,height:o,ref:a})))}),xme=["axis","item"],vb=b.forwardRef((t,r)=>b.createElement(d9,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xme,tooltipPayloadSearcher:MS,categoricalChartProps:t,ref:r}));function yme(t){var r=us();return b.useEffect(()=>{r(Hhe(t))},[r,t]),null}var bme=["width","height","layout"];function ON(){return ON=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},ON.apply(null,arguments)}function vme(t,r){if(t==null)return{};var a,s,n=wme(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function wme(t,r){if(t==null)return{};var a={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(r.indexOf(s)!==-1)continue;a[s]=t[s]}return a}var jme={top:5,right:5,bottom:5,left:5},Nme={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jme,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},kme=b.forwardRef(function(r,a){var s,n=Po(r.categoricalChartProps,Nme),{width:i,height:o,layout:l}=n,c=vme(n,bme);if(!Rm(i)||!Rm(o))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=r,g={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return b.createElement(i9,{preloadedState:{options:g},reduxStoreName:(s=n.id)!==null&&s!==void 0?s:d},b.createElement(IM,{chartData:n.data}),b.createElement(o9,{width:i,height:o,layout:l,margin:n.margin}),b.createElement(l9,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),b.createElement(yme,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),b.createElement(c9,ON({width:i,height:o},c,{ref:a})))}),Sme=["item"],_me={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},RN=b.forwardRef((t,r)=>{var a=Po(t,_me);return b.createElement(kme,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Sme,tooltipPayloadSearcher:MS,categoricalChartProps:a,ref:r})}),Ame=["axis"],Cme=b.forwardRef((t,r)=>b.createElement(d9,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ame,tooltipPayloadSearcher:MS,categoricalChartProps:t,ref:r}));const Pme=({weeklyData:t,upcomingInterviews:r})=>{const a=t.labels.map((s,n)=>({day:s,New:t.new[n],Approved:t.approved[n]}));return e.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex-1 flex flex-col",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Weekly Flow"}),e.jsx("div",{className:"flex-1 w-full min-h-[100px]",children:e.jsx(Ru,{width:"100%",height:"100%",children:e.jsxs(vb,{data:a,barCategoryGap:2,children:[e.jsx(oh,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#9ca3af"}}),e.jsx(Ou,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),e.jsx(Um,{dataKey:"New",fill:"#3b82f6",radius:[4,4,0,0]}),e.jsx(Um,{dataKey:"Approved",fill:"#22c55e",radius:[4,4,0,0]})]})})}),e.jsxs("div",{className:"flex justify-center space-x-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1"})," New"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 mr-1"})," Approved"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Upcoming Interviews"}),e.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full",children:[r.length," today"]})]}),e.jsxs("div",{className:"space-y-3",children:[r.slice(0,3).map((s,n)=>e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("div",{className:"w-10 text-center font-bold text-gray-500 mr-3 shrink-0",children:e.jsx("div",{className:"text-xs uppercase",children:s.time})}),e.jsxs("div",{className:"flex-1 bg-gray-50 p-2 rounded border border-gray-100",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate",children:s.candidate}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:s.type})]})]},n)),r.length===0&&e.jsx("p",{className:"text-xs text-center text-gray-400 py-4",children:"No interviews scheduled"})]})]})]})},om=Et.SCHOLARSHIP_SERVICE.BASE_URL,Eme=Et.AID_SERVICE.BASE_URL;class Tme{constructor(){this.cache=new Map,this.cacheExpiry=300*1e3}async getDashboardOverview(){try{const r=localStorage.getItem("auth_token"),a=await fetch(`${om}/api/stats/overview`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(a.ok){const s=await a.json();if(s.success){const n=s.data;return{totalApplications:n.total_applications||0,approvedApplications:n.approved_applications||0,pendingReview:n.pending_applications||0,rejectedApplications:n.rejected_applications||0,activeStudents:n.total_students||0,partnerSchools:n.partner_schools_count||0,sscReviews:n.pending_applications||0,interviewsScheduled:n.interviews_scheduled_count||0,processingSpeed:n.avg_processing_days||3.2,actionable_count:n.actionable_count||0,critical_count:n.critical_count||0}}}}catch{console.warn("Scholarship overview API not available, using fallback data")}return{totalApplications:0,approvedApplications:0,pendingReview:0,rejectedApplications:0,totalBudget:0,disbursedAmount:0,remainingBudget:0,activeStudents:0,partnerSchools:0,sscReviews:0,interviewsScheduled:0,processingSpeed:0}}async getDisbursementMetrics(){try{const r=localStorage.getItem("auth_token"),a=await fetch(`${Eme}/api/school-aid/metrics`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(a.ok){const s=await a.json();return{totalBudget:s.total_budget||0,disbursedAmount:s.total_disbursed||0,remainingBudget:s.remaining_budget||0,utilizationRate:s.utilization_rate||0,disbursedCount:s.disbursed_applications||0}}}catch{console.warn("Aid service metrics not available")}return{totalBudget:0,disbursedAmount:0,remainingBudget:0,utilizationRate:0}}async getApplicationTrends(r="monthly"){try{const a=localStorage.getItem("auth_token"),s=await fetch(`${om}/api/stats/applications/trends`,{method:"GET",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"}});if(s.ok){const n=await s.json();if(n.success)return n.data}}catch(a){console.warn("Application trends API not available",a)}return{monthly:[{month:"Jan",applications:0,approved:0},{month:"Feb",applications:0,approved:0},{month:"Mar",applications:0,approved:0},{month:"Apr",applications:0,approved:0},{month:"May",applications:0,approved:0},{month:"Jun",applications:0,approved:0}]}}async getStatusDistribution(){try{const r=localStorage.getItem("auth_token"),a=await fetch(`${om}/api/stats/applications/by-status`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(a.ok){const s=await a.json();if(s.success){const n=s.data;return{approved:n.approved||0,pending:n.submitted||0,rejected:n.rejected||0,underReview:n.under_review||0}}}}catch{console.warn("Status distribution API not available")}return{approved:45,pending:30,rejected:15,underReview:10}}async getSSCWorkflow(){return{documentVerification:45,financialReview:32,academicReview:28,finalApproval:15}}async getScholarshipCategories(){try{const r=localStorage.getItem("auth_token"),a=await fetch(`${om}/api/stats/applications/by-subcategory`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(a.ok){const s=await a.json();if(s.success)return s.data}}catch{console.warn("Scholarship categories API not available")}return{"Merit Scholarship":456,"Need-Based Scholarship":321,"Special Program":234,Renewal:236}}async getTopSchools(){try{const r=localStorage.getItem("auth_token"),a=await fetch(`${om}/api/schools/top`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(a.ok){const s=await a.json();if(s.success&&Array.isArray(s.data))return s.data}}catch(r){console.warn("Top schools API fetch failed:",r)}return[{name:"University of the Philippines",applications:156,approved:98},{name:"Ateneo de Manila University",applications:134,approved:89},{name:"De La Salle University",applications:98,approved:67},{name:"University of Santo Tomas",applications:87,approved:54}]}async getAllDashboardData(){try{const[r,a,s,n,i,o,l]=await Promise.all([this.getDashboardOverview(),this.getDisbursementMetrics(),this.getApplicationTrends(),this.getStatusDistribution(),this.getSSCWorkflow(),this.getScholarshipCategories(),this.getTopSchools()]);return{overview:{...r,...a},applicationTrends:s,statusDistribution:n,sscWorkflow:i,scholarshipCategories:o,topSchools:l,lastUpdated:new Date().toISOString()}}catch(r){throw console.error("Error fetching dashboard data:",r),r}}async exportDashboardReport(r="csv"){try{const a=localStorage.getItem("auth_token"),s=await fetch(`${om}/api/dashboard/export?format=${r}`,{method:"POST",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"}});if(s.ok){const n=await s.blob(),i=window.URL.createObjectURL(n),o=document.createElement("a");return o.href=i,o.download=`dashboard-report-${new Date().toISOString().split("T")[0]}.${r}`,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(i),document.body.removeChild(o),!0}}catch{console.warn("Export dashboard report API not available")}return!1}async generatePDFReport(r,a){console.log(`Generating ${r} report...`);const{jsPDF:s}=await Oa(async()=>{const{jsPDF:d}=await Promise.resolve().then(()=>oF);return{jsPDF:d}},void 0),n=(await Oa(async()=>{const{default:d}=await Promise.resolve().then(()=>SF);return{default:d}},void 0)).default,i=new s,o=a?.overview||{},l=new Date().toLocaleString();switch(i.setFontSize(20),i.setTextColor(40),i.text("GovServePH: Scholarship & Aid Report",14,22),i.setFontSize(10),i.setTextColor(100),i.text(`Generated on: ${l}`,14,30),i.text(`Report Type: ${r.toUpperCase()}`,14,35),i.setLineWidth(.5),i.line(14,40,196,40),r){case"general":i.setFontSize(14),i.text("Executive Summary",14,50),n(i,{startY:55,head:[["Metric","Value","Status"]],body:[["Total Applications",(o.totalApplications||1247).toLocaleString(),"Active"],["Approved Applications",(o.approvedApplications||892).toLocaleString(),"Completed"],["Actionable Backlog",(o.actionable_count||0).toLocaleString(),"Pending"],["Critical Issues",(o.critical_count||0).toLocaleString(),"Requires Attention"],["Avg. Processing Speed",`${o.processingSpeed||"3.2"} Days`,"Stable"],["Total Disbursed",`Php ${(o.disbursedAmount||0).toLocaleString()}`,"Current Cycle"]],theme:"striped",headStyles:{fillColor:[63,81,181]}});break;case"applications":i.setFontSize(14),i.text("Application Status Breakdown",14,50);const u=(a?.applicationTrends?.monthly||[]).map(g=>[g.month,g.applications,g.approved]);n(i,{startY:55,head:[["Month","New Applications","Approved"]],body:u.length>0?u:[["Sept 2023","245","180"],["Oct 2023","310","210"],["Nov 2023","280","225"]],theme:"grid"});break;case"disbursements":i.setFontSize(14),i.text("Financial Aid & Disbursements",14,50),n(i,{startY:55,head:[["Description","Amount"]],body:[["Total Disbursed Amount",`Php ${(o.disbursedAmount||0).toLocaleString()}`],["Total Recipients",`${o.disbursedCount||0}`],["Avg. Grant Size",`Php ${o.disbursedCount>0?(o.disbursedAmount/o.disbursedCount).toLocaleString():"0"}`]],theme:"plain"});break;case"schools":i.setFontSize(14),i.text("Partner Institution Distribution",14,50);const p=(a?.topSchools||[]).map(g=>[g.name,g.scholar_count||g.active_scholars||0]);n(i,{startY:55,head:[["Institution Name","Active Scholars"]],body:p.length>0?p:[["University of the Philippines","450"],["Ateneo de Manila University","320"],["De La Salle University","280"]],headStyles:{fillColor:[46,125,50]}});break;default:i.text("Details for this report type are currently unavailable.",14,50)}const c=i.internal.getNumberOfPages();for(let d=1;d<=c;d++)i.setPage(d),i.setFontSize(8),i.text(`Page ${d} of ${c}`,14,285),i.text("Confidential - GovServePH Internal Use Only",200,285,{align:"right"});return i.save(`GSM_Report_${r}_${new Date().getTime()}.pdf`),!0}}const LN=new Tme,Dme=({onPageChange:t})=>{const[r,a]=b.useState(!0),[s,n]=b.useState(null),[i,o]=b.useState(null),[l,c]=b.useState(!1),[d,u]=b.useState(!1);b.useEffect(()=>{f()},[]);const f=async()=>{a(!0);try{const S=await LN.getAllDashboardData();n(S),o(null)}catch(S){console.error("Dashboard load failed",S),o("Using offline mode")}finally{a(!1)}},p=async S=>{u(!0);try{await LN.generatePDFReport(S,s),c(!1)}catch(N){console.error("Report generation failed",N)}finally{u(!1)}},g=s?.overview||{},x=s?.applicationTrends?.monthly||[],v=[{label:"Actionable Backlog",value:g.actionable_count||0,subtext:"Applications in workflow",status:g.actionable_count>50?"warning":"good",icon:lr},{label:"Critical Issues",value:g.critical_count||0,subtext:"Require resolution",status:g.critical_count>0?"critical":"good",icon:Br},{label:"Processing Speed",value:`${g.processingSpeed||0} Days`,subtext:"Avg time to approve",status:"good",trend:1,icon:Nc},{label:"Disbursed (Cycle)",value:(g.disbursedAmount||0)>=1e6?`${((g.disbursedAmount||0)/1e6).toFixed(1)}M`:`${((g.disbursedAmount||0)/1e3).toFixed(1)}K`,subtext:`${g.disbursedCount||0} accounts disbursed`,status:"neutral",icon:Nd}],w=[];(g.pendingReview>0||g.actionable_count>0)&&w.push({title:"Review Backlog",description:`${g.actionable_count||g.pendingReview||0} applications pending next workflow steps`,timeAgo:"Live",type:"stale_application",priority:"high"}),g.critical_count>0&&w.push({title:"Critical Resolution Needed",description:`${g.critical_count} applications flagged for compliance or rejection review`,timeAgo:"Urgent",type:"payment_failed",priority:"high"});const j={labels:x.map(S=>S.month),new:x.map(S=>S.applications),approved:x.map(S=>S.approved)},_=Array(Math.min(g.interviewsScheduled||0,3)).fill(null).map((S,N)=>({time:"Upcoming",candidate:`Scheduled Application ${N+1}`,type:"Interview"}));return r&&!s?e.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50/50 p-6 space-y-6 relative",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Dashboard"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Status: ",e.jsx("span",{className:"text-green-600 font-medium lowercase",children:" connected to services"}),"  ",new Date().toLocaleTimeString()]})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsx("button",{onClick:f,className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors bg-white border border-gray-200 shadow-sm",children:e.jsx(Nr,{className:`w-5 h-5 ${r?"animate-spin text-blue-600":""}`})})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:v.map((S,N)=>e.jsx(AX,{...S},N))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(CX,{items:w})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Pme,{weeklyData:j,upcomingInterviews:_})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Functional Controls"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>t("scholarship-applications","applications"),className:"flex items-center space-x-3 p-4 bg-blue-50 text-blue-700 rounded-xl hover:bg-blue-100 transition-all border border-blue-100 group",children:[e.jsx("div",{className:"p-2 bg-blue-600 text-white rounded-lg group-hover:scale-110 transition-transform",children:e.jsx(Kt,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold text-sm",children:"Review Applications"})]}),e.jsxs("button",{onClick:()=>t("sad-overview"),className:"flex items-center space-x-3 p-4 bg-purple-50 text-purple-700 rounded-xl hover:bg-purple-100 transition-all border border-purple-100 group",children:[e.jsx("div",{className:"p-2 bg-purple-600 text-white rounded-lg group-hover:scale-110 transition-transform",children:e.jsx(va,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold text-sm",children:"Process Grants"})]}),e.jsxs("button",{onClick:()=>t("scholarship-programs"),className:"flex items-center space-x-3 p-4 bg-emerald-50 text-emerald-700 rounded-xl hover:bg-emerald-100 transition-all border border-emerald-100 group",children:[e.jsx("div",{className:"p-2 bg-emerald-600 text-white rounded-lg group-hover:scale-110 transition-transform",children:e.jsx(Nc,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold text-sm",children:"Manage Categories"})]}),e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-3 p-4 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all border border-gray-100 group",children:[e.jsx("div",{className:"p-2 bg-gray-600 text-white rounded-lg group-hover:scale-110 transition-transform",children:e.jsx(Nd,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold text-sm",children:"Generate Reports"})]})]})]}),e.jsx(wo,{children:l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:e.jsxs(br.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl border border-slate-200 w-full max-w-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(Kt,{className:"w-5 h-5 text-blue-600"}),"Generate Report"]}),e.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-slate-200 rounded-full transition-colors",children:e.jsx(dr,{className:"w-5 h-5 text-slate-500"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("p",{className:"text-slate-500 text-sm",children:"Select the type of report you'd like to generate. All reports will be exported as PDF."}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:[{id:"general",title:"General Overview",desc:"Summary of all key metrics and performance.",icon:Nc,color:"blue"},{id:"applications",title:"Applications Report",desc:"Detailed breakdown of application statuses.",icon:Kt,color:"purple"},{id:"disbursements",title:"Financial Aid Report",desc:"Summary of budget utilization and grants.",icon:va,color:"emerald"},{id:"schools",title:"Partner Schools Report",desc:"Distribution of scholars across institutions.",icon:Wr,color:"orange"}].map(S=>e.jsxs("button",{onClick:()=>p(S.id),disabled:d,className:"flex items-center gap-4 p-4 text-left rounded-xl border border-slate-200 hover:border-blue-400 hover:bg-blue-50/50 transition-all group disabled:opacity-50",children:[e.jsx("div",{className:`p-3 bg-${S.color}-100 text-${S.color}-600 rounded-lg group-hover:scale-110 transition-transform`,children:e.jsx(S.icon,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-slate-900",children:S.title}),e.jsx("p",{className:"text-xs text-slate-500",children:S.desc})]}),e.jsx(Ra,{className:"w-4 h-4 text-slate-300 group-hover:text-blue-500"})]},S.id))})]}),d&&e.jsxs("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] flex flex-col items-center justify-center space-y-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:"Preparing your PDF..."})]})]})})})]})};function Ime({onPageChange:t}){return e.jsx(Dme,{onPageChange:t})}const u9=({tabs:t,activeTab:r,onTabChange:a,className:s="",layoutId:n="activeTab",showUnderline:i=!0,variant:o="default"})=>{const l=()=>{switch(o){case"compact":return"py-2 px-2 sm:px-3 text-xs sm:text-sm";case"large":return"py-3 sm:py-4 px-2 sm:px-3 text-sm sm:text-base";default:return"py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm"}};return e.jsx("div",{className:`border-b border-gray-200 dark:border-slate-700 ${s}`,children:e.jsx("nav",{className:"-mb-px flex space-x-4 sm:space-x-6 lg:space-x-8 overflow-x-auto relative",children:t.map((c,d)=>e.jsxs(br.button,{onClick:()=>a(c.id),className:`${l()} font-medium whitespace-nowrap transition-colors relative ${r===c.id?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:d*.1,duration:.3,ease:"easeOut"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[c.label,i&&r===c.id&&e.jsx(br.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-orange-500",layoutId:n,initial:{scaleX:0},animate:{scaleX:1},transition:{type:"spring",stiffness:300,damping:30,duration:.3}})]},c.id))})})},h9=({activeTab:t,children:r,className:a=""})=>e.jsx(wo,{mode:"wait",children:e.jsx(br.div,{className:a,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeInOut"},children:r},t)}),MN={page:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeOut"}},card:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeOut"}},cardStagger:{delays:{0:.1,1:.2,2:.3,3:.4,4:.5,5:.6,6:.7,7:.8}},modal:{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"}},modalBackdrop:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},listItem:{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,ease:"easeOut"}},listStagger:{container:{},item:{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,ease:"easeOut"}}},button:{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.1}},icon:{whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},transition:{duration:.2}},fade:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},slideUp:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeOut"}},slideDown:{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,ease:"easeOut"}},slideLeft:{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,ease:"easeOut"}},slideRight:{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:"easeOut"}},scale:{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,ease:"easeOut"}},tab:{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"}},notification:{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.9},transition:{duration:.3,ease:"easeOut"}},loading:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},tableRow:{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"}},formField:{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"}}},Ome=t=>MN.cardStagger.delays[t]||.1,Rme=(t=.1)=>({initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:t}},exit:{opacity:0,transition:{staggerChildren:t,staggerDirection:-1}}}),jv=({children:t,variant:r="page",stagger:a=!1,staggerDelay:s=.1,className:n="",...i})=>{const l=a?Rme(s):MN[r]||MN.page;return e.jsx(br.div,{variants:l,initial:"initial",animate:"animate",exit:"exit",className:n,...i,children:t})},Lme=({children:t,columns:r=4,gap:a=6,staggerDelay:s=.1,className:n="",...i})=>{const o={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4",5:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",6:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6"};return e.jsx(br.div,{initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:s}},exit:{opacity:0,transition:{staggerChildren:s,staggerDirection:-1}},className:`grid ${o[r]||o[4]} gap-${a} ${n}`,...i,children:t})},Mme=({size:t="md",className:r=""})=>{const a={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};return e.jsx(br.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:`flex items-center justify-center ${r}`,children:e.jsx(za,{className:`${a[t]} animate-spin text-orange-500`})})},m9=({className:t=""})=>e.jsx(br.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},className:`bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 ${t}`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-700 rounded w-1/3"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-slate-700 rounded"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-slate-700 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-700 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-700 rounded w-1/4"})]})]})}),Fme=({columns:t=4})=>e.jsx(br.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,ease:"easeOut"},className:"animate-pulse",children:Array.from({length:t}).map((r,a)=>e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-700 rounded w-full"})},a))}),$me=({className:t=""})=>e.jsx(br.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2,ease:"easeOut"},className:`p-4 border-b border-gray-200 dark:border-slate-700 ${t}`,children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-slate-700 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-700 rounded w-1/3"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-slate-700 rounded w-1/2"})]}),e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-slate-700 rounded w-16"})]})})}),Bme=({module:t,message:r="Loading..."})=>{const s=(n=>{switch(n){case"students":return Wr;case"applications":return Kt;case"reports":return nl;case"settings":return rl;case"archived":return kp;default:return nk}})(t);return e.jsxs(br.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"flex flex-col items-center justify-center min-h-[400px] space-y-4",children:[e.jsxs(br.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"relative",children:[e.jsx(s,{className:"w-16 h-16 text-orange-500"}),e.jsx(br.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:e.jsx(za,{className:"w-6 h-6 text-orange-400"})})]}),e.jsxs(br.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:r}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we load the data..."})]}),e.jsx(br.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"flex space-x-1",children:[0,1,2].map(n=>e.jsx(br.div,{animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:n*.2},className:"w-2 h-2 bg-orange-500 rounded-full"},n))})]})},Ume=({columns:t=4,rows:r=3,className:a=""})=>e.jsx(br.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-${t} gap-6 ${a}`,children:Array.from({length:t*r}).map((s,n)=>e.jsx(m9,{},n))}),zme=({columns:t=5,rows:r=5,className:a=""})=>e.jsxs(br.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:`bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden ${a}`,children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-700 rounded w-1/4"})})}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:Array.from({length:r}).map((s,n)=>e.jsx(Fme,{columns:t},n))})]}),qme=({items:t=5,className:r=""})=>e.jsx(br.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:`bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden ${r}`,children:Array.from({length:t}).map((a,s)=>e.jsx($me,{},s))}),n4=({variant:t="module",module:r="default",message:a="Loading...",size:s="md",className:n="",columns:i=4,rows:o=3,items:l=5})=>{switch(t){case"spinner":return e.jsx(Mme,{size:s,className:n});case"card":return e.jsx(m9,{className:n});case"grid":return e.jsx(Ume,{columns:i,rows:o,className:n});case"table":return e.jsx(zme,{columns:i,rows:o,className:n});case"list":return e.jsx(qme,{items:l,className:n});case"module":default:return e.jsx(Bme,{module:r,message:a})}},i4=({message:t="Loading...",size:r="default",className:a="",showIcon:s=!0})=>{const i=(()=>{switch(r){case"small":return{container:"h-32",icon:"w-6 h-6",text:"text-sm"};case"large":return{container:"h-96",icon:"w-12 h-12",text:"text-lg"};default:return{container:"h-64",icon:"w-8 h-8",text:"text-base"}}})();return e.jsx("div",{className:`flex items-center justify-center ${i.container} ${a}`,children:e.jsxs("div",{className:"text-center",children:[s&&e.jsx(br.div,{className:"flex justify-center mb-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},children:e.jsx(br.div,{className:`${i.icon} text-gray-500`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(Nr,{className:"w-full h-full"})})}),e.jsx(br.p,{className:`${i.text} text-gray-500 font-medium`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:t})]})})},Vme=({className:t=""})=>e.jsx(i4,{message:"Loading users...",className:t}),Hme=({className:t=""})=>e.jsx(i4,{message:"Loading dashboard...",className:t}),Wme=({className:t=""})=>e.jsx(i4,{message:"Loading applications...",className:t}),Nv=({className:t="",module:r="default"})=>e.jsx(n4,{variant:"module",module:r,message:"Loading data...",className:t}),Gme=({children:t,index:r=0,delay:a=null,className:s="",hover:n=!0,clickable:i=!1,onClick:o=null,...l})=>{const c=a!==null?a:Ome(r),d={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut",delay:c}},exit:{opacity:0,y:-20,transition:{duration:.2}},hover:n?{scale:1.02,y:-2,transition:{duration:.2}}:{},tap:i?{scale:.98,transition:{duration:.1}}:{}},g=`bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 transition-shadow duration-200 ${n?"hover:shadow-xl dark:hover:shadow-2xl":""} ${i?"cursor-pointer":""} ${s}`.trim();return e.jsx(br.div,{variants:d,initial:"initial",animate:"animate",exit:"exit",whileHover:n?"hover":void 0,whileTap:i?"tap":void 0,className:g,onClick:o,...l,children:t})},Au=({title:t,value:r,icon:a,color:s="blue",trend:n=null,index:i=0,className:o="",...l})=>{const c={blue:"text-blue-500",green:"text-green-500",orange:"text-orange-500",purple:"text-purple-500",red:"text-red-500",yellow:"text-yellow-500"};return e.jsx(Gme,{index:i,className:o,...l,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:t}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r}),n&&e.jsxs("div",{className:`flex items-center mt-2 text-sm ${n.direction==="up"?"text-green-600":n.direction==="down"?"text-red-600":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:n.value}),e.jsx("span",{className:"ml-1",children:n.label})]})]}),a&&e.jsx("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-slate-700",children:e.jsx(a,{className:`w-6 h-6 ${c[s]||c.blue}`})})]})})};let Yme=0;const Kme=()=>{const[t,r]=b.useState([]),a=b.useCallback((c,d="success",u=3e3)=>{const f=Yme++,p={id:f,message:c,type:d,duration:u};return r(g=>[...g,p]),f},[]),s=b.useCallback(c=>{r(d=>d.filter(u=>u.id!==c))},[]),n=b.useCallback((c,d)=>a(c,"success",d),[a]),i=b.useCallback((c,d)=>a(c,"error",d),[a]),o=b.useCallback((c,d)=>a(c,"warning",d),[a]),l=b.useCallback((c,d)=>a(c,"info",d),[a]);return{toasts:t,showToast:a,hideToast:s,success:n,error:i,warning:o,info:l}},Jme=({toasts:t,removeToast:r})=>e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(a=>e.jsx(bD,{message:a.message,type:a.type,duration:a.duration,onClose:()=>r(a.id)},a.id))}),f9=b.createContext(),na=()=>{const t=b.useContext(f9);if(!t)throw new Error("useToastContext must be used within a ToastProvider");return t},p9=({children:t})=>{const r=Kme();return e.jsxs(f9.Provider,{value:r,children:[t,e.jsx(Jme,{toasts:r.toasts,removeToast:r.hideToast})]})};function VE(){const{showSuccess:t,showError:r}=na(),[a,s]=b.useState({totalApplications:0,pendingReview:0,underReview:0,approved:0,rejected:0,verifiedStudents:0,scheduledInterviews:0,endorsedToSSC:0,activeSchoolYear:"N/A",activeSemester:"N/A"}),[n,i]=b.useState(!0),[o,l]=b.useState([]),[c,d]=b.useState(!1);b.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const x=await Ut.getDashboardOverview();s({totalApplications:x.stats.totalApplications||0,pendingReview:x.stats.pendingReview||0,underReview:x.stats.underReview||0,approved:x.stats.approved||0,rejected:x.stats.rejected||0,verifiedStudents:x.stats.verifiedStudents||0,scheduledInterviews:x.stats.scheduledInterviews||0,endorsedToSSC:x.stats.endorsedToSSC||0,activeSchoolYear:x.stats.activeSchoolYear||"N/A",activeSemester:x.stats.activeSemester||"N/A"}),l(x.recentActivities||[])}catch(x){console.error("Failed to fetch overview data:",x),r("Failed to load dashboard data")}finally{i(!1)}},f=async()=>{try{d(!0);const x=await Ut.getApplicationsReportData();if(!x||x.length===0){r("No applications found to export");return}const{jsPDF:v}=await Oa(async()=>{const{jsPDF:C}=await Promise.resolve().then(()=>oF);return{jsPDF:C}},void 0),w=(await Oa(async()=>{const{default:C}=await Promise.resolve().then(()=>SF);return{default:C}},void 0)).default,j=new v("landscape"),_=new Date().toLocaleString();j.setFontSize(18),j.setTextColor(40),j.text("Scholarship Applications Report",14,20),j.setFontSize(10),j.setTextColor(100),j.text(`Generated on: ${_}`,14,28),j.text(`Total Records: ${x.length}`,14,33),j.setLineWidth(.5),j.line(14,38,283,38);const S=x.map(C=>[C.application_number||"N/A",C.student?`${C.student.first_name} ${C.student.last_name}`:"N/A",C.school?C.school.name:"N/A",C.category?C.category.name:"N/A",C.subcategory?C.subcategory.name:"N/A",C.status.replace(/_/g," ").toUpperCase(),new Date(C.created_at).toLocaleDateString()]);w(j,{startY:45,head:[["App #","Student Name","School","Category","Subcategory","Status","Date Applied"]],body:S,theme:"striped",headStyles:{fillColor:[37,99,235]},styles:{fontSize:8},columnStyles:{1:{cellWidth:"auto"},2:{cellWidth:"auto"}}});const N=j.internal.getNumberOfPages();for(let C=1;C<=N;C++)j.setPage(C),j.setFontSize(8),j.text(`Page ${C} of ${N}`,14,200),j.text("Confidential - Scholarship Management System",283,200,{align:"right"});j.save(`scholarship_report_${new Date().toISOString().split("T")[0]}.pdf`),t("PDF report generated successfully")}catch(x){console.error("Failed to export report:",x),r("Failed to generate PDF report")}finally{d(!1)}},p=x=>{switch(x){case"application":return e.jsx(Kt,{className:"w-4 h-4 text-blue-500"});case"approval":return e.jsx(jt,{className:"w-4 h-4 text-green-500"});case"interview":return e.jsx(Rr,{className:"w-4 h-4 text-purple-500"});case"endorsement":return e.jsx(Ba,{className:"w-4 h-4 text-orange-500"});case"rejection":return e.jsx(Br,{className:"w-4 h-4 text-red-500"});default:return e.jsx(Kt,{className:"w-4 h-4 text-gray-500"})}},g=x=>{switch(x){case"pending":case"draft":case"submitted":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"approved":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"interview_scheduled":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"endorsed_to_ssc":case"ssc_final_approval":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}};return n?e.jsx(n4,{variant:"module",module:"applications",message:"Loading applications..."}):e.jsxs(jv,{variant:"page",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between border-b border-gray-100 dark:border-slate-700 pb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Application Management Overview"}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/40 dark:to-indigo-900/40 text-blue-700 dark:text-blue-300 px-4 py-1.5 rounded-full text-lg font-bold border border-blue-100/50 dark:border-blue-800/50 shadow-sm transition-all hover:shadow-md",children:[e.jsx(Rr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsxs("span",{children:["S.Y. ",a.activeSchoolYear]}),e.jsx("span",{className:"text-blue-300 dark:text-blue-700 mx-2",children:"|"}),e.jsx("span",{children:a.activeSemester})]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Monitor and manage scholarship applications across all stages"})]}),e.jsxs("div",{className:"flex items-center space-x-3 mt-4 lg:mt-0",children:[e.jsxs("button",{onClick:u,className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors flex items-center",children:[e.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e.jsxs("button",{onClick:f,disabled:c,className:"bg-blue-600 text-white border border-transparent px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ra,{className:"w-4 h-4 mr-2"}),c?"Exporting...":"Export Report"]})]})]}),e.jsxs(Lme,{columns:4,staggerDelay:.1,children:[e.jsx(Au,{title:"Total Applications",value:a.totalApplications.toLocaleString(),icon:Wr,color:"blue",index:0}),e.jsx(Au,{title:"Pending Review",value:a.pendingReview.toLocaleString(),icon:lr,color:"yellow",index:1}),e.jsx(Au,{title:"Under Review",value:a.underReview.toLocaleString(),icon:Kt,color:"blue",index:2}),e.jsx(Au,{title:"Approved",value:a.approved.toLocaleString(),icon:jt,color:"green",index:3}),e.jsx(Au,{title:"Verified Students",value:a.verifiedStudents.toLocaleString(),icon:Dn,color:"purple",index:4}),e.jsx(Au,{title:"Scheduled Interviews",value:a.scheduledInterviews.toLocaleString(),icon:Rr,color:"indigo",index:5}),e.jsx(Au,{title:"Endorsed to SSC",value:a.endorsedToSSC.toLocaleString(),icon:Ba,color:"orange",index:6}),e.jsx(Au,{title:"Rejected",value:a.rejected.toLocaleString(),icon:Br,color:"red",index:7})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activities"})}),o.length>0?e.jsx("div",{className:"space-y-4",children:o.map(x=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:p(x.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:x.message}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:x.time}),e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${g(x.status)}`,children:x.status.replace(/_/g," ")})]})]})]},x.id))}):e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No recent activities found"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("button",{className:"p-4 text-left rounded-lg border border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Kt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Review Applications"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Process pending applications"})]})]})}),e.jsx("button",{className:"p-4 text-left rounded-lg border border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-purple-100 dark:bg-purple-900/30",children:e.jsx(Dn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Verify Students"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Check enrollment status"})]})]})}),e.jsx("button",{className:"p-4 text-left rounded-lg border border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-indigo-100 dark:bg-indigo-900/30",children:e.jsx(Rr,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Schedule Interviews"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Set up interview sessions"})]})]})}),e.jsx("button",{className:"p-4 text-left rounded-lg border border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-orange-100 dark:bg-orange-900/30",children:e.jsx(Ba,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Endorse to SSC"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Forward approved applications"})]})]})})]})]})]})}function ba(t){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ba(t)}var zl=Uint8Array,No=Uint16Array,o4=Int32Array,l4=new zl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c4=new zl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),HE=new zl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),g9=function(t,r){for(var a=new No(31),s=0;s<31;++s)a[s]=r+=1<<t[s-1];for(var n=new o4(a[30]),s=1;s<30;++s)for(var i=a[s];i<a[s+1];++i)n[i]=i-a[s]<<5|s;return{b:a,r:n}},x9=g9(l4,2),Xme=x9.b,FN=x9.r;Xme[28]=258,FN[258]=28;var Zme=g9(c4,0),WE=Zme.r,$N=new No(32768);for(var Ua=0;Ua<32768;++Ua){var Cu=(Ua&43690)>>1|(Ua&21845)<<1;Cu=(Cu&52428)>>2|(Cu&13107)<<2,Cu=(Cu&61680)>>4|(Cu&3855)<<4,$N[Ua]=((Cu&65280)>>8|(Cu&255)<<8)>>1}var gp=(function(t,r,a){for(var s=t.length,n=0,i=new No(r);n<s;++n)t[n]&&++i[t[n]-1];var o=new No(r);for(n=1;n<r;++n)o[n]=o[n-1]+i[n-1]<<1;var l;if(a){l=new No(1<<r);var c=15-r;for(n=0;n<s;++n)if(t[n])for(var d=n<<4|t[n],u=r-t[n],f=o[t[n]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)l[$N[f]>>c]=d}else for(l=new No(s),n=0;n<s;++n)t[n]&&(l[n]=$N[o[t[n]-1]++]>>15-t[n]);return l}),vh=new zl(288);for(var Ua=0;Ua<144;++Ua)vh[Ua]=8;for(var Ua=144;Ua<256;++Ua)vh[Ua]=9;for(var Ua=256;Ua<280;++Ua)vh[Ua]=7;for(var Ua=280;Ua<288;++Ua)vh[Ua]=8;var wb=new zl(32);for(var Ua=0;Ua<32;++Ua)wb[Ua]=5;var Qme=gp(vh,9,0),efe=gp(wb,5,0),y9=function(t){return(t+7)/8|0},tfe=function(t,r,a){return(a==null||a>t.length)&&(a=t.length),new zl(t.subarray(r,a))},ld=function(t,r,a){a<<=r&7;var s=r/8|0;t[s]|=a,t[s+1]|=a>>8},Yf=function(t,r,a){a<<=r&7;var s=r/8|0;t[s]|=a,t[s+1]|=a>>8,t[s+2]|=a>>16},A1=function(t,r){for(var a=[],s=0;s<t.length;++s)t[s]&&a.push({s,f:t[s]});var n=a.length,i=a.slice();if(!n)return{t:v9,l:0};if(n==1){var o=new zl(a[0].s+1);return o[a[0].s]=1,{t:o,l:1}}a.sort(function(C,D){return C.f-D.f}),a.push({s:-1,f:25001});var l=a[0],c=a[1],d=0,u=1,f=2;for(a[0]={s:-1,f:l.f+c.f,l,r:c};u!=n-1;)l=a[a[d].f<a[f].f?d++:f++],c=a[d!=u&&a[d].f<a[f].f?d++:f++],a[u++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,s=1;s<n;++s)i[s].s>p&&(p=i[s].s);var g=new No(p+1),x=BN(a[u-1],g,0);if(x>r){var s=0,v=0,w=x-r,j=1<<w;for(i.sort(function(D,U){return g[U.s]-g[D.s]||D.f-U.f});s<n;++s){var _=i[s].s;if(g[_]>r)v+=j-(1<<x-g[_]),g[_]=r;else break}for(v>>=w;v>0;){var S=i[s].s;g[S]<r?v-=1<<r-g[S]++-1:++s}for(;s>=0&&v;--s){var N=i[s].s;g[N]==r&&(--g[N],++v)}x=r}return{t:new zl(g),l:x}},BN=function(t,r,a){return t.s==-1?Math.max(BN(t.l,r,a+1),BN(t.r,r,a+1)):r[t.s]=a},GE=function(t){for(var r=t.length;r&&!t[--r];);for(var a=new No(++r),s=0,n=t[0],i=1,o=function(c){a[s++]=c},l=1;l<=r;++l)if(t[l]==n&&l!=r)++i;else{if(!n&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(n),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(n);i=1,n=t[l]}return{c:a.subarray(0,s),n:r}},Kf=function(t,r){for(var a=0,s=0;s<r.length;++s)a+=t[s]*r[s];return a},b9=function(t,r,a){var s=a.length,n=y9(r+2);t[n]=s&255,t[n+1]=s>>8,t[n+2]=t[n]^255,t[n+3]=t[n+1]^255;for(var i=0;i<s;++i)t[n+i+4]=a[i];return(n+4+s)*8},YE=function(t,r,a,s,n,i,o,l,c,d,u){ld(r,u++,a),++n[256];for(var f=A1(n,15),p=f.t,g=f.l,x=A1(i,15),v=x.t,w=x.l,j=GE(p),_=j.c,S=j.n,N=GE(v),C=N.c,D=N.n,U=new No(19),z=0;z<_.length;++z)++U[_[z]&31];for(var z=0;z<C.length;++z)++U[C[z]&31];for(var E=A1(U,7),I=E.t,T=E.l,F=19;F>4&&!I[HE[F-1]];--F);var Y=d+5<<3,O=Kf(n,vh)+Kf(i,wb)+o,q=Kf(n,p)+Kf(i,v)+o+14+3*F+Kf(U,I)+2*U[16]+3*U[17]+7*U[18];if(c>=0&&Y<=O&&Y<=q)return b9(r,u,t.subarray(c,c+d));var $,K,J,X;if(ld(r,u,1+(q<O)),u+=2,q<O){$=gp(p,g,0),K=p,J=gp(v,w,0),X=v;var be=gp(I,T,0);ld(r,u,S-257),ld(r,u+5,D-1),ld(r,u+10,F-4),u+=14;for(var z=0;z<F;++z)ld(r,u+3*z,I[HE[z]]);u+=3*F;for(var te=[_,C],R=0;R<2;++R)for(var ae=te[R],z=0;z<ae.length;++z){var W=ae[z]&31;ld(r,u,be[W]),u+=I[W],W>15&&(ld(r,u,ae[z]>>5&127),u+=ae[z]>>12)}}else $=Qme,K=vh,J=efe,X=wb;for(var z=0;z<l;++z){var pe=s[z];if(pe>255){var W=pe>>18&31;Yf(r,u,$[W+257]),u+=K[W+257],W>7&&(ld(r,u,pe>>23&31),u+=l4[W]);var ce=pe&31;Yf(r,u,J[ce]),u+=X[ce],ce>3&&(Yf(r,u,pe>>5&8191),u+=c4[ce])}else Yf(r,u,$[pe]),u+=K[pe]}return Yf(r,u,$[256]),u+K[256]},rfe=new o4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),v9=new zl(0),afe=function(t,r,a,s,n,i){var o=i.z||t.length,l=new zl(s+o+5*(1+Math.ceil(o/7e3))+n),c=l.subarray(s,l.length-n),d=i.l,u=(i.r||0)&7;if(r){u&&(c[0]=i.r>>3);for(var f=rfe[r-1],p=f>>13,g=f&8191,x=(1<<a)-1,v=i.p||new No(32768),w=i.h||new No(x+1),j=Math.ceil(a/3),_=2*j,S=function(Ze){return(t[Ze]^t[Ze+1]<<j^t[Ze+2]<<_)&x},N=new o4(25e3),C=new No(288),D=new No(32),U=0,z=0,E=i.i||0,I=0,T=i.w||0,F=0;E+2<o;++E){var Y=S(E),O=E&32767,q=w[Y];if(v[O]=q,w[Y]=O,T<=E){var $=o-E;if((U>7e3||I>24576)&&($>423||!d)){u=YE(t,c,0,N,C,D,z,I,F,E-F,u),I=U=z=0,F=E;for(var K=0;K<286;++K)C[K]=0;for(var K=0;K<30;++K)D[K]=0}var J=2,X=0,be=g,te=O-q&32767;if($>2&&Y==S(E-te))for(var R=Math.min(p,$)-1,ae=Math.min(32767,E),W=Math.min(258,$);te<=ae&&--be&&O!=q;){if(t[E+J]==t[E+J-te]){for(var pe=0;pe<W&&t[E+pe]==t[E+pe-te];++pe);if(pe>J){if(J=pe,X=te,pe>R)break;for(var ce=Math.min(te,pe-2),we=0,K=0;K<ce;++K){var je=E-te+K&32767,fe=v[je],xe=je-fe&32767;xe>we&&(we=xe,q=je)}}}O=q,q=v[O],te+=O-q&32767}if(X){N[I++]=268435456|FN[J]<<18|WE[X];var $e=FN[J]&31,ge=WE[X]&31;z+=l4[$e]+c4[ge],++C[257+$e],++D[ge],T=E+J,++U}else N[I++]=t[E],++C[t[E]]}}for(E=Math.max(E,T);E<o;++E)N[I++]=t[E],++C[t[E]];u=YE(t,c,d,N,C,D,z,I,F,E-F,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=w,i.p=v,i.i=E,i.w=T)}else{for(var E=i.w||0;E<o+d;E+=65535){var ot=E+65535;ot>=o&&(c[u/8|0]=d,ot=o),u=b9(c,u+1,t.subarray(E,ot))}i.i=o}return tfe(l,0,s+y9(u)+n)},w9=function(){var t=1,r=0;return{p:function(a){for(var s=t,n=r,i=a.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)n+=s+=a[o];s=(s&65535)+15*(s>>16),n=(n&65535)+15*(n>>16)}t=s,r=n},d:function(){return t%=65521,r%=65521,(t&255)<<24|(t&65280)<<8|(r&255)<<8|r>>8}}},sfe=function(t,r,a,s,n){if(!n&&(n={l:1},r.dictionary)){var i=r.dictionary.subarray(-32768),o=new zl(i.length+t.length);o.set(i),o.set(t,i.length),t=o,n.w=i.length}return afe(t,r.level==null?6:r.level,r.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+r.mem,a,s,n)},j9=function(t,r,a){for(;a;++r)t[r]=a,a>>>=8},nfe=function(t,r){var a=r.level,s=a==0?0:a<6?1:a==9?3:2;if(t[0]=120,t[1]=s<<6|(r.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,r.dictionary){var n=w9();n.p(r.dictionary),j9(t,2,n.d())}};function UN(t,r){r||(r={});var a=w9();a.p(t);var s=sfe(t,r,r.dictionary?6:2,4);return nfe(s,r),j9(s,s.length-4,a.d()),s}var ife=typeof TextDecoder<"u"&&new TextDecoder,ofe=0;try{ife.decode(v9,{stream:!0}),ofe=1}catch{}function lfe(t){if(Array.isArray(t))return t}function cfe(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var s,n,i,o,l=[],c=!0,d=!1;try{if(i=(a=a.call(t)).next,r!==0)for(;!(c=(s=i.call(a)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function KE(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,s=Array(r);a<r;a++)s[a]=t[a];return s}function dfe(t,r){if(t){if(typeof t=="string")return KE(t,r);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?KE(t,r):void 0}}function ufe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JE(t,r){return lfe(t)||cfe(t,r)||dfe(t,r)||ufe()}function XE(t,r="utf8"){return new TextDecoder(r).decode(t)}const hfe=new TextEncoder;function mfe(t){return hfe.encode(t)}const ffe=1024*8,pfe=(()=>{const t=new Uint8Array(4),r=new Uint32Array(t.buffer);return!((r[0]=1)&t[0])})(),C1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class d4{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(r=ffe,a={}){let s=!1;typeof r=="number"?r=new ArrayBuffer(r):(s=!0,this.lastWrittenByte=r.byteLength);const n=a.offset?a.offset>>>0:0,i=r.byteLength-n;let o=n;(ArrayBuffer.isView(r)||r instanceof d4)&&(r.byteLength!==r.buffer.byteLength&&(o=r.byteOffset+n),r=r.buffer),s?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=r,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(r=1){return this.offset+r<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(r=1){return this.offset+=r,this}back(r=1){return this.offset-=r,this}seek(r){return this.offset=r,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const r=this._marks.pop();if(r===void 0)throw new Error("Mark stack empty");return this.seek(r),this}rewind(){return this.offset=0,this}ensureAvailable(r=1){if(!this.available(r)){const s=(this.offset+r)*2,n=new Uint8Array(s);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(r=1){return this.readArray(r,"uint8")}readArray(r,a){const s=C1[a].BYTES_PER_ELEMENT*r,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+s);if(this.littleEndian===pfe&&a!=="uint8"&&a!=="int8"){const l=new Uint8Array(this.buffer.slice(n,n+s));l.reverse();const c=new C1[a](l.buffer);return this.offset+=s,c.reverse(),c}const o=new C1[a](i);return this.offset+=s,o}readInt16(){const r=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,r}readUint16(){const r=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,r}readInt32(){const r=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,r}readUint32(){const r=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat32(){const r=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,r}readFloat64(){const r=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,r}readBigInt64(){const r=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,r}readBigUint64(){const r=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,r}readChar(){return String.fromCharCode(this.readInt8())}readChars(r=1){let a="";for(let s=0;s<r;s++)a+=this.readChar();return a}readUtf8(r=1){return XE(this.readBytes(r))}decodeText(r=1,a="utf8"){return XE(this.readBytes(r),a)}writeBoolean(r){return this.writeUint8(r?255:0),this}writeInt8(r){return this.ensureAvailable(1),this._data.setInt8(this.offset++,r),this._updateLastWrittenByte(),this}writeUint8(r){return this.ensureAvailable(1),this._data.setUint8(this.offset++,r),this._updateLastWrittenByte(),this}writeByte(r){return this.writeUint8(r)}writeBytes(r){this.ensureAvailable(r.length);for(let a=0;a<r.length;a++)this._data.setUint8(this.offset++,r[a]);return this._updateLastWrittenByte(),this}writeInt16(r){return this.ensureAvailable(2),this._data.setInt16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(r){return this.ensureAvailable(2),this._data.setUint16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(r){return this.ensureAvailable(4),this._data.setInt32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(r){return this.ensureAvailable(4),this._data.setUint32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(r){return this.ensureAvailable(4),this._data.setFloat32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(r){return this.ensureAvailable(8),this._data.setFloat64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(r){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(r){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(r){return this.writeUint8(r.charCodeAt(0))}writeChars(r){for(let a=0;a<r.length;a++)this.writeUint8(r.charCodeAt(a));return this}writeUtf8(r){return this.writeBytes(mfe(r))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function lf(t){let r=t.length;for(;--r>=0;)t[r]=0}const gfe=3,xfe=258,N9=29,yfe=256,bfe=yfe+1+N9,k9=30,vfe=512,wfe=new Array((bfe+2)*2);lf(wfe);const jfe=new Array(k9*2);lf(jfe);const Nfe=new Array(vfe);lf(Nfe);const kfe=new Array(xfe-gfe+1);lf(kfe);const Sfe=new Array(N9);lf(Sfe);const _fe=new Array(k9);lf(_fe);const Afe=(t,r,a,s)=>{let n=t&65535|0,i=t>>>16&65535|0,o=0;for(;a!==0;){o=a>2e3?2e3:a,a-=o;do n=n+r[s++]|0,i=i+n|0;while(--o);n%=65521,i%=65521}return n|i<<16|0};var zN=Afe;const Cfe=()=>{let t,r=[];for(var a=0;a<256;a++){t=a;for(var s=0;s<8;s++)t=t&1?3988292384^t>>>1:t>>>1;r[a]=t}return r},Pfe=new Uint32Array(Cfe()),Efe=(t,r,a,s)=>{const n=Pfe,i=s+a;t^=-1;for(let o=s;o<i;o++)t=t>>>8^n[(t^r[o])&255];return t^-1};var pc=Efe,qN={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},S9={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Tfe=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);var Dfe=function(t){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const a=r.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(const s in a)Tfe(a,s)&&(t[s]=a[s])}}return t},Ife=t=>{let r=0;for(let s=0,n=t.length;s<n;s++)r+=t[s].length;const a=new Uint8Array(r);for(let s=0,n=0,i=t.length;s<i;s++){let o=t[s];a.set(o,n),n+=o.length}return a},_9={assign:Dfe,flattenChunks:Ife};let A9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{A9=!1}const Wp=new Uint8Array(256);for(let t=0;t<256;t++)Wp[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Wp[254]=Wp[254]=1;var Ofe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let r,a,s,n,i,o=t.length,l=0;for(n=0;n<o;n++)a=t.charCodeAt(n),(a&64512)===55296&&n+1<o&&(s=t.charCodeAt(n+1),(s&64512)===56320&&(a=65536+(a-55296<<10)+(s-56320),n++)),l+=a<128?1:a<2048?2:a<65536?3:4;for(r=new Uint8Array(l),i=0,n=0;i<l;n++)a=t.charCodeAt(n),(a&64512)===55296&&n+1<o&&(s=t.charCodeAt(n+1),(s&64512)===56320&&(a=65536+(a-55296<<10)+(s-56320),n++)),a<128?r[i++]=a:a<2048?(r[i++]=192|a>>>6,r[i++]=128|a&63):a<65536?(r[i++]=224|a>>>12,r[i++]=128|a>>>6&63,r[i++]=128|a&63):(r[i++]=240|a>>>18,r[i++]=128|a>>>12&63,r[i++]=128|a>>>6&63,r[i++]=128|a&63);return r};const Rfe=(t,r)=>{if(r<65534&&t.subarray&&A9)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let a="";for(let s=0;s<r;s++)a+=String.fromCharCode(t[s]);return a};var Lfe=(t,r)=>{const a=r||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,r));let s,n;const i=new Array(a*2);for(n=0,s=0;s<a;){let o=t[s++];if(o<128){i[n++]=o;continue}let l=Wp[o];if(l>4){i[n++]=65533,s+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&s<a;)o=o<<6|t[s++]&63,l--;if(l>1){i[n++]=65533;continue}o<65536?i[n++]=o:(o-=65536,i[n++]=55296|o>>10&1023,i[n++]=56320|o&1023)}return Rfe(i,n)},Mfe=(t,r)=>{r=r||t.length,r>t.length&&(r=t.length);let a=r-1;for(;a>=0&&(t[a]&192)===128;)a--;return a<0||a===0?r:a+Wp[t[a]]>r?a:r},VN={string2buf:Ofe,buf2string:Lfe,utf8border:Mfe};function Ffe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var $fe=Ffe;const Fx=16209,Bfe=16191;var Ufe=function(r,a){let s,n,i,o,l,c,d,u,f,p,g,x,v,w,j,_,S,N,C,D,U,z,E,I;const T=r.state;s=r.next_in,E=r.input,n=s+(r.avail_in-5),i=r.next_out,I=r.output,o=i-(a-r.avail_out),l=i+(r.avail_out-257),c=T.dmax,d=T.wsize,u=T.whave,f=T.wnext,p=T.window,g=T.hold,x=T.bits,v=T.lencode,w=T.distcode,j=(1<<T.lenbits)-1,_=(1<<T.distbits)-1;e:do{x<15&&(g+=E[s++]<<x,x+=8,g+=E[s++]<<x,x+=8),S=v[g&j];t:for(;;){if(N=S>>>24,g>>>=N,x-=N,N=S>>>16&255,N===0)I[i++]=S&65535;else if(N&16){C=S&65535,N&=15,N&&(x<N&&(g+=E[s++]<<x,x+=8),C+=g&(1<<N)-1,g>>>=N,x-=N),x<15&&(g+=E[s++]<<x,x+=8,g+=E[s++]<<x,x+=8),S=w[g&_];r:for(;;){if(N=S>>>24,g>>>=N,x-=N,N=S>>>16&255,N&16){if(D=S&65535,N&=15,x<N&&(g+=E[s++]<<x,x+=8,x<N&&(g+=E[s++]<<x,x+=8)),D+=g&(1<<N)-1,D>c){r.msg="invalid distance too far back",T.mode=Fx;break e}if(g>>>=N,x-=N,N=i-o,D>N){if(N=D-N,N>u&&T.sane){r.msg="invalid distance too far back",T.mode=Fx;break e}if(U=0,z=p,f===0){if(U+=d-N,N<C){C-=N;do I[i++]=p[U++];while(--N);U=i-D,z=I}}else if(f<N){if(U+=d+f-N,N-=f,N<C){C-=N;do I[i++]=p[U++];while(--N);if(U=0,f<C){N=f,C-=N;do I[i++]=p[U++];while(--N);U=i-D,z=I}}}else if(U+=f-N,N<C){C-=N;do I[i++]=p[U++];while(--N);U=i-D,z=I}for(;C>2;)I[i++]=z[U++],I[i++]=z[U++],I[i++]=z[U++],C-=3;C&&(I[i++]=z[U++],C>1&&(I[i++]=z[U++]))}else{U=i-D;do I[i++]=I[U++],I[i++]=I[U++],I[i++]=I[U++],C-=3;while(C>2);C&&(I[i++]=I[U++],C>1&&(I[i++]=I[U++]))}}else if((N&64)===0){S=w[(S&65535)+(g&(1<<N)-1)];continue r}else{r.msg="invalid distance code",T.mode=Fx;break e}break}}else if((N&64)===0){S=v[(S&65535)+(g&(1<<N)-1)];continue t}else if(N&32){T.mode=Bfe;break e}else{r.msg="invalid literal/length code",T.mode=Fx;break e}break}}while(s<n&&i<l);C=x>>3,s-=C,x-=C<<3,g&=(1<<x)-1,r.next_in=s,r.next_out=i,r.avail_in=s<n?5+(n-s):5-(s-n),r.avail_out=i<l?257+(l-i):257-(i-l),T.hold=g,T.bits=x};const lm=15,ZE=852,QE=592,eT=0,P1=1,tT=2,zfe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),qfe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Vfe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Hfe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Wfe=(t,r,a,s,n,i,o,l)=>{const c=l.bits;let d=0,u=0,f=0,p=0,g=0,x=0,v=0,w=0,j=0,_=0,S,N,C,D,U,z=null,E;const I=new Uint16Array(lm+1),T=new Uint16Array(lm+1);let F=null,Y,O,q;for(d=0;d<=lm;d++)I[d]=0;for(u=0;u<s;u++)I[r[a+u]]++;for(g=c,p=lm;p>=1&&I[p]===0;p--);if(g>p&&(g=p),p===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<p&&I[f]===0;f++);for(g<f&&(g=f),w=1,d=1;d<=lm;d++)if(w<<=1,w-=I[d],w<0)return-1;if(w>0&&(t===eT||p!==1))return-1;for(T[1]=0,d=1;d<lm;d++)T[d+1]=T[d]+I[d];for(u=0;u<s;u++)r[a+u]!==0&&(o[T[r[a+u]]++]=u);if(t===eT?(z=F=o,E=20):t===P1?(z=zfe,F=qfe,E=257):(z=Vfe,F=Hfe,E=0),_=0,u=0,d=f,U=i,x=g,v=0,C=-1,j=1<<g,D=j-1,t===P1&&j>ZE||t===tT&&j>QE)return 1;for(;;){Y=d-v,o[u]+1<E?(O=0,q=o[u]):o[u]>=E?(O=F[o[u]-E],q=z[o[u]-E]):(O=96,q=0),S=1<<d-v,N=1<<x,f=N;do N-=S,n[U+(_>>v)+N]=Y<<24|O<<16|q|0;while(N!==0);for(S=1<<d-1;_&S;)S>>=1;if(S!==0?(_&=S-1,_+=S):_=0,u++,--I[d]===0){if(d===p)break;d=r[a+o[u]]}if(d>g&&(_&D)!==C){for(v===0&&(v=g),U+=f,x=d-v,w=1<<x;x+v<p&&(w-=I[x+v],!(w<=0));)x++,w<<=1;if(j+=1<<x,t===P1&&j>ZE||t===tT&&j>QE)return 1;C=_&D,n[C]=g<<24|x<<16|U-i|0}}return _!==0&&(n[U+_]=d-v<<24|64<<16|0),l.bits=g,0};var xp=Wfe;const Gfe=0,C9=1,P9=2,{Z_FINISH:rT,Z_BLOCK:Yfe,Z_TREES:$x,Z_OK:wh,Z_STREAM_END:Kfe,Z_NEED_DICT:Jfe,Z_STREAM_ERROR:hl,Z_DATA_ERROR:E9,Z_MEM_ERROR:T9,Z_BUF_ERROR:Xfe,Z_DEFLATED:aT}=S9,kv=16180,sT=16181,nT=16182,iT=16183,oT=16184,lT=16185,cT=16186,dT=16187,uT=16188,hT=16189,jb=16190,cd=16191,E1=16192,mT=16193,T1=16194,fT=16195,pT=16196,gT=16197,xT=16198,Bx=16199,Ux=16200,yT=16201,bT=16202,vT=16203,wT=16204,jT=16205,D1=16206,NT=16207,kT=16208,Ya=16209,D9=16210,I9=16211,Zfe=852,Qfe=592,epe=15,tpe=epe,ST=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function rpe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ch=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||r.mode<kv||r.mode>I9?1:0},O9=t=>{if(Ch(t))return hl;const r=t.state;return t.total_in=t.total_out=r.total=0,t.msg="",r.wrap&&(t.adler=r.wrap&1),r.mode=kv,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(Zfe),r.distcode=r.distdyn=new Int32Array(Qfe),r.sane=1,r.back=-1,wh},R9=t=>{if(Ch(t))return hl;const r=t.state;return r.wsize=0,r.whave=0,r.wnext=0,O9(t)},L9=(t,r)=>{let a;if(Ch(t))return hl;const s=t.state;return r<0?(a=0,r=-r):(a=(r>>4)+5,r<48&&(r&=15)),r&&(r<8||r>15)?hl:(s.window!==null&&s.wbits!==r&&(s.window=null),s.wrap=a,s.wbits=r,R9(t))},M9=(t,r)=>{if(!t)return hl;const a=new rpe;t.state=a,a.strm=t,a.window=null,a.mode=kv;const s=L9(t,r);return s!==wh&&(t.state=null),s},ape=t=>M9(t,tpe);let _T=!0,I1,O1;const spe=t=>{if(_T){I1=new Int32Array(512),O1=new Int32Array(32);let r=0;for(;r<144;)t.lens[r++]=8;for(;r<256;)t.lens[r++]=9;for(;r<280;)t.lens[r++]=7;for(;r<288;)t.lens[r++]=8;for(xp(C9,t.lens,0,288,I1,0,t.work,{bits:9}),r=0;r<32;)t.lens[r++]=5;xp(P9,t.lens,0,32,O1,0,t.work,{bits:5}),_T=!1}t.lencode=I1,t.lenbits=9,t.distcode=O1,t.distbits=5},F9=(t,r,a,s)=>{let n;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),s>=i.wsize?(i.window.set(r.subarray(a-i.wsize,a),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>s&&(n=s),i.window.set(r.subarray(a-s,a-s+n),i.wnext),s-=n,s?(i.window.set(r.subarray(a-s,a),0),i.wnext=s,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},npe=(t,r)=>{let a,s,n,i,o,l,c,d,u,f,p,g,x,v,w=0,j,_,S,N,C,D,U,z;const E=new Uint8Array(4);let I,T;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ch(t)||!t.output||!t.input&&t.avail_in!==0)return hl;a=t.state,a.mode===cd&&(a.mode=E1),o=t.next_out,n=t.output,c=t.avail_out,i=t.next_in,s=t.input,l=t.avail_in,d=a.hold,u=a.bits,f=l,p=c,z=wh;e:for(;;)switch(a.mode){case kv:if(a.wrap===0){a.mode=E1;break}for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(a.wrap&2&&d===35615){a.wbits===0&&(a.wbits=15),a.check=0,E[0]=d&255,E[1]=d>>>8&255,a.check=pc(a.check,E,2,0),d=0,u=0,a.mode=sT;break}if(a.head&&(a.head.done=!1),!(a.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",a.mode=Ya;break}if((d&15)!==aT){t.msg="unknown compression method",a.mode=Ya;break}if(d>>>=4,u-=4,U=(d&15)+8,a.wbits===0&&(a.wbits=U),U>15||U>a.wbits){t.msg="invalid window size",a.mode=Ya;break}a.dmax=1<<a.wbits,a.flags=0,t.adler=a.check=1,a.mode=d&512?hT:cd,d=0,u=0;break;case sT:for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(a.flags=d,(a.flags&255)!==aT){t.msg="unknown compression method",a.mode=Ya;break}if(a.flags&57344){t.msg="unknown header flags set",a.mode=Ya;break}a.head&&(a.head.text=d>>8&1),a.flags&512&&a.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,a.check=pc(a.check,E,2,0)),d=0,u=0,a.mode=nT;case nT:for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}a.head&&(a.head.time=d),a.flags&512&&a.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,E[2]=d>>>16&255,E[3]=d>>>24&255,a.check=pc(a.check,E,4,0)),d=0,u=0,a.mode=iT;case iT:for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}a.head&&(a.head.xflags=d&255,a.head.os=d>>8),a.flags&512&&a.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,a.check=pc(a.check,E,2,0)),d=0,u=0,a.mode=oT;case oT:if(a.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}a.length=d,a.head&&(a.head.extra_len=d),a.flags&512&&a.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,a.check=pc(a.check,E,2,0)),d=0,u=0}else a.head&&(a.head.extra=null);a.mode=lT;case lT:if(a.flags&1024&&(g=a.length,g>l&&(g=l),g&&(a.head&&(U=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(s.subarray(i,i+g),U)),a.flags&512&&a.wrap&4&&(a.check=pc(a.check,s,g,i)),l-=g,i+=g,a.length-=g),a.length))break e;a.length=0,a.mode=cT;case cT:if(a.flags&2048){if(l===0)break e;g=0;do U=s[i+g++],a.head&&U&&a.length<65536&&(a.head.name+=String.fromCharCode(U));while(U&&g<l);if(a.flags&512&&a.wrap&4&&(a.check=pc(a.check,s,g,i)),l-=g,i+=g,U)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=dT;case dT:if(a.flags&4096){if(l===0)break e;g=0;do U=s[i+g++],a.head&&U&&a.length<65536&&(a.head.comment+=String.fromCharCode(U));while(U&&g<l);if(a.flags&512&&a.wrap&4&&(a.check=pc(a.check,s,g,i)),l-=g,i+=g,U)break e}else a.head&&(a.head.comment=null);a.mode=uT;case uT:if(a.flags&512){for(;u<16;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(a.wrap&4&&d!==(a.check&65535)){t.msg="header crc mismatch",a.mode=Ya;break}d=0,u=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=cd;break;case hT:for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}t.adler=a.check=ST(d),d=0,u=0,a.mode=jb;case jb:if(a.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,a.hold=d,a.bits=u,Jfe;t.adler=a.check=1,a.mode=cd;case cd:if(r===Yfe||r===$x)break e;case E1:if(a.last){d>>>=u&7,u-=u&7,a.mode=D1;break}for(;u<3;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}switch(a.last=d&1,d>>>=1,u-=1,d&3){case 0:a.mode=mT;break;case 1:if(spe(a),a.mode=Bx,r===$x){d>>>=2,u-=2;break e}break;case 2:a.mode=pT;break;case 3:t.msg="invalid block type",a.mode=Ya}d>>>=2,u-=2;break;case mT:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",a.mode=Ya;break}if(a.length=d&65535,d=0,u=0,a.mode=T1,r===$x)break e;case T1:a.mode=fT;case fT:if(g=a.length,g){if(g>l&&(g=l),g>c&&(g=c),g===0)break e;n.set(s.subarray(i,i+g),o),l-=g,i+=g,c-=g,o+=g,a.length-=g;break}a.mode=cd;break;case pT:for(;u<14;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(a.nlen=(d&31)+257,d>>>=5,u-=5,a.ndist=(d&31)+1,d>>>=5,u-=5,a.ncode=(d&15)+4,d>>>=4,u-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=Ya;break}a.have=0,a.mode=gT;case gT:for(;a.have<a.ncode;){for(;u<3;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}a.lens[F[a.have++]]=d&7,d>>>=3,u-=3}for(;a.have<19;)a.lens[F[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,I={bits:a.lenbits},z=xp(Gfe,a.lens,0,19,a.lencode,0,a.work,I),a.lenbits=I.bits,z){t.msg="invalid code lengths set",a.mode=Ya;break}a.have=0,a.mode=xT;case xT:for(;a.have<a.nlen+a.ndist;){for(;w=a.lencode[d&(1<<a.lenbits)-1],j=w>>>24,_=w>>>16&255,S=w&65535,!(j<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(S<16)d>>>=j,u-=j,a.lens[a.have++]=S;else{if(S===16){for(T=j+2;u<T;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(d>>>=j,u-=j,a.have===0){t.msg="invalid bit length repeat",a.mode=Ya;break}U=a.lens[a.have-1],g=3+(d&3),d>>>=2,u-=2}else if(S===17){for(T=j+3;u<T;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=j,u-=j,U=0,g=3+(d&7),d>>>=3,u-=3}else{for(T=j+7;u<T;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=j,u-=j,U=0,g=11+(d&127),d>>>=7,u-=7}if(a.have+g>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=Ya;break}for(;g--;)a.lens[a.have++]=U}}if(a.mode===Ya)break;if(a.lens[256]===0){t.msg="invalid code -- missing end-of-block",a.mode=Ya;break}if(a.lenbits=9,I={bits:a.lenbits},z=xp(C9,a.lens,0,a.nlen,a.lencode,0,a.work,I),a.lenbits=I.bits,z){t.msg="invalid literal/lengths set",a.mode=Ya;break}if(a.distbits=6,a.distcode=a.distdyn,I={bits:a.distbits},z=xp(P9,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,I),a.distbits=I.bits,z){t.msg="invalid distances set",a.mode=Ya;break}if(a.mode=Bx,r===$x)break e;case Bx:a.mode=Ux;case Ux:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,a.hold=d,a.bits=u,Ufe(t,p),o=t.next_out,n=t.output,c=t.avail_out,i=t.next_in,s=t.input,l=t.avail_in,d=a.hold,u=a.bits,a.mode===cd&&(a.back=-1);break}for(a.back=0;w=a.lencode[d&(1<<a.lenbits)-1],j=w>>>24,_=w>>>16&255,S=w&65535,!(j<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(_&&(_&240)===0){for(N=j,C=_,D=S;w=a.lencode[D+((d&(1<<N+C)-1)>>N)],j=w>>>24,_=w>>>16&255,S=w&65535,!(N+j<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=N,u-=N,a.back+=N}if(d>>>=j,u-=j,a.back+=j,a.length=S,_===0){a.mode=jT;break}if(_&32){a.back=-1,a.mode=cd;break}if(_&64){t.msg="invalid literal/length code",a.mode=Ya;break}a.extra=_&15,a.mode=yT;case yT:if(a.extra){for(T=a.extra;u<T;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}a.length+=d&(1<<a.extra)-1,d>>>=a.extra,u-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=bT;case bT:for(;w=a.distcode[d&(1<<a.distbits)-1],j=w>>>24,_=w>>>16&255,S=w&65535,!(j<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if((_&240)===0){for(N=j,C=_,D=S;w=a.distcode[D+((d&(1<<N+C)-1)>>N)],j=w>>>24,_=w>>>16&255,S=w&65535,!(N+j<=u);){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}d>>>=N,u-=N,a.back+=N}if(d>>>=j,u-=j,a.back+=j,_&64){t.msg="invalid distance code",a.mode=Ya;break}a.offset=S,a.extra=_&15,a.mode=vT;case vT:if(a.extra){for(T=a.extra;u<T;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}a.offset+=d&(1<<a.extra)-1,d>>>=a.extra,u-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=Ya;break}a.mode=wT;case wT:if(c===0)break e;if(g=p-c,a.offset>g){if(g=a.offset-g,g>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=Ya;break}g>a.wnext?(g-=a.wnext,x=a.wsize-g):x=a.wnext-g,g>a.length&&(g=a.length),v=a.window}else v=n,x=o-a.offset,g=a.length;g>c&&(g=c),c-=g,a.length-=g;do n[o++]=v[x++];while(--g);a.length===0&&(a.mode=Ux);break;case jT:if(c===0)break e;n[o++]=a.length,c--,a.mode=Ux;break;case D1:if(a.wrap){for(;u<32;){if(l===0)break e;l--,d|=s[i++]<<u,u+=8}if(p-=c,t.total_out+=p,a.total+=p,a.wrap&4&&p&&(t.adler=a.check=a.flags?pc(a.check,n,p,o-p):zN(a.check,n,p,o-p)),p=c,a.wrap&4&&(a.flags?d:ST(d))!==a.check){t.msg="incorrect data check",a.mode=Ya;break}d=0,u=0}a.mode=NT;case NT:if(a.wrap&&a.flags){for(;u<32;){if(l===0)break e;l--,d+=s[i++]<<u,u+=8}if(a.wrap&4&&d!==(a.total&4294967295)){t.msg="incorrect length check",a.mode=Ya;break}d=0,u=0}a.mode=kT;case kT:z=Kfe;break e;case Ya:z=E9;break e;case D9:return T9;case I9:default:return hl}return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,a.hold=d,a.bits=u,(a.wsize||p!==t.avail_out&&a.mode<Ya&&(a.mode<D1||r!==rT))&&F9(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,a.total+=p,a.wrap&4&&p&&(t.adler=a.check=a.flags?pc(a.check,n,p,t.next_out-p):zN(a.check,n,p,t.next_out-p)),t.data_type=a.bits+(a.last?64:0)+(a.mode===cd?128:0)+(a.mode===Bx||a.mode===T1?256:0),(f===0&&p===0||r===rT)&&z===wh&&(z=Xfe),z},ipe=t=>{if(Ch(t))return hl;let r=t.state;return r.window&&(r.window=null),t.state=null,wh},ope=(t,r)=>{if(Ch(t))return hl;const a=t.state;return(a.wrap&2)===0?hl:(a.head=r,r.done=!1,wh)},lpe=(t,r)=>{const a=r.length;let s,n,i;return Ch(t)||(s=t.state,s.wrap!==0&&s.mode!==jb)?hl:s.mode===jb&&(n=1,n=zN(n,r,a,0),n!==s.check)?E9:(i=F9(t,r,a,a),i?(s.mode=D9,T9):(s.havedict=1,wh))};var cpe=R9,dpe=L9,upe=O9,hpe=ape,mpe=M9,fpe=npe,ppe=ipe,gpe=ope,xpe=lpe,ype="pako inflate (from Nodeca project)",hd={inflateReset:cpe,inflateReset2:dpe,inflateResetKeep:upe,inflateInit:hpe,inflateInit2:mpe,inflate:fpe,inflateEnd:ppe,inflateGetHeader:gpe,inflateSetDictionary:xpe,inflateInfo:ype};function bpe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vpe=bpe;const $9=Object.prototype.toString,{Z_NO_FLUSH:wpe,Z_FINISH:jpe,Z_OK:Gp,Z_STREAM_END:R1,Z_NEED_DICT:L1,Z_STREAM_ERROR:Npe,Z_DATA_ERROR:AT,Z_MEM_ERROR:kpe}=S9;function Cg(t){this.options=_9.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(t&&t.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $fe,this.strm.avail_out=0;let a=hd.inflateInit2(this.strm,r.windowBits);if(a!==Gp)throw new Error(qN[a]);if(this.header=new vpe,hd.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=VN.string2buf(r.dictionary):$9.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(a=hd.inflateSetDictionary(this.strm,r.dictionary),a!==Gp)))throw new Error(qN[a])}Cg.prototype.push=function(t,r){const a=this.strm,s=this.options.chunkSize,n=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(r===~~r?o=r:o=r===!0?jpe:wpe,$9.call(t)==="[object ArrayBuffer]"?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(a.avail_out===0&&(a.output=new Uint8Array(s),a.next_out=0,a.avail_out=s),i=hd.inflate(a,o),i===L1&&n&&(i=hd.inflateSetDictionary(a,n),i===Gp?i=hd.inflate(a,o):i===AT&&(i=L1));a.avail_in>0&&i===R1&&a.state.wrap>0&&t[a.next_in]!==0;)hd.inflateReset(a),i=hd.inflate(a,o);switch(i){case Npe:case AT:case L1:case kpe:return this.onEnd(i),this.ended=!0,!1}if(l=a.avail_out,a.next_out&&(a.avail_out===0||i===R1))if(this.options.to==="string"){let c=VN.utf8border(a.output,a.next_out),d=a.next_out-c,u=VN.buf2string(a.output,c);a.next_out=d,a.avail_out=s-d,d&&a.output.set(a.output.subarray(c,c+d),0),this.onData(u)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(!(i===Gp&&l===0)){if(i===R1)return i=hd.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(a.avail_in===0)break}}return!0};Cg.prototype.onData=function(t){this.chunks.push(t)};Cg.prototype.onEnd=function(t){t===Gp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_9.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Spe(t,r){const a=new Cg(r);if(a.push(t),a.err)throw a.msg||qN[a.err];return a.result}var _pe=Cg,Ape=Spe,Cpe={Inflate:_pe,inflate:Ape};const{Inflate:Ppe,inflate:Epe}=Cpe;var CT=Ppe,Tpe=Epe;const B9=[];for(let t=0;t<256;t++){let r=t;for(let a=0;a<8;a++)r&1?r=3988292384^r>>>1:r=r>>>1;B9[t]=r}const PT=4294967295;function Dpe(t,r,a){let s=t;for(let n=0;n<a;n++)s=B9[(s^r[n])&255]^s>>>8;return s}function Ipe(t,r){return(Dpe(PT,t,r)^PT)>>>0}function ET(t,r,a){const s=t.readUint32(),n=Ipe(new Uint8Array(t.buffer,t.byteOffset+t.offset-r-4,r),r);if(n!==s)throw new Error(`CRC mismatch for chunk ${a}. Expected ${s}, found ${n}`)}function U9(t,r,a){for(let s=0;s<a;s++)r[s]=t[s]}function z9(t,r,a,s){let n=0;for(;n<s;n++)r[n]=t[n];for(;n<a;n++)r[n]=t[n]+r[n-s]&255}function q9(t,r,a,s){let n=0;if(a.length===0)for(;n<s;n++)r[n]=t[n];else for(;n<s;n++)r[n]=t[n]+a[n]&255}function V9(t,r,a,s,n){let i=0;if(a.length===0){for(;i<n;i++)r[i]=t[i];for(;i<s;i++)r[i]=t[i]+(r[i-n]>>1)&255}else{for(;i<n;i++)r[i]=t[i]+(a[i]>>1)&255;for(;i<s;i++)r[i]=t[i]+(r[i-n]+a[i]>>1)&255}}function H9(t,r,a,s,n){let i=0;if(a.length===0){for(;i<n;i++)r[i]=t[i];for(;i<s;i++)r[i]=t[i]+r[i-n]&255}else{for(;i<n;i++)r[i]=t[i]+a[i]&255;for(;i<s;i++)r[i]=t[i]+Ope(r[i-n],a[i],a[i-n])&255}}function Ope(t,r,a){const s=t+r-a,n=Math.abs(s-t),i=Math.abs(s-r),o=Math.abs(s-a);return n<=i&&n<=o?t:i<=o?r:a}function Rpe(t,r,a,s,n,i){switch(t){case 0:U9(r,a,n);break;case 1:z9(r,a,n,i);break;case 2:q9(r,a,s,n);break;case 3:V9(r,a,s,n,i);break;case 4:H9(r,a,s,n,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Lpe=new Uint16Array([255]),Mpe=new Uint8Array(Lpe.buffer),Fpe=Mpe[0]===255;function $pe(t){const{data:r,width:a,height:s,channels:n,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*n,c=new Uint8Array(s*a*l);let d=0;for(let u=0;u<7;u++){const f=o[u],p=Math.ceil((a-f.x)/f.xStep),g=Math.ceil((s-f.y)/f.yStep);if(p<=0||g<=0)continue;const x=p*l,v=new Uint8Array(x);for(let w=0;w<g;w++){const j=r[d++],_=r.subarray(d,d+x);d+=x;const S=new Uint8Array(x);Rpe(j,_,S,v,x,l),v.set(S);for(let N=0;N<p;N++){const C=f.x+N*f.xStep,D=f.y+w*f.yStep;if(!(C>=a||D>=s))for(let U=0;U<l;U++)c[(D*a+C)*l+U]=S[N*l+U]}}}if(i===16){const u=new Uint16Array(c.buffer);if(Fpe)for(let f=0;f<u.length;f++)u[f]=Bpe(u[f]);return u}else return c}function Bpe(t){return(t&255)<<8|t>>8&255}const Upe=new Uint16Array([255]),zpe=new Uint8Array(Upe.buffer),qpe=zpe[0]===255,Vpe=new Uint8Array(0);function TT(t){const{data:r,width:a,height:s,channels:n,depth:i}=t,o=Math.ceil(i/8)*n,l=Math.ceil(i/8*n*a),c=new Uint8Array(s*l);let d=Vpe,u=0,f,p;for(let g=0;g<s;g++){switch(f=r.subarray(u+1,u+1+l),p=c.subarray(g*l,(g+1)*l),r[u]){case 0:U9(f,p,l);break;case 1:z9(f,p,l,o);break;case 2:q9(f,p,d,l);break;case 3:V9(f,p,d,l,o);break;case 4:H9(f,p,d,l,o);break;default:throw new Error(`Unsupported filter: ${r[u]}`)}d=p,u+=l+1}if(i===16){const g=new Uint16Array(c.buffer);if(qpe)for(let x=0;x<g.length;x++)g[x]=Hpe(g[x]);return g}else return c}function Hpe(t){return(t&255)<<8|t>>8&255}const my=Uint8Array.of(137,80,78,71,13,10,26,10);function DT(t){if(!Wpe(t.readBytes(my.length)))throw new Error("wrong PNG signature")}function Wpe(t){if(t.length<my.length)return!1;for(let r=0;r<my.length;r++)if(t[r]!==my[r])return!1;return!0}const Gpe="tEXt",Ype=0,W9=new TextDecoder("latin1");function Kpe(t){if(Xpe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Jpe=/^[\u0000-\u00FF]*$/;function Xpe(t){if(!Jpe.test(t))throw new Error("invalid latin1 text")}function Zpe(t,r,a){const s=G9(r);t[s]=Qpe(r,a-s.length-1)}function G9(t){for(t.mark();t.readByte()!==Ype;);const r=t.offset;t.reset();const a=W9.decode(t.readBytes(r-t.offset-1));return t.skip(1),Kpe(a),a}function Qpe(t,r){return W9.decode(t.readBytes(r))}const uo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},M1={UNKNOWN:-1,DEFLATE:0},IT={UNKNOWN:-1,ADAPTIVE:0},F1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},zx={NONE:0,BACKGROUND:1,PREVIOUS:2},$1={SOURCE:0,OVER:1};class ege extends d4{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(r,a={}){super(r);const{checkCrc:s=!1}=a;this._checkCrc=s,this._inflator=new CT,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=M1.UNKNOWN,this._filterMethod=IT.UNKNOWN,this._interlaceMethod=F1.UNKNOWN,this._colorType=uo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(DT(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(DT(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const s=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Gpe:Zpe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?ET(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const s=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?ET(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=tge(this.readUint8());const a=this.readUint8();this._colorType=a;let s;switch(a){case uo.GREYSCALE:s=1;break;case uo.TRUECOLOUR:s=3;break;case uo.INDEXED_COLOUR:s=1;break;case uo.GREYSCALE_ALPHA:s=2;break;case uo.TRUECOLOUR_ALPHA:s=4;break;case uo.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==M1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let n=0;n<a;n++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,s=this.offset+this.byteOffset;if(s+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,s,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case uo.GREYSCALE:case uo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case uo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const s=this.readByte();this._palette[a].push(s)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case uo.UNKNOWN:case uo.GREYSCALE_ALPHA:case uo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=G9(this),s=this.readUint8();if(s!==M1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const n=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:Tpe(n)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:a,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=TT({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)a.data=s.data;else{const n=this._apng.frames.at(r-1);this.disposeFrame(s,n,a),this.addFrameDataToCanvas(a,s)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,s){switch(r.disposeOp){case zx.NONE:break;case zx.BACKGROUND:for(let n=0;n<this._png.height;n++)for(let i=0;i<this._png.width;i++){const o=(n*r.width+i)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[o+l]=0}break;case zx.PREVIOUS:s.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const s=1<<this._png.depth,n=(i,o)=>{const l=((i+a.yOffset)*this._png.width+a.xOffset+o)*this._png.channels,c=(i*a.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(a.blendOp){case $1.SOURCE:for(let i=0;i<a.height;i++)for(let o=0;o<a.width;o++){const{index:l,frameIndex:c}=n(i,o);for(let d=0;d<this._png.channels;d++)r.data[l+d]=a.data[c+d]}break;case $1.OVER:for(let i=0;i<a.height;i++)for(let o=0;o<a.width;o++){const{index:l,frameIndex:c}=n(i,o);for(let d=0;d<this._png.channels;d++){const u=a.data[c+this._png.channels-1]/s,f=d%(this._png.channels-1)===0?1:a.data[c+d],p=Math.floor(u*f+(1-u)*r.data[l+d]);r.data[l+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==IT.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===F1.NO_INTERLACE)this._png.data=TT({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===F1.ADAM7)this._png.data=$pe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:zx.NONE,blendOp:$1.SOURCE,data:r}),this._inflator=new CT,this._writingDataChunks=!1}}function tge(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var OT;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(OT||(OT={}));function rge(t,r){return new ege(t,r).decode()}var Pr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function B1(){Pr.console&&typeof Pr.console.log=="function"&&Pr.console.log.apply(Pr.console,arguments)}var Sa={log:B1,warn:function(t){Pr.console&&(typeof Pr.console.warn=="function"?Pr.console.warn.apply(Pr.console,arguments):B1.call(null,arguments))},error:function(t){Pr.console&&(typeof Pr.console.error=="function"?Pr.console.error.apply(Pr.console,arguments):B1(t))}};function U1(t,r,a){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){F0(s.response,r,a)},s.onerror=function(){Sa.error("could not download file")},s.send()}function RT(t){var r=new XMLHttpRequest;r.open("HEAD",t,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function qx(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}var F0=Pr.saveAs||((typeof window>"u"?"undefined":ba(window))!=="object"||window!==Pr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,r,a){var s=Pr.URL||Pr.webkitURL,n=document.createElement("a");r=r||t.name||"download",n.download=r,n.rel="noopener",typeof t=="string"?(n.href=t,n.origin!==location.origin?RT(n.href)?U1(t,r,a):qx(n,n.target="_blank"):qx(n)):(n.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(n.href)},4e4),setTimeout(function(){qx(n)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,a){if(r=r||t.name||"download",typeof t=="string")if(RT(t))U1(t,r,a);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){qx(s)})}else navigator.msSaveOrOpenBlob((function(n,i){return i===void 0?i={autoBom:!1}:ba(i)!=="object"&&(Sa.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n})(t,a),r)}:function(t,r,a,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return U1(t,r,a);var n=t.type==="application/octet-stream",i=/constructor/i.test(Pr.HTMLElement)||Pr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||n&&i)&&(typeof FileReader>"u"?"undefined":ba(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},l.readAsDataURL(t)}else{var c=Pr.URL||Pr.webkitURL,d=c.createObjectURL(t);s?s.location=d:location.href=d,s=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Y9(t){var r;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var a=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<a.length;s++){var n=a[s].re,i=a[s].process,o=n.exec(t);o&&(r=i(o),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var fy=Pr.atob.bind(Pr),LT=Pr.btoa.bind(Pr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function z1(t,r){var a=t[0],s=t[1],n=t[2],i=t[3];a=Wn(a,s,n,i,r[0],7,-680876936),i=Wn(i,a,s,n,r[1],12,-389564586),n=Wn(n,i,a,s,r[2],17,606105819),s=Wn(s,n,i,a,r[3],22,-1044525330),a=Wn(a,s,n,i,r[4],7,-176418897),i=Wn(i,a,s,n,r[5],12,1200080426),n=Wn(n,i,a,s,r[6],17,-1473231341),s=Wn(s,n,i,a,r[7],22,-45705983),a=Wn(a,s,n,i,r[8],7,1770035416),i=Wn(i,a,s,n,r[9],12,-1958414417),n=Wn(n,i,a,s,r[10],17,-42063),s=Wn(s,n,i,a,r[11],22,-1990404162),a=Wn(a,s,n,i,r[12],7,1804603682),i=Wn(i,a,s,n,r[13],12,-40341101),n=Wn(n,i,a,s,r[14],17,-1502002290),a=Gn(a,s=Wn(s,n,i,a,r[15],22,1236535329),n,i,r[1],5,-165796510),i=Gn(i,a,s,n,r[6],9,-1069501632),n=Gn(n,i,a,s,r[11],14,643717713),s=Gn(s,n,i,a,r[0],20,-373897302),a=Gn(a,s,n,i,r[5],5,-701558691),i=Gn(i,a,s,n,r[10],9,38016083),n=Gn(n,i,a,s,r[15],14,-660478335),s=Gn(s,n,i,a,r[4],20,-405537848),a=Gn(a,s,n,i,r[9],5,568446438),i=Gn(i,a,s,n,r[14],9,-1019803690),n=Gn(n,i,a,s,r[3],14,-187363961),s=Gn(s,n,i,a,r[8],20,1163531501),a=Gn(a,s,n,i,r[13],5,-1444681467),i=Gn(i,a,s,n,r[2],9,-51403784),n=Gn(n,i,a,s,r[7],14,1735328473),a=Yn(a,s=Gn(s,n,i,a,r[12],20,-1926607734),n,i,r[5],4,-378558),i=Yn(i,a,s,n,r[8],11,-2022574463),n=Yn(n,i,a,s,r[11],16,1839030562),s=Yn(s,n,i,a,r[14],23,-35309556),a=Yn(a,s,n,i,r[1],4,-1530992060),i=Yn(i,a,s,n,r[4],11,1272893353),n=Yn(n,i,a,s,r[7],16,-155497632),s=Yn(s,n,i,a,r[10],23,-1094730640),a=Yn(a,s,n,i,r[13],4,681279174),i=Yn(i,a,s,n,r[0],11,-358537222),n=Yn(n,i,a,s,r[3],16,-722521979),s=Yn(s,n,i,a,r[6],23,76029189),a=Yn(a,s,n,i,r[9],4,-640364487),i=Yn(i,a,s,n,r[12],11,-421815835),n=Yn(n,i,a,s,r[15],16,530742520),a=Kn(a,s=Yn(s,n,i,a,r[2],23,-995338651),n,i,r[0],6,-198630844),i=Kn(i,a,s,n,r[7],10,1126891415),n=Kn(n,i,a,s,r[14],15,-1416354905),s=Kn(s,n,i,a,r[5],21,-57434055),a=Kn(a,s,n,i,r[12],6,1700485571),i=Kn(i,a,s,n,r[3],10,-1894986606),n=Kn(n,i,a,s,r[10],15,-1051523),s=Kn(s,n,i,a,r[1],21,-2054922799),a=Kn(a,s,n,i,r[8],6,1873313359),i=Kn(i,a,s,n,r[15],10,-30611744),n=Kn(n,i,a,s,r[6],15,-1560198380),s=Kn(s,n,i,a,r[13],21,1309151649),a=Kn(a,s,n,i,r[4],6,-145523070),i=Kn(i,a,s,n,r[11],10,-1120210379),n=Kn(n,i,a,s,r[2],15,718787259),s=Kn(s,n,i,a,r[9],21,-343485551),t[0]=Mu(a,t[0]),t[1]=Mu(s,t[1]),t[2]=Mu(n,t[2]),t[3]=Mu(i,t[3])}function Sv(t,r,a,s,n,i){return r=Mu(Mu(r,t),Mu(s,i)),Mu(r<<n|r>>>32-n,a)}function Wn(t,r,a,s,n,i,o){return Sv(r&a|~r&s,t,r,n,i,o)}function Gn(t,r,a,s,n,i,o){return Sv(r&s|a&~s,t,r,n,i,o)}function Yn(t,r,a,s,n,i,o){return Sv(r^a^s,t,r,n,i,o)}function Kn(t,r,a,s,n,i,o){return Sv(a^(r|~s),t,r,n,i,o)}function K9(t){var r,a=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=t.length;r+=64)z1(s,age(t.substring(r-64,r)));t=t.substring(r-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<t.length;r++)n[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(n[r>>2]|=128<<(r%4<<3),r>55)for(z1(s,n),r=0;r<16;r++)n[r]=0;return n[14]=8*a,z1(s,n),s}function age(t){var r,a=[];for(r=0;r<64;r+=4)a[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return a}var MT="0123456789abcdef".split("");function sge(t){for(var r="",a=0;a<4;a++)r+=MT[t>>8*a+4&15]+MT[t>>8*a&15];return r}function nge(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function HN(t){return K9(t).map(nge).join("")}var ige=(function(t){for(var r=0;r<t.length;r++)t[r]=sge(t[r]);return t.join("")})(K9("hello"))!="5d41402abc4b2a76b9719d911017c592";function Mu(t,r){if(ige){var a=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(a>>16)<<16|65535&a}return t+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function WN(t,r){var a,s,n,i;if(t!==a){for(var o=(n=t,i=1+(256/t.length|0),new Array(i+1).join(n)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}a=t,s=l}else l=s;var f=r.length,p=0,g=0,x="";for(c=0;c<f;c++)g=(g+(u=l[p=(p+1)%256]))%256,l[p]=l[g],l[g]=u,o=l[(l[p]+l[g])%256],x+=String.fromCharCode(r.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var FT={print:4,modify:8,copy:16,"annot-forms":32};function um(t,r,a,s){this.v=1,this.r=2;var n=192;t.forEach(function(l){if(FT.perm!==void 0)throw new Error("Invalid permission: "+l);n+=FT[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(r+this.padding).substr(0,32),o=(a+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^n)),this.encryptionKey=HN(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=WN(this.encryptionKey,this.padding)}function hm(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var r="",a=t.length,s=0;s<a;s++){var n=t.charCodeAt(s);r+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):t[s]}return r}function $T(t){if(ba(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(a,s,n){if(n=n||!1,typeof a!="string"||typeof s!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(a)||(r[a]={});var i=Math.random().toString(35);return r[a][i]=[s,!!n],i},this.unsubscribe=function(a){for(var s in r)if(r[s][a])return delete r[s][a],Object.keys(r[s]).length===0&&delete r[s],!0;return!1},this.publish=function(a){if(r.hasOwnProperty(a)){var s=Array.prototype.slice.call(arguments,1),n=[];for(var i in r[a]){var o=r[a][i];try{o[0].apply(t,s)}catch(l){Pr.console&&Sa.error("jsPDF PubSub Error",l.message,l)}o[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function Yp(t){if(!(this instanceof Yp))return new Yp(t);var r="opacity,stroke-opacity".split(",");for(var a in t)t.hasOwnProperty(a)&&r.indexOf(a)>=0&&(this[a]=t[a]);this.id="",this.objectNumber=-1}function J9(t,r){this.gState=t,this.matrix=r,this.id="",this.objectNumber=-1}function Lu(t,r,a,s,n){if(!(this instanceof Lu))return new Lu(t,r,a,s,n);this.type=t==="axial"?2:3,this.coords=r,this.colors=a,J9.call(this,s,n)}function X0(t,r,a,s,n){if(!(this instanceof X0))return new X0(t,r,a,s,n);this.boundingBox=t,this.xStep=r,this.yStep=a,this.stream="",this.cloneIndex=0,J9.call(this,s,n)}function sr(t){var r,a=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],n=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;ba(t=t||{})==="object"&&(a=t.orientation,s=t.unit||s,n=t.format||n,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(r=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",a=(""+(a||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=$T;var x="1.3",v=g.__private__.getPdfVersion=function(){return x};g.__private__.setPdfVersion=function(L){x=L};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return w};var j=g.__private__.getPageFormat=function(L){return w[L]};n=n||"a4";var _="compat",S="advanced",N=_;function C(){this.saveGraphicsState(),Z(new ze(kt,0,0,-kt,0,_i()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),d="n",N=S}function D(){this.restoreGraphicsState(),d="S",N=_}var U=g.__private__.combineFontStyleAndFontWeight=function(L,ee){if(L=="bold"&&ee=="normal"||L=="bold"&&ee==400||L=="normal"&&ee=="italic"||L=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(L=ee==400||ee==="normal"?L==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||L!=="normal"?(ee==700?"bold":ee)+""+L:"bold"),L};g.advancedAPI=function(L){var ee=N===_;return ee&&C.call(this),typeof L!="function"||(L(this),ee&&D.call(this)),this},g.compatAPI=function(L){var ee=N===S;return ee&&D.call(this),typeof L!="function"||(L(this),ee&&C.call(this)),this},g.isAdvancedAPI=function(){return N===S};var z,E=function(L){if(N!==S)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=g.roundToPrecision=g.__private__.roundToPrecision=function(L,ee){var Ae=r||ee;if(isNaN(L)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ae).replace(/0+$/,"")};z=g.hpf=g.__private__.hpf=typeof c=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return I(L,c)}:c==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return I(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return I(L,16)};var T=g.f2=g.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return I(L,2)},F=g.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return I(L,3)},Y=g.scale=g.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return N===_?L*kt:N===S?L:void 0},O=function(L){return Y((function(ee){return N===_?_i()-ee:N===S?ee:void 0})(L))};g.__private__.setPrecision=g.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(r=parseInt(L,10))};var q,$="00000000000000000000000000000000",K=g.__private__.getFileId=function(){return $},J=g.__private__.setFileId=function(L){return $=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(La=new um(u.userPermissions,u.userPassword,u.ownerPassword,$)),$};g.setFileId=function(L){return J(L),this},g.getFileId=function(){return K()};var X=g.__private__.convertDateToPDFDate=function(L){var ee=L.getTimezoneOffset(),Ae=ee<0?"+":"-",Ie=Math.floor(Math.abs(ee/60)),We=Math.abs(ee%60),bt=[Ae,W(Ie),"'",W(We),"'"].join("");return["D:",L.getFullYear(),W(L.getMonth()+1),W(L.getDate()),W(L.getHours()),W(L.getMinutes()),W(L.getSeconds()),bt].join("")},be=g.__private__.convertPDFDateToDate=function(L){var ee=parseInt(L.substr(2,4),10),Ae=parseInt(L.substr(6,2),10)-1,Ie=parseInt(L.substr(8,2),10),We=parseInt(L.substr(10,2),10),bt=parseInt(L.substr(12,2),10),Ct=parseInt(L.substr(14,2),10);return new Date(ee,Ae,Ie,We,bt,Ct,0)},te=g.__private__.setCreationDate=function(L){var ee;if(L===void 0&&(L=new Date),L instanceof Date)ee=X(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=L}return q=ee},R=g.__private__.getCreationDate=function(L){var ee=q;return L==="jsDate"&&(ee=be(q)),ee};g.setCreationDate=function(L){return te(L),this},g.getCreationDate=function(L){return R(L)};var ae,W=g.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},pe=g.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},ce=0,we=[],je=[],fe=0,xe=[],$e=[],ge=!1,ot=je;g.__private__.setCustomOutputDestination=function(L){ge=!0,ot=L};var Ze=function(L){ge||(ot=L)};g.__private__.resetCustomOutputDestination=function(){ge=!1,ot=je};var Z=g.__private__.out=function(L){return L=L.toString(),fe+=L.length+1,ot.push(L),ot},re=g.__private__.write=function(L){return Z(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Ue=g.__private__.getArrayBuffer=function(L){for(var ee=L.length,Ae=new ArrayBuffer(ee),Ie=new Uint8Array(Ae);ee--;)Ie[ee]=L.charCodeAt(ee);return Ae},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ge};var Ke=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(L){return Ke=N===S?L/kt:L,this};var ie,Ce=g.__private__.getFontSize=g.getFontSize=function(){return N===_?Ke:Ke*kt},Oe=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(L){return Oe=L,this},g.__private__.getR2L=g.getR2L=function(){return Oe};var Je,H=g.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))ie=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');ie=L}else ie=parseInt(L,10)};g.__private__.getZoomMode=function(){return ie};var de,ue=g.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Je=L};g.__private__.getPageMode=function(){return Je};var me=g.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');de=L};g.__private__.getLayoutMode=function(){return de},g.__private__.setDisplayMode=g.setDisplayMode=function(L,ee,Ae){return H(L),me(ee),ue(Ae),this};var Se={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(L){if(Object.keys(Se).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Se[L]},g.__private__.getDocumentProperties=function(){return Se},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(L){for(var ee in Se)Se.hasOwnProperty(ee)&&L[ee]&&(Se[ee]=L[ee]);return this},g.__private__.setDocumentProperty=function(L,ee){if(Object.keys(Se).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Se[L]=ee};var Ye,kt,it,ft,Te,oe={},_e={},et=[],Ve={},Wt={},Bt={},Fe={},nt=null,ut=0,Tt=[],Lt=new $T(g),Ar=t.hotfixes||[],Fr={},Re={},De=[],ze=function L(ee,Ae,Ie,We,bt,Ct){if(!(this instanceof L))return new L(ee,Ae,Ie,We,bt,Ct);isNaN(ee)&&(ee=1),isNaN(Ae)&&(Ae=0),isNaN(Ie)&&(Ie=0),isNaN(We)&&(We=1),isNaN(bt)&&(bt=0),isNaN(Ct)&&(Ct=0),this._matrix=[ee,Ae,Ie,We,bt,Ct]};Object.defineProperty(ze.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(ze.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(ze.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(ze.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(ze.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(ze.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(ze.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(ze.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(ze.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(ze.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(ze.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(ze.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(ze.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ze.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ze.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ze.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ze.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(L)},ze.prototype.multiply=function(L){var ee=L.sx*this.sx+L.shy*this.shx,Ae=L.sx*this.shy+L.shy*this.sy,Ie=L.shx*this.sx+L.sy*this.shx,We=L.shx*this.shy+L.sy*this.sy,bt=L.tx*this.sx+L.ty*this.shx+this.tx,Ct=L.tx*this.shy+L.ty*this.sy+this.ty;return new ze(ee,Ae,Ie,We,bt,Ct)},ze.prototype.decompose=function(){var L=this.sx,ee=this.shy,Ae=this.shx,Ie=this.sy,We=this.tx,bt=this.ty,Ct=Math.sqrt(L*L+ee*ee),tr=(L/=Ct)*Ae+(ee/=Ct)*Ie;Ae-=L*tr,Ie-=ee*tr;var ur=Math.sqrt(Ae*Ae+Ie*Ie);return tr/=ur,L*(Ie/=ur)<ee*(Ae/=ur)&&(L=-L,ee=-ee,tr=-tr,Ct=-Ct),{scale:new ze(Ct,0,0,ur,0,0),translate:new ze(1,0,0,1,We,bt),rotate:new ze(L,ee,-ee,L,0,0),skew:new ze(1,0,tr,1,0,0)}},ze.prototype.toString=function(L){return this.join(" ")},ze.prototype.inversed=function(){var L=this.sx,ee=this.shy,Ae=this.shx,Ie=this.sy,We=this.tx,bt=this.ty,Ct=1/(L*Ie-ee*Ae),tr=Ie*Ct,ur=-ee*Ct,kr=-Ae*Ct,Er=L*Ct;return new ze(tr,ur,kr,Er,-tr*We-kr*bt,-ur*We-Er*bt)},ze.prototype.applyToPoint=function(L){var ee=L.x*this.sx+L.y*this.shx+this.tx,Ae=L.x*this.shy+L.y*this.sy+this.ty;return new Ni(ee,Ae)},ze.prototype.applyToRectangle=function(L){var ee=this.applyToPoint(L),Ae=this.applyToPoint(new Ni(L.x+L.w,L.y+L.h));return new Mc(ee.x,ee.y,Ae.x-ee.x,Ae.y-ee.y)},ze.prototype.clone=function(){var L=this.sx,ee=this.shy,Ae=this.shx,Ie=this.sy,We=this.tx,bt=this.ty;return new ze(L,ee,Ae,Ie,We,bt)},g.Matrix=ze;var st=g.matrixMult=function(L,ee){return ee.multiply(L)},Nt=new ze(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Nt;var He=function(L,ee){if(!Wt[L]){var Ae=(ee instanceof Lu?"Sh":"P")+(Object.keys(Ve).length+1).toString(10);ee.id=Ae,Wt[L]=Ae,Ve[Ae]=ee,Lt.publish("addPattern",ee)}};g.ShadingPattern=Lu,g.TilingPattern=X0,g.addShadingPattern=function(L,ee){return E("addShadingPattern()"),He(L,ee),this},g.beginTilingPattern=function(L){E("beginTilingPattern()"),ki(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},g.endTilingPattern=function(L,ee){E("endTilingPattern()"),ee.stream=$e[ae].join(`
`),He(L,ee),Lt.publish("endTilingPattern",ee),De.pop().restore()};var Mt,Ot=g.__private__.newObject=function(){var L=Pt();return Pe(L,!0),L},Pt=g.__private__.newObjectDeferred=function(){return ce++,we[ce]=function(){return fe},ce},Pe=function(L,ee){return ee=typeof ee=="boolean"&&ee,we[L]=fe,ee&&Z(L+" 0 obj"),L},vt=g.__private__.newAdditionalObject=function(){var L={objId:Pt(),content:""};return xe.push(L),L},yt=Pt(),gr=Pt(),qt=g.__private__.decodeColorString=function(L){var ee=L.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length!==5||ee[4]!=="k"&&ee[4]!=="K"||(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var Ae=parseFloat(ee[0]);ee=[Ae,Ae,Ae,"r"]}for(var Ie="#",We=0;We<3;We++)Ie+=("0"+Math.floor(255*parseFloat(ee[We])).toString(16)).slice(-2);return Ie},ea=g.__private__.encodeColorString=function(L){var ee;typeof L=="string"&&(L={ch1:L});var Ae=L.ch1,Ie=L.ch2,We=L.ch3,bt=L.ch4,Ct=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var tr=new Y9(Ae);if(tr.ok)Ae=tr.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var ur=parseInt(Ae.substr(1),16);Ae=ur>>16&255,Ie=ur>>8&255,We=255&ur}if(Ie===void 0||bt===void 0&&Ae===Ie&&Ie===We)ee=typeof Ae=="string"?Ae+" "+Ct[0]:L.precision===2?T(Ae/255)+" "+Ct[0]:F(Ae/255)+" "+Ct[0];else if(bt===void 0||ba(bt)==="object"){if(bt&&!isNaN(bt.a)&&bt.a===0)return["1.","1.","1.",Ct[1]].join(" ");ee=typeof Ae=="string"?[Ae,Ie,We,Ct[1]].join(" "):L.precision===2?[T(Ae/255),T(Ie/255),T(We/255),Ct[1]].join(" "):[F(Ae/255),F(Ie/255),F(We/255),Ct[1]].join(" ")}else ee=typeof Ae=="string"?[Ae,Ie,We,bt,Ct[2]].join(" "):L.precision===2?[T(Ae),T(Ie),T(We),T(bt),Ct[2]].join(" "):[F(Ae),F(Ie),F(We),F(bt),Ct[2]].join(" ");return ee},hs=g.__private__.getFilters=function(){return o},es=g.__private__.putStream=function(L){var ee=(L=L||{}).data||"",Ae=L.filters||hs(),Ie=L.alreadyAppliedFilters||[],We=L.addLength1||!1,bt=ee.length,Ct=L.objectId,tr=function(Ss){return Ss};if(u!==null&&Ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(tr=La.encryptor(Ct,0));var ur={};Ae===!0&&(Ae=["FlateEncode"]);var kr=L.additionalKeyValues||[],Er=(ur=sr.API.processDataByFilters!==void 0?sr.API.processDataByFilters(ee,Ae):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Ie)?Ie.join(" "):Ie.toString());if(ur.data.length!==0&&(kr.push({key:"Length",value:ur.data.length}),We===!0&&kr.push({key:"Length1",value:bt})),Er.length!=0)if(Er.split("/").length-1==1)kr.push({key:"Filter",value:Er});else{kr.push({key:"Filter",value:"["+Er+"]"});for(var Gr=0;Gr<kr.length;Gr+=1)if(kr[Gr].key==="DecodeParms"){for(var Ma=[],fs=0;fs<ur.reverseChain.split("/").length-1;fs+=1)Ma.push("null");Ma.push(kr[Gr].value),kr[Gr].value="["+Ma.join(" ")+"]"}}Z("<<");for(var wa=0;wa<kr.length;wa++)Z("/"+kr[wa].key+" "+kr[wa].value);Z(">>"),ur.data.length!==0&&(Z("stream"),Z(tr(ur.data)),Z("endstream"))},Pa=g.__private__.putPage=function(L){var ee=L.number,Ae=L.data,Ie=L.objId,We=L.contentsObjId;Pe(Ie,!0),Z("<</Type /Page"),Z("/Parent "+L.rootDictionaryObjId+" 0 R"),Z("/Resources "+L.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(z(L.mediaBox.bottomLeftX))+" "+parseFloat(z(L.mediaBox.bottomLeftY))+" "+z(L.mediaBox.topRightX)+" "+z(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&Z("/CropBox ["+z(L.cropBox.bottomLeftX)+" "+z(L.cropBox.bottomLeftY)+" "+z(L.cropBox.topRightX)+" "+z(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&Z("/BleedBox ["+z(L.bleedBox.bottomLeftX)+" "+z(L.bleedBox.bottomLeftY)+" "+z(L.bleedBox.topRightX)+" "+z(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&Z("/TrimBox ["+z(L.trimBox.bottomLeftX)+" "+z(L.trimBox.bottomLeftY)+" "+z(L.trimBox.topRightX)+" "+z(L.trimBox.topRightY)+"]"),L.artBox!==null&&Z("/ArtBox ["+z(L.artBox.bottomLeftX)+" "+z(L.artBox.bottomLeftY)+" "+z(L.artBox.topRightX)+" "+z(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&Z("/UserUnit "+L.userUnit),Lt.publish("putPage",{objId:Ie,pageContext:Tt[ee],pageNumber:ee,page:Ae}),Z("/Contents "+We+" 0 R"),Z(">>"),Z("endobj");var bt=Ae.join(`
`);return N===S&&(bt+=`
Q`),Pe(We,!0),es({data:bt,filters:hs(),objectId:We}),Z("endobj"),Ie},Fs=g.__private__.putPages=function(){var L,ee,Ae=[];for(L=1;L<=ut;L++)Tt[L].objId=Pt(),Tt[L].contentsObjId=Pt();for(L=1;L<=ut;L++)Ae.push(Pa({number:L,data:$e[L],objId:Tt[L].objId,contentsObjId:Tt[L].contentsObjId,mediaBox:Tt[L].mediaBox,cropBox:Tt[L].cropBox,bleedBox:Tt[L].bleedBox,trimBox:Tt[L].trimBox,artBox:Tt[L].artBox,userUnit:Tt[L].userUnit,rootDictionaryObjId:yt,resourceDictionaryObjId:gr}));Pe(yt,!0),Z("<</Type /Pages");var Ie="/Kids [";for(ee=0;ee<ut;ee++)Ie+=Ae[ee]+" 0 R ";Z(Ie+"]"),Z("/Count "+ut),Z(">>"),Z("endobj"),Lt.publish("postPutPages")},Xi=function(L){Lt.publish("putFont",{font:L,out:Z,newObject:Ot,putStream:es}),L.isAlreadyPutted!==!0&&(L.objectNumber=Ot(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+hm(L.postScriptName)),Z("/Subtype /Type1"),typeof L.encoding=="string"&&Z("/Encoding /"+L.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Eo=function(L){L.objectNumber=Ot();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[z(L.x),z(L.y),z(L.x+L.width),z(L.y+L.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ae=L.pages[1].join(`
`);es({data:Ae,additionalKeyValues:ee,objectId:L.objectNumber}),Z("endobj")},pl=function(L,ee){ee||(ee=21);var Ae=Ot(),Ie=(function(Ct,tr){var ur,kr=[],Er=1/(tr-1);for(ur=0;ur<1;ur+=Er)kr.push(ur);if(kr.push(1),Ct[0].offset!=0){var Gr={offset:0,color:Ct[0].color};Ct.unshift(Gr)}if(Ct[Ct.length-1].offset!=1){var Ma={offset:1,color:Ct[Ct.length-1].color};Ct.push(Ma)}for(var fs="",wa=0,Ss=0;Ss<kr.length;Ss++){for(ur=kr[Ss];ur>Ct[wa+1].offset;)wa++;var ts=Ct[wa].offset,Ys=(ur-ts)/(Ct[wa+1].offset-ts),bl=Ct[wa].color,eo=Ct[wa+1].color;fs+=pe(Math.round((1-Ys)*bl[0]+Ys*eo[0]).toString(16))+pe(Math.round((1-Ys)*bl[1]+Ys*eo[1]).toString(16))+pe(Math.round((1-Ys)*bl[2]+Ys*eo[2]).toString(16))}return fs.trim()})(L.colors,ee),We=[];We.push({key:"FunctionType",value:"0"}),We.push({key:"Domain",value:"[0.0 1.0]"}),We.push({key:"Size",value:"["+ee+"]"}),We.push({key:"BitsPerSample",value:"8"}),We.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),es({data:Ie,additionalKeyValues:We,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),Z("endobj"),L.objectNumber=Ot(),Z("<< /ShadingType "+L.type),Z("/ColorSpace /DeviceRGB");var bt="/Coords ["+z(parseFloat(L.coords[0]))+" "+z(parseFloat(L.coords[1]))+" ";L.type===2?bt+=z(parseFloat(L.coords[2]))+" "+z(parseFloat(L.coords[3])):bt+=z(parseFloat(L.coords[2]))+" "+z(parseFloat(L.coords[3]))+" "+z(parseFloat(L.coords[4]))+" "+z(parseFloat(L.coords[5])),Z(bt+="]"),L.matrix&&Z("/Matrix ["+L.matrix.toString()+"]"),Z("/Function "+Ae+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},si=function(L,ee){var Ae=Pt(),Ie=Ot();ee.push({resourcesOid:Ae,objectOid:Ie}),L.objectNumber=Ie;var We=[];We.push({key:"Type",value:"/Pattern"}),We.push({key:"PatternType",value:"1"}),We.push({key:"PaintType",value:"1"}),We.push({key:"TilingType",value:"1"}),We.push({key:"BBox",value:"["+L.boundingBox.map(z).join(" ")+"]"}),We.push({key:"XStep",value:z(L.xStep)}),We.push({key:"YStep",value:z(L.yStep)}),We.push({key:"Resources",value:Ae+" 0 R"}),L.matrix&&We.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),es({data:L.stream,additionalKeyValues:We,objectId:L.objectNumber}),Z("endobj")},s0=function(L){for(var ee in L.objectNumber=Ot(),Z("<<"),L)switch(ee){case"opacity":Z("/ca "+T(L[ee]));break;case"stroke-opacity":Z("/CA "+T(L[ee]))}Z(">>"),Z("endobj")},ia=function(L){Pe(L.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ee in Z("/Font <<"),oe)oe.hasOwnProperty(ee)&&(f===!1||f===!0&&p.hasOwnProperty(ee))&&Z("/"+ee+" "+oe[ee].objectNumber+" 0 R");Z(">>")})(),(function(){if(Object.keys(Ve).length>0){for(var ee in Z("/Shading <<"),Ve)Ve.hasOwnProperty(ee)&&Ve[ee]instanceof Lu&&Ve[ee].objectNumber>=0&&Z("/"+ee+" "+Ve[ee].objectNumber+" 0 R");Lt.publish("putShadingPatternDict"),Z(">>")}})(),(function(ee){if(Object.keys(Ve).length>0){for(var Ae in Z("/Pattern <<"),Ve)Ve.hasOwnProperty(Ae)&&Ve[Ae]instanceof g.TilingPattern&&Ve[Ae].objectNumber>=0&&Ve[Ae].objectNumber<ee&&Z("/"+Ae+" "+Ve[Ae].objectNumber+" 0 R");Lt.publish("putTilingPatternDict"),Z(">>")}})(L.objectOid),(function(){if(Object.keys(Bt).length>0){var ee;for(ee in Z("/ExtGState <<"),Bt)Bt.hasOwnProperty(ee)&&Bt[ee].objectNumber>=0&&Z("/"+ee+" "+Bt[ee].objectNumber+" 0 R");Lt.publish("putGStateDict"),Z(">>")}})(),(function(){for(var ee in Z("/XObject <<"),Fr)Fr.hasOwnProperty(ee)&&Fr[ee].objectNumber>=0&&Z("/"+ee+" "+Fr[ee].objectNumber+" 0 R");Lt.publish("putXobjectDict"),Z(">>")})(),Z(">>"),Z("endobj")},Kl=function(L){_e[L.fontName]=_e[L.fontName]||{},_e[L.fontName][L.fontStyle]=L.id},ni=function(L,ee,Ae,Ie,We){var bt={id:"F"+(Object.keys(oe).length+1).toString(10),postScriptName:L,fontName:ee,fontStyle:Ae,encoding:Ie,isStandardFont:We||!1,metadata:{}};return Lt.publish("addFont",{font:bt,instance:this}),oe[bt.id]=bt,Kl(bt),bt.id},jn=g.__private__.pdfEscape=g.pdfEscape=function(L,ee){return(function(Ae,Ie){var We,bt,Ct,tr,ur,kr,Er,Gr,Ma;if(Ct=(Ie=Ie||{}).sourceEncoding||"Unicode",ur=Ie.outputEncoding,(Ie.autoencode||ur)&&oe[Ye].metadata&&oe[Ye].metadata[Ct]&&oe[Ye].metadata[Ct].encoding&&(tr=oe[Ye].metadata[Ct].encoding,!ur&&oe[Ye].encoding&&(ur=oe[Ye].encoding),!ur&&tr.codePages&&(ur=tr.codePages[0]),typeof ur=="string"&&(ur=tr[ur]),ur)){for(Er=!1,kr=[],We=0,bt=Ae.length;We<bt;We++)(Gr=ur[Ae.charCodeAt(We)])?kr.push(String.fromCharCode(Gr)):kr.push(Ae[We]),kr[We].charCodeAt(0)>>8&&(Er=!0);Ae=kr.join("")}for(We=Ae.length;Er===void 0&&We!==0;)Ae.charCodeAt(We-1)>>8&&(Er=!0),We--;if(!Er)return Ae;for(kr=Ie.noBOM?[]:[254,255],We=0,bt=Ae.length;We<bt;We++){if((Ma=(Gr=Ae.charCodeAt(We))>>8)>>8)throw new Error("Character at position "+We+" of string '"+Ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kr.push(Ma),kr.push(Gr-(Ma<<8))}return String.fromCharCode.apply(void 0,kr)})(L,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zi=g.__private__.beginPage=function(L){$e[++ut]=[],Tt[ut]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},gl(ut),Ze($e[ae])},Wd=function(L,ee){var Ae,Ie,We;switch(a=ee||a,typeof L=="string"&&(Ae=j(L.toLowerCase()),Array.isArray(Ae)&&(Ie=Ae[0],We=Ae[1])),Array.isArray(L)&&(Ie=L[0]*kt,We=L[1]*kt),isNaN(Ie)&&(Ie=n[0],We=n[1]),(Ie>14400||We>14400)&&(Sa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ie=Math.min(14400,Ie),We=Math.min(14400,We)),n=[Ie,We],a.substr(0,1)){case"l":We>Ie&&(n=[We,Ie]);break;case"p":Ie>We&&(n=[We,Ie])}Zi(n),vr(ji),Z(Rc),c0!==0&&Z(c0+" J"),d0!==0&&Z(d0+" j"),Lt.publish("addPage",{pageNumber:ut})},Jl=function(L){L>0&&L<=ut&&($e.splice(L,1),Tt.splice(L,1),ut--,ae>ut&&(ae=ut),this.setPage(ae))},gl=function(L){L>0&&L<=ut&&(ae=L)},he=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return $e.length-1},Qe=function(L,ee,Ae){var Ie,We=void 0;return Ae=Ae||{},L=L!==void 0?L:oe[Ye].fontName,ee=ee!==void 0?ee:oe[Ye].fontStyle,Ie=L.toLowerCase(),_e[Ie]!==void 0&&_e[Ie][ee]!==void 0?We=_e[Ie][ee]:_e[L]!==void 0&&_e[L][ee]!==void 0?We=_e[L][ee]:Ae.disableWarning===!1&&Sa.warn("Unable to look up font label for font '"+L+"', '"+ee+"'. Refer to getFontList() for available fonts."),We||Ae.noFallback||(We=_e.times[ee])==null&&(We=_e.times.normal),We},_t=g.__private__.putInfo=function(){var L=Ot(),ee=function(Ie){return Ie};for(var Ae in u!==null&&(ee=La.encryptor(L,0)),Z("<<"),Z("/Producer ("+jn(ee("jsPDF "+sr.version))+")"),Se)Se.hasOwnProperty(Ae)&&Se[Ae]&&Z("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+jn(ee(Se[Ae]))+")");Z("/CreationDate ("+jn(ee(q))+")"),Z(">>"),Z("endobj")},nr=g.__private__.putCatalog=function(L){var ee=(L=L||{}).rootDictionaryObjId||yt;switch(Ot(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+ee+" 0 R"),ie||(ie="fullwidth"),ie){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+ie;Ae.substr(Ae.length-1)==="%"&&(ie=parseInt(ie)/100),typeof ie=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+T(ie)+"]")}switch(de||(de="continuous"),de){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Je&&Z("/PageMode /"+Je),Lt.publish("putCatalog"),Z(">>"),Z("endobj")},Rt=g.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(ce+1)),Z("/Root "+ce+" 0 R"),Z("/Info "+(ce-1)+" 0 R"),u!==null&&Z("/Encrypt "+La.oid+" 0 R"),Z("/ID [ <"+$+"> <"+$+"> ]"),Z(">>")},wr=g.__private__.putHeader=function(){Z("%PDF-"+x),Z("%")},ta=g.__private__.putXRef=function(){var L="0000000000";Z("xref"),Z("0 "+(ce+1)),Z("0000000000 65535 f ");for(var ee=1;ee<=ce;ee++)typeof we[ee]=="function"?Z((L+we[ee]()).slice(-10)+" 00000 n "):we[ee]!==void 0?Z((L+we[ee]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},qr=g.__private__.buildDocument=function(){var L;ce=0,fe=0,je=[],we=[],xe=[],yt=Pt(),gr=Pt(),Ze(je),Lt.publish("buildDocument"),wr(),Fs(),(function(){Lt.publish("putAdditionalObjects");for(var Ae=0;Ae<xe.length;Ae++){var Ie=xe[Ae];Pe(Ie.objId,!0),Z(Ie.content),Z("endobj")}Lt.publish("postPutAdditionalObjects")})(),L=[],(function(){for(var Ae in oe)oe.hasOwnProperty(Ae)&&(f===!1||f===!0&&p.hasOwnProperty(Ae))&&Xi(oe[Ae])})(),(function(){var Ae;for(Ae in Bt)Bt.hasOwnProperty(Ae)&&s0(Bt[Ae])})(),(function(){for(var Ae in Fr)Fr.hasOwnProperty(Ae)&&Eo(Fr[Ae])})(),(function(Ae){var Ie;for(Ie in Ve)Ve.hasOwnProperty(Ie)&&(Ve[Ie]instanceof Lu?pl(Ve[Ie]):Ve[Ie]instanceof X0&&si(Ve[Ie],Ae))})(L),Lt.publish("putResources"),L.forEach(ia),ia({resourcesOid:gr,objectOid:Number.MAX_SAFE_INTEGER}),Lt.publish("postPutResources"),u!==null&&(La.oid=Ot(),Z("<<"),Z("/Filter /Standard"),Z("/V "+La.v),Z("/R "+La.r),Z("/U <"+La.toHexString(La.U)+">"),Z("/O <"+La.toHexString(La.O)+">"),Z("/P "+La.P),Z(">>"),Z("endobj")),_t(),nr();var ee=fe;return ta(),Rt(),Z("startxref"),Z(""+ee),Z("%%EOF"),Ze($e[ae]),je.join(`
`)},ms=g.__private__.getBlob=function(L){return new Blob([Ue(L)],{type:"application/pdf"})},wi=g.output=g.__private__.output=(Mt=function(L,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",L){case void 0:return qr();case"save":g.save(ee.filename);break;case"arraybuffer":return Ue(qr());case"blob":return ms(qr());case"bloburi":case"bloburl":if(Pr.URL!==void 0&&typeof Pr.URL.createObjectURL=="function")return Pr.URL&&Pr.URL.createObjectURL(ms(qr()))||void 0;Sa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",Ie=qr();try{Ae=LT(Ie)}catch{Ae=LT(unescape(encodeURIComponent(Ie)))}return"data:application/pdf;filename="+ee.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pr)==="[object Window]"){var We="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(We=ee.pdfObjectUrl,bt="");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+We+'"'+bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",tr=Pr.open();return tr!==null&&tr.document.write(Ct),tr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pr)==="[object Window]"){var ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',kr=Pr.open();if(kr!==null){kr.document.write(ur);var Er=this;kr.document.documentElement.querySelector("#pdfViewer").onload=function(){kr.document.title=ee.filename,kr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Er.output("bloburl"))}}return kr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',Ma=Pr.open();if(Ma!==null&&(Ma.document.write(Gr),Ma.document.title=ee.filename),Ma||typeof safari>"u")return Ma;break;case"datauri":case"dataurl":return Pr.document.location.href=this.output("datauristring",ee);default:return null}},Mt.foo=function(){try{return Mt.apply(this,arguments)}catch(Ae){var L=Ae.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var ee="Error in function "+L.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!Pr.console)throw new Error(ee);Pr.console.error(ee,Ae),Pr.alert&&alert(ee)}},Mt.foo.bar=Mt,Mt.foo),ua=function(L){return Array.isArray(Ar)===!0&&Ar.indexOf(L)>-1};switch(s){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=ua("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);kt=s}var La=null;te(),J();var Nn=g.__private__.getPageInfo=g.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Tt[L].objId,pageNumber:L,pageContext:Tt[L]}},n0=g.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in Tt)if(Tt[ee].objId===L)break;return Nn(ee)},i0=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Tt[ae].objId,pageNumber:ae,pageContext:Tt[ae]}};g.addPage=function(){return Wd.apply(this,arguments),this},g.setPage=function(){return gl.apply(this,arguments),Ze.call(this,$e[ae]),this},g.insertPage=function(L){return this.addPage(),this.movePage(ae,L),this},g.movePage=function(L,ee){var Ae,Ie;if(L>ee){Ae=$e[L],Ie=Tt[L];for(var We=L;We>ee;We--)$e[We]=$e[We-1],Tt[We]=Tt[We-1];$e[ee]=Ae,Tt[ee]=Ie,this.setPage(ee)}else if(L<ee){Ae=$e[L],Ie=Tt[L];for(var bt=L;bt<ee;bt++)$e[bt]=$e[bt+1],Tt[bt]=Tt[bt+1];$e[ee]=Ae,Tt[ee]=Ie,this.setPage(ee)}return this},g.deletePage=function(){return Jl.apply(this,arguments),this},g.__private__.text=g.text=function(L,ee,Ae,Ie,We){var bt,Ct,tr,ur,kr,Er,Gr,Ma,fs,wa=(Ie=Ie||{}).scope||this;if(typeof L=="number"&&typeof ee=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var Ss=Ae;Ae=ee,ee=L,L=Ss}if(arguments[3]instanceof ze==0?(tr=arguments[4],ur=arguments[5],ba(Gr=arguments[3])==="object"&&Gr!==null||(typeof tr=="string"&&(ur=tr,tr=null),typeof Gr=="string"&&(ur=Gr,Gr=null),typeof Gr=="number"&&(tr=Gr,Gr=null),Ie={flags:Gr,angle:tr,align:ur})):(E("The transform parameter of text() with a Matrix value"),fs=We),isNaN(ee)||isNaN(Ae)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return wa;var ts,Ys="",bl=typeof Ie.lineHeightFactor=="number"?Ie.lineHeightFactor:Ln,eo=wa.internal.scaleFactor;function vl(Jr){return Jr=Jr.split("	").join(Array(Ie.TabLen||9).join(" ")),jn(Jr,Gr)}function Bc(Jr){for(var la,Va=Jr.concat(),ps=[],ao=Va.length;ao--;)typeof(la=Va.shift())=="string"?ps.push(la):Array.isArray(Jr)&&(la.length===1||la[1]===void 0&&la[2]===void 0)?ps.push(la[0]):ps.push([la[0],la[1],la[2]]);return ps}function eu(Jr,la){var Va;if(typeof Jr=="string")Va=la(Jr)[0];else if(Array.isArray(Jr)){for(var ps,ao,f0=Jr.concat(),nu=[],Sl=f0.length;Sl--;)typeof(ps=f0.shift())=="string"?nu.push(la(ps)[0]):Array.isArray(ps)&&typeof ps[0]=="string"&&(ao=la(ps[0],ps[1],ps[2]),nu.push([ao[0],ao[1],ao[2]]));Va=nu}return Va}var Ql=!1,Uc=!0;if(typeof L=="string")Ql=!0;else if(Array.isArray(L)){var ec=L.concat();Ct=[];for(var tc,Ks=ec.length;Ks--;)(typeof(tc=ec.shift())!="string"||Array.isArray(tc)&&typeof tc[0]!="string")&&(Uc=!1);Ql=Uc}if(Ql===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var zc=Ke/wa.internal.scaleFactor,qc=zc*(bl-1);switch(Ie.baseline){case"bottom":Ae-=qc;break;case"top":Ae+=zc-qc;break;case"hanging":Ae+=zc-2*qc;break;case"middle":Ae+=zc/2-qc}if((Er=Ie.maxWidth||0)>0&&(typeof L=="string"?L=wa.splitTextToSize(L,Er):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Jr,la){return Jr.concat(wa.splitTextToSize(la,Er))},[]))),bt={text:L,x:ee,y:Ae,options:Ie,mutex:{pdfEscape:jn,activeFontKey:Ye,fonts:oe,activeFontSize:Ke}},Lt.publish("preProcessText",bt),L=bt.text,tr=(Ie=bt.options).angle,fs instanceof ze==0&&tr&&typeof tr=="number"){tr*=Math.PI/180,Ie.rotationDirection===0&&(tr=-tr),N===S&&(tr=-tr);var h0=Math.cos(tr),m0=Math.sin(tr);fs=new ze(h0,m0,-m0,h0,0,0)}else tr&&tr instanceof ze&&(fs=tr);N!==S||fs||(fs=Nt),(kr=Ie.charSpace||Mn)!==void 0&&(Ys+=z(Y(kr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ma=Ie.horizontalScale)!==void 0&&(Ys+=z(100*Ma)+` Tz
`),Ie.lang;var kn=-1,to=Ie.renderingMode!==void 0?Ie.renderingMode:Ie.stroke,Ro=wa.internal.getCurrentPageInfo().pageContext;switch(to){case 0:case!1:case"fill":kn=0;break;case 1:case!0:case"stroke":kn=1;break;case 2:case"fillThenStroke":kn=2;break;case 3:case"invisible":kn=3;break;case 4:case"fillAndAddForClipping":kn=4;break;case 5:case"strokeAndAddPathForClipping":kn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":kn=6;break;case 7:case"addToPathForClipping":kn=7}var Rh=Ro.usedRenderingMode!==void 0?Ro.usedRenderingMode:-1;kn!==-1?Ys+=kn+` Tr
`:Rh!==-1&&(Ys+=`0 Tr
`),kn!==-1&&(Ro.usedRenderingMode=kn),ur=Ie.align||"left";var oi,rc=Ke*bl,tu=wa.internal.pageSize.getWidth(),ru=oe[Ye];kr=Ie.charSpace||Mn,Er=Ie.maxWidth||0,Gr=Object.assign({autoencode:!0,noBOM:!0},Ie.flags);var wl=[],Ai=function(Jr){return wa.getStringUnitWidth(Jr,{font:ru,charSpace:kr,fontSize:Ke,doKerning:!1})*Ke/eo};if(Object.prototype.toString.call(L)==="[object Array]"){var li;Ct=Bc(L),ur!=="left"&&(oi=Ct.map(Ai));var ci,ac=0;if(ur==="right"){ee-=oi[0],L=[],Ks=Ct.length;for(var Lo=0;Lo<Ks;Lo++)Lo===0?(ci=ii(ee),li=xl(Ae)):(ci=Y(ac-oi[Lo]),li=-rc),L.push([Ct[Lo],ci,li]),ac=oi[Lo]}else if(ur==="center"){ee-=oi[0]/2,L=[],Ks=Ct.length;for(var jl=0;jl<Ks;jl++)jl===0?(ci=ii(ee),li=xl(Ae)):(ci=Y((ac-oi[jl])/2),li=-rc),L.push([Ct[jl],ci,li]),ac=oi[jl]}else if(ur==="left"){L=[],Ks=Ct.length;for(var Nl=0;Nl<Ks;Nl++)L.push(Ct[Nl])}else if(ur==="justify"&&ru.encoding==="Identity-H"){L=[],Ks=Ct.length,Er=Er!==0?Er:tu;for(var Mo=0,rs=0;rs<Ks;rs++)if(li=rs===0?xl(Ae):-rc,ci=rs===0?ii(ee):Mo,rs<Ks-1){var Vc=Y((Er-oi[rs])/(Ct[rs].split(" ").length-1)),Fo=Ct[rs].split(" ");L.push([Fo[0]+" ",ci,li]),Mo=0;for(var ro=1;ro<Fo.length;ro++){var Hc=(Ai(Fo[ro-1]+" "+Fo[ro])-Ai(Fo[ro]))*eo+Vc;ro==Fo.length-1?L.push([Fo[ro],Hc,0]):L.push([Fo[ro]+" ",Hc,0]),Mo-=Hc}}else L.push([Ct[rs],ci,li]);L.push(["",Mo,0])}else{if(ur!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Ks=Ct.length,Er=Er!==0?Er:tu,rs=0;rs<Ks;rs++){li=rs===0?xl(Ae):-rc,ci=rs===0?ii(ee):0;var Wc=Ct[rs].split(" ").length-1,au=Wc>0?(Er-oi[rs])/Wc:0;rs<Ks-1?wl.push(z(Y(au))):wl.push(0),L.push([Ct[rs],ci,li])}}}(typeof Ie.R2L=="boolean"?Ie.R2L:Oe)===!0&&(L=eu(L,function(Jr,la,Va){return[Jr.split("").reverse().join(""),la,Va]})),bt={text:L,x:ee,y:Ae,options:Ie,mutex:{pdfEscape:jn,activeFontKey:Ye,fonts:oe,activeFontSize:Ke}},Lt.publish("postProcessText",bt),L=bt.text,ts=bt.mutex.isHex||!1;var su=oe[Ye].encoding;su!=="WinAnsiEncoding"&&su!=="StandardEncoding"||(L=eu(L,function(Jr,la,Va){return[vl(Jr),la,Va]})),Ct=Bc(L),L=[];for(var kl,sc,nc,Gc=Array.isArray(Ct[0])?1:0,ic="",Yc=function(Jr,la,Va){var ps="";return Va instanceof ze?(Va=typeof Ie.angle=="number"?st(Va,new ze(1,0,0,1,Jr,la)):st(new ze(1,0,0,1,Jr,la),Va),N===S&&(Va=st(new ze(1,0,0,-1,0,0),Va)),ps=Va.join(" ")+` Tm
`):ps=z(Jr)+" "+z(la)+` Td
`,ps},qa=0;qa<Ct.length;qa++){switch(ic="",Gc){case 1:nc=(ts?"<":"(")+Ct[qa][0]+(ts?">":")"),kl=parseFloat(Ct[qa][1]),sc=parseFloat(Ct[qa][2]);break;case 0:nc=(ts?"<":"(")+Ct[qa]+(ts?">":")"),kl=ii(ee),sc=xl(Ae)}wl!==void 0&&wl[qa]!==void 0&&(ic=wl[qa]+` Tw
`),qa===0?L.push(ic+Yc(kl,sc,fs)+nc):Gc===0?L.push(ic+nc):Gc===1&&L.push(ic+Yc(kl,sc,fs)+nc)}L=Gc===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Fn=`BT
/`;return Fn+=Ye+" "+Ke+` Tf
`,Fn+=z(Ke*bl)+` TL
`,Fn+=Qi+`
`,Fn+=Ys,Fn+=L,Z(Fn+="ET"),p[Ye]=!0,wa};var Dc=g.__private__.clip=g.clip=function(L){return Z(L==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Dc("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Z("n"),this};var To=g.__private__.isValidStyle=function(L){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(ee=!0),ee};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(L){return To(L)&&(d=L),this};var Gd=g.__private__.getStyle=g.getStyle=function(L){var ee=d;switch(L){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=L}return ee},Kr=g.close=function(){return Z("h"),this};g.stroke=function(){return Z("S"),this},g.fill=function(L){return Ic("f",L),this},g.fillEvenOdd=function(L){return Ic("f*",L),this},g.fillStroke=function(L){return Ic("B",L),this},g.fillStrokeEvenOdd=function(L){return Ic("B*",L),this};var Ic=function(L,ee){ba(ee)==="object"?Th(ee,L):Z(L)},Xl=function(L){L===null||N===S&&L===void 0||(L=Gd(L),Z(L))};function o0(L,ee,Ae,Ie,We){var bt=new X0(ee||this.boundingBox,Ae||this.xStep,Ie||this.yStep,this.gState,We||this.matrix);bt.stream=this.stream;var Ct=L+"$$"+this.cloneIndex+++"$$";return He(Ct,bt),bt}var Th=function(L,ee){var Ae=Wt[L.key],Ie=Ve[Ae];if(Ie instanceof Lu)Z("q"),Z(Dh(ee)),Ie.gState&&g.setGState(Ie.gState),Z(L.matrix.toString()+" cm"),Z("/"+Ae+" sh"),Z("Q");else if(Ie instanceof X0){var We=new ze(1,0,0,-1,0,_i());L.matrix&&(We=We.multiply(L.matrix||Nt),Ae=o0.call(Ie,L.key,L.boundingBox,L.xStep,L.yStep,We).id),Z("q"),Z("/Pattern cs"),Z("/"+Ae+" scn"),Ie.gState&&g.setGState(Ie.gState),Z(ee),Z("Q")}},Dh=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Yd=g.moveTo=function(L,ee){return Z(z(Y(L))+" "+z(O(ee))+" m"),this},Kd=g.lineTo=function(L,ee){return Z(z(Y(L))+" "+z(O(ee))+" l"),this},Rn=g.curveTo=function(L,ee,Ae,Ie,We,bt){return Z([z(Y(L)),z(O(ee)),z(Y(Ae)),z(O(Ie)),z(Y(We)),z(O(bt)),"c"].join(" ")),this};g.__private__.line=g.line=function(L,ee,Ae,Ie,We){if(isNaN(L)||isNaN(ee)||isNaN(Ae)||isNaN(Ie)||!To(We))throw new Error("Invalid arguments passed to jsPDF.line");return N===_?this.lines([[Ae-L,Ie-ee]],L,ee,[1,1],We||"S"):this.lines([[Ae-L,Ie-ee]],L,ee,[1,1]).stroke()},g.__private__.lines=g.lines=function(L,ee,Ae,Ie,We,bt){var Ct,tr,ur,kr,Er,Gr,Ma,fs,wa,Ss,ts,Ys;if(typeof L=="number"&&(Ys=Ae,Ae=ee,ee=L,L=Ys),Ie=Ie||[1,1],bt=bt||!1,isNaN(ee)||isNaN(Ae)||!Array.isArray(L)||!Array.isArray(Ie)||!To(We)||typeof bt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Yd(ee,Ae),Ct=Ie[0],tr=Ie[1],kr=L.length,Ss=ee,ts=Ae,ur=0;ur<kr;ur++)(Er=L[ur]).length===2?(Ss=Er[0]*Ct+Ss,ts=Er[1]*tr+ts,Kd(Ss,ts)):(Gr=Er[0]*Ct+Ss,Ma=Er[1]*tr+ts,fs=Er[2]*Ct+Ss,wa=Er[3]*tr+ts,Ss=Er[4]*Ct+Ss,ts=Er[5]*tr+ts,Rn(Gr,Ma,fs,wa,Ss,ts));return bt&&Kr(),Xl(We),this},g.path=function(L){for(var ee=0;ee<L.length;ee++){var Ae=L[ee],Ie=Ae.c;switch(Ae.op){case"m":Yd(Ie[0],Ie[1]);break;case"l":Kd(Ie[0],Ie[1]);break;case"c":Rn.apply(this,Ie);break;case"h":Kr()}}return this},g.__private__.rect=g.rect=function(L,ee,Ae,Ie,We){if(isNaN(L)||isNaN(ee)||isNaN(Ae)||isNaN(Ie)||!To(We))throw new Error("Invalid arguments passed to jsPDF.rect");return N===_&&(Ie=-Ie),Z([z(Y(L)),z(O(ee)),z(Y(Ae)),z(Y(Ie)),"re"].join(" ")),Xl(We),this},g.__private__.triangle=g.triangle=function(L,ee,Ae,Ie,We,bt,Ct){if(isNaN(L)||isNaN(ee)||isNaN(Ae)||isNaN(Ie)||isNaN(We)||isNaN(bt)||!To(Ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-L,Ie-ee],[We-Ae,bt-Ie],[L-We,ee-bt]],L,ee,[1,1],Ct,!0),this},g.__private__.roundedRect=g.roundedRect=function(L,ee,Ae,Ie,We,bt,Ct){if(isNaN(L)||isNaN(ee)||isNaN(Ae)||isNaN(Ie)||isNaN(We)||isNaN(bt)||!To(Ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tr=4/3*(Math.SQRT2-1);return We=Math.min(We,.5*Ae),bt=Math.min(bt,.5*Ie),this.lines([[Ae-2*We,0],[We*tr,0,We,bt-bt*tr,We,bt],[0,Ie-2*bt],[0,bt*tr,-We*tr,bt,-We,bt],[2*We-Ae,0],[-We*tr,0,-We,-bt*tr,-We,-bt],[0,2*bt-Ie],[0,-bt*tr,We*tr,-bt,We,-bt]],L+We,ee,[1,1],Ct,!0),this},g.__private__.ellipse=g.ellipse=function(L,ee,Ae,Ie,We){if(isNaN(L)||isNaN(ee)||isNaN(Ae)||isNaN(Ie)||!To(We))throw new Error("Invalid arguments passed to jsPDF.ellipse");var bt=4/3*(Math.SQRT2-1)*Ae,Ct=4/3*(Math.SQRT2-1)*Ie;return Yd(L+Ae,ee),Rn(L+Ae,ee-Ct,L+bt,ee-Ie,L,ee-Ie),Rn(L-bt,ee-Ie,L-Ae,ee-Ct,L-Ae,ee),Rn(L-Ae,ee+Ct,L-bt,ee+Ie,L,ee+Ie),Rn(L+bt,ee+Ie,L+Ae,ee+Ct,L+Ae,ee),Xl(We),this},g.__private__.circle=g.circle=function(L,ee,Ae,Ie){if(isNaN(L)||isNaN(ee)||isNaN(Ae)||!To(Ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,ee,Ae,Ae,Ie)},g.setFont=function(L,ee,Ae){return Ae&&(ee=U(ee,Ae)),Ye=Qe(L,ee,{disableWarning:!1}),this};var Do=g.__private__.getFont=g.getFont=function(){return oe[Qe.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var L,ee,Ae={};for(L in _e)if(_e.hasOwnProperty(L))for(ee in Ae[L]=[],_e[L])_e[L].hasOwnProperty(ee)&&Ae[L].push(ee);return Ae},g.addFont=function(L,ee,Ae,Ie,We){var bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&bt.indexOf(arguments[3])!==-1?We=arguments[3]:arguments[3]&&bt.indexOf(arguments[3])==-1&&(Ae=U(Ae,Ie)),ni.call(this,L,ee,Ae,We=We||"Identity-H")};var Ln,ji=t.lineWidth||.200025,Oc=g.__private__.getLineWidth=g.getLineWidth=function(){return ji},vr=g.__private__.setLineWidth=g.setLineWidth=function(L){return ji=L,Z(z(Y(L))+" w"),this};g.__private__.setLineDash=sr.API.setLineDash=sr.API.setLineDashPattern=function(L,ee){if(L=L||[],ee=ee||0,isNaN(ee)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ae){return z(Y(Ae))}).join(" "),ee=z(Y(ee)),Z("["+L+"] "+ee+" d"),this};var Io=g.__private__.getLineHeight=g.getLineHeight=function(){return Ke*Ln};g.__private__.getLineHeight=g.getLineHeight=function(){return Ke*Ln};var cf=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Ln=L),this},Ih=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ln};cf(t.lineHeight);var ii=g.__private__.getHorizontalCoordinate=function(L){return Y(L)},xl=g.__private__.getVerticalCoordinate=function(L){return N===S?L:Tt[ae].mediaBox.topRightY-Tt[ae].mediaBox.bottomLeftY-Y(L)},Oh=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(L){return z(ii(L))},Jd=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(L){return z(xl(L))},Rc=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return qt(Rc)},g.__private__.setStrokeColor=g.setDrawColor=function(L,ee,Ae,Ie){return Rc=ea({ch1:L,ch2:ee,ch3:Ae,ch4:Ie,pdfColorType:"draw",precision:2}),Z(Rc),this};var l0=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return qt(l0)},g.__private__.setFillColor=g.setFillColor=function(L,ee,Ae,Ie){return l0=ea({ch1:L,ch2:ee,ch3:Ae,ch4:Ie,pdfColorType:"fill",precision:2}),Z(l0),this};var Qi=t.textColor||"0 g",Lc=g.__private__.getTextColor=g.getTextColor=function(){return qt(Qi)};g.__private__.setTextColor=g.setTextColor=function(L,ee,Ae,Ie){return Qi=ea({ch1:L,ch2:ee,ch3:Ae,ch4:Ie,pdfColorType:"text",precision:3}),this};var Mn=t.charSpace,Xd=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Mn||0)};g.__private__.setCharSpace=g.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Mn=L,this};var c0=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(L){var ee=g.CapJoinStyles[L];if(ee===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return c0=ee,Z(ee+" J"),this};var d0=0;g.__private__.setLineJoin=g.setLineJoin=function(L){var ee=g.CapJoinStyles[L];if(ee===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return d0=ee,Z(ee+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(z(Y(L))+" M"),this},g.GState=Yp,g.setGState=function(L){(L=typeof L=="string"?Bt[Fe[L]]:Zd(null,L)).equals(nt)||(Z("/"+L.id+" gs"),nt=L)};var Zd=function(L,ee){if(!L||!Fe[L]){var Ae=!1;for(var Ie in Bt)if(Bt.hasOwnProperty(Ie)&&Bt[Ie].equals(ee)){Ae=!0;break}if(Ae)ee=Bt[Ie];else{var We="GS"+(Object.keys(Bt).length+1).toString(10);Bt[We]=ee,ee.id=We}return L&&(Fe[L]=ee.id),Lt.publish("addGState",ee),ee}};g.addGState=function(L,ee){return Zd(L,ee),this},g.saveGraphicsState=function(){return Z("q"),et.push({key:Ye,size:Ke,color:Qi}),this},g.restoreGraphicsState=function(){Z("Q");var L=et.pop();return Ye=L.key,Ke=L.size,Qi=L.color,nt=null,this},g.setCurrentTransformationMatrix=function(L){return Z(L.toString()+" cm"),this},g.comment=function(L){return Z("#"+L),this};var Ni=function(L,ee){var Ae=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(bt){isNaN(bt)||(Ae=parseFloat(bt))}});var Ie=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ie},set:function(bt){isNaN(bt)||(Ie=parseFloat(bt))}});var We="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return We},set:function(bt){We=bt.toString()}}),this},Mc=function(L,ee,Ae,Ie){Ni.call(this,L,ee),this.type="rect";var We=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return We},set:function(Ct){isNaN(Ct)||(We=parseFloat(Ct))}});var bt=Ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return bt},set:function(Ct){isNaN(Ct)||(bt=parseFloat(Ct))}}),this},Fc=function(){this.page=ut,this.currentPage=ae,this.pages=$e.slice(0),this.pagesContext=Tt.slice(0),this.x=it,this.y=ft,this.matrix=Te,this.width=Zl(ae),this.height=$c(ae),this.outputDestination=ot,this.id="",this.objectNumber=-1};Fc.prototype.restore=function(){ut=this.page,ae=this.currentPage,Tt=this.pagesContext,$e=this.pages,it=this.x,ft=this.y,Te=this.matrix,u0(ae,this.width),Si(ae,this.height),ot=this.outputDestination};var ki=function(L,ee,Ae,Ie,We){De.push(new Fc),ut=ae=0,$e=[],it=L,ft=ee,Te=We,Zi([Ae,Ie])};for(var yl in g.beginFormObject=function(L,ee,Ae,Ie,We){return ki(L,ee,Ae,Ie,We),this},g.endFormObject=function(L){return(function(ee){if(Re[ee])De.pop().restore();else{var Ae=new Fc,Ie="Xo"+(Object.keys(Fr).length+1).toString(10);Ae.id=Ie,Re[ee]=Ie,Fr[Ie]=Ae,Lt.publish("addFormObject",Ae),De.pop().restore()}})(L),this},g.doFormObject=function(L,ee){var Ae=Fr[Re[L]];return Z("q"),Z(ee.toString()+" cm"),Z("/"+Ae.id+" Do"),Z("Q"),this},g.getFormObject=function(L){var ee=Fr[Re[L]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},g.save=function(L,ee){return L=L||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(F0(ms(qr()),L),typeof F0.unload=="function"&&Pr.setTimeout&&setTimeout(F0.unload,911),this):new Promise(function(Ae,Ie){try{var We=F0(ms(qr()),L);typeof F0.unload=="function"&&Pr.setTimeout&&setTimeout(F0.unload,911),Ae(We)}catch(bt){Ie(bt.message)}})},sr.API)sr.API.hasOwnProperty(yl)&&(yl==="events"&&sr.API.events.length?(function(L,ee){var Ae,Ie,We;for(We=ee.length-1;We!==-1;We--)Ae=ee[We][0],Ie=ee[We][1],L.subscribe.apply(L,[Ae].concat(typeof Ie=="function"?[Ie]:Ie))})(Lt,sr.API.events):g[yl]=sr.API[yl]);function Zl(L){return Tt[L].mediaBox.topRightX-Tt[L].mediaBox.bottomLeftX}function u0(L,ee){Tt[L].mediaBox.topRightX=ee+Tt[L].mediaBox.bottomLeftX}function $c(L){return Tt[L].mediaBox.topRightY-Tt[L].mediaBox.bottomLeftY}function Si(L,ee){Tt[L].mediaBox.topRightY=ee+Tt[L].mediaBox.bottomLeftY}var Oo=g.getPageWidth=function(L){return Zl(L=L||ae)/kt},cn=g.setPageWidth=function(L,ee){u0(L,ee*kt)},_i=g.getPageHeight=function(L){return $c(L=L||ae)/kt},Qd=g.setPageHeight=function(L,ee){Si(L,ee*kt)};return g.internal={pdfEscape:jn,getStyle:Gd,getFont:Do,getFontSize:Ce,getCharSpace:Xd,getTextColor:Lc,getLineHeight:Io,getLineHeightFactor:Ih,getLineWidth:Oc,write:re,getHorizontalCoordinate:ii,getVerticalCoordinate:xl,getCoordinateString:Oh,getVerticalCoordinateString:Jd,collections:{},newObject:Ot,newAdditionalObject:vt,newObjectDeferred:Pt,newObjectDeferredBegin:Pe,getFilters:hs,putStream:es,events:Lt,scaleFactor:kt,pageSize:{getWidth:function(){return Oo(ae)},setWidth:function(L){cn(ae,L)},getHeight:function(){return _i(ae)},setHeight:function(L){Qd(ae,L)}},encryptionOptions:u,encryption:La,getEncryptor:function(L){return u!==null?La.encryptor(L,0):function(ee){return ee}},output:wi,getNumberOfPages:he,get pages(){return $e},out:Z,f2:T,f3:F,getPageInfo:Nn,getPageInfoByObjId:n0,getCurrentPageInfo:i0,getPDFVersion:v,Point:Ni,Rectangle:Mc,Matrix:ze,hasHotfix:ua},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Oo(ae)},set:function(L){cn(ae,L)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return _i(ae)},set:function(L){Qd(ae,L)},enumerable:!0,configurable:!0}),(function(L){for(var ee=0,Ae=Ge.length;ee<Ae;ee++){var Ie=ni.call(this,L[ee][0],L[ee][1],L[ee][2],Ge[ee][3],!0);f===!1&&(p[Ie]=!0);var We=L[ee][0].split("-");Kl({id:Ie,fontName:We[0],fontStyle:We[1]||""})}Lt.publish("addFonts",{fonts:oe,dictionary:_e})}).call(g,Ge),Ye="F1",Wd(n,a),Lt.publish("initialized"),g}um.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},um.prototype.toHexString=function(t){return t.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},um.prototype.hexToBytes=function(t){for(var r=[],a=0;a<t.length;a+=2)r.push(String.fromCharCode(parseInt(t.substr(a,2),16)));return r.join("")},um.prototype.processOwnerPassword=function(t,r){return WN(HN(r).substr(0,5),t)},um.prototype.encryptor=function(t,r){var a=HN(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&r,r>>8&255)).substr(0,10);return function(s){return WN(a,s)}},Yp.prototype.equals=function(t){var r,a="id,objectNumber,equals";if(!t||ba(t)!==ba(this))return!1;var s=0;for(r in this)if(!(a.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!t.hasOwnProperty(r)||this[r]!==t[r])return!1;s++}for(r in t)t.hasOwnProperty(r)&&a.indexOf(r)<0&&s--;return s===0},sr.API={events:[]},sr.version="3.0.4";var ws=sr.API,u4=1,Ph=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ir=function(t){return t.toFixed(2)},Pu=function(t){return t.toFixed(5)};ws.__acroform__={};var Ji=function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t},BT=function(t){return t*u4},gc=function(t){var r=new Z9,a=ar.internal.getHeight(t)||0,s=ar.internal.getWidth(t)||0;return r.BBox=[0,0,Number(Ir(s)),Number(Ir(a))],r},oge=ws.__acroform__.setBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<r},lge=ws.__acroform__.clearBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<r)},cge=ws.__acroform__.getBit=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<r?1:0},Ds=ws.__acroform__.getBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return cge(t,r-1)},Is=ws.__acroform__.setBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return oge(t,r-1)},Os=ws.__acroform__.clearBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lge(t,r-1)},dge=ws.__acroform__.calculateCoordinates=function(t,r){var a=r.internal.getHorizontalCoordinate,s=r.internal.getVerticalCoordinate,n=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=a(n)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=a(n+o)||0,c.upperRight_Y=s(i)||0,[Number(Ir(c.lowerLeft_X)),Number(Ir(c.lowerLeft_Y)),Number(Ir(c.upperRight_X)),Number(Ir(c.upperRight_Y))]},uge=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var r=[],a=t._V||t.DV,s=GN(t,a),n=t.scope.internal.getFont(t.fontName,t.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(t.scope.__private__.encodeColorString(t.color)),r.push("/"+n+" "+Ir(s.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC");var i=gc(t);return i.scope=t.scope,i.stream=r.join(`
`),i}},GN=function(t,r){var a=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},n=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");n=t.multiline?n.map(function(T){return T.split(`
`)}):n.map(function(T){return[T]});var i=a,o=ar.internal.getHeight(t)||0;o=o<0?-o:o;var l=ar.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(T,F,Y){if(T+1<n.length){var O=F+" "+n[T+1][0];return Vx(O,t,Y).width<=l-4}return!1};i++;e:for(;i>0;){r="",i--;var d,u,f=Vx("3",t,i).height,p=t.multiline?o-i:(o-f)/2,g=p+=2,x=0,v=0,w=0;if(i<=0){r=`(...) Tj
`,r+="% Width of Text: "+Vx(r,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var j="",_=0,S=0;S<n.length;S++)if(n.hasOwnProperty(S)){var N=!1;if(n[S].length!==1&&w!==n[S].length-1){if((f+2)*(_+2)+2>o)continue e;j+=n[S][w],N=!0,v=S,S--}else{j=(j+=n[S][w]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var C=parseInt(S),D=c(C,j,i),U=S>=n.length-1;if(D&&!U){j+=" ",w=0;continue}if(D||U){if(U)v=C;else if(t.multiline&&(f+2)*(_+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(_+2)+2>o)continue e;v=C}}for(var z="",E=x;E<=v;E++){var I=n[E];if(t.multiline){if(E===v){z+=I[w]+" ",w=(w+1)%I.length;continue}if(E===x){z+=I[I.length-1]+" ";continue}}z+=I[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,u=Vx(z,t,i).width,t.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}r+=Ir(d)+" "+Ir(g)+` Td
`,r+="("+Ph(z)+`) Tj
`,r+=-Ir(d)+` 0 Td
`,g=-(i+2),u=0,x=N?v:v+1,_++,j=""}break}return s.text=r,s.fontSize=i,s},Vx=function(t,r,a){var s=r.scope.internal.getFont(r.fontName,r.fontStyle),n=r.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a);return{height:r.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(a),charSpace:0})*parseFloat(a)*1.5,width:n}},hge={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mge=function(t,r){var a={type:"reference",object:t};r.internal.getPageInfo(t.page).pageContext.annotations.find(function(s){return s.type===a.type&&s.object===a.object})===void 0&&r.internal.getPageInfo(t.page).pageContext.annotations.push(a)},fge=function(t,r){if(r.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Gl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(hge)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");u4=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Q9,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(a){a.internal.events.unsubscribe(a.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete a.internal.acroformPlugin.acroFormDictionaryRoot._eventID,a.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(a){a.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=a.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in s)if(s.hasOwnProperty(n)){var i=s[n];i.objId=void 0,i.hasAnnotation&&mge(i,a)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(a){if(a.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");a.internal.write("/AcroForm "+a.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(a){(function(s,n){var i=!s;for(var o in s||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=dge(l.Rect,n)),n.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ar.createDefaultAppearanceStream(l),ba(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=uge(l);c.push({key:"AP",value:"<</N "+u+">>"}),n.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var f="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var g=l.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var x=g[o];typeof x=="function"&&(x=x.call(n,l)),f+="/"+o+" "+x+" ",n.internal.acroformPlugin.xForms.indexOf(x)>=0||n.internal.acroformPlugin.xForms.push(x)}}else typeof(x=g)=="function"&&(x=x.call(n,l)),f+="/"+o+" "+x,n.internal.acroformPlugin.xForms.indexOf(x)>=0||n.internal.acroformPlugin.xForms.push(x);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}n.internal.putStream({additionalKeyValues:c,objectId:l.objId}),n.internal.out("endobj")}i&&(function(v,w){for(var j in v)if(v.hasOwnProperty(j)){var _=j,S=v[j];w.internal.newObjectDeferredBegin(S.objId,!0),ba(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete v[_]}})(n.internal.acroformPlugin.xForms,n)})(a,t)}),t.internal.acroformPlugin.isInitialized=!0}},X9=ws.__acroform__.arrayToPdfArray=function(t,r,a){var s=function(o){return o};if(Array.isArray(t)){for(var n="[",i=0;i<t.length;i++)switch(i!==0&&(n+=" "),ba(t[i])){case"boolean":case"number":case"object":n+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(r!==void 0&&a&&(s=a.internal.getEncryptor(r)),n+="("+Ph(s(t[i].toString()))+")"):n+=t[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},q1=function(t,r,a){var s=function(n){return n};return r!==void 0&&a&&(s=a.internal.getEncryptor(r)),(t=t||"").toString(),"("+Ph(s(t))+")"},wc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};wc.prototype.toString=function(){return this.objId+" 0 R"},wc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},wc.prototype.getKeyValueListForStream=function(){var t=[],r=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var a in r)if(Object.getOwnPropertyDescriptor(this,r[a]).configurable===!1){var s=r[a],n=this[s];n&&(Array.isArray(n)?t.push({key:s,value:X9(n,this.objId,this.scope)}):n instanceof wc?(n.scope=this.scope,t.push({key:s,value:n.objId+" 0 R"})):typeof n!="function"&&t.push({key:s,value:n}))}return t};var Z9=function(){wc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(a){t=a.trim()},get:function(){return t||null}})};Ji(Z9,wc);var Q9=function(){wc.call(this);var t,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var a=function(s){return s};return this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),"("+Ph(a(t))+")"}},set:function(a){t=a}})};Ji(Q9,wc);var Gl=function t(){wc.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');r=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ds(r,3)},set:function(j){j?this.F=Is(r,3):this.F=Os(r,3)}});var a=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return a},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');a=j}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(j){s=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(j){s[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(j){s[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(j){s[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(j){s[3]=j}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Nb)return;i="FieldObject"+t.FieldNum++}var j=function(_){return _};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Ph(j(i))+")"},set:function(j){i=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(j){i=j}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/u4:d},set:function(j){d=j}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(j){u=j}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Nb||this instanceof zu))return q1(f,this.objId,this.scope)},set:function(j){j=j.toString(),f=j}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof tn==0?q1(p,this.objId,this.scope):p},set:function(j){j=j.toString(),p=this instanceof tn==0?j.substr(0,1)==="("?cm(j.substr(1,j.length-2)):cm(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof tn==1?cm(p.substr(1,p.length-1)):p},set:function(j){j=j.toString(),p=this instanceof tn==1?"/"+j:j}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof tn==0?q1(g,this.objId,this.scope):g},set:function(j){j=j.toString(),g=this instanceof tn==0?j.substr(0,1)==="("?cm(j.substr(1,j.length-2)):cm(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof tn==1?cm(g.substr(1,g.length-1)):g},set:function(j){j=j.toString(),g=this instanceof tn==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(j){j=!!j,v=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(j){x=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,1)},set:function(j){j?this.Ff=Is(this.Ff,1):this.Ff=Os(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,2)},set:function(j){j?this.Ff=Is(this.Ff,2):this.Ff=Os(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,3)},set:function(j){j?this.Ff=Is(this.Ff,3):this.Ff=Os(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');w=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(w){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};Ji(Gl,wc);var lh=function(){Gl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(a){t=a}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return X9(r,this.objId,this.scope)},set:function(a){var s,n;n=[],typeof(s=a)=="string"&&(n=(function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d})(s,/\((.*?)\)/g)),r=n}}),this.getOptions=function(){return r},this.setOptions=function(a){r=a,this.sort&&r.sort()},this.addOption=function(a){a=(a=a||"").toString(),r.push(a),this.sort&&r.sort()},this.removeOption=function(a,s){for(s=s||!1,a=(a=a||"").toString();r.indexOf(a)!==-1&&(r.splice(r.indexOf(a),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,18)},set:function(a){a?this.Ff=Is(this.Ff,18):this.Ff=Os(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,19)},set:function(a){this.combo===!0&&(a?this.Ff=Is(this.Ff,19):this.Ff=Os(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,20)},set:function(a){a?(this.Ff=Is(this.Ff,20),r.sort()):this.Ff=Os(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,22)},set:function(a){a?this.Ff=Is(this.Ff,22):this.Ff=Os(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,23)},set:function(a){a?this.Ff=Is(this.Ff,23):this.Ff=Os(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,27)},set:function(a){a?this.Ff=Is(this.Ff,27):this.Ff=Os(this.Ff,27)}}),this.hasAppearanceStream=!1};Ji(lh,Gl);var ch=function(){lh.call(this),this.fontName="helvetica",this.combo=!1};Ji(ch,lh);var dh=function(){ch.call(this),this.combo=!0};Ji(dh,ch);var yp=function(){dh.call(this),this.edit=!0};Ji(yp,dh);var tn=function(){Gl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,15)},set:function(a){a?this.Ff=Is(this.Ff,15):this.Ff=Os(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,16)},set:function(a){a?this.Ff=Is(this.Ff,16):this.Ff=Os(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,17)},set:function(a){a?this.Ff=Is(this.Ff,17):this.Ff=Os(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,26)},set:function(a){a?this.Ff=Is(this.Ff,26):this.Ff=Os(this.Ff,26)}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(i){return i};if(this.scope&&(a=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var s,n=[];for(s in n.push("<<"),r)n.push("/"+s+" ("+Ph(a(r[s]))+")");return n.push(">>"),n.join(`
`)}},set:function(a){ba(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}})};Ji(tn,Gl);var bp=function(){tn.call(this),this.pushButton=!0};Ji(bp,tn);var uh=function(){tn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r!==void 0?r:[]}})};Ji(uh,tn);var Nb=function(){var t,r;Gl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(n){r=n}});var a,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+Ph(n(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(n){ba(n)==="object"&&(s=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(n){typeof n=="string"&&(s.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(n){a=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(n){a="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ar.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ji(Nb,Gl),uh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var a=this.Kids[r];a.appearanceStreamContent=t.createAppearanceStream(a.optionName),a.caption=t.getCA()}},uh.prototype.createOption=function(t){var r=new Nb;return r.Parent=this,r.optionName=t,this.Kids.push(r),pge.call(this.scope,r),r};var vp=function(){tn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ar.CheckBox.createAppearanceStream()};Ji(vp,tn);var zu=function(){Gl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,13)},set:function(r){r?this.Ff=Is(this.Ff,13):this.Ff=Os(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,21)},set:function(r){r?this.Ff=Is(this.Ff,21):this.Ff=Os(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,23)},set:function(r){r?this.Ff=Is(this.Ff,23):this.Ff=Os(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,24)},set:function(r){r?this.Ff=Is(this.Ff,24):this.Ff=Os(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,25)},set:function(r){r?this.Ff=Is(this.Ff,25):this.Ff=Os(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,26)},set:function(r){r?this.Ff=Is(this.Ff,26):this.Ff=Os(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){Number.isInteger(r)&&(t=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ji(zu,Gl);var wp=function(){zu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,14)},set:function(t){t?this.Ff=Is(this.Ff,14):this.Ff=Os(this.Ff,14)}}),this.password=!0};Ji(wp,zu);var ar={CheckBox:{createAppearanceStream:function(){return{N:{On:ar.CheckBox.YesNormal},D:{On:ar.CheckBox.YesPushDown,Off:ar.CheckBox.OffPushDown}}},YesPushDown:function(t){var r=gc(t);r.scope=t.scope;var a=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=GN(t,t.caption);return a.push("0.749023 g"),a.push("0 0 "+Ir(ar.internal.getWidth(t))+" "+Ir(ar.internal.getHeight(t))+" re"),a.push("f"),a.push("BMC"),a.push("q"),a.push("0 0 1 rg"),a.push("/"+s+" "+Ir(i.fontSize)+" Tf "+n),a.push("BT"),a.push(i.text),a.push("ET"),a.push("Q"),a.push("EMC"),r.stream=a.join(`
`),r},YesNormal:function(t){var r=gc(t);r.scope=t.scope;var a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),n=[],i=ar.internal.getHeight(t),o=ar.internal.getWidth(t),l=GN(t,t.caption);return n.push("1 g"),n.push("0 0 "+Ir(o)+" "+Ir(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Ir(o-1)+" "+Ir(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+a+" "+Ir(l.fontSize)+" Tf "+s),n.push(l.text),n.push("ET"),n.push("Q"),r.stream=n.join(`
`),r},OffPushDown:function(t){var r=gc(t);r.scope=t.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+Ir(ar.internal.getWidth(t))+" "+Ir(ar.internal.getHeight(t))+" re"),a.push("f"),r.stream=a.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(t){var r={D:{Off:ar.RadioButton.Circle.OffPushDown},N:{}};return r.N[t]=ar.RadioButton.Circle.YesNormal,r.D[t]=ar.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(t){var r=gc(t);r.scope=t.scope;var a=[],s=ar.internal.getWidth(t)<=ar.internal.getHeight(t)?ar.internal.getWidth(t)/4:ar.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var n=ar.internal.Bezier_C,i=Number((s*n).toFixed(5));return a.push("q"),a.push("1 0 0 1 "+Pu(ar.internal.getWidth(t)/2)+" "+Pu(ar.internal.getHeight(t)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),a.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),a.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),a.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),a.push("f"),a.push("Q"),r.stream=a.join(`
`),r},YesPushDown:function(t){var r=gc(t);r.scope=t.scope;var a=[],s=ar.internal.getWidth(t)<=ar.internal.getHeight(t)?ar.internal.getWidth(t)/4:ar.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),i=Number((n*ar.internal.Bezier_C).toFixed(5)),o=Number((s*ar.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+Pu(ar.internal.getWidth(t)/2)+" "+Pu(ar.internal.getHeight(t)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),a.push("0 g"),a.push("q"),a.push("1 0 0 1 "+Pu(ar.internal.getWidth(t)/2)+" "+Pu(ar.internal.getHeight(t)/2)+" cm"),a.push(s+" 0 m"),a.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),a.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),a.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),a.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),a.push("f"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(t){var r=gc(t);r.scope=t.scope;var a=[],s=ar.internal.getWidth(t)<=ar.internal.getHeight(t)?ar.internal.getWidth(t)/4:ar.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var n=Number((2*s).toFixed(5)),i=Number((n*ar.internal.Bezier_C).toFixed(5));return a.push("0.749023 g"),a.push("q"),a.push("1 0 0 1 "+Pu(ar.internal.getWidth(t)/2)+" "+Pu(ar.internal.getHeight(t)/2)+" cm"),a.push(n+" 0 m"),a.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),a.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),a.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),a.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),a.push("f"),a.push("Q"),r.stream=a.join(`
`),r}},Cross:{createAppearanceStream:function(t){var r={D:{Off:ar.RadioButton.Cross.OffPushDown},N:{}};return r.N[t]=ar.RadioButton.Cross.YesNormal,r.D[t]=ar.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(t){var r=gc(t);r.scope=t.scope;var a=[],s=ar.internal.calculateCross(t);return a.push("q"),a.push("1 1 "+Ir(ar.internal.getWidth(t)-2)+" "+Ir(ar.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(Ir(s.x1.x)+" "+Ir(s.x1.y)+" m"),a.push(Ir(s.x2.x)+" "+Ir(s.x2.y)+" l"),a.push(Ir(s.x4.x)+" "+Ir(s.x4.y)+" m"),a.push(Ir(s.x3.x)+" "+Ir(s.x3.y)+" l"),a.push("s"),a.push("Q"),r.stream=a.join(`
`),r},YesPushDown:function(t){var r=gc(t);r.scope=t.scope;var a=ar.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+Ir(ar.internal.getWidth(t))+" "+Ir(ar.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+Ir(ar.internal.getWidth(t)-2)+" "+Ir(ar.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(Ir(a.x1.x)+" "+Ir(a.x1.y)+" m"),s.push(Ir(a.x2.x)+" "+Ir(a.x2.y)+" l"),s.push(Ir(a.x4.x)+" "+Ir(a.x4.y)+" m"),s.push(Ir(a.x3.x)+" "+Ir(a.x3.y)+" l"),s.push("s"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(t){var r=gc(t);r.scope=t.scope;var a=[];return a.push("0.749023 g"),a.push("0 0 "+Ir(ar.internal.getWidth(t))+" "+Ir(ar.internal.getHeight(t))+" re"),a.push("f"),r.stream=a.join(`
`),r}}},createDefaultAppearanceStream:function(t){var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color);return"/"+r+" "+t.fontSize+" Tf "+a}};ar.internal={Bezier_C:.551915024494,calculateCross:function(t){var r=ar.internal.getWidth(t),a=ar.internal.getHeight(t),s=Math.min(r,a);return{x1:{x:(r-s)/2,y:(a-s)/2+s},x2:{x:(r-s)/2+s,y:(a-s)/2},x3:{x:(r-s)/2,y:(a-s)/2},x4:{x:(r-s)/2+s,y:(a-s)/2+s}}}},ar.internal.getWidth=function(t){var r=0;return ba(t)==="object"&&(r=BT(t.Rect[2])),r},ar.internal.getHeight=function(t){var r=0;return ba(t)==="object"&&(r=BT(t.Rect[3])),r};var pge=ws.addField=function(t){if(fge(this,t),!(t instanceof Gl))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=t).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ws.AcroFormChoiceField=lh,ws.AcroFormListBox=ch,ws.AcroFormComboBox=dh,ws.AcroFormEditBox=yp,ws.AcroFormButton=tn,ws.AcroFormPushButton=bp,ws.AcroFormRadioButton=uh,ws.AcroFormCheckBox=vp,ws.AcroFormTextField=zu,ws.AcroFormPasswordField=wp,ws.AcroFormAppearance=ar,ws.AcroForm={ChoiceField:lh,ListBox:ch,ComboBox:dh,EditBox:yp,Button:tn,PushButton:bp,RadioButton:uh,CheckBox:vp,TextField:zu,PasswordField:wp,Appearance:ar},sr.AcroForm={ChoiceField:lh,ListBox:ch,ComboBox:dh,EditBox:yp,Button:tn,PushButton:bp,RadioButton:uh,CheckBox:vp,TextField:zu,PasswordField:wp,Appearance:ar};sr.AcroForm;function eF(t){return t.reduce(function(r,a,s){return r[a]=s,r},{})}(function(t){var r="addImage_";t.__addimage__={};var a="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(T,F){var Y,O,q,$,K,J=a;if((F=F||a)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(D(T))for(K in s)for(q=s[K],Y=0;Y<q.length;Y+=1){for($=!0,O=0;O<q[Y].length;O+=1)if(q[Y][O]!==void 0&&q[Y][O]!==T[O]){$=!1;break}if($===!0){J=K;break}}else for(K in s)for(q=s[K],Y=0;Y<q.length;Y+=1){for($=!0,O=0;O<q[Y].length;O+=1)if(q[Y][O]!==void 0&&q[Y][O]!==T.charCodeAt(O)){$=!1;break}if($===!0){J=K;break}}return J===a&&F!==a&&(J=F),J},i=function T(F){for(var Y=this.internal.write,O=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:F.width}),$.push({key:"Height",value:F.height}),F.colorSpace===j.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===j.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var K="",J=0,X=F.transparency.length;J<X;J++)K+=F.transparency[J]+" "+F.transparency[J]+" ";$.push({key:"Mask",value:"["+K+"]"})}F.sMask!==void 0&&$.push({key:"SMask",value:F.objectId+1+" 0 R"});var be=F.filter!==void 0?["/"+F.filter]:void 0;if(O({data:F.data,additionalKeyValues:$,alreadyAppliedFilters:be,objectId:F.objectId}),Y("endobj"),"sMask"in F&&F.sMask!==void 0){var te,R=(te=F.sMaskBitsPerComponent)!==null&&te!==void 0?te:F.bitsPerComponent,ae={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:F.sMask};"filter"in F&&(ae.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(F.width),ae.filter=F.filter),T.call(this,ae)}if(F.colorSpace===j.INDEXED){var W=this.internal.newObject();O({data:z(new Uint8Array(F.palette)),objectId:W}),Y("endobj")}},o=function(){var T=this.internal.collections[r+"images"];for(var F in T)i.call(this,T[F])},l=function(){var T,F=this.internal.collections[r+"images"],Y=this.internal.write;for(var O in F)Y("/I"+(T=F[O]).index,T.objectId,"0","R")},c=function(){this.internal.collections[r+"images"]||(this.internal.collections[r+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var T=this.internal.collections[r+"images"];return c.call(this),T},u=function(){return Object.keys(this.internal.collections[r+"images"]).length},f=function(T){return typeof t["process"+T.toUpperCase()]=="function"},p=function(T){return ba(T)==="object"&&T.nodeType===1},g=function(T,F){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var Y=""+T.getAttribute("src");if(Y.indexOf("data:image/")===0)return fy(unescape(Y).split("base64,").pop());var O=t.loadFile(Y,!0);if(O!==void 0)return O}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var q;switch(F){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;default:q="image/jpeg"}return fy(T.toDataURL(q,1).split("base64,").pop())}},x=function(T){var F=this.internal.collections[r+"images"];if(F){for(var Y in F)if(T===F[Y].alias)return F[Y]}},v=function(T,F,Y){return T||F||(T=-96,F=-96),T<0&&(T=-1*Y.width*72/T/this.internal.scaleFactor),F<0&&(F=-1*Y.height*72/F/this.internal.scaleFactor),T===0&&(T=F*Y.width/Y.height),F===0&&(F=T*Y.height/Y.width),[T,F]},w=function(T,F,Y,O,q,$){var K=v.call(this,Y,O,q),J=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,be=d.call(this);if(Y=K[0],O=K[1],be[q.index]=q,$){$*=Math.PI/180;var te=Math.cos($),R=Math.sin($),ae=function(pe){return pe.toFixed(4)},W=[ae(te),ae(R),ae(-1*R),ae(te),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,J(T),X(F+O),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([J(Y),"0","0",J(O),"0","0","cm"].join(" "))):this.internal.write([J(Y),"0","0",J(O),J(T),X(F+O),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(T){var F,Y,O=0;if(typeof T=="string")for(Y=T.length,F=0;F<Y;F++)O=(O<<5)-O+T.charCodeAt(F),O|=0;else if(D(T))for(Y=T.byteLength/2,F=0;F<Y;F++)O=(O<<5)-O+T[F],O|=0;return O},N=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var F=!0;return T.length===0&&(F=!1),T.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(F=!1),F},C=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var F=T.indexOf(",");return F<0?null:T.substring(0,F).trim().endsWith("base64")?T.substring(F+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var D=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},U=t.__addimage__.binaryStringToUint8Array=function(T){for(var F=T.length,Y=new Uint8Array(F),O=0;O<F;O++)Y[O]=T.charCodeAt(O);return Y},z=t.__addimage__.arrayBufferToBinaryString=function(T){for(var F="",Y=D(T)?T:new Uint8Array(T),O=0;O<Y.length;O+=8192)F+=String.fromCharCode.apply(null,Y.subarray(O,O+8192));return F};t.addImage=function(){var T,F,Y,O,q,$,K,J,X;if(typeof arguments[1]=="number"?(F=a,Y=arguments[1],O=arguments[2],q=arguments[3],$=arguments[4],K=arguments[5],J=arguments[6],X=arguments[7]):(F=arguments[1],Y=arguments[2],O=arguments[3],q=arguments[4],$=arguments[5],K=arguments[6],J=arguments[7],X=arguments[8]),ba(T=arguments[0])==="object"&&!p(T)&&"imageData"in T){var be=T;T=be.imageData,F=be.format||F||a,Y=be.x||Y||0,O=be.y||O||0,q=be.w||be.width||q,$=be.h||be.height||$,K=be.alias||K,J=be.compression||J,X=be.rotation||be.angle||X}var te=this.internal.getFilters();if(J===void 0&&te.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(Y)||isNaN(O))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var R=E.call(this,T,F,K,J);return w.call(this,Y,O,q,$,R,X),this};var E=function(T,F,Y,O){var q,$,K;if(typeof T=="string"&&n(T)===a){T=unescape(T);var J=I(T,!1);(J!==""||(J=t.loadFile(T,!0))!==void 0)&&(T=J)}if(p(T)&&(T=g(T,F)),F=n(T,F),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((K=Y)==null||K.length===0)&&(Y=(function(X){return typeof X=="string"||D(X)?S(X):D(X.data)?S(X.data):null})(T)),(q=x.call(this,Y))||(T instanceof Uint8Array||F==="RGBA"||($=T,T=U(T)),q=this["process"+F.toUpperCase()](T,u.call(this),Y,(function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in t.image_compression?X:_.NONE})(O),$)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},I=t.__addimage__.convertBase64ToBinaryString=function(T,F){F=typeof F!="boolean"||F;var Y,O="";if(typeof T=="string"){var q;Y=(q=C(T))!==null&&q!==void 0?q:T;try{O=fy(Y)}catch($){if(F)throw N(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return O};t.getImageProperties=function(T){var F,Y,O="";if(p(T)&&(T=g(T)),typeof T=="string"&&n(T)===a&&((O=I(T,!1))===""&&(O=t.loadFile(T)||""),T=O),Y=n(T),!f(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(T instanceof Uint8Array||(T=U(T)),!(F=this["process"+Y.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=Y,F}})(sr.API),(function(t){var r=function(a){if(a!==void 0&&a!="")return!0};sr.API.events.push(["addPage",function(a){this.internal.getPageInfo(a.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(a){for(var s,n,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(a.objId),d=a.pageContext.annotations,u=!1,f=0;f<d.length&&!u;f++)switch((s=d[f]).type){case"link":(r(s.options.url)||r(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<d.length;p++){s=d[p];var g=this.internal.pdfEscape,x=this.internal.getEncryptor(a.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(v.objId),_=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+g(j(s.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+g(j(_))+") >>",v.content=i;var S=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+S,s.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(v.objId,"0 R",w.objId,"0 R");break;case"freetext":n="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var N=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+g(x(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var C=this.annotations._nameMap[s.options.name];s.options.pageNumber=C.page,s.options.top=C.y}else s.options.top||(s.options.top=0);if(n="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+g(x(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;default:var D=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+D+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(a){var s=this.internal.getCurrentPageInfo();switch(a.type){case"link":this.link(a.bounds.x,a.bounds.y,a.bounds.w,a.bounds.h,a);break;case"text":case"freetext":s.pageContext.annotations.push(a)}},t.link=function(a,s,n,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(a),y:d(s),w:c(a+n),h:d(s+i)},options:o,type:"link"})},t.textWithLink=function(a,s,n,i){var o,l,c=this.getTextWidth(a),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(a,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(a,s,n,i),n+=.2*d,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,n-d,l,o,i),c},t.getTextWidth=function(a){var s=this.internal.getFontSize();return this.getStringUnitWidth(a)*s/this.internal.scaleFactor}})(sr.API),(function(t){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},a={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(v){return r[v.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=t.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&i(v)&&r[v.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&n.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&i(v)&&r[v.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&i(v)&&r[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&i(v)&&r[v.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&i(v)&&r[v.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(v){var w=0,j=a,_="",S=0;for(w=0;w<v.length;w+=1)j[v.charCodeAt(w)]!==void 0?(S++,typeof(j=j[v.charCodeAt(w)])=="number"&&(_+=String.fromCharCode(j),j=a,S=0),w===v.length-1&&(j=a,_+=v.charAt(w-(S-1)),w-=S-1,S=0)):(j=a,_+=v.charAt(w-S),w-=S,S=0);return _};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&s[v.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(v,w,j){return o(v)?i(v)===!1?-1:!d(v)||!o(w)&&!o(j)||!o(j)&&l(w)||l(v)&&!o(w)||l(v)&&c(w)||l(v)&&l(w)?0:u(v)&&o(w)&&!l(w)&&o(j)&&d(j)?3:l(v)||!o(j)?1:2:-1},g=function(v){var w=0,j=0,_=0,S="",N="",C="",D=(v=v||"").split("\\s+"),U=[];for(w=0;w<D.length;w+=1){for(U.push(""),j=0;j<D[w].length;j+=1)S=D[w][j],N=D[w][j-1],C=D[w][j+1],o(S)?(_=p(S,N,C),U[w]+=_!==-1?String.fromCharCode(r[S.charCodeAt(0)][_]):S):U[w]+=S;U[w]=f(U[w])}return U.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var v,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(w)){var _=0;for(j=[],_=0;_<w.length;_+=1)Array.isArray(w[_])?j.push([g(w[_][0]),w[_][1],w[_][2]]):j.push([g(w[_])]);v=j}else v=g(w);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",x])})(sr.API),sr.API.autoPrint=function(t){var r;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})),this},(function(t){var r=function(){var a=void 0;Object.defineProperty(this,"pdf",{get:function(){return a},set:function(l){a=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(a,s){var n;if((a=a||"2d")!=="2d")return null;for(n in s)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=s[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])})(sr.API),(function(t){var r={left:0,top:0,bottom:0,right:0},a=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(v){x=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){s.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),p=d.scaleFactor||this.internal.scaleFactor,g=0,x=0,v=0,w=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var j=d.maxWidth;j>0?typeof c=="string"?c=this.splitTextToSize(c,j):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,N){return S.concat(w.splitTextToSize(N,j))},[])):c=Array.isArray(c)?c:[c];for(var _=0;_<c.length;_++)g<(v=this.getStringUnitWidth(c[_],{font:f})*u)&&(g=v);return g!==0&&(x=c.length),{w:g/=p,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||r,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,g&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,a===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,f,p){if(s.call(this),!u)throw new Error("No data for PDF table.");var g,x,v,w,j=[],_=[],S=[],N={},C={},D=[],U=[],z=(p=p||{}).autoSize||!1,E=p.printHeaders!==!1,I=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,T=p.margins||Object.assign({width:this.getPageWidth()},r),F=typeof p.padding=="number"?p.padding:3,Y=p.headerBackgroundColor||"#c8c8c8",O=p.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=O,this.setFontSize(I),f==null)_=j=Object.keys(u[0]),S=j.map(function(){return"left"});else if(Array.isArray(f)&&ba(f[0])==="object")for(j=f.map(function(be){return be.name}),_=f.map(function(be){return be.prompt||be.name||""}),S=f.map(function(be){return be.align||"left"}),g=0;g<f.length;g+=1)C[f[g].name]=.7499990551181103*f[g].width;else Array.isArray(f)&&typeof f[0]=="string"&&(_=j=f,S=j.map(function(){return"left"}));if(z||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<j.length;g+=1){for(N[w=j[g]]=u.map(function(be){return be[w]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(_[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=N[w],this.setFont(void 0,"normal"),v=0;v<x.length;v+=1)D.push(this.getTextDimensions(x[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[w]=Math.max.apply(null,D)+F+F,D=[]}if(E){var q={};for(g=0;g<j.length;g+=1)q[j[g]]={},q[j[g]].text=_[g],q[j[g]].align=S[g];var $=l.call(this,q,C);U=j.map(function(be){return new i(c,d,C[be],$,q[be].text,void 0,q[be].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var K=f.reduce(function(be,te){return be[te.name]=te.align,be},{});for(g=0;g<u.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:u[g]},this);var J=l.call(this,u[g],C);for(v=0;v<j.length;v+=1){var X=u[g][j[v]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:v,data:X},this),o.call(this,new i(c,d,C[j[v]],J,X,g+2,K[j[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(g){var x=c[g];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[g]-u-u)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/p+u+u},this).reduce(function(g,x){return Math.max(g,x)},0)};t.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(a=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){u=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(x)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),a=!1}})(sr.API);var tF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],YN=eF(rF),aF=[100,200,300,400,500,600,700,800,900],gge=eF(aF);function V1(t){var r=t.family.replace(/"|'/g,"").toLowerCase(),a=(function(i){return tF[i=i||"normal"]?i:"normal"})(t.style),s=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),n=(function(i){return typeof YN[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:r,style:a,weight:s,stretch:n,src:t.src||[],ref:t.ref||{name:r,style:[n,a,s].join(" ")}}}function UT(t,r,a,s){var n;for(n=a;n>=0&&n<r.length;n+=s)if(t[r[n]])return t[r[n]];for(n=a;n>=0&&n<r.length;n-=s)if(t[r[n]])return t[r[n]]}var xge={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qT(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function VT(t){return t.trimLeft()}function yge(t,r){for(var a=0;a<t.length;){if(t.charAt(a)===r)return[t.substring(0,a),t.substring(a+1)];a+=1}return null}function bge(t){var r=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],t.substring(r[0].length)]}var Hx,HT,WT,dm,Wx,GT,YT,KT,H1=["times"];function JT(t,r,a,s,n){var i=4,o=ZT;switch(n){case sr.API.image_compression.FAST:i=1,o=XT;break;case sr.API.image_compression.MEDIUM:i=6,o=QT;break;case sr.API.image_compression.SLOW:i=9,o=e7}t=(function(c,d,u,f){for(var p,g=c.length/d,x=new Uint8Array(c.length+g),v=[vge,XT,ZT,QT,e7],w=0;w<g;w+=1){var j=w*d,_=c.subarray(j,j+d);if(f)x.set(f(_,u,p),j+w);else{for(var S=v.length,N=[],C=0;C<S;C+=1)N[C]=v[C](_,u,p);var D=jge(N.concat());x.set(N[D],j+w)}p=_}return x})(t,r,Math.ceil(a*s/8),o);var l=UN(t,{level:i});return sr.API.__addimage__.arrayBufferToBinaryString(l)}function vge(t){var r=Array.apply([],t);return r.unshift(0),r}function XT(t,r){var a=t.length,s=[];s[0]=1;for(var n=0;n<a;n+=1){var i=t[n-r]||0;s[n+1]=t[n]-i+256&255}return s}function ZT(t,r,a){var s=t.length,n=[];n[0]=2;for(var i=0;i<s;i+=1){var o=a&&a[i]||0;n[i+1]=t[i]-o+256&255}return n}function QT(t,r,a){var s=t.length,n=[];n[0]=3;for(var i=0;i<s;i+=1){var o=t[i-r]||0,l=a&&a[i]||0;n[i+1]=t[i]+256-(o+l>>>1)&255}return n}function e7(t,r,a){var s=t.length,n=[];n[0]=4;for(var i=0;i<s;i+=1){var o=wge(t[i-r]||0,a&&a[i]||0,a&&a[i-r]||0);n[i+1]=t[i]-o+256&255}return n}function wge(t,r,a){if(t===r&&r===a)return t;var s=Math.abs(r-a),n=Math.abs(t-a),i=Math.abs(t+r-a-a);return s<=n&&s<=i?t:n<=i?r:a}function jge(t){var r=t.map(function(a){return a.reduce(function(s,n){return s+Math.abs(n)},0)});return r.indexOf(Math.min.apply(null,r))}function W1(t,r,a){var s=r*a,n=Math.floor(s/8),i=16-(s-8*n+a),o=(1<<a)-1;return sF(t,n)>>i&o}function t7(t,r,a,s){var n=a*s,i=Math.floor(n/8),o=16-(n-8*i+s),l=(1<<s)-1,c=(r&l)<<o;(function(d,u,f){if(u+1<d.byteLength)d.setUint16(u,f,!1);else{var p=f>>8&255;d.setUint8(u,p)}})(t,i,sF(t,i)&~(l<<o)&65535|c)}function sF(t,r){return r+1<t.byteLength?t.getUint16(r,!1):t.getUint8(r)<<8}function Nge(t){var r=0;if(t[r++]!==71||t[r++]!==73||t[r++]!==70||t[r++]!==56||(t[r++]+1&253)!=56||t[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var a=t[r++]|t[r++]<<8,s=t[r++]|t[r++]<<8,n=t[r++],i=n>>7,o=1<<1+(7&n);t[r++],t[r++];var l=null,c=null;i&&(l=r,c=o,r+=3*o);var d=!0,u=[],f=0,p=null,g=0,x=null;for(this.width=a,this.height=s;d&&r<t.length;)switch(t[r++]){case 33:switch(t[r++]){case 255:if(t[r]!==11||t[r+1]==78&&t[r+2]==69&&t[r+3]==84&&t[r+4]==83&&t[r+5]==67&&t[r+6]==65&&t[r+7]==80&&t[r+8]==69&&t[r+9]==50&&t[r+10]==46&&t[r+11]==48&&t[r+12]==3&&t[r+13]==1&&t[r+16]==0)r+=14,x=t[r++]|t[r++]<<8,r++;else for(r+=12;;){if(!((T=t[r++])>=0))throw Error("Invalid block size");if(T===0)break;r+=T}break;case 249:if(t[r++]!==4||t[r+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[r++];f=t[r++]|t[r++]<<8,p=t[r++],1&v||(p=null),g=v>>2&7,r++;break;case 254:for(;;){if(!((T=t[r++])>=0))throw Error("Invalid block size");if(T===0)break;r+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[r-1].toString(16))}break;case 44:var w=t[r++]|t[r++]<<8,j=t[r++]|t[r++]<<8,_=t[r++]|t[r++]<<8,S=t[r++]|t[r++]<<8,N=t[r++],C=N>>6&1,D=1<<1+(7&N),U=l,z=c,E=!1;N>>7&&(E=!0,U=r,z=D,r+=3*D);var I=r;for(r++;;){var T;if(!((T=t[r++])>=0))throw Error("Invalid block size");if(T===0)break;r+=T}u.push({x:w,y:j,width:_,height:S,has_local_palette:E,palette_offset:U,palette_size:z,data_offset:I,data_length:r-I,transparent_index:p,interlaced:!!C,delay:f,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[r-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(F){if(F<0||F>=u.length)throw new Error("Frame index out of range.");return u[F]},this.decodeAndBlitFrameBGRA=function(F,Y){var O=this.frameInfo(F),q=O.width*O.height,$=new Uint8Array(q);r7(t,O.data_offset,$,q);var K=O.palette_offset,J=O.transparent_index;J===null&&(J=256);var X=O.width,be=a-X,te=X,R=4*(O.y*a+O.x),ae=4*((O.y+O.height)*a+O.x),W=R,pe=4*be;O.interlaced===!0&&(pe+=4*a*7);for(var ce=8,we=0,je=$.length;we<je;++we){var fe=$[we];if(te===0&&(te=X,(W+=pe)>=ae&&(pe=4*be+4*a*(ce-1),W=R+(X+be)*(ce<<1),ce>>=1)),fe===J)W+=4;else{var xe=t[K+3*fe],$e=t[K+3*fe+1],ge=t[K+3*fe+2];Y[W++]=ge,Y[W++]=$e,Y[W++]=xe,Y[W++]=255}--te}},this.decodeAndBlitFrameRGBA=function(F,Y){var O=this.frameInfo(F),q=O.width*O.height,$=new Uint8Array(q);r7(t,O.data_offset,$,q);var K=O.palette_offset,J=O.transparent_index;J===null&&(J=256);var X=O.width,be=a-X,te=X,R=4*(O.y*a+O.x),ae=4*((O.y+O.height)*a+O.x),W=R,pe=4*be;O.interlaced===!0&&(pe+=4*a*7);for(var ce=8,we=0,je=$.length;we<je;++we){var fe=$[we];if(te===0&&(te=X,(W+=pe)>=ae&&(pe=4*be+4*a*(ce-1),W=R+(X+be)*(ce<<1),ce>>=1)),fe===J)W+=4;else{var xe=t[K+3*fe],$e=t[K+3*fe+1],ge=t[K+3*fe+2];Y[W++]=xe,Y[W++]=$e,Y[W++]=ge,Y[W++]=255}--te}}}function r7(t,r,a,s){for(var n=t[r++],i=1<<n,o=i+1,l=o+1,c=n+1,d=(1<<c)-1,u=0,f=0,p=0,g=t[r++],x=new Int32Array(4096),v=null;;){for(;u<16&&g!==0;)f|=t[r++]<<u,u+=8,g===1?g=t[r++]:--g;if(u<c)break;var w=f&d;if(f>>=c,u-=c,w!==i){if(w===o)break;for(var j=w<l?w:v,_=0,S=j;S>i;)S=x[S]>>8,++_;var N=S;if(p+_+(j!==w?1:0)>s)return void Sa.log("Warning, gif stream longer than expected.");a[p++]=N;var C=p+=_;for(j!==w&&(a[p++]=N),S=j;_--;)S=x[S],a[--C]=255&S,S>>=8;v!==null&&l<4096&&(x[l++]=v<<8|N,l>=d+1&&c<12&&(++c,d=d<<1|1)),v=w}else l=o+1,d=(1<<(c=n+1))-1,v=null}return p!==s&&Sa.log("Warning, gif stream shorter than expected."),a}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function G1(t){var r,a,s,n,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),f=new Array(65535),p=new Array(65535),g=new Array(64),x=new Array(64),v=[],w=0,j=7,_=new Array(64),S=new Array(64),N=new Array(64),C=new Array(256),D=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(R,ae){for(var W=0,pe=0,ce=new Array,we=1;we<=16;we++){for(var je=1;je<=R[we];je++)ce[ae[pe]]=[],ce[ae[pe]][0]=W,ce[ae[pe]][1]=we,pe++,W++;W*=2}return ce}function K(R){for(var ae=R[0],W=R[1]-1;W>=0;)ae&1<<W&&(w|=1<<j),W--,--j<0&&(w==255?(J(255),J(0)):J(w),j=7,w=0)}function J(R){v.push(R)}function X(R){J(R>>8&255),J(255&R)}function be(R,ae,W,pe,ce){for(var we,je=ce[0],fe=ce[240],xe=(function(Ke,ie){var Ce,Oe,Je,H,de,ue,me,Se,Ye,kt,it=0;for(Ye=0;Ye<8;++Ye){Ce=Ke[it],Oe=Ke[it+1],Je=Ke[it+2],H=Ke[it+3],de=Ke[it+4],ue=Ke[it+5],me=Ke[it+6];var ft=Ce+(Se=Ke[it+7]),Te=Ce-Se,oe=Oe+me,_e=Oe-me,et=Je+ue,Ve=Je-ue,Wt=H+de,Bt=H-de,Fe=ft+Wt,nt=ft-Wt,ut=oe+et,Tt=oe-et;Ke[it]=Fe+ut,Ke[it+4]=Fe-ut;var Lt=.707106781*(Tt+nt);Ke[it+2]=nt+Lt,Ke[it+6]=nt-Lt;var Ar=.382683433*((Fe=Bt+Ve)-(Tt=_e+Te)),Fr=.5411961*Fe+Ar,Re=1.306562965*Tt+Ar,De=.707106781*(ut=Ve+_e),ze=Te+De,st=Te-De;Ke[it+5]=st+Fr,Ke[it+3]=st-Fr,Ke[it+1]=ze+Re,Ke[it+7]=ze-Re,it+=8}for(it=0,Ye=0;Ye<8;++Ye){Ce=Ke[it],Oe=Ke[it+8],Je=Ke[it+16],H=Ke[it+24],de=Ke[it+32],ue=Ke[it+40],me=Ke[it+48];var Nt=Ce+(Se=Ke[it+56]),He=Ce-Se,Mt=Oe+me,Ot=Oe-me,Pt=Je+ue,Pe=Je-ue,vt=H+de,yt=H-de,gr=Nt+vt,qt=Nt-vt,ea=Mt+Pt,hs=Mt-Pt;Ke[it]=gr+ea,Ke[it+32]=gr-ea;var es=.707106781*(hs+qt);Ke[it+16]=qt+es,Ke[it+48]=qt-es;var Pa=.382683433*((gr=yt+Pe)-(hs=Ot+He)),Fs=.5411961*gr+Pa,Xi=1.306562965*hs+Pa,Eo=.707106781*(ea=Pe+Ot),pl=He+Eo,si=He-Eo;Ke[it+40]=si+Fs,Ke[it+24]=si-Fs,Ke[it+8]=pl+Xi,Ke[it+56]=pl-Xi,it++}for(Ye=0;Ye<64;++Ye)kt=Ke[Ye]*ie[Ye],g[Ye]=kt>0?kt+.5|0:kt-.5|0;return g})(R,ae),$e=0;$e<64;++$e)x[U[$e]]=xe[$e];var ge=x[0]-W;W=x[0],ge==0?K(pe[0]):(K(pe[p[we=32767+ge]]),K(f[we]));for(var ot=63;ot>0&&x[ot]==0;)ot--;if(ot==0)return K(je),W;for(var Ze,Z=1;Z<=ot;){for(var re=Z;x[Z]==0&&Z<=ot;)++Z;var Ue=Z-re;if(Ue>=16){Ze=Ue>>4;for(var Ge=1;Ge<=Ze;++Ge)K(fe);Ue&=15}we=32767+x[Z],K(ce[(Ue<<4)+p[we]]),K(f[we]),Z++}return ot!=63&&K(je),W}function te(R){R=Math.min(Math.max(R,1),100),i!=R&&((function(ae){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],pe=0;pe<64;pe++){var ce=o((W[pe]*ae+50)/100);ce=Math.min(Math.max(ce,1),255),l[U[pe]]=ce}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],je=0;je<64;je++){var fe=o((we[je]*ae+50)/100);fe=Math.min(Math.max(fe,1),255),c[U[je]]=fe}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,ge=0;ge<8;ge++)for(var ot=0;ot<8;ot++)d[$e]=1/(l[U[$e]]*xe[ge]*xe[ot]*8),u[$e]=1/(c[U[$e]]*xe[ge]*xe[ot]*8),$e++})(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),i=R)}this.encode=function(R,ae){ae&&te(ae),v=new Array,w=0,j=7,X(65496),X(65504),X(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),X(1),X(1),J(0),J(0),(function(){X(65499),X(132),J(0);for(var Oe=0;Oe<64;Oe++)J(l[Oe]);J(1);for(var Je=0;Je<64;Je++)J(c[Je])})(),(function(Oe,Je){X(65472),X(17),J(8),X(Je),X(Oe),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)})(R.width,R.height),(function(){X(65476),X(418),J(0);for(var Oe=0;Oe<16;Oe++)J(z[Oe+1]);for(var Je=0;Je<=11;Je++)J(E[Je]);J(16);for(var H=0;H<16;H++)J(I[H+1]);for(var de=0;de<=161;de++)J(T[de]);J(1);for(var ue=0;ue<16;ue++)J(F[ue+1]);for(var me=0;me<=11;me++)J(Y[me]);J(17);for(var Se=0;Se<16;Se++)J(O[Se+1]);for(var Ye=0;Ye<=161;Ye++)J(q[Ye])})(),X(65498),X(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var W=0,pe=0,ce=0;w=0,j=7,this.encode.displayName="_encode_";for(var we,je,fe,xe,$e,ge,ot,Ze,Z,re=R.data,Ue=R.width,Ge=R.height,Ke=4*Ue,ie=0;ie<Ge;){for(we=0;we<Ke;){for($e=Ke*ie+we,ot=-1,Ze=0,Z=0;Z<64;Z++)ge=$e+(Ze=Z>>3)*Ke+(ot=4*(7&Z)),ie+Ze>=Ge&&(ge-=Ke*(ie+1+Ze-Ge)),we+ot>=Ke&&(ge-=we+ot-Ke+4),je=re[ge++],fe=re[ge++],xe=re[ge++],_[Z]=(D[je]+D[fe+256|0]+D[xe+512|0]>>16)-128,S[Z]=(D[je+768|0]+D[fe+1024|0]+D[xe+1280|0]>>16)-128,N[Z]=(D[je+1280|0]+D[fe+1536|0]+D[xe+1792|0]>>16)-128;W=be(_,d,W,r,s),pe=be(S,u,pe,a,n),ce=be(N,u,ce,a,n),we+=32}ie+=8}if(j>=0){var Ce=[];Ce[1]=j+1,Ce[0]=(1<<j+1)-1,K(Ce)}return X(65497),new Uint8Array(v)},t=t||50,(function(){for(var R=String.fromCharCode,ae=0;ae<256;ae++)C[ae]=R(ae)})(),r=$(z,E),a=$(F,Y),s=$(I,T),n=$(O,q),(function(){for(var R=1,ae=2,W=1;W<=15;W++){for(var pe=R;pe<ae;pe++)p[32767+pe]=W,f[32767+pe]=[],f[32767+pe][1]=W,f[32767+pe][0]=pe;for(var ce=-(ae-1);ce<=-R;ce++)p[32767+ce]=W,f[32767+ce]=[],f[32767+ce][1]=W,f[32767+ce][0]=ae-1+ce;R<<=1,ae<<=1}})(),(function(){for(var R=0;R<256;R++)D[R]=19595*R,D[R+256|0]=38470*R,D[R+512|0]=7471*R+32768,D[R+768|0]=-11059*R,D[R+1024|0]=-21709*R,D[R+1280|0]=32768*R+8421375,D[R+1536|0]=-27439*R,D[R+1792|0]=-5329*R})(),te(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Rl(t,r){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function a7(t){function r(E){if(!E)throw Error("assert :P")}function a(E,I,T){for(var F=0;4>F;F++)if(E[I+F]!=T.charCodeAt(F))return!0;return!1}function s(E,I,T,F,Y){for(var O=0;O<Y;O++)E[I+O]=T[F+O]}function n(E,I,T,F){for(var Y=0;Y<F;Y++)E[I+Y]=T}function i(E){return new Int32Array(E)}function o(E,I){for(var T=[],F=0;F<E;F++)T.push(new I);return T}function l(E,I){var T=[];return(function F(Y,O,q){for(var $=q[O],K=0;K<$&&(Y.push(q.length>O+1?[]:new I),!(q.length<O+1));K++)F(Y[K],O+1,q)})(T,0,E),T}var c=function(){var E=this;function I(k,P){for(var B=1<<P-1>>>0;k&B;)B>>>=1;return B?(k&B-1)+B:k}function T(k,P,B,G,Q){r(!(G%B));do k[P+(G-=B)]=Q;while(0<G)}function F(k,P,B,G,Q){if(r(2328>=Q),512>=Q)var ne=i(512);else if((ne=i(Q))==null)return 0;return(function(le,ye,ve,Ne,Le,tt){var ke,Be,Xe=ye,xt=1<<ve,at=i(16),ht=i(16);for(r(Le!=0),r(Ne!=null),r(le!=null),r(0<ve),Be=0;Be<Le;++Be){if(15<Ne[Be])return 0;++at[Ne[Be]]}if(at[0]==Le)return 0;for(ht[1]=0,ke=1;15>ke;++ke){if(at[ke]>1<<ke)return 0;ht[ke+1]=ht[ke]+at[ke]}for(Be=0;Be<Le;++Be)ke=Ne[Be],0<Ne[Be]&&(tt[ht[ke]++]=Be);if(ht[15]==1)return(Ne=new Y).g=0,Ne.value=tt[0],T(le,Xe,1,xt,Ne),xt;var pt,wt=-1,St=xt-1,hr=0,Jt=1,Tr=1,rr=1<<ve;for(Be=0,ke=1,Le=2;ke<=ve;++ke,Le<<=1){if(Jt+=Tr<<=1,0>(Tr-=at[ke]))return 0;for(;0<at[ke];--at[ke])(Ne=new Y).g=ke,Ne.value=tt[Be++],T(le,Xe+hr,Le,rr,Ne),hr=I(hr,ke)}for(ke=ve+1,Le=2;15>=ke;++ke,Le<<=1){if(Jt+=Tr<<=1,0>(Tr-=at[ke]))return 0;for(;0<at[ke];--at[ke]){if(Ne=new Y,(hr&St)!=wt){for(Xe+=rr,pt=1<<(wt=ke)-ve;15>wt&&!(0>=(pt-=at[wt]));)++wt,pt<<=1;xt+=rr=1<<(pt=wt-ve),le[ye+(wt=hr&St)].g=pt+ve,le[ye+wt].value=Xe-ye-wt}Ne.g=ke-ve,Ne.value=tt[Be++],T(le,Xe+(hr>>ve),Le,rr,Ne),hr=I(hr,ke)}}return Jt!=2*ht[15]-1?0:xt})(k,P,B,G,Q,ne)}function Y(){this.value=this.g=0}function O(){this.value=this.g=0}function q(){this.G=o(5,Y),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ai,O)}function $(k,P,B,G){r(k!=null),r(P!=null),r(2147483648>G),k.Ca=254,k.I=0,k.b=-8,k.Ka=0,k.oa=P,k.pa=B,k.Jd=P,k.Yc=B+G,k.Zc=4<=G?B+G-4+1:B,je(k)}function K(k,P){for(var B=0;0<P--;)B|=xe(k,128)<<P;return B}function J(k,P){var B=K(k,P);return fe(k)?-B:B}function X(k,P,B,G){var Q,ne=0;for(r(k!=null),r(P!=null),r(4294967288>G),k.Sb=G,k.Ra=0,k.u=0,k.h=0,4<G&&(G=4),Q=0;Q<G;++Q)ne+=P[B+Q]<<8*Q;k.Ra=ne,k.bb=G,k.oa=P,k.pa=B}function be(k){for(;8<=k.u&&k.bb<k.Sb;)k.Ra>>>=8,k.Ra+=k.oa[k.pa+k.bb]<<ac-8>>>0,++k.bb,k.u-=8;pe(k)&&(k.h=1,k.u=0)}function te(k,P){if(r(0<=P),!k.h&&P<=ci){var B=W(k)&li[P];return k.u+=P,be(k),B}return k.h=1,k.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ae(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(k){return k.Ra>>>(k.u&ac-1)>>>0}function pe(k){return r(k.bb<=k.Sb),k.h||k.bb==k.Sb&&k.u>ac}function ce(k,P){k.u=P,k.h=pe(k)}function we(k){k.u>=Lo&&(r(k.u>=Lo),be(k))}function je(k){r(k!=null&&k.oa!=null),k.pa<k.Zc?(k.I=(k.oa[k.pa++]|k.I<<8)>>>0,k.b+=8):(r(k!=null&&k.oa!=null),k.pa<k.Yc?(k.b+=8,k.I=k.oa[k.pa++]|k.I<<8):k.Ka?k.b=0:(k.I<<=8,k.b+=8,k.Ka=1))}function fe(k){return K(k,1)}function xe(k,P){var B=k.Ca;0>k.b&&je(k);var G=k.b,Q=B*P>>>8,ne=(k.I>>>G>Q)+0;for(ne?(B-=Q,k.I-=Q+1<<G>>>0):B=Q+1,G=B,Q=0;256<=G;)Q+=8,G>>=8;return G=7^Q+jl[G],k.b-=G,k.Ca=(B<<G)-1,ne}function $e(k,P,B){k[P+0]=B>>24&255,k[P+1]=B>>16&255,k[P+2]=B>>8&255,k[P+3]=255&B}function ge(k,P){return k[P+0]|k[P+1]<<8}function ot(k,P){return ge(k,P)|k[P+2]<<16}function Ze(k,P){return ge(k,P)|ge(k,P+2)<<16}function Z(k,P){var B=1<<P;return r(k!=null),r(0<P),k.X=i(B),k.X==null?0:(k.Mb=32-P,k.Xa=P,1)}function re(k,P){r(k!=null),r(P!=null),r(k.Xa==P.Xa),s(P.X,0,k.X,0,1<<P.Xa)}function Ue(){this.X=[],this.Xa=this.Mb=0}function Ge(k,P,B,G){r(B!=null),r(G!=null);var Q=B[0],ne=G[0];return Q==0&&(Q=(k*ne+P/2)/P),ne==0&&(ne=(P*Q+k/2)/k),0>=Q||0>=ne?0:(B[0]=Q,G[0]=ne,1)}function Ke(k,P){return k+(1<<P)-1>>>P}function ie(k,P){return((4278255360&k)+(4278255360&P)>>>0&4278255360)+((16711935&k)+(16711935&P)>>>0&16711935)>>>0}function Ce(k,P){E[P]=function(B,G,Q,ne,le,ye,ve){var Ne;for(Ne=0;Ne<le;++Ne){var Le=E[k](ye[ve+Ne-1],Q,ne+Ne);ye[ve+Ne]=ie(B[G+Ne],Le)}}}function Oe(){this.ud=this.hd=this.jd=0}function Je(k,P){return((4278124286&(k^P))>>>1)+(k&P)>>>0}function H(k){return 0<=k&&256>k?k:0>k?0:255<k?255:void 0}function de(k,P){return H(k+(k-P+.5>>1))}function ue(k,P,B){return Math.abs(P-B)-Math.abs(k-B)}function me(k,P,B,G,Q,ne,le){for(G=ne[le-1],B=0;B<Q;++B)ne[le+B]=G=ie(k[P+B],G)}function Se(k,P,B,G,Q){var ne;for(ne=0;ne<B;++ne){var le=k[P+ne],ye=le>>8&255,ve=16711935&(ve=(ve=16711935&le)+((ye<<16)+ye));G[Q+ne]=(4278255360&le)+ve>>>0}}function Ye(k,P){P.jd=255&k,P.hd=k>>8&255,P.ud=k>>16&255}function kt(k,P,B,G,Q,ne){var le;for(le=0;le<G;++le){var ye=P[B+le],ve=ye>>>8,Ne=ye,Le=255&(Le=(Le=ye>>>16)+((k.jd<<24>>24)*(ve<<24>>24)>>>5));Ne=255&(Ne=(Ne+=(k.hd<<24>>24)*(ve<<24>>24)>>>5)+((k.ud<<24>>24)*(Le<<24>>24)>>>5)),Q[ne+le]=(4278255360&ye)+(Le<<16)+Ne}}function it(k,P,B,G,Q){E[P]=function(ne,le,ye,ve,Ne,Le,tt,ke,Be){for(ve=tt;ve<ke;++ve)for(tt=0;tt<Be;++tt)Ne[Le++]=Q(ye[G(ne[le++])])},E[k]=function(ne,le,ye,ve,Ne,Le,tt){var ke=8>>ne.b,Be=ne.Ea,Xe=ne.K[0],xt=ne.w;if(8>ke)for(ne=(1<<ne.b)-1,xt=(1<<ke)-1;le<ye;++le){var at,ht=0;for(at=0;at<Be;++at)at&ne||(ht=G(ve[Ne++])),Le[tt++]=Q(Xe[ht&xt]),ht>>=ke}else E["VP8LMapColor"+B](ve,Ne,Xe,xt,Le,tt,le,ye,Be)}}function ft(k,P,B,G,Q){for(B=P+B;P<B;){var ne=k[P++];G[Q++]=ne>>16&255,G[Q++]=ne>>8&255,G[Q++]=255&ne}}function Te(k,P,B,G,Q){for(B=P+B;P<B;){var ne=k[P++];G[Q++]=ne>>16&255,G[Q++]=ne>>8&255,G[Q++]=255&ne,G[Q++]=ne>>24&255}}function oe(k,P,B,G,Q){for(B=P+B;P<B;){var ne=(le=k[P++])>>16&240|le>>12&15,le=240&le|le>>28&15;G[Q++]=ne,G[Q++]=le}}function _e(k,P,B,G,Q){for(B=P+B;P<B;){var ne=(le=k[P++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;G[Q++]=ne,G[Q++]=le}}function et(k,P,B,G,Q){for(B=P+B;P<B;){var ne=k[P++];G[Q++]=255&ne,G[Q++]=ne>>8&255,G[Q++]=ne>>16&255}}function Ve(k,P,B,G,Q,ne){if(ne==0)for(B=P+B;P<B;)$e(G,((ne=k[P++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),Q+=32;else s(G,Q,k,P,B)}function Wt(k,P){E[P][0]=E[k+"0"],E[P][1]=E[k+"1"],E[P][2]=E[k+"2"],E[P][3]=E[k+"3"],E[P][4]=E[k+"4"],E[P][5]=E[k+"5"],E[P][6]=E[k+"6"],E[P][7]=E[k+"7"],E[P][8]=E[k+"8"],E[P][9]=E[k+"9"],E[P][10]=E[k+"10"],E[P][11]=E[k+"11"],E[P][12]=E[k+"12"],E[P][13]=E[k+"13"],E[P][14]=E[k+"0"],E[P][15]=E[k+"0"]}function Bt(k){return k==lu||k==Xc||k==b0||k==v0}function Fe(){this.eb=[],this.size=this.A=this.fb=0}function nt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ut(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Fe,this.f.kb=new nt,this.sd=null}function Tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Lt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ar(k){return alert("todo:WebPSamplerProcessPlane"),k.T}function Fr(k,P){var B=k.T,G=P.ba.f.RGBA,Q=G.eb,ne=G.fb+k.ka*G.A,le=Bn[P.ba.S],ye=k.y,ve=k.O,Ne=k.f,Le=k.N,tt=k.ea,ke=k.W,Be=P.cc,Xe=P.dc,xt=P.Mc,at=P.Nc,ht=k.ka,pt=k.ka+k.T,wt=k.U,St=wt+1>>1;for(ht==0?le(ye,ve,null,null,Ne,Le,tt,ke,Ne,Le,tt,ke,Q,ne,null,null,wt):(le(P.ec,P.fc,ye,ve,Be,Xe,xt,at,Ne,Le,tt,ke,Q,ne-G.A,Q,ne,wt),++B);ht+2<pt;ht+=2)Be=Ne,Xe=Le,xt=tt,at=ke,Le+=k.Rc,ke+=k.Rc,ne+=2*G.A,le(ye,(ve+=2*k.fa)-k.fa,ye,ve,Be,Xe,xt,at,Ne,Le,tt,ke,Q,ne-G.A,Q,ne,wt);return ve+=k.fa,k.j+pt<k.o?(s(P.ec,P.fc,ye,ve,wt),s(P.cc,P.dc,Ne,Le,St),s(P.Mc,P.Nc,tt,ke,St),B--):1&pt||le(ye,ve,null,null,Ne,Le,tt,ke,Ne,Le,tt,ke,Q,ne+G.A,null,null,wt),B}function Re(k,P,B){var G=k.F,Q=[k.J];if(G!=null){var ne=k.U,le=P.ba.S,ye=le==y0||le==b0;P=P.ba.f.RGBA;var ve=[0],Ne=k.ka;ve[0]=k.T,k.Kb&&(Ne==0?--ve[0]:(--Ne,Q[0]-=k.width),k.j+k.ka+k.T==k.o&&(ve[0]=k.o-k.j-Ne));var Le=P.eb;Ne=P.fb+Ne*P.A,k=g0(G,Q[0],k.width,ne,ve,Le,Ne+(ye?0:3),P.A),r(B==ve),k&&Bt(le)&&Jc(Le,Ne,ye,ne,ve,P.A)}return 0}function De(k){var P=k.ma,B=P.ba.S,G=11>B,Q=B==oc||B==x0||B==y0||B==ha||B==12||Bt(B);if(P.memory=null,P.Ib=null,P.Jb=null,P.Nd=null,!tu(P.Oa,k,Q?11:12))return 0;if(Q&&Bt(B)&&Bc(),k.da)alert("todo:use_scaling");else{if(G){if(P.Ib=Ar,k.Kb){if(B=k.U+1>>1,P.memory=i(k.U+2*B),P.memory==null)return 0;P.ec=P.memory,P.fc=0,P.cc=P.ec,P.dc=P.fc+k.U,P.Mc=P.cc,P.Nc=P.dc+B,P.Ib=Fr,Bc()}}else alert("todo:EmitYUV");Q&&(P.Jb=Re,G&&eo())}if(G&&!Js){for(k=0;256>k;++k)Un[k]=89858*(k-128)+so>>_l,zn[k]=-22014*(k-128)+so,hu[k]=-45773*(k-128),td[k]=113618*(k-128)+so>>_l;for(k=oa;k<ca;++k)P=76283*(k-16)+so>>_l,zh[k-oa]=_t(P,255),Mg[k-oa]=_t(P+8>>4,15);Js=1}return 1}function ze(k){var P=k.ma,B=k.U,G=k.T;return r(!(1&k.ka)),0>=B||0>=G?0:(B=P.Ib(k,P),P.Jb!=null&&P.Jb(k,P,B),P.Dc+=B,1)}function st(k){k.ma.memory=null}function Nt(k,P,B,G){return te(k,8)!=47?0:(P[0]=te(k,14)+1,B[0]=te(k,14)+1,G[0]=te(k,1),te(k,3)!=0?0:!k.h)}function He(k,P){if(4>k)return k+1;var B=k-2>>1;return(2+(1&k)<<B)+te(P,B)+1}function Mt(k,P){return 120<P?P-120:1<=(B=((B=Pv[P-1])>>4)*k+(8-(15&B)))?B:1;var B}function Ot(k,P,B){var G=W(B),Q=k[P+=255&G].g-8;return 0<Q&&(ce(B,B.u+8),G=W(B),P+=k[P].value,P+=G&(1<<Q)-1),ce(B,B.u+k[P].g),k[P].value}function Pt(k,P,B){return B.g+=k.g,B.value+=k.value<<P>>>0,r(8>=B.g),k.g}function Pe(k,P,B){var G=k.xc;return r((P=G==0?0:k.vc[k.md*(B>>G)+(P>>G)])<k.Wb),k.Ya[P]}function vt(k,P,B,G){var Q=k.ab,ne=k.c*P,le=k.C;P=le+P;var ye=B,ve=G;for(G=k.Ta,B=k.Ua;0<Q--;){var Ne=k.gc[Q],Le=le,tt=P,ke=ye,Be=ve,Xe=(ve=G,ye=B,Ne.Ea);switch(r(Le<tt),r(tt<=Ne.nc),Ne.hc){case 2:rs(ke,Be,(tt-Le)*Xe,ve,ye);break;case 0:var xt=Le,at=tt,ht=ve,pt=ye,wt=(rr=Ne).Ea;xt==0&&(Nl(ke,Be,null,null,1,ht,pt),me(ke,Be+1,0,0,wt-1,ht,pt+1),Be+=wt,pt+=wt,++xt);for(var St=1<<rr.b,hr=St-1,Jt=Ke(wt,rr.b),Tr=rr.K,rr=rr.w+(xt>>rr.b)*Jt;xt<at;){var Ur=Tr,Ha=rr,Dr=1;for(Mo(ke,Be,ht,pt-wt,1,ht,pt);Dr<wt;){var Xt=(Dr&~hr)+St;Xt>wt&&(Xt=wt),(0,Wc[Ur[Ha++]>>8&15])(ke,Be+ +Dr,ht,pt+Dr-wt,Xt-Dr,ht,pt+Dr),Dr=Xt}Be+=wt,pt+=wt,++xt&hr||(rr+=Jt)}tt!=Ne.nc&&s(ve,ye-Xe,ve,ye+(tt-Le-1)*Xe,Xe);break;case 1:for(Xe=ke,at=Be,wt=(ke=Ne.Ea)-(pt=ke&~(ht=(Be=1<<Ne.b)-1)),xt=Ke(ke,Ne.b),St=Ne.K,Ne=Ne.w+(Le>>Ne.b)*xt;Le<tt;){for(hr=St,Jt=Ne,Tr=new Oe,rr=at+pt,Ur=at+ke;at<rr;)Ye(hr[Jt++],Tr),au(Tr,Xe,at,Be,ve,ye),at+=Be,ye+=Be;at<Ur&&(Ye(hr[Jt++],Tr),au(Tr,Xe,at,wt,ve,ye),at+=wt,ye+=wt),++Le&ht||(Ne+=xt)}break;case 3:if(ke==ve&&Be==ye&&0<Ne.b){for(at=ve,ke=Xe=ye+(tt-Le)*Xe-(pt=(tt-Le)*Ke(Ne.Ea,Ne.b)),Be=ve,ht=ye,xt=[],pt=(wt=pt)-1;0<=pt;--pt)xt[pt]=Be[ht+pt];for(pt=wt-1;0<=pt;--pt)at[ke+pt]=xt[pt];Vc(Ne,Le,tt,ve,Xe,ve,ye)}else Vc(Ne,Le,tt,ke,Be,ve,ye)}ye=G,ve=B}ve!=B&&s(G,B,ye,ve,ne)}function yt(k,P){var B=k.V,G=k.Ba+k.c*k.C,Q=P-k.C;if(r(P<=k.l.o),r(16>=Q),0<Q){var ne=k.l,le=k.Ta,ye=k.Ua,ve=ne.width;if(vt(k,Q,B,G),Q=ye=[ye],r((B=k.C)<(G=P)),r(ne.v<ne.va),G>ne.o&&(G=ne.o),B<ne.j){var Ne=ne.j-B;B=ne.j,Q[0]+=Ne*ve}if(B>=G?B=0:(Q[0]+=4*ne.v,ne.ka=B-ne.j,ne.U=ne.va-ne.v,ne.T=G-B,B=1),B){if(ye=ye[0],11>(B=k.ca).S){var Le=B.f.RGBA,tt=(G=B.S,Q=ne.U,ne=ne.T,Ne=Le.eb,Le.A),ke=ne;for(Le=Le.fb+k.Ma*Le.A;0<ke--;){var Be=le,Xe=ye,xt=Q,at=Ne,ht=Le;switch(G){case Fh:su(Be,Xe,xt,at,ht);break;case oc:kl(Be,Xe,xt,at,ht);break;case lu:kl(Be,Xe,xt,at,ht),Jc(at,ht,0,xt,1,0);break;case Dg:Gc(Be,Xe,xt,at,ht);break;case x0:Ve(Be,Xe,xt,at,ht,1);break;case Xc:Ve(Be,Xe,xt,at,ht,1),Jc(at,ht,0,xt,1,0);break;case y0:Ve(Be,Xe,xt,at,ht,0);break;case b0:Ve(Be,Xe,xt,at,ht,0),Jc(at,ht,1,xt,1,0);break;case ha:sc(Be,Xe,xt,at,ht);break;case v0:sc(Be,Xe,xt,at,ht),uf(at,ht,xt,1,0);break;case $h:nc(Be,Xe,xt,at,ht);break;default:r(0)}ye+=ve,Le+=tt}k.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");r(k.Ma<=B.height)}}k.C=P,r(k.C<=k.i)}function gr(k){var P;if(0<k.ua)return 0;for(P=0;P<k.Wb;++P){var B=k.Ya[P].G,G=k.Ya[P].H;if(0<B[1][G[1]+0].g||0<B[2][G[2]+0].g||0<B[3][G[3]+0].g)return 0}return 1}function qt(k,P,B,G,Q,ne){if(k.Z!=0){var le=k.qd,ye=k.rd;for(r(dn[k.Z]!=null);P<B;++P)dn[k.Z](le,ye,G,Q,G,Q,ne),le=G,ye=Q,Q+=ne;k.qd=le,k.rd=ye}}function ea(k,P){var B=k.l.ma,G=B.Z==0||B.Z==1?k.l.j:k.C;if(G=k.C<G?G:k.C,r(P<=k.l.o),P>G){var Q=k.l.width,ne=B.ca,le=B.tb+Q*G,ye=k.V,ve=k.Ba+k.c*G,Ne=k.gc;r(k.ab==1),r(Ne[0].hc==3),ro(Ne[0],G,P,ye,ve,ne,le),qt(B,G,P,ne,le,Q)}k.C=k.Ma=P}function hs(k,P,B,G,Q,ne,le){var ye=k.$/G,ve=k.$%G,Ne=k.m,Le=k.s,tt=B+k.$,ke=tt;Q=B+G*Q;var Be=B+G*ne,Xe=280+Le.ua,xt=k.Pb?ye:16777216,at=0<Le.ua?Le.Wa:null,ht=Le.wc,pt=tt<Be?Pe(Le,ve,ye):null;r(k.C<ne),r(Be<=Q);var wt=!1;e:for(;;){for(;wt||tt<Be;){var St=0;if(ye>=xt){var hr=tt-B;r((xt=k).Pb),xt.wd=xt.m,xt.xd=hr,0<xt.s.ua&&re(xt.s.Wa,xt.s.vb),xt=ye+Uh}if(ve&ht||(pt=Pe(Le,ve,ye)),r(pt!=null),pt.Qb&&(P[tt]=pt.qb,wt=!0),!wt)if(we(Ne),pt.jc){St=Ne,hr=P;var Jt=tt,Tr=pt.pd[W(St)&Ai-1];r(pt.jc),256>Tr.g?(ce(St,St.u+Tr.g),hr[Jt]=Tr.value,St=0):(ce(St,St.u+Tr.g-256),r(256<=Tr.value),St=Tr.value),St==0&&(wt=!0)}else St=Ot(pt.G[0],pt.H[0],Ne);if(Ne.h)break;if(wt||256>St){if(!wt)if(pt.nd)P[tt]=(pt.qb|St<<8)>>>0;else{if(we(Ne),wt=Ot(pt.G[1],pt.H[1],Ne),we(Ne),hr=Ot(pt.G[2],pt.H[2],Ne),Jt=Ot(pt.G[3],pt.H[3],Ne),Ne.h)break;P[tt]=(Jt<<24|wt<<16|St<<8|hr)>>>0}if(wt=!1,++tt,++ve>=G&&(ve=0,++ye,le!=null&&ye<=ne&&!(ye%16)&&le(k,ye),at!=null))for(;ke<tt;)St=P[ke++],at.X[(506832829*St&4294967295)>>>at.Mb]=St}else if(280>St){if(St=He(St-256,Ne),hr=Ot(pt.G[4],pt.H[4],Ne),we(Ne),hr=Mt(G,hr=He(hr,Ne)),Ne.h)break;if(tt-B<hr||Q-tt<St)break e;for(Jt=0;Jt<St;++Jt)P[tt+Jt]=P[tt+Jt-hr];for(tt+=St,ve+=St;ve>=G;)ve-=G,++ye,le!=null&&ye<=ne&&!(ye%16)&&le(k,ye);if(r(tt<=Q),ve&ht&&(pt=Pe(Le,ve,ye)),at!=null)for(;ke<tt;)St=P[ke++],at.X[(506832829*St&4294967295)>>>at.Mb]=St}else{if(!(St<Xe))break e;for(wt=St-280,r(at!=null);ke<tt;)St=P[ke++],at.X[(506832829*St&4294967295)>>>at.Mb]=St;St=tt,r(!(wt>>>(hr=at).Xa)),P[St]=hr.X[wt],wt=!0}wt||r(Ne.h==pe(Ne))}if(k.Pb&&Ne.h&&tt<Q)r(k.m.h),k.a=5,k.m=k.wd,k.$=k.xd,0<k.s.ua&&re(k.s.vb,k.s.Wa);else{if(Ne.h)break e;le?.(k,ye>ne?ne:ye),k.a=0,k.$=tt-B}return 1}return k.a=3,0}function es(k){r(k!=null),k.vc=null,k.yc=null,k.Ya=null;var P=k.Wa;P!=null&&(P.X=null),k.vb=null,r(k!=null)}function Pa(){var k=new kr;return k==null?null:(k.a=0,k.xb=du,Wt("Predictor","VP8LPredictors"),Wt("Predictor","VP8LPredictors_C"),Wt("PredictorAdd","VP8LPredictorsAdd"),Wt("PredictorAdd","VP8LPredictorsAdd_C"),rs=Se,au=kt,su=ft,kl=Te,sc=oe,nc=_e,Gc=et,E.VP8LMapColor32b=Fo,E.VP8LMapColor8b=Hc,k)}function Fs(k,P,B,G,Q){var ne=1,le=[k],ye=[P],ve=G.m,Ne=G.s,Le=null,tt=0;e:for(;;){if(B)for(;ne&&te(ve,1);){var ke=le,Be=ye,Xe=G,xt=1,at=Xe.m,ht=Xe.gc[Xe.ab],pt=te(at,2);if(Xe.Oc&1<<pt)ne=0;else{switch(Xe.Oc|=1<<pt,ht.hc=pt,ht.Ea=ke[0],ht.nc=Be[0],ht.K=[null],++Xe.ab,r(4>=Xe.ab),pt){case 0:case 1:ht.b=te(at,3)+2,xt=Fs(Ke(ht.Ea,ht.b),Ke(ht.nc,ht.b),0,Xe,ht.K),ht.K=ht.K[0];break;case 3:var wt,St=te(at,8)+1,hr=16<St?0:4<St?1:2<St?2:3;if(ke[0]=Ke(ht.Ea,hr),ht.b=hr,wt=xt=Fs(St,1,0,Xe,ht.K)){var Jt,Tr=St,rr=ht,Ur=1<<(8>>rr.b),Ha=i(Ur);if(Ha==null)wt=0;else{var Dr=rr.K[0],Xt=rr.w;for(Ha[0]=rr.K[0][0],Jt=1;Jt<1*Tr;++Jt)Ha[Jt]=ie(Dr[Xt+Jt],Ha[Jt-1]);for(;Jt<4*Ur;++Jt)Ha[Jt]=0;rr.K[0]=null,rr.K[0]=Ha,wt=1}}xt=wt;break;case 2:break;default:r(0)}ne=xt}}if(le=le[0],ye=ye[0],ne&&te(ve,1)&&!(ne=1<=(tt=te(ve,4))&&11>=tt)){G.a=3;break e}var zt;if(zt=ne)t:{var as,jr,$r,ja=G,$s=le,gs=ye,Fa=tt,_s=B,Bs=ja.m,Ea=ja.s,Vr=[null],Xr=1,Ta=0,Zr=Og[Fa];r:for(;;){if(_s&&te(Bs,1)){var Wa=te(Bs,3)+2,Ga=Ke($s,Wa),ma=Ke(gs,Wa),un=Ga*ma;if(!Fs(Ga,ma,0,ja,Vr))break r;for(Vr=Vr[0],Ea.xc=Wa,as=0;as<un;++as){var da=Vr[as]>>8&65535;Vr[as]=da,da>=Xr&&(Xr=da+1)}}if(Bs.h)break r;for(jr=0;5>jr;++jr){var fa=Zc[jr];!jr&&0<Fa&&(fa+=1<<Fa),Ta<fa&&(Ta=fa)}var xs=o(Xr*Zr,Y),Xs=Xr,qn=o(Xs,q);if(qn==null)var ss=null;else r(65536>=Xs),ss=qn;var ns=i(Ta);if(ss==null||ns==null||xs==null){ja.a=1;break r}var hn=xs;for(as=$r=0;as<Xr;++as){var pa=ss[as],mn=pa.G,Ei=pa.H,no=0,Us=1,is=0;for(jr=0;5>jr;++jr){fa=Zc[jr],mn[jr]=hn,Ei[jr]=$r,!jr&&0<Fa&&(fa+=1<<Fa);s:{var dc,Cl=fa,mu=ja,Uo=ns,$g=hn,Nf=$r,ka=0,io=mu.m,kf=te(io,1);if(n(Uo,0,0,Cl),kf){var Sf=te(io,1)+1,qh=te(io,1),Vh=te(io,qh==0?1:8);Uo[Vh]=1,Sf==2&&(Uo[Vh=te(io,8)]=1);var zo=1}else{var Da=i(19),ys=te(io,4)+4;if(19<ys){mu.a=3;var os=0;break s}for(dc=0;dc<ys;++dc)Da[Cv[dc]]=te(io,3);var fu=void 0,Pl=void 0,pu=mu,Ov=Da,As=Cl,Hh=Uo,S0=0,qo=pu.m,oo=8,di=o(128,Y);a:for(;F(di,0,7,Ov,19);){if(te(qo,1)){var _0=2+2*te(qo,3);if((fu=2+te(qo,_0))>As)break a}else fu=As;for(Pl=0;Pl<As&&fu--;){we(qo);var Wh=di[0+(127&W(qo))];ce(qo,qo.u+Wh.g);var uc=Wh.value;if(16>uc)Hh[Pl++]=uc,uc!=0&&(oo=uc);else{var Bg=uc==16,_f=uc-16,Ug=Bh[_f],Af=te(qo,w0[_f])+Ug;if(Pl+Af>As)break a;for(var zg=Bg?oo:0;0<Af--;)Hh[Pl++]=zg}}S0=1;break a}S0||(pu.a=3),zo=S0}(zo=zo&&!io.h)&&(ka=F($g,Nf,8,Uo,Cl)),zo&&ka!=0?os=ka:(mu.a=3,os=0)}if(os==0)break r;if(Us&&Ig[jr]==1&&(Us=hn[$r].g==0),no+=hn[$r].g,$r+=os,3>=jr){var gu,Gh=ns[0];for(gu=1;gu<fa;++gu)ns[gu]>Gh&&(Gh=ns[gu]);is+=Gh}}if(pa.nd=Us,pa.Qb=0,Us&&(pa.qb=(mn[3][Ei[3]+0].value<<24|mn[1][Ei[1]+0].value<<16|mn[2][Ei[2]+0].value)>>>0,no==0&&256>mn[0][Ei[0]+0].value&&(pa.Qb=1,pa.qb+=mn[0][Ei[0]+0].value<<8)),pa.jc=!pa.Qb&&6>is,pa.jc){var A0,ui=pa;for(A0=0;A0<Ai;++A0){var El=A0,lo=ui.pd[El],ad=ui.G[0][ui.H[0]+El];256<=ad.value?(lo.g=ad.g+256,lo.value=ad.value):(lo.g=0,lo.value=0,El>>=Pt(ad,8,lo),El>>=Pt(ui.G[1][ui.H[1]+El],16,lo),El>>=Pt(ui.G[2][ui.H[2]+El],0,lo),Pt(ui.G[3][ui.H[3]+El],24,lo))}}}Ea.vc=Vr,Ea.Wb=Xr,Ea.Ya=ss,Ea.yc=xs,zt=1;break t}zt=0}if(!(ne=zt)){G.a=3;break e}if(0<tt){if(Ne.ua=1<<tt,!Z(Ne.Wa,tt)){G.a=1,ne=0;break e}}else Ne.ua=0;var Yh=G,Kh=le,qg=ye,Jh=Yh.s,Xh=Jh.xc;if(Yh.c=Kh,Yh.i=qg,Jh.md=Ke(Kh,Xh),Jh.wc=Xh==0?-1:(1<<Xh)-1,B){G.xb=Bo;break e}if((Le=i(le*ye))==null){G.a=1,ne=0;break e}ne=(ne=hs(G,Le,0,le,ye,ye,null))&&!ve.h;break e}return ne?(Q!=null?Q[0]=Le:(r(Le==null),r(B)),G.$=0,B||es(Ne)):es(Ne),ne}function Xi(k,P){var B=k.c*k.i,G=B+P+16*P;return r(k.c<=P),k.V=i(G),k.V==null?(k.Ta=null,k.Ua=0,k.a=1,0):(k.Ta=k.V,k.Ua=k.Ba+B+P,1)}function Eo(k,P){var B=k.C,G=P-B,Q=k.V,ne=k.Ba+k.c*B;for(r(P<=k.l.o);0<G;){var le=16<G?16:G,ye=k.l.ma,ve=k.l.width,Ne=ve*le,Le=ye.ca,tt=ye.tb+ve*B,ke=k.Ta,Be=k.Ua;vt(k,le,Q,ne),hf(ke,Be,Le,tt,Ne),qt(ye,B,B+le,Le,tt,ve),G-=le,Q+=le*k.c,B+=le}r(B==P),k.C=k.Ma=P}function pl(){this.ub=this.yd=this.td=this.Rb=0}function si(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function s0(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function ia(){this.Yb=(function(){var k=[];return(function P(B,G,Q){for(var ne=Q[G],le=0;le<ne&&(B.push(Q.length>G+1?[]:0),!(Q.length<G+1));le++)P(B[le],G+1,Q)})(k,0,[3,11]),k})()}function Kl(){this.jb=i(3),this.Wc=l([4,8],ia),this.Xc=l([4,17],ia)}function ni(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function jn(){this.ld=this.La=this.dd=this.tc=0}function Zi(){this.Na=this.la=0}function Wd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Jl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gl(){this.uc=this.M=this.Nb=0,this.wa=Array(new jn),this.Y=0,this.ya=Array(new Jl),this.aa=0,this.l=new nr}function he(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Qe(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new pl,this.Kc=new si,this.ed=new ni,this.Qa=new s0,this.Ic=this.$c=this.Aa=0,this.D=new gl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,R),this.ia=0,this.pb=o(4,Wd),this.Pa=new Kl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new he),this.Hd=0,this.rb=Array(new Zi),this.sb=0,this.wa=Array(new jn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Jl),this.L=this.aa=0,this.gd=l([4,2],jn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _t(k,P){return 0>k?0:k>P?P:k}function nr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rt(){var k=new Qe;return k!=null&&(k.a=0,k.sc="OK",k.cb=0,k.Xb=0,Qc||(Qc=ms)),k}function wr(k,P,B){return k.a==0&&(k.a=P,k.sc=B,k.cb=0),0}function ta(k,P,B){return 3<=B&&k[P+0]==157&&k[P+1]==1&&k[P+2]==42}function qr(k,P){if(k==null)return 0;if(k.a=0,k.sc="OK",P==null)return wr(k,2,"null VP8Io passed to VP8GetHeaders()");var B=P.data,G=P.w,Q=P.ha;if(4>Q)return wr(k,7,"Truncated header.");var ne=B[G+0]|B[G+1]<<8|B[G+2]<<16,le=k.Od;if(le.Rb=!(1&ne),le.td=ne>>1&7,le.yd=ne>>4&1,le.ub=ne>>5,3<le.td)return wr(k,3,"Incorrect keyframe parameters.");if(!le.yd)return wr(k,4,"Frame not displayable.");G+=3,Q-=3;var ye=k.Kc;if(le.Rb){if(7>Q)return wr(k,7,"cannot parse picture header");if(!ta(B,G,Q))return wr(k,3,"Bad code word");ye.c=16383&(B[G+4]<<8|B[G+3]),ye.Td=B[G+4]>>6,ye.i=16383&(B[G+6]<<8|B[G+5]),ye.Ud=B[G+6]>>6,G+=7,Q-=7,k.za=ye.c+15>>4,k.Ub=ye.i+15>>4,P.width=ye.c,P.height=ye.i,P.Da=0,P.j=0,P.v=0,P.va=P.width,P.o=P.height,P.da=0,P.ib=P.width,P.hb=P.height,P.U=P.width,P.T=P.height,n((ne=k.Pa).jb,0,255,ne.jb.length),r((ne=k.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,n(ne.Zb,0,0,ne.Zb.length),n(ne.Lb,0,0,ne.Lb)}if(le.ub>Q)return wr(k,7,"bad partition length");$(ne=k.m,B,G,le.ub),G+=le.ub,Q-=le.ub,le.Rb&&(ye.Ld=fe(ne),ye.Kd=fe(ne)),ye=k.Qa;var ve,Ne=k.Pa;if(r(ne!=null),r(ye!=null),ye.Cb=fe(ne),ye.Cb){if(ye.Bb=fe(ne),fe(ne)){for(ye.Fb=fe(ne),ve=0;4>ve;++ve)ye.Zb[ve]=fe(ne)?J(ne,7):0;for(ve=0;4>ve;++ve)ye.Lb[ve]=fe(ne)?J(ne,6):0}if(ye.Bb)for(ve=0;3>ve;++ve)Ne.jb[ve]=fe(ne)?K(ne,8):255}else ye.Bb=0;if(ne.Ka)return wr(k,3,"cannot parse segment header");if((ye=k.ed).zd=fe(ne),ye.Tb=K(ne,6),ye.wb=K(ne,3),ye.Pc=fe(ne),ye.Pc&&fe(ne)){for(Ne=0;4>Ne;++Ne)fe(ne)&&(ye.vd[Ne]=J(ne,6));for(Ne=0;4>Ne;++Ne)fe(ne)&&(ye.od[Ne]=J(ne,6))}if(k.L=ye.Tb==0?0:ye.zd?1:2,ne.Ka)return wr(k,3,"cannot parse filter header");var Le=Q;if(Q=ve=G,G=ve+Le,ye=Le,k.Xb=(1<<K(k.m,2))-1,Le<3*(Ne=k.Xb))B=7;else{for(ve+=3*Ne,ye-=3*Ne,Le=0;Le<Ne;++Le){var tt=B[Q+0]|B[Q+1]<<8|B[Q+2]<<16;tt>ye&&(tt=ye),$(k.Jc[+Le],B,ve,tt),ve+=tt,ye-=tt,Q+=3}$(k.Jc[+Ne],B,ve,ye),B=ve<G?0:5}if(B!=0)return wr(k,B,"cannot parse partitions");for(B=K(ve=k.m,7),Q=fe(ve)?J(ve,4):0,G=fe(ve)?J(ve,4):0,ye=fe(ve)?J(ve,4):0,Ne=fe(ve)?J(ve,4):0,ve=fe(ve)?J(ve,4):0,Le=k.Qa,tt=0;4>tt;++tt){if(Le.Cb){var ke=Le.Zb[tt];Le.Fb||(ke+=B)}else{if(0<tt){k.pb[tt]=k.pb[0];continue}ke=B}var Be=k.pb[tt];Be.Sc[0]=cu[_t(ke+Q,127)],Be.Sc[1]=j0[_t(ke+0,127)],Be.Eb[0]=2*cu[_t(ke+G,127)],Be.Eb[1]=101581*j0[_t(ke+ye,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=cu[_t(ke+Ne,117)],Be.Qc[1]=j0[_t(ke+ve,127)],Be.lc=ke+ve}if(!le.Rb)return wr(k,4,"Not a key frame.");for(fe(ne),le=k.Pa,B=0;4>B;++B){for(Q=0;8>Q;++Q)for(G=0;3>G;++G)for(ye=0;11>ye;++ye)Ne=xe(ne,Tv[B][Q][G][ye])?K(ne,8):Lg[B][Q][G][ye],le.Wc[B][Q].Yb[G][ye]=Ne;for(Q=0;17>Q;++Q)le.Xc[B][Q]=le.Wc[B][vf[Q]]}return k.kc=fe(ne),k.kc&&(k.Bd=K(ne,8)),k.cb=1}function ms(k,P,B,G,Q,ne,le){var ye=P[Q].Yb[B];for(B=0;16>Q;++Q){if(!xe(k,ye[B+0]))return Q;for(;!xe(k,ye[B+1]);)if(ye=P[++Q].Yb[0],B=0,Q==16)return 16;var ve=P[Q+1].Yb;if(xe(k,ye[B+2])){var Ne=k,Le=0;if(xe(Ne,(ke=ye)[(tt=B)+3]))if(xe(Ne,ke[tt+6])){for(ye=0,tt=2*(Le=xe(Ne,ke[tt+8]))+(ke=xe(Ne,ke[tt+9+Le])),Le=0,ke=yf[tt];ke[ye];++ye)Le+=Le+xe(Ne,ke[ye]);Le+=3+(8<<tt)}else xe(Ne,ke[tt+7])?(Le=7+2*xe(Ne,165),Le+=xe(Ne,145)):Le=5+xe(Ne,159);else Le=xe(Ne,ke[tt+4])?3+xe(Ne,ke[tt+5]):2;ye=ve[2]}else Le=1,ye=ve[1];ve=le+bf[Q],0>(Ne=k).b&&je(Ne);var tt,ke=Ne.b,Be=(tt=Ne.Ca>>1)-(Ne.I>>ke)>>31;--Ne.b,Ne.Ca+=Be,Ne.Ca|=1,Ne.I-=(tt+1&Be)<<ke,ne[ve]=((Le^Be)-Be)*G[(0<Q)+0]}return 16}function wi(k){var P=k.rb[k.sb-1];P.la=0,P.Na=0,n(k.zc,0,0,k.zc.length),k.ja=0}function ua(k,P,B,G,Q){Q=k[P+B+32*G]+(Q>>3),k[P+B+32*G]=-256&Q?0>Q?0:255:Q}function La(k,P,B,G,Q,ne){ua(k,P,0,B,G+Q),ua(k,P,1,B,G+ne),ua(k,P,2,B,G-ne),ua(k,P,3,B,G-Q)}function Nn(k){return(20091*k>>16)+k}function n0(k,P,B,G){var Q,ne=0,le=i(16);for(Q=0;4>Q;++Q){var ye=k[P+0]+k[P+8],ve=k[P+0]-k[P+8],Ne=(35468*k[P+4]>>16)-Nn(k[P+12]),Le=Nn(k[P+4])+(35468*k[P+12]>>16);le[ne+0]=ye+Le,le[ne+1]=ve+Ne,le[ne+2]=ve-Ne,le[ne+3]=ye-Le,ne+=4,P++}for(Q=ne=0;4>Q;++Q)ye=(k=le[ne+0]+4)+le[ne+8],ve=k-le[ne+8],Ne=(35468*le[ne+4]>>16)-Nn(le[ne+12]),ua(B,G,0,0,ye+(Le=Nn(le[ne+4])+(35468*le[ne+12]>>16))),ua(B,G,1,0,ve+Ne),ua(B,G,2,0,ve-Ne),ua(B,G,3,0,ye-Le),ne++,G+=32}function i0(k,P,B,G){var Q=k[P+0]+4,ne=35468*k[P+4]>>16,le=Nn(k[P+4]),ye=35468*k[P+1]>>16;La(B,G,0,Q+le,k=Nn(k[P+1]),ye),La(B,G,1,Q+ne,k,ye),La(B,G,2,Q-ne,k,ye),La(B,G,3,Q-le,k,ye)}function Dc(k,P,B,G,Q){n0(k,P,B,G),Q&&n0(k,P+16,B,G+4)}function To(k,P,B,G){Yc(k,P+0,B,G,1),Yc(k,P+32,B,G+128,1)}function Gd(k,P,B,G){var Q;for(k=k[P+0]+4,Q=0;4>Q;++Q)for(P=0;4>P;++P)ua(B,G,P,Q,k)}function Kr(k,P,B,G){k[P+0]&&Jr(k,P+0,B,G),k[P+16]&&Jr(k,P+16,B,G+4),k[P+32]&&Jr(k,P+32,B,G+128),k[P+48]&&Jr(k,P+48,B,G+128+4)}function Ic(k,P,B,G){var Q,ne=i(16);for(Q=0;4>Q;++Q){var le=k[P+0+Q]+k[P+12+Q],ye=k[P+4+Q]+k[P+8+Q],ve=k[P+4+Q]-k[P+8+Q],Ne=k[P+0+Q]-k[P+12+Q];ne[0+Q]=le+ye,ne[8+Q]=le-ye,ne[4+Q]=Ne+ve,ne[12+Q]=Ne-ve}for(Q=0;4>Q;++Q)le=(k=ne[0+4*Q]+3)+ne[3+4*Q],ye=ne[1+4*Q]+ne[2+4*Q],ve=ne[1+4*Q]-ne[2+4*Q],Ne=k-ne[3+4*Q],B[G+0]=le+ye>>3,B[G+16]=Ne+ve>>3,B[G+32]=le-ye>>3,B[G+48]=Ne-ve>>3,G+=64}function Xl(k,P,B){var G,Q=P-32,ne=Sn,le=255-k[Q-1];for(G=0;G<B;++G){var ye,ve=ne,Ne=le+k[P-1];for(ye=0;ye<B;++ye)k[P+ye]=ve[Ne+k[Q+ye]];P+=32}}function o0(k,P){Xl(k,P,4)}function Th(k,P){Xl(k,P,8)}function Dh(k,P){Xl(k,P,16)}function Yd(k,P){var B;for(B=0;16>B;++B)s(k,P+32*B,k,P-32,16)}function Kd(k,P){var B;for(B=16;0<B;--B)n(k,P,k[P-1],16),P+=32}function Rn(k,P,B){var G;for(G=0;16>G;++G)n(P,B+32*G,k,16)}function Do(k,P){var B,G=16;for(B=0;16>B;++B)G+=k[P-1+32*B]+k[P+B-32];Rn(G>>5,k,P)}function Ln(k,P){var B,G=8;for(B=0;16>B;++B)G+=k[P-1+32*B];Rn(G>>4,k,P)}function ji(k,P){var B,G=8;for(B=0;16>B;++B)G+=k[P+B-32];Rn(G>>4,k,P)}function Oc(k,P){Rn(128,k,P)}function vr(k,P,B){return k+2*P+B+2>>2}function Io(k,P){var B,G=P-32;for(G=new Uint8Array([vr(k[G-1],k[G+0],k[G+1]),vr(k[G+0],k[G+1],k[G+2]),vr(k[G+1],k[G+2],k[G+3]),vr(k[G+2],k[G+3],k[G+4])]),B=0;4>B;++B)s(k,P+32*B,G,0,G.length)}function cf(k,P){var B=k[P-1],G=k[P-1+32],Q=k[P-1+64],ne=k[P-1+96];$e(k,P+0,16843009*vr(k[P-1-32],B,G)),$e(k,P+32,16843009*vr(B,G,Q)),$e(k,P+64,16843009*vr(G,Q,ne)),$e(k,P+96,16843009*vr(Q,ne,ne))}function Ih(k,P){var B,G=4;for(B=0;4>B;++B)G+=k[P+B-32]+k[P-1+32*B];for(G>>=3,B=0;4>B;++B)n(k,P+32*B,G,4)}function ii(k,P){var B=k[P-1+0],G=k[P-1+32],Q=k[P-1+64],ne=k[P-1-32],le=k[P+0-32],ye=k[P+1-32],ve=k[P+2-32],Ne=k[P+3-32];k[P+0+96]=vr(G,Q,k[P-1+96]),k[P+1+96]=k[P+0+64]=vr(B,G,Q),k[P+2+96]=k[P+1+64]=k[P+0+32]=vr(ne,B,G),k[P+3+96]=k[P+2+64]=k[P+1+32]=k[P+0+0]=vr(le,ne,B),k[P+3+64]=k[P+2+32]=k[P+1+0]=vr(ye,le,ne),k[P+3+32]=k[P+2+0]=vr(ve,ye,le),k[P+3+0]=vr(Ne,ve,ye)}function xl(k,P){var B=k[P+1-32],G=k[P+2-32],Q=k[P+3-32],ne=k[P+4-32],le=k[P+5-32],ye=k[P+6-32],ve=k[P+7-32];k[P+0+0]=vr(k[P+0-32],B,G),k[P+1+0]=k[P+0+32]=vr(B,G,Q),k[P+2+0]=k[P+1+32]=k[P+0+64]=vr(G,Q,ne),k[P+3+0]=k[P+2+32]=k[P+1+64]=k[P+0+96]=vr(Q,ne,le),k[P+3+32]=k[P+2+64]=k[P+1+96]=vr(ne,le,ye),k[P+3+64]=k[P+2+96]=vr(le,ye,ve),k[P+3+96]=vr(ye,ve,ve)}function Oh(k,P){var B=k[P-1+0],G=k[P-1+32],Q=k[P-1+64],ne=k[P-1-32],le=k[P+0-32],ye=k[P+1-32],ve=k[P+2-32],Ne=k[P+3-32];k[P+0+0]=k[P+1+64]=ne+le+1>>1,k[P+1+0]=k[P+2+64]=le+ye+1>>1,k[P+2+0]=k[P+3+64]=ye+ve+1>>1,k[P+3+0]=ve+Ne+1>>1,k[P+0+96]=vr(Q,G,B),k[P+0+64]=vr(G,B,ne),k[P+0+32]=k[P+1+96]=vr(B,ne,le),k[P+1+32]=k[P+2+96]=vr(ne,le,ye),k[P+2+32]=k[P+3+96]=vr(le,ye,ve),k[P+3+32]=vr(ye,ve,Ne)}function Jd(k,P){var B=k[P+0-32],G=k[P+1-32],Q=k[P+2-32],ne=k[P+3-32],le=k[P+4-32],ye=k[P+5-32],ve=k[P+6-32],Ne=k[P+7-32];k[P+0+0]=B+G+1>>1,k[P+1+0]=k[P+0+64]=G+Q+1>>1,k[P+2+0]=k[P+1+64]=Q+ne+1>>1,k[P+3+0]=k[P+2+64]=ne+le+1>>1,k[P+0+32]=vr(B,G,Q),k[P+1+32]=k[P+0+96]=vr(G,Q,ne),k[P+2+32]=k[P+1+96]=vr(Q,ne,le),k[P+3+32]=k[P+2+96]=vr(ne,le,ye),k[P+3+64]=vr(le,ye,ve),k[P+3+96]=vr(ye,ve,Ne)}function Rc(k,P){var B=k[P-1+0],G=k[P-1+32],Q=k[P-1+64],ne=k[P-1+96];k[P+0+0]=B+G+1>>1,k[P+2+0]=k[P+0+32]=G+Q+1>>1,k[P+2+32]=k[P+0+64]=Q+ne+1>>1,k[P+1+0]=vr(B,G,Q),k[P+3+0]=k[P+1+32]=vr(G,Q,ne),k[P+3+32]=k[P+1+64]=vr(Q,ne,ne),k[P+3+64]=k[P+2+64]=k[P+0+96]=k[P+1+96]=k[P+2+96]=k[P+3+96]=ne}function l0(k,P){var B=k[P-1+0],G=k[P-1+32],Q=k[P-1+64],ne=k[P-1+96],le=k[P-1-32],ye=k[P+0-32],ve=k[P+1-32],Ne=k[P+2-32];k[P+0+0]=k[P+2+32]=B+le+1>>1,k[P+0+32]=k[P+2+64]=G+B+1>>1,k[P+0+64]=k[P+2+96]=Q+G+1>>1,k[P+0+96]=ne+Q+1>>1,k[P+3+0]=vr(ye,ve,Ne),k[P+2+0]=vr(le,ye,ve),k[P+1+0]=k[P+3+32]=vr(B,le,ye),k[P+1+32]=k[P+3+64]=vr(G,B,le),k[P+1+64]=k[P+3+96]=vr(Q,G,B),k[P+1+96]=vr(ne,Q,G)}function Qi(k,P){var B;for(B=0;8>B;++B)s(k,P+32*B,k,P-32,8)}function Lc(k,P){var B;for(B=0;8>B;++B)n(k,P,k[P-1],8),P+=32}function Mn(k,P,B){var G;for(G=0;8>G;++G)n(P,B+32*G,k,8)}function Xd(k,P){var B,G=8;for(B=0;8>B;++B)G+=k[P+B-32]+k[P-1+32*B];Mn(G>>4,k,P)}function c0(k,P){var B,G=4;for(B=0;8>B;++B)G+=k[P+B-32];Mn(G>>3,k,P)}function d0(k,P){var B,G=4;for(B=0;8>B;++B)G+=k[P-1+32*B];Mn(G>>3,k,P)}function Zd(k,P){Mn(128,k,P)}function Ni(k,P,B){var G=k[P-B],Q=k[P+0],ne=3*(Q-G)+$o[1020+k[P-2*B]-k[P+B]],le=ou[112+(ne+4>>3)];k[P-B]=Sn[255+G+ou[112+(ne+3>>3)]],k[P+0]=Sn[255+Q-le]}function Mc(k,P,B,G){var Q=k[P+0],ne=k[P+B];return Ci[255+k[P-2*B]-k[P-B]]>G||Ci[255+ne-Q]>G}function Fc(k,P,B,G){return 4*Ci[255+k[P-B]-k[P+0]]+Ci[255+k[P-2*B]-k[P+B]]<=G}function ki(k,P,B,G,Q){var ne=k[P-3*B],le=k[P-2*B],ye=k[P-B],ve=k[P+0],Ne=k[P+B],Le=k[P+2*B],tt=k[P+3*B];return 4*Ci[255+ye-ve]+Ci[255+le-Ne]>G?0:Ci[255+k[P-4*B]-ne]<=Q&&Ci[255+ne-le]<=Q&&Ci[255+le-ye]<=Q&&Ci[255+tt-Le]<=Q&&Ci[255+Le-Ne]<=Q&&Ci[255+Ne-ve]<=Q}function yl(k,P,B,G){var Q=2*G+1;for(G=0;16>G;++G)Fc(k,P+G,B,Q)&&Ni(k,P+G,B)}function Zl(k,P,B,G){var Q=2*G+1;for(G=0;16>G;++G)Fc(k,P+G*B,1,Q)&&Ni(k,P+G*B,1)}function u0(k,P,B,G){var Q;for(Q=3;0<Q;--Q)yl(k,P+=4*B,B,G)}function $c(k,P,B,G){var Q;for(Q=3;0<Q;--Q)Zl(k,P+=4,B,G)}function Si(k,P,B,G,Q,ne,le,ye){for(ne=2*ne+1;0<Q--;){if(ki(k,P,B,ne,le))if(Mc(k,P,B,ye))Ni(k,P,B);else{var ve=k,Ne=P,Le=B,tt=ve[Ne-2*Le],ke=ve[Ne-Le],Be=ve[Ne+0],Xe=ve[Ne+Le],xt=ve[Ne+2*Le],at=27*(pt=$o[1020+3*(Be-ke)+$o[1020+tt-Xe]])+63>>7,ht=18*pt+63>>7,pt=9*pt+63>>7;ve[Ne-3*Le]=Sn[255+ve[Ne-3*Le]+pt],ve[Ne-2*Le]=Sn[255+tt+ht],ve[Ne-Le]=Sn[255+ke+at],ve[Ne+0]=Sn[255+Be-at],ve[Ne+Le]=Sn[255+Xe-ht],ve[Ne+2*Le]=Sn[255+xt-pt]}P+=G}}function Oo(k,P,B,G,Q,ne,le,ye){for(ne=2*ne+1;0<Q--;){if(ki(k,P,B,ne,le))if(Mc(k,P,B,ye))Ni(k,P,B);else{var ve=k,Ne=P,Le=B,tt=ve[Ne-Le],ke=ve[Ne+0],Be=ve[Ne+Le],Xe=ou[112+(4+(xt=3*(ke-tt))>>3)],xt=ou[112+(xt+3>>3)],at=Xe+1>>1;ve[Ne-2*Le]=Sn[255+ve[Ne-2*Le]+at],ve[Ne-Le]=Sn[255+tt+xt],ve[Ne+0]=Sn[255+ke-Xe],ve[Ne+Le]=Sn[255+Be-at]}P+=G}}function cn(k,P,B,G,Q,ne){Si(k,P,B,1,16,G,Q,ne)}function _i(k,P,B,G,Q,ne){Si(k,P,1,B,16,G,Q,ne)}function Qd(k,P,B,G,Q,ne){var le;for(le=3;0<le;--le)Oo(k,P+=4*B,B,1,16,G,Q,ne)}function L(k,P,B,G,Q,ne){var le;for(le=3;0<le;--le)Oo(k,P+=4,1,B,16,G,Q,ne)}function ee(k,P,B,G,Q,ne,le,ye){Si(k,P,Q,1,8,ne,le,ye),Si(B,G,Q,1,8,ne,le,ye)}function Ae(k,P,B,G,Q,ne,le,ye){Si(k,P,1,Q,8,ne,le,ye),Si(B,G,1,Q,8,ne,le,ye)}function Ie(k,P,B,G,Q,ne,le,ye){Oo(k,P+4*Q,Q,1,8,ne,le,ye),Oo(B,G+4*Q,Q,1,8,ne,le,ye)}function We(k,P,B,G,Q,ne,le,ye){Oo(k,P+4,1,Q,8,ne,le,ye),Oo(B,G+4,1,Q,8,ne,le,ye)}function bt(){this.ba=new ut,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Lt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ct(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function tr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ur(){this.ua=0,this.Wa=new Ue,this.vb=new Ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new Y}function kr(){this.xb=this.a=0,this.l=new nr,this.ca=new ut,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ae,this.Pb=0,this.wd=new ae,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ur,this.ab=0,this.gc=o(4,tr),this.Oc=0}function Er(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new nr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Gr(k,P,B,G,Q,ne,le){for(k=k==null?0:k[P+0],P=0;P<le;++P)Q[ne+P]=k+B[G+P]&255,k=Q[ne+P]}function Ma(k,P,B,G,Q,ne,le){var ye;if(k==null)Gr(null,null,B,G,Q,ne,le);else for(ye=0;ye<le;++ye)Q[ne+ye]=k[P+ye]+B[G+ye]&255}function fs(k,P,B,G,Q,ne,le){if(k==null)Gr(null,null,B,G,Q,ne,le);else{var ye,ve=k[P+0],Ne=ve,Le=ve;for(ye=0;ye<le;++ye)Ne=Le+(ve=k[P+ye])-Ne,Le=B[G+ye]+(-256&Ne?0>Ne?0:255:Ne)&255,Ne=ve,Q[ne+ye]=Le}}function wa(k,P,B,G){var Q=P.width,ne=P.o;if(r(k!=null&&P!=null),0>B||0>=G||B+G>ne)return null;if(!k.Cc){if(k.ga==null){var le;if(k.ga=new Er,(le=k.ga==null)||(le=P.width*P.o,r(k.Gb.length==0),k.Gb=i(le),k.Uc=0,k.Gb==null?le=0:(k.mb=k.Gb,k.nb=k.Uc,k.rc=null,le=1),le=!le),!le){le=k.ga;var ye=k.Fa,ve=k.P,Ne=k.qc,Le=k.mb,tt=k.nb,ke=ve+1,Be=Ne-1,Xe=le.l;if(r(ye!=null&&Le!=null&&P!=null),dn[0]=null,dn[1]=Gr,dn[2]=Ma,dn[3]=fs,le.ca=Le,le.tb=tt,le.c=P.width,le.i=P.height,r(0<le.c&&0<le.i),1>=Ne)P=0;else if(le.$a=3&ye[ve+0],le.Z=ye[ve+0]>>2&3,le.Lc=ye[ve+0]>>4&3,ve=ye[ve+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||ve)P=0;else if(Xe.put=ze,Xe.ac=De,Xe.bc=st,Xe.ma=le,Xe.width=P.width,Xe.height=P.height,Xe.Da=P.Da,Xe.v=P.v,Xe.va=P.va,Xe.j=P.j,Xe.o=P.o,le.$a)e:{r(le.$a==1),P=Pa();t:for(;;){if(P==null){P=0;break e}if(r(le!=null),le.mc=P,P.c=le.c,P.i=le.i,P.l=le.l,P.l.ma=le,P.l.width=le.c,P.l.height=le.i,P.a=0,X(P.m,ye,ke,Be),!Fs(le.c,le.i,1,P,null)||(P.ab==1&&P.gc[0].hc==3&&gr(P.s)?(le.ic=1,ye=P.c*P.i,P.Ta=null,P.Ua=0,P.V=i(ye),P.Ba=0,P.V==null?(P.a=1,P=0):P=1):(le.ic=0,P=Xi(P,le.c)),!P))break t;P=1;break e}le.mc=null,P=0}else P=Be>=le.c*le.i;le=!P}if(le)return null;k.ga.Lc!=1?k.Ga=0:G=ne-B}r(k.ga!=null),r(B+G<=ne);e:{if(P=(ye=k.ga).c,ne=ye.l.o,ye.$a==0){if(ke=k.rc,Be=k.Vc,Xe=k.Fa,ve=k.P+1+B*P,Ne=k.mb,Le=k.nb+B*P,r(ve<=k.P+k.qc),ye.Z!=0)for(r(dn[ye.Z]!=null),le=0;le<G;++le)dn[ye.Z](ke,Be,Xe,ve,Ne,Le,P),ke=Ne,Be=Le,Le+=P,ve+=P;else for(le=0;le<G;++le)s(Ne,Le,Xe,ve,P),ke=Ne,Be=Le,Le+=P,ve+=P;k.rc=ke,k.Vc=Be}else{if(r(ye.mc!=null),P=B+G,r((le=ye.mc)!=null),r(P<=le.i),le.C>=P)P=1;else if(ye.ic||eo(),ye.ic){ye=le.V,ke=le.Ba,Be=le.c;var xt=le.i,at=(Xe=1,ve=le.$/Be,Ne=le.$%Be,Le=le.m,tt=le.s,le.$),ht=Be*xt,pt=Be*P,wt=tt.wc,St=at<pt?Pe(tt,Ne,ve):null;r(at<=ht),r(P<=xt),r(gr(tt));t:for(;;){for(;!Le.h&&at<pt;){if(Ne&wt||(St=Pe(tt,Ne,ve)),r(St!=null),we(Le),256>(xt=Ot(St.G[0],St.H[0],Le)))ye[ke+at]=xt,++at,++Ne>=Be&&(Ne=0,++ve<=P&&!(ve%16)&&ea(le,ve));else{if(!(280>xt)){Xe=0;break t}xt=He(xt-256,Le);var hr,Jt=Ot(St.G[4],St.H[4],Le);if(we(Le),!(at>=(Jt=Mt(Be,Jt=He(Jt,Le)))&&ht-at>=xt)){Xe=0;break t}for(hr=0;hr<xt;++hr)ye[ke+at+hr]=ye[ke+at+hr-Jt];for(at+=xt,Ne+=xt;Ne>=Be;)Ne-=Be,++ve<=P&&!(ve%16)&&ea(le,ve);at<pt&&Ne&wt&&(St=Pe(tt,Ne,ve))}r(Le.h==pe(Le))}ea(le,ve>P?P:ve);break t}!Xe||Le.h&&at<ht?(Xe=0,le.a=Le.h?5:3):le.$=at,P=Xe}else P=hs(le,le.V,le.Ba,le.c,le.i,P,Eo);if(!P){G=0;break e}}B+G>=ne&&(k.Cc=1),G=1}if(!G)return null;if(k.Cc&&((G=k.ga)!=null&&(G.mc=null),k.ga=null,0<k.Ga))return alert("todo:WebPDequantizeLevels"),null}return k.nb+B*Q}function Ss(k,P,B,G,Q,ne){for(;0<Q--;){var le,ye=k,ve=P+(B?1:0),Ne=k,Le=P+(B?0:3);for(le=0;le<G;++le){var tt=Ne[Le+4*le];tt!=255&&(tt*=32897,ye[ve+4*le+0]=ye[ve+4*le+0]*tt>>23,ye[ve+4*le+1]=ye[ve+4*le+1]*tt>>23,ye[ve+4*le+2]=ye[ve+4*le+2]*tt>>23)}P+=ne}}function ts(k,P,B,G,Q){for(;0<G--;){var ne;for(ne=0;ne<B;++ne){var le=k[P+2*ne+0],ye=15&(Ne=k[P+2*ne+1]),ve=4369*ye,Ne=(240&Ne|Ne>>4)*ve>>16;k[P+2*ne+0]=(240&le|le>>4)*ve>>16&240|(15&le|le<<4)*ve>>16>>4&15,k[P+2*ne+1]=240&Ne|ye}P+=Q}}function Ys(k,P,B,G,Q,ne,le,ye){var ve,Ne,Le=255;for(Ne=0;Ne<Q;++Ne){for(ve=0;ve<G;++ve){var tt=k[P+ve];ne[le+4*ve]=tt,Le&=tt}P+=B,le+=ye}return Le!=255}function bl(k,P,B,G,Q){var ne;for(ne=0;ne<Q;++ne)B[G+ne]=k[P+ne]>>8}function eo(){Jc=Ss,uf=ts,g0=Ys,hf=bl}function vl(k,P,B){E[k]=function(G,Q,ne,le,ye,ve,Ne,Le,tt,ke,Be,Xe,xt,at,ht,pt,wt){var St,hr=wt-1>>1,Jt=ye[ve+0]|Ne[Le+0]<<16,Tr=tt[ke+0]|Be[Xe+0]<<16;r(G!=null);var rr=3*Jt+Tr+131074>>2;for(P(G[Q+0],255&rr,rr>>16,xt,at),ne!=null&&(rr=3*Tr+Jt+131074>>2,P(ne[le+0],255&rr,rr>>16,ht,pt)),St=1;St<=hr;++St){var Ur=ye[ve+St]|Ne[Le+St]<<16,Ha=tt[ke+St]|Be[Xe+St]<<16,Dr=Jt+Ur+Tr+Ha+524296,Xt=Dr+2*(Ur+Tr)>>3;rr=Xt+Jt>>1,Jt=(Dr=Dr+2*(Jt+Ha)>>3)+Ur>>1,P(G[Q+2*St-1],255&rr,rr>>16,xt,at+(2*St-1)*B),P(G[Q+2*St-0],255&Jt,Jt>>16,xt,at+(2*St-0)*B),ne!=null&&(rr=Dr+Tr>>1,Jt=Xt+Ha>>1,P(ne[le+2*St-1],255&rr,rr>>16,ht,pt+(2*St-1)*B),P(ne[le+2*St+0],255&Jt,Jt>>16,ht,pt+(2*St+0)*B)),Jt=Ur,Tr=Ha}1&wt||(rr=3*Jt+Tr+131074>>2,P(G[Q+wt-1],255&rr,rr>>16,xt,at+(wt-1)*B),ne!=null&&(rr=3*Tr+Jt+131074>>2,P(ne[le+wt-1],255&rr,rr>>16,ht,pt+(wt-1)*B)))}}function Bc(){Bn[Fh]=Dv,Bn[oc]=lc,Bn[Dg]=Iv,Bn[x0]=uu,Bn[y0]=ed,Bn[ha]=N0,Bn[$h]=wf,Bn[lu]=lc,Bn[Xc]=uu,Bn[b0]=ed,Bn[v0]=N0}function eu(k){return k&-16384?0>k?0:255:k>>cc}function Ql(k,P){return eu((19077*k>>8)+(26149*P>>8)-14234)}function Uc(k,P,B){return eu((19077*k>>8)-(6419*P>>8)-(13320*B>>8)+8708)}function ec(k,P){return eu((19077*k>>8)+(33050*P>>8)-17685)}function tc(k,P,B,G,Q){G[Q+0]=Ql(k,B),G[Q+1]=Uc(k,P,B),G[Q+2]=ec(k,P)}function Ks(k,P,B,G,Q){G[Q+0]=ec(k,P),G[Q+1]=Uc(k,P,B),G[Q+2]=Ql(k,B)}function zc(k,P,B,G,Q){var ne=Uc(k,P,B);P=ne<<3&224|ec(k,P)>>3,G[Q+0]=248&Ql(k,B)|ne>>5,G[Q+1]=P}function qc(k,P,B,G,Q){var ne=240&ec(k,P)|15;G[Q+0]=240&Ql(k,B)|Uc(k,P,B)>>4,G[Q+1]=ne}function h0(k,P,B,G,Q){G[Q+0]=255,tc(k,P,B,G,Q+1)}function m0(k,P,B,G,Q){Ks(k,P,B,G,Q),G[Q+3]=255}function kn(k,P,B,G,Q){tc(k,P,B,G,Q),G[Q+3]=255}function to(k,P,B){E[k]=function(G,Q,ne,le,ye,ve,Ne,Le,tt){for(var ke=Le+(-2&tt)*B;Le!=ke;)P(G[Q+0],ne[le+0],ye[ve+0],Ne,Le),P(G[Q+1],ne[le+0],ye[ve+0],Ne,Le+B),Q+=2,++le,++ve,Le+=2*B;1&tt&&P(G[Q+0],ne[le+0],ye[ve+0],Ne,Le)}}function Ro(k,P,B){return B==0?k==0?P==0?6:5:P==0?4:0:B}function Rh(k,P,B,G,Q){switch(k>>>30){case 3:Yc(P,B,G,Q,0);break;case 2:qa(P,B,G,Q);break;case 1:Jr(P,B,G,Q)}}function oi(k,P){var B,G,Q=P.M,ne=P.Nb,le=k.oc,ye=k.pc+40,ve=k.oc,Ne=k.pc+584,Le=k.oc,tt=k.pc+600;for(B=0;16>B;++B)le[ye+32*B-1]=129;for(B=0;8>B;++B)ve[Ne+32*B-1]=129,Le[tt+32*B-1]=129;for(0<Q?le[ye-1-32]=ve[Ne-1-32]=Le[tt-1-32]=129:(n(le,ye-32-1,127,21),n(ve,Ne-32-1,127,9),n(Le,tt-32-1,127,9)),G=0;G<k.za;++G){var ke=P.ya[P.aa+G];if(0<G){for(B=-1;16>B;++B)s(le,ye+32*B-4,le,ye+32*B+12,4);for(B=-1;8>B;++B)s(ve,Ne+32*B-4,ve,Ne+32*B+4,4),s(Le,tt+32*B-4,Le,tt+32*B+4,4)}var Be=k.Gd,Xe=k.Hd+G,xt=ke.ad,at=ke.Hc;if(0<Q&&(s(le,ye-32,Be[Xe].y,0,16),s(ve,Ne-32,Be[Xe].f,0,8),s(Le,tt-32,Be[Xe].ea,0,8)),ke.Za){var ht=le,pt=ye-32+16;for(0<Q&&(G>=k.za-1?n(ht,pt,Be[Xe].y[15],4):s(ht,pt,Be[Xe+1].y,0,4)),B=0;4>B;B++)ht[pt+128+B]=ht[pt+256+B]=ht[pt+384+B]=ht[pt+0+B];for(B=0;16>B;++B,at<<=2)ht=le,pt=ye+jf[B],Pi[ke.Ob[B]](ht,pt),Rh(at,xt,16*+B,ht,pt)}else if(ht=Ro(G,Q,ke.Ob[0]),_n[ht](le,ye),at!=0)for(B=0;16>B;++B,at<<=2)Rh(at,xt,16*+B,le,ye+jf[B]);for(B=ke.Gc,ht=Ro(G,Q,ke.Dd),$n[ht](ve,Ne),$n[ht](Le,tt),at=xt,ht=ve,pt=Ne,255&(ke=0|B)&&(170&ke?Fn(at,256,ht,pt):la(at,256,ht,pt)),ke=Le,at=tt,255&(B>>=8)&&(170&B?Fn(xt,320,ke,at):la(xt,320,ke,at)),Q<k.Ub-1&&(s(Be[Xe].y,0,le,ye+480,16),s(Be[Xe].f,0,ve,Ne+224,8),s(Be[Xe].ea,0,Le,tt+224,8)),B=8*ne*k.B,Be=k.sa,Xe=k.ta+16*G+16*ne*k.R,xt=k.qa,ke=k.ra+8*G+B,at=k.Ha,ht=k.Ia+8*G+B,B=0;16>B;++B)s(Be,Xe+B*k.R,le,ye+32*B,16);for(B=0;8>B;++B)s(xt,ke+B*k.B,ve,Ne+32*B,8),s(at,ht+B*k.B,Le,tt+32*B,8)}}function rc(k,P,B,G,Q,ne,le,ye,ve){var Ne=[0],Le=[0],tt=0,ke=ve!=null?ve.kd:0,Be=ve??new Ct;if(k==null||12>B)return 7;Be.data=k,Be.w=P,Be.ha=B,P=[P],B=[B],Be.gb=[Be.gb];e:{var Xe=P,xt=B,at=Be.gb;if(r(k!=null),r(xt!=null),r(at!=null),at[0]=0,12<=xt[0]&&!a(k,Xe[0],"RIFF")){if(a(k,Xe[0]+8,"WEBP")){at=3;break e}var ht=Ze(k,Xe[0]+4);if(12>ht||4294967286<ht){at=3;break e}if(ke&&ht>xt[0]-8){at=7;break e}at[0]=ht,Xe[0]+=12,xt[0]-=12}at=0}if(at!=0)return at;for(ht=0<Be.gb[0],B=B[0];;){e:{var pt=k;xt=P,at=B;var wt=Ne,St=Le,hr=Xe=[0];if((rr=tt=[tt])[0]=0,8>at[0])at=7;else{if(!a(pt,xt[0],"VP8X")){if(Ze(pt,xt[0]+4)!=10){at=3;break e}if(18>at[0]){at=7;break e}var Jt=Ze(pt,xt[0]+8),Tr=1+ot(pt,xt[0]+12);if(2147483648<=Tr*(pt=1+ot(pt,xt[0]+15))){at=3;break e}hr!=null&&(hr[0]=Jt),wt!=null&&(wt[0]=Tr),St!=null&&(St[0]=pt),xt[0]+=18,at[0]-=18,rr[0]=1}at=0}}if(tt=tt[0],Xe=Xe[0],at!=0)return at;if(xt=!!(2&Xe),!ht&&tt)return 3;if(ne!=null&&(ne[0]=!!(16&Xe)),le!=null&&(le[0]=xt),ye!=null&&(ye[0]=0),le=Ne[0],Xe=Le[0],tt&&xt&&ve==null){at=0;break}if(4>B){at=7;break}if(ht&&tt||!ht&&!tt&&!a(k,P[0],"ALPH")){B=[B],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{Jt=k,at=P,ht=B;var rr=Be.gb;wt=Be.na,St=Be.P,hr=Be.Sa,Tr=22,r(Jt!=null),r(ht!=null),pt=at[0];var Ur=ht[0];for(r(wt!=null),r(hr!=null),wt[0]=null,St[0]=null,hr[0]=0;;){if(at[0]=pt,ht[0]=Ur,8>Ur){at=7;break e}var Ha=Ze(Jt,pt+4);if(4294967286<Ha){at=3;break e}var Dr=8+Ha+1&-2;if(Tr+=Dr,0<rr&&Tr>rr){at=3;break e}if(!a(Jt,pt,"VP8 ")||!a(Jt,pt,"VP8L")){at=0;break e}if(Ur[0]<Dr){at=7;break e}a(Jt,pt,"ALPH")||(wt[0]=Jt,St[0]=pt+8,hr[0]=Ha),pt+=Dr,Ur-=Dr}}if(B=B[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],at!=0)break}B=[B],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(rr=k,at=P,ht=B,wt=Be.gb[0],St=Be.Ja,hr=Be.xa,Jt=at[0],pt=!a(rr,Jt,"VP8 "),Tr=!a(rr,Jt,"VP8L"),r(rr!=null),r(ht!=null),r(St!=null),r(hr!=null),8>ht[0])at=7;else{if(pt||Tr){if(rr=Ze(rr,Jt+4),12<=wt&&rr>wt-12){at=3;break e}if(ke&&rr>ht[0]-8){at=7;break e}St[0]=rr,at[0]+=8,ht[0]-=8,hr[0]=Tr}else hr[0]=5<=ht[0]&&rr[Jt+0]==47&&!(rr[Jt+4]>>5),St[0]=ht[0];at=0}if(B=B[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],P=P[0],at!=0)break;if(4294967286<Be.Ja)return 3;if(ye==null||xt||(ye[0]=Be.xa?2:1),le=[le],Xe=[Xe],Be.xa){if(5>B){at=7;break}ye=le,ke=Xe,xt=ne,k==null||5>B?k=0:5<=B&&k[P+0]==47&&!(k[P+4]>>5)?(ht=[0],rr=[0],wt=[0],X(St=new ae,k,P,B),Nt(St,ht,rr,wt)?(ye!=null&&(ye[0]=ht[0]),ke!=null&&(ke[0]=rr[0]),xt!=null&&(xt[0]=wt[0]),k=1):k=0):k=0}else{if(10>B){at=7;break}ye=Xe,k==null||10>B||!ta(k,P+3,B-3)?k=0:(ke=k[P+0]|k[P+1]<<8|k[P+2]<<16,xt=16383&(k[P+7]<<8|k[P+6]),k=16383&(k[P+9]<<8|k[P+8]),1&ke||3<(ke>>1&7)||!(ke>>4&1)||ke>>5>=Be.Ja||!xt||!k?k=0:(le&&(le[0]=xt),ye&&(ye[0]=k),k=1))}if(!k||(le=le[0],Xe=Xe[0],tt&&(Ne[0]!=le||Le[0]!=Xe)))return 3;ve!=null&&(ve[0]=Be,ve.offset=P-ve.w,r(4294967286>P-ve.w),r(ve.offset==ve.ha-B));break}return at==0||at==7&&tt&&ve==null?(ne!=null&&(ne[0]|=Be.na!=null&&0<Be.na.length),G!=null&&(G[0]=le),Q!=null&&(Q[0]=Xe),0):at}function tu(k,P,B){var G=P.width,Q=P.height,ne=0,le=0,ye=G,ve=Q;if(P.Da=k!=null&&0<k.Da,P.Da&&(ye=k.cd,ve=k.bd,ne=k.v,le=k.j,11>B||(ne&=-2,le&=-2),0>ne||0>le||0>=ye||0>=ve||ne+ye>G||le+ve>Q))return 0;if(P.v=ne,P.j=le,P.va=ne+ye,P.o=le+ve,P.U=ye,P.T=ve,P.da=k!=null&&0<k.da,P.da){if(!Ge(ye,ve,B=[k.ib],ne=[k.hb]))return 0;P.ib=B[0],P.hb=ne[0]}return P.ob=k!=null&&k.ob,P.Kb=k==null||!k.Sd,P.da&&(P.ob=P.ib<3*G/4&&P.hb<3*Q/4,P.Kb=0),1}function ru(k){if(k==null)return 2;if(11>k.S){var P=k.f.RGBA;P.fb+=(k.height-1)*P.A,P.A=-P.A}else P=k.f.kb,k=k.height,P.O+=(k-1)*P.fa,P.fa=-P.fa,P.N+=(k-1>>1)*P.Ab,P.Ab=-P.Ab,P.W+=(k-1>>1)*P.Db,P.Db=-P.Db,P.F!=null&&(P.J+=(k-1)*P.lb,P.lb=-P.lb);return 0}function wl(k,P,B,G){if(G==null||0>=k||0>=P)return 2;if(B!=null){if(B.Da){var Q=B.cd,ne=B.bd,le=-2&B.v,ye=-2&B.j;if(0>le||0>ye||0>=Q||0>=ne||le+Q>k||ye+ne>P)return 2;k=Q,P=ne}if(B.da){if(!Ge(k,P,Q=[B.ib],ne=[B.hb]))return 2;k=Q[0],P=ne[0]}}G.width=k,G.height=P;e:{var ve=G.width,Ne=G.height;if(k=G.S,0>=ve||0>=Ne||!(k>=Fh&&13>k))k=2;else{if(0>=G.Rd&&G.sd==null){le=ne=Q=P=0;var Le=(ye=ve*k0[k])*Ne;if(11>k||(ne=(Ne+1)/2*(P=(ve+1)/2),k==12&&(le=(Q=ve)*Ne)),(Ne=i(Le+2*ne+le))==null){k=1;break e}G.sd=Ne,11>k?((ve=G.f.RGBA).eb=Ne,ve.fb=0,ve.A=ye,ve.size=Le):((ve=G.f.kb).y=Ne,ve.O=0,ve.fa=ye,ve.Fd=Le,ve.f=Ne,ve.N=0+Le,ve.Ab=P,ve.Cd=ne,ve.ea=Ne,ve.W=0+Le+ne,ve.Db=P,ve.Ed=ne,k==12&&(ve.F=Ne,ve.J=0+Le+2*ne),ve.Tc=le,ve.lb=Q)}if(P=1,Q=G.S,ne=G.width,le=G.height,Q>=Fh&&13>Q)if(11>Q)k=G.f.RGBA,P&=(ye=Math.abs(k.A))*(le-1)+ne<=k.size,P&=ye>=ne*k0[Q],P&=k.eb!=null;else{k=G.f.kb,ye=(ne+1)/2,Le=(le+1)/2,ve=Math.abs(k.fa),Ne=Math.abs(k.Ab);var tt=Math.abs(k.Db),ke=Math.abs(k.lb),Be=ke*(le-1)+ne;P&=ve*(le-1)+ne<=k.Fd,P&=Ne*(Le-1)+ye<=k.Cd,P=(P&=tt*(Le-1)+ye<=k.Ed)&ve>=ne&Ne>=ye&tt>=ye,P&=k.y!=null,P&=k.f!=null,P&=k.ea!=null,Q==12&&(P&=ke>=ne,P&=Be<=k.Tc,P&=k.F!=null)}else P=0;k=P?0:2}}return k!=0||B!=null&&B.fd&&(k=ru(G)),k}var Ai=64,li=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ci=24,ac=32,Lo=8,jl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(k){return k},E.Predictor2=function(k,P,B){return P[B+0]},E.Predictor3=function(k,P,B){return P[B+1]},E.Predictor4=function(k,P,B){return P[B-1]},E.Predictor5=function(k,P,B){return Je(Je(k,P[B+1]),P[B+0])},E.Predictor6=function(k,P,B){return Je(k,P[B-1])},E.Predictor7=function(k,P,B){return Je(k,P[B+0])},E.Predictor8=function(k,P,B){return Je(P[B-1],P[B+0])},E.Predictor9=function(k,P,B){return Je(P[B+0],P[B+1])},E.Predictor10=function(k,P,B){return Je(Je(k,P[B-1]),Je(P[B+0],P[B+1]))},E.Predictor11=function(k,P,B){var G=P[B+0];return 0>=ue(G>>24&255,k>>24&255,(P=P[B-1])>>24&255)+ue(G>>16&255,k>>16&255,P>>16&255)+ue(G>>8&255,k>>8&255,P>>8&255)+ue(255&G,255&k,255&P)?G:k},E.Predictor12=function(k,P,B){var G=P[B+0];return(H((k>>24&255)+(G>>24&255)-((P=P[B-1])>>24&255))<<24|H((k>>16&255)+(G>>16&255)-(P>>16&255))<<16|H((k>>8&255)+(G>>8&255)-(P>>8&255))<<8|H((255&k)+(255&G)-(255&P)))>>>0},E.Predictor13=function(k,P,B){var G=P[B-1];return(de((k=Je(k,P[B+0]))>>24&255,G>>24&255)<<24|de(k>>16&255,G>>16&255)<<16|de(k>>8&255,G>>8&255)<<8|de(255&k,255&G))>>>0};var Nl=E.PredictorAdd0;E.PredictorAdd1=me,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var Mo=E.PredictorAdd2;it("ColorIndexInverseTransform","MapARGB","32b",function(k){return k>>8&255},function(k){return k}),it("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(k){return k},function(k){return k>>8&255});var rs,Vc=E.ColorIndexInverseTransform,Fo=E.MapARGB,ro=E.VP8LColorIndexInverseTransformAlpha,Hc=E.MapAlpha,Wc=E.VP8LPredictorsAdd=[];Wc.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var au,su,kl,sc,nc,Gc,ic,Yc,qa,Fn,Jr,la,Va,ps,ao,f0,nu,Sl,Lh,iu,Mh,df,p0,Kc,Jc,uf,g0,hf,mf=i(511),ff=i(2041),pf=i(225),gf=i(767),xf=0,$o=ff,ou=pf,Sn=gf,Ci=mf,Fh=0,oc=1,Dg=2,x0=3,y0=4,ha=5,$h=6,lu=7,Xc=8,b0=9,v0=10,w0=[2,3,7],Bh=[3,3,11],Zc=[280,256,256,256,40],Ig=[0,1,1,1,0],Cv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Pv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Og=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Uh=8,cu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],j0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qc=null,yf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Rg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Lg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ev=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Tv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],vf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_n=[],Pi=[],$n=[],Bo=1,du=2,dn=[],Bn=[];vl("UpsampleRgbLinePair",tc,3),vl("UpsampleBgrLinePair",Ks,3),vl("UpsampleRgbaLinePair",kn,4),vl("UpsampleBgraLinePair",m0,4),vl("UpsampleArgbLinePair",h0,4),vl("UpsampleRgba4444LinePair",qc,2),vl("UpsampleRgb565LinePair",zc,2);var Dv=E.UpsampleRgbLinePair,Iv=E.UpsampleBgrLinePair,lc=E.UpsampleRgbaLinePair,uu=E.UpsampleBgraLinePair,ed=E.UpsampleArgbLinePair,N0=E.UpsampleRgba4444LinePair,wf=E.UpsampleRgb565LinePair,_l=16,so=1<<_l-1,oa=-227,ca=482,cc=6,Js=0,Un=i(256),td=i(256),hu=i(256),zn=i(256),zh=i(ca-oa),Mg=i(ca-oa);to("YuvToRgbRow",tc,3),to("YuvToBgrRow",Ks,3),to("YuvToRgbaRow",kn,4),to("YuvToBgraRow",m0,4),to("YuvToArgbRow",h0,4),to("YuvToRgba4444Row",qc,2),to("YuvToRgb565Row",zc,2);var jf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],rd=[0,2,8],Fg=[8,7,6,4,4,2,2,2,1,1,1,1],Al=1;this.WebPDecodeRGBA=function(k,P,B,G,Q){var ne=oc,le=new bt,ye=new ut;le.ba=ye,ye.S=ne,ye.width=[ye.width],ye.height=[ye.height];var ve=ye.width,Ne=ye.height,Le=new Tt;if(Le==null||k==null)var tt=2;else r(Le!=null),tt=rc(k,P,B,Le.width,Le.height,Le.Pd,Le.Qd,Le.format,null);if(tt!=0?ve=0:(ve!=null&&(ve[0]=Le.width[0]),Ne!=null&&(Ne[0]=Le.height[0]),ve=1),ve){ye.width=ye.width[0],ye.height=ye.height[0],G!=null&&(G[0]=ye.width),Q!=null&&(Q[0]=ye.height);e:{if(G=new nr,(Q=new Ct).data=k,Q.w=P,Q.ha=B,Q.kd=1,P=[0],r(Q!=null),((k=rc(Q.data,Q.w,Q.ha,null,null,null,P,null,Q))==0||k==7)&&P[0]&&(k=4),(P=k)==0){if(r(le!=null),G.data=Q.data,G.w=Q.w+Q.offset,G.ha=Q.ha-Q.offset,G.put=ze,G.ac=De,G.bc=st,G.ma=le,Q.xa){if((k=Pa())==null){le=1;break e}if((function(ke,Be){var Xe=[0],xt=[0],at=[0];t:for(;;){if(ke==null)return 0;if(Be==null)return ke.a=2,0;if(ke.l=Be,ke.a=0,X(ke.m,Be.data,Be.w,Be.ha),!Nt(ke.m,Xe,xt,at)){ke.a=3;break t}if(ke.xb=du,Be.width=Xe[0],Be.height=xt[0],!Fs(Xe[0],xt[0],1,ke,null))break t;return 1}return r(ke.a!=0),0})(k,G)){if(G=(P=wl(G.width,G.height,le.Oa,le.ba))==0){t:{G=k;r:for(;;){if(G==null){G=0;break t}if(r(G.s.yc!=null),r(G.s.Ya!=null),r(0<G.s.Wb),r((B=G.l)!=null),r((Q=B.ma)!=null),G.xb!=0){if(G.ca=Q.ba,G.tb=Q.tb,r(G.ca!=null),!tu(Q.Oa,B,x0)){G.a=2;break r}if(!Xi(G,B.width)||B.da)break r;if((B.da||Bt(G.ca.S))&&eo(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&eo()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!Z(G.s.vb,G.s.Wa.Xa)){G.a=1;break r}G.xb=0}if(!hs(G,G.V,G.Ba,G.c,G.i,B.o,yt))break r;Q.Dc=G.Ma,G=1;break t}r(G.a!=0),G=0}G=!G}G&&(P=k.a)}else P=k.a}else{if((k=new Rt)==null){le=1;break e}if(k.Fa=Q.na,k.P=Q.P,k.qc=Q.Sa,qr(k,G)){if((P=wl(G.width,G.height,le.Oa,le.ba))==0){if(k.Aa=0,B=le.Oa,r((Q=k)!=null),B!=null){if(0<(ve=0>(ve=B.Md)?0:100<ve?255:255*ve/100)){for(Ne=Le=0;4>Ne;++Ne)12>(tt=Q.pb[Ne]).lc&&(tt.ia=ve*Fg[0>tt.lc?0:tt.lc]>>3),Le|=tt.ia;Le&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=B.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}(function(ke,Be){if(ke==null)return 0;if(Be==null)return wr(ke,2,"NULL VP8Io parameter in VP8Decode().");if(!ke.cb&&!qr(ke,Be))return 0;if(r(ke.cb),Be.ac==null||Be.ac(Be)){Be.ob&&(ke.L=0);var Xe=rd[ke.L];if(ke.L==2?(ke.yb=0,ke.zb=0):(ke.yb=Be.v-Xe>>4,ke.zb=Be.j-Xe>>4,0>ke.yb&&(ke.yb=0),0>ke.zb&&(ke.zb=0)),ke.Va=Be.o+15+Xe>>4,ke.Hb=Be.va+15+Xe>>4,ke.Hb>ke.za&&(ke.Hb=ke.za),ke.Va>ke.Ub&&(ke.Va=ke.Ub),0<ke.L){var xt=ke.ed;for(Xe=0;4>Xe;++Xe){var at;if(ke.Qa.Cb){var ht=ke.Qa.Lb[Xe];ke.Qa.Fb||(ht+=xt.Tb)}else ht=xt.Tb;for(at=0;1>=at;++at){var pt=ke.gd[Xe][at],wt=ht;if(xt.Pc&&(wt+=xt.vd[0],at&&(wt+=xt.od[0])),0<(wt=0>wt?0:63<wt?63:wt)){var St=wt;0<xt.wb&&(St=4<xt.wb?St>>2:St>>1)>9-xt.wb&&(St=9-xt.wb),1>St&&(St=1),pt.dd=St,pt.tc=2*wt+St,pt.ld=40<=wt?2:15<=wt?1:0}else pt.tc=0;pt.La=at}}}Xe=0}else wr(ke,6,"Frame setup failed"),Xe=ke.a;if(Xe=Xe==0){if(Xe){ke.$c=0,0<ke.Aa||(ke.Ic=Al);t:{Xe=ke.Ic,xt=4*(St=ke.za);var hr=32*St,Jt=St+1,Tr=0<ke.L?St*(0<ke.Aa?2:1):0,rr=(ke.Aa==2?2:1)*St;if((pt=xt+832+(at=3*(16*Xe+rd[ke.L])/2*hr)+(ht=ke.Fa!=null&&0<ke.Fa.length?ke.Kc.c*ke.Kc.i:0))!=pt)Xe=0;else{if(pt>ke.Vb){if(ke.Vb=0,ke.Ec=i(pt),ke.Fc=0,ke.Ec==null){Xe=wr(ke,1,"no memory during frame initialization.");break t}ke.Vb=pt}pt=ke.Ec,wt=ke.Fc,ke.Ac=pt,ke.Bc=wt,wt+=xt,ke.Gd=o(hr,he),ke.Hd=0,ke.rb=o(Jt+1,Zi),ke.sb=1,ke.wa=Tr?o(Tr,jn):null,ke.Y=0,ke.D.Nb=0,ke.D.wa=ke.wa,ke.D.Y=ke.Y,0<ke.Aa&&(ke.D.Y+=St),r(!0),ke.oc=pt,ke.pc=wt,wt+=832,ke.ya=o(rr,Jl),ke.aa=0,ke.D.ya=ke.ya,ke.D.aa=ke.aa,ke.Aa==2&&(ke.D.aa+=St),ke.R=16*St,ke.B=8*St,St=(hr=rd[ke.L])*ke.R,hr=hr/2*ke.B,ke.sa=pt,ke.ta=wt+St,ke.qa=ke.sa,ke.ra=ke.ta+16*Xe*ke.R+hr,ke.Ha=ke.qa,ke.Ia=ke.ra+8*Xe*ke.B+hr,ke.$c=0,wt+=at,ke.mb=ht?pt:null,ke.nb=ht?wt:null,r(wt+ht<=ke.Fc+ke.Vb),wi(ke),n(ke.Ac,ke.Bc,0,xt),Xe=1}}if(Xe){if(Be.ka=0,Be.y=ke.sa,Be.O=ke.ta,Be.f=ke.qa,Be.N=ke.ra,Be.ea=ke.Ha,Be.Vd=ke.Ia,Be.fa=ke.R,Be.Rc=ke.B,Be.F=null,Be.J=0,!xf){for(Xe=-255;255>=Xe;++Xe)mf[255+Xe]=0>Xe?-Xe:Xe;for(Xe=-1020;1020>=Xe;++Xe)ff[1020+Xe]=-128>Xe?-128:127<Xe?127:Xe;for(Xe=-112;112>=Xe;++Xe)pf[112+Xe]=-16>Xe?-16:15<Xe?15:Xe;for(Xe=-255;510>=Xe;++Xe)gf[255+Xe]=0>Xe?0:255<Xe?255:Xe;xf=1}ic=Ic,Yc=Dc,Fn=To,Jr=Gd,la=Kr,qa=i0,Va=cn,ps=_i,ao=ee,f0=Ae,nu=Qd,Sl=L,Lh=Ie,iu=We,Mh=yl,df=Zl,p0=u0,Kc=$c,Pi[0]=Ih,Pi[1]=o0,Pi[2]=Io,Pi[3]=cf,Pi[4]=ii,Pi[5]=Oh,Pi[6]=xl,Pi[7]=Jd,Pi[8]=l0,Pi[9]=Rc,_n[0]=Do,_n[1]=Dh,_n[2]=Yd,_n[3]=Kd,_n[4]=Ln,_n[5]=ji,_n[6]=Oc,$n[0]=Xd,$n[1]=Th,$n[2]=Qi,$n[3]=Lc,$n[4]=d0,$n[5]=c0,$n[6]=Zd,Xe=1}else Xe=0}Xe&&(Xe=(function(Ur,Ha){for(Ur.M=0;Ur.M<Ur.Va;++Ur.M){var Dr,Xt=Ur.Jc[Ur.M&Ur.Xb],zt=Ur.m,as=Ur;for(Dr=0;Dr<as.za;++Dr){var jr=zt,$r=as,ja=$r.Ac,$s=$r.Bc+4*Dr,gs=$r.zc,Fa=$r.ya[$r.aa+Dr];if($r.Qa.Bb?Fa.$b=xe(jr,$r.Pa.jb[0])?2+xe(jr,$r.Pa.jb[2]):xe(jr,$r.Pa.jb[1]):Fa.$b=0,$r.kc&&(Fa.Ad=xe(jr,$r.Bd)),Fa.Za=!xe(jr,145)+0,Fa.Za){var _s=Fa.Ob,Bs=0;for($r=0;4>$r;++$r){var Ea,Vr=gs[0+$r];for(Ea=0;4>Ea;++Ea){Vr=Ev[ja[$s+Ea]][Vr];for(var Xr=Rg[xe(jr,Vr[0])];0<Xr;)Xr=Rg[2*Xr+xe(jr,Vr[Xr])];Vr=-Xr,ja[$s+Ea]=Vr}s(_s,Bs,ja,$s,4),Bs+=4,gs[0+$r]=Vr}}else Vr=xe(jr,156)?xe(jr,128)?1:3:xe(jr,163)?2:0,Fa.Ob[0]=Vr,n(ja,$s,Vr,4),n(gs,0,Vr,4);Fa.Dd=xe(jr,142)?xe(jr,114)?xe(jr,183)?1:3:2:0}if(as.m.Ka)return wr(Ur,7,"Premature end-of-partition0 encountered.");for(;Ur.ja<Ur.za;++Ur.ja){if(as=Xt,jr=(zt=Ur).rb[zt.sb-1],ja=zt.rb[zt.sb+zt.ja],Dr=zt.ya[zt.aa+zt.ja],$s=zt.kc?Dr.Ad:0)jr.la=ja.la=0,Dr.Za||(jr.Na=ja.Na=0),Dr.Hc=0,Dr.Gc=0,Dr.ia=0;else{var Ta,Zr;if(jr=ja,ja=as,$s=zt.Pa.Xc,gs=zt.ya[zt.aa+zt.ja],Fa=zt.pb[gs.$b],$r=gs.ad,_s=0,Bs=zt.rb[zt.sb-1],Vr=Ea=0,n($r,_s,0,384),gs.Za)var Wa=0,Ga=$s[3];else{Xr=i(16);var ma=jr.Na+Bs.Na;if(ma=Qc(ja,$s[1],ma,Fa.Eb,0,Xr,0),jr.Na=Bs.Na=(0<ma)+0,1<ma)ic(Xr,0,$r,_s);else{var un=Xr[0]+3>>3;for(Xr=0;256>Xr;Xr+=16)$r[_s+Xr]=un}Wa=1,Ga=$s[0]}var da=15&jr.la,fa=15&Bs.la;for(Xr=0;4>Xr;++Xr){var xs=1&fa;for(un=Zr=0;4>un;++un)da=da>>1|(xs=(ma=Qc(ja,Ga,ma=xs+(1&da),Fa.Sc,Wa,$r,_s))>Wa)<<7,Zr=Zr<<2|(3<ma?3:1<ma?2:$r[_s+0]!=0),_s+=16;da>>=4,fa=fa>>1|xs<<7,Ea=(Ea<<8|Zr)>>>0}for(Ga=da,Wa=fa>>4,Ta=0;4>Ta;Ta+=2){for(Zr=0,da=jr.la>>4+Ta,fa=Bs.la>>4+Ta,Xr=0;2>Xr;++Xr){for(xs=1&fa,un=0;2>un;++un)ma=xs+(1&da),da=da>>1|(xs=0<(ma=Qc(ja,$s[2],ma,Fa.Qc,0,$r,_s)))<<3,Zr=Zr<<2|(3<ma?3:1<ma?2:$r[_s+0]!=0),_s+=16;da>>=2,fa=fa>>1|xs<<5}Vr|=Zr<<4*Ta,Ga|=da<<4<<Ta,Wa|=(240&fa)<<Ta}jr.la=Ga,Bs.la=Wa,gs.Hc=Ea,gs.Gc=Vr,gs.ia=43690&Vr?0:Fa.ia,$s=!(Ea|Vr)}if(0<zt.L&&(zt.wa[zt.Y+zt.ja]=zt.gd[Dr.$b][Dr.Za],zt.wa[zt.Y+zt.ja].La|=!$s),as.Ka)return wr(Ur,7,"Premature end-of-file encountered.")}if(wi(Ur),zt=Ha,as=1,Dr=(Xt=Ur).D,jr=0<Xt.L&&Xt.M>=Xt.zb&&Xt.M<=Xt.Va,Xt.Aa==0)t:{if(Dr.M=Xt.M,Dr.uc=jr,oi(Xt,Dr),as=1,Dr=(Zr=Xt.D).Nb,jr=(Vr=rd[Xt.L])*Xt.R,ja=Vr/2*Xt.B,Xr=16*Dr*Xt.R,un=8*Dr*Xt.B,$s=Xt.sa,gs=Xt.ta-jr+Xr,Fa=Xt.qa,$r=Xt.ra-ja+un,_s=Xt.Ha,Bs=Xt.Ia-ja+un,fa=(da=Zr.M)==0,Ea=da>=Xt.Va-1,Xt.Aa==2&&oi(Xt,Zr),Zr.uc)for(xs=(ma=Xt).D.M,r(ma.D.uc),Zr=ma.yb;Zr<ma.Hb;++Zr){Wa=Zr,Ga=xs;var Xs=(qn=(is=ma).D).Nb;Ta=is.R;var qn=qn.wa[qn.Y+Wa],ss=is.sa,ns=is.ta+16*Xs*Ta+16*Wa,hn=qn.dd,pa=qn.tc;if(pa!=0)if(r(3<=pa),is.L==1)0<Wa&&df(ss,ns,Ta,pa+4),qn.La&&Kc(ss,ns,Ta,pa),0<Ga&&Mh(ss,ns,Ta,pa+4),qn.La&&p0(ss,ns,Ta,pa);else{var mn=is.B,Ei=is.qa,no=is.ra+8*Xs*mn+8*Wa,Us=is.Ha,is=is.Ia+8*Xs*mn+8*Wa;Xs=qn.ld,0<Wa&&(ps(ss,ns,Ta,pa+4,hn,Xs),f0(Ei,no,Us,is,mn,pa+4,hn,Xs)),qn.La&&(Sl(ss,ns,Ta,pa,hn,Xs),iu(Ei,no,Us,is,mn,pa,hn,Xs)),0<Ga&&(Va(ss,ns,Ta,pa+4,hn,Xs),ao(Ei,no,Us,is,mn,pa+4,hn,Xs)),qn.La&&(nu(ss,ns,Ta,pa,hn,Xs),Lh(Ei,no,Us,is,mn,pa,hn,Xs))}}if(Xt.ia&&alert("todo:DitherRow"),zt.put!=null){if(Zr=16*da,da=16*(da+1),fa?(zt.y=Xt.sa,zt.O=Xt.ta+Xr,zt.f=Xt.qa,zt.N=Xt.ra+un,zt.ea=Xt.Ha,zt.W=Xt.Ia+un):(Zr-=Vr,zt.y=$s,zt.O=gs,zt.f=Fa,zt.N=$r,zt.ea=_s,zt.W=Bs),Ea||(da-=Vr),da>zt.o&&(da=zt.o),zt.F=null,zt.J=null,Xt.Fa!=null&&0<Xt.Fa.length&&Zr<da&&(zt.J=wa(Xt,zt,Zr,da-Zr),zt.F=Xt.mb,zt.F==null&&zt.F.length==0)){as=wr(Xt,3,"Could not decode alpha data.");break t}Zr<zt.j&&(Vr=zt.j-Zr,Zr=zt.j,r(!(1&Vr)),zt.O+=Xt.R*Vr,zt.N+=Xt.B*(Vr>>1),zt.W+=Xt.B*(Vr>>1),zt.F!=null&&(zt.J+=zt.width*Vr)),Zr<da&&(zt.O+=zt.v,zt.N+=zt.v>>1,zt.W+=zt.v>>1,zt.F!=null&&(zt.J+=zt.v),zt.ka=Zr-zt.j,zt.U=zt.va-zt.v,zt.T=da-Zr,as=zt.put(zt))}Dr+1!=Xt.Ic||Ea||(s(Xt.sa,Xt.ta-jr,$s,gs+16*Xt.R,jr),s(Xt.qa,Xt.ra-ja,Fa,$r+8*Xt.B,ja),s(Xt.Ha,Xt.Ia-ja,_s,Bs+8*Xt.B,ja))}if(!as)return wr(Ur,6,"Output aborted.")}return 1})(ke,Be)),Be.bc!=null&&Be.bc(Be),Xe&=1}return Xe?(ke.cb=0,Xe):0})(k,G)||(P=k.a)}}else P=k.a}P==0&&le.Oa!=null&&le.Oa.fd&&(P=ru(le.ba))}le=P}ne=le!=0?null:11>ne?ye.f.RGBA.eb:ye.f.kb.y}else ne=null;return ne};var k0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(E,I){for(var T="",F=0;F<4;F++)T+=String.fromCharCode(E[I++]);return T}function u(E,I){return E[I+0]|E[I+1]<<8}function f(E,I){return(E[I+0]|E[I+1]<<8|E[I+2]<<16)>>>0}function p(E,I){return(E[I+0]|E[I+1]<<8|E[I+2]<<16|E[I+3]<<24)>>>0}new c;var g=[0],x=[0],v=[],w=new c,j=t,_=(function(E,I){var T={},F=0,Y=!1,O=0,q=0;if(T.frames=[],!(function(R,ae){for(var W=0;W<4;W++)if(R[ae+W]!="RIFF".charCodeAt(W))return!0;return!1})(E,I)){for(p(E,I+=4),I+=8;I<E.length;){var $=d(E,I),K=p(E,I+=4);I+=4;var J=K+(1&K);switch($){case"VP8 ":case"VP8L":T.frames[F]===void 0&&(T.frames[F]={}),(te=T.frames[F]).src_off=Y?q:I-8,te.src_size=O+K+8,F++,Y&&(Y=!1,O=0,q=0);break;case"VP8X":(te=T.header={}).feature_flags=E[I];var X=I+4;te.canvas_width=1+f(E,X),X+=3,te.canvas_height=1+f(E,X),X+=3;break;case"ALPH":Y=!0,O=J+8,q=I-8;break;case"ANIM":(te=T.header).bgcolor=p(E,I),X=I+4,te.loop_count=u(E,X),X+=2;break;case"ANMF":var be,te;(te=T.frames[F]={}).offset_x=2*f(E,I),I+=3,te.offset_y=2*f(E,I),I+=3,te.width=1+f(E,I),I+=3,te.height=1+f(E,I),I+=3,te.duration=f(E,I),I+=3,be=E[I++],te.dispose=1&be,te.blend=be>>1&1}$!="ANMF"&&(I+=J)}return T}})(j,0);_.response=j,_.rgbaoutput=!0,_.dataurl=!1;var S=_.header?_.header:null,N=_.frames?_.frames:null;if(S){S.loop_counter=S.loop_count,g=[S.canvas_height],x=[S.canvas_width];for(var C=0;C<N.length&&N[C].blend!=0;C++);}var D=N[0],U=w.WebPDecodeRGBA(j,D.src_off,D.src_size,x,g);D.rgba=U,D.imgwidth=x[0],D.imgheight=g[0];for(var z=0;z<x[0]*g[0]*4;z++)v[z]=U[z];return this.width=x,this.height=g,this.data=v,this}(function(t){var r,a,s,n,i,o,l,c,d,u=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new c,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),r=this.internal.f2,a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var f=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ae=R;Object.defineProperty(this,"pdf",{get:function(){return ae}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(Z){W=!!Z}});var pe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return pe},set:function(Z){pe=!!Z}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(Z){isNaN(Z)||(ce=Z)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Z){isNaN(Z)||(we=Z)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Z){var re;typeof Z=="number"?re=[Z,Z,Z,Z]:((re=new Array(4))[0]=Z[0],re[1]=Z.length>=2?Z[1]:re[0],re[2]=Z.length>=3?Z[2]:re[0],re[3]=Z.length>=4?Z[3]:re[1]),d.margin=re}});var je=!1;Object.defineProperty(this,"autoPaging",{get:function(){return je},set:function(Z){je=Z}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(Z){fe=Z}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(Z){xe=Z}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Z){Z instanceof u&&(d=Z)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Z){d.path=Z}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(Z){$e=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var re;re=p(Z),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var re=p(Z);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var ge=null,ot=null,Ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ze},set:function(Z){ge=null,ot=null,Ze=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var re;if(this.ctx.font=Z,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Z))!==null){var Ue=re[1];re[2];var Ge=re[3],Ke=re[4];re[5];var ie=re[6],Ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(Ce==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:Ce==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var Oe=(function(it){var ft,Te,oe=[],_e=it.trim();if(_e==="")return H1;if(_e in zT)return[zT[_e]];for(;_e!=="";){switch(Te=null,ft=(_e=VT(_e)).charAt(0)){case'"':case"'":Te=yge(_e.substring(1),ft);break;default:Te=bge(_e)}if(Te===null||(oe.push(Te[0]),(_e=VT(Te[1]))!==""&&_e.charAt(0)!==","))return H1;_e=_e.replace(/^,/,"")}return oe})(ie);if(this.fontFaces){var Je=(function(it,ft){var Te=it.getFontList(),oe=JSON.stringify(Te);if(ge===null||ot!==oe){var _e=(function(et){var Ve=[];return Object.keys(et).forEach(function(Wt){et[Wt].forEach(function(Bt){var Fe=null;switch(Bt){case"bold":Fe={family:Wt,weight:"bold"};break;case"italic":Fe={family:Wt,style:"italic"};break;case"bolditalic":Fe={family:Wt,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:Wt}}Fe!==null&&(Fe.ref={name:Wt,style:Bt},Ve.push(Fe))})}),Ve})(Te);ge=(function(et){for(var Ve={},Wt=0;Wt<et.length;++Wt){var Bt=V1(et[Wt]),Fe=Bt.family,nt=Bt.stretch,ut=Bt.style,Tt=Bt.weight;Ve[Fe]=Ve[Fe]||{},Ve[Fe][nt]=Ve[Fe][nt]||{},Ve[Fe][nt][ut]=Ve[Fe][nt][ut]||{},Ve[Fe][nt][ut][Tt]=Bt}return Ve})(_e.concat(ft)),ot=oe}return ge})(this.pdf,this.fontFaces),H=Oe.map(function(it){return{family:it,stretch:"normal",weight:Ge,style:Ue}}),de=(function(it,ft,Te){for(var oe=(Te=Te||{}).defaultFontFamily||"times",_e=Object.assign({},xge,Te.genericFontFamilies||{}),et=null,Ve=null,Wt=0;Wt<ft.length;++Wt)if(_e[(et=V1(ft[Wt])).family]&&(et.family=_e[et.family]),it.hasOwnProperty(et.family)){Ve=it[et.family];break}if(!(Ve=Ve||it[oe]))throw new Error("Could not find a font-family for the rule '"+qT(et)+"' and default family '"+oe+"'.");if(Ve=(function(Bt,Fe){if(Fe[Bt])return Fe[Bt];var nt=YN[Bt],ut=nt<=YN.normal?-1:1,Tt=UT(Fe,rF,nt,ut);if(!Tt)throw new Error("Could not find a matching font-stretch value for "+Bt);return Tt})(et.stretch,Ve),Ve=(function(Bt,Fe){if(Fe[Bt])return Fe[Bt];for(var nt=tF[Bt],ut=0;ut<nt.length;++ut)if(Fe[nt[ut]])return Fe[nt[ut]];throw new Error("Could not find a matching font-style for "+Bt)})(et.style,Ve),!(Ve=(function(Bt,Fe){if(Fe[Bt])return Fe[Bt];if(Bt===400&&Fe[500])return Fe[500];if(Bt===500&&Fe[400])return Fe[400];var nt=gge[Bt],ut=UT(Fe,aF,nt,Bt<400?-1:1);if(!ut)throw new Error("Could not find a matching font-weight for value "+Bt);return ut})(et.weight,Ve)))throw new Error("Failed to resolve a font for the rule '"+qT(et)+"'.");return Ve})(Je,H);this.pdf.setFont(de.ref.name,de.ref.style)}else{var ue="";(Ge==="bold"||parseInt(Ge,10)>=700||Ue==="bold")&&(ue="bold"),Ue==="italic"&&(ue+="italic"),ue.length===0&&(ue="normal");for(var me="",Se={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ye=0;Ye<Oe.length;Ye++){if(this.pdf.internal.getFont(Oe[Ye],ue,{noFallback:!0,disableWarning:!0})!==void 0){me=Oe[Ye];break}if(ue==="bolditalic"&&this.pdf.internal.getFont(Oe[Ye],"bold",{noFallback:!0,disableWarning:!0})!==void 0)me=Oe[Ye],ue="bold";else if(this.pdf.internal.getFont(Oe[Ye],"normal",{noFallback:!0,disableWarning:!0})!==void 0){me=Oe[Ye],ue="normal";break}}if(me===""){for(var kt=0;kt<Oe.length;kt++)if(Se[Oe[kt]]){me=Se[Oe[kt]];break}}me=me===""?"Times":me,this.pdf.setFont(me,ue)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};f.prototype.setLineDash=function(R){this.lineDash=R},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(R,ae){if(isNaN(R)||isNaN(ae))throw Sa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new o(R,ae));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new o(R,ae)},f.prototype.closePath=function(){var R=new o(0,0),ae=0;for(ae=this.path.length-1;ae!==-1;ae--)if(this.path[ae].type==="begin"&&ba(this.path[ae+1])==="object"&&typeof this.path[ae+1].x=="number"){R=new o(this.path[ae+1].x,this.path[ae+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},f.prototype.lineTo=function(R,ae){if(isNaN(R)||isNaN(ae))throw Sa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new o(R,ae));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new o(W.x,W.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(R,ae,W,pe){if(isNaN(W)||isNaN(pe)||isNaN(R)||isNaN(ae))throw Sa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(W,pe)),we=this.ctx.transform.applyToPoint(new o(R,ae));this.path.push({type:"qct",x1:we.x,y1:we.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},f.prototype.bezierCurveTo=function(R,ae,W,pe,ce,we){if(isNaN(ce)||isNaN(we)||isNaN(R)||isNaN(ae)||isNaN(W)||isNaN(pe))throw Sa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var je=this.ctx.transform.applyToPoint(new o(ce,we)),fe=this.ctx.transform.applyToPoint(new o(R,ae)),xe=this.ctx.transform.applyToPoint(new o(W,pe));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:xe.x,y2:xe.y,x:je.x,y:je.y}),this.ctx.lastPoint=new o(je.x,je.y)},f.prototype.arc=function(R,ae,W,pe,ce,we){if(isNaN(R)||isNaN(ae)||isNaN(W)||isNaN(pe)||isNaN(ce))throw Sa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var je=this.ctx.transform.applyToPoint(new o(R,ae));R=je.x,ae=je.y;var fe=this.ctx.transform.applyToPoint(new o(0,W)),xe=this.ctx.transform.applyToPoint(new o(0,0));W=Math.sqrt(Math.pow(fe.x-xe.x,2)+Math.pow(fe.y-xe.y,2))}Math.abs(ce-pe)>=2*Math.PI&&(pe=0,ce=2*Math.PI),this.path.push({type:"arc",x:R,y:ae,radius:W,startAngle:pe,endAngle:ce,counterclockwise:we})},f.prototype.arcTo=function(R,ae,W,pe,ce){throw new Error("arcTo not implemented.")},f.prototype.rect=function(R,ae,W,pe){if(isNaN(R)||isNaN(ae)||isNaN(W)||isNaN(pe))throw Sa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,ae),this.lineTo(R+W,ae),this.lineTo(R+W,ae+pe),this.lineTo(R,ae+pe),this.lineTo(R,ae),this.lineTo(R+W,ae),this.lineTo(R,ae)},f.prototype.fillRect=function(R,ae,W,pe){if(isNaN(R)||isNaN(ae)||isNaN(W)||isNaN(pe))throw Sa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,ae,W,pe),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},f.prototype.strokeRect=function(R,ae,W,pe){if(isNaN(R)||isNaN(ae)||isNaN(W)||isNaN(pe))throw Sa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(R,ae,W,pe),this.stroke())},f.prototype.clearRect=function(R,ae,W,pe){if(isNaN(R)||isNaN(ae)||isNaN(W)||isNaN(pe))throw Sa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,ae,W,pe))},f.prototype.save=function(R){R=typeof R!="boolean"||R;for(var ae=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(ae),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var pe=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=pe}},f.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var ae=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(ae),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(R){var ae,W,pe,ce;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))ae=0,W=0,pe=0,ce=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(we!==null)ae=parseInt(we[1]),W=parseInt(we[2]),pe=parseInt(we[3]),ce=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)ae=parseInt(we[1]),W=parseInt(we[2]),pe=parseInt(we[3]),ce=parseFloat(we[4]);else{if(ce=1,typeof R=="string"&&R.charAt(0)!=="#"){var je=new Y9(R);R=je.ok?je.toHex():"#000000"}R.length===4?(ae=R.substring(1,2),ae+=ae,W=R.substring(2,3),W+=W,pe=R.substring(3,4),pe+=pe):(ae=R.substring(1,3),W=R.substring(3,5),pe=R.substring(5,7)),ae=parseInt(ae,16),W=parseInt(W,16),pe=parseInt(pe,16)}}return{r:ae,g:W,b:pe,a:ce,style:R}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(R,ae,W,pe){if(isNaN(ae)||isNaN(W)||typeof R!="string")throw Sa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(pe=isNaN(pe)?void 0:pe,!g.call(this)){var ce=J(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;F.call(this,{text:R,x:ae,y:W,scale:we,angle:ce,align:this.textAlign,maxWidth:pe})}},f.prototype.strokeText=function(R,ae,W,pe){if(isNaN(ae)||isNaN(W)||typeof R!="string")throw Sa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){pe=isNaN(pe)?void 0:pe;var ce=J(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;F.call(this,{text:R,x:ae,y:W,scale:we,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:pe})}},f.prototype.measureText=function(R){if(typeof R!="string")throw Sa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ae=this.pdf,W=this.pdf.internal.scaleFactor,pe=ae.internal.getFontSize(),ce=ae.getStringUnitWidth(R)*pe/ae.internal.scaleFactor;return new function(we){var je=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return je}}),this}({width:ce*=Math.round(96*W/72*1e4)/1e4})},f.prototype.scale=function(R,ae){if(isNaN(R)||isNaN(ae))throw Sa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new c(R,0,0,ae,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.rotate=function(R){if(isNaN(R))throw Sa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ae=new c(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},f.prototype.translate=function(R,ae){if(isNaN(R)||isNaN(ae))throw Sa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new c(1,0,0,1,R,ae);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.transform=function(R,ae,W,pe,ce,we){if(isNaN(R)||isNaN(ae)||isNaN(W)||isNaN(pe)||isNaN(ce)||isNaN(we))throw Sa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var je=new c(R,ae,W,pe,ce,we);this.ctx.transform=this.ctx.transform.multiply(je)},f.prototype.setTransform=function(R,ae,W,pe,ce,we){R=isNaN(R)?1:R,ae=isNaN(ae)?0:ae,W=isNaN(W)?0:W,pe=isNaN(pe)?1:pe,ce=isNaN(ce)?0:ce,we=isNaN(we)?0:we,this.ctx.transform=new c(R,ae,W,pe,ce,we)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(R,ae,W,pe,ce,we,je,fe,xe){var $e=this.pdf.getImageProperties(R),ge=1,ot=1,Ze=1,Z=1;pe!==void 0&&fe!==void 0&&(Ze=fe/pe,Z=xe/ce,ge=$e.width/pe*fe/pe,ot=$e.height/ce*xe/ce),we===void 0&&(we=ae,je=W,ae=0,W=0),pe!==void 0&&fe===void 0&&(fe=pe,xe=ce),pe===void 0&&fe===void 0&&(fe=$e.width,xe=$e.height);var re=this.ctx.transform.decompose(),Ue=J(re.rotate.shx),Ge=new c,Ke=(Ge=(Ge=(Ge=Ge.multiply(re.translate)).multiply(re.skew)).multiply(re.scale)).applyToRectangle(new l(we-ae*Ze,je-W*Z,pe*ge,ce*ot));if(this.autoPaging){for(var ie,Ce=w.call(this,Ke),Oe=[],Je=0;Je<Ce.length;Je+=1)Oe.indexOf(Ce[Je])===-1&&Oe.push(Ce[Je]);S(Oe);for(var H=Oe[0],de=Oe[Oe.length-1],ue=H;ue<de+1;ue++){this.pdf.setPage(ue);var me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=ue===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=ue===1?0:Ye+(ue-2)*kt;if(this.ctx.clip_path.length!==0){var ft=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ie,this.posX+this.margin[3],-it+Se+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=ft}var Te=JSON.parse(JSON.stringify(Ke));Te=_([Te],this.posX+this.margin[3],-it+Se+this.ctx.prevPageLastElemOffset)[0];var oe=(ue>H||ue<de)&&v.call(this);oe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,kt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Ue),oe&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(R,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,Ue)};var w=function(R,ae,W){var pe=[];ae=ae||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":pe.push(Math.floor((R.y+ce)/W)+1);break;case"arc":pe.push(Math.floor((R.y+ce-R.radius)/W)+1),pe.push(Math.floor((R.y+ce+R.radius)/W)+1);break;case"qct":var we=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);pe.push(Math.floor((we.y+ce)/W)+1),pe.push(Math.floor((we.y+we.h+ce)/W)+1);break;case"bct":var je=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);pe.push(Math.floor((je.y+ce)/W)+1),pe.push(Math.floor((je.y+je.h+ce)/W)+1);break;case"rect":pe.push(Math.floor((R.y+ce)/W)+1),pe.push(Math.floor((R.y+R.h+ce)/W)+1)}for(var fe=0;fe<pe.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<pe[fe];)j.call(this);return pe},j=function(){var R=this.fillStyle,ae=this.strokeStyle,W=this.font,pe=this.lineCap,ce=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=ae,this.font=W,this.lineCap=pe,this.lineWidth=ce,this.lineJoin=we},_=function(R,ae,W){for(var pe=0;pe<R.length;pe++)switch(R[pe].type){case"bct":R[pe].x2+=ae,R[pe].y2+=W;case"qct":R[pe].x1+=ae,R[pe].y1+=W;default:R[pe].x+=ae,R[pe].y+=W}return R},S=function(R){return R.sort(function(ae,W){return ae-W})},N=function(R,ae){var W=this.fillStyle,pe=this.strokeStyle,ce=this.lineCap,we=this.lineWidth,je=Math.abs(we*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var xe,$e,ge=JSON.parse(JSON.stringify(this.path)),ot=JSON.parse(JSON.stringify(this.path)),Ze=[],Z=0;Z<ot.length;Z++)if(ot[Z].x!==void 0)for(var re=w.call(this,ot[Z]),Ue=0;Ue<re.length;Ue+=1)Ze.indexOf(re[Ue])===-1&&Ze.push(re[Ue]);for(var Ge=0;Ge<Ze.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<Ze[Ge];)j.call(this);S(Ze);for(var Ke=Ze[0],ie=Ze[Ze.length-1],Ce=Ke;Ce<ie+1;Ce++){this.pdf.setPage(Ce),this.fillStyle=W,this.strokeStyle=pe,this.lineCap=ce,this.lineWidth=je,this.lineJoin=fe;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Ce===1?this.posY+this.margin[0]:this.margin[0],H=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],de=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ue=Ce===1?0:H+(Ce-2)*de;if(this.ctx.clip_path.length!==0){var me=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(xe,this.posX+this.margin[3],-ue+Je+this.ctx.prevPageLastElemOffset),C.call(this,R,!0),this.path=me}if($e=JSON.parse(JSON.stringify(ge)),this.path=_($e,this.posX+this.margin[3],-ue+Je+this.ctx.prevPageLastElemOffset),ae===!1||Ce===0){var Se=(Ce>Ke||Ce<ie)&&v.call(this);Se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,de,null).clip().discardPath()),C.call(this,R,ae),Se&&this.pdf.restoreGraphicsState()}this.lineWidth=we}this.path=ge}else this.lineWidth=je,C.call(this,R,ae),this.lineWidth=we},C=function(R,ae){if((R!=="stroke"||ae||!x.call(this))&&(R==="stroke"||ae||!g.call(this))){for(var W,pe,ce=[],we=this.path,je=0;je<we.length;je++){var fe=we[je];switch(fe.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:fe,deltas:[],abs:[]});break;case"lt":var xe=ce.length;if(we[je-1]&&!isNaN(we[je-1].x)&&(W=[fe.x-we[je-1].x,fe.y-we[je-1].y],xe>0)){for(;xe>=0;xe--)if(ce[xe-1].close!==!0&&ce[xe-1].begin!==!0){ce[xe-1].deltas.push(W),ce[xe-1].abs.push(fe);break}}break;case"bct":W=[fe.x1-we[je-1].x,fe.y1-we[je-1].y,fe.x2-we[je-1].x,fe.y2-we[je-1].y,fe.x-we[je-1].x,fe.y-we[je-1].y],ce[ce.length-1].deltas.push(W);break;case"qct":var $e=we[je-1].x+2/3*(fe.x1-we[je-1].x),ge=we[je-1].y+2/3*(fe.y1-we[je-1].y),ot=fe.x+2/3*(fe.x1-fe.x),Ze=fe.y+2/3*(fe.y1-fe.y),Z=fe.x,re=fe.y;W=[$e-we[je-1].x,ge-we[je-1].y,ot-we[je-1].x,Ze-we[je-1].y,Z-we[je-1].x,re-we[je-1].y],ce[ce.length-1].deltas.push(W);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(fe)}}pe=ae?null:R==="stroke"?"stroke":"fill";for(var Ue=!1,Ge=0;Ge<ce.length;Ge++)if(ce[Ge].arc)for(var Ke=ce[Ge].abs,ie=0;ie<Ke.length;ie++){var Ce=Ke[ie];Ce.type==="arc"?z.call(this,Ce.x,Ce.y,Ce.radius,Ce.startAngle,Ce.endAngle,Ce.counterclockwise,void 0,ae,!Ue):Y.call(this,Ce.x,Ce.y),Ue=!0}else if(ce[Ge].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(ce[Ge].begin!==!0){var Oe=ce[Ge].start.x,Je=ce[Ge].start.y;O.call(this,ce[Ge].deltas,Oe,Je),Ue=!0}pe&&E.call(this,pe),ae&&I.call(this)}},D=function(R){var ae=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=ae*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-W;case"top":return R+ae-W;case"hanging":return R+ae-2*W;case"middle":return R+ae/2-W;default:return R}},U=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(ae,W){this.colorStops.push([ae,W])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(R,ae,W,pe,ce,we,je,fe,xe){for(var $e=$.call(this,W,pe,ce,we),ge=0;ge<$e.length;ge++){var ot=$e[ge];ge===0&&(xe?T.call(this,ot.x1+R,ot.y1+ae):Y.call(this,ot.x1+R,ot.y1+ae)),q.call(this,R,ae,ot.x2,ot.y2,ot.x3,ot.y3,ot.x4,ot.y4)}fe?I.call(this):E.call(this,je)},E=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(R,ae){this.pdf.internal.out(a(R)+" "+s(ae)+" m")},F=function(R){var ae;switch(R.align){case"right":case"end":ae="right";break;case"center":ae="center";break;default:ae="left"}var W,pe,ce,we=this.pdf.getTextDimensions(R.text),je=D.call(this,R.y),fe=U.call(this,je)-we.h,xe=this.ctx.transform.applyToPoint(new o(R.x,je));if(this.autoPaging){var $e=this.ctx.transform.decompose(),ge=new c;ge=(ge=(ge=ge.multiply($e.translate)).multiply($e.skew)).multiply($e.scale);for(var ot=this.ctx.transform.applyToRectangle(new l(R.x,je,we.w,we.h)),Ze=ge.applyToRectangle(new l(R.x,fe,we.w,we.h)),Z=w.call(this,Ze),re=[],Ue=0;Ue<Z.length;Ue+=1)re.indexOf(Z[Ue])===-1&&re.push(Z[Ue]);S(re);for(var Ge=re[0],Ke=re[re.length-1],ie=Ge;ie<Ke+1;ie++){this.pdf.setPage(ie);var Ce=ie===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[2],H=Je-this.margin[0],de=this.pdf.internal.pageSize.width-this.margin[1],ue=de-this.margin[3],me=ie===1?0:Oe+(ie-2)*H;if(this.ctx.clip_path.length!==0){var Se=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(W,this.posX+this.margin[3],-1*me+Ce),C.call(this,"fill",!0),this.path=Se}var Ye=_([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-me+Ce+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*R.scale),ce=this.lineWidth,this.lineWidth=ce*R.scale);var kt=this.autoPaging!=="text";if(kt||Ye.y+Ye.h<=Je){if(kt||Ye.y>=Ce&&Ye.x<=de){var it=kt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||de-Ye.x)[0],ft=_([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-me+Ce+this.ctx.prevPageLastElemOffset)[0],Te=kt&&(ie>Ge||ie<Ke)&&v.call(this);Te&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ue,H,null).clip().discardPath()),this.pdf.text(it,ft.x,ft.y,{angle:R.angle,align:ae,renderingMode:R.renderingMode}),Te&&this.pdf.restoreGraphicsState()}}else Ye.y<Je&&(this.ctx.prevPageLastElemOffset+=Je-Ye.y);R.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=ce)}}else R.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*R.scale),ce=this.lineWidth,this.lineWidth=ce*R.scale),this.pdf.text(R.text,xe.x+this.posX,xe.y+this.posY,{angle:R.angle,align:ae,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=ce)},Y=function(R,ae,W,pe){W=W||0,pe=pe||0,this.pdf.internal.out(a(R+W)+" "+s(ae+pe)+" l")},O=function(R,ae,W){return this.pdf.lines(R,ae,W,null,null)},q=function(R,ae,W,pe,ce,we,je,fe){this.pdf.internal.out([r(n(W+R)),r(i(pe+ae)),r(n(ce+R)),r(i(we+ae)),r(n(je+R)),r(i(fe+ae)),"c"].join(" "))},$=function(R,ae,W,pe){for(var ce=2*Math.PI,we=Math.PI/2;ae>W;)ae-=ce;var je=Math.abs(W-ae);je<ce&&pe&&(je=ce-je);for(var fe=[],xe=pe?-1:1,$e=ae;je>1e-5;){var ge=$e+xe*Math.min(je,we);fe.push(K.call(this,R,$e,ge)),je-=Math.abs(ge-$e),$e=ge}return fe},K=function(R,ae,W){var pe=(W-ae)/2,ce=R*Math.cos(pe),we=R*Math.sin(pe),je=ce,fe=-we,xe=je*je+fe*fe,$e=xe+je*ce+fe*we,ge=4/3*(Math.sqrt(2*xe*$e)-$e)/(je*we-fe*ce),ot=je-ge*fe,Ze=fe+ge*je,Z=ot,re=-Ze,Ue=pe+ae,Ge=Math.cos(Ue),Ke=Math.sin(Ue);return{x1:R*Math.cos(ae),y1:R*Math.sin(ae),x2:ot*Ge-Ze*Ke,y2:ot*Ke+Ze*Ge,x3:Z*Ge-re*Ke,y3:Z*Ke+re*Ge,x4:R*Math.cos(W),y4:R*Math.sin(W)}},J=function(R){return 180*R/Math.PI},X=function(R,ae,W,pe,ce,we){var je=R+.5*(W-R),fe=ae+.5*(pe-ae),xe=ce+.5*(W-ce),$e=we+.5*(pe-we),ge=Math.min(R,ce,je,xe),ot=Math.max(R,ce,je,xe),Ze=Math.min(ae,we,fe,$e),Z=Math.max(ae,we,fe,$e);return new l(ge,Ze,ot-ge,Z-Ze)},be=function(R,ae,W,pe,ce,we,je,fe){var xe,$e,ge,ot,Ze,Z,re,Ue,Ge,Ke,ie,Ce,Oe,Je,H=W-R,de=pe-ae,ue=ce-W,me=we-pe,Se=je-ce,Ye=fe-we;for($e=0;$e<41;$e++)Ge=(re=(ge=R+(xe=$e/40)*H)+xe*((Ze=W+xe*ue)-ge))+xe*(Ze+xe*(ce+xe*Se-Ze)-re),Ke=(Ue=(ot=ae+xe*de)+xe*((Z=pe+xe*me)-ot))+xe*(Z+xe*(we+xe*Ye-Z)-Ue),$e==0?(ie=Ge,Ce=Ke,Oe=Ge,Je=Ke):(ie=Math.min(ie,Ge),Ce=Math.min(Ce,Ke),Oe=Math.max(Oe,Ge),Je=Math.max(Je,Ke));return new l(Math.round(ie),Math.round(Ce),Math.round(Oe-ie),Math.round(Je-Ce))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,ae,W=(R=this.ctx.lineDash,ae=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:ae}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(sr.API),(function(t){var r=function(o){var l,c,d,u,f,p,g,x,v,w;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(f=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(p=(f=((f=((f=((f=(f-(w=f%85))/85)-(v=f%85))/85)-(x=f%85))/85)-(g=f%85))/85)%85,c.push(p+33,g+33,x+33,v+33,w+33)):c.push(122);return(function(j,_){for(var S=_;S>0;S--)j.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},a=function(o){var l,c,d,u,f,p=String,g="length",x=255,v="charCodeAt",w="slice",j="replace";for(o[w](-2),o=o[w](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),d=[],u=0,f=(o+=l="uuuuu"[w](o[g]%5||5))[g];f>u;u+=5)c=52200625*(o[v](u)-33)+614125*(o[v](u+1)-33)+7225*(o[v](u+2)-33)+85*(o[v](u+3)-33)+(o[v](u+4)-33),d.push(x&c>>24,x&c>>16,x&c>>8,x&c);return(function(_,S){for(var N=S;N>0;N--)_.pop()})(d,l[g]),p.fromCharCode.apply(p,d)},s=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=UN(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};t.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=a(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=r(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=s(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}})(sr.API),(function(t){t.loadFile=function(r,a,s){return(function(n,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,d,u){var f=new XMLHttpRequest,p=0,g=function(x){var v=x.length,w=[],j=String.fromCharCode;for(p=0;p<v;p+=1)w.push(j(255&x.charCodeAt(p)));return w.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?u(g(this.responseText)):u(void 0)}),f.send(null),d&&f.status===200)return g(f.responseText)})(n,i,o)}catch{}return l})(r,a,s)},t.loadImageFile=t.loadFile})(sr.API),(function(t){function r(){return(Pr.html2canvas?Promise.resolve(Pr.html2canvas):Oa(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function a(){return(Pr.DOMPurify?Promise.resolve(Pr.DOMPurify):Oa(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var s=function(l){var c=ba(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},n=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},i=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(l(f,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(d){switch(s(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(a).then(function(d){return this.set({src:n("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var g=0;g<u.length;++g){var x=u[g],v=x.src.find(function(w){return w.format==="truetype"});v&&d.addFont(v.url,x.ref.name,x.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,d.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(s(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(s(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||sr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,f){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return d.updateProgress(null,u),p}).then(u,f).then(function(p){return d.updateProgress(1),p})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),p=d.call(f,l,c);return o.convert(p,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,sr.getPageSize=function(l,c,d){if(ba(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var f,p=(""+d).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var x,v=0,w=0;if(g.hasOwnProperty(p))v=g[p][1]/f,w=g[p][0]/f;else try{v=d[1],w=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",w>v&&(x=w,w=v,v=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",v>w&&(x=w,w=v,v=x)}return{width:w,height:v,unit:c,k:f,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(V1):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}})(sr.API),sr.API.addJS=function(t){return WT=t,this.internal.events.subscribe("postPutResources",function(){Hx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Hx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),HT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+WT+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Hx!==void 0&&HT!==void 0&&this.internal.out("/Names <</JavaScript "+Hx+" 0 R>>")}),this},(function(t){var r;t.events.push(["postPutResources",function(){var a=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=a.outline.render().split(/\r\n/),i=0;i<n.length;i++){var o=n[i],l=s.exec(o);if(l!=null){var c=l[1];a.internal.newObjectDeferredBegin(c,!1)}a.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var f=a.internal.newObject();u.push(f);var p=a.internal.getPageInfo(i+1);a.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=a.internal.newObject();for(a.internal.write("<< /Names [ "),i=0;i<u.length;i++)a.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");a.internal.write(" ] >>","endobj"),r=a.internal.newObject(),a.internal.write("<< /Dests "+g+" 0 R"),a.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var a=this;a.outline.root.children.length>0&&(a.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&a.internal.write("/Names "+r+" 0 R"))}]),t.events.push(["initialized",function(){var a=this;a.outline={createNamedDestinations:!1,root:{children:[]}},a.outline.add=function(s,n,i){var o={title:n,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},a.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=a,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},a.outline.genIds_r=function(s){s.id=a.internal.newObjectDeferred();for(var n=0;n<s.children.length;n++)this.genIds_r(s.children[n])},a.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},a.outline.renderItems=function(s){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=a.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},a.outline.line=function(s){this.ctx.val+=s+`\r
`},a.outline.makeRef=function(s){return s.id+" 0 R"},a.outline.makeString=function(s){return"("+a.internal.pdfEscape(s)+")"},a.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},a.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},a.outline.count_r=function(s,n){for(var i=0;i<n.children.length;i++)s.count++,this.count_r(s,n.children[i]);return s.count}}])})(sr.API),(function(t){var r=[192,193,194,195,196,197,198,199];t.processJPEG=function(a,s,n,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof a=="string"||this.__addimage__.isArrayBuffer(a)||this.__addimage__.isArrayBufferView(a)){switch(a=o||a,a=this.__addimage__.isArrayBuffer(a)?new Uint8Array(a):a,c=(function(f){for(var p,g=256*f.charCodeAt(4)+f.charCodeAt(5),x=f.length,v={width:0,height:0,numcomponents:1},w=4;w<x;w+=2){if(w+=g,r.indexOf(f.charCodeAt(w+1))!==-1){p=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),v={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:p,numcomponents:f.charCodeAt(w+9)};break}g=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return v})(a=this.__addimage__.isArrayBufferView(a)?this.__addimage__.arrayBufferToBinaryString(a):a),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:a,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:s,alias:n}}return u}})(sr.API),sr.API.processPNG=function(t,r,a,s){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var n,i=rge(t,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,d=i.palette,u=i.depth;n=d&&c===1?(function(z){for(var E=z.width,I=z.height,T=z.data,F=z.palette,Y=z.depth,O=!1,q=[],$=[],K=void 0,J=!1,X=0,be=0;be<F.length;be++){var te=JE(F[be],4),R=te[0],ae=te[1],W=te[2],pe=te[3];q.push(R,ae,W),pe!=null&&(pe===0?(X++,$.length<1&&$.push(be)):pe<255&&(J=!0))}if(J||X>1){O=!0,$=void 0;var ce=E*I;K=new Uint8Array(ce);for(var we=new DataView(T.buffer),je=0;je<ce;je++){var fe=W1(we,je,Y),xe=JE(F[fe],4)[3];K[je]=xe}}else X===0&&($=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:O?8:void 0,colorBytes:T,alphaBytes:K,needSMask:O,palette:q,mask:$}})(i):c===2||c===4?(function(z){for(var E=z.data,I=z.width,T=z.height,F=z.channels,Y=z.depth,O=F===2?"DeviceGray":"DeviceRGB",q=F-1,$=I*T,K=q,J=$*K,X=1*$,be=Math.ceil(J*Y/8),te=Math.ceil(X*Y/8),R=new Uint8Array(be),ae=new Uint8Array(te),W=new DataView(E.buffer),pe=new DataView(R.buffer),ce=new DataView(ae.buffer),we=!1,je=0;je<$;je++){for(var fe=je*F,xe=0;xe<K;xe++)t7(pe,W1(W,fe+xe,Y),je*K+xe,Y);var $e=W1(W,fe+K,Y);$e<(1<<Y)-1&&(we=!0),t7(ce,$e,1*je,Y)}return{colorSpace:O,colorsPerPixel:q,sMaskBitsPerComponent:we?Y:void 0,colorBytes:R,alphaBytes:ae,needSMask:we}})(i):(function(z){var E=z.data,I=z.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?(function(T){for(var F=T.length,Y=new Uint8Array(2*F),O=new DataView(Y.buffer,Y.byteOffset,Y.byteLength),q=0;q<F;q++)O.setUint16(2*q,T[q],!1);return Y})(E):E,needSMask:!1}})(i);var f,p,g,x=n,v=x.colorSpace,w=x.colorsPerPixel,j=x.sMaskBitsPerComponent,_=x.colorBytes,S=x.alphaBytes,N=x.needSMask,C=x.palette,D=x.mask,U=null;return s!==sr.API.image_compression.NONE&&typeof UN=="function"?(U=(function(z){var E;switch(z){case sr.API.image_compression.FAST:E=11;break;case sr.API.image_compression.MEDIUM:E=13;break;case sr.API.image_compression.SLOW:E=14;break;default:E=12}return E})(s),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(U," /Colors ").concat(w," /BitsPerComponent ").concat(u," /Columns ").concat(o),t=JT(_,Math.ceil(o*w*u/8),w,u,s),N&&(g=JT(S,Math.ceil(o*j/8),1,j,s))):(f=void 0,p=void 0,t=_,N&&(g=S)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:a,data:t,index:r,filter:f,decodeParameters:p,transparency:D,palette:C,sMask:g,predictor:U,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:j,colorSpace:v}}},(function(t){t.processGIF89A=function(r,a,s,n){var i=new Nge(r),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new G1(100).encode(d,100);return t.processJPEG.call(this,u,a,s,n)},t.processGIF87A=t.processGIF89A})(sr.API),Rl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var r=0;r<t;r++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:n,green:s,blue:a,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Rl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[t]()}catch(a){Sa.log("bit decode error:"+a)}},Rl.prototype.bit1=function(){var t,r=Math.ceil(this.width/8),a=r%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,n=0;n<r;n++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*n*4,l=0;l<8&&8*n+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}a!==0&&(this.pos+=4-a)}},Rl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),r=t%4,a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,n=0;n<t;n++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*n*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*n+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}r!==0&&(this.pos+=4-r)}},Rl.prototype.bit8=function(){for(var t=this.width%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),i=a*this.width*4+4*s;if(n<this.palette.length){var o=this.palette[n];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Rl.prototype.bit15=function(){for(var t=this.width%3,r=parseInt("11111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&r)/r*255|0,l=(i>>5&r)/r*255|0,c=(i>>10&r)/r*255|0,d=i>>15?255:0,u=s*this.width*4+4*n;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=t}},Rl.prototype.bit16=function(){for(var t=this.width%3,r=parseInt("11111",2),a=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&r)/r*255|0,c=(o>>5&a)/a*255|0,d=(o>>11)/r*255|0,u=n*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},Rl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*a;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},Rl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*a;this.data[l]=i,this.data[l+1]=n,this.data[l+2]=s,this.data[l+3]=o}},Rl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(r,a,s,n){var i=new Rl(r,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new G1(100).encode(c,100);return t.processJPEG.call(this,d,a,s,n)}})(sr.API),a7.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(r,a,s,n){var i=new a7(r),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new G1(100).encode(c,100);return t.processJPEG.call(this,d,a,s,n)}})(sr.API),sr.API.processRGBA=function(t,r,a){for(var s=t.data,n=s.length,i=new Uint8Array(n/4*3),o=new Uint8Array(n/4),l=0,c=0,d=0;d<n;d+=4){var u=s[d],f=s[d+1],p=s[d+2],g=s[d+3];i[l++]=u,i[l++]=f,i[l++]=p,o[c++]=g}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:r,alias:a,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},sr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dm=sr.API,Wx=dm.getCharWidthsArray=function(t,r){var a,s,n=(r=r||{}).font||this.internal.getFont(),i=r.fontSize||this.internal.getFontSize(),o=r.charSpace||this.internal.getCharSpace(),l=r.widths?r.widths:n.metadata.Unicode.widths,c=l.fof?l.fof:1,d=r.kerning?r.kerning:n.metadata.Unicode.kerning,u=d.fof?d.fof:1,f=r.doKerning!==!1,p=0,g=t.length,x=0,v=l[0]||c,w=[];for(a=0;a<g;a++)s=t.charCodeAt(a),typeof n.metadata.widthOfString=="function"?w.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(p=f&&ba(d[s])==="object"&&!isNaN(parseInt(d[s][x],10))?d[s][x]/u:0,w.push((l[s]||v)/c+p)),x=s;return w},GT=dm.getStringUnitWidth=function(t,r){var a=(r=r||{}).fontSize||this.internal.getFontSize(),s=r.font||this.internal.getFont(),n=r.charSpace||this.internal.getCharSpace();return dm.processArabic&&(t=dm.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,a,n)/a:Wx.apply(this,arguments).reduce(function(i,o){return i+o},0)},YT=function(t,r,a,s){for(var n=[],i=0,o=t.length,l=0;i!==o&&l+r[i]<a;)l+=r[i],i++;n.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+r[i]>s&&(n.push(t.slice(c,i)),l=0,c=i),l+=r[i],i++;return c!==i&&n.push(t.slice(c,i)),n},KT=function(t,r,a){a||(a={});var s,n,i,o,l,c,d,u=[],f=[u],p=a.textIndent||0,g=0,x=0,v=t.split(" "),w=Wx.apply(this,[" ",a])[0];if(c=a.lineIndent===-1?v[0].length+2:a.lineIndent||0){var j=Array(c).join(" "),_=[];v.map(function(N){(N=N.split(/\s*\n/)).length>1?_=_.concat(N.map(function(C,D){return(D&&C.length?`
`:"")+C})):_.push(N[0])}),v=_,c=GT.apply(this,[j,a])}for(i=0,o=v.length;i<o;i++){var S=0;if(s=v[i],c&&s[0]==`
`&&(s=s.substr(1),S=1),p+g+(x=(n=Wx.apply(this,[s,a])).reduce(function(N,C){return N+C},0))>r||S){if(x>r){for(l=YT.apply(this,[s,n,r-(p+g),r]),u.push(l.shift()),u=[l.pop()];l.length;)f.push([l.shift()]);x=n.slice(s.length-(u[0]?u[0].length:0)).reduce(function(N,C){return N+C},0)}else u=[s];f.push(u),p=x+c,g=w}else u.push(s),p+=g+x,g=w}return d=c?function(N,C){return(C?j:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(d)},dm.splitTextToSize=function(t,r,a){var s,n=(a=a||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,a);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*r/n;i.textIndent=a.textIndent?1*a.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=a.lineIndent;var l,c,d=[];for(l=0,c=s.length;l<c;l++)d=d.concat(KT.apply(this,[s[l],o,i]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var r="0123456789abcdef",a="klmnopqrstuvwxyz",s={},n={},i=0;i<16;i++)s[a[i]]=r[i],n[r[i]]=a[i];var o=function(p){return"0x"+parseInt(p,10).toString(16)},l=t.__fontmetrics__.compress=function(p){var g,x,v,w,j=["{"];for(var _ in p){if(g=p[_],isNaN(parseInt(_,10))?x="'"+_+"'":(_=parseInt(_,10),x=(x=o(_).slice(2)).slice(0,-1)+n[x.slice(-1)]),typeof g=="number")g<0?(v=o(g).slice(3),w="-"):(v=o(g).slice(2),w=""),v=w+v.slice(0,-1)+n[v.slice(-1)];else{if(ba(g)!=="object")throw new Error("Don't know what to do with value type "+ba(g)+".");v=l(g)}j.push(x+v)}return j.push("}"),j.join("")},c=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,x,v,w,j={},_=1,S=j,N=[],C="",D="",U=p.length-1,z=1;z<U;z+=1)(w=p[z])=="'"?g?(v=g.join(""),g=void 0):g=[]:g?g.push(w):w=="{"?(N.push([S,v]),S={},v=void 0):w=="}"?((x=N.pop())[0][x[1]]=S,v=void 0,S=x[0]):w=="-"?_=-1:v===void 0?s.hasOwnProperty(w)?(C+=s[w],v=parseInt(C,16)*_,_=1,C=""):C+=w:s.hasOwnProperty(w)?(D+=s[w],S[v]=parseInt(D,16)*_,_=1,v=void 0,D=""):D+=w;return j},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var g=p.font,x=f.Unicode[g.postScriptName];x&&(g.metadata.Unicode={},g.metadata.Unicode.widths=x.widths,g.metadata.Unicode.kerning=x.kerning);var v=u.Unicode[g.postScriptName];v&&(g.metadata.Unicode.encoding=v,g.encoding=v.codePages[0])}])})(sr.API),(function(t){var r=function(a){for(var s=a.length,n=new Uint8Array(s),i=0;i<s;i++)n[i]=a.charCodeAt(i);return n};t.API.events.push(["addFont",function(a){var s=void 0,n=a.font,i=a.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(s=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?r(l):r(fy(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(n,s)}}])})(sr),sr.API.addSvgAsImage=function(t,r,a,s,n,i,o,l){if(isNaN(r)||isNaN(a))throw Sa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(n))throw Sa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=n;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Pr.canvg?Promise.resolve(Pr.canvg):Oa(()=>import("./index.es-Dpx66Lm-.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(d,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(u)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),r,a,s,n,o,l)})},sr.API.putTotalPages=function(t){var r,a=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(t,"g"),a=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),a=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var n=0;n<this.internal.pages[s].length;n++)this.internal.pages[s][n]=this.internal.pages[s][n].replace(r,a);return this},sr.API.viewerPreferences=function(t,r){var a;t=t||{},r=r||!1;var s,n,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,f=0;function p(x,v){var w,j=!1;for(w=0;w<x.length;w+=1)x[w]===v&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),a=this.internal.viewerpreferences.configuration,t==="reset"||r===!0){var g=l.length;for(f=0;f<g;f+=1)a[l[f]].value=a[l[f]].defaultValue,a[l[f]].explicitSet=!1}if(ba(t)==="object"){for(n in t)if(i=t[n],p(l,n)&&i!==void 0){if(a[n].type==="boolean"&&typeof i=="boolean")a[n].value=i;else if(a[n].type==="name"&&p(a[n].valueSet,i))a[n].value=i;else if(a[n].type==="integer"&&Number.isInteger(i))a[n].value=i;else if(a[n].type==="array"){for(d=0;d<i.length;d+=1)if(s=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(s=!1);s===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}a[n].value="["+c.join(" ")+"]"}else a[n].value=a[n].defaultValue;a[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,v=[];for(x in a)a[x].explicitSet===!0&&(a[x].type==="name"?v.push("/"+x+" /"+a[x].value):v.push("/"+x+" "+a[x].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=a,this},(function(t){var r=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+n.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(n+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},a=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(s,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",a),this.internal.events.subscribe("postPutResources",r)),this}})(sr.API),(function(t){var r=t.API,a=r.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],f=0,p=i.length;f<p;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},s=function(i){var o,l,c,d,u,f,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(l=Object.keys(i).sort(function(g,x){return g-x})).length;f<p;f++)o=l[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",x=0;x<p.length;x++)g+=String.fromCharCode(p[x]);var v=d();u({data:g,addLength1:!0,objectId:v}),c("endobj");var w=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var j=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+hm(l.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var _=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+hm(l.fontName)),c("/FontDescriptor "+j+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+w+" 0 R"),c("/BaseFont /"+hm(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+_+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),r.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,p="",g=0;g<f.length;g++)p+=String.fromCharCode(f[g]);var x=d();u({data:p,addLength1:!0,objectId:x}),c("endobj");var v=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var w=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+hm(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var j=0;j<l.metadata.hmtx.widths.length;j++)l.metadata.hmtx.widths[j]=parseInt(l.metadata.hmtx.widths[j]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+hm(l.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var n=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},f=i.mutex||{},p=f.pdfEscape,g=f.activeFontKey,x=f.fonts,v=g,w="",j=0,_="",S=x[v].encoding;if(x[v].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:f};for(_=l,v=g,Array.isArray(l)&&(_=l[0]),j=0;j<_.length;j+=1)x[v].metadata.hasOwnProperty("cmap")&&(o=x[v].metadata.cmap.unicode.codeMap[_[j].charCodeAt(0)]),o||_[j].charCodeAt(0)<256&&x[v].metadata.hasOwnProperty("Unicode")?w+=_[j]:w+="";var N="";return parseInt(v.slice(1))<14||S==="WinAnsiEncoding"?N=p(w,v).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(N=a(w,x[v])),f.isHex=!0,{text:N,x:c,y:d,options:u,mutex:f}};r.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([n(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(n(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=n(Object.assign({},c,{text:o})).text}])})(sr),(function(t){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(a){return r.call(this),this.internal.vFS[a]!==void 0},t.addFileToVFS=function(a,s){return r.call(this),this.internal.vFS[a]=s,this},t.getFileFromVFS=function(a){return r.call(this),this.internal.vFS[a]!==void 0?this.internal.vFS[a]:null}})(sr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var n,i,o,l,c,d,u,f=r,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,S=0;this.__bidiEngine__={};var N=function(T){var F=T.charCodeAt(),Y=F>>8,O=v[Y];return O!==void 0?f[256*O+(255&F)]:Y===252||Y===253?"AL":j.test(Y)?"L":Y===8?"R":"N"},C=function(T){for(var F,Y=0;Y<T.length;Y++){if((F=N(T.charAt(Y)))==="L")return!1;if(F==="R")return!0}return!1},D=function(T,F,Y,O){var q,$,K,J,X=F[O];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(X="AN");break;case"AL":_=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":O<1||O+1>=F.length||(q=Y[O-1])!=="EN"&&q!=="AN"||($=F[O+1])!=="EN"&&$!=="AN"?X="N":_&&($="AN"),X=$===q?$:"N";break;case"ES":X=(q=O>0?Y[O-1]:"B")==="EN"&&O+1<F.length&&F[O+1]==="EN"?"EN":"N";break;case"ET":if(O>0&&Y[O-1]==="EN"){X="EN";break}if(_){X="N";break}for(K=O+1,J=F.length;K<J&&F[K]==="ET";)K++;X=K<J&&F[K]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(J=F.length,K=O+1;K<J&&F[K]==="NSM";)K++;if(K<J){var be=T[O],te=be>=1425&&be<=2303||be===64286;if(q=F[K],te&&(q==="R"||q==="AL")){X="R";break}}}X=O<1||(q=F[O-1])==="B"?"N":Y[O-1];break;case"B":_=!1,n=!0,X=S;break;case"S":i=!0,X="N"}return X},U=function(T,F,Y){var O=T.split("");return Y&&z(O,Y,{hiLevel:S}),O.reverse(),F&&F.reverse(),O.join("")},z=function(T,F,Y){var O,q,$,K,J,X=-1,be=T.length,te=0,R=[],ae=S?g:p,W=[];for(_=!1,n=!1,i=!1,q=0;q<be;q++)W[q]=N(T[q]);for($=0;$<be;$++){if(J=te,R[$]=D(T,W,R,$),O=240&(te=ae[J][x[R[$]]]),te&=15,F[$]=K=ae[te][5],O>0)if(O===16){for(q=X;q<$;q++)F[q]=1;X=-1}else X=-1;if(ae[te][6])X===-1&&(X=$);else if(X>-1){for(q=X;q<$;q++)F[q]=K;X=-1}W[$]==="B"&&(F[$]=0),Y.hiLevel|=K}i&&(function(pe,ce,we){for(var je=0;je<we;je++)if(pe[je]==="S"){ce[je]=S;for(var fe=je-1;fe>=0&&pe[fe]==="WS";fe--)ce[fe]=S}})(W,F,be)},E=function(T,F,Y,O,q){if(!(q.hiLevel<T)){if(T===1&&S===1&&!n)return F.reverse(),void(Y&&Y.reverse());for(var $,K,J,X,be=F.length,te=0;te<be;){if(O[te]>=T){for(J=te+1;J<be&&O[J]>=T;)J++;for(X=te,K=J-1;X<K;X++,K--)$=F[X],F[X]=F[K],F[K]=$,Y&&($=Y[X],Y[X]=Y[K],Y[K]=$);te=J}te++}}},I=function(T,F,Y){var O=T.split(""),q={hiLevel:S};return Y||(Y=[]),z(O,Y,q),(function($,K,J){if(J.hiLevel!==0&&u)for(var X,be=0;be<$.length;be++)K[be]===1&&(X=w.indexOf($[be]))>=0&&($[be]=w[X+1])})(O,Y,q),E(2,O,F,Y,q),E(1,O,F,Y,q),O.join("")};return this.__bidiEngine__.doBidiReorder=function(T,F,Y){if((function(q,$){if($)for(var K=0;K<q.length;K++)$[K]=K;l===void 0&&(l=C(q)),d===void 0&&(d=C(q))})(T,F),o||!c||d)if(o&&c&&l^d)S=l?1:0,T=U(T,F,Y);else if(!o&&c&&d)S=l?1:0,T=I(T,F,Y),T=U(T,F);else if(!o||l||c||d){if(o&&!c&&l^d)T=U(T,F),l?(S=0,T=I(T,F,Y)):(S=1,T=I(T,F,Y),T=U(T,F));else if(o&&l&&!c&&d)S=1,T=I(T,F,Y),T=U(T,F);else if(!o&&!c&&l^d){var O=u;l?(S=1,T=I(T,F,Y),S=0,u=!1,T=I(T,F,Y),u=O):(S=0,T=I(T,F,Y),T=U(T,F),S=1,u=!1,T=I(T,F,Y),u=O,T=U(T,F))}}else S=0,T=I(T,F,Y);else S=l?1:0,T=I(T,F,Y);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,c=T.isOutputVisual,l=T.isInputRtl,d=T.isOutputRtl,u=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],a=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var n=s.text;s.x,s.y;var i=s.options||{};s.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,a.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var l=0;for(o=[],l=0;l<n.length;l+=1)Object.prototype.toString.call(n[l])==="[object Array]"?o.push([a.doBidiReorder(n[l][0]),n[l][1],n[l][2]]):o.push([a.doBidiReorder(n[l])]);s.text=o}else s.text=a.doBidiReorder(n);a.setOptions({isInputVisual:!0})}])})(sr),sr.API.TTFFont=(function(){function t(r){var a;if(this.rawData=r,a=this.contents=new Ju(r),this.contents.pos=4,a.readString(4)==="ttcf")throw new Error("TTCF not supported.");a.pos=0,this.parse(),this.subset=new Fge(this),this.registerTTF()}return t.open=function(r){return new t(r)},t.prototype.parse=function(){return this.directory=new kge(this.contents),this.head=new _ge(this),this.name=new Tge(this),this.cmap=new nF(this),this.toUnicode={},this.hhea=new Age(this),this.maxp=new Dge(this),this.hmtx=new Ige(this),this.post=new Pge(this),this.os2=new Cge(this),this.loca=new Mge(this),this.glyf=new Oge(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var r,a,s,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)r=c[o],d.push(Math.round(r*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(n=this.post.italic_angle),32768&(a=n>>16)&&(a=-(1+(65535^a))),this.italicAngle=+(a+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(r){var a;return((a=this.cmap.unicode)!=null?a.codeMap[r]:void 0)||0},t.prototype.widthOfGlyph=function(r){var a;return a=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*a},t.prototype.widthOfString=function(r,a,s){var n,i,o,l;for(o=0,i=0,l=(r=""+r).length;0<=l?i<l:i>l;i=0<=l?++i:--i)n=r.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(n))+s*(1e3/a)||0;return o*(a/1e3)},t.prototype.lineHeight=function(r,a){var s;return a==null&&(a=!1),s=a?this.lineGap:0,(this.ascender+s-this.decender)/1e3*r},t})();var Yl,Ju=(function(){function t(r){this.data=r??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(r){return this.data[this.pos++]=r},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},t.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},t.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},t.prototype.readString=function(r){var a,s;for(s=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)s[a]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(r){var a,s,n;for(n=[],a=0,s=r.length;0<=s?a<s:a>s;a=0<=s?++a:--a)n.push(this.writeByte(r.charCodeAt(a)));return n},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(r){return this.writeInt16(r)},t.prototype.readLongLong=function(){var r,a,s,n,i,o,l,c;return r=this.readByte(),a=this.readByte(),s=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^a)+1099511627776*(255^s)+4294967296*(255^n)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*r+281474976710656*a+1099511627776*s+4294967296*n+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(r){var a,s;return a=Math.floor(r/4294967296),s=4294967295&r,this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(r){return this.writeInt32(r)},t.prototype.read=function(r){var a,s;for(a=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)a.push(this.readByte());return a},t.prototype.write=function(r){var a,s,n,i;for(i=[],s=0,n=r.length;s<n;s++)a=r[s],i.push(this.writeByte(a));return i},t})(),kge=(function(){var t;function r(a){var s,n,i;for(this.scalarType=a.readInt(),this.tableCount=a.readShort(),this.searchRange=a.readShort(),this.entrySelector=a.readShort(),this.rangeShift=a.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)s={tag:a.readString(4),checksum:a.readInt(),offset:a.readInt(),length:a.readInt()},this.tables[s.tag]=s}return r.prototype.encode=function(a){var s,n,i,o,l,c,d,u,f,p,g,x,v;for(v in g=Object.keys(a).length,c=Math.log(2),f=16*Math.floor(Math.log(g)/c),o=Math.floor(f/c),u=16*g-f,(n=new Ju).writeInt(this.scalarType),n.writeShort(g),n.writeShort(f),n.writeShort(o),n.writeShort(u),i=16*g,d=n.pos+i,l=null,x=[],a)for(p=a[v],n.writeString(v),n.writeInt(t(p)),n.writeInt(d),n.writeInt(p.length),x=x.concat(p),v==="head"&&(l=d),d+=p.length;d%4;)x.push(0),d++;return n.write(x),s=2981146554-t(n.data),n.pos=l+8,n.writeUInt32(s),n.data},t=function(a){var s,n,i,o;for(a=iF.call(a);a.length%4;)a.push(0);for(i=new Ju(a),n=0,s=0,o=a.length;s<o;s=s+=4)n+=i.readUInt32();return 4294967295&n},r})(),Sge={}.hasOwnProperty,Tc=function(t,r){for(var a in r)Sge.call(r,a)&&(t[a]=r[a]);function s(){this.constructor=t}return s.prototype=r.prototype,t.prototype=new s,t.__super__=r.prototype,t};Yl=(function(){function t(r){var a;this.file=r,a=this.file.directory.tables[this.tag],this.exists=!!a,a&&(this.offset=a.offset,this.length=a.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var _ge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Yl),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var a;return(a=new Ju).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(r),a.writeShort(this.glyphDataFormat),a.data},t})(),s7=(function(){function t(r,a){var s,n,i,o,l,c,d,u,f,p,g,x,v,w,j,_,S;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=a+r.readInt(),f=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=r.readByte();break;case 4:for(g=r.readUInt16(),p=g/2,r.pos+=6,i=(function(){var N,C;for(C=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)C.push(r.readUInt16());return C})(),r.pos+=2,v=(function(){var N,C;for(C=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)C.push(r.readUInt16());return C})(),d=(function(){var N,C;for(C=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)C.push(r.readUInt16());return C})(),u=(function(){var N,C;for(C=[],c=N=0;0<=p?N<p:N>p;c=0<=p?++N:--N)C.push(r.readUInt16());return C})(),n=(this.length-r.pos+this.offset)/2,l=(function(){var N,C;for(C=[],c=N=0;0<=n?N<n:N>n;c=0<=n?++N:--N)C.push(r.readUInt16());return C})(),c=j=0,S=i.length;j<S;c=++j)for(w=i[c],s=_=x=v[c];x<=w?_<=w:_>=w;s=x<=w?++_:--_)u[c]===0?o=s+d[c]:(o=l[u[c]/2+(s-x)-(p-c)]||0)!==0&&(o+=d[c]),this.codeMap[s]=65535&o}r.pos=f}return t.encode=function(r,a){var s,n,i,o,l,c,d,u,f,p,g,x,v,w,j,_,S,N,C,D,U,z,E,I,T,F,Y,O,q,$,K,J,X,be,te,R,ae,W,pe,ce,we,je,fe,xe,$e,ge;switch(O=new Ju,o=Object.keys(r).sort(function(ot,Ze){return ot-Ze}),a){case"macroman":for(v=0,w=(function(){var ot=[];for(x=0;x<256;++x)ot.push(0);return ot})(),_={0:0},i={},q=0,X=o.length;q<X;q++)_[fe=r[n=o[q]]]==null&&(_[fe]=++v),i[n]={old:r[n],new:_[r[n]]},w[n]=_[r[n]];return O.writeUInt16(1),O.writeUInt16(0),O.writeUInt32(12),O.writeUInt16(0),O.writeUInt16(262),O.writeUInt16(0),O.write(w),{charMap:i,subtable:O.data,maxGlyphID:v+1};case"unicode":for(F=[],f=[],S=0,_={},s={},j=d=null,$=0,be=o.length;$<be;$++)_[C=r[n=o[$]]]==null&&(_[C]=++S),s[n]={old:C,new:_[C]},l=_[C]-n,j!=null&&l===d||(j&&f.push(j),F.push(n),d=l),j=n;for(j&&f.push(j),f.push(65535),F.push(65535),I=2*(E=F.length),z=2*Math.pow(Math.log(E)/Math.LN2,2),p=Math.log(z/2)/Math.LN2,U=2*E-z,c=[],D=[],g=[],x=K=0,te=F.length;K<te;x=++K){if(T=F[x],u=f[x],T===65535){c.push(0),D.push(0);break}if(T-(Y=s[T].new)>=32768)for(c.push(0),D.push(2*(g.length+E-x)),n=J=T;T<=u?J<=u:J>=u;n=T<=u?++J:--J)g.push(s[n].new);else c.push(Y-T),D.push(0)}for(O.writeUInt16(3),O.writeUInt16(1),O.writeUInt32(12),O.writeUInt16(4),O.writeUInt16(16+8*E+2*g.length),O.writeUInt16(0),O.writeUInt16(I),O.writeUInt16(z),O.writeUInt16(p),O.writeUInt16(U),we=0,R=f.length;we<R;we++)n=f[we],O.writeUInt16(n);for(O.writeUInt16(0),je=0,ae=F.length;je<ae;je++)n=F[je],O.writeUInt16(n);for(xe=0,W=c.length;xe<W;xe++)l=c[xe],O.writeUInt16(l);for($e=0,pe=D.length;$e<pe;$e++)N=D[$e],O.writeUInt16(N);for(ge=0,ce=g.length;ge<ce;ge++)v=g[ge],O.writeUInt16(v);return{charMap:s,subtable:O.data,maxGlyphID:S+1}}},t})(),nF=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Yl),t.prototype.tag="cmap",t.prototype.parse=function(r){var a,s,n;for(r.pos=this.offset,this.version=r.readUInt16(),n=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a=new s7(r,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},t.encode=function(r,a){var s,n;return a==null&&(a="macroman"),s=s7.encode(r,a),(n=new Ju).writeUInt16(0),n.writeUInt16(1),s.table=n.data.concat(s.subtable),s},t})(),Age=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Yl),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t})(),Cge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Yl),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var a,s;for(s=[],a=0;a<10;++a)s.push(r.readByte());return s})(),this.charRange=(function(){var a,s;for(s=[],a=0;a<4;++a)s.push(r.readInt());return s})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var a,s;for(s=[],a=0;a<2;a=++a)s.push(r.readInt());return s})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t})(),Pge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Yl),t.prototype.tag="post",t.prototype.parse=function(r){var a,s,n;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(s=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],n=[];r.pos<this.offset+this.length;)a=r.readByte(),n.push(this.names.push(r.readString(a)));return n;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t})(),Ege=function(t,r){this.raw=t,this.length=t.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},Tge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Yl),t.prototype.tag="name",t.prototype.parse=function(r){var a,s,n,i,o,l,c,d,u,f,p;for(r.pos=this.offset,r.readShort(),a=r.readShort(),l=r.readShort(),s=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},i=u=0,f=s.length;u<f;i=++u)n=s[i],r.pos=n.offset,d=r.readString(n.length),o=new Ege(d,n),c[p=n.nameID]==null&&(c[p]=[]),c[n.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),Dge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Yl),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t})(),Ige=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Yl),t.prototype.tag="hmtx",t.prototype.parse=function(r){var a,s,n,i,o,l,c;for(r.pos=this.offset,this.metrics=[],a=0,l=this.file.hhea.numberOfMetrics;0<=l?a<l:a>l;a=0<=l?++a:--a)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,u;for(u=[],a=d=0;0<=n?d<n:d>n;a=0<=n?++d:--d)u.push(r.readInt16());return u})(),this.widths=(function(){var d,u,f,p;for(p=[],d=0,u=(f=this.metrics).length;d<u;d++)i=f[d],p.push(i.advance);return p}).call(this),s=this.widths[this.widths.length-1],c=[],a=o=0;0<=n?o<n:o>n;a=0<=n?++o:--o)c.push(this.widths.push(s));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t})(),iF=[].slice,Oge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Yl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var a,s,n,i,o,l,c,d,u,f;return r in this.cache?this.cache[r]:(i=this.file.loca,a=this.file.contents,s=i.indexOf(r),(n=i.lengthOf(r))===0?this.cache[r]=null:(a.pos=this.offset+s,o=(l=new Ju(a.read(n))).readShort(),d=l.readShort(),f=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[r]=o===-1?new Lge(l,d,f,c,u):new Rge(l,o,d,f,c,u),this.cache[r]))},t.prototype.encode=function(r,a,s){var n,i,o,l,c;for(o=[],i=[],l=0,c=a.length;l<c;l++)n=r[a[l]],i.push(o.length),n&&(o=o.concat(n.encode(s)));return i.push(o.length),{table:o,offsets:i}},t})(),Rge=(function(){function t(r,a,s,n,i,o){this.raw=r,this.numberOfContours=a,this.xMin=s,this.yMin=n,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Lge=(function(){function t(r,a,s,n,i){var o,l;for(this.raw=r,this.xMin=a,this.yMin=s,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var r,a,s;for(a=new Ju(iF.call(this.raw.data)),r=0,s=this.glyphIDs.length;r<s;++r)a.pos=this.glyphOffsets[r];return a.data},t})(),Mge=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tc(t,Yl),t.prototype.tag="loca",t.prototype.parse=function(r){var a,s;return r.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var n,i;for(i=[],s=0,n=this.length;s<n;s+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var n,i;for(i=[],s=0,n=this.length;s<n;s+=4)i.push(r.readUInt32());return i}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,a){for(var s=new Uint32Array(this.offsets.length),n=0,i=0,o=0;o<s.length;++o)if(s[o]=n,i<a.length&&a[i]==o){++i,s[o]=n;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(n+=c)}for(var d=new Array(4*s.length),u=0;u<s.length;++u)d[4*u+3]=255&s[u],d[4*u+2]=(65280&s[u])>>8,d[4*u+1]=(16711680&s[u])>>16,d[4*u]=(4278190080&s[u])>>24;return d},t})(),Fge=(function(){function t(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var r,a,s,n,i;for(a in n=this.font.cmap.tables[0].codeMap,r={},i=this.subset)s=i[a],r[a]=n[s];return r},t.prototype.glyphsFor=function(r){var a,s,n,i,o,l,c;for(n={},o=0,l=r.length;o<l;o++)n[i=r[o]]=this.font.glyf.glyphFor(i);for(i in a=[],n)(s=n[i])!=null&&s.compound&&a.push.apply(a,s.glyphIDs);if(a.length>0)for(i in c=this.glyphsFor(a))s=c[i],n[i]=s;return n},t.prototype.encode=function(r,a){var s,n,i,o,l,c,d,u,f,p,g,x,v,w,j;for(n in s=nF.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(r),g={0:0},j=s.charMap)g[(c=j[n]).old]=c.new;for(x in p=s.maxGlyphID,o)x in g||(g[x]=p++);return u=(function(_){var S,N;for(S in N={},_)N[_[S]]=S;return N})(g),f=Object.keys(u).sort(function(_,S){return _-S}),v=(function(){var _,S,N;for(N=[],_=0,S=f.length;_<S;_++)l=f[_],N.push(u[l]);return N})(),i=this.font.glyf.encode(o,v,g),d=this.font.loca.encode(i.offsets,v),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(a)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t})();sr.API.PDFObject=(function(){var t;function r(){}return t=function(a,s){return(Array(s+1).join("0")+a).slice(-s)},r.convert=function(a){var s,n,i,o;if(Array.isArray(a))return"["+(function(){var l,c,d;for(d=[],l=0,c=a.length;l<c;l++)s=a[l],d.push(r.convert(s));return d})().join(" ")+"]";if(typeof a=="string")return"/"+a;if(a?.isString)return"("+a+")";if(a instanceof Date)return"(D:"+t(a.getUTCFullYear(),4)+t(a.getUTCMonth(),2)+t(a.getUTCDate(),2)+t(a.getUTCHours(),2)+t(a.getUTCMinutes(),2)+t(a.getUTCSeconds(),2)+"Z)";if({}.toString.call(a)==="[object Object]"){for(n in i=["<<"],a)o=a[n],i.push("/"+n+" "+r.convert(o));return i.push(">>"),i.join(`
`)}return""+a},r})();const oF=Object.freeze(Object.defineProperty({__proto__:null,AcroFormAppearance:ar,AcroFormButton:tn,AcroFormCheckBox:vp,AcroFormChoiceField:lh,AcroFormComboBox:dh,AcroFormEditBox:yp,AcroFormListBox:ch,AcroFormPasswordField:wp,AcroFormPushButton:bp,AcroFormRadioButton:uh,AcroFormTextField:zu,GState:Yp,ShadingPattern:Lu,TilingPattern:X0,default:sr,jsPDF:sr},Symbol.toStringTag,{value:"Module"}));function lF(t,r,a,s,n){s=s||{};var i=1.15,o=n.internal.scaleFactor,l=n.internal.getFontSize()/o,c=n.getLineHeightFactor?n.getLineHeightFactor():i,d=l*c,u=/\r\n|\r|\n/g,f="",p=1;if((s.valign==="middle"||s.valign==="bottom"||s.halign==="center"||s.halign==="right")&&(f=typeof t=="string"?t.split(u):t,p=f.length||1),a+=l*(2-i),s.valign==="middle"?a-=p/2*d:s.valign==="bottom"&&(a-=p*d),s.halign==="center"||s.halign==="right"){var g=l;if(s.halign==="center"&&(g*=.5),f&&p>=1){for(var x=0;x<f.length;x++)n.text(f[x],r-n.getStringUnitWidth(f[x])*g,a),a+=d;return n}r-=n.getStringUnitWidth(t)*g}return s.halign==="justify"?n.text(t,r,a,{maxWidth:s.maxWidth||100,align:"justify"}):n.text(t,r,a),n}var n7={},Am=(function(){function t(r){this.jsPDFDocument=r,this.userStyles={textColor:r.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:r.internal.getFontSize(),fontStyle:r.internal.getFont().fontStyle,font:r.internal.getFont().fontName,lineWidth:r.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:r.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(r,a){a===void 0&&(a=null),a?a.__autoTableDocumentDefaults=r:n7=r},t.unifyColor=function(r){return Array.isArray(r)?r:typeof r=="number"?[r,r,r]:typeof r=="string"?[r]:null},t.prototype.applyStyles=function(r,a){var s,n,i;a===void 0&&(a=!1),r.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(r.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(r.font&&(c=r.font),r.fontStyle){l=r.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),r.fontSize&&this.jsPDFDocument.setFontSize(r.fontSize),!a){var u=t.unifyColor(r.fillColor);u&&(s=this.jsPDFDocument).setFillColor.apply(s,u),u=t.unifyColor(r.textColor),u&&(n=this.jsPDFDocument).setTextColor.apply(n,u),u=t.unifyColor(r.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof r.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(r.lineWidth)}},t.prototype.splitTextToSize=function(r,a,s){return this.jsPDFDocument.splitTextToSize(r,a,s)},t.prototype.rect=function(r,a,s,n,i){return this.jsPDFDocument.rect(r,a,s,n,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(r){return this.jsPDFDocument.getTextWidth(r)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(r){this.jsPDFDocument.setPage(r)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return n7||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var r=this.jsPDFDocument.internal.pageSize;return r.width==null&&(r={width:r.getWidth(),height:r.getHeight()}),r},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var r=this.jsPDFDocument;return r.getLineHeightFactor?r.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(r){return r/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var r=this.jsPDFDocument.internal.getCurrentPageInfo();return r?r.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),KN=function(t,r){return KN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(a[n]=s[n])},KN(t,r)};function cF(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");KN(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}var dF=(function(t){cF(r,t);function r(a){var s=t.call(this)||this;return s._element=a,s}return r})(Array);function $ge(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Bge(t){var r={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return r[t]}function kb(t,r,a){a.applyStyles(r,!0);var s=Array.isArray(t)?t:[t],n=s.map(function(i){return a.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return n}function uF(t,r,a,s){var n=r.settings.tableLineWidth,i=r.settings.tableLineColor;t.applyStyles({lineWidth:n,lineColor:i});var o=hF(n,!1);o&&t.rect(a.x,a.y,r.getWidth(t.pageSize().width),s.y-a.y,o)}function hF(t,r){var a=t>0,s=r||r===0;return a&&s?"DF":a?"S":s?"F":null}function _v(t,r){var a,s,n,i;if(t=t||r,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=r}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(a=t.left)!==null&&a!==void 0?a:r,top:(s=t.top)!==null&&s!==void 0?s:r,right:(n=t.right)!==null&&n!==void 0?n:r,bottom:(i=t.bottom)!==null&&i!==void 0?i:r}):(typeof t!="number"&&(t=r),{top:t,right:t,bottom:t,left:t})}function mF(t,r){var a=_v(r.settings.margin,0);return t.pageSize().width-(a.left+a.right)}function Uge(t,r,a,s,n){var i={},o=1.3333333333333333,l=Y1(r,function(S){return n.getComputedStyle(S).backgroundColor});l!=null&&(i.fillColor=l);var c=Y1(r,function(S){return n.getComputedStyle(S).color});c!=null&&(i.textColor=c);var d=qge(s,a);d&&(i.cellPadding=d);var u="borderTopColor",f=o*a,p=s.borderTopWidth;if(s.borderBottomWidth===p&&s.borderRightWidth===p&&s.borderLeftWidth===p){var g=(parseFloat(p)||0)/f;g&&(i.lineWidth=g)}else i.lineWidth={top:(parseFloat(s.borderTopWidth)||0)/f,right:(parseFloat(s.borderRightWidth)||0)/f,bottom:(parseFloat(s.borderBottomWidth)||0)/f,left:(parseFloat(s.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var x=Y1(r,function(S){return n.getComputedStyle(S)[u]});x!=null&&(i.lineColor=x);var v=["left","right","center","justify"];v.indexOf(s.textAlign)!==-1&&(i.halign=s.textAlign),v=["middle","bottom","top"],v.indexOf(s.verticalAlign)!==-1&&(i.valign=s.verticalAlign);var w=parseInt(s.fontSize||"");isNaN(w)||(i.fontSize=w/o);var j=zge(s);j&&(i.fontStyle=j);var _=(s.fontFamily||"").toLowerCase();return t.indexOf(_)!==-1&&(i.font=_),i}function zge(t){var r="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(r="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(r+="italic"),r}function Y1(t,r){var a=fF(t,r);if(!a)return null;var s=a.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!s||!Array.isArray(s))return null;var n=[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])],i=parseInt(s[4]);return i===0||isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function fF(t,r){var a=r(t);return a==="rgba(0, 0, 0, 0)"||a==="transparent"||a==="initial"||a==="inherit"?t.parentElement==null?null:fF(t.parentElement,r):a}function qge(t,r){var a=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],s=96/(72/r),n=(parseInt(t.lineHeight)-parseInt(t.fontSize))/r/2,i=a.map(function(l){return parseInt(l||"0")/s}),o=_v(i,0);return n>o.top&&(o.top=n),n>o.bottom&&(o.bottom=n),o}function pF(t,r,a,s,n){var i,o;s===void 0&&(s=!1),n===void 0&&(n=!1);var l;typeof r=="string"?l=a.document.querySelector(r):l=r;var c=Object.keys(t.getFontList()),d=t.scaleFactor(),u=[],f=[],p=[];if(!l)return console.error("Html table could not be found with input: ",r),{head:u,body:f,foot:p};for(var g=0;g<l.rows.length;g++){var x=l.rows[g],v=(o=(i=x?.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),w=Vge(c,d,a,x,s,n);w&&(v==="thead"?u.push(w):v==="tfoot"?p.push(w):f.push(w))}return{head:u,body:f,foot:p}}function Vge(t,r,a,s,n,i){for(var o=new dF(s),l=0;l<s.cells.length;l++){var c=s.cells[l],d=a.getComputedStyle(c);if(n||d.display!=="none"){var u=void 0;i&&(u=Uge(t,c,r,d,a)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:Hge(c)})}}var f=a.getComputedStyle(s);if(o.length>0&&(n||f.display!=="none"))return o}function Hge(t){var r=t.cloneNode(!0);return r.innerHTML=r.innerHTML.replace(/\n/g,"").replace(/ +/g," "),r.innerHTML=r.innerHTML.split(/<br.*?>/).map(function(a){return a.trim()}).join(`
`),r.innerText||r.textContent||""}function Wge(t,r,a){for(var s=0,n=[t,r,a];s<n.length;s++){var i=n[s];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function bd(t,r,a,s,n){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function gF(t,r){var a=new Am(t),s=a.getDocumentOptions(),n=a.getGlobalOptions();Wge(n,s,r);var i=bd({},n,s,r),o;typeof window<"u"&&(o=window);var l=Gge(n,s,r),c=Yge(n,s,r),d=Kge(a,i),u=Xge(a,i,o);return{id:r.tableId,content:u,hooks:c,styles:l,settings:d}}function Gge(t,r,a){for(var s={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},n=function(c){if(c==="columnStyles"){var d=t[c],u=r[c],f=a[c];s.columnStyles=bd({},d,u,f)}else{var p=[t,r,a],g=p.map(function(x){return x[c]||{}});s[c]=bd({},g[0],g[1],g[2])}},i=0,o=Object.keys(s);i<o.length;i++){var l=o[i];n(l)}return s}function Yge(t,r,a){for(var s=[t,r,a],n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=s;i<o.length;i++){var l=o[i];l.didParseCell&&n.didParseCell.push(l.didParseCell),l.willDrawCell&&n.willDrawCell.push(l.willDrawCell),l.didDrawCell&&n.didDrawCell.push(l.didDrawCell),l.willDrawPage&&n.willDrawPage.push(l.willDrawPage),l.didDrawPage&&n.didDrawPage.push(l.didDrawPage)}return n}function Kge(t,r){var a,s,n,i,o,l,c,d,u,f,p,g,x=_v(r.margin,40/t.scaleFactor()),v=(a=Jge(t,r.startY))!==null&&a!==void 0?a:x.top,w;r.showFoot===!0?w="everyPage":r.showFoot===!1?w="never":w=(s=r.showFoot)!==null&&s!==void 0?s:"everyPage";var j;r.showHead===!0?j="everyPage":r.showHead===!1?j="never":j=(n=r.showHead)!==null&&n!==void 0?n:"everyPage";var _=(i=r.useCss)!==null&&i!==void 0?i:!1,S=r.theme||(_?"plain":"striped"),N=!!r.horizontalPageBreak,C=(o=r.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=r.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:_,theme:S,startY:v,margin:x,pageBreak:(c=r.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=r.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=r.tableWidth)!==null&&u!==void 0?u:"auto",showHead:j,showFoot:w,tableLineWidth:(f=r.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(p=r.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:N,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(g=r.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function Jge(t,r){var a=t.getLastAutoTable(),s=t.scaleFactor(),n=t.pageNumber(),i=!1;if(a&&a.startPageNumber){var o=a.startPageNumber+a.pageNumber-1;i=o===n}return typeof r=="number"?r:(r==null||r===!1)&&i&&a?.finalY!=null?a.finalY+20/s:null}function Xge(t,r,a){var s=r.head||[],n=r.body||[],i=r.foot||[];if(r.html){var o=r.includeHiddenHtml;if(a){var l=pF(t,r.html,a,o,r.useCss)||{};s=l.head||s,n=l.body||s,i=l.foot||s}else console.error("Cannot parse html in non browser environment")}var c=r.columns||Zge(s,n,i);return{columns:c,head:s,body:n,foot:i}}function Zge(t,r,a){var s=t[0]||r[0]||a[0]||[],n=[];return Object.keys(s).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(s)?l=s[parseInt(i)]:l=s[i],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(s)?d=n.length:d=i+(c>0?"_".concat(c):"");var u={dataKey:d};n.push(u)}}),n}var Sb=(function(){function t(r,a,s){this.table=a,this.pageNumber=a.pageNumber,this.settings=a.settings,this.cursor=s,this.doc=r.getDocument()}return t})(),xF=(function(t){cF(r,t);function r(a,s,n,i,o,l){var c=t.call(this,a,s,l)||this;return c.cell=n,c.row=i,c.column=o,c.section=i.section,c}return r})(Sb),yF=(function(){function t(r,a){this.pageNumber=1,this.id=r.id,this.settings=r.settings,this.styles=r.styles,this.hooks=r.hooks,this.columns=a.columns,this.head=a.head,this.body=a.body,this.foot=a.foot}return t.prototype.getHeadHeight=function(r){return this.head.reduce(function(a,s){return a+s.getMaxCellHeight(r)},0)},t.prototype.getFootHeight=function(r){return this.foot.reduce(function(a,s){return a+s.getMaxCellHeight(r)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(r,a,s,n,i,o){for(var l=0,c=a;l<c.length;l++){var d=c[l],u=new xF(r,this,s,n,i,o),f=d(u)===!1;if(s.text=Array.isArray(s.text)?s.text:[s.text],f)return!1}return!0},t.prototype.callEndPageHooks=function(r,a){r.applyStyles(r.userStyles);for(var s=0,n=this.hooks.didDrawPage;s<n.length;s++){var i=n[s];i(new Sb(r,this,a))}},t.prototype.callWillDrawPageHooks=function(r,a){for(var s=0,n=this.hooks.willDrawPage;s<n.length;s++){var i=n[s];i(new Sb(r,this,a))}},t.prototype.getWidth=function(r){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var a=this.columns.reduce(function(n,i){return n+i.wrappedWidth},0);return a}else{var s=this.settings.margin;return r-s.left-s.right}},t})(),h4=(function(){function t(r,a,s,n,i){i===void 0&&(i=!1),this.height=0,this.raw=r,r instanceof dF&&(this.raw=r._element,this.element=r._element),this.index=a,this.section=s,this.cells=n,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(r){var a=this;return r.reduce(function(s,n){var i;return Math.max(s,((i=a.cells[n.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(r){var a=this;return r.filter(function(s){var n=a.cells[s.index];return n?n.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(r,a){return this.getMaxCellHeight(a)<=r},t.prototype.getMinimumRowHeight=function(r,a){var s=this;return r.reduce(function(n,i){var o=s.cells[i.index];if(!o)return 0;var l=a.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>n?d:n},0)},t})(),m4=(function(){function t(r,a,s){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=a,this.section=s,this.raw=r;var i=r;r!=null&&typeof r=="object"&&!Array.isArray(r)?(this.rowSpan=r.rowSpan||1,this.colSpan=r.colSpan||1,i=(n=r.content)!==null&&n!==void 0?n:r,r._element&&(this.raw=r._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var r;if(this.styles.valign==="top")r=this.y+this.padding("top");else if(this.styles.valign==="bottom")r=this.y+this.height-this.padding("bottom");else{var a=this.height-this.padding("vertical");r=this.y+a/2+this.padding("top")}var s;if(this.styles.halign==="right")s=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var n=this.width-this.padding("horizontal");s=this.x+n/2+this.padding("left")}else s=this.x+this.padding("left");return{x:s,y:r}},t.prototype.getContentHeight=function(r,a){a===void 0&&(a=1.15);var s=Array.isArray(this.text)?this.text.length:1,n=this.styles.fontSize/r*a,i=s*n+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(r){var a=_v(this.styles.cellPadding,0);return r==="vertical"?a.top+a.bottom:r==="horizontal"?a.left+a.right:a[r]},t})(),bF=(function(){function t(r,a,s){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=r,this.raw=a,this.index=s}return t.prototype.getMaxCustomCellWidth=function(r){for(var a=0,s=0,n=r.allRows();s<n.length;s++){var i=n[s],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(a=Math.max(a,o.styles.cellWidth))}return a},t})();function Qge(t,r){exe(t,r);var a=[],s=0;r.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(r);o?i.width=o:(i.width=i.wrappedWidth,a.push(i)),s+=i.width});var n=r.getWidth(t.pageSize().width)-s;n&&(n=JN(a,n,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),n&&(n=JN(a,n,function(i){return i.minWidth})),n=Math.abs(n),!r.settings.horizontalPageBreak&&n>.1/t.scaleFactor()&&(n=n<1?n:Math.round(n),console.warn("Of the table content, ".concat(n," units width could not fit page"))),rxe(r),axe(r,t),txe(r)}function exe(t,r){var a=t.scaleFactor(),s=r.settings.horizontalPageBreak,n=mF(t,r);r.allRows().forEach(function(i){for(var o=0,l=r.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){var u=r.hooks.didParseCell;r.callCellHooks(t,u,d,i,c,null);var f=d.padding("horizontal");d.contentWidth=kb(d.text,d.styles,t)+f;var p=kb(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=p+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||s===!0)d.contentWidth>n?(d.minWidth=n,d.wrappedWidth=n):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var g=10/a;d.minWidth=d.styles.minCellWidth||g,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),r.allRows().forEach(function(i){for(var o=0,l=r.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=r.styles.columnStyles[c.dataKey]||r.styles.columnStyles[c.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function JN(t,r,a){for(var s=r,n=t.reduce(function(g,x){return g+x.wrappedWidth},0),i=0;i<t.length;i++){var o=t[i],l=o.wrappedWidth/n,c=s*l,d=o.width+c,u=a(o),f=d<u?u:d;r-=f-o.width,o.width=f}if(r=Math.round(r*1e10)/1e10,r){var p=t.filter(function(g){return r<0?g.width>a(g):!0});p.length&&(r=JN(p,r,a))}return r}function txe(t){for(var r={},a=1,s=t.allRows(),n=0;n<s.length;n++)for(var i=s[n],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=r[c.index];if(a>1)a--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,a=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete r[c.index];else{var u=i.cells[c.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=s.length-n,p=u.rowSpan>f?f:u.rowSpan;r[c.index]={cell:u,left:p,row:i}}}}}function rxe(t){for(var r=t.allRows(),a=0;a<r.length;a++)for(var s=r[a],n=null,i=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])i+=c.width,delete s.cells[c.index];else if(n){var d=n;delete s.cells[c.index],n=null,d.width=c.width+i}else{var d=s.cells[c.index];if(!d)continue;if(o=d.colSpan,i=0,d.colSpan>1){n=d,i+=c.width;continue}d.width=c.width+i}}}function axe(t,r){for(var a={count:0,height:0},s=0,n=t.allRows();s<n.length;s++){for(var i=n[s],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){r.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=r.splitTextToSize(d.text,u+1/r.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=i7(d.text,u,d.styles,r,"...");else if(d.styles.overflow==="hidden")d.text=i7(d.text,u,d.styles,r,"");else if(typeof d.styles.overflow=="function"){var f=d.styles.overflow(d.text,u);typeof f=="string"?d.text=[f]:d.text=f}d.contentHeight=d.getContentHeight(r.scaleFactor(),r.getLineHeightFactor());var p=d.contentHeight/d.rowSpan;d.rowSpan>1&&a.count*a.height<p*d.rowSpan?a={height:p,count:d.rowSpan}:a&&a.count>0&&a.height>p&&(p=a.height),p>i.height&&(i.height=p)}}a.count--}}function i7(t,r,a,s,n){return t.map(function(i){return sxe(i,r,a,s,n)})}function sxe(t,r,a,s,n){var i=1e4*s.scaleFactor();if(r=Math.ceil(r*i)/i,r>=kb(t,a,s))return t;for(;r<kb(t+n,a,s)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+n}function vF(t,r){var a=new Am(t),s=nxe(r,a.scaleFactor()),n=new yF(r,s);return Qge(a,n),a.applyStyles(a.userStyles),n}function nxe(t,r){var a=t.content,s=oxe(a.columns);if(a.head.length===0){var n=o7(s,"head");n&&a.head.push(n)}if(a.foot.length===0){var n=o7(s,"foot");n&&a.foot.push(n)}var i=t.settings.theme,o=t.styles;return{columns:s,head:K1("head",a.head,s,o,i,r),body:K1("body",a.body,s,o,i,r),foot:K1("foot",a.foot,s,o,i,r)}}function K1(t,r,a,s,n,i){var o={},l=r.map(function(c,d){for(var u=0,f={},p=0,g=0,x=0,v=a;x<v.length;x++){var w=v[x];if(o[w.index]==null||o[w.index].left===0)if(g===0){var j=void 0;Array.isArray(c)?j=c[w.index-p-u]:j=c[w.dataKey];var _={};typeof j=="object"&&!Array.isArray(j)&&(_=j?.styles||{});var S=lxe(t,w,d,n,s,i,_),N=new m4(j,S,t);f[w.dataKey]=N,f[w.index]=N,g=N.colSpan-1,o[w.index]={left:N.rowSpan-1,times:g}}else g--,p++;else o[w.index].left--,g=o[w.index].times,u++}return new h4(c,d,t,f)});return l}function o7(t,r){var a={};return t.forEach(function(s){if(s.raw!=null){var n=ixe(r,s.raw);n!=null&&(a[s.dataKey]=n)}}),Object.keys(a).length>0?a:null}function ixe(t,r){if(t==="head"){if(typeof r=="object")return r.header||null;if(typeof r=="string"||typeof r=="number")return r}else if(t==="foot"&&typeof r=="object")return r.footer;return null}function oxe(t){return t.map(function(r,a){var s,n;return typeof r=="object"?n=(s=r.dataKey)!==null&&s!==void 0?s:a:n=a,new bF(n,r,a)})}function lxe(t,r,a,s,n,i,o){var l=Bge(s),c;t==="head"?c=n.headStyles:t==="body"?c=n.bodyStyles:t==="foot"&&(c=n.footStyles);var d=bd({},l.table,l[t],n.styles,c),u=n.columnStyles[r.dataKey]||n.columnStyles[r.index]||{},f=t==="body"?u:{},p=t==="body"&&a%2===0?bd({},l.alternateRow,n.alternateRowStyles):{},g=$ge(i),x=bd({},g,d,p,f);return bd(x,o)}function cxe(t,r,a){var s;a===void 0&&(a={});var n=mF(t,r),i=new Map,o=[],l=[],c=[];Array.isArray(r.settings.horizontalPageBreakRepeat)?c=r.settings.horizontalPageBreakRepeat:(typeof r.settings.horizontalPageBreakRepeat=="string"||typeof r.settings.horizontalPageBreakRepeat=="number")&&(c=[r.settings.horizontalPageBreakRepeat]),c.forEach(function(p){var g=r.columns.find(function(x){return x.dataKey===p||x.index===p});g&&!i.has(g.index)&&(i.set(g.index,!0),o.push(g.index),l.push(r.columns[g.index]),n-=g.wrappedWidth)});for(var d=!0,u=(s=a?.start)!==null&&s!==void 0?s:0;u<r.columns.length;){if(i.has(u)){u++;continue}var f=r.columns[u].wrappedWidth;if(d||n>=f)d=!1,o.push(u),l.push(r.columns[u]),n-=f;else break;u++}return{colIndexes:o,columns:l,lastIndex:u-1}}function dxe(t,r){for(var a=[],s=0;s<r.columns.length;s++){var n=cxe(t,r,{start:s});n.columns.length&&(a.push(n),s=n.lastIndex)}return a}function wF(t,r){var a=r.settings,s=a.startY,n=a.margin,i={x:n.left,y:s},o=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns),l=s+n.bottom+o;if(a.pageBreak==="avoid"){var c=r.body,d=c.reduce(function(p,g){return p+g.height},0);l+=d}var u=new Am(t);(a.pageBreak==="always"||a.startY!=null&&l>u.pageSize().height)&&(NF(u),i.y=n.top),r.callWillDrawPageHooks(u,i);var f=bd({},i);r.startPageNumber=u.pageNumber(),a.horizontalPageBreak?uxe(u,r,f,i):(u.applyStyles(u.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&r.head.forEach(function(p){return Md(u,r,p,i,r.columns)}),u.applyStyles(u.userStyles),r.body.forEach(function(p,g){var x=g===r.body.length-1;_b(u,r,p,x,f,i,r.columns)}),u.applyStyles(u.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&r.foot.forEach(function(p){return Md(u,r,p,i,r.columns)})),uF(u,r,f,i),r.callEndPageHooks(u,i),r.finalY=i.y,t.lastAutoTable=r,u.applyStyles(u.userStyles)}function uxe(t,r,a,s){var n=dxe(t,r),i=r.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")n.forEach(function(d,u){t.applyStyles(t.userStyles),u>0?jp(t,r,a,s,d.columns,!0):l7(t,r,s,d.columns),hxe(t,r,a,s,d.columns),J1(t,r,s,d.columns)});else for(var o=-1,l=n[0],c=function(){var d=o;if(l){t.applyStyles(t.userStyles);var u=l.columns;o>=0?jp(t,r,a,s,u,!0):l7(t,r,s,u),d=c7(t,r,o+1,s,u),J1(t,r,s,u)}var f=d-o;n.slice(1).forEach(function(p){t.applyStyles(t.userStyles),jp(t,r,a,s,p.columns,!0),c7(t,r,o+1,s,p.columns,f),J1(t,r,s,p.columns)}),o=d};o<r.body.length-1;)c()}function l7(t,r,a,s){var n=r.settings;t.applyStyles(t.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&r.head.forEach(function(i){return Md(t,r,i,a,s)})}function hxe(t,r,a,s,n){t.applyStyles(t.userStyles),r.body.forEach(function(i,o){var l=o===r.body.length-1;_b(t,r,i,l,a,s,n)})}function c7(t,r,a,s,n,i){t.applyStyles(t.userStyles),i=i??r.body.length;var o=Math.min(a+i,r.body.length),l=-1;return r.body.slice(a,o).forEach(function(c,d){var u=a+d===r.body.length-1,f=jF(t,r,u,s);c.canEntireRowFit(f,n)&&(Md(t,r,c,s,n),l=a+d)}),l}function J1(t,r,a,s){var n=r.settings;t.applyStyles(t.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&r.foot.forEach(function(i){return Md(t,r,i,a,s)})}function mxe(t,r,a){var s=a.getLineHeight(t.styles.fontSize),n=t.padding("vertical"),i=Math.floor((r-n)/s);return Math.max(0,i)}function fxe(t,r,a,s){var n={};t.spansMultiplePages=!0,t.height=0;for(var i=0,o=0,l=a.columns;o<l.length;o++){var c=l[o],d=t.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new m4(d.raw,d.styles,d.section);u=bd(u,d),u.text=[];var f=mxe(d,r,s);d.text.length>f&&(u.text=d.text.splice(f,d.text.length));var p=s.scaleFactor(),g=s.getLineHeightFactor();d.contentHeight=d.getContentHeight(p,g),d.contentHeight>=r&&(d.contentHeight=r,u.styles.minCellHeight-=r),d.contentHeight>t.height&&(t.height=d.contentHeight),u.contentHeight=u.getContentHeight(p,g),u.contentHeight>i&&(i=u.contentHeight),n[c.index]=u}}var x=new h4(t.raw,-1,t.section,n,!0);x.height=i;for(var v=0,w=a.columns;v<w.length;v++){var c=w[v],u=x.cells[c.index];u&&(u.height=x.height);var d=t.cells[c.index];d&&(d.height=t.height)}return x}function pxe(t,r,a,s){var n=t.pageSize().height,i=s.settings.margin,o=i.top+i.bottom,l=n-o;r.section==="body"&&(l-=s.getHeadHeight(s.columns)+s.getFootHeight(s.columns));var c=r.getMinimumRowHeight(s.columns,t),d=c<a;if(c>l)return console.error("Will not be able to print row ".concat(r.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=r.hasRowSpan(s.columns),f=r.getMaxCellHeight(s.columns)>l;return f?(u&&console.error("The content of row ".concat(r.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||s.settings.rowPageBreak==="avoid")}function _b(t,r,a,s,n,i,o){var l=jF(t,r,s,i);if(a.canEntireRowFit(l,o))Md(t,r,a,i,o);else if(pxe(t,a,l,r)){var c=fxe(a,l,r,t);Md(t,r,a,i,o),jp(t,r,n,i,o),_b(t,r,c,s,n,i,o)}else jp(t,r,n,i,o),_b(t,r,a,s,n,i,o)}function Md(t,r,a,s,n){s.x=r.settings.margin.left;for(var i=0,o=n;i<o.length;i++){var l=o[i],c=a.cells[l.index];if(!c){s.x+=l.width;continue}t.applyStyles(c.styles),c.x=s.x,c.y=s.y;var d=r.callCellHooks(t,r.hooks.willDrawCell,c,a,l,s);if(d===!1){s.x+=l.width;continue}gxe(t,c,s);var u=c.getTextPos();lF(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),r.callCellHooks(t,r.hooks.didDrawCell,c,a,l,s),s.x+=l.width}s.y+=a.height}function gxe(t,r,a){var s=r.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof s.lineWidth=="number"){var n=hF(s.lineWidth,s.fillColor);n&&t.rect(r.x,a.y,r.width,r.height,n)}else typeof s.lineWidth=="object"&&(s.fillColor&&t.rect(r.x,a.y,r.width,r.height,"F"),xxe(t,r,a,s.lineWidth))}function xxe(t,r,a,s){var n,i,o,l;s.top&&(n=a.x,i=a.y,o=a.x+r.width,l=a.y,s.right&&(o+=.5*s.right),s.left&&(n-=.5*s.left),c(s.top,n,i,o,l)),s.bottom&&(n=a.x,i=a.y+r.height,o=a.x+r.width,l=a.y+r.height,s.right&&(o+=.5*s.right),s.left&&(n-=.5*s.left),c(s.bottom,n,i,o,l)),s.left&&(n=a.x,i=a.y,o=a.x,l=a.y+r.height,s.top&&(i-=.5*s.top),s.bottom&&(l+=.5*s.bottom),c(s.left,n,i,o,l)),s.right&&(n=a.x+r.width,i=a.y,o=a.x+r.width,l=a.y+r.height,s.top&&(i-=.5*s.top),s.bottom&&(l+=.5*s.bottom),c(s.right,n,i,o,l));function c(d,u,f,p,g){t.getDocument().setLineWidth(d),t.getDocument().line(u,f,p,g,"S")}}function jF(t,r,a,s){var n=r.settings.margin.bottom,i=r.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&a)&&(n+=r.getFootHeight(r.columns)),t.pageSize().height-s.y-n}function jp(t,r,a,s,n,i){n===void 0&&(n=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),r.settings.showFoot==="everyPage"&&!i&&r.foot.forEach(function(l){return Md(t,r,l,s,n)}),r.callEndPageHooks(t,s);var o=r.settings.margin;uF(t,r,a,s),NF(t),r.pageNumber++,s.x=o.left,s.y=o.top,a.y=o.top,r.callWillDrawPageHooks(t,s),r.settings.showHead==="everyPage"&&(r.head.forEach(function(l){return Md(t,r,l,s,n)}),t.applyStyles(t.userStyles))}function NF(t){var r=t.pageNumber();t.setPage(r+1);var a=t.pageNumber();return a===r?(t.addPage(),!0):!1}function kF(t){t.API.autoTable=function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var s=r[0],n=gF(this,s),i=vF(this,n);return wF(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(r,a,s,n){lF(r,a,s,n,this)},t.API.autoTableSetDefaults=function(r){return Am.setDefaults(r,this),this},t.autoTableSetDefaults=function(r,a){Am.setDefaults(r,a)},t.API.autoTableHtmlToJson=function(r,a){var s;if(a===void 0&&(a=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new Am(this),i=pF(n,r,window,a,!1),o=i.head,l=i.body,c=((s=o[0])===null||s===void 0?void 0:s.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var X1;function Zn(t,r){var a=gF(t,r),s=vF(t,a);wF(t,s)}try{if(typeof window<"u"&&window){var d7=window,u7=d7.jsPDF||((X1=d7.jspdf)===null||X1===void 0?void 0:X1.jsPDF);u7&&kF(u7)}}catch(t){console.error("Could not apply autoTable plugin",t)}const SF=Object.freeze(Object.defineProperty({__proto__:null,Cell:m4,CellHookData:xF,Column:bF,HookData:Sb,Row:h4,Table:yF,applyPlugin:kF,autoTable:Zn,default:Zn},Symbol.toStringTag,{value:"Module"}));function yxe(){const{success:t,error:r,warning:a,info:s}=na(),n=(Pe,vt)=>t(vt?`${Pe}: ${vt}`:Pe),i=(Pe,vt)=>r(vt?`${Pe}: ${vt}`:Pe),o=(Pe,vt)=>a(vt?`${Pe}: ${vt}`:Pe),l=(Pe,vt)=>s(vt?`${Pe}: ${vt}`:Pe),{triggerScholarshipNotification:c}=a5(),[d,u]=b.useState([]),[f,p]=b.useState(!0),[g,x]=b.useState(""),[v,w]=b.useState(""),[j,_]=b.useState({status:"submitted",category:"all",level:"all",school:"all",dateFrom:"",dateTo:"",minGwa:"",maxGwa:"",priority:"all"}),[S,N]=b.useState("grid"),[C,D]=b.useState("date"),[U,z]=b.useState("desc"),[E,I]=b.useState([]),[T,F]=b.useState(!1),[Y,O]=b.useState(!1),[q,$]=b.useState(!1),[K,J]=b.useState(null),[X,be]=b.useState(!1),[te,R]=b.useState(""),[ae,W]=b.useState(""),[pe,ce]=b.useState(!1),[we,je]=b.useState(""),[fe,xe]=b.useState(""),[$e,ge]=b.useState(!1),[ot,Ze]=b.useState(""),[Z,re]=b.useState(""),[Ue,Ge]=b.useState(null),[Ke,ie]=b.useState("reviewed"),[Ce,Oe]=b.useState(""),[Je,H]=b.useState(null),[de,ue]=b.useState({total:0,submitted:0,forCompliance:0,approved:0,rejected:0}),[me,Se]=b.useState({currentPage:1,lastPage:1,perPage:10,total:0,from:0,to:0});b.useEffect(()=>{Ye()},[j,v,me.currentPage,me.perPage]);const Ye=async()=>{try{p(!0),x("");const Pe={page:me.currentPage,per_page:me.perPage,...j};j.status==="all"&&delete Pe.status,v&&(Pe.search=v);const vt=await Ut.getApplications(Pe),yt=Array.isArray(vt.data)?vt.data:[];vt.meta&&Se(qt=>({...qt,currentPage:vt.meta.current_page||1,lastPage:vt.meta.last_page||1,total:vt.meta.total||0,from:vt.meta.from||0,to:vt.meta.to||0}));const gr=yt.map(qt=>({...qt,name:`${qt.student?.first_name??""} ${qt.student?.last_name??""}`.trim()||"Unknown",studentId:qt.student?.student_id_number||qt.student_id||"",email:qt.student?.email_address||"",phone:qt.student?.contact_number||"",scholarIdNumber:qt.application_number||"",schoolName:qt.school?.name||"",gradeYearLevel:qt.student?.current_academic_record?.year_level||"",generalWeightedAverage:qt.student?.current_academic_record?.general_weighted_average||qt.student?.current_academic_record?.gpa||"",scholarshipCategory:qt.category?.name||"",scholarshipSubCategory:qt.subcategory?.name||"",currentEducationalLevel:qt.student?.current_academic_record?.educational_level||"",schoolYear:qt.student?.current_academic_record?.school_year||"",schoolTerm:qt.student?.current_academic_record?.school_term||"",submittedDate:qt.submitted_at||qt.created_at,requestedAmount:qt.requested_amount||0,approvedAmount:qt.approved_amount||0,priority:qt.priority||"normal",status:qt.status||"unknown"}));u(gr),kt(gr)}catch{x("Failed to load applications")}finally{p(!1)}},kt=Pe=>{const vt={total:Pe.length,submitted:Pe.filter(yt=>yt.status==="submitted").length,forCompliance:Pe.filter(yt=>yt.status==="for_compliance").length,approved:Pe.filter(yt=>yt.status==="approved").length,rejected:Pe.filter(yt=>yt.status==="rejected").length};ue(vt)},it=d,ft=[...it].sort((Pe,vt)=>{let yt,gr;switch(C){case"name":yt=Pe.name.toLowerCase(),gr=vt.name.toLowerCase();break;case"gwa":yt=parseFloat(Pe.generalWeightedAverage||0),gr=parseFloat(vt.generalWeightedAverage||0);break;case"amount":yt=parseFloat(Pe.requestedAmount||0),gr=parseFloat(vt.requestedAmount||0);break;case"date":default:yt=new Date(Pe.submittedDate),gr=new Date(vt.submittedDate);break}return U==="asc"?yt>gr?1:-1:yt<gr?1:-1}),Te=Pe=>{switch(Pe){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"approved":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"interview_scheduled":case"interview_completed":case"endorsed_to_ssc":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"grants_processing":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"grants_disbursed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"on_hold":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"cancelled":return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";case"for_compliance":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"compliance_documents_submitted":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"unknown":return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},oe=Pe=>{if(!Pe)return"Unknown";switch(Pe){case"draft":return"Draft";case"submitted":return"Submitted";case"interview_scheduled":return"Interview Scheduled";case"interview_completed":return"Interview Completed";case"endorsed_to_ssc":return"Endorsed to SSC";case"approved":return"Approved";case"grants_processing":return"Grants Processing";case"grants_disbursed":return"Grants Disbursed";case"rejected":return"Rejected";case"on_hold":return"On Hold";case"cancelled":return"Cancelled";case"for_compliance":return"For Compliance";case"compliance_documents_submitted":return"Compliance Documents Submitted";case"unknown":return"Unknown Status";default:return Pe.replace("_"," ").replace(/\b\w/g,vt=>vt.toUpperCase())}},_e=Pe=>{switch(Pe){case"pending":return e.jsx(lr,{className:"w-4 h-4"});case"approved":return e.jsx(jt,{className:"w-4 h-4"});case"rejected":return e.jsx(mr,{className:"w-4 h-4"});case"interview_scheduled":case"interview_completed":case"endorsed_to_ssc":return e.jsx(Wr,{className:"w-4 h-4"});case"grants_processing":case"grants_disbursed":return e.jsx(jt,{className:"w-4 h-4"});case"unknown":return e.jsx(Kt,{className:"w-4 h-4"});default:return e.jsx(Kt,{className:"w-4 h-4"})}},et=Pe=>{switch(Pe){case"high":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},Ve=Pe=>{I(vt=>vt.includes(Pe)?vt.filter(yt=>yt!==Pe):[...vt,Pe])},Wt=(Pe,vt)=>{_(yt=>({...yt,[Pe]:vt})),Se(yt=>({...yt,currentPage:1}))},Bt=()=>Object.entries(j).some(([Pe,vt])=>Pe==="status"?vt!=="submitted"&&vt!=="all":vt!=="all"&&vt!=="")||v,Fe=async Pe=>{try{if(console.log("Opening review modal for application:",Pe),$(!0),ie("reviewed"),!Pe||!Pe.id){console.error("Invalid application object:",Pe),J(null);return}try{const vt=await Ut.getApplication(Pe.id);J(vt)}catch(vt){console.error("Failed to fetch detailed application data:",vt),J(Pe)}R(""),W(""),Oe("")}catch(vt){console.error("Error opening review modal:",vt),J(null)}},nt=async()=>{if(K){if(K.status!=="submitted"){i("Invalid Status",'Application must be in "Submitted" status to be marked as reviewed.');return}if(Ce!=="REVIEWED"){o("Confirmation Required",'Please type "REVIEWED" to confirm this action.');return}be(!0);try{await Ut.markAsReviewed(K.id),await Ye(),$(!1),Oe(""),n("Application Reviewed","Application has been reviewed and approved. Student is now ready for interview scheduling."),c("application_review",{application:K,action:"reviewed"})}catch(Pe){console.error("Mark as reviewed failed",Pe);const vt=Pe.message||"Failed to mark as reviewed. Please try again.";i("Review Failed",vt)}finally{be(!1)}}},ut=async()=>{if(K){if(!te?.trim()){o("Rejection Reason Required","Please enter a rejection reason.");return}be(!0);try{await Ut.rejectApplication(K.id,te.trim()),await Ye(),$(!1),n("Application Rejected","Application has been successfully rejected."),c("application_review",{application:K,action:"rejected"})}catch(Pe){console.error("Reject failed",Pe),i("Rejection Failed","Failed to reject application. Please try again.")}finally{be(!1)}}},Tt=async()=>{if(K){if(!ae?.trim()){o("Compliance Reason Required","Please enter a compliance reason.");return}be(!0);try{await Ut.flagForCompliance(K.id,ae.trim()),await Ye(),$(!1),n("Application Flagged for Compliance","Application has been flagged for compliance review. Student will be notified to correct the information."),c("application_review",{application:K,action:"compliance"})}catch(Pe){console.error("Compliance flagging failed",Pe),i("Compliance Flagging Failed","Failed to flag application for compliance. Please try again.")}finally{be(!1)}}},Lt=async(Pe,vt)=>{try{console.log("Viewing document:",Pe,vt);const yt=await Ut.viewDocument(Pe);if(!window.open(yt,"_blank")){o("Popup Blocked","Please allow popups for this site to view documents.");return}l("Document Viewer",`Opening document: ${vt}`)}catch(yt){console.error("Failed to view document:",yt),i("View Failed",`Failed to view document: ${vt}. ${yt.message}`)}},Ar=async Pe=>{if(!Pe)return;if(Pe.status!=="submitted"){i("Invalid Status",`Application must be in "Submitted" status to be marked as reviewed. Current status: ${Pe.status}`);return}if(console.log("Quick review action triggered for application:",Pe.id),!!confirm(`Mark application ${Pe.applicationNumber} as reviewed?`)){be(!0);try{console.log("Calling markAsReviewed API for application:",Pe.id),await Ut.markAsReviewed(Pe.id),console.log("API call successful, refreshing applications list"),await Ye(),n("Application Reviewed","Application has been successfully marked as reviewed.")}catch(yt){console.error("Quick review failed",yt);const gr=yt.message||"Failed to mark as reviewed. Please try again.";i("Review Failed",gr)}finally{be(!1)}}},Fr=async Pe=>{Pe&&(Ze("compliance"),re(""),Ge(Pe),ge(!0))},Re=async Pe=>{Pe&&(Ze("reject"),re(""),Ge(Pe),ge(!0))},De=async()=>{if(Ue){be(!0),ge(!1);try{switch(ot){case"compliance":if(!Z?.trim()){o("Compliance Reason Required","Please enter a compliance reason."),be(!1);return}await Ut.flagForCompliance(Ue.id,Z.trim()),await Ye(),n("Application Flagged for Compliance","Application has been flagged for compliance review.");break;case"reject":if(!Z?.trim()){o("Rejection Reason Required","Please enter a rejection reason."),be(!1);return}await Ut.rejectApplication(Ue.id,Z.trim()),await Ye(),n("Application Rejected","Application has been successfully rejected.");break;default:throw new Error("Invalid quick action type")}}catch(Pe){console.error("Quick action failed",Pe);const vt=ot==="reject"?"reject":"flag for compliance";i(`${vt.charAt(0).toUpperCase()+vt.slice(1)} Failed`,`Failed to ${vt} application. Please try again.`)}finally{be(!1),re(""),Ze(""),Ge(null)}}},ze=async()=>{E.length!==0&&(je("reviewed"),xe(""),ce(!0))},st=async()=>{E.length!==0&&(je("compliance"),xe(""),ce(!0))},Nt=async()=>{E.length!==0&&(je("reject"),xe(""),ce(!0))},He=async()=>{if(E.length===0)return;const Pe=E.length;be(!0),ce(!1);try{let vt=[];switch(we){case"reviewed":vt=E.map(yt=>Ut.markAsReviewed(yt));break;case"compliance":if(!fe?.trim()){o("Compliance Reason Required","Please enter a compliance reason."),be(!1);return}vt=E.map(yt=>Ut.flagForCompliance(yt,fe.trim()));break;case"reject":if(!fe?.trim()){o("Rejection Reason Required","Please enter a rejection reason."),be(!1);return}vt=E.map(yt=>Ut.rejectApplication(yt,fe.trim()));break;default:throw new Error("Invalid bulk action type")}switch(await Promise.all(vt),await Ye(),I([]),c("bulk_action",{action:we,count:Pe}),we){case"reviewed":n("Bulk Review Complete",`${Pe} application(s) have been marked as reviewed.`);break;case"compliance":n("Bulk Compliance Complete",`${Pe} application(s) have been flagged for compliance.`);break;case"reject":n("Bulk Rejection Complete",`${Pe} application(s) have been rejected.`);break}}catch(vt){console.error("Bulk action failed",vt);const yt=we==="reviewed"?"review":we;i(`Bulk ${yt.charAt(0).toUpperCase()+yt.slice(1)} Failed`,`Failed to ${yt} applications. Please try again.`)}finally{be(!1),xe(""),je("")}},Mt=async(Pe,vt)=>{H(Pe);try{console.log("Downloading document:",Pe,vt);const yt=await Ut.downloadDocument(Pe),gr=window.URL.createObjectURL(yt),qt=document.createElement("a");qt.href=gr,qt.download=vt,document.body.appendChild(qt),qt.click(),document.body.removeChild(qt),window.URL.revokeObjectURL(gr),n("Download Complete",`Successfully downloaded: ${vt}`)}catch(yt){console.error("Download failed:",yt),i("Download Failed",`Failed to download document: ${vt}. ${yt.message}`)}finally{H(null)}},Ot=({application:Pe})=>e.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 hover:shadow-md transition-all duration-200 group ${S==="list"?"rounded-lg":"rounded-xl"}`,children:e.jsxs("div",{className:S==="list"?"p-3 sm:p-4":"p-4 sm:p-6",children:[e.jsxs("div",{className:`flex flex-col space-y-3 sm:flex-row sm:items-start sm:justify-between sm:space-y-0 ${S==="list"?"mb-3":"mb-4"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx("input",{type:"checkbox",checked:E.includes(Pe.id),onChange:()=>Ve(Pe.id),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"})}),e.jsx("div",{className:`flex-shrink-0 ${S==="list"?"h-8 w-8":"h-10 w-10 sm:h-12 sm:w-12"}`,children:e.jsx("div",{className:`${S==="list"?"h-8 w-8":"h-10 w-10 sm:h-12 sm:w-12"} rounded-full bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 flex items-center justify-center`,children:e.jsx(Hr,{className:`${S==="list"?"h-4 w-4":"h-5 w-5 sm:h-6 sm:w-6"} text-orange-600 dark:text-orange-400`})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:`${S==="list"?"text-sm sm:text-base font-semibold":"text-base sm:text-lg font-semibold"} text-gray-900 dark:text-white truncate`,children:Pe.name}),e.jsx("p",{className:`${S==="list"?"text-xs":"text-xs sm:text-sm"} text-gray-500 dark:text-gray-400 truncate`,children:Pe.studentId})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${Te(Pe.status)}`,children:[_e(Pe.status),e.jsx("span",{className:"ml-1",children:oe(Pe.status)})]}),Pe.priority!=="normal"&&e.jsxs("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium ${et(Pe.priority)}`,children:[e.jsx(ls,{className:"w-3 h-3 mr-1"}),Pe.priority]})]})]}),e.jsxs("div",{className:S==="list"?"space-y-2":"space-y-4",children:[e.jsxs("div",{className:`flex items-center space-x-2 ${S==="list"?"text-xs":"text-sm"} text-gray-600 dark:text-gray-400`,children:[e.jsx(Dn,{className:`${S==="list"?"w-3 h-3":"w-4 h-4"} flex-shrink-0`}),e.jsx("span",{className:"truncate",children:Pe.schoolName||"No school specified"})]}),e.jsxs("div",{className:`grid gap-3 ${S==="list"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4":"grid-cols-1 sm:grid-cols-2"}`,children:[e.jsxs("div",{className:`flex items-center space-x-2 ${S==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(rn,{className:`${S==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"GWA:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:Pe.generalWeightedAverage||"N/A"})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${S==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(yo,{className:`${S==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Level:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:Pe.currentEducationalLevel||"N/A"})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${S==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(Ba,{className:`${S==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Category:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:Pe.scholarshipCategory||"N/A"})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${S==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(va,{className:`${S==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Amount:"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:["",parseFloat(Pe.requestedAmount||0).toLocaleString()]})]})]}),S==="list"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(Rr,{className:"w-3 h-3 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Submitted: ",new Date(Pe.submittedDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(Fu,{className:"w-3 h-3 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[Pe.documents?.length||0," documents"]})]})]}),S==="grid"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(Rr,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Submitted: ",new Date(Pe.submittedDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(Fu,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[Pe.documents?.length||0," documents uploaded"]})]})]})]}),e.jsx("div",{className:`${S==="list"?"mt-3 pt-3":"mt-6 pt-4"} border-t border-gray-200 dark:border-slate-700`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsxs("button",{onClick:()=>Fe(Pe),className:`flex items-center space-x-2 ${S==="list"?"px-4 py-2 text-sm font-semibold":"px-3 py-1.5 text-sm"} bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(Or,{className:"w-4 h-4"}),e.jsx("span",{children:"Review"})]})}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[console.log("Application status for quick actions:",Pe.status,"Application ID:",Pe.id),Pe.status==="submitted"&&e.jsx("button",{onClick:()=>Ar(Pe),className:`${S==="list"?"p-2":"p-1.5"} bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md`,title:"Mark as Reviewed",children:e.jsx(jt,{className:`${S==="list"?"w-5 h-5":"w-4 h-4"}`})}),Pe.status==="for_compliance"&&e.jsx("button",{onClick:()=>Fr(Pe),className:`${S==="list"?"p-2":"p-1.5"} bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md`,title:"Flag for Compliance",children:e.jsx(O_,{className:`${S==="list"?"w-5 h-5":"w-4 h-4"}`})}),Pe.status==="rejected"&&e.jsx("button",{onClick:()=>Fe(Pe),className:`${S==="list"?"p-2":"p-1.5"} bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md`,title:"View Details",children:e.jsx(Or,{className:`${S==="list"?"w-5 h-5":"w-4 h-4"}`})}),Pe.status!=="rejected"&&e.jsx("button",{onClick:()=>Re(Pe),className:`${S==="list"?"p-2":"p-1.5"} bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md`,title:"Reject",children:e.jsx(mr,{className:`${S==="list"?"w-5 h-5":"w-4 h-4"}`})})]})]})})]})}),Pt=()=>{const Pe=new sr;Pe.setFontSize(18),Pe.text("Scholarship Applications Report",14,22),Pe.setFontSize(11),Pe.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30);const vt=["Name","Student ID","School","Program","Category","GWA","Amount","Status"],yt=[];(it.length>0?it:d).forEach(qt=>{const ea=[qt.name,qt.studentId,qt.schoolName||"N/A",qt.scholarshipSubCategory||"N/A",qt.scholarshipCategory||"N/A",qt.generalWeightedAverage||"N/A",qt.requestedAmount?`P${qt.requestedAmount.toLocaleString()}`:"0",oe(qt.status)];yt.push(ea)}),Zn(Pe,{head:[vt],body:yt,startY:40,styles:{fontSize:8},headStyles:{fillColor:[249,115,22]}}),Pe.save(`scholarship_applications_${new Date().toISOString().split("T")[0]}.pdf`),n("Export Complete","Scholarship applications report has been downloaded as PDF.")};return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Scholarship Applications"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-2",children:"Review and manage scholarship applications"})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{onClick:Pt,className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 px-3 sm:px-4 py-2 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors flex items-center justify-center text-sm sm:text-base",children:[e.jsx(Ra,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Export PDF"}),e.jsx("span",{className:"sm:hidden",children:"PDF"})]}),e.jsxs("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base",children:[e.jsx("span",{className:"hidden sm:inline",children:"Review Selected"}),e.jsx("span",{className:"sm:hidden",children:"Review"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Applications"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:de.total})]}),e.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Wr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Submitted"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:de.submitted})]}),e.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Kt,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"For Compliance"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:de.forCompliance})]}),e.jsx("div",{className:"p-3 rounded-full bg-orange-100 dark:bg-orange-900/30",children:e.jsx(Br,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:de.approved})]}),e.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900/30",children:e.jsx(jt,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Rejected"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:de.rejected})]}),e.jsx("div",{className:"p-3 rounded-full bg-red-100 dark:bg-red-900/30",children:e.jsx(mr,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative flex-1 w-full sm:min-w-64",children:[e.jsx(Ls,{className:"w-4 h-4 sm:w-5 sm:h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search applications...",value:v,onChange:Pe=>{w(Pe.target.value),Se(vt=>({...vt,currentPage:1}))},className:"w-full pl-9 sm:pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base"})]}),e.jsxs("select",{value:j.status,onChange:Pe=>Wt("status",Pe.target.value),className:"w-full sm:w-auto px-3 sm:px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"submitted",children:"Submitted"}),e.jsx("option",{value:"for_compliance",children:"For Compliance"})]})]}),e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{onClick:()=>F(!T),className:`flex items-center justify-center space-x-2 px-3 sm:px-4 py-2 rounded-lg border transition-colors text-sm sm:text-base ${T?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[e.jsx(Yi,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Advanced"}),e.jsx("span",{className:"sm:hidden",children:"Filter"})]}),e.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-slate-600 rounded-lg",children:[e.jsx("button",{onClick:()=>N("grid"),className:`p-2 ${S==="grid"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-l-lg transition-colors`,children:e.jsx(jh,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>N("list"),className:`p-2 ${S==="list"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-r-lg transition-colors`,children:e.jsx(jd,{className:"w-4 h-4"})})]}),e.jsxs("select",{value:C,onChange:Pe=>D(Pe.target.value),className:"w-full sm:w-auto px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base",children:[e.jsx("option",{value:"date",children:"Sort by Date"}),e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"gwa",children:"Sort by GWA"}),e.jsx("option",{value:"amount",children:"Sort by Amount"})]}),e.jsx("button",{onClick:()=>z(U==="asc"?"desc":"asc"),className:"p-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",children:U==="asc"?e.jsx(Tb,{className:"w-4 h-4"}):e.jsx(Eb,{className:"w-4 h-4"})})]})]}),T&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs("select",{value:j.category,onChange:Pe=>Wt("category",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"tertiary",children:"Tertiary Students"}),e.jsx("option",{value:"senior high",children:"Senior High School"}),e.jsx("option",{value:"technical",children:"Technical Vocational"}),e.jsx("option",{value:"als",children:"Alternative Learning System"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Level"}),e.jsxs("select",{value:j.level,onChange:Pe=>Wt("level",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"senior high school",children:"Senior High School"}),e.jsx("option",{value:"tertiary",children:"Tertiary/College"}),e.jsx("option",{value:"technical",children:"Technical Vocational"}),e.jsx("option",{value:"graduate",children:"Graduate School"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),e.jsxs("select",{value:j.priority,onChange:Pe=>Wt("priority",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"normal",children:"Normal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"School"}),e.jsxs("select",{value:j.school,onChange:Pe=>Wt("school",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Schools"}),e.jsx("option",{value:"university",children:"University"}),e.jsx("option",{value:"college",children:"College"}),e.jsx("option",{value:"high school",children:"High School"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date From"}),e.jsx("input",{type:"date",value:j.dateFrom,onChange:Pe=>Wt("dateFrom",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date To"}),e.jsx("input",{type:"date",value:j.dateTo,onChange:Pe=>Wt("dateTo",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Min GWA"}),e.jsx("input",{type:"number",step:"0.01",min:"0",max:"4",value:j.minGwa,onChange:Pe=>Wt("minGwa",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max GWA"}),e.jsx("input",{type:"number",step:"0.01",min:"0",max:"4",value:j.maxGwa,onChange:Pe=>Wt("maxGwa",Pe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]})]}),Bt()&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[j.status!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",children:["Status: ",j.status,e.jsx("button",{onClick:()=>Wt("status","all"),className:"ml-1 hover:text-orange-600 dark:hover:text-orange-200",children:e.jsx(dr,{className:"w-3 h-3"})})]}),j.category!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:["Category: ",j.category,e.jsx("button",{onClick:()=>Wt("category","all"),className:"ml-1 hover:text-blue-600 dark:hover:text-blue-200",children:e.jsx(dr,{className:"w-3 h-3"})})]}),j.level!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:["Level: ",j.level,e.jsx("button",{onClick:()=>Wt("level","all"),className:"ml-1 hover:text-green-600 dark:hover:text-green-200",children:e.jsx(dr,{className:"w-3 h-3"})})]}),v&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:['Search: "',v,'"',e.jsx("button",{onClick:()=>w(""),className:"ml-1 hover:text-purple-600 dark:hover:text-purple-200",children:e.jsx(dr,{className:"w-3 h-3"})})]})]}),E.length>0&&e.jsx("div",{className:"mt-4 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:[E.length," application(s) selected"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:ze,disabled:X,className:"bg-blue-500 hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:X?"Processing...":"Reviewed"}),e.jsx("button",{onClick:st,disabled:X,className:"bg-yellow-500 hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:X?"Processing...":"Compliance"}),e.jsx("button",{onClick:Nt,disabled:X,className:"bg-red-500 hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:X?"Processing...":"Reject"})]})]})})]}),f?e.jsx(Wme,{}):g?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 sm:p-6 text-center",children:[e.jsx(Br,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-red-700 dark:text-red-300",children:g})]}):ft.length===0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-6 sm:p-12 text-center",children:[e.jsx(Kt,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No applications found"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Try adjusting your filters or search terms."})]}):e.jsx("div",{className:S==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6":"space-y-3",children:ft.map(Pe=>e.jsx(Ot,{application:Pe},Pe.id))}),!f&&!g&&me.total>0&&e.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-gray-200 dark:border-slate-700 pt-4",children:[e.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>Se(Pe=>({...Pe,currentPage:Math.max(1,Pe.currentPage-1)})),disabled:me.currentPage===1,className:"relative inline-flex items-center rounded-md border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>Se(Pe=>({...Pe,currentPage:Math.min(me.lastPage,Pe.currentPage+1)})),disabled:me.currentPage===me.lastPage,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",e.jsx("span",{className:"font-medium",children:me.from})," to ",e.jsx("span",{className:"font-medium",children:me.to})," of"," ",e.jsx("span",{className:"font-medium",children:me.total})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>Se(Pe=>({...Pe,currentPage:Math.max(1,Pe.currentPage-1)})),disabled:me.currentPage===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 dark:ring-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(Qp,{className:"h-5 w-5","aria-hidden":"true"})]}),e.jsxs("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-slate-600 focus:outline-offset-0",children:["Page ",me.currentPage," of ",me.lastPage]}),e.jsxs("button",{onClick:()=>Se(Pe=>({...Pe,currentPage:Math.min(me.lastPage,Pe.currentPage+1)})),disabled:me.currentPage===me.lastPage,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 dark:ring-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(Xu,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]}),q&&_a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-2 sm:p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>$(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-7xl h-[95vh] sm:h-[90vh] bg-white dark:bg-slate-800 rounded-xl shadow-2xl flex flex-col lg:flex-row overflow-hidden",children:[e.jsxs("div",{className:"w-full lg:w-80 bg-gray-50 dark:bg-slate-900 border-r-0 lg:border-r border-b lg:border-b-0 border-gray-200 dark:border-slate-700 flex flex-col flex-shrink-0 max-h-80 sm:max-h-96 lg:max-h-none overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Review Application"}),e.jsx("button",{onClick:()=>$(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(dr,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-4 lg:p-6 space-y-2 lg:space-y-3",children:[e.jsx("button",{onClick:()=>ie("reviewed"),className:`w-full p-3 lg:p-4 rounded-lg border-2 transition-all ${Ke==="reviewed"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:border-blue-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[e.jsx(jt,{className:"w-4 h-4 lg:w-5 lg:h-5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm lg:text-base",children:"Reviewed"}),e.jsx("div",{className:"text-xs lg:text-sm opacity-75",children:"Mark this application as reviewed"})]})]})}),e.jsx("button",{onClick:()=>ie("compliance"),className:`w-full p-3 lg:p-4 rounded-lg border-2 transition-all ${Ke==="compliance"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300":"border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:border-orange-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[e.jsx(O_,{className:"w-4 h-4 lg:w-5 lg:h-5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm lg:text-base",children:"Compliance"}),e.jsx("div",{className:"text-xs lg:text-sm opacity-75",children:"Flag for compliance issues"})]})]})}),e.jsx("button",{onClick:()=>ie("reject"),className:`w-full p-3 lg:p-4 rounded-lg border-2 transition-all ${Ke==="reject"?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300":"border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:border-red-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[e.jsx(mr,{className:"w-4 h-4 lg:w-5 lg:h-5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm lg:text-base",children:"Reject"}),e.jsx("div",{className:"text-xs lg:text-sm opacity-75",children:"Reject this application"})]})]})})]}),e.jsxs("div",{className:"flex-1 p-4 lg:p-6",children:[Ke==="reviewed"&&e.jsxs("div",{className:"space-y-4",children:[K?.status!=="submitted"&&e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Qt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Invalid Status"}),e.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:["This application is currently in ",e.jsx("span",{className:"font-semibold",children:oe(K?.status)})," status. Applications must be in ",e.jsx("span",{className:"font-semibold",children:"Submitted"})," status to be marked as reviewed."]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:'Type "REVIEWED" to confirm'}),e.jsx("input",{type:"text",value:Ce,onChange:Pe=>Oe(Pe.target.value),placeholder:"Type REVIEWED to confirm",disabled:K?.status!=="submitted",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"})]}),e.jsx("button",{onClick:nt,disabled:X||Ce!=="REVIEWED"||K?.status!=="submitted",className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-3 px-4 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:X?"Processing...":"Mark as Reviewed"})]}),Ke==="compliance"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Detailed Reason"}),e.jsx("textarea",{value:ae,onChange:Pe=>W(Pe.target.value),placeholder:"Please provide specific details about the compliance issue...",rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 resize-none"})]}),e.jsx("button",{onClick:Tt,disabled:X||!ae.trim(),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:X?"Processing...":"Flag for Compliance"})]}),Ke==="reject"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rejection Reason"}),e.jsx("textarea",{value:te,onChange:Pe=>R(Pe.target.value),placeholder:"Please provide a detailed reason for rejection...",rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none"})]}),e.jsx("button",{onClick:ut,disabled:X||!te.trim(),className:"w-full bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:X?"Processing...":"Reject Application"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-white dark:bg-slate-800 min-h-0",children:e.jsxs("div",{className:"p-4 lg:p-6",children:[X&&e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nr,{className:"w-8 h-8 animate-spin text-gray-500 mx-auto mb-4"}),e.jsx("div",{className:"text-gray-500",children:"Loading application details..."})]})}),!X&&K?e.jsxs("div",{className:"space-y-8",children:[console.log("Rendering application details for:",K),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[K.student?.first_name||"N/A"," ",K.student?.last_name||"N/A"]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[K.student?.student_id_number||"N/A","  ",K.student?.email_address||"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["Application #",K.application_number||K.id||"N/A"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${Te(K.status||"pending")}`,children:[_e(K.status||"pending"),e.jsx("span",{className:"ml-2",children:oe(K.status||"pending")})]})})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Hr,{className:"w-5 h-5 mr-2 text-blue-500"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Full Name"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[K.student?.first_name," ",K.student?.middle_name," ",K.student?.last_name]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date of Birth"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.birth_date?new Date(K.student.birth_date).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Contact Number"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.contact_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Address"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.addresses?.[0]?.address_line_1||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"City"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.addresses?.[0]?.city||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Province"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.addresses?.[0]?.province||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Dn,{className:"w-5 h-5 mr-2 text-green-500"}),"Academic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"School"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.school?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Educational Level"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.current_academic_record?.educational_level||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Year Level"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.current_academic_record?.year_level||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"GWA/GPA"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.current_academic_record?.general_weighted_average||K.student?.current_academic_record?.gpa||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"School Year"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.current_academic_record?.school_year||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Semester"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.current_academic_record?.school_term||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(va,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Financial Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Requested Amount"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["",K.requested_amount?parseFloat(K.requested_amount).toLocaleString():"N/A"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Approved Amount"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["",K.approved_amount?parseFloat(K.approved_amount).toLocaleString():"N/A"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Family Income"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.financial_information?.family_monthly_income_range||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Student Employed"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.is_employed?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"4Ps Beneficiary"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.financial_information?.is_4ps_beneficiary?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"PWD"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:K.student?.is_pwd?"Yes":"No"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Fu,{className:"w-5 h-5 mr-2 text-purple-500"}),"Documents"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"File"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:[(K.documents||[]).length===0&&e.jsx("tr",{children:e.jsx("td",{className:"px-4 py-3 text-gray-500 dark:text-gray-400",colSpan:4,children:"No documents uploaded."})}),(K.documents||[]).map(Pe=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-white",children:Pe.document_type?.name||""}),e.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:Pe.file_name}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Pe.status==="verified"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":Pe.status==="rejected"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:Pe.status})}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Lt(Pe.id,Pe.file_name),className:"p-1.5 rounded border border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-600 dark:text-gray-400",title:"View",children:e.jsx(Or,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Mt(Pe.id,Pe.file_name),className:"p-1.5 rounded border border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-600 dark:text-gray-400",disabled:Je===Pe.id,title:"Download",children:e.jsx(Ra,{className:"w-4 h-4"})})]})})]},Pe.id))]})]})})]})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Qt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Application Not Found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Unable to load application details. Please try again."}),e.jsx("button",{onClick:()=>$(!1),className:"mt-4 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:"Close Modal"})]})})]})})]})]}),document.body),pe&&_a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>ce(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[we==="reviewed"&&"Mark as Reviewed",we==="compliance"&&"Flag for Compliance",we==="reject"&&"Reject Applications"]}),e.jsx("button",{onClick:()=>ce(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(dr,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["This action will be applied to ",e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[E.length," application(s)"]}),"."]})}),(we==="compliance"||we==="reject")&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:we==="compliance"?"Compliance Reason":"Rejection Reason"}),e.jsx("textarea",{value:fe,onChange:Pe=>xe(Pe.target.value),placeholder:`Enter ${we==="compliance"?"compliance":"rejection"} reason...`,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),we==="reviewed"&&e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This will mark all selected applications as reviewed. This action cannot be undone."})})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>ce(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:He,disabled:X||we!=="reviewed"&&!fe?.trim(),className:`px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${we==="reviewed"?"bg-blue-500 hover:bg-blue-600":we==="compliance"?"bg-yellow-500 hover:bg-yellow-600":"bg-red-500 hover:bg-red-600"}`,children:X?"Processing...":we==="reviewed"?"Mark as Reviewed":we==="compliance"?"Flag for Compliance":"Reject Applications"})]})]})]}),document.body),$e&&_a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>ge(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[ot==="reject"&&"Reject Application",ot==="compliance"&&"Flag for Compliance"]}),e.jsx("button",{onClick:()=>ge(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(dr,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[ot==="reject"&&"This will reject the application and cannot be undone.",ot==="compliance"&&"This will flag the application for compliance review."]}),Ue&&e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white mt-2",children:["Application: ",Ue.applicationNumber||Ue.id]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:ot==="reject"?"Rejection Reason":"Compliance Reason"}),e.jsx("textarea",{value:Z,onChange:Pe=>re(Pe.target.value),placeholder:`Enter ${ot==="reject"?"rejection":"compliance"} reason...`,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>ge(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:De,disabled:X||!Z?.trim(),className:`px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${ot==="reject"?"bg-red-500 hover:bg-red-600":"bg-yellow-500 hover:bg-yellow-600"}`,children:X?"Processing...":ot==="reject"?"Reject Application":"Flag for Compliance"})]})]})]}),document.body)]})}function bxe(){const{success:t,error:r,warning:a,info:s}=na(),[n,i]=b.useState([]),[o,l]=b.useState([]),[c,d]=b.useState([]),[u,f]=b.useState([]),[p,g]=b.useState(!0),[x,v]=b.useState(""),[w,j]=b.useState(""),[_,S]=b.useState({status:"scheduled",interviewer:"all",dateFrom:"",dateTo:""}),[N,C]=b.useState("grid"),[D,U]=b.useState("date"),[z,E]=b.useState("asc"),[I,T]=b.useState([]),[F,Y]=b.useState(!1),[O,q]=b.useState(!1),[$,K]=b.useState("scheduled"),[J,X]=b.useState({currentPage:1,lastPage:1,perPage:10,total:0,from:0,to:0}),[be,te]=b.useState(!1),[R,ae]=b.useState(!1),[W,pe]=b.useState(!1),[ce,we]=b.useState(!1),[je,fe]=b.useState(!1),[xe,$e]=b.useState(null),[ge,ot]=b.useState(!1),[Ze,Z]=b.useState({interviewType:"online",platform:"zoom",meetingLink:"",studentId:"",interviewDate:"",interviewTime:"",duration:"30",staffId:"",notes:""}),[re,Ue]=b.useState({}),[Ge,Ke]=b.useState(!1),[ie,Ce]=b.useState({interviewType:"online",platform:"zoom",meetingLink:"",interviewDate:"",interviewTime:"",duration:"30",gapTime:"15",staffId:"",notes:""}),[Oe,Je]=b.useState({}),[H,de]=b.useState(!1),[ue,me]=b.useState({applicantId:"",applicationId:"",interviewerName:"",interviewDate:"",academicMotivationScore:"",leadershipInvolvementScore:"",financialNeedScore:"",characterValuesScore:"",overallRecommendation:"",remarks:""}),[Se,Ye]=b.useState({}),[kt,it]=b.useState(!1);b.useEffect(()=>{oe(),_e(),et()},[$,J.currentPage,J.perPage,_,w]);const ft=async()=>{try{const he={page:J.currentPage,per_page:J.perPage,..._};w&&(he.search=w);const Qe=await Ut.getInterviewSchedules(he),nr=(Array.isArray(Qe.data)?Qe.data:Array.isArray(Qe)?Qe:[]).map(Rt=>({...Rt,interviewDate:Rt.interview_date,interviewTime:Rt.interview_time,interviewer:Rt.interviewer_name||(Rt.staff?Rt.staff.name:"Unknown"),interviewerEmail:Rt.staff?.email||Rt.interviewer_email,studentName:Rt.student?`${Rt.student.first_name} ${Rt.student.last_name}`:"Unknown Student",studentEmail:Rt.student?.email_address,studentPhone:Rt.student?.phone_number,studentId:Rt.student?.student_id_number,duration:Rt.duration||30,type:Rt.interview_type,location:Rt.interview_location,platform:Rt.platform||(Rt.interview_type==="online"?"Online":"In-Person"),meetingLink:Rt.meeting_link,notes:Rt.interview_notes||Rt.notes,status:Rt.status,documents:Rt.documents||[]}));i(nr),$==="scheduled"&&Qe&&Qe.meta&&X(Rt=>({...Rt,currentPage:Qe.meta.current_page||1,lastPage:Qe.meta.last_page||1,total:Qe.meta.total||0,from:Qe.meta.from||0,to:Qe.meta.to||0}))}catch(he){console.error("Error fetching schedules:",he)}},Te=async()=>{try{const he={page:J.currentPage,per_page:J.perPage,..._};w&&(he.search=w);const Qe=await Ut.getApplications({...he,status:"documents_reviewed",with:"student,category,subcategory"});l(Array.isArray(Qe.data)?Qe.data:[]),$==="pending"&&Qe&&Qe.meta&&X(_t=>({..._t,currentPage:Qe.meta.current_page||1,lastPage:Qe.meta.last_page||1,total:Qe.meta.total||0,from:Qe.meta.from||0,to:Qe.meta.to||0}))}catch(he){console.error("Error fetching pending applications:",he)}},oe=async()=>{g(!0);try{$==="scheduled"?await ft():await Te()}catch(he){console.error("Error fetching data:",he),v("Failed to load data")}finally{g(!1)}},_e=async()=>{try{const he=await Ut.getApplications({status:"documents_reviewed",per_page:100});d(he.data||[])}catch(he){console.error("Error loading eligible applications:",he)}},et=async()=>{try{const he=await Ut.getStaffInterviewers();if(console.log("Staff interviewers API response:",he),he&&he.success&&Array.isArray(he.data)){const Qe=he.data.filter(_t=>_t&&_t.id&&(_t.name||_t.user_id));Qe.length>0?f(Qe):(console.warn("No valid staff members found in response:",he.data),r("No interviewers available. Please ensure staff members with interviewer role are configured."),f([]))}else{const Qe=he?.message||"Invalid response format";console.error("Failed to fetch staff members:",Qe,he),r(`Failed to load interviewers: ${Qe}. Please refresh the page.`),f([])}}catch(he){const Qe=he?.message||"Network error or server unavailable";console.error("Error fetching staff members:",he),r(`Failed to load interviewers: ${Qe}. Please refresh the page.`),f([])}},Ve=he=>{switch(he){case"pending":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"scheduled":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"rescheduled":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},Wt=he=>{switch(he){case"pending":return e.jsx(Br,{className:"w-4 h-4"});case"scheduled":return e.jsx(lr,{className:"w-4 h-4"});case"completed":return e.jsx(jt,{className:"w-4 h-4"});case"cancelled":return e.jsx(mr,{className:"w-4 h-4"});case"rescheduled":return e.jsx(Rr,{className:"w-4 h-4"});default:return e.jsx(lr,{className:"w-4 h-4"})}},Bt=he=>{switch(he){case"online":return e.jsx(Mi,{className:"w-4 h-4 text-blue-500"});case"in-person":return e.jsx(bi,{className:"w-4 h-4 text-green-500"});default:return e.jsx(Rr,{className:"w-4 h-4 text-gray-500"})}},Fe=he=>{Z({interviewType:"online",platform:"zoom",meetingLink:"",studentId:he.applicationId.toString(),interviewDate:"",interviewTime:"",duration:"30",interviewer:"",notes:`Scheduling interview for ${he.studentName}`}),Ue({}),$e(null),q(!0)},nt=()=>{T([])},ut=()=>{const he=Fr.map(Qe=>Qe.id);T(he)},Tt=()=>{const he=Lt().filter(_t=>I.includes(_t.id)),Qe=he.filter(_t=>_t.status==="pending"&&_t.type==="pending");if(Qe.length!==he.length){alert("Only pending applications (awaiting interview scheduling) can be bulk scheduled.");return}if(Qe.length===0){alert("No pending applications selected for scheduling.");return}Ce({interviewType:"online",platform:"zoom",meetingLink:"",interviewDate:"",interviewTime:"",duration:"30",gapTime:"15",interviewer:"",notes:""}),Je({}),$e(null),fe(!0)},Lt=()=>$==="scheduled"?n.map(he=>({...he,type:"schedule"})):o.map(he=>({id:`pending-${he.id}`,applicationId:he.id,studentName:he.student?`${he.student.first_name} ${he.student.last_name}`:"Unknown Student",studentId:he.student?.student_id_number||"N/A",studentEmail:he.student?.email_address||"Not provided",studentPhone:he.student?.contact_number||"Not provided",interviewer:"Not Assigned",interviewerEmail:"N/A",interviewDate:"Not Scheduled",interviewTime:"Not Scheduled",duration:0,type:"pending",platform:null,meetingLink:null,status:"pending",notes:"Awaiting interview scheduling",documents:["Transcript","Recommendation Letter"],createdAt:he.created_at,application:he,student:he.student,category:he.category,subcategory:he.subcategory})),Ar=Lt(),Fr=[...Ar].sort((he,Qe)=>{let _t,nr;switch(D){case"student":_t=he.studentName.toLowerCase(),nr=Qe.studentName.toLowerCase();break;case"interviewer":_t=he.interviewer.toLowerCase(),nr=Qe.interviewer.toLowerCase();break;case"date":default:_t=new Date(he.interviewDate),nr=new Date(Qe.interviewDate);break}return z==="asc"?_t>nr?1:-1:_t<nr?1:-1}),Re=({schedule:he})=>e.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 hover:shadow-md transition-all duration-200 group ${N==="list"?"rounded-lg":"rounded-xl"}`,children:e.jsxs("div",{className:N==="list"?"p-4":"p-6",children:[e.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 ${N==="list"?"mb-3":"mb-4"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx("input",{type:"checkbox",checked:I.includes(he.id),onChange:()=>De(he.id),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"})}),e.jsx("div",{className:`flex-shrink-0 ${N==="list"?"h-8 w-8":"h-12 w-12"}`,children:e.jsx("div",{className:`${N==="list"?"h-8 w-8":"h-12 w-12"} rounded-full bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900/30 dark:to-blue-800/30 flex items-center justify-center`,children:e.jsx(Rr,{className:`${N==="list"?"h-4 w-4":"h-6 w-6"} text-blue-600 dark:text-blue-400`})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:`${N==="list"?"text-base font-semibold":"text-lg font-semibold"} text-gray-900 dark:text-white truncate`,children:he.studentName}),e.jsx("p",{className:`${N==="list"?"text-xs":"text-sm"} text-gray-500 dark:text-gray-400 truncate`,children:he.studentId})]})]}),e.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${Ve(he.status)}`,children:[Wt(he.status),e.jsx("span",{className:"ml-1 capitalize",children:he.status})]})})]}),e.jsxs("div",{className:N==="list"?"space-y-2":"space-y-4",children:[e.jsxs("div",{className:`flex items-center space-x-2 ${N==="list"?"text-xs":"text-sm"} text-gray-600 dark:text-gray-400`,children:[e.jsx(Rr,{className:`${N==="list"?"w-3 h-3":"w-4 h-4"} flex-shrink-0`}),e.jsx("span",{className:"truncate",children:he.status==="pending"?"Awaiting interview scheduling":`${new Date(he.interviewDate).toLocaleDateString()} at ${he.interviewTime}`})]}),e.jsxs("div",{className:`grid gap-3 ${N==="list"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4":"grid-cols-1 sm:grid-cols-2"}`,children:[e.jsxs("div",{className:`flex items-center space-x-2 ${N==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(Wr,{className:`${N==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Interviewer:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:he.status==="pending"?"Not Assigned":he.interviewer})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${N==="list"?"text-xs":"text-sm"} min-w-0`,children:[he.status==="pending"?e.jsx(Br,{className:`${N==="list"?"w-3 h-3":"w-4 h-4"} text-orange-500 flex-shrink-0`}):Bt(he.type),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Type:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:he.status==="pending"?"Not Determined":he.type})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${N==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(lr,{className:`${N==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Duration:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:he.status==="pending"?"TBD":`${he.duration} min`})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${N==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(Kt,{className:`${N==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Documents:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:he.status==="pending"?"Reviewed":he.documents?.length||0})]})]}),N==="list"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(ll,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:he.studentEmail})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(qi,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:he.studentPhone})]})]}),he.type==="online"&&he.platform&&e.jsxs("div",{className:`flex items-center space-x-2 ${N==="list"?"text-xs":"text-sm"} text-gray-600 dark:text-gray-400`,children:[e.jsx(Mi,{className:`${N==="list"?"w-3 h-3":"w-4 h-4"} flex-shrink-0`}),e.jsx("span",{className:"truncate",children:he.platform})]}),he.type==="in-person"&&he.location&&e.jsxs("div",{className:`flex items-center space-x-2 ${N==="list"?"text-xs":"text-sm"} text-gray-600 dark:text-gray-400`,children:[e.jsx(bi,{className:`${N==="list"?"w-3 h-3":"w-4 h-4"} flex-shrink-0`}),e.jsx("span",{className:"truncate",children:he.location})]})]}),e.jsx("div",{className:`${N==="list"?"mt-3 pt-3":"mt-6 pt-4"} border-t border-gray-200 dark:border-slate-700`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>He(he),className:`flex items-center space-x-2 ${N==="list"?"px-4 py-2 text-sm font-semibold":"px-3 py-1.5 text-sm"} bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(Or,{className:"w-4 h-4"}),e.jsx("span",{children:"View Details"})]}),he.status==="pending"?e.jsxs("button",{onClick:()=>Fe(he),className:`flex items-center space-x-2 ${N==="list"?"px-4 py-2 text-sm font-semibold":"px-3 py-1.5 text-sm"} bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(gi,{className:"w-4 h-4"}),e.jsx("span",{children:"Schedule Interview"})]}):he.status!=="completed"?e.jsxs("button",{onClick:()=>Pt(he),className:`flex items-center space-x-2 ${N==="list"?"px-4 py-2 text-sm font-semibold":"px-3 py-1.5 text-sm"} bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(Mi,{className:"w-4 h-4"}),e.jsx("span",{children:"Join Meeting"})]}):null]}),e.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:he.status!=="pending"&&he.status!=="completed"&&e.jsxs("button",{onClick:()=>Mt(he),className:`${N==="list"?"px-3 py-2 text-sm":"px-3 py-1.5 text-sm"} bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex items-center space-x-1`,title:"Reschedule",children:[e.jsx(Rr,{className:"w-4 h-4"}),e.jsx("span",{children:"Reschedule"})]})})]})})]})}),De=he=>{T(Qe=>Qe.includes(he)?Qe.filter(_t=>_t!==he):[...Qe,he])},ze=(he,Qe)=>{S(_t=>({..._t,[he]:Qe})),X(_t=>({..._t,currentPage:1}))},st=()=>{S({status:"pending",interviewer:"all",dateFrom:"",dateTo:""}),j("")},Nt=()=>Object.entries(_).some(([he,Qe])=>he==="status"&&Qe==="pending"?!1:Qe!=="all"&&Qe!=="")||w,He=he=>{$e(he),te(!0)},Mt=he=>{Z({interviewType:he.type==="in-person"?"in-person":"online",platform:he.platform||"zoom",meetingLink:he.meetingLink||"",studentId:he.application?.id||he.applicationId||"",interviewDate:he.interviewDate?he.interviewDate.split("T")[0]:"",interviewTime:he.interviewTime||"",duration:he.duration?.toString()||"30",staffId:he.staffId||"",interviewer:he.interviewer||"",notes:he.notes||""}),$e(he),q(!0)},Ot=async()=>{if(xe){ot(!0);try{await Ut.cancelInterview(xe.id,"Deleted by administrator"),await ft(),pe(!1),$e(null),alert("Interview schedule cancelled successfully!")}catch(he){console.error("Error cancelling interview schedule:",he),alert("Failed to cancel interview schedule: "+(he.message||"Unknown error"))}finally{ot(!1)}}},Pt=he=>{let Qe=he.meetingLink;if(Qe||(he.type==="online"?Qe=`https://meet.google.com/${he.id||"interview-"+Date.now()}`:Qe=`Location: ${he.location||"To be determined"}`),Qe&&(Qe.startsWith("http://")||Qe.startsWith("https://")))window.open(Qe,"_blank");else if(Qe&&!Qe.startsWith("Location:")){const _t=Qe.startsWith("http")?Qe:`https://${Qe}`;window.open(_t,"_blank")}$e({...he,meetingLink:Qe}),me({applicantId:he.studentId,applicationId:he.application?.id||he.applicationId||"N/A",interviewerName:he.interviewer,interviewDate:s0(he.interviewDate),academicMotivationScore:"",leadershipInvolvementScore:"",financialNeedScore:"",characterValuesScore:"",overallRecommendation:"",remarks:""}),we(!0)},Pe=(he,Qe)=>{Z(_t=>({..._t,[he]:Qe})),re[he]&&Ue(_t=>({..._t,[he]:""}))},vt=()=>{const he={};if(Ze.studentId||(he.studentId="Please select a student with documents reviewed status"),!Ze.interviewDate)he.interviewDate="Please select an interview date";else{const Qe=new Date(Ze.interviewDate),_t=new Date;_t.setHours(0,0,0,0),Qe<_t&&(he.interviewDate="Interview date must be today or in the future")}if(Ze.interviewTime||(he.interviewTime="Please select an interview time"),Ze.staffId||(he.staffId="Please select an interviewer"),Ze.meetingLink||(he.meetingLink="Please enter meeting link"),Ze.studentId){const Qe=c.find(_t=>_t.id.toString()===Ze.studentId);Qe?Qe.status!=="documents_reviewed"&&(he.studentId="Selected application must have documents reviewed status"):he.studentId="Selected application is not eligible for interview scheduling"}if(Ze.staffId&&Ze.interviewDate&&Ze.interviewTime){const Qe=u.find(_t=>_t.id.toString()===Ze.staffId);if(Qe){const _t=Kl(Qe.name,Ze.interviewDate,Ze.interviewTime,Ze.duration,null,Ze.staffId);if(_t.length>0){const nr=_t.map(Rt=>`${Rt.studentName} (${Rt.displayStartTime} - ${Rt.displayEndTime})`).join(", ");he.interviewTime=`Time conflict detected! ${Qe.name} already has interview(s) at this time: ${nr}`}}}return Ue(he),Object.keys(he).length===0},yt=async he=>{if(he.preventDefault(),!!vt()){Ke(!0);try{const Qe=u.find(Rt=>Rt.id.toString()===Ze.staffId);if(!Qe)throw new Error("Selected interviewer not found");if(!Qe.user_id)throw new Error("Selected interviewer is missing user ID. Please refresh the page and try again.");const _t={interview_date:Ze.interviewDate,interview_time:Ze.interviewTime,interview_location:"Online",interview_type:"online",meeting_link:Ze.meetingLink,staff_id:Ze.staffId,interviewer_id:Qe.user_id,interviewer_name:Qe.name,scheduling_type:"manual",interview_notes:Ze.notes,duration:parseInt(Ze.duration)||30},nr=parseInt(Ze.studentId);if(!nr)throw new Error("Invalid application selected");if(xe&&xe.id){await Ut.scheduleInterview(nr,_t);const Rt=c.find(ms=>ms.id===parseInt(Ze.studentId)),wr=Rt?`${Rt.student.first_name} ${Rt.student.last_name}`:"Student",ta=Qe?.name||"Interviewer",qr=`${Ze.interviewDate} at ${Ze.interviewTime}`;Pa(` Interview rescheduled successfully!

 ${wr}
 Interviewer: ${ta}
 ${qr}
 Duration: ${Ze.duration} minutes`,"success")}else{await Ut.scheduleInterview(nr,_t);const Rt=c.find(ms=>ms.id===parseInt(Ze.studentId)),wr=Rt?`${Rt.student.first_name} ${Rt.student.last_name}`:"Student",ta=Qe?.name||"Interviewer",qr=`${Ze.interviewDate} at ${Ze.interviewTime}`;Pa(` Interview scheduled successfully!

 ${wr}
 Interviewer: ${ta}
 ${qr}
 Duration: ${Ze.duration} minutes`,"success","Interview Scheduled")}await ft(),await Te(),await _e(),q(!1),$e(null),Z({interviewType:"online",platform:"zoom",meetingLink:"",studentId:"",interviewDate:"",interviewTime:"",duration:"30",staffId:"",notes:""}),Ue({})}catch(Qe){if(console.error("Error creating interview schedule:",Qe),Qe.response?.status===409&&Qe.response?.data?.conflicts){const nr=Qe.response.data.conflicts.map(Rt=>` ${Rt.student_name} (${Rt.display_start_time} - ${Rt.display_end_time})`).join(`
`);Pa(` Cannot schedule interview due to conflicts!

 ${selectedStaff?.name||"The interviewer"} already has interview(s) at this time:

${nr}

Please choose a different time slot.`,"error");return}if(Qe.response?.status===422&&Qe.response?.data?.errors){const _t=Object.values(Qe.response.data.errors).flat();Pa(` Validation failed:

${_t.map(nr=>` ${nr}`).join(`
`)}`,"error");return}if(Qe.response?.status>=500){Pa(` Server error (${Qe.response?.status}):

${Qe.response?.data?.message||Qe.message||"Internal server error"}

Please try again or contact support.`,"error");return}Pa(` Failed to create interview schedule:

${Qe.message||"Unknown error"}

Please check your input and try again.`,"error")}finally{Ke(!1)}}},gr=()=>{Z({interviewType:"online",platform:"zoom",meetingLink:"",studentId:"",interviewDate:"",interviewTime:"",duration:"30",staffId:"",notes:""}),Ue({}),$e(null)},qt=(he,Qe)=>{Ce(_t=>({..._t,[he]:Qe})),Oe[he]&&Je(_t=>({..._t,[he]:""}))},ea=()=>{const he={};if(ie.interviewDate||(he.interviewDate="Please select an interview date"),ie.interviewTime||(he.interviewTime="Please select an interview time"),ie.staffId||(he.staffId="Please select an interviewer"),ie.meetingLink||(he.meetingLink="Please enter meeting link"),ie.staffId&&ie.interviewDate&&ie.interviewTime){const Qe=u.find(Rt=>Rt.id.toString()===ie.staffId);if(Qe){const Rt=Kl(Qe.name,ie.interviewDate,ie.interviewTime,ie.duration,null,ie.staffId);if(Rt.length>0){const wr=Rt.map(ta=>`${ta.studentName} (${ta.displayStartTime} - ${ta.displayEndTime})`).join(", ");he.interviewTime=`Time conflict detected! ${Qe.name} already has interview(s) at this time: ${wr}`}}const nr=Lt().filter(Rt=>I.includes(Rt.id)).filter(Rt=>Rt.status==="pending"&&Rt.type==="pending");if(nr.length>1){const Rt=ia(ie.interviewTime,ie.duration,ie.gapTime,nr.length);for(let wr=1;wr<Rt.length;wr++){const ta=Rt[wr];if(Kl(Qe.name,ie.interviewDate,ta.startTime,ie.duration).length>0){he.interviewTime="Bulk scheduling would create conflicts later in the day. Consider starting earlier or increasing gap time.";break}}}}return Je(he),Object.keys(he).length===0},hs=async he=>{if(he.preventDefault(),!!ea()){de(!0);try{const _t=Lt().filter(qr=>I.includes(qr.id)).filter(qr=>qr.status==="pending"&&qr.type==="pending"),nr=ia(ie.interviewTime,ie.duration,ie.gapTime,_t.length),Rt=u.find(qr=>qr.id.toString()===ie.staffId);if(!Rt)throw new Error("Selected interviewer not found");if(!Rt.user_id)throw new Error("Selected interviewer is missing user ID. Please refresh the page and try again.");const wr=_t.map((qr,ms)=>{const wi=nr[ms],ua={interview_date:ie.interviewDate,interview_time:wi.startTime,interview_location:"Online",interview_type:"online",meeting_link:ie.meetingLink,staff_id:ie.staffId,interviewer_id:Rt.user_id,interviewer_name:Rt.name,scheduling_type:"manual",interview_notes:`${ie.notes}

Scheduled Time: ${wi.displayTime} - ${si(wi.endTime)}`,duration:parseInt(ie.duration)||30};return Ut.scheduleInterview(qr.applicationId,ua)});await Promise.all(wr),await ft(),await Te(),await _e(),fe(!1),T([]),Ce({interviewType:"online",platform:"zoom",meetingLink:"",interviewDate:"",interviewTime:"",duration:"30",gapTime:"15",staffId:"",notes:""}),Je({});const ta=nr.map((qr,ms)=>`${_t[ms].studentName}: ${qr.displayTime} - ${si(qr.endTime)}`).join(`
`);Pa(` Successfully scheduled ${_t.length} interview(s)!

 Interviewer: ${Rt?.name||"Selected interviewer"}
 Date: ${ie.interviewDate}
 Duration: ${ie.duration} minutes each

 Scheduled Times:
${ta}`,"success")}catch(Qe){if(console.error("Error bulk scheduling interviews:",Qe),Qe.response?.status===409&&Qe.response?.data?.conflicts){const nr=Qe.response.data.conflicts.map(Rt=>`${Rt.student_name} (${Rt.display_start_time} - ${Rt.display_end_time})`).join(", ");Pa(`Cannot schedule interviews due to conflicts!

${selectedStaff?.name||"The interviewer"} already has interview(s) at this time:
${nr}`,"error");return}Pa("Failed to schedule some interviews: "+(Qe.message||"Unknown error"),"error")}finally{de(!1)}}},es=()=>{Ce({interviewType:"online",platform:"zoom",meetingLink:"",interviewDate:"",interviewTime:"",duration:"30",gapTime:"15",staffId:"",notes:""}),Je({})},Pa=(he,Qe="success",_t=null)=>{const nr=_t?`${_t}: ${he}`:he;switch(Qe){case"success":t(nr);break;case"error":r(nr);break;case"warning":a(nr);break;default:s(nr)}},Fs=(he,Qe)=>{const[_t,nr]=he.split(":").map(Number),Rt=_t*60+nr+Qe,wr=Math.floor(Rt/60),ta=Rt%60;return`${wr.toString().padStart(2,"0")}:${ta.toString().padStart(2,"0")}`},Xi=he=>{const[Qe,_t]=he.split(":").map(Number);return Qe*60+_t},Eo=he=>{const Qe=Math.floor(he/60),_t=he%60;return`${Qe.toString().padStart(2,"0")}:${_t.toString().padStart(2,"0")}`},pl=(he,Qe,_t,nr)=>he<nr&&_t<Qe,si=he=>{const[Qe,_t]=he.split(":"),nr=parseInt(Qe),Rt=parseInt(_t),wr=nr>=12?"PM":"AM";return`${nr===0?12:nr>12?nr-12:nr}:${Rt.toString().padStart(2,"0")} ${wr}`},s0=he=>{if(!he)return"Not specified";try{const Qe=new Date(he);return isNaN(Qe.getTime())?he:Qe.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return he}},ia=(he,Qe,_t,nr)=>{const Rt=[];let wr=he;for(let ta=0;ta<nr;ta++)Rt.push({startTime:wr,endTime:Fs(wr,parseInt(Qe)),displayTime:si(wr)}),wr=Fs(wr,parseInt(Qe)+parseInt(_t));return Rt},Kl=(he,Qe,_t,nr,Rt=null,wr=null)=>{const ta=[],qr=Xi(_t),ms=qr+parseInt(nr);return n.filter(ua=>(wr?ua.staffId===wr:ua.interviewer===he)&&ua.interviewDate===Qe&&ua.status!=="cancelled"&&ua.id!==Rt).forEach(ua=>{const La=Xi(ua.interviewTime),Nn=La+(ua.duration||30);pl(qr,ms,La,Nn)&&ta.push({scheduleId:ua.id,studentName:ua.studentName,startTime:ua.interviewTime,endTime:Eo(Nn),displayStartTime:si(ua.interviewTime),displayEndTime:si(Eo(Nn))})}),ta},ni=(he,Qe)=>{me(_t=>({..._t,[he]:Qe})),Se[he]&&Ye(_t=>({..._t,[he]:""}))},jn=()=>{const he={};return ue.academicMotivationScore||(he.academicMotivationScore="Please provide academic motivation score"),ue.leadershipInvolvementScore||(he.leadershipInvolvementScore="Please provide leadership & involvement score"),ue.financialNeedScore||(he.financialNeedScore="Please provide financial need score"),ue.characterValuesScore||(he.characterValuesScore="Please provide character & values score"),ue.overallRecommendation||(he.overallRecommendation="Please provide overall recommendation"),ue.remarks||(he.remarks="Please provide remarks"),Ye(he),Object.keys(he).length===0},Zi=async he=>{if(he.preventDefault(),!!jn()){it(!0);try{if(!xe)throw new Error("No active schedule selected");let Qe="needs_followup";ue.overallRecommendation==="recommended"?Qe="passed":ue.overallRecommendation==="not_recommended"&&(Qe="failed");const _t={academic_motivation_score:parseInt(ue.academicMotivationScore),leadership_involvement_score:parseInt(ue.leadershipInvolvementScore),financial_need_score:parseInt(ue.financialNeedScore),character_values_score:parseInt(ue.characterValuesScore),overall_recommendation:ue.overallRecommendation,remarks:ue.remarks,interview_result:Qe,interview_notes:ue.remarks};await Ut.completeInterview(xe.id,Qe,ue.remarks,_t),await ft(),we(!1),$e(null),me({applicantId:"",applicationId:"",interviewerName:"",interviewDate:"",academicMotivationScore:"",leadershipInvolvementScore:"",financialNeedScore:"",characterValuesScore:"",overallRecommendation:"",remarks:""}),Ye({});const nr=`
 Evaluation Summary:
 Academic Motivation: ${ue.academicMotivationScore}/5
 Leadership & Involvement: ${ue.leadershipInvolvementScore}/5  
 Financial Need: ${ue.financialNeedScore}/5
 Character & Values: ${ue.characterValuesScore}/5

 Overall Recommendation: ${ue.overallRecommendation==="recommended"?"Recommended for SSC Review":ue.overallRecommendation==="not_recommended"?"Not Recommended":"Needs Follow-up"}

 Interview evaluation has been successfully submitted and stored in the database.
      `.trim();Pa(nr,"success","Interview Evaluation Submitted")}catch(Qe){console.error("Error submitting evaluation:",Qe);const _t=`
 Failed to submit interview evaluation

${Qe.response?.data?.message||Qe.message||"Unknown error occurred"}

Please check your internet connection and try again. If the problem persists, contact the system administrator.
      `.trim();Pa(_t,"error","Evaluation Submission Failed")}finally{it(!1)}}},Wd=he=>{if(!he||he==="Invalid Date")return"N/A";try{const Qe=new Date(he);return isNaN(Qe.getTime())?"Invalid date format":Qe.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(Qe){return console.error("Error formatting date:",Qe),"Invalid date format"}},Jl=he=>{if(!he||he==="Invalid Date")return"N/A";try{const Qe=new Date(`2000-01-01T${he}`);return isNaN(Qe.getTime())?"Invalid time format":Qe.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}catch(Qe){return console.error("Error formatting time:",Qe),"Invalid time format"}},gl=()=>{const he=new sr;he.setFontSize(18),he.text("Interview Schedules Report",14,22),he.setFontSize(11),he.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30);const Qe=["Student Name","Student ID","Interviewer","Date","Time","Type","Status"],_t=[];(Ar.length>0?Ar:Lt()).forEach(Rt=>{const wr=Rt.interviewDate&&Rt.interviewDate!=="Not Scheduled"?new Date(Rt.interviewDate).toLocaleDateString():"Not Scheduled",ta=Rt.interviewTime&&Rt.interviewTime!=="Not Scheduled"?Rt.interviewTime:"TBD",qr=[Rt.studentName,Rt.studentId,Rt.interviewer,wr,ta,Rt.type==="pending"?"Pending":Rt.type||"N/A",(Rt.status||"unknown").toUpperCase()];_t.push(qr)}),Zn(he,{head:[Qe],body:_t,startY:40,styles:{fontSize:8},headStyles:{fillColor:[59,130,246]}}),he.save(`interview_schedules_${new Date().toISOString().split("T")[0]}.pdf`),t("Export Complete","Interview schedules report has been downloaded as PDF.")};return e.jsxs("div",{className:"space-y-4 sm:space-y-6 min-h-0 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white truncate",children:"Interview Schedules"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1 sm:mt-2",children:["Manage and schedule scholarship interviews",o.length>0&&e.jsxs("span",{className:"ml-2 px-2 py-1 bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300 rounded-full text-xs font-medium",children:[o.length," pending interview(s)"]})]}),c.length===0&&e.jsx("div",{className:"mt-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsxs("p",{className:"text-xs sm:text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsx("strong",{children:"Note:"}),' No applications with "Documents Reviewed" status found. Interviews can only be scheduled for applications that have passed document review.']})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 lg:mt-0",children:[e.jsxs("button",{onClick:gl,className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 px-3 sm:px-4 py-2 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors flex items-center justify-center text-sm sm:text-base",children:[e.jsx(Ra,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Export PDF"}),e.jsx("span",{className:"sm:hidden",children:"PDF"})]}),e.jsxs("button",{onClick:()=>{$e(null),q(!0)},disabled:c.length===0,className:`px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center text-sm sm:text-base ${c.length===0?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600 text-white"}`,title:c.length===0?"No eligible applications available":"Schedule new interview",children:[e.jsx(gi,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Schedule Interview"}),e.jsx("span",{className:"sm:hidden",children:"Schedule"})]})]})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700",children:e.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[e.jsxs("button",{onClick:()=>{K("scheduled"),S(he=>({...he,status:"scheduled"})),X(he=>({...he,currentPage:1}))},className:`${$==="scheduled"?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 dark:text-gray-400 hover:border-gray-300 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center`,children:[e.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Scheduled Interviews",$==="scheduled"&&J.total>0&&e.jsx("span",{className:"ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-slate-700 text-gray-900 dark:text-white",children:J.total})]}),e.jsxs("button",{onClick:()=>{K("pending"),S(he=>({...he,status:"all"})),X(he=>({...he,currentPage:1}))},className:`${$==="pending"?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 dark:text-gray-400 hover:border-gray-300 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center`,children:[e.jsx(Br,{className:"w-4 h-4 mr-2"}),"Pending Scheduling",$==="pending"&&J.total>0&&e.jsx("span",{className:"ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-slate-700 text-gray-900 dark:text-white",children:J.total})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-0",children:[e.jsx(Ls,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search schedules...",value:w,onChange:he=>{j(he.target.value),X(Qe=>({...Qe,currentPage:1}))},className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base"})]}),$==="scheduled"&&e.jsxs("select",{value:_.status,onChange:he=>ze("status",he.target.value),className:"w-full sm:w-auto px-3 sm:px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"rescheduled",children:"Rescheduled"})]})]}),e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsxs("button",{onClick:()=>Y(!F),className:`flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-lg border transition-colors text-sm sm:text-base ${F?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[e.jsx(Yi,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Advanced"}),e.jsx("span",{className:"sm:hidden",children:"Filter"})]}),e.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-slate-600 rounded-lg",children:[e.jsx("button",{onClick:()=>C("grid"),className:`p-2 ${N==="grid"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-l-lg transition-colors`,title:"Grid view",children:e.jsx(jh,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C("list"),className:`p-2 ${N==="list"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} transition-colors`,title:"List view",children:e.jsx(jd,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C("calendar"),className:`p-2 ${N==="calendar"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-r-lg transition-colors`,title:"Calendar view",children:e.jsx(Rr,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsxs("select",{value:D,onChange:he=>U(he.target.value),className:"flex-1 sm:flex-none px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base",children:[e.jsx("option",{value:"date",children:"Sort by Date"}),e.jsx("option",{value:"student",children:"Sort by Student"}),e.jsx("option",{value:"interviewer",children:"Sort by Interviewer"})]}),e.jsx("button",{onClick:()=>E(z==="asc"?"desc":"asc"),className:"p-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",title:`Sort ${z==="asc"?"Descending":"Ascending"}`,children:z==="asc"?e.jsx(Tb,{className:"w-4 h-4"}):e.jsx(Eb,{className:"w-4 h-4"})})]})]})]}),F&&e.jsx("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interviewer"}),e.jsxs("select",{value:_.interviewer,onChange:he=>ze("interviewer",he.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Interviewers"}),e.jsx("option",{value:"Dr. Maria Santos",children:"Dr. Maria Santos"}),e.jsx("option",{value:"Prof. Pedro Reyes",children:"Prof. Pedro Reyes"}),e.jsx("option",{value:"Dr. Ana Lopez",children:"Dr. Ana Lopez"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date From"}),e.jsx("input",{type:"date",value:_.dateFrom,onChange:he=>ze("dateFrom",he.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date To"}),e.jsx("input",{type:"date",value:_.dateTo,onChange:he=>ze("dateTo",he.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]})}),Nt()&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[_.status!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",children:["Status: ",_.status,e.jsx("button",{onClick:()=>ze("status","all"),className:"ml-1 hover:text-orange-600 dark:hover:text-orange-200",children:e.jsx(dr,{className:"w-3 h-3"})})]}),w&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:['Search: "',w,'"',e.jsx("button",{onClick:()=>j(""),className:"ml-1 hover:text-purple-600 dark:hover:text-purple-200",children:e.jsx(dr,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:st,className:"text-sm text-gray-600 dark:text-gray-300 underline hover:text-gray-800 dark:hover:text-gray-100",children:"Clear all filters"})]}),I.length>0&&e.jsx("div",{className:"mt-4 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:[I.length," schedule(s) selected"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:Tt,className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors flex items-center space-x-1",children:[e.jsx(gi,{className:"w-3 h-3"}),e.jsx("span",{children:"Bulk Schedule"})]}),I.length>0&&I.length<Fr.length&&e.jsx("button",{onClick:ut,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Select All"}),e.jsx("button",{onClick:nt,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Unselect All"})]})]})})]}),p?e.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400 animate-spin mx-auto mb-3 sm:mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Loading schedules..."})]})}):x?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 sm:p-6 text-center",children:[e.jsx(Br,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-500 mx-auto mb-3 sm:mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-red-700 dark:text-red-300",children:x})]}):Fr.length===0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-6 sm:p-12 text-center",children:[e.jsx(Rr,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No schedules found"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Try adjusting your filters or create a new schedule."})]}):N==="calendar"?e.jsx(vxe,{schedules:Fr}):e.jsx("div",{className:N==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6":"space-y-3",children:Fr.map(he=>e.jsx(Re,{schedule:he},he.id))}),!p&&!x&&J.total>0&&e.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-gray-200 dark:border-slate-700 pt-4",children:[e.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>X(he=>({...he,currentPage:Math.max(1,he.currentPage-1)})),disabled:J.currentPage===1,className:"relative inline-flex items-center rounded-md border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>X(he=>({...he,currentPage:Math.min(J.lastPage,he.currentPage+1)})),disabled:J.currentPage===J.lastPage,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",e.jsx("span",{className:"font-medium",children:J.from})," to ",e.jsx("span",{className:"font-medium",children:J.to})," of"," ",e.jsx("span",{className:"font-medium",children:J.total})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>X(he=>({...he,currentPage:Math.max(1,he.currentPage-1)})),disabled:J.currentPage===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 dark:ring-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(Qp,{className:"h-5 w-5","aria-hidden":"true"})]}),e.jsxs("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-slate-600 focus:outline-offset-0",children:["Page ",J.currentPage," of ",J.lastPage]}),e.jsxs("button",{onClick:()=>X(he=>({...he,currentPage:Math.min(J.lastPage,he.currentPage+1)})),disabled:J.currentPage===J.lastPage,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 dark:ring-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(Xu,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]}),O&&_a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>q(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:xe&&xe.id?"Reschedule Interview":"Schedule New Interview"}),e.jsx("button",{onClick:()=>q(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:e.jsxs("form",{onSubmit:yt,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Interview Type"}),e.jsxs("div",{className:"flex items-center p-4 border-2 border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx(Mi,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Online Interview"}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-300",children:"Video conference meeting"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Online Platform"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:Ze.platform,onChange:he=>Pe("platform",he.target.value),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none shadow-sm",children:[e.jsx("option",{value:"zoom",children:"Zoom"}),e.jsx("option",{value:"teams",children:"Microsoft Teams"}),e.jsx("option",{value:"meet",children:"Google Meet"}),e.jsx("option",{value:"webex",children:"Cisco Webex"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Meeting Link"}),e.jsx("input",{type:"url",value:Ze.meetingLink,onChange:he=>Pe("meetingLink",he.target.value),placeholder:"https://zoom.us/j/123456789",className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm ${re.meetingLink?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),re.meetingLink&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:re.meetingLink}),e.jsx("p",{className:"mt-1.5 text-xs text-gray-500 dark:text-gray-400",children:"Enter the meeting URL that students will use to join the interview"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Student (Documents Reviewed Only)"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:Ze.studentId,onChange:he=>Pe("studentId",he.target.value),className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none shadow-sm ${re.studentId?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Choose a student..."}),c.length>0?c.map(he=>e.jsxs("option",{value:he.id,children:[he.student?`${he.student.first_name} ${he.student.last_name}`:"Unknown Student","(",he.application_number||`App-${he.id}`,")"]},he.id)):e.jsx("option",{value:"",disabled:!0,children:"No eligible applications found"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]}),re.studentId&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:re.studentId}),e.jsx("p",{className:"mt-1.5 text-xs text-gray-500 dark:text-gray-400",children:'Only students with applications in "Documents Reviewed" status can be scheduled for interviews.'})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interview Date"}),e.jsx("input",{type:"date",value:Ze.interviewDate,onChange:he=>Pe("interviewDate",he.target.value),min:new Date().toISOString().split("T")[0],className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm ${re.interviewDate?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),re.interviewDate&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:re.interviewDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interview Time"}),e.jsx("input",{type:"time",value:Ze.interviewTime,onChange:he=>Pe("interviewTime",he.target.value),className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm ${re.interviewTime?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),re.interviewTime&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:re.interviewTime})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Duration (minutes)"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:Ze.duration,onChange:he=>Pe("duration",he.target.value),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none shadow-sm",children:[e.jsx("option",{value:"30",children:"30 minutes"}),e.jsx("option",{value:"45",children:"45 minutes"}),e.jsx("option",{value:"60",children:"60 minutes"}),e.jsx("option",{value:"90",children:"90 minutes"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interviewer"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:Ze.staffId,onChange:he=>Pe("staffId",he.target.value),className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none shadow-sm ${re.staffId?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select an interviewer"}),u.map(he=>e.jsxs("option",{value:he.id,disabled:!he.user_id,children:[he.name," ",he.user_id?"":"(Missing User ID)"]},he.id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]}),re.staffId&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:re.staffId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interview Notes"}),e.jsx("textarea",{rows:3,value:Ze.notes,onChange:he=>Pe("notes",he.target.value),placeholder:"Any special instructions or notes for the interview...",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none shadow-sm"})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50",children:[e.jsx("button",{type:"button",onClick:()=>{q(!1),gr()},disabled:Ge,className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600 rounded-xl transition-colors disabled:opacity-50 font-medium",children:"Cancel"}),e.jsx("button",{onClick:yt,disabled:Ge,className:"px-6 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-xl transition-colors disabled:opacity-50 flex items-center space-x-2 font-bold shadow-lg shadow-orange-500/20",children:Ge?e.jsxs(e.Fragment,{children:[e.jsx(Nr,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:xe&&xe.id?"Rescheduling...":"Creating..."})]}):e.jsx("span",{children:xe&&xe.id?"Reschedule Interview":"Schedule Interview"})})]})]})]}),document.body),be&&xe&&_a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>te(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Interview Details"}),e.jsx("button",{onClick:()=>te(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-xl p-5 border border-gray-100 dark:border-slate-600",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Wr,{className:"w-5 h-5 mr-2 text-blue-500"}),"Student Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Name"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white break-words text-lg",children:xe.studentName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Student ID"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white break-all",children:xe.studentId})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white break-all",title:xe.studentEmail,children:xe.studentEmail})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Phone"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white break-all",title:xe.studentPhone,children:xe.studentPhone})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 rounded-xl p-5 border border-blue-100 dark:border-blue-900/30",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(lr,{className:"w-5 h-5 mr-2 text-blue-600 dark:text-blue-400"}),"Interview Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Date & Time"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white break-words",children:[Wd(xe.interviewDate)," at ",Jl(xe.interviewTime)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Duration"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[xe.duration||"N/A"," minutes"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Type"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:xe.type||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Status"}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold ${Ve(xe.status||"unknown")}`,children:[Wt(xe.status||"unknown"),e.jsx("span",{className:"ml-1.5 capitalize",children:xe.status||"Unknown"})]})]})]})]}),xe.type==="online"&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-5 border border-green-100 dark:border-green-900/30",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Mi,{className:"w-5 h-5 mr-2 text-green-600 dark:text-green-400"}),"Meeting Details"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Platform"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:xe.platform})]}),xe.meetingLink&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Meeting Link"}),e.jsxs("a",{href:xe.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 dark:text-blue-400 hover:underline break-all flex items-center",children:[xe.meetingLink,e.jsx(hh,{className:"w-3 h-3 ml-1"})]})]})]})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-5 border border-purple-100 dark:border-purple-900/30",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Wr,{className:"w-5 h-5 mr-2 text-purple-600 dark:text-purple-400"}),"Interviewer Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Name"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white break-words",title:xe.interviewer,children:xe.interviewer})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white break-all",title:xe.interviewerEmail,children:xe.interviewerEmail})]})]})]}),xe.notes&&e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/10 rounded-xl p-5 border border-yellow-100 dark:border-yellow-900/30",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(Kt,{className:"w-5 h-5 mr-2 text-yellow-600 dark:text-yellow-400"}),"Notes"]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 break-words whitespace-pre-wrap text-sm",title:xe.notes,children:xe.notes})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-xl p-5 border border-gray-100 dark:border-slate-600",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(Z0,{className:"w-5 h-5 mr-2 text-gray-600 dark:text-gray-400"}),"Required Documents"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(xe.documents||[]).length>0?(xe.documents||[]).map((he,Qe)=>e.jsx("span",{className:"px-3 py-1.5 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-medium shadow-sm",children:he},Qe)):e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"No documents required"})})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50",children:[e.jsx("button",{onClick:()=>te(!1),className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600 rounded-xl transition-colors font-medium shadow-sm",children:"Close"}),xe.status!=="pending"&&xe.status!=="completed"&&e.jsxs("button",{onClick:()=>Pt(xe),className:"px-6 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-colors flex items-center space-x-2 font-bold shadow-lg shadow-green-600/20",children:[e.jsx(Mi,{className:"w-5 h-5"}),e.jsx("span",{children:"Join Meeting"})]})]})]})]}),document.body),ce&&xe&&_a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>we(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-4xl bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Join Meeting & Interview Output"}),e.jsx("button",{onClick:()=>we(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-6 border border-green-100 dark:border-green-900/30",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center text-lg",children:[e.jsx(Mi,{className:"w-6 h-6 mr-3 text-green-600 dark:text-green-400"}),xe.type==="online"||xe.platform?.toLowerCase().includes("zoom")||xe.platform?.toLowerCase().includes("meet")||xe.platform?.toLowerCase().includes("teams")||xe.meetingLink?.includes("zoom")||xe.meetingLink?.includes("meet")||xe.meetingLink?.includes("teams")||xe.meetingLink?.startsWith("http")?"Meeting Link":"Interview Location"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:xe.type==="online"||xe.platform?.toLowerCase().includes("zoom")||xe.platform?.toLowerCase().includes("meet")||xe.platform?.toLowerCase().includes("teams")||xe.meetingLink?.includes("zoom")||xe.meetingLink?.includes("meet")||xe.meetingLink?.includes("teams")||xe.meetingLink?.startsWith("http")?"Platform":"Type"}),e.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:xe.platform||(xe.type==="online"||xe.platform?.toLowerCase().includes("zoom")||xe.platform?.toLowerCase().includes("meet")||xe.platform?.toLowerCase().includes("teams")||xe.meetingLink?.includes("zoom")||xe.meetingLink?.includes("meet")||xe.meetingLink?.includes("teams")||xe.meetingLink?.startsWith("http")?"Google Meet":"In-Person Interview")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:xe.type==="online"||xe.platform?.toLowerCase().includes("zoom")||xe.platform?.toLowerCase().includes("meet")||xe.platform?.toLowerCase().includes("teams")||xe.meetingLink?.includes("zoom")||xe.meetingLink?.includes("meet")||xe.meetingLink?.includes("teams")||xe.meetingLink?.startsWith("http")?"Meeting Link":"Location Details"}),e.jsx("div",{className:"flex items-center space-x-3",children:xe.type==="online"||xe.platform?.toLowerCase().includes("zoom")||xe.platform?.toLowerCase().includes("meet")||xe.platform?.toLowerCase().includes("teams")||xe.meetingLink?.includes("zoom")||xe.meetingLink?.includes("meet")||xe.meetingLink?.includes("teams")||xe.meetingLink?.startsWith("http")?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 p-3 bg-white dark:bg-slate-700 rounded-lg border border-gray-200 dark:border-slate-600 font-mono text-sm text-gray-600 dark:text-gray-300 break-all",children:xe.meetingLink}),xe.status!=="completed"&&e.jsxs("button",{onClick:()=>{let he=xe.meetingLink;!he.startsWith("http://")&&!he.startsWith("https://")&&(he="https://"+he),window.open(he,"_blank")},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center space-x-2 font-medium shadow-sm hover:shadow-md flex-shrink-0",title:"Join Meeting",children:[e.jsx(Mi,{className:"w-4 h-4"}),e.jsx("span",{children:"Join Meeting"})]})]}):e.jsxs("div",{className:"flex-1 p-4 bg-white dark:bg-slate-700 rounded-lg border border-gray-200 dark:border-slate-600",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-lg",children:xe.meetingLink}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"In-person interview location"})]})})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 rounded-xl p-6 border border-blue-100 dark:border-blue-900/30",children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white mb-6 flex items-center text-lg",children:[e.jsx(Z0,{className:"w-6 h-6 mr-3 text-blue-600 dark:text-blue-400"}),"Interview Evaluation Record"]}),e.jsxs("form",{onSubmit:Zi,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Applicant ID"}),e.jsx("input",{type:"text",value:ue.applicantId,readOnly:!0,className:"w-full px-3 py-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 text-sm font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Application ID"}),e.jsx("input",{type:"text",value:ue.applicationId,readOnly:!0,className:"w-full px-3 py-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 text-sm font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Interviewer Name"}),e.jsx("input",{type:"text",value:ue.interviewerName,readOnly:!0,className:"w-full px-3 py-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 text-sm font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Interview Date"}),e.jsx("input",{type:"text",value:ue.interviewDate,readOnly:!0,className:"w-full px-3 py-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 text-sm font-medium"})]})]}),e.jsx("div",{className:"h-px bg-blue-200 dark:bg-blue-800/50 my-6"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h5",{className:"font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 flex items-center justify-center mr-3 text-sm font-bold",children:"1"}),"Scoring (1-5 scale)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pl-11",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Academic Motivation Score"}),e.jsxs("select",{value:ue.academicMotivationScore,onChange:he=>ni("academicMotivationScore",he.target.value),className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm ${Se.academicMotivationScore?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select score..."}),e.jsx("option",{value:"1",children:"1 - Poor"}),e.jsx("option",{value:"2",children:"2 - Below Average"}),e.jsx("option",{value:"3",children:"3 - Average"}),e.jsx("option",{value:"4",children:"4 - Good"}),e.jsx("option",{value:"5",children:"5 - Excellent"})]}),Se.academicMotivationScore&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:Se.academicMotivationScore})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Leadership & Involvement Score"}),e.jsxs("select",{value:ue.leadershipInvolvementScore,onChange:he=>ni("leadershipInvolvementScore",he.target.value),className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm ${Se.leadershipInvolvementScore?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select score..."}),e.jsx("option",{value:"1",children:"1 - Poor"}),e.jsx("option",{value:"2",children:"2 - Below Average"}),e.jsx("option",{value:"3",children:"3 - Average"}),e.jsx("option",{value:"4",children:"4 - Good"}),e.jsx("option",{value:"5",children:"5 - Excellent"})]}),Se.leadershipInvolvementScore&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:Se.leadershipInvolvementScore})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Financial Need Score"}),e.jsxs("select",{value:ue.financialNeedScore,onChange:he=>ni("financialNeedScore",he.target.value),className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm ${Se.financialNeedScore?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select score..."}),e.jsx("option",{value:"1",children:"1 - Poor"}),e.jsx("option",{value:"2",children:"2 - Below Average"}),e.jsx("option",{value:"3",children:"3 - Average"}),e.jsx("option",{value:"4",children:"4 - Good"}),e.jsx("option",{value:"5",children:"5 - Excellent"})]}),Se.financialNeedScore&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:Se.financialNeedScore})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Character & Values Score"}),e.jsxs("select",{value:ue.characterValuesScore,onChange:he=>ni("characterValuesScore",he.target.value),className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm ${Se.characterValuesScore?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select score..."}),e.jsx("option",{value:"1",children:"1 - Poor"}),e.jsx("option",{value:"2",children:"2 - Below Average"}),e.jsx("option",{value:"3",children:"3 - Average"}),e.jsx("option",{value:"4",children:"4 - Good"}),e.jsx("option",{value:"5",children:"5 - Excellent"})]}),Se.characterValuesScore&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:Se.characterValuesScore})]})]})]}),e.jsx("div",{className:"h-px bg-blue-200 dark:bg-blue-800/50 my-6"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h5",{className:"font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 flex items-center justify-center mr-3 text-sm font-bold",children:"2"}),"Result & Feedback"]}),e.jsxs("div",{className:"pl-11 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Overall Recommendation"}),e.jsxs("select",{value:ue.overallRecommendation,onChange:he=>ni("overallRecommendation",he.target.value),className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm ${Se.overallRecommendation?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select recommendation..."}),e.jsx("option",{value:"recommended",children:" Recommended for SSC Review"}),e.jsx("option",{value:"not_recommended",children:" Not Recommended"}),e.jsx("option",{value:"needs_followup",children:" Conditional Recommendation"})]}),Se.overallRecommendation&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:Se.overallRecommendation})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Remarks"}),e.jsx("textarea",{rows:4,value:ue.remarks,onChange:he=>ni("remarks",he.target.value),placeholder:"Provide detailed feedback about the candidate's performance, strengths, areas for improvement, and any other relevant observations...",className:`w-full px-4 py-3 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none shadow-sm ${Se.remarks?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),Se.remarks&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:Se.remarks})]})]})]})]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50",children:[e.jsx("button",{type:"button",onClick:()=>we(!1),disabled:kt,className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600 rounded-xl transition-colors disabled:opacity-50 font-medium",children:"Cancel"}),e.jsx("button",{onClick:Zi,disabled:kt,className:"px-6 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-xl transition-colors disabled:opacity-50 flex items-center space-x-2 font-bold shadow-lg shadow-orange-500/20",children:kt?e.jsxs(e.Fragment,{children:[e.jsx(Nr,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Z0,{className:"w-5 h-5"}),e.jsx("span",{children:"Submit Evaluation"})]})})]})]})]}),document.body),W&&xe&&_a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>pe(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete Interview Schedule"}),e.jsx("button",{onClick:()=>pe(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Are you sure you want to delete the interview schedule for ",e.jsx("strong",{children:xe.studentName}),"?"]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 flex items-start gap-3",children:[e.jsx("div",{className:"bg-red-100 dark:bg-red-900/50 p-2 rounded-lg flex-shrink-0",children:e.jsx(bn,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-red-900 dark:text-red-100 mb-1",children:"Warning"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"This action cannot be undone. The interview schedule will be permanently deleted."})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>pe(!1),disabled:ge,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600 rounded-xl transition-colors disabled:opacity-50 font-medium",children:"Cancel"}),e.jsx("button",{onClick:Ot,disabled:ge,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-colors disabled:opacity-50 flex items-center space-x-2 font-bold shadow-lg shadow-red-600/20",children:ge?e.jsxs(e.Fragment,{children:[e.jsx(Nr,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Deleting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(bn,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete Schedule"})]})})]})]})]})]}),document.body),je&&_a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>fe(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Bulk Schedule Interviews"}),e.jsx("button",{onClick:()=>fe(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"mb-6 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-xl border border-orange-100 dark:border-orange-900/30 flex items-start gap-3",children:[e.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/50 p-2 rounded-lg flex-shrink-0",children:e.jsx(AlertCircle,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-orange-900 dark:text-orange-100 mb-1",children:"Bulk Action"}),e.jsxs("p",{className:"text-sm text-orange-800 dark:text-orange-200",children:[e.jsxs("strong",{children:["Scheduling ",I.length," pending application(s)"]})," with consecutive interview times."]})]})]}),ie.interviewDate&&ie.interviewTime&&I.length>0&&e.jsxs("div",{className:"mb-6 bg-blue-50 dark:bg-blue-900/10 rounded-xl border border-blue-100 dark:border-blue-900/30 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-blue-100/50 dark:bg-blue-900/30 border-b border-blue-100 dark:border-blue-800/50",children:e.jsxs("h4",{className:"text-sm font-bold text-blue-900 dark:text-blue-100 flex items-center",children:[e.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Schedule Preview"]})}),e.jsx("div",{className:"p-4 space-y-2",children:(()=>{const Qe=Lt().filter(nr=>I.includes(nr.id)).filter(nr=>nr.status==="pending"&&nr.type==="pending"),_t=ia(ie.interviewTime,ie.duration,ie.gapTime,Qe.length);return Qe.map((nr,Rt)=>e.jsxs("div",{className:"flex items-center justify-between text-sm py-1 border-b border-blue-100 dark:border-blue-800/30 last:border-0",children:[e.jsxs("span",{className:"text-blue-800 dark:text-blue-200 font-medium flex items-center",children:[e.jsx("span",{className:"w-5 h-5 rounded-full bg-blue-100 dark:bg-blue-800 flex items-center justify-center text-xs mr-2 text-blue-600 dark:text-blue-300",children:Rt+1}),nr.studentName]}),e.jsxs("span",{className:"text-blue-700 dark:text-blue-300 font-mono bg-blue-50 dark:bg-blue-900/50 px-2 py-0.5 rounded text-xs",children:[_t[Rt].displayTime," - ",si(_t[Rt].endTime)]})]},nr.id))})()}),e.jsx("div",{className:"px-4 py-2 bg-blue-50 dark:bg-blue-900/20 border-t border-blue-100 dark:border-blue-800/50 flex justify-end",children:e.jsxs("p",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:["Total time: ",(()=>{const he=I.length*parseInt(ie.duration)+(I.length-1)*parseInt(ie.gapTime),Qe=Math.floor(he/60),_t=he%60;return Qe>0?`${Qe}h ${_t}m`:`${_t}m`})()]})})]}),e.jsxs("form",{onSubmit:hs,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Interview Type"}),e.jsxs("div",{className:"flex items-center p-4 border-2 border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[e.jsx(Mi,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Online Interview"}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-300",children:"Video conference meeting"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Online Platform"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:ie.platform,onChange:he=>qt("platform",he.target.value),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none shadow-sm",children:[e.jsx("option",{value:"zoom",children:"Zoom"}),e.jsx("option",{value:"teams",children:"Microsoft Teams"}),e.jsx("option",{value:"meet",children:"Google Meet"}),e.jsx("option",{value:"webex",children:"Cisco Webex"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Meeting Link"}),e.jsx("input",{type:"url",value:ie.meetingLink,onChange:he=>qt("meetingLink",he.target.value),placeholder:"https://zoom.us/j/123456789",className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm ${Oe.meetingLink?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),Oe.meetingLink&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:Oe.meetingLink}),e.jsx("p",{className:"mt-1.5 text-xs text-gray-500 dark:text-gray-400",children:"Enter the meeting URL that students will use to join the interview"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interview Date"}),e.jsx("input",{type:"date",value:ie.interviewDate,onChange:he=>qt("interviewDate",he.target.value),className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm ${Oe.interviewDate?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),Oe.interviewDate&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:Oe.interviewDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interview Time (Start)"}),e.jsx("input",{type:"time",value:ie.interviewTime,onChange:he=>qt("interviewTime",he.target.value),className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm ${Oe.interviewTime?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),Oe.interviewTime&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:Oe.interviewTime})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Duration (minutes)"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:ie.duration,onChange:he=>qt("duration",he.target.value),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none shadow-sm",children:[e.jsx("option",{value:"30",children:"30 minutes"}),e.jsx("option",{value:"45",children:"45 minutes"}),e.jsx("option",{value:"60",children:"60 minutes"}),e.jsx("option",{value:"90",children:"90 minutes"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gap Between Interviews"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:ie.gapTime,onChange:he=>qt("gapTime",he.target.value),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none shadow-sm",children:[e.jsx("option",{value:"5",children:"5 minutes"}),e.jsx("option",{value:"10",children:"10 minutes"}),e.jsx("option",{value:"15",children:"15 minutes"}),e.jsx("option",{value:"20",children:"20 minutes"}),e.jsx("option",{value:"30",children:"30 minutes"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interviewer"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:ie.staffId,onChange:he=>qt("staffId",he.target.value),className:`w-full px-4 py-2.5 border rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none shadow-sm ${Oe.staffId?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select an interviewer"}),u.map(he=>e.jsxs("option",{value:he.id,disabled:!he.user_id,children:[he.name," ",he.user_id?"":"(Missing User ID)"]},he.id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-500",children:e.jsx("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})})})]}),Oe.staffId&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400 font-medium",children:Oe.staffId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interview Notes"}),e.jsx("textarea",{rows:3,value:ie.notes,onChange:he=>qt("notes",he.target.value),placeholder:"Any special instructions or notes for the interviews...",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none shadow-sm"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50",children:[e.jsx("button",{type:"button",onClick:()=>{fe(!1),es()},disabled:H,className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600 rounded-xl transition-colors disabled:opacity-50 font-medium",children:"Cancel"}),e.jsx("button",{onClick:hs,disabled:H,className:"px-6 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-xl transition-colors disabled:opacity-50 flex items-center space-x-2 font-bold shadow-lg shadow-orange-500/20",children:H?e.jsxs(e.Fragment,{children:[e.jsx(Nr,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Scheduling..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(gi,{className:"w-5 h-5"}),e.jsxs("span",{children:["Schedule ",I.length," Interview(s)"]})]})})]})]})]}),document.body)]})}const vxe=({schedules:t})=>{const[r,a]=b.useState(new Date),s=d=>{const u=d.getFullYear(),f=d.getMonth(),p=new Date(u,f,1),x=new Date(u,f+1,0).getDate(),v=p.getDay(),w=[];for(let j=0;j<v;j++)w.push(null);for(let j=1;j<=x;j++)w.push(new Date(u,f,j));return w},n=d=>{if(!d)return[];const u=d.toISOString().split("T")[0];return t.filter(f=>f.interviewDate===u)},i=d=>d.toLocaleDateString("en-US",{month:"long",year:"numeric"}),o=d=>{a(u=>{const f=new Date(u);return f.setMonth(u.getMonth()+d),f})},l=s(r),c=i(r);return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>o(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(Qp,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),e.jsx("button",{onClick:()=>a(new Date),className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Today"}),e.jsx("button",{onClick:()=>o(1),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(Xu,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(d=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:d},d))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:l.map((d,u)=>{const f=n(d),p=d&&d.toDateString()===new Date().toDateString();return e.jsx("div",{className:`min-h-[100px] p-2 border border-gray-200 dark:border-slate-700 ${d?"bg-white dark:bg-slate-800":"bg-gray-50 dark:bg-slate-900"} ${p?"ring-2 ring-orange-500":""}`,children:d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-sm font-medium mb-1 ${p?"text-orange-600 dark:text-orange-400":"text-gray-900 dark:text-white"}`,children:d.getDate()}),e.jsxs("div",{className:"space-y-1",children:[f.slice(0,3).map(g=>e.jsx("div",{className:"text-xs p-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 rounded truncate",title:`${g.studentName} - ${g.interviewTime}`,children:g.studentName},g.id)),f.length>3&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",f.length-3," more"]})]})]})},u)})})]})]})},wxe=({isVisible:t,title:r,message:a,confirmText:s="Confirm",cancelText:n="Cancel",type:i="warning",onConfirm:o,onCancel:l})=>{if(!t)return null;const c=()=>{switch(i){case"success":return e.jsx(jt,{className:"w-6 h-6 text-green-500"});case"error":return e.jsx(dr,{className:"w-6 h-6 text-red-500"});case"warning":default:return e.jsx(Br,{className:"w-6 h-6 text-yellow-500"})}},d=()=>{switch(i){case"success":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";case"error":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"warning":default:return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"}},u=()=>{switch(i){case"success":return"text-green-800 dark:text-green-200";case"error":return"text-red-800 dark:text-red-200";case"warning":default:return"text-yellow-800 dark:text-yellow-200"}};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:l}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl transform transition-all duration-300 ease-in-out",children:[e.jsx("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:c()}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:`${d()} border rounded-lg p-4`,children:e.jsx("p",{className:`text-sm ${u()}`,children:a})})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:l,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:n}),e.jsx("button",{onClick:o,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors",children:s})]})]})]})};function jxe(){const{success:t,error:r}=na(),[a,s]=b.useState([]),[n,i]=b.useState(!0),[o,l]=b.useState(""),[c,d]=b.useState(""),[u,f]=b.useState({status:"all",category:"all",level:"all",school:"all",endorsementStatus:"all"}),[p,g]=b.useState("grid"),[x,v]=b.useState("date"),[w,j]=b.useState("desc"),[_,S]=b.useState([]),[N,C]=b.useState(!1),[D,U]=b.useState(!1),[z,E]=b.useState(!1),[I,T]=b.useState(null),[F,Y]=b.useState(!1),[O,q]=b.useState(!1),[$,K]=b.useState(!1),[J,X]=b.useState(""),[be,te]=b.useState("ready"),[R,ae]=b.useState({currentPage:1,lastPage:1,perPage:10,total:0,from:0,to:0});b.useEffect(()=>{W()},[be,R.currentPage,R.perPage,c,u,x,w]);const W=async()=>{try{i(!0),l("");const me={page:R.currentPage,per_page:R.perPage,sort_by:x,sort_order:w,with:"student.academic_records,school,category,subcategory,interview_schedule,interview_evaluation",...u};c&&(me.search=c),u.category!=="all"&&(me.category=u.category);let Se;be==="ready"?Se=await Ut.getApplications({...me,status:"interview_completed"}):Se=await Ut.getApplications({...me,status:"endorsed_to_ssc"});const Ye=Se.data||[];Se.meta&&ae(it=>({...it,currentPage:Se.meta.current_page||1,lastPage:Se.meta.last_page||1,total:Se.meta.total||0,from:Se.meta.from||0,to:Se.meta.to||0}));const kt=Ye.map(it=>{const ft=it.student,Te=it.school,oe=it.category,_e=it.subcategory;return{id:it.id,name:`${ft?.first_name||""} ${ft?.last_name||""}`.trim(),studentId:ft?.student_id_number||`APP-${it.id}`,email:ft?.email_address||"",phone:ft?.contact_number||"",schoolName:Te?.name||"Unknown School",schoolType:Te?.classification||"Unknown",educationalLevel:ft?.academic_records?.[0]?.educational_level||"Tertiary",yearLevel:ft?.academic_records?.[0]?.year_level||"Unknown",course:ft?.academic_records?.[0]?.program||"Unknown Program",gwa:ft?.academic_records?.[0]?.general_weighted_average?.toString()||"N/A",scholarshipCategory:oe?.name||"Unknown Category",scholarshipSubCategory:_e?.name||"Unknown Subcategory",requestedAmount:it.requested_amount||0,approvedAmount:it.approved_amount||it.requested_amount||0,endorsementStatus:it.status==="endorsed_to_ssc"?"endorsed":"ready",interviewCompleted:!0,verificationCompleted:!0,documentsVerified:!0,submittedDate:it.submitted_at||it.created_at,approvedDate:it.approved_at||it.reviewed_at,endorsedDate:it.status==="endorsed_to_ssc"?it.updated_at:null,documents:8,priority:"normal",interview:it.interview_schedule}});s(kt)}catch(me){console.error("Error fetching applications for SSC endorsement:",me),l("Failed to load applications"),s([])}finally{i(!1)}},pe=me=>{switch(me){case"ready":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"conditional":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"endorsed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},ce=me=>{switch(me){case"ready":return e.jsx(jt,{className:"w-4 h-4"});case"conditional":return e.jsx(Br,{className:"w-4 h-4"});case"endorsed":return e.jsx(Ba,{className:"w-4 h-4"});case"pending":return e.jsx(lr,{className:"w-4 h-4"});case"rejected":return e.jsx(mr,{className:"w-4 h-4"});default:return e.jsx(Kt,{className:"w-4 h-4"})}},we=me=>{switch(me){case"high":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},je=a,fe=a,xe=({application:me})=>e.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 hover:shadow-md transition-all duration-200 group ${p==="list"?"rounded-lg":"rounded-xl"}`,children:e.jsxs("div",{className:p==="list"?"p-3 sm:p-4":"p-4 sm:p-6",children:[e.jsxs("div",{className:`flex flex-col space-y-3 sm:flex-row sm:items-start sm:justify-between sm:space-y-0 ${p==="list"?"mb-3":"mb-4"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx("input",{type:"checkbox",checked:_.includes(me.id),onChange:()=>$e(me.id),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"})}),e.jsx("div",{className:`flex-shrink-0 ${p==="list"?"h-8 w-8":"h-10 w-10 sm:h-12 sm:w-12"}`,children:e.jsx("div",{className:`${p==="list"?"h-8 w-8":"h-10 w-10 sm:h-12 sm:w-12"} rounded-full bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 flex items-center justify-center`,children:e.jsx(Ba,{className:`${p==="list"?"h-4 w-4":"h-5 w-5 sm:h-6 sm:w-6"} text-orange-600 dark:text-orange-400`})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:`${p==="list"?"text-sm sm:text-base font-semibold":"text-base sm:text-lg font-semibold"} text-gray-900 dark:text-white truncate`,children:me.name}),e.jsx("p",{className:`${p==="list"?"text-xs":"text-xs sm:text-sm"} text-gray-500 dark:text-gray-400 truncate`,children:me.studentId})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-2 flex-shrink-0",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${pe(me.endorsementStatus)}`,children:[ce(me.endorsementStatus),e.jsx("span",{className:"ml-1 capitalize",children:me.endorsementStatus==="conditional"?"For Consideration":me.endorsementStatus==="ready"?"Ready for SSC Endorsement":me.endorsementStatus})]}),me.priority!=="normal"&&e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium ${we(me.priority)}`,children:me.priority})]})]}),e.jsxs("div",{className:p==="list"?"space-y-2":"space-y-4",children:[e.jsxs("div",{className:`flex items-center space-x-2 ${p==="list"?"text-xs":"text-sm"} text-gray-600 dark:text-gray-400`,children:[e.jsx(Dn,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} flex-shrink-0`}),e.jsx("span",{className:"truncate",children:me.schoolName})]}),e.jsxs("div",{className:`grid gap-2 sm:gap-3 ${p==="list"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4":"grid-cols-1 sm:grid-cols-2"}`,children:[e.jsxs("div",{className:`flex items-center space-x-2 ${p==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(rn,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"GWA:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:me.gwa})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${p==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(yo,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Level:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:me.educationalLevel})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${p==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(Ba,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Category:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:me.scholarshipCategory})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${p==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(va,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Amount:"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:["",me.approvedAmount.toLocaleString()]})]})]}),p==="list"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(Rr,{className:"w-3 h-3 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Approved: ",new Date(me.approvedDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(Fu,{className:"w-3 h-3 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[me.documents," documents"]})]})]}),me.interview&&e.jsxs("div",{className:`${p==="list"?"space-y-2":"space-y-3"}`,children:[e.jsxs("div",{className:`bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 ${p==="list"?"p-2":"p-3"}`,children:[e.jsxs("div",{className:`flex items-center space-x-2 mb-2 ${p==="list"?"text-xs":"text-sm"}`,children:[e.jsx(ok,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} text-blue-600`}),e.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Interview Completed"}),e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:""}),e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:new Date(me.interview.date).toLocaleDateString()})]}),me.interview.evaluation?e.jsxs("div",{className:`grid ${p==="list"?"grid-cols-1 gap-1":"grid-cols-1 gap-2"} ${p==="list"?"text-xs":"text-sm"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Academic:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((Se,Ye)=>{const kt=me.interview.evaluation.academicMotivationScore||0;return e.jsx(ls,{className:`w-3 h-3 ${Ye<kt?"text-yellow-400 fill-current":"text-gray-300"}`},Ye)}),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[me.interview.evaluation.academicMotivationScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Leadership:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((Se,Ye)=>{const kt=me.interview.evaluation.leadershipInvolvementScore||0;return e.jsx(ls,{className:`w-3 h-3 ${Ye<kt?"text-yellow-400 fill-current":"text-gray-300"}`},Ye)}),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[me.interview.evaluation.leadershipInvolvementScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Financial:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((Se,Ye)=>{const kt=me.interview.evaluation.financialNeedScore||0;return e.jsx(ls,{className:`w-3 h-3 ${Ye<kt?"text-yellow-400 fill-current":"text-gray-300"}`},Ye)}),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[me.interview.evaluation.financialNeedScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Character:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((Se,Ye)=>{const kt=me.interview.evaluation.characterValuesScore||0;return e.jsx(ls,{className:`w-3 h-3 ${Ye<kt?"text-yellow-400 fill-current":"text-gray-300"}`},Ye)}),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[me.interview.evaluation.characterValuesScore||0,"/5"]})]})]})]}):e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"Evaluation scores not available"}),e.jsxs("div",{className:`mt-2 ${p==="list"?"text-xs":"text-sm"} text-blue-700 dark:text-blue-300`,children:["Interviewer: ",e.jsx("span",{className:"font-medium",children:me.interview.interviewer})]})]}),me.interview.evaluation&&e.jsxs("div",{className:`flex items-center space-x-2 ${p==="list"?"text-xs":"text-sm"}`,children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recommendation:"}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${me.interview.evaluation.overallRecommendation==="recommended"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":me.interview.evaluation.overallRecommendation==="needs_followup"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[me.interview.evaluation.overallRecommendation==="recommended"&&" Recommended",me.interview.evaluation.overallRecommendation==="needs_followup"&&" Conditional",me.interview.evaluation.overallRecommendation==="not_recommended"&&" Not Recommended"]})]})]}),e.jsxs("div",{className:`flex items-center space-x-4 ${p==="list"?"text-xs":"text-sm"}`,children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(jt,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} text-green-500`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Interview"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(jt,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} text-green-500`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Verification"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(jt,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} text-green-500`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Documents"})]})]})]}),e.jsx("div",{className:`${p==="list"?"mt-3 pt-3":"mt-4 sm:mt-6 pt-3 sm:pt-4"} border-t border-gray-200 dark:border-slate-700`,children:e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-2",children:[e.jsxs("button",{onClick:()=>ge(me),disabled:me.endorsementStatus==="endorsed",className:`flex items-center justify-center space-x-2 ${p==="list"?"px-3 sm:px-4 py-2 text-sm font-semibold":"px-3 py-2 text-sm"} ${me.endorsementStatus==="endorsed"?"bg-green-500 cursor-not-allowed opacity-80":me.endorsementStatus==="conditional"?"bg-yellow-500 hover:bg-yellow-600":"bg-orange-500 hover:bg-orange-600"} text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[me.endorsementStatus==="endorsed"?e.jsx(jt,{className:"w-4 h-4"}):e.jsx(Nd,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:me.endorsementStatus==="endorsed"?"Endorsed":"Endorse to SSC"}),e.jsx("span",{className:"sm:hidden",children:me.endorsementStatus==="endorsed"?"Endorsed":"Endorse"})]}),e.jsxs("button",{onClick:()=>Ze(me),className:`flex items-center justify-center space-x-2 ${p==="list"?"px-3 sm:px-4 py-2 text-sm font-semibold":"px-3 py-2 text-sm"} bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(mr,{className:"w-4 h-4"}),e.jsx("span",{children:"Reject"})]})]}),e.jsx("div",{className:"flex items-center justify-center space-x-2 flex-shrink-0",children:e.jsx("button",{onClick:()=>ot(me),className:"p-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md",title:"View Details",children:e.jsx(Or,{className:`${p==="list"?"w-5 h-5":"w-4 h-4"}`})})})]})})]})}),$e=me=>{S(Se=>Se.includes(me)?Se.filter(Ye=>Ye!==me):[...Se,me])},ge=me=>{T(me),U(!0)},ot=me=>{T(me),E(!0)},Ze=me=>{T(me),X(""),K(!0)},Z=async()=>{if(I)try{await Ut.endorseToSSC(I.id,`Application endorsed to SSC on ${new Date().toISOString()}`),s(me=>me.map(Se=>Se.id===I.id?{...Se,endorsementStatus:"endorsed",endorsedDate:new Date().toISOString()}:Se)),U(!1),t("Application successfully endorsed to SSC!","Endorsement Successful")}catch(me){console.error("Endorsement failed:",me),r("Failed to endorse application. Please try again.","Endorsement Failed")}},re=async()=>{if(!I||!J.trim()){r("Please provide a reason for rejection.","Rejection Reason Required");return}try{await Ut.rejectApplication(I.id,J.trim()),s(me=>me.map(Se=>Se.id===I.id?{...Se,endorsementStatus:"rejected",rejectedDate:new Date().toISOString()}:Se)),K(!1),X(""),t("Application successfully rejected.","Rejection Successful")}catch(me){console.error("Rejection failed:",me),r("Failed to reject application. Please try again.","Rejection Failed")}},Ue=()=>{q(!0)},Ge=()=>{_.length!==0&&Y(!0)},Ke=async()=>{try{const me=je.filter(it=>_.includes(it.id)&&it.interview?.evaluation?.overallRecommendation==="recommended");if(me.length===0){r('No applications with "recommended" status found in your selection.',"No Ready Applications"),q(!1);return}const Se=me.map(it=>it.id),Ye=`Bulk endorsed ready applications to SSC on ${new Date().toISOString()}`,kt=await Ut.bulkEndorseToSSC(Se,"all",Ye);s(it=>it.map(ft=>Se.includes(ft.id)&&kt.endorsed_count>0?{...ft,endorsementStatus:"endorsed",endorsedDate:new Date().toISOString()}:ft)),S([]),q(!1),t(`Successfully endorsed ${kt.endorsed_count} ready application(s) to SSC!`,"Bulk Endorsement Successful"),W()}catch(me){console.error("Bulk endorsement failed:",me),q(!1),r("Failed to bulk endorse ready applications. Please try again.","Bulk Endorsement Failed")}},ie=async()=>{try{const me=je.filter(it=>_.includes(it.id)&&it.interview?.evaluation?.overallRecommendation==="needs_followup");if(me.length===0){r('No applications with "needs_followup" status found in your selection.',"No Applications for Consideration"),q(!1);return}const Se=me.map(it=>it.id),Ye=`Bulk endorsed consideration applications to SSC on ${new Date().toISOString()}`,kt=await Ut.bulkEndorseToSSC(Se,"all",Ye);s(it=>it.map(ft=>Se.includes(ft.id)&&kt.endorsed_count>0?{...ft,endorsementStatus:"endorsed",endorsedDate:new Date().toISOString()}:ft)),S([]),q(!1),t(`Successfully endorsed ${kt.endorsed_count} application(s) for consideration to SSC!`,"Bulk Endorsement Successful"),W()}catch(me){console.error("Bulk endorsement failed:",me),q(!1),r("Failed to bulk endorse applications for consideration. Please try again.","Bulk Endorsement Failed")}},Ce=async()=>{try{const me=`Bulk endorsed to SSC on ${new Date().toISOString()}`,Se=await Ut.bulkEndorseToSSC(_,"all",me);s(Ye=>Ye.map(kt=>_.includes(kt.id)&&Se.endorsed_count>0?{...kt,endorsementStatus:"endorsed",endorsedDate:new Date().toISOString()}:kt)),S([]),Y(!1),t(`Successfully endorsed ${Se.endorsed_count} out of ${Se.total_processed} selected applications to SSC!`,"Bulk Endorsement Successful"),W()}catch(me){console.error("Bulk endorsement failed:",me),Y(!1),r("Failed to bulk endorse applications. Please try again.","Bulk Endorsement Failed")}},Oe=()=>{Y(!1)},Je=(me,Se)=>{f(Ye=>({...Ye,[me]:Se})),ae(Ye=>({...Ye,currentPage:1}))},H=()=>{f({status:"all",category:"all",level:"all",school:"all",endorsementStatus:"all"}),d("")},de=()=>Object.values(u).some(me=>me!=="all")||c,ue=()=>{const me=new sr;me.setFontSize(18),me.text("Applications for SSC Endorsement",14,22),me.setFontSize(11),me.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30);const Se=["Name","Student ID","School","Program","Category","GWA","Status"],Ye=[];(fe.length>0?fe:a).forEach(it=>{let ft=it.endorsementStatus||"Unknown";ft==="conditional"?ft="For Consideration":ft==="ready"&&(ft="Ready for SSC");const Te=[it.name,it.studentId,it.schoolName||"N/A",it.course||"N/A",it.scholarshipCategory||"N/A",it.gwa||"N/A",ft.toUpperCase()];Ye.push(Te)}),Zn(me,{head:[Se],body:Ye,startY:40,styles:{fontSize:8},headStyles:{fillColor:[249,115,22]}}),me.save(`endorse_applications_${new Date().toISOString().split("T")[0]}.pdf`),t("Export Complete","Applications report has been downloaded as PDF.")};return e.jsxs("div",{className:"space-y-4 sm:space-y-6 min-h-0 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Endorse to SSC"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-2",children:"Forward applications with completed interviews to Scholarship Selection Committee"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{onClick:ue,className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 px-3 sm:px-4 py-2 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors flex items-center justify-center text-sm sm:text-base",children:[e.jsx(Ra,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Export PDF"}),e.jsx("span",{className:"sm:hidden",children:"PDF"})]}),e.jsxs("button",{onClick:Ue,className:"bg-orange-500 hover:bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base",children:[e.jsx("span",{className:"hidden sm:inline",children:"Bulk Endorse"}),e.jsx("span",{className:"sm:hidden",children:"Bulk Endorse"})]})]})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700",children:e.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[e.jsxs("button",{onClick:()=>{te("ready"),ae(me=>({...me,currentPage:1}))},className:`${be==="ready"?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 dark:text-gray-400 hover:border-gray-300 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center`,children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Ready for Endorsement",be==="ready"&&R.total>0&&e.jsx("span",{className:"ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-slate-700 text-gray-900 dark:text-white",children:R.total})]}),e.jsxs("button",{onClick:()=>{te("endorsed"),ae(me=>({...me,currentPage:1}))},className:`${be==="endorsed"?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 dark:text-gray-400 hover:border-gray-300 dark:hover:border-slate-600"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center`,children:[e.jsx(Ba,{className:"w-4 h-4 mr-2"}),"Endorsement History",be==="endorsed"&&R.total>0&&e.jsx("span",{className:"ml-2 py-0.5 px-2.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-slate-700 text-gray-900 dark:text-white",children:R.total})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative flex-1 w-full sm:min-w-64",children:[e.jsx(Ls,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search applications...",value:c,onChange:me=>{d(me.target.value),ae(Se=>({...Se,currentPage:1}))},className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base"})]}),e.jsxs("select",{value:u.endorsementStatus,onChange:me=>Je("endorsementStatus",me.target.value),className:"w-full sm:w-auto px-3 sm:px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"ready",children:"Ready for SSC Endorsement"}),e.jsx("option",{value:"conditional",children:"Needs Review (Conditional)"}),e.jsx("option",{value:"endorsed",children:"Already Endorsed to SSC"}),e.jsx("option",{value:"pending",children:"Pending Review"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{onClick:()=>C(!N),className:`flex items-center justify-center space-x-2 px-3 sm:px-4 py-2 rounded-lg border transition-colors text-sm sm:text-base ${N?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[e.jsx(Yi,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Advanced"}),e.jsx("span",{className:"sm:hidden",children:"Filter"})]}),e.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-slate-600 rounded-lg",children:[e.jsx("button",{onClick:()=>g("grid"),className:`p-2 ${p==="grid"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-l-lg transition-colors`,children:e.jsx(jh,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>g("list"),className:`p-2 ${p==="list"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-r-lg transition-colors`,children:e.jsx(jd,{className:"w-4 h-4"})})]}),e.jsxs("select",{value:x,onChange:me=>v(me.target.value),className:"w-full sm:w-auto px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base",children:[e.jsx("option",{value:"date",children:"Sort by Date"}),e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"gwa",children:"Sort by GWA"}),e.jsx("option",{value:"amount",children:"Sort by Amount"})]}),e.jsx("button",{onClick:()=>j(w==="asc"?"desc":"asc"),className:"p-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",children:w==="asc"?e.jsx(Tb,{className:"w-4 h-4"}):e.jsx(Eb,{className:"w-4 h-4"})})]})]}),N&&e.jsx("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs("select",{value:u.category,onChange:me=>Je("category",me.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"Academic Excellence",children:"Academic Excellence"}),e.jsx("option",{value:"Financial Need",children:"Financial Need"}),e.jsx("option",{value:"Special Programs",children:"Special Programs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Level"}),e.jsxs("select",{value:u.level,onChange:me=>Je("level",me.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"Senior High School",children:"Senior High School"}),e.jsx("option",{value:"Tertiary",children:"Tertiary"}),e.jsx("option",{value:"Graduate",children:"Graduate"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"School Type"}),e.jsxs("select",{value:u.school,onChange:me=>Je("school",me.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Schools"}),e.jsx("option",{value:"State University",children:"State University"}),e.jsx("option",{value:"Private University",children:"Private University"}),e.jsx("option",{value:"College",children:"College"})]})]})]})}),de()&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.endorsementStatus!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",children:["Status: ",u.endorsementStatus,e.jsx("button",{onClick:()=>Je("endorsementStatus","all"),className:"ml-1 hover:text-orange-600 dark:hover:text-orange-200",children:e.jsx(dr,{className:"w-3 h-3"})})]}),c&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:['Search: "',c,'"',e.jsx("button",{onClick:()=>d(""),className:"ml-1 hover:text-purple-600 dark:hover:text-purple-200",children:e.jsx(dr,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:H,className:"text-sm text-gray-600 dark:text-gray-300 underline hover:text-gray-800 dark:hover:text-gray-100",children:"Clear all filters"})]}),_.length>0&&e.jsx("div",{className:"mt-4 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:[_.length," application(s) selected"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:Ge,className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Endorse Selected"}),e.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Generate Report"})]})]})})]}),n?e.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Loading applications..."})]})}):o?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 sm:p-6 text-center",children:[e.jsx(Br,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-red-700 dark:text-red-300",children:o})]}):je.length===0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-6 sm:p-12 text-center",children:[e.jsx(Ba,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No applications found"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Try adjusting your filters or search terms."})]}):e.jsx("div",{className:p==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6":"space-y-3",children:je.map(me=>e.jsx(xe,{application:me},me.id))}),!n&&!o&&R.total>0&&e.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-gray-200 dark:border-slate-700 pt-4",children:[e.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>ae(me=>({...me,currentPage:Math.max(1,me.currentPage-1)})),disabled:R.currentPage===1,className:"relative inline-flex items-center rounded-md border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>ae(me=>({...me,currentPage:Math.min(R.lastPage,me.currentPage+1)})),disabled:R.currentPage===R.lastPage,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",e.jsx("span",{className:"font-medium",children:R.from})," to ",e.jsx("span",{className:"font-medium",children:R.to})," of"," ",e.jsx("span",{className:"font-medium",children:R.total})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>ae(me=>({...me,currentPage:Math.max(1,me.currentPage-1)})),disabled:R.currentPage===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 dark:ring-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx(Qp,{className:"h-5 w-5","aria-hidden":"true"})]}),e.jsxs("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-slate-600 focus:outline-offset-0",children:["Page ",R.currentPage," of ",R.lastPage]}),e.jsxs("button",{onClick:()=>ae(me=>({...me,currentPage:Math.min(R.lastPage,me.currentPage+1)})),disabled:R.currentPage===R.lastPage,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 dark:ring-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx(Xu,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]}),D&&I&&_a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-2 sm:p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>U(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-6xl max-h-[95vh] sm:max-h-[90vh] bg-white dark:bg-slate-800 rounded-xl shadow-2xl flex flex-col my-4 sm:my-8",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-slate-700 flex-shrink-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:I.endorsementStatus==="conditional"?"Suggest to SSC":"Endorse to SSC"}),e.jsx("button",{onClick:()=>U(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",style:{minHeight:0},children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Application Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Student:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:I.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Student ID:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:I.studentId})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"School:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:I.schoolName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Amount:"}),e.jsxs("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:["",I.approvedAmount.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[e.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:"Verification Status"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(jt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Interview Completed"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(jt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Verification Completed"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(jt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Documents Verified"})]})]})]}),I.interview&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Interview Evaluation"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Interview Date:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:new Date(I.interview.date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Interviewer:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:I.interview.interviewer})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Evaluation Scores:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Academic Motivation:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((me,Se)=>e.jsx(ls,{className:`w-3 h-3 ${Se<(I.interview.evaluation?.academicMotivationScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},Se)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[I.interview.evaluation?.academicMotivationScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Leadership & Involvement:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((me,Se)=>e.jsx(ls,{className:`w-3 h-3 ${Se<(I.interview.evaluation?.leadershipInvolvementScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},Se)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[I.interview.evaluation?.leadershipInvolvementScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Financial Need:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((me,Se)=>e.jsx(ls,{className:`w-3 h-3 ${Se<(I.interview.evaluation?.financialNeedScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},Se)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[I.interview.evaluation?.financialNeedScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Character & Values:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((me,Se)=>e.jsx(ls,{className:`w-3 h-3 ${Se<(I.interview.evaluation?.characterValuesScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},Se)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[I.interview.evaluation?.characterValuesScore||0,"/5"]})]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"Overall Recommendation:"}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${I.interview.evaluation?.overallRecommendation==="recommended"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":I.interview.evaluation?.overallRecommendation==="needs_followup"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[I.interview.evaluation?.overallRecommendation==="recommended"&&" Recommended for SSC Review",I.interview.evaluation?.overallRecommendation==="needs_followup"&&" For Consideration",I.interview.evaluation?.overallRecommendation==="not_recommended"&&" Not Recommended"]})]})}),(I.interview.notes||I.interview.evaluation?.remarks)&&e.jsxs("div",{className:"mt-3",children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Interview Notes:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/30 p-2 rounded",children:I.interview.evaluation?.remarks||I.interview.notes||"No notes available"})]}),(I.interview.evaluation?.strengths||I.interview.evaluation?.areasForImprovement)&&e.jsxs("div",{className:"mt-3 space-y-2",children:[I.interview.evaluation?.strengths&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Strengths:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-green-50 dark:bg-green-900/20 p-2 rounded",children:I.interview.evaluation.strengths})]}),I.interview.evaluation?.areasForImprovement&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Areas for Improvement:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded",children:I.interview.evaluation.areasForImprovement})]})]})]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:I.endorsementStatus==="conditional"?'This application has completed the interview and is marked "For Consideration". The SSC should review the interview evaluation and make a final decision.':'This application has completed all required verification steps and is ready for SSC review. Click "Endorse to SSC" to forward this application to the Scholarship Selection Committee.'})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700 flex-shrink-0",children:[e.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:Z,className:`px-4 py-2 ${I.endorsementStatus==="conditional"?"bg-yellow-500 hover:bg-yellow-600":"bg-orange-500 hover:bg-orange-600"} text-white rounded-lg transition-colors flex items-center`,children:[e.jsx(Nd,{className:"w-4 h-4 mr-2"}),"Endorse to SSC"]})]})]})]}),document.body),z&&I&&_a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-2 sm:p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>E(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-6xl max-h-[95vh] sm:max-h-[90vh] bg-white dark:bg-slate-800 rounded-2xl shadow-2xl flex flex-col my-4 sm:my-8 animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-slate-700 flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Application Details"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[I.name," - ",I.studentId]})]}),e.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(dr,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",style:{minHeight:0},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Application Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Student:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:I.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Student ID:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:I.studentId})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"School:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:I.schoolName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Amount:"}),e.jsxs("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:["",I.approvedAmount?.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[e.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:"Verification Status"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(jt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Interview Completed"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(jt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Verification Completed"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(jt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Documents Verified"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Student Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Full Name:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:I.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Student ID:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:I.studentId})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Email:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:I.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Phone:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:I.phone||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"GWA:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:I.gwa})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Educational Level:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:I.educationalLevel})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Course:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:I.course||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"School Type:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:I.schoolType||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[e.jsx("h4",{className:"font-semibold text-purple-900 dark:text-purple-100 mb-3",children:"Scholarship Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Category:"}),e.jsx("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:I.scholarshipCategory})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Subcategory:"}),e.jsx("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:I.scholarshipSubCategory||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Requested Amount:"}),e.jsxs("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:["",I.requestedAmount?.toLocaleString()||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Approved Amount:"}),e.jsxs("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:["",I.approvedAmount?.toLocaleString()||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Application Status:"}),e.jsx("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium capitalize",children:I.status||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Endorsement Status:"}),e.jsx("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium capitalize",children:I.endorsementStatus||"N/A"})]})]})]}),I.interview&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Interview Evaluation"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Interview Date:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:new Date(I.interview.date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Interviewer:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:I.interview.interviewer})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Evaluation Scores:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Academic Motivation:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((me,Se)=>e.jsx(ls,{className:`w-3 h-3 ${Se<(I.interview.evaluation?.academicMotivationScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},Se)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[I.interview.evaluation?.academicMotivationScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Leadership & Involvement:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((me,Se)=>e.jsx(ls,{className:`w-3 h-3 ${Se<(I.interview.evaluation?.leadershipInvolvementScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},Se)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[I.interview.evaluation?.leadershipInvolvementScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Financial Need:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((me,Se)=>e.jsx(ls,{className:`w-3 h-3 ${Se<(I.interview.evaluation?.financialNeedScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},Se)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[I.interview.evaluation?.financialNeedScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Character & Values:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((me,Se)=>e.jsx(ls,{className:`w-3 h-3 ${Se<(I.interview.evaluation?.characterValuesScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},Se)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[I.interview.evaluation?.characterValuesScore||0,"/5"]})]})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Overall Recommendation:"}),e.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${I.interview.evaluation?.overallRecommendation==="recommended"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":I.interview.evaluation?.overallRecommendation==="needs_followup"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[I.interview.evaluation?.overallRecommendation==="recommended"&&e.jsx(jt,{className:"w-4 h-4 mr-1"}),I.interview.evaluation?.overallRecommendation==="needs_followup"&&e.jsx(Br,{className:"w-4 h-4 mr-1"}),I.interview.evaluation?.overallRecommendation==="not_recommended"&&e.jsx(dr,{className:"w-4 h-4 mr-1"}),I.interview.evaluation?.overallRecommendation==="recommended"&&"Recommended for SSC Review",I.interview.evaluation?.overallRecommendation==="needs_followup"&&"For Consideration",I.interview.evaluation?.overallRecommendation==="not_recommended"&&"Not Recommended"]})]}),I.interview.evaluation&&e.jsxs("div",{className:"mt-4 space-y-3",children:[I.interview.evaluation?.remarks&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Interview Notes:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-blue-50 dark:bg-blue-900/20 p-2 rounded",children:I.interview.evaluation.remarks})]}),I.interview.evaluation?.strengths&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Strengths:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-green-50 dark:bg-green-900/20 p-2 rounded",children:I.interview.evaluation.strengths})]}),I.interview.evaluation?.areasForImprovement&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Areas for Improvement:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded",children:I.interview.evaluation.areasForImprovement})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Additional Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Application Date:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:new Date(I.createdAt||Date.now()).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Last Updated:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:new Date(I.updatedAt||Date.now()).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Application ID:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:I.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Notes:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:I.notes||"No additional notes"})]})]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700 flex-shrink-0",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Close"}),e.jsxs("button",{onClick:()=>{E(!1),ge(I)},className:`px-4 py-2 ${I.endorsementStatus==="conditional"?"bg-yellow-500 hover:bg-yellow-600":"bg-orange-500 hover:bg-orange-600"} text-white rounded-lg transition-colors flex items-center`,children:[e.jsx(Nd,{className:"w-4 h-4 mr-2"}),"Endorse to SSC"]})]})]})]}),document.body),O&&_a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-2 sm:p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>q(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl my-4 sm:my-8",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bulk Endorse to SSC"}),e.jsx("button",{onClick:()=>q(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["You have ",_.length," application(s) selected. Choose how you want to endorse them:"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:Ke,className:"w-full p-4 text-left bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg group-hover:bg-green-200 dark:group-hover:bg-green-900/50",children:e.jsx(jt,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Endorse All Ready Applications"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:'Endorse applications with "recommended" status (passed interviews)'})]})]})}),e.jsx("button",{onClick:ie,className:"w-full p-4 text-left bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg hover:bg-yellow-100 dark:hover:bg-yellow-900/30 transition-colors group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg group-hover:bg-yellow-200 dark:group-hover:bg-yellow-900/50",children:e.jsx(Br,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Endorse All for Consideration"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:'Endorse applications with "needs_followup" status (for consideration)'})]})]})})]})]}),e.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:e.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"})})]})]}),document.body),$&&I&&_a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-2 sm:p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>K(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl my-4 sm:my-8",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Reject Application"}),e.jsx("button",{onClick:()=>K(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"You are about to reject the application for:"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:I.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[I.studentId,"  ",I.schoolName]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reason for Rejection *"}),e.jsx("textarea",{value:J,onChange:me=>X(me.target.value),placeholder:"Please provide a detailed reason for rejecting this application...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",rows:4,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"This reason will be recorded and may be shared with the applicant."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:re,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(mr,{className:"w-4 h-4 mr-2"}),"Reject Application"]})]})]})]}),document.body),e.jsx(wxe,{isVisible:F,title:"Confirm Bulk Endorsement",message:`Are you sure you want to endorse ${_.length} selected application(s) to SSC?

This action will change the status of all selected applications to "Endorsed to SSC".`,confirmText:"Endorse to SSC",cancelText:"Cancel",type:"warning",onConfirm:Ce,onCancel:Oe})]})}function Nxe({initialTab:t}){const[r,a]=b.useState(t||"overview");gt.useEffect(()=>{t&&a(t)},[t]);const s=[{id:"overview",label:"Overview",component:VE},{id:"applications",label:"Application Review",component:yxe},{id:"interviews",label:"Interview Schedules",component:bxe},{id:"endorse",label:"Endorse to SSC",component:jxe}],n=s.find(i=>i.id===r)?.component||VE;return e.jsxs(jv,{variant:"page",children:[e.jsx(u9,{tabs:s,activeTab:r,onTabChange:a,className:"mb-6",layoutId:"activeApplicationTab",variant:"compact"}),e.jsx(h9,{activeTab:r,children:e.jsx(n,{})})]})}function kxe(){const[t,r]=b.useState(""),[a,s]=b.useState("all"),[n,i]=b.useState("categories"),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[u,f]=b.useState(!1),[p,g]=b.useState(!1),[x,v]=b.useState(null),[w,j]=b.useState("grid"),{success:_,error:S}=na(),[N,C]=b.useState({}),D=re=>{C(Ue=>({...Ue,[re]:!Ue[re]}))},[U,z]=b.useState([]),[E,I]=b.useState({}),[T,F]=b.useState(!0),[Y,O]=b.useState(""),[q,$]=b.useState({totalApplications:0,totalRecipients:0}),K=async()=>{try{F(!0),O("");const[re,Ue,Ge]=await Promise.all([Ut.getScholarshipCategories(),Ut.getApplications({per_page:1}),Ut.getAppStatsBySubcategory()]);z(Array.isArray(re)?re:[]),I(Ge||{}),$(Ke=>({...Ke,totalApplications:Ue.meta?.total||Ue.data?.length||0}))}catch(re){console.error(re),O("Failed to load scholarship programs"),S("Failed to load scholarship programs")}finally{F(!1)}};b.useEffect(()=>{K()},[]);const{categoryItems:J,subcategoryItems:X}=b.useMemo(()=>{const re=[],Ue=[];return U.forEach(Ge=>{let Ke=0;const ie=[];Array.isArray(Ge.subcategories)&&Ge.subcategories.forEach(Ce=>{const Oe=E[Ce.id]||0;Ke+=Oe;const Je={id:Ce.id,name:Ce.name,description:Ce.description||Ge.description||"",type:(Ce.type||Ge.type||"special").replace("_","-"),amount:Ce.amount||0,currentRecipients:Oe,status:Ce.is_active??Ge.is_active?"active":"paused",deadline:new Date().toISOString(),requirements:Ce.requirements||Ge.requirements||[],createdDate:Ce.created_at||Ge.created_at||"",isSubcategory:!0,parentId:Ge.id,parentName:Ge.name,original:Ce};Ue.push(Je),ie.push(Je)}),re.push({id:Ge.id,name:Ge.name,description:Ge.description||"",type:(Ge.type||"special").replace("_","-"),amount:0,currentRecipients:Ke,status:Ge.is_active?"active":"paused",createdDate:Ge.created_at||new Date().toISOString(),isSubcategory:!1,subcategoriesCount:(Ge.subcategories||[]).length,subcategories:ie,original:Ge})}),{categoryItems:re,subcategoryItems:Ue}},[U,E]),te=(n==="categories"?J:X).filter(re=>{const Ue=re.name.toLowerCase().includes(t.toLowerCase())||re.description.toLowerCase().includes(t.toLowerCase()),Ge=a==="all"||re.status===a;return Ue&&Ge}),R=U.filter(re=>re.is_active).length,ae=q.totalApplications,W=X.length>0?X.reduce((re,Ue)=>re+(Number(Ue.amount)||0),0)/X.length:0,pe=X.reduce((re,Ue)=>re+(Ue.currentRecipients||0),0),ce=re=>{switch(re){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"paused":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"closed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},we=re=>{switch(re){case"Merit-based":case"merit":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"Need-based":case"need-based":case"need_based":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"Field-specific":case"field_specific":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Service-based":case"service":return"bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},[je,fe]=b.useState("none"),xe=async re=>{re.preventDefault();const Ue=new FormData(re.target),Ge=Ue.get("parent_id"),Ke=Ge&&Ge!=="none";try{if(Ke){const ie={category_id:parseInt(Ge),name:Ue.get("name"),description:Ue.get("description"),type:Ue.get("type").toLowerCase().replace("-","_"),amount:parseFloat(Ue.get("amount"))||0,is_active:!0};await Ut.createScholarshipSubcategory(ie),_("Subcategory created successfully!")}else{const ie={name:Ue.get("name"),description:Ue.get("description"),type:Ue.get("type").toLowerCase().replace("-","_"),is_active:!0};await Ut.createScholarshipCategory(ie),_("Program created successfully!")}l(!1),K()}catch(ie){console.error(ie),S("Failed to create program: "+(ie.message||"Unknown error"))}},$e=async re=>{if(re.preventDefault(),!x)return;const Ue=x.isSubcategory,Ge=new FormData(re.target);try{if(Ue){const Ke={name:Ge.get("name"),description:Ge.get("description"),type:Ge.get("type"),amount:parseFloat(Ge.get("amount"))||0};await Ut.updateScholarshipSubcategory(x.id,Ke),_("Subcategory updated successfully!")}else{const Ke={name:Ge.get("name"),description:Ge.get("description"),type:Ge.get("type")};await Ut.updateScholarshipCategory(x.id,Ke),_("Program updated successfully!")}d(!1),v(null),K()}catch(Ke){console.error(Ke),S("Failed to update program: "+(Ke.message||"Unknown error"))}},ge=async()=>{if(x)try{x.isSubcategory?(await Ut.deleteScholarshipSubcategory(x.id),_("Subcategory deleted successfully!")):(await Ut.deleteScholarshipCategory(x.id),_("Program deleted successfully!")),f(!1),v(null),K()}catch(re){console.error(re),S("Failed to delete program")}},ot=re=>{v(re),d(!0)},Ze=re=>{v(re),f(!0)},Z=re=>{v(re),g(!0)};return b.useEffect(()=>{o&&fe("none")},[o]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Scholarship Programs"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage and monitor scholarship programs"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center shadow-lg shadow-orange-500/30",children:[e.jsx(gi,{className:"w-4 h-4 mr-2"}),"Create Program"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Categories"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:R})]}),e.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-lg",children:e.jsx(Ba,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Applications"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ae})]}),e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-lg",children:e.jsx(Wr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Award Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["",W.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),e.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-3 rounded-lg",children:e.jsx(va,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Recipients"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:pe})]}),e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-3 rounded-lg",children:e.jsx(Ba,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>i("categories"),className:`
              whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors
              ${n==="categories"?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
            `,children:"Main Programs (Categories)"}),e.jsx("button",{onClick:()=>i("subcategories"),className:`
              whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors
              ${n==="subcategories"?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
            `,children:"Specific Offerings (Subcategories)"})]})}),T?e.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 animate-pulse",children:"Loading programs..."}):Y?e.jsx("div",{className:"p-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded",children:Y}):e.jsxs(e.Fragment,{children:[n==="categories"&&w==="grid"&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pt-6",children:te.map(re=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:re.name}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ce(re.status)}`,children:re.status})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:re.description}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${we(re.type)}`,children:re.type}),e.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",children:[re.currentRecipients," Recipients"]})]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>ot(re),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:e.jsx(ko,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ze(re),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(bn,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"mt-4 border-t border-gray-100 dark:border-slate-700 pt-4",children:[e.jsxs("button",{onClick:()=>D(re.id),className:"w-full flex items-center justify-between text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",children:[e.jsx("span",{children:re.subcategoriesCount>0?`${re.subcategoriesCount} Specific Offering${re.subcategoriesCount!==1?"s":""}`:"No Specific Offerings"}),re.subcategoriesCount>0&&e.jsx("span",{className:`transform transition-transform ${N[re.id]?"rotate-180":""}`,children:""})]}),N[re.id]&&re.subcategoriesCount>0&&e.jsx("div",{className:"mt-3 space-y-2 animate-in slide-in-from-top-2",children:re.subcategories.map(Ue=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:Ue.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["",Ue.amount?Ue.amount.toLocaleString():"0"]}),e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsxs("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:[Ue.currentRecipients," Recipients"]})]})]}),e.jsx("span",{className:`px-2 py-0.5 text-[10px] uppercase font-bold rounded-full ${Ue.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:Ue.is_active?"Active":"Paused"})]},Ue.id))})]})]})},re.id))}),n==="subcategories"&&w==="grid"&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pt-6",children:te.map(re=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:re.name}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ce(re.status)}`,children:re.status})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:re.description}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${we(re.type)}`,children:re.type}),e.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300",children:["Parent: ",re.parentName]})]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>ot(re),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:e.jsx(ko,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ze(re),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(bn,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 bg-gray-50 dark:bg-slate-700/50 p-4 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Award"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["",re.amount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Recipients"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:re.currentRecipients||0})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:()=>Z(re),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center",children:[e.jsx(Or,{className:"w-4 h-4 mr-2"})," Details"]})})]})},re.id))}),w==="list"&&e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden mt-6",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700/50 text-gray-600 dark:text-gray-400 text-xs uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 font-medium",children:"Program Name"}),e.jsx("th",{className:"p-4 font-medium",children:"Type"}),e.jsx("th",{className:"p-4 font-medium",children:"Amount"}),e.jsx("th",{className:"p-4 font-medium",children:"Recipients"}),e.jsx("th",{className:"p-4 font-medium",children:"Status"}),e.jsx("th",{className:"p-4 font-medium text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:te.map(re=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/30 transition-colors",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:re.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs",children:re.description})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${we(re.type)}`,children:re.type})}),e.jsx("td",{className:"p-4 text-gray-900 dark:text-white font-medium",children:re.amount>0?`${re.amount.toLocaleString()}`:"-"}),e.jsx("td",{className:"p-4 text-gray-900 dark:text-white font-medium",children:re.currentRecipients}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ce(re.status)}`,children:re.status})}),e.jsx("td",{className:"p-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>Z(re),className:"p-2 text-gray-400 hover:text-orange-500 transition-colors",title:"View",children:e.jsx(Or,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ot(re),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",title:"Edit",children:e.jsx(ko,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ze(re),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Delete",children:e.jsx(bn,{className:"w-4 h-4"})})]})})]},re.id))})]})})]}),o&&_a.createPortal(e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-gray-100 dark:border-slate-700 animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Create New Scholarship Program"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",type:"button",children:""})]}),e.jsxs("form",{onSubmit:xe,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Parent Category"}),e.jsxs("select",{name:"parent_id",value:je,onChange:re=>fe(re.target.value),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all font-medium",children:[e.jsx("option",{value:"none",children:"None (Create Top-Level Category)"}),e.jsx("option",{disabled:!0,children:""}),J.map(re=>e.jsx("option",{value:re.id,children:re.name},re.id))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a parent to create a specific offering (subcategory), or 'None' to create a new main program type."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Program Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"name",type:"text",required:!0,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all",placeholder:"e.g., Academic Merit Scholarship"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all resize-none",placeholder:"Brief description of the scholarship program..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Program Type"}),e.jsxs("select",{name:"type",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all",children:[e.jsx("option",{value:"merit",children:"Merit-based"}),e.jsx("option",{value:"need_based",children:"Need-based"}),e.jsx("option",{value:"field_specific",children:"Field-specific"}),e.jsx("option",{value:"service",children:"Service-based"}),e.jsx("option",{value:"special",children:"Special"}),e.jsx("option",{value:"renewal",children:"Renewal"})]})]}),je!=="none"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Award Amount ()"}),e.jsx("input",{name:"amount",type:"number",min:"0",step:"0.01",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-100 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium shadow-md shadow-orange-500/20 transition-all transform hover:-translate-y-0.5",children:"Create Program"})]})]})]})}),document.body),c&&x&&_a.createPortal(e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-gray-100 dark:border-slate-700 animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Scholarship Program"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",type:"button",children:""})]}),e.jsxs("form",{onSubmit:$e,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Parent Category"}),e.jsxs("select",{name:"parent_id",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-500 focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all font-medium disabled:opacity-50",defaultValue:x.parentId||"none",disabled:!0,children:[e.jsx("option",{value:"none",children:"None (Top-Level Category)"}),e.jsx("option",{disabled:!0,children:""}),J.map(re=>e.jsx("option",{value:re.id,children:re.name},re.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Program Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"name",type:"text",defaultValue:x.name,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",rows:3,defaultValue:x.description,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Program Type"}),e.jsxs("select",{name:"type",defaultValue:x.type==="Merit-based"?"merit":x.type==="Need-based"?"need_based":x.type,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all",children:[e.jsx("option",{value:"merit",children:"Merit-based"}),e.jsx("option",{value:"need_based",children:"Need-based"}),e.jsx("option",{value:"field_specific",children:"Field-specific"}),e.jsx("option",{value:"service",children:"Service-based"})]})]}),x.isSubcategory&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Award Amount ()"}),e.jsx("input",{name:"amount",type:"number",min:"0",step:"0.01",defaultValue:x.amount,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-100 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-6 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium shadow-md shadow-orange-500/20 transition-all transform hover:-translate-y-0.5",children:"Save Changes"})]})]})]})}),document.body),p&&x&&_a.createPortal(e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-gray-100 dark:border-slate-700",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Program Details"}),e.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:""})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[x.name,e.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs font-medium rounded-full ${ce(x.status)}`,children:x.status})]}),x.isSubcategory&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Under Category: ",x.parentName]})]}),e.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-medium rounded-full ${we(x.type)}`,children:x.type})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-slate-700/50 p-4 rounded-lg text-gray-700 dark:text-gray-300 text-sm leading-relaxed",children:x.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-100 dark:border-slate-700 p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Amount"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white mt-1",children:x.amount>0?`${x.amount.toLocaleString()}`:"N/A"})]}),e.jsxs("div",{className:"border border-gray-100 dark:border-slate-700 p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Active Recipients"}),e.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white mt-1",children:x.currentRecipients})]})]})]}),e.jsx("div",{className:"p-6 bg-gray-50/50 dark:bg-slate-800 border-t border-gray-100 dark:border-slate-700 flex justify-end",children:e.jsx("button",{onClick:()=>g(!1),className:"px-6 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg font-medium hover:bg-gray-800 dark:hover:bg-gray-100 transition-colors",children:"Close"})})]})}),document.body),u&&x&&_a.createPortal(e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-[110] p-4",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-100 dark:border-slate-700",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(bn,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Delete Program?"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:x.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex space-x-3 justify-center",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-6 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{onClick:ge,className:"px-6 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium shadow-md shadow-red-600/20 transition-all transform hover:-translate-y-0.5",children:"Delete Program"})]})]})})}),document.body)]})}function Sxe(){const[t,r]=b.useState([]),[a,s]=b.useState(!0),[n,i]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[u,f]=b.useState(!1),[p,g]=b.useState(null),[x,v]=b.useState(null),{success:w,error:j}=na(),_=async()=>{try{s(!0);const T=await Ut.getAcademicPeriods();r(T)}catch(T){console.error(T),j("Failed to load academic periods")}finally{s(!1)}};b.useEffect(()=>{_()},[]);const S=async T=>{T.preventDefault();const F=new FormData(T.target),Y={academic_year:F.get("academic_year"),period_type:F.get("period_type"),period_number:parseInt(F.get("period_number")),start_date:F.get("start_date"),end_date:F.get("end_date"),application_deadline:F.get("application_deadline"),status:F.get("status"),is_current:F.get("is_current")==="on"};try{await Ut.createAcademicPeriod(Y),w("Academic Key Period created successfully!"),i(!1),_()}catch(O){j(O.message||"Failed to create period")}},N=async T=>{if(T.preventDefault(),!x)return;const F=new FormData(T.target),Y={academic_year:F.get("academic_year"),period_type:F.get("period_type"),period_number:parseInt(F.get("period_number")),start_date:F.get("start_date"),end_date:F.get("end_date"),application_deadline:F.get("application_deadline"),status:F.get("status"),is_current:F.get("is_current")==="on"};try{await Ut.updateAcademicPeriod(x.id,Y),w("Academic Period updated successfully!"),l(!1),_()}catch(O){j(O.message||"Failed to update period")}},C=T=>{const F=T.status==="open"?"closed":"open";F==="closed"?(g({period:T,newStatus:F}),f(!0)):D(T,F)},D=async(T,F)=>{try{r(t.map(Y=>Y.id===T.id?{...Y,status:F}:Y)),await Ut.updateAcademicPeriod(T.id,{status:F}),w(`Academic Period ${F==="open"?"opened":"closed"} successfully`)}catch{r(t.map(O=>O.id===T.id?{...O,status:T.status}:O)),j("Failed to update status")}finally{f(!1),g(null)}},U=()=>{p&&D(p.period,p.newStatus)},z=async()=>{if(x)try{await Ut.deleteAcademicPeriod(x.id),w("Academic Period deleted successfully!"),d(!1),_()}catch{j("Failed to delete period")}},E=T=>{v(T),l(!0)},I=T=>{v(T),d(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Academic Periods"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage school years, semesters/trimesters, and application deadlines."})]}),e.jsxs("button",{onClick:()=>i(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center shadow-lg shadow-orange-500/30",children:[e.jsx(gi,{className:"w-4 h-4 mr-2"}),"Add Period"]})]}),a?e.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 animate-pulse",children:"Loading periods..."}):e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700/50 text-gray-600 dark:text-gray-400 text-xs uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 font-medium",children:"Academic Year"}),e.jsx("th",{className:"p-4 font-medium",children:"Period"}),e.jsx("th",{className:"p-4 font-medium",children:"Key Dates"}),e.jsx("th",{className:"p-4 font-medium",children:"Deadline"}),e.jsx("th",{className:"p-4 font-medium",children:"Status"}),e.jsx("th",{className:"p-4 font-medium text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:t.map(T=>e.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-slate-700/30 transition-colors ${T.is_current?"bg-blue-50/50 dark:bg-blue-900/10":""}`,children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:[T.academic_year,T.is_current&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:"Current"})]})}),e.jsx("td",{className:"p-4 text-gray-700 dark:text-gray-300",children:T.period_type==="Semester"?T.period_number===1?"1st Semester":T.period_number===2?"2nd Semester":"Summer":T.period_type==="Trimester"?T.period_number===1?"1st Trimester":T.period_number===2?"2nd Trimester":"3rd Trimester":T.period_number}),e.jsxs("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{children:["Start: ",new Date(T.start_date).toLocaleDateString()]}),e.jsxs("div",{children:["End: ",new Date(T.end_date).toLocaleDateString()]})]}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center text-sm font-medium text-orange-600 dark:text-orange-400",children:[e.jsx(lr,{className:"w-3 h-3 mr-1"}),new Date(T.application_deadline).toLocaleDateString()]})}),e.jsxs("td",{className:"p-4",children:[e.jsx("button",{onClick:()=>C(T),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${T.status==="open"?"bg-green-500":"bg-gray-200 dark:bg-slate-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${T.status==="open"?"translate-x-6":"translate-x-1"}`})}),e.jsx("span",{className:`ml-2 text-sm font-medium ${T.status==="open"?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:T.status==="open"?"Open":"Closed"})]}),e.jsx("td",{className:"p-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>E(T),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:e.jsx(ko,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>I(T),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(bn,{className:"w-4 h-4"})})]})})]},T.id))})]})}),n&&_a.createPortal(e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-gray-100 dark:border-slate-700 animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add Academic Period"}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),e.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Academic Year"}),e.jsx("input",{name:"academic_year",type:"text",placeholder:"e.g. 2024-2025",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),e.jsxs("select",{name:"period_type",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"Semester",children:"Semester"}),e.jsx("option",{value:"Trimester",children:"Trimester"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Number"}),e.jsx("input",{name:"period_number",type:"number",min:"1",max:"3",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),e.jsx("input",{name:"start_date",type:"date",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),e.jsx("input",{name:"end_date",type:"date",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Application Deadline"}),e.jsx("input",{name:"application_deadline",type:"date",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsxs("select",{name:"status",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"closed",children:"Closed"})]})]}),e.jsxs("div",{className:"flex items-center pt-6",children:[e.jsx("input",{name:"is_current",type:"checkbox",className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Set as Current Period"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 border rounded-lg text-gray-700 dark:text-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-lg",children:"Create"})]})]})]})}),document.body),o&&x&&_a.createPortal(e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-gray-100 dark:border-slate-700 animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Academic Period"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),e.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Academic Year"}),e.jsx("input",{name:"academic_year",defaultValue:x.academic_year,type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Type"}),e.jsxs("select",{name:"period_type",defaultValue:x.period_type,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"Semester",children:"Semester"}),e.jsx("option",{value:"Trimester",children:"Trimester"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Number"}),e.jsx("input",{name:"period_number",defaultValue:x.period_number,type:"number",min:"1",max:"3",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Start Date"}),e.jsx("input",{name:"start_date",defaultValue:x.start_date.split("T")[0],type:"date",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),e.jsx("input",{name:"end_date",defaultValue:x.end_date.split("T")[0],type:"date",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Application Deadline"}),e.jsx("input",{name:"application_deadline",defaultValue:x.application_deadline.split("T")[0],type:"date",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsxs("select",{name:"status",defaultValue:x.status,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"closed",children:"Closed"})]})]}),e.jsxs("div",{className:"flex items-center pt-6",children:[e.jsx("input",{name:"is_current",defaultChecked:x.is_current,type:"checkbox",className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Set as Current Period"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border rounded-lg text-gray-700 dark:text-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-lg",children:"Save Changes"})]})]})]})}),document.body),c&&x&&_a.createPortal(e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-sm p-6 border border-gray-100 dark:border-slate-700 animate-in fade-in zoom-in duration-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Delete Period"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Are you sure you want to delete this academic period? This action cannot be undone."}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:z,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg transition-colors",children:"Delete"})]})]})}),document.body),u&&_a.createPortal(e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-sm p-6 border border-gray-100 dark:border-slate-700 animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-red-600 dark:text-red-400 mb-4",children:[e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-full",children:e.jsx(Br,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Confirm Close Period"})]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Closing this academic period will ",e.jsx("strong",{children:"immediately stop"})," all new scholarship applications and renewals.",e.jsx("br",{}),e.jsx("br",{}),"Are you sure you want to proceed?"]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:U,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg transition-colors",children:"Confirm Close"})]})]})}),document.body)]})}const h7={city_council:["overview","my-queue","document-verification"],hrd:["overview","my-queue","document-verification"],social_services:["overview","my-queue","document-verification"],budget_dept:["overview","my-queue","financial-review"],accounting:["overview","my-queue","financial-review"],treasurer:["overview","my-queue","financial-review"],education_affairs:["overview","my-queue","academic-review"],qcydo:["overview","my-queue","academic-review"],planning_dept:["overview","my-queue","academic-review"],schools_division:["overview","my-queue","academic-review"],qcu:["overview","my-queue","academic-review"],chairperson:["overview","my-queue","final-approval","history"]},m7={document_verification:"document-verification",financial_review:"financial-review",academic_review:"academic-review",final_approval:"final-approval"};class _xe{roleData=null;cacheKey="ssc_role_data";cacheExpiry=1800*1e3;async fetchUserRoles(r=!1){if(!r&&this.roleData)return this.roleData;if(!r){const a=this.getCachedRoles();if(a)return this.roleData=a,a}r&&this.clearCache();try{const a=await Ut.getUserSscRoles();return console.log("SSC Role Service - API Response:",a),this.roleData=a,this.cacheRoles(a),a}catch(a){return console.error("Failed to fetch SSC roles:",a),{has_ssc_role:!1,roles:[],stages:[],is_chairperson:!1,permissions:[],role_labels:[],stage_labels:[],assignments:[]}}}getCachedRoles(){try{const r=sessionStorage.getItem(this.cacheKey);if(!r)return null;const{data:a,timestamp:s}=JSON.parse(r);return Date.now()-s>this.cacheExpiry?(sessionStorage.removeItem(this.cacheKey),null):a}catch(r){return console.error("Error reading cached SSC roles:",r),null}}cacheRoles(r){try{const a={data:r,timestamp:Date.now()};sessionStorage.setItem(this.cacheKey,JSON.stringify(a))}catch(a){console.error("Error caching SSC roles:",a)}}clearCache(){this.roleData=null,sessionStorage.removeItem(this.cacheKey)}async hasRole(){return(await this.fetchUserRoles()).has_ssc_role}async isChairperson(){return(await this.fetchUserRoles()).is_chairperson}async getAllowedTabs(){const r=await this.fetchUserRoles();if(!r.has_ssc_role)return[];if(r.is_chairperson)return[...h7.chairperson];const a=new Set;return r.roles.forEach(s=>{(h7[s]||[]).forEach(i=>a.add(i))}),Array.from(a)}async canAccessTab(r){return(await this.getAllowedTabs()).includes(r)}async getReviewStages(){return(await this.fetchUserRoles()).stages}async canReviewStage(r){return(await this.fetchUserRoles()).stages.includes(r)}async getRoles(){return(await this.fetchUserRoles()).roles}async getPermissions(){return(await this.fetchUserRoles()).permissions}async getAssignments(){return(await this.fetchUserRoles()).assignments}async getPrimaryStage(){const r=await this.getReviewStages();return r.length>0?r[0]:null}async getPrimaryTab(){const r=await this.fetchUserRoles();if(!r.has_ssc_role||r.is_chairperson)return"overview";const a=await this.getPrimaryStage();return a&&m7[a]?m7[a]:"my-queue"}}const py=new _xe;function Axe(){const[t,r]=b.useState([]),[a,s]=b.useState(!0),[n,i]=b.useState(null);b.useEffect(()=>{o()},[]);const o=async()=>{try{s(!0);const d=await Ut.getApplications({status:"endorsed_to_ssc",per_page:10,sort_by:"submitted_at",sort_order:"desc"});r(d.data||[])}catch(d){console.error("Error fetching applications for checklist:",d),i("Failed to load application checklist")}finally{s(!1)}},l=(d,u)=>{if(!d.ssc_stage_status)return"pending";let f=d.ssc_stage_status;if(typeof f=="string")try{f=JSON.parse(f)}catch(g){return console.error("Error parsing ssc_stage_status:",g),"pending"}const p=f[u];return p&&p.status||"pending"},c=d=>d==="approved"||d==="passed"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Passed"]}):d==="rejected"||d==="failed"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(mr,{className:"w-3 h-3 mr-1"}),"Failed"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[e.jsx(lr,{className:"w-3 h-3 mr-1"}),"Pending"]});return a?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading checklist..."}):n?e.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 mt-6",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(wm,{className:"h-5 w-5 mr-2 text-blue-600"}),"Application Processing Checklist"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Track completion of review stages for active applications"})]}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Applicant"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Document Verification"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Financial Review"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Academic Review"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Final Decision"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:"No applications currently in SSC review pipeline."})}):t.map(d=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"ml-0",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[d.student?.first_name," ",d.student?.last_name]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:d.application_number})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("div",{className:"flex justify-center",children:c(l(d,"document_verification"))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("div",{className:"flex justify-center",children:c(l(d,"financial_review"))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("div",{className:"flex justify-center",children:c(l(d,"academic_review"))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("div",{className:"flex justify-center",children:d.status==="approved"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Approved"]}):d.status==="rejected"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(mr,{className:"w-3 h-3 mr-1"}),"Rejected"]}):c(l(d,"final_approval"))})})]},d.id))})]})})]})}function f7(){const[t,r]=b.useState({totalApplications:0,pendingReview:0,approved:0,rejected:0,underAppeal:0,totalMembers:0,activeMembers:0,averageProcessingTime:0,thisMonthDecisions:0,pendingAppeals:0}),[a,s]=b.useState([]),[n,i]=b.useState(!0),[o,l]=b.useState(""),[c,d]=b.useState(null),[u,f]=b.useState(0),[p,g]=b.useState(!1);b.useEffect(()=>{(async()=>{try{i(!0),l("");try{const T=localStorage.getItem("user_data");if(T){const F=JSON.parse(T);console.log("SSCOverview - User Data:",F),(F.role==="admin"||F.role==="super_admin"||F.is_admin)&&g(!0)}}catch(T){console.error("Error parsing user data:",T)}const S=await py.fetchUserRoles();d(S);const{scholarshipApiService:N}=await Oa(async()=>{const{scholarshipApiService:T}=await Promise.resolve().then(()=>In);return{scholarshipApiService:T}},void 0),D=(await N.getSscStatistics()).data||{};if(S.has_ssc_role)try{const T=await N.getMySscApplications({per_page:1});f(T.total||0)}catch(T){console.error("Error fetching my queue count:",T)}const[U,z,E,I]=await Promise.all([N.getSscApplicationsByStage("document_verification",{per_page:1}),N.getSscApplicationsByStage("financial_review",{per_page:1}),N.getSscApplicationsByStage("academic_review",{per_page:1}),N.getSscApplicationsByStage("final_approval",{per_page:1})]);r({totalApplications:D.totalApplications||0,pendingReview:D.pendingReview||0,approved:D.approved||0,rejected:D.rejected||0,underAppeal:0,totalMembers:12,activeMembers:10,averageProcessingTime:D.averageProcessingTime||0,thisMonthDecisions:D.thisMonthDecisions||0,pendingAppeals:0,documentVerification:U.total||0,financialReview:z.total||0,academicReview:E.total||0,finalApproval:I.total||0});try{const F=((await N.getSscDecisionHistory({per_page:5,sort_by:"decided_at",sort_order:"desc"})).data||[]).map((Y,O)=>({id:O+1,type:Y.decision==="approved"?"approval":"rejection",applicationId:Y.application?.application_number||`APP-${Y.application_id}`,studentName:`${Y.application?.student?.first_name||""} ${Y.application?.student?.last_name||""}`.trim(),member:"SSC Committee",timestamp:Y.decided_at,status:Y.decision}));s(F)}catch(T){console.error("Error loading recent activities:",T),s([])}}catch(S){l("Failed to load SSC data"),console.error("Error loading SSC data:",S)}finally{i(!1)}})()},[]);const v=(()=>{const _=[];return c&&!c.is_chairperson&&c.has_ssc_role&&_.push({title:"My Queue",value:u,icon:Ba,color:"orange",change:"Assigned to you",changeType:"neutral"}),c&&c.stages&&(c.stages.includes("document_verification")&&_.push({title:"Document Verification",value:t.documentVerification,icon:Fu,color:"blue",change:"Pending verification",changeType:"neutral"}),c.stages.includes("financial_review")&&_.push({title:"Financial Review",value:t.financialReview,icon:va,color:"yellow",change:"Pending review",changeType:"neutral"}),c.stages.includes("academic_review")&&_.push({title:"Academic Review",value:t.academicReview,icon:nl,color:"purple",change:"Pending review",changeType:"neutral"}),(c.stages.includes("final_approval")||c.is_chairperson)&&_.push({title:"Final Approval",value:t.finalApproval,icon:jt,color:"green",change:"Awaiting decision",changeType:"neutral"})),c&&c.is_chairperson||p?[{title:"Total Applications",value:t.totalApplications,icon:Kt,color:"blue",change:"In SSC process",changeType:"neutral"},{title:"Pending Review",value:t.pendingReview,icon:lr,color:"yellow",change:"Across all stages",changeType:"neutral"},{title:"Approved",value:t.approved,icon:jt,color:"green",change:"Total approved",changeType:"positive"},{title:"Rejected",value:t.rejected,icon:mr,color:"red",change:"Total rejected",changeType:"neutral"},{title:"This Month Decisions",value:t.thisMonthDecisions,icon:Rr,color:"purple",change:`${t.thisMonthDecisions} decisions`,changeType:"neutral"},{title:"Active Members",value:`${t.activeMembers}/${t.totalMembers}`,icon:Wr,color:"purple",change:"SSC members",changeType:"neutral"}]:_})(),w=_=>{const S={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",yellow:"bg-yellow-50 text-yellow-600 border-yellow-200",red:"bg-red-50 text-red-600 border-red-200",orange:"bg-orange-50 text-orange-600 border-orange-200",purple:"bg-purple-50 text-purple-600 border-purple-200"};return S[_]||S.blue},j=_=>{const S={positive:"text-green-600",negative:"text-red-600",neutral:"text-gray-600"};return S[_]||S.neutral};return n?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[...Array(6)].map((_,S)=>e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]},S))})]})}):o?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Br,{className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("p",{className:"text-red-800",children:o})]})})}):e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"SSC Dashboard"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Student Services Committee - Application Review & Decision Management"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:v.map((_,S)=>{const N=_.icon;return e.jsx("div",{className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1",children:_.title}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:_.value}),e.jsxs("p",{className:`text-xs sm:text-sm ${j(_.changeType)}`,children:[_.change," from last month"]})]}),e.jsx("div",{className:`p-2 sm:p-3 rounded-full ${w(_.color)}`,children:e.jsx(N,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})},S)})}),p&&e.jsx("div",{className:"mb-8",children:e.jsx(Axe,{})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4 sm:p-6 mb-6 sm:mb-8",children:[e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-white mb-4",children:"SSC Review Pipeline"}),e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-lg sm:text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.documentVerification})}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Document"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Verification"})]}),e.jsx("div",{className:"flex-1 h-1 bg-gray-200 dark:bg-gray-700 mx-2 sm:mx-4 relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-yellow-500 rounded-full"})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-yellow-100 dark:bg-yellow-900 rounded-full flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-lg sm:text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:t.financialReview})}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Financial"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Review"})]}),e.jsx("div",{className:"flex-1 h-1 bg-gray-200 dark:bg-gray-700 mx-2 sm:mx-4 relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500 to-purple-500 rounded-full"})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-lg sm:text-2xl font-bold text-purple-600 dark:text-purple-400",children:t.academicReview})}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Academic"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Review"})]}),e.jsx("div",{className:"flex-1 h-1 bg-gray-200 dark:bg-gray-700 mx-2 sm:mx-4 relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500 to-green-500 rounded-full"})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-lg sm:text-2xl font-bold text-green-600 dark:text-green-400",children:t.finalApproval})}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Final"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Approval"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg border border-gray-200 dark:border-slate-700 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Pending Applications"}),e.jsxs("span",{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400 text-xs sm:text-sm font-medium px-2 sm:px-2.5 py-0.5 rounded-full",children:[t.pendingReview," pending"]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Applications awaiting SSC review and decision"}),e.jsx("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-md transition-colors shadow-sm",children:"Review Applications"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-gray-200 dark:border-slate-700 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Avg. Processing Time"}),e.jsxs("span",{className:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 text-sm font-medium px-2.5 py-0.5 rounded-full",children:[t.averageProcessingTime," days"]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Average time from endorsement to decision"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.averageProcessingTime}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"days"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activities"})}),e.jsx("div",{className:"p-6",children:a.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No recent activities"}):e.jsx("div",{className:"space-y-4",children:a.map(_=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-slate-700 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-shrink-0",children:[_.type==="approval"&&e.jsx(jt,{className:"h-5 w-5 text-green-500"}),_.type==="rejection"&&e.jsx(mr,{className:"h-5 w-5 text-red-500"}),_.type==="review"&&e.jsx(lr,{className:"h-5 w-5 text-yellow-500"})]}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[_.type==="approval"&&"Application approved",_.type==="rejection"&&"Application rejected",_.type==="review"&&"Application under review"]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_.studentName,"  ",_.applicationId]})]})]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(_.timestamp).toLocaleDateString()})]},_.id))})})]})]})}function Cxe(){const[t,r]=b.useState([]),[a,s]=b.useState(!0),[n,i]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState("updated_at"),[u,f]=b.useState("desc"),[p,g]=b.useState("grid"),[x,v]=b.useState([]),[w,j]=b.useState({current_page:1,per_page:15,total:0,last_page:1}),{showToast:_}=na(),S=async(I=1)=>{try{s(!0),i("");const{scholarshipApiService:T}=await Oa(async()=>{const{scholarshipApiService:Y}=await Promise.resolve().then(()=>In);return{scholarshipApiService:Y}},void 0),F=await T.getMySscApplications({search:o||void 0,sort_by:c,sort_order:u,per_page:w.per_page,page:I});r(F.data||[]),j({current_page:F.current_page||1,per_page:F.per_page||15,total:F.total||0,last_page:F.last_page||1})}catch(T){i("Failed to load your assigned applications"),console.error("Error fetching my applications:",T)}finally{s(!1)}};b.useEffect(()=>{S()},[o,c,u]);const N=I=>{I.preventDefault(),S()},C=I=>{v(T=>T.includes(I)?T.filter(F=>F!==I):[...T,I])},D=I=>{const F={ssc_document_verification:{label:"Document Verification",color:"bg-blue-100 text-blue-800"},ssc_financial_review:{label:"Financial Review",color:"bg-yellow-100 text-yellow-800"},ssc_academic_review:{label:"Academic Review",color:"bg-purple-100 text-purple-800"},ssc_final_approval:{label:"Final Approval",color:"bg-green-100 text-green-800"}}[I];return F?e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.color}`,children:F.label}):null},U=I=>{const T=[{key:"ssc_document_verification",label:"Documents"},{key:"ssc_financial_review",label:"Financial"},{key:"ssc_academic_review",label:"Academic"},{key:"ssc_final_approval",label:"Final"}],F=T.findIndex(Y=>Y.key===I.status);return e.jsxs("div",{className:"flex items-center space-x-2",children:[T.map((Y,O)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${O<=F?"bg-orange-500":"bg-gray-200"}`}),O<T.length-1&&e.jsx("div",{className:`w-8 h-0.5 ${O<F?"bg-orange-500":"bg-gray-200"}`})]},Y.key)),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:T[F]?.label||"Unknown"})]})},z=I=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(I||0),E=I=>new Date(I).toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading your assigned applications..."})]}):n?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:n})}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:()=>S(),className:"bg-red-100 px-3 py-2 rounded-md text-sm font-medium text-red-800 hover:bg-red-200",children:"Try Again"})})]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"My Assigned Applications"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Applications assigned to your role for review"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[w.total," applications"]})})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("form",{onSubmit:N,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search applications...",value:o,onChange:I=>l(I.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md leading-5 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("select",{value:`${c}-${u}`,onChange:I=>{const[T,F]=I.target.value.split("-");d(T),f(F)},className:"block px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"updated_at-desc",children:"Latest Updated"}),e.jsx("option",{value:"updated_at-asc",children:"Oldest Updated"}),e.jsx("option",{value:"created_at-desc",children:"Newest First"}),e.jsx("option",{value:"created_at-asc",children:"Oldest First"}),e.jsx("option",{value:"requested_amount-desc",children:"Highest Amount"}),e.jsx("option",{value:"requested_amount-asc",children:"Lowest Amount"})]})}),e.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-slate-600 rounded-md",children:[e.jsx("button",{onClick:()=>g("grid"),className:`p-2 ${p==="grid"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400"}`,children:e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),e.jsx("button",{onClick:()=>g("list"),className:`p-2 ${p==="list"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400"}`,children:e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})}),t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No applications assigned"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"You don't have any applications assigned to your role at this time."})]}):e.jsx("div",{className:"space-y-4",children:t.map(I=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("input",{type:"checkbox",checked:x.includes(I.id),onChange:()=>C(I.id),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[D(I.status),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.application_number})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:[I.student?.first_name," ",I.student?.last_name]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:I.student?.student_id_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"School"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:I.school?.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Requested Amount"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:z(I.requested_amount)})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Progress"}),U(I)]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:["Updated: ",E(I.updated_at)]}),e.jsxs("span",{children:["Category: ",I.category?.name]})]})]}),e.jsxs("div",{className:"ml-6 flex flex-col space-y-2",children:[e.jsx("button",{className:"px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500",children:"Review"}),e.jsx("button",{className:"px-4 py-2 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 text-sm font-medium rounded-md hover:bg-gray-200 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"View Details"})]})]})},I.id))}),w.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",(w.current_page-1)*w.per_page+1," to"," ",Math.min(w.current_page*w.per_page,w.total)," of"," ",w.total," results"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>S(w.current_page-1),disabled:w.current_page===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:["Page ",w.current_page," of ",w.last_page]}),e.jsx("button",{onClick:()=>S(w.current_page+1),disabled:w.current_page===w.last_page,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}function Pxe(){const{success:t,error:r}=na(),[a,s]=b.useState([]),[n,i]=b.useState(!0),[o,l]=b.useState(""),[c,d]=b.useState(""),[u,f]=b.useState({status:"all",category:"all",school:"all"}),[p,g]=b.useState("grid"),[x,v]=b.useState("updated_at"),[w,j]=b.useState("desc"),[_,S]=b.useState([]),[N,C]=b.useState(!1),[D,U]=b.useState(!1),[z,E]=b.useState(!1),[I,T]=b.useState(!1),[F,Y]=b.useState(!1),[O,q]=b.useState(!1),[$,K]=b.useState(null),[J,X]=b.useState(""),[be,te]=b.useState(""),[R,ae]=b.useState(""),[W,pe]=b.useState(""),[ce,we]=b.useState("");b.useEffect(()=>{je()},[]);const je=async()=>{try{i(!0),l("");const de=(await Ut.getSscPendingApplications({per_page:100,sort_by:x,sort_order:w})).data.map(ue=>{const me=ue.student,Se=ue.school,Ye=ue.category,kt=ue.subcategory,it=ue.interview_schedule,ft=it?.interview_evaluation;return{id:ue.id,applicationNumber:ue.application_number,name:`${me?.first_name||""} ${me?.last_name||""}`.trim(),studentId:me?.student_id_number||`APP-${ue.id}`,email:me?.email_address||"",phone:me?.contact_number||"",schoolName:Se?.name||"Unknown School",schoolType:Se?.classification||"Unknown",educationalLevel:me?.academic_records?.[0]?.educational_level||"Tertiary",yearLevel:me?.academic_records?.[0]?.year_level||"Unknown",course:me?.academic_records?.[0]?.program||"Unknown Program",gwa:me?.academic_records?.[0]?.general_weighted_average?.toString()||"N/A",scholarshipCategory:Ye?.name||"Unknown Category",scholarshipSubCategory:kt?.name||"Unknown Subcategory",requestedAmount:ue.requested_amount||0,approvedAmount:ue.approved_amount||ue.requested_amount||0,endorsedDate:ue.updated_at,submittedDate:ue.submitted_at||ue.created_at,financialNeed:ue.financial_need_description||"",interview:it?{id:it.id,date:it.interview_date,time:it.interview_time,interviewer:it.interviewer_name||"Unknown",result:it.interview_result,notes:it.interview_notes,evaluation:ft?{academicMotivationScore:ft.academic_motivation_score||0,leadershipInvolvementScore:ft.leadership_involvement_score||0,financialNeedScore:ft.financial_need_score||0,characterValuesScore:ft.character_values_score||0,overallRecommendation:ft.overall_recommendation||"not_recommended",remarks:ft.remarks||"",strengths:ft.strengths||"",areasForImprovement:ft.areas_for_improvement||"",additionalNotes:ft.additional_notes||""}:null}:null}});s(de)}catch(H){console.error("Error fetching SSC pending applications:",H),l("Failed to load applications ready for SSC review"),s([])}finally{i(!1)}},xe=[...a.filter(H=>{const de=H.name.toLowerCase().includes(c.toLowerCase())||H.studentId.toLowerCase().includes(c.toLowerCase())||H.schoolName.toLowerCase().includes(c.toLowerCase())||H.scholarshipCategory.toLowerCase().includes(c.toLowerCase()),ue=u.category==="all"||H.scholarshipCategory===u.category,me=u.school==="all"||H.schoolType===u.school;return de&&ue&&me})].sort((H,de)=>{let ue,me;switch(x){case"name":ue=H.name.toLowerCase(),me=de.name.toLowerCase();break;case"gwa":ue=parseFloat(H.gwa)||0,me=parseFloat(de.gwa)||0;break;case"requestedAmount":ue=H.requestedAmount,me=de.requestedAmount;break;case"updated_at":default:ue=new Date(H.endorsedDate),me=new Date(de.endorsedDate);break}return w==="asc"?ue>me?1:-1:ue<me?1:-1}),$e=({application:H})=>e.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 hover:shadow-md transition-all duration-200 ${p==="list"?"rounded-lg":"rounded-xl"}`,children:e.jsxs("div",{className:p==="list"?"p-4":"p-6",children:[e.jsx("div",{className:`flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 ${p==="list"?"mb-3":"mb-4"}`,children:e.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx("input",{type:"checkbox",checked:_.includes(H.id),onChange:()=>ge(H.id),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"})}),e.jsx("div",{className:`flex-shrink-0 ${p==="list"?"h-8 w-8":"h-12 w-12"}`,children:e.jsx("div",{className:`${p==="list"?"h-8 w-8":"h-12 w-12"} rounded-full bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 flex items-center justify-center`,children:e.jsx(Ba,{className:`${p==="list"?"h-4 w-4":"h-6 w-6"} text-orange-600 dark:text-orange-400`})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:`${p==="list"?"text-base font-semibold":"text-lg font-semibold"} text-gray-900 dark:text-white truncate`,children:H.name}),e.jsx("p",{className:`${p==="list"?"text-xs":"text-sm"} text-gray-500 dark:text-gray-400 truncate`,children:H.studentId})]})]})}),e.jsxs("div",{className:p==="list"?"space-y-2":"space-y-4",children:[e.jsxs("div",{className:`flex items-center space-x-2 ${p==="list"?"text-xs":"text-sm"} text-gray-600 dark:text-gray-400`,children:[e.jsx(Dn,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} flex-shrink-0`}),e.jsx("span",{className:"truncate",children:H.schoolName})]}),e.jsxs("div",{className:`grid gap-3 ${p==="list"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4":"grid-cols-1 sm:grid-cols-2"}`,children:[e.jsxs("div",{className:`flex items-center space-x-2 ${p==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(rn,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"GWA:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:H.gwa})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${p==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(yo,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Level:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:H.educationalLevel})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${p==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(Ba,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Category:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:H.scholarshipCategory})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${p==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(va,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Amount:"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:["",H.requestedAmount.toLocaleString()]})]})]}),H.interview&&H.interview.evaluation&&e.jsxs("div",{className:`${p==="list"?"space-y-2":"space-y-3"}`,children:[e.jsxs("div",{className:`bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 ${p==="list"?"p-2":"p-3"}`,children:[e.jsxs("div",{className:`flex items-center space-x-2 mb-2 ${p==="list"?"text-xs":"text-sm"}`,children:[e.jsx(ok,{className:`${p==="list"?"w-3 h-3":"w-4 h-4"} text-blue-600`}),e.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Interview Evaluation"})]}),e.jsxs("div",{className:`grid ${p==="list"?"grid-cols-1 gap-1":"grid-cols-1 gap-2"} ${p==="list"?"text-xs":"text-sm"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Academic:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((de,ue)=>e.jsx(ls,{className:`w-3 h-3 ${ue<(H.interview.evaluation.academicMotivationScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},ue)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[H.interview.evaluation.academicMotivationScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Leadership:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((de,ue)=>e.jsx(ls,{className:`w-3 h-3 ${ue<(H.interview.evaluation.leadershipInvolvementScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},ue)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[H.interview.evaluation.leadershipInvolvementScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Financial:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((de,ue)=>e.jsx(ls,{className:`w-3 h-3 ${ue<(H.interview.evaluation.financialNeedScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},ue)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[H.interview.evaluation.financialNeedScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Character:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((de,ue)=>e.jsx(ls,{className:`w-3 h-3 ${ue<(H.interview.evaluation.characterValuesScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},ue)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[H.interview.evaluation.characterValuesScore||0,"/5"]})]})]})]})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${p==="list"?"text-xs":"text-sm"}`,children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recommendation:"}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H.interview.evaluation.overallRecommendation==="recommended"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":H.interview.evaluation.overallRecommendation==="needs_followup"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[H.interview.evaluation.overallRecommendation==="recommended"&&" Recommended",H.interview.evaluation.overallRecommendation==="needs_followup"&&" Conditional",H.interview.evaluation.overallRecommendation==="not_recommended"&&" Not Recommended"]})]})]})]}),e.jsx("div",{className:`${p==="list"?"mt-3 pt-3":"mt-6 pt-4"} border-t border-gray-200 dark:border-slate-700`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>Z(H),className:`flex items-center space-x-2 ${p==="list"?"px-4 py-2 text-sm font-semibold":"px-3 py-1.5 text-sm"} bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(jt,{className:"w-4 h-4"}),e.jsx("span",{children:"Approve"})]}),e.jsxs("button",{onClick:()=>re(H),className:`flex items-center space-x-2 ${p==="list"?"px-4 py-2 text-sm font-semibold":"px-3 py-1.5 text-sm"} bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(mr,{className:"w-4 h-4"}),e.jsx("span",{children:"Reject"})]})]}),e.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:e.jsx("button",{onClick:()=>Ze(H),className:`${p==="list"?"p-2":"p-1.5"} bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md`,title:"View Details",children:e.jsx(Or,{className:`${p==="list"?"w-5 h-5":"w-4 h-4"}`})})})]})})]})}),ge=H=>{S(de=>de.includes(H)?de.filter(ue=>ue!==H):[...de,H])},ot=()=>{_.length===xe.length?S([]):S(xe.map(H=>H.id))},Ze=H=>{K(H),U(!0)},Z=H=>{K(H),X(H.requestedAmount.toString()),te(""),E(!0)},re=H=>{K(H),ae(""),T(!0)},Ue=async()=>{if($){if(!J||parseFloat(J)<=0){r("Please enter a valid approved amount.","Invalid Amount");return}try{await Ut.sscApproveApplication($.id,parseFloat(J),be),s(H=>H.filter(de=>de.id!==$.id)),E(!1),t("Application approved successfully!","Approval Successful")}catch(H){console.error("Approval failed:",H),r("Failed to approve application. Please try again.","Approval Failed")}}},Ge=async()=>{if(!$||!R.trim()){r("Please provide a reason for rejection.","Rejection Reason Required");return}try{await Ut.sscRejectApplication($.id,R.trim()),s(H=>H.filter(de=>de.id!==$.id)),T(!1),ae(""),t("Application rejected successfully.","Rejection Successful")}catch(H){console.error("Rejection failed:",H),r("Failed to reject application. Please try again.","Rejection Failed")}},Ke=async()=>{if(_.length!==0)try{const H=await Ut.sscBulkApprove(_,W);s(de=>de.filter(ue=>!_.includes(ue.id))),S([]),Y(!1),pe(""),t(`Successfully approved ${H.approved_count} application(s)!`,"Bulk Approval Successful")}catch(H){console.error("Bulk approval failed:",H),r("Failed to bulk approve applications. Please try again.","Bulk Approval Failed")}},ie=async()=>{if(_.length!==0){if(!ce.trim()){r("Please provide a reason for bulk rejection.","Rejection Reason Required");return}try{const H=await Ut.sscBulkReject(_,ce.trim());s(de=>de.filter(ue=>!_.includes(ue.id))),S([]),q(!1),we(""),t(`Successfully rejected ${H.rejected_count} application(s)!`,"Bulk Rejection Successful")}catch(H){console.error("Bulk rejection failed:",H),r("Failed to bulk reject applications. Please try again.","Bulk Rejection Failed")}}},Ce=(H,de)=>{f(ue=>({...ue,[H]:de}))},Oe=()=>{f({status:"all",category:"all",school:"all"}),d("")},Je=()=>Object.values(u).some(H=>H!=="all")||c;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:e.jsxs("div",{className:"relative flex-1 min-w-64",children:[e.jsx(Ls,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search applications...",value:c,onChange:H=>d(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>C(!N),className:`flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ${N?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[e.jsx(Yi,{className:"w-4 h-4"}),e.jsx("span",{children:"Advanced"})]}),e.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-slate-600 rounded-lg",children:[e.jsx("button",{onClick:()=>g("grid"),className:`p-2 ${p==="grid"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-l-lg transition-colors`,children:e.jsx(jh,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>g("list"),className:`p-2 ${p==="list"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-r-lg transition-colors`,children:e.jsx(jd,{className:"w-4 h-4"})})]}),e.jsxs("select",{value:x,onChange:H=>v(H.target.value),className:"px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"updated_at",children:"Sort by Date"}),e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"gwa",children:"Sort by GWA"}),e.jsx("option",{value:"requestedAmount",children:"Sort by Amount"})]}),e.jsx("button",{onClick:()=>j(w==="asc"?"desc":"asc"),className:"p-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",children:w==="asc"?e.jsx(Tb,{className:"w-4 h-4"}):e.jsx(Eb,{className:"w-4 h-4"})})]})]}),N&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs("select",{value:u.category,onChange:H=>Ce("category",H.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"Academic Excellence",children:"Academic Excellence"}),e.jsx("option",{value:"Financial Need",children:"Financial Need"}),e.jsx("option",{value:"Special Programs",children:"Special Programs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"School Type"}),e.jsxs("select",{value:u.school,onChange:H=>Ce("school",H.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Schools"}),e.jsx("option",{value:"State University",children:"State University"}),e.jsx("option",{value:"Private University",children:"Private University"}),e.jsx("option",{value:"College",children:"College"})]})]})]})}),Je()&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[c&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:['Search: "',c,'"',e.jsx("button",{onClick:()=>d(""),className:"ml-1 hover:text-purple-600 dark:hover:text-purple-200",children:e.jsx(dr,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:Oe,className:"text-sm text-gray-600 dark:text-gray-300 underline hover:text-gray-800 dark:hover:text-gray-100",children:"Clear all filters"})]}),_.length>0&&e.jsx("div",{className:"mt-4 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:[_.length," application(s) selected"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>Y(!0),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Bulk Approve"}),e.jsx("button",{onClick:()=>q(!0),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Bulk Reject"})]})]})})]}),n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nr,{className:"w-8 h-8 text-gray-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading applications..."})]})}):o?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6 text-center",children:[e.jsx(Br,{className:"w-8 h-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:o})]}):xe.length===0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-12 text-center",children:[e.jsx(Ba,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No applications found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No applications are pending SSC review at this time."})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[xe.length," Application",xe.length!==1?"s":""]}),e.jsx("button",{onClick:ot,className:"text-sm text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 font-medium",children:_.length===xe.length?"Deselect All":"Select All"})]}),e.jsx("div",{className:p==="grid"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-3",children:xe.map(H=>e.jsx($e,{application:H},H.id))})]}),z&&$&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>E(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Approve Application"}),e.jsx("button",{onClick:()=>E(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"You are about to approve the application for:"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:$.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[$.studentId,"  ",$.schoolName]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Approved Amount *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),e.jsx("input",{type:"number",value:J,onChange:H=>X(H.target.value),placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Requested: ",$.requestedAmount.toLocaleString()]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{value:be,onChange:H=>te(H.target.value),placeholder:"Add any notes or comments...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",rows:3})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:Ue,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Approve Application"]})]})]})]}),I&&$&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>T(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Reject Application"}),e.jsx("button",{onClick:()=>T(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"You are about to reject the application for:"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:$.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[$.studentId,"  ",$.schoolName]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reason for Rejection *"}),e.jsx("textarea",{value:R,onChange:H=>ae(H.target.value),placeholder:"Please provide a detailed reason for rejecting this application...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",rows:4,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"This reason will be recorded and may be shared with the applicant."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:Ge,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(mr,{className:"w-4 h-4 mr-2"}),"Reject Application"]})]})]})]}),F&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>Y(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bulk Approve Applications"}),e.jsx("button",{onClick:()=>Y(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["You are about to approve ",_.length," application(s). Each will be approved with their requested amount."]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{value:W,onChange:H=>pe(H.target.value),placeholder:"Add any notes for these approvals...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",rows:3})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>Y(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:Ke,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Approve ",_.length," Application(s)"]})]})]})]}),O&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>q(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bulk Reject Applications"}),e.jsx("button",{onClick:()=>q(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["You are about to reject ",_.length," application(s)."]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reason for Rejection *"}),e.jsx("textarea",{value:ce,onChange:H=>we(H.target.value),placeholder:"Please provide a detailed reason for rejecting these applications...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",rows:4,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"This reason will be recorded for all rejected applications."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:ie,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(mr,{className:"w-4 h-4 mr-2"}),"Reject ",_.length," Application(s)"]})]})]})]}),D&&$&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700 flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Application Details"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[$.name," - ",$.studentId]})]}),e.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(dr,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",style:{minHeight:0},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Student Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Full Name:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:$.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Student ID:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:$.studentId})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Email:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:$.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Phone:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:$.phone||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"GWA:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:$.gwa})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Educational Level:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:$.educationalLevel})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Course:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:$.course||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:$.schoolName})]})]})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[e.jsx("h4",{className:"font-semibold text-purple-900 dark:text-purple-100 mb-3",children:"Scholarship Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Category:"}),e.jsx("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:$.scholarshipCategory})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Subcategory:"}),e.jsx("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:$.scholarshipSubCategory||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Requested Amount:"}),e.jsxs("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:["",$.requestedAmount?.toLocaleString()||"N/A"]})]})]})]}),$.interview&&$.interview.evaluation&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Interview Evaluation"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Interview Date:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:new Date($.interview.date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Interviewer:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:$.interview.interviewer})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Evaluation Scores:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Academic Motivation:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((H,de)=>e.jsx(ls,{className:`w-3 h-3 ${de<($.interview.evaluation?.academicMotivationScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},de)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[$.interview.evaluation?.academicMotivationScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Leadership & Involvement:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((H,de)=>e.jsx(ls,{className:`w-3 h-3 ${de<($.interview.evaluation?.leadershipInvolvementScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},de)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[$.interview.evaluation?.leadershipInvolvementScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Financial Need:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((H,de)=>e.jsx(ls,{className:`w-3 h-3 ${de<($.interview.evaluation?.financialNeedScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},de)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[$.interview.evaluation?.financialNeedScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Character & Values:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((H,de)=>e.jsx(ls,{className:`w-3 h-3 ${de<($.interview.evaluation?.characterValuesScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},de)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[$.interview.evaluation?.characterValuesScore||0,"/5"]})]})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Overall Recommendation:"}),e.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${$.interview.evaluation?.overallRecommendation==="recommended"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":$.interview.evaluation?.overallRecommendation==="needs_followup"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[$.interview.evaluation?.overallRecommendation==="recommended"&&e.jsx(jt,{className:"w-4 h-4 mr-1"}),$.interview.evaluation?.overallRecommendation==="needs_followup"&&e.jsx(Br,{className:"w-4 h-4 mr-1"}),$.interview.evaluation?.overallRecommendation==="not_recommended"&&e.jsx(dr,{className:"w-4 h-4 mr-1"}),$.interview.evaluation?.overallRecommendation==="recommended"&&"Recommended for SSC Approval",$.interview.evaluation?.overallRecommendation==="needs_followup"&&"Conditional Recommendation",$.interview.evaluation?.overallRecommendation==="not_recommended"&&"Not Recommended"]})]}),$.interview.evaluation&&e.jsxs("div",{className:"mt-4 space-y-3",children:[$.interview.evaluation?.remarks&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Interview Notes:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-blue-50 dark:bg-blue-900/20 p-2 rounded",children:$.interview.evaluation.remarks})]}),$.interview.evaluation?.strengths&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Strengths:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-green-50 dark:bg-green-900/20 p-2 rounded",children:$.interview.evaluation.strengths})]}),$.interview.evaluation?.areasForImprovement&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Areas for Improvement:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded",children:$.interview.evaluation.areasForImprovement})]})]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700 flex-shrink-0",children:[e.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Close"}),e.jsxs("button",{onClick:()=>{U(!1),Z($)},className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs("button",{onClick:()=>{U(!1),re($)},className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(mr,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]})})]})}function Exe(){const{success:t,error:r}=na(),[a,s]=b.useState([]),[n,i]=b.useState(!0),[o,l]=b.useState(""),[c,d]=b.useState(""),[u,f]=b.useState({decision:"all",stage:"all",dateFrom:"",dateTo:""}),[p,g]=b.useState(!1),[x,v]=b.useState(null),[w,j]=b.useState(!1);b.useEffect(()=>{_()},[]);const _=async()=>{try{i(!0),l("");const Y=await Ut.getAllSscDecisions({per_page:100,sort_by:"created_at",sort_order:"desc"});s(Y.data)}catch(Y){console.error("Error fetching SSC decision history:",Y),l("Failed to load decision history"),s([])}finally{i(!1)}},S=a.filter(Y=>{const O=Y.application,q=O?.student,$=q?.first_name?.toLowerCase().includes(c.toLowerCase())||q?.last_name?.toLowerCase().includes(c.toLowerCase())||O?.application_number?.toLowerCase().includes(c.toLowerCase())||q?.student_id_number?.toLowerCase().includes(c.toLowerCase()),K=u.decision==="all"||Y.status===u.decision,J=u.stage==="all"||Y.review_stage===u.stage,X=Y.approved_at||Y.reviewed_at||Y.created_at,be=!u.dateFrom||new Date(X)>=new Date(u.dateFrom),te=!u.dateTo||new Date(X)<=new Date(u.dateTo);return $&&K&&J&&be&&te}),N=Y=>Y==="approved"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",C=Y=>Y==="approved"?e.jsx(jt,{className:"w-4 h-4"}):e.jsx(mr,{className:"w-4 h-4"}),D=Y=>({document_verification:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",financial_review:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",academic_review:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",final_approval:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"})[Y]||"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400",U=Y=>({document_verification:"Document Verification",financial_review:"Financial Review",academic_review:"Academic Review",final_approval:"Final Approval"})[Y]||Y,z=(Y,O)=>{f(q=>({...q,[Y]:O}))},E=()=>{f({decision:"all",stage:"all",dateFrom:"",dateTo:""}),d("")},I=()=>u.decision!=="all"||u.stage!=="all"||u.dateFrom!==""||u.dateTo!==""||c!=="",T=Y=>{v(Y),j(!0)},F=()=>{try{const Y=["Decision ID","Application Number","Student Name","Review Stage","Decision","Amount","Date","Notes/Reason"],O=S.map(X=>{const be=X.application,te=be?.student,R=`${te?.first_name||""} ${te?.last_name||""}`.trim();return[X.id,be?.application_number||"",R,U(X.review_stage),X.status==="approved"?"Approved":"Rejected",X.review_data?.recommended_amount?`${X.review_data.recommended_amount.toLocaleString()}`:"N/A",new Date(X.approved_at||X.reviewed_at||X.created_at).toLocaleDateString(),X.status==="approved"?X.review_notes||X.approval_notes||"":X.review_notes||""]}),q=[Y.join(","),...O.map(X=>X.map(be=>`"${be}"`).join(","))].join(`
`),$=new Blob([q],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a"),J=URL.createObjectURL($);K.setAttribute("href",J),K.setAttribute("download",`ssc_decision_history_${new Date().toISOString().split("T")[0]}.csv`),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K),t("Decision history exported successfully!","Export Successful")}catch(Y){console.error("Export failed:",Y),r("Failed to export decision history.","Export Failed")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-64",children:[e.jsx(Ls,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search decisions...",value:c,onChange:Y=>d(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("select",{value:u.decision,onChange:Y=>z("decision",Y.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Decisions"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsxs("select",{value:u.stage,onChange:Y=>z("stage",Y.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Stages"}),e.jsx("option",{value:"document_verification",children:"Document Verification"}),e.jsx("option",{value:"financial_review",children:"Financial Review"}),e.jsx("option",{value:"academic_review",children:"Academic Review"}),e.jsx("option",{value:"final_approval",children:"Final Approval"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>g(!p),className:`flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ${p?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[e.jsx(Yi,{className:"w-4 h-4"}),e.jsx("span",{children:"Advanced"})]}),e.jsxs("button",{onClick:F,className:"flex items-center space-x-2 px-4 py-2 rounded-lg bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",children:[e.jsx(Ra,{className:"w-4 h-4"}),e.jsx("span",{children:"Export CSV"})]}),e.jsx("button",{onClick:_,className:"p-2 rounded-lg bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",title:"Refresh",children:e.jsx(Nr,{className:"w-4 h-4"})})]})]}),p&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date From"}),e.jsx("input",{type:"date",value:u.dateFrom,onChange:Y=>z("dateFrom",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date To"}),e.jsx("input",{type:"date",value:u.dateTo,onChange:Y=>z("dateTo",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]})}),I()&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.decision!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",children:["Decision: ",u.decision,e.jsx("button",{onClick:()=>z("decision","all"),className:"ml-1 hover:text-orange-600 dark:hover:text-orange-200",children:e.jsx(dr,{className:"w-3 h-3"})})]}),u.stage!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:["Stage: ",U(u.stage),e.jsx("button",{onClick:()=>z("stage","all"),className:"ml-1 hover:text-blue-600 dark:hover:text-blue-200",children:e.jsx(dr,{className:"w-3 h-3"})})]}),c&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:['Search: "',c,'"',e.jsx("button",{onClick:()=>d(""),className:"ml-1 hover:text-purple-600 dark:hover:text-purple-200",children:e.jsx(dr,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:E,className:"text-sm text-gray-600 dark:text-gray-300 underline hover:text-gray-800 dark:hover:text-gray-100",children:"Clear all filters"})]})]}),n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nr,{className:"w-8 h-8 text-gray-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading decisions..."})]})}):o?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6 text-center",children:[e.jsx(Br,{className:"w-8 h-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:o})]}):S.length===0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-12 text-center",children:[e.jsx(Kt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No decisions found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters or search terms."})]}):e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[S.length," Decision",S.length!==1?"s":""]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Application"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"School"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Stage"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Decision"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:S.map(Y=>{const O=Y.application,q=O?.student,$=O?.school,K=`${q?.first_name||""} ${q?.last_name||""}`.trim();return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ba,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:O?.application_number||`APP-${O?.id}`}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:O?.category?.name||"Unknown"})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Hr,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:K||"Unknown"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:q?.student_id_number||"N/A"})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dn,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("div",{className:"text-sm text-gray-900 dark:text-white max-w-xs truncate",children:$?.name||"Unknown School"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D(Y.review_stage)}`,children:U(Y.review_stage)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N(Y.status)}`,children:[C(Y.status),e.jsx("span",{className:"ml-1 capitalize",children:Y.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(va,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:Y.review_data?.recommended_amount?`${Y.review_data.recommended_amount.toLocaleString()}`:"N/A"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[e.jsx(Rr,{className:"h-4 w-4 text-gray-400 mr-1"}),new Date(Y.approved_at||Y.reviewed_at||Y.created_at).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>T(Y),className:"text-orange-600 dark:text-orange-400 hover:text-orange-900 dark:hover:text-orange-300 transition-colors",children:"View Details"})})]},Y.id)})})]})})]}),w&&x&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>j(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-3xl bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Decision Details"}),e.jsx("button",{onClick:()=>j(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:`rounded-lg p-4 ${x.status==="approved"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[x.status==="approved"?e.jsx(jt,{className:"h-8 w-8 text-green-600"}):e.jsx(mr,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{children:[e.jsxs("h4",{className:`text-lg font-semibold ${x.status==="approved"?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"}`,children:[U(x.review_stage)," - ",x.status==="approved"?"Approved":"Rejected"]}),e.jsxs("p",{className:`text-sm ${x.status==="approved"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["Decision made on ",new Date(x.approved_at||x.reviewed_at||x.created_at).toLocaleString()]})]})]}),x.review_data?.recommended_amount&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Recommended Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:["",x.review_data.recommended_amount.toLocaleString()]})]})]})}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Application Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Application Number:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:x.application?.application_number||`APP-${x.application_id}`})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Student:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:`${x.application?.student?.first_name||""} ${x.application?.student?.last_name||""}`.trim()||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:x.application?.school?.name||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Category:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:x.application?.category?.name||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Review Stage:"}),e.jsx("span",{className:`ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${D(x.review_stage)}`,children:U(x.review_stage)})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:x.status==="approved"?"Review Notes":"Rejection Reason"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:x.status==="approved"?x.review_notes||x.approval_notes||"No notes provided.":x.review_notes||"No reason provided."})]})]})}),e.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:e.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Close"})})]})]})]})}function Txe(){const[t,r]=b.useState([]),[a,s]=b.useState(!0),[n,i]=b.useState(""),[o,l]=b.useState(!1),[c,d]=b.useState(null),[u,f]=b.useState(!1),{showToast:p}=na(),[g,x]=b.useState([]),v=[{value:"chairperson",label:"SSC Chairperson",stage:"final_approval"},{value:"budget_dept",label:"Budget Department",stage:"financial_review"},{value:"accounting",label:"Accounting Department",stage:"financial_review"},{value:"treasurer",label:"City Treasurer",stage:"financial_review"},{value:"education_affairs",label:"Education Affairs Unit",stage:"academic_review"},{value:"qcydo",label:"Quezon City Youth Development Office",stage:"academic_review"},{value:"planning_dept",label:"City Planning and Development Department",stage:"academic_review"},{value:"city_council",label:"City Council Committee on Education",stage:"document_verification"},{value:"hrd",label:"Human Resource Management Department",stage:"document_verification"},{value:"social_services",label:"Social Services Development Department",stage:"document_verification"},{value:"schools_division",label:"Schools Division Office",stage:"academic_review"},{value:"qcu",label:"Quezon City University",stage:"academic_review"}],w=[{value:"document_verification",label:"Document Verification"},{value:"financial_review",label:"Financial Review"},{value:"academic_review",label:"Academic Review"},{value:"final_approval",label:"Final Approval"}],j=async()=>{try{s(!0),i("");const{scholarshipApiService:E}=await Oa(async()=>{const{scholarshipApiService:F}=await Promise.resolve().then(()=>In);return{scholarshipApiService:F}},void 0),I=await E.getSscMemberAssignments(),T=Array.isArray(I)?I:I?.data||[];r(T),x(T)}catch(E){i("Failed to load SSC members"),console.error("Error fetching SSC members:",E),r([]),x([])}finally{s(!1)}};b.useEffect(()=>{j()},[]);const _=async E=>{try{r(I=>I.map(T=>T.id===E?{...T,is_active:!0}:T)),p("Member activated successfully","success")}catch{p("Failed to activate member","error")}},S=async E=>{try{r(I=>I.map(T=>T.id===E?{...T,is_active:!1}:T)),p("Member deactivated successfully","success")}catch{p("Failed to deactivate member","error")}},N=E=>{d(E),f(!0)},C=async E=>{try{if(c)r(I=>I.map(T=>T.id===c.id?{...T,...E}:T)),p("Member updated successfully","success");else{const I={id:Date.now(),...E,review_count:0,last_review:null};r(T=>[...T,I]),p("Member added successfully","success")}f(!1),d(null)}catch{p("Failed to save member","error")}},D=E=>({chairperson:"bg-red-100 text-red-800",budget_dept:"bg-yellow-100 text-yellow-800",accounting:"bg-yellow-100 text-yellow-800",treasurer:"bg-yellow-100 text-yellow-800",education_affairs:"bg-purple-100 text-purple-800",qcydo:"bg-purple-100 text-purple-800",planning_dept:"bg-purple-100 text-purple-800",city_council:"bg-blue-100 text-blue-800",hrd:"bg-blue-100 text-blue-800",social_services:"bg-blue-100 text-blue-800",schools_division:"bg-purple-100 text-purple-800",qcu:"bg-purple-100 text-purple-800"})[E]||"bg-gray-100 text-gray-800",U=E=>({document_verification:"bg-blue-100 text-blue-800",financial_review:"bg-yellow-100 text-yellow-800",academic_review:"bg-purple-100 text-purple-800",final_approval:"bg-green-100 text-green-800"})[E]||"bg-gray-100 text-gray-800",z=E=>E?new Date(E).toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never";return a?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading SSC members..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"SSC Member Management"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage SSC member assignments and roles"})]}),e.jsx("button",{onClick:()=>{d(null),l(!0)},className:"px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500",children:"Add Member"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Members"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(E=>E.is_active).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Members"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(E=>E.review_stage==="document_verification").length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Document Reviewers"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.filter(E=>E.review_stage==="academic_review").length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Academic Reviewers"})]})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Review Stage"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Reviews"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Review"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[e.jsx("p",{className:"text-sm font-medium",children:"No SSC members found"}),e.jsx("p",{className:"text-xs mt-1",children:"SSC members will appear here once they are assigned."})]})})}):t.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:E.user_name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:E.user_email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D(E.ssc_role)}`,children:E.role_label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${U(E.review_stage)}`,children:E.stage_label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:E.review_count}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:z(E.last_review)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>N(E),className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",children:"Edit"}),E.is_active?e.jsx("button",{onClick:()=>S(E.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Deactivate"}):e.jsx("button",{onClick:()=>_(E.id),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:"Activate"})]})})]},E.id))})]})})}),(o||u)&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:c?"Edit SSC Member":"Add SSC Member"}),e.jsxs("form",{onSubmit:E=>{E.preventDefault();const I=new FormData(E.target),T={user_id:parseInt(I.get("user_id")),user_name:I.get("user_name"),user_email:I.get("user_email"),ssc_role:I.get("ssc_role"),review_stage:I.get("review_stage"),is_active:I.get("is_active")==="on"};C(T)},children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"User ID"}),e.jsx("input",{type:"number",name:"user_id",defaultValue:c?.user_id||"",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),e.jsx("input",{type:"text",name:"user_name",defaultValue:c?.user_name||"",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"user_email",defaultValue:c?.user_email||"",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"SSC Role"}),e.jsxs("select",{name:"ssc_role",defaultValue:c?.ssc_role||"",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Select Role"}),v.map(E=>e.jsx("option",{value:E.value,children:E.label},E.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Review Stage"}),e.jsxs("select",{name:"review_stage",defaultValue:c?.review_stage||"",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Select Stage"}),w.map(E=>e.jsx("option",{value:E.value,children:E.label},E.value))]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_active",defaultChecked:c?.is_active!==!1,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>{l(!1),f(!1),d(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-md hover:bg-gray-200 dark:hover:bg-slate-600",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[c?"Update":"Add"," Member"]})]})]})]})})})]})}function Dxe(){const[t,r]=b.useState([]),[a,s]=b.useState(!0),[n,i]=b.useState(null),[o,l]=b.useState(!1),[c,d]=b.useState({valid_id_verified:!1,indigency_cert_verified:!1,residency_proof_verified:!1,academic_records_verified:!1,other_docs_verified:!1,verification_notes:"",compliance_issues:[]}),{success:u,error:f}=na();b.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0);const{scholarshipApiService:S}=await Oa(async()=>{const{scholarshipApiService:C}=await Promise.resolve().then(()=>In);return{scholarshipApiService:C}},void 0),N=await S.getSscApplicationsByStage("document_verification");r(N.data||[])}catch(S){console.error("Error fetching applications:",S),f("Failed to load applications")}finally{s(!1)}},g=S=>{i(S),l(!0),d({valid_id_verified:!1,indigency_cert_verified:!1,residency_proof_verified:!1,academic_records_verified:!1,other_docs_verified:!1,verification_notes:"",compliance_issues:[]})},x=async()=>{if(!n)return;if(!Object.keys(c).filter(N=>N.endsWith("_verified")).every(N=>c[N])){f("Please verify all required documents");return}try{const{scholarshipApiService:N}=await Oa(async()=>{const{scholarshipApiService:C}=await Promise.resolve().then(()=>In);return{scholarshipApiService:C}},void 0);await N.sscSubmitDocumentVerification(n.id,{verified:!0,notes:c.verification_notes,document_issues:c.compliance_issues}),u("Document verification approved successfully"),l(!1),p()}catch(N){console.error("Error approving application:",N);const C=N.response?.data?.error||N.message||"Failed to approve application",D=N.response?.data?.debug?` (Debug: ${JSON.stringify(N.response.data.debug)})`:"";f(`Failed to approve document verification: ${C}${D}`)}},v=async()=>{if(n){if(c.compliance_issues.length===0){f("Please specify compliance issues");return}try{const{scholarshipApiService:S}=await Oa(async()=>{const{scholarshipApiService:N}=await Promise.resolve().then(()=>In);return{scholarshipApiService:N}},void 0);await S.sscSubmitDocumentVerification(n.id,{verified:!1,notes:c.verification_notes,document_issues:c.compliance_issues}),u("Document verification marked as needing revision"),l(!1),p()}catch(S){console.error("Error requesting compliance:",S);const N=S.response?.data?.error||S.message||"Failed to request compliance",C=S.response?.data?.debug?` (Debug: ${JSON.stringify(S.response.data.debug)})`:"";f(`Failed to mark document verification for revision: ${N}${C}`)}}},w=async()=>{if(n){if(!c.verification_notes){f("Please provide rejection reason");return}if(confirm("Are you sure you want to reject this application? This action cannot be undone."))try{const{scholarshipApiService:S}=await Oa(async()=>{const{scholarshipApiService:N}=await Promise.resolve().then(()=>In);return{scholarshipApiService:N}},void 0);await S.sscSubmitDocumentVerification(n.id,{verified:!1,notes:c.verification_notes,document_issues:["Application rejected"]}),u("Application rejected"),l(!1),p()}catch(S){console.error("Error rejecting application:",S),f("Failed to reject application")}}},j=S=>{d(N=>({...N,compliance_issues:N.compliance_issues.includes(S)?N.compliance_issues.filter(C=>C!==S):[...N.compliance_issues,S]}))},_=S=>{const N=S.ssc_stage_status||{};return{document_verification:{label:"Document Verification",completed:N.document_verification?.status==="approved",reviewedAt:N.document_verification?.reviewed_at},financial_review:{label:"Financial Review",completed:N.financial_review?.status==="approved",reviewedAt:N.financial_review?.reviewed_at},academic_review:{label:"Academic Review",completed:N.academic_review?.status==="approved",reviewedAt:N.academic_review?.reviewed_at},final_approval:{label:"Final Approval",completed:S.status==="approved"||S.status==="rejected",reviewedAt:S.latest_ssc_decision?.created_at}}};return a?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Document Verification"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Review and verify applicant documents"})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," application",t.length!==1?"s":""," pending verification"]})]}),e.jsx("div",{className:"grid gap-4",children:t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsx(Kt,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No applications pending document verification"})]}):t.map(S=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Hr,{className:"h-5 w-5 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.student?`${S.student.first_name} ${S.student.last_name}`:"Unknown Applicant"})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Application ID:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:S.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:S.school?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Category:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:S.category?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Submitted:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:new Date(S.updated_at).toLocaleDateString()})]})]})]}),e.jsx("button",{onClick:()=>g(S),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Review Documents"})]})},S.id))}),o&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Document Verification - ",n.student?`${n.student.first_name} ${n.student.last_name}`:"Unknown Applicant"]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"SSC Review Stages (Parallel Process)"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"All stages can be reviewed simultaneously. Checkmarks indicate completed stages."})]}),e.jsx("div",{className:"p-4 space-y-3",children:Object.entries(_(n)).map(([S,N])=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[N.completed?e.jsx(jt,{className:"h-5 w-5 text-green-500"}):e.jsx(lr,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("span",{className:`font-medium ${N.completed?"text-green-700 dark:text-green-400":"text-gray-700 dark:text-gray-300"}`,children:N.label}),N.completed&&N.reviewedAt&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Completed on ",new Date(N.reviewedAt).toLocaleDateString()]})]})]}),N.completed&&e.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 px-2 py-1 rounded",children:" Approved"})]},S))})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Kt,{className:"h-5 w-5 mr-2"})," Uploaded Documents"]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.documents?.length||0," file",(n.documents?.length||0)===1?"":"s"]})]}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:!n.documents||n.documents.length===0?e.jsx("div",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:"No documents uploaded."}):n.documents.map((S,N)=>{const C=S?.documentType?.name||S?.document_type?.name||S?.original_name||S?.filename||`Document ${N+1}`,D=S?.file_url||S?.url||S?.download_url||S?.view_url||S?.file_path||"";return e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:C}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:S?.uploaded_at||S?.created_at?new Date(S.uploaded_at||S.created_at).toLocaleString():"Upload date unavailable"})]}),D?e.jsxs("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 text-sm bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx(ik,{className:"h-4 w-4 mr-2"})," View"]}):e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No file link"})]},S.id||N)})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Required Documents"}),e.jsx("div",{className:"space-y-3",children:[{key:"valid_id_verified",label:"Valid ID"},{key:"indigency_cert_verified",label:"Certificate of Indigency"},{key:"residency_proof_verified",label:"Proof of Residency"},{key:"academic_records_verified",label:"Academic Records"},{key:"other_docs_verified",label:"Other Required Documents"}].map(({key:S,label:N})=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c[S],onChange:C=>d(D=>({...D,[S]:C.target.checked})),className:"w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:N})]},S))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Compliance Issues (if any)"}),e.jsx("div",{className:"space-y-2",children:["Missing ID","Incomplete Documents","Invalid Residency Proof","Expired Documents"].map(S=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.compliance_issues.includes(S),onChange:()=>j(S),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:S})]},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-900 dark:text-white mb-2",children:"Verification Notes"}),e.jsx("textarea",{value:c.verification_notes,onChange:S=>d(N=>({...N,verification_notes:S.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500",placeholder:"Add any additional notes or observations..."})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700",children:"Cancel"}),e.jsxs("button",{onClick:w,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center space-x-2",children:[e.jsx(mr,{className:"h-4 w-4"}),e.jsx("span",{children:"Reject"})]}),e.jsxs("button",{onClick:v,className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 flex items-center space-x-2",children:[e.jsx(Qt,{className:"h-4 w-4"}),e.jsx("span",{children:"Request Compliance"})]}),e.jsxs("button",{onClick:x,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-2",children:[e.jsx(jt,{className:"h-4 w-4"}),e.jsx("span",{children:"Approve & Continue"})]})]})]})})]})}function Ixe(){const[t,r]=b.useState([]),[a,s]=b.useState(!0),[n,i]=b.useState(null),[o,l]=b.useState(!1),[c,d]=b.useState({income_verified:!1,budget_available:!1,recommended_amount:"",financial_assessment:""}),{success:u,error:f}=na(),p=N=>!N||!N.documents?[]:(Array.isArray(N.documents)?N.documents:[]).filter(D=>{const U=(D?.documentType?.name||D?.document_type?.name||D?.type||"").toString().toLowerCase();return U.includes("income")||U.includes("payslip")||U.includes("pay slip")||U.includes("certificate of indigency")||U.includes("financial")}),g=N=>N?.file_url||N?.url||N?.download_url||N?.view_url||N?.file_path||"",x=N=>{const C=N.ssc_stage_status||{};return{document_verification:{label:"Document Verification",completed:C.document_verification?.status==="approved",reviewedBy:C.document_verification?.reviewed_by,reviewedAt:C.document_verification?.reviewed_at,notes:C.document_verification?.notes},financial_review:{label:"Financial Review",completed:C.financial_review?.status==="approved",reviewedBy:C.financial_review?.reviewed_by,reviewedAt:C.financial_review?.reviewed_at,notes:C.financial_review?.notes},academic_review:{label:"Academic Review",completed:C.academic_review?.status==="approved",reviewedBy:C.academic_review?.reviewed_by,reviewedAt:C.academic_review?.reviewed_at,notes:C.academic_review?.notes},final_approval:{label:"Final Approval",completed:N.status==="approved"||N.status==="rejected",reviewedBy:N.approved_by||N.rejected_by,reviewedAt:N.approved_at||N.rejected_at,notes:N.notes}}};b.useEffect(()=>{v()},[]);const v=async()=>{try{s(!0);const{scholarshipApiService:N}=await Oa(async()=>{const{scholarshipApiService:D}=await Promise.resolve().then(()=>In);return{scholarshipApiService:D}},void 0),C=await N.getSscApplicationsByStage("financial_review");r(C.data||[])}catch(N){console.error("Error fetching applications:",N),f("Failed to load applications")}finally{s(!1)}},w=async N=>{i(N),l(!0),d({income_verified:!1,budget_available:!1,recommended_amount:N.requested_amount||"",financial_assessment:""})},j=async()=>{if(n){if(!c.income_verified||!c.budget_available){f("Please complete all verification checks");return}if(!c.recommended_amount){f("Please specify the recommended scholarship amount");return}try{const{scholarshipApiService:N}=await Oa(async()=>{const{scholarshipApiService:C}=await Promise.resolve().then(()=>In);return{scholarshipApiService:C}},void 0);await N.approveStage(n.id,"financial_review",c.financial_assessment,{...c,recommended_amount:parseFloat(c.recommended_amount)}),u("Financial review approved successfully"),l(!1),v()}catch(N){console.error("Error approving stage:",N);const C=N.response?.data?.error||N.message||"Failed to approve financial review stage",D=N.response?.data?.debug?` (Debug: ${JSON.stringify(N.response.data.debug)})`:"";f(`Failed to approve financial review: ${C}${D}`)}}},_=async()=>{if(n){if(!c.financial_assessment){f("Please provide rejection reason");return}if(confirm("Are you sure you want to reject this application due to financial constraints?"))try{const{scholarshipApiService:N}=await Oa(async()=>{const{scholarshipApiService:C}=await Promise.resolve().then(()=>In);return{scholarshipApiService:C}},void 0);await N.sscSubmitFinancialReview(n.id,{status:"rejected",review_data:c,review_notes:c.financial_assessment}),u("Financial review rejected"),l(!1),v()}catch(N){console.error("Error rejecting application:",N);const C=N.response?.data?.error||N.message||"Failed to reject application",D=N.response?.data?.debug?` (Debug: ${JSON.stringify(N.response.data.debug)})`:"";f(`Failed to reject financial review: ${C}${D}`)}}},S=N=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(N||0);return a?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Financial Review"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Assess financial eligibility and budget allocation"})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," application",t.length!==1?"s":""," pending financial review"]})]}),e.jsx("div",{className:"grid gap-4",children:t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsx(va,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No applications pending financial review"})]}):t.map(N=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Hr,{className:"h-5 w-5 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:N.student?`${N.student.first_name} ${N.student.last_name}`:"Unknown Applicant"})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Requested Amount:"}),e.jsx("span",{className:"ml-2 text-orange-600 dark:text-orange-400 font-semibold",children:S(N.requested_amount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:N.school?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Family Income:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:N.student?.financial_information?.family_monthly_income_range?N.student.financial_information.family_monthly_income_range:"Not provided"})]})]})]}),e.jsx("button",{onClick:()=>w(N),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Review Finances"})]})},N.id))}),o&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Financial Review - ",n.student?`${n.student.first_name} ${n.student.last_name}`:"Unknown Applicant"]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"SSC Review Stages (Parallel Process)"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"All stages can be reviewed simultaneously. Checkmarks indicate completed stages."})]}),e.jsx("div",{className:"p-4 space-y-3",children:Object.entries(x(n)).map(([N,C])=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[C.completed?e.jsx(jt,{className:"h-5 w-5 text-green-500"}):e.jsx(lr,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("span",{className:`font-medium ${C.completed?"text-green-700 dark:text-green-400":"text-gray-700 dark:text-gray-300"}`,children:C.label}),C.completed&&C.reviewedAt&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Completed on ",new Date(C.reviewedAt).toLocaleDateString()]})]})]}),C.completed&&e.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 px-2 py-1 rounded",children:" Approved"})]},N))})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(Hs,{className:"h-5 w-5 mr-2"}),"Financial Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Requested Amount:"}),e.jsx("p",{className:"text-lg font-semibold text-orange-600 dark:text-orange-400",children:S(n.requested_amount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Family Income:"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n.student?.financial_information?.family_monthly_income_range?n.student.financial_information.family_monthly_income_range:"Not provided"})]})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Kt,{className:"h-5 w-5 mr-2"}),"Income Certificates"]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[p(n).length||0," file",p(n).length===1?"":"s"]})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700",children:p(n).length===0?e.jsx("div",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:"No income-related documents uploaded."}):e.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:p(n).map((N,C)=>{const D=g(N),U=N?.documentType?.name||N?.document_type?.name||N?.original_name||N?.filename||`Document ${C+1}`;return e.jsxs("li",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:U}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:N?.uploaded_at||N?.created_at?new Date(N.uploaded_at||N.created_at).toLocaleString():"Upload date unavailable"})]}),D?e.jsxs("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 text-sm bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx(ik,{className:"h-4 w-4 mr-2"})," View"]}):e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No file link"})]},N.id||C)})})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Financial Verification"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.income_verified,onChange:N=>d(C=>({...C,income_verified:N.target.checked})),className:"w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Family income verified and documented"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.budget_available,onChange:N=>d(C=>({...C,budget_available:N.target.checked})),className:"w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Budget allocation available for this scholarship"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-900 dark:text-white mb-2",children:"Recommended Scholarship Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),e.jsx("input",{type:"number",value:c.recommended_amount,onChange:N=>d(C=>({...C,recommended_amount:N.target.value})),className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-900 dark:text-white mb-2",children:"Financial Assessment Notes"}),e.jsx("textarea",{value:c.financial_assessment,onChange:N=>d(C=>({...C,financial_assessment:N.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500",placeholder:"Provide financial analysis, budget impact, sustainability assessment..."})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700",children:"Cancel"}),e.jsxs("button",{onClick:_,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center space-x-2",children:[e.jsx(mr,{className:"h-4 w-4"}),e.jsx("span",{children:"Reject"})]}),e.jsxs("button",{onClick:j,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-2",children:[e.jsx(jt,{className:"h-4 w-4"}),e.jsx("span",{children:"Approve Stage"})]})]})]})})]})}function Oxe(){const[t,r]=b.useState([]),[a,s]=b.useState(!0),[n,i]=b.useState(null),[o,l]=b.useState(!1),[c,d]=b.useState({academic_standing_verified:!1,program_eligibility:!1,school_accreditation:!1,academic_assessment:""}),[u,f]=b.useState(!1),{success:p,error:g}=na();b.useEffect(()=>{x()},[]);const x=async()=>{try{s(!0);const{scholarshipApiService:C}=await Oa(async()=>{const{scholarshipApiService:U}=await Promise.resolve().then(()=>In);return{scholarshipApiService:U}},void 0),D=await C.getSscApplicationsByStage("academic_review");r(D.data||[])}catch(C){console.error("Error fetching applications:",C);const D=C.response?.data?.error||C.message||"Failed to load applications",U=C.response?.data?.debug?` (Debug: ${JSON.stringify(C.response.data.debug)})`:"";g(`Failed to load applications: ${D}${U}`)}finally{s(!1)}},v=C=>{i(C),l(!0),d({academic_standing_verified:!1,program_eligibility:!1,school_accreditation:!1,academic_assessment:""})},w=async()=>{if(n){if(!c.academic_standing_verified||!c.program_eligibility||!c.school_accreditation){g("Please complete all verification checks");return}try{const{scholarshipApiService:C}=await Oa(async()=>{const{scholarshipApiService:D}=await Promise.resolve().then(()=>In);return{scholarshipApiService:D}},void 0);await C.sscSubmitAcademicReview(n.id,{approved:!0,notes:c.academic_assessment}),p("Application approved and moved to final approval"),l(!1),x()}catch(C){console.error("Error approving application:",C);const D=C.response?.data?.error||C.message||"Failed to approve application",U=C.response?.data?.debug?` (Debug: ${JSON.stringify(C.response.data.debug)})`:"";g(`Failed to approve application: ${D}${U}`)}}},j=async()=>{if(n){if(!c.academic_assessment){g("Please provide rejection reason");return}if(confirm("Are you sure you want to reject this application based on academic criteria?"))try{const{scholarshipApiService:C}=await Oa(async()=>{const{scholarshipApiService:D}=await Promise.resolve().then(()=>In);return{scholarshipApiService:D}},void 0);await C.sscSubmitAcademicReview(n.id,{approved:!1,notes:c.academic_assessment}),p("Application rejected due to academic criteria"),l(!1),x()}catch(C){console.error("Error rejecting application:",C);const D=C.response?.data?.error||C.message||"Failed to reject application",U=C.response?.data?.debug?` (Debug: ${JSON.stringify(C.response.data.debug)})`:"";g(`Failed to reject application: ${D}${U}`)}}},_=C=>{const D=C.ssc_stage_status||{};return{document_verification:{label:"Document Verification",completed:D.document_verification?.status==="approved",reviewedAt:D.document_verification?.reviewed_at},financial_review:{label:"Financial Review",completed:D.financial_review?.status==="approved",reviewedAt:D.financial_review?.reviewed_at},academic_review:{label:"Academic Review",completed:D.academic_review?.status==="approved",reviewedAt:D.academic_review?.reviewed_at},final_approval:{label:"Final Approval",completed:C.status==="approved"||C.status==="rejected",reviewedAt:C.latest_ssc_decision?.created_at}}},S=C=>{if(!C.documents)return[];const D=["transcript","grade","gpa","academic","record","certificate","diploma","degree"];return C.documents.filter(U=>{const z=(U?.documentType?.name||U?.document_type?.name||U?.original_name||U?.filename||"").toLowerCase();return D.some(E=>z.includes(E))})},N=C=>C?.file_url||C?.url||C?.download_url||C?.view_url||C?.file_path||"";return a?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Academic Review"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Assess academic eligibility and merit"})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," application",t.length!==1?"s":""," pending academic review"]})]}),e.jsx("div",{className:"grid gap-4",children:t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsx(rn,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No applications pending academic review"})]}):t.map(C=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Hr,{className:"h-5 w-5 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:C.student?`${C.student.first_name} ${C.student.last_name}`:"Unknown Applicant"})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:C.school?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Program:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:C.student?.current_academic_record?.program||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"GWA:"}),e.jsx("span",{className:"ml-2 text-orange-600 dark:text-orange-400 font-semibold",children:C.student?.current_academic_record?.general_weighted_average||"N/A"})]})]})]}),e.jsx("button",{onClick:()=>v(C),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Review Academics"})]})},C.id))}),o&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Academic Review - ",n.student?`${n.student.first_name} ${n.student.last_name}`:"Unknown Applicant"]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"SSC Review Stages (Parallel Process)"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"All stages can be reviewed simultaneously. Checkmarks indicate completed stages."})]}),e.jsx("div",{className:"p-4 space-y-3",children:Object.entries(_(n)).map(([C,D])=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[D.completed?e.jsx(jt,{className:"h-5 w-5 text-green-500"}):e.jsx(lr,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("span",{className:`font-medium ${D.completed?"text-green-700 dark:text-green-400":"text-gray-700 dark:text-gray-300"}`,children:D.label}),D.completed&&D.reviewedAt&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Completed on ",new Date(D.reviewedAt).toLocaleDateString()]})]})]}),D.completed&&e.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 px-2 py-1 rounded",children:" Approved"})]},C))})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Kt,{className:"h-5 w-5 mr-2"})," Academic Documents"]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[S(n).length," file",S(n).length===1?"":"s"]})]}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:S(n).length===0?e.jsx("div",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:"No academic documents uploaded."}):S(n).map((C,D)=>{const U=C?.documentType?.name||C?.document_type?.name||C?.original_name||C?.filename||`Document ${D+1}`,z=N(C);return e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:U}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:C?.uploaded_at||C?.created_at?new Date(C.uploaded_at||C.created_at).toLocaleString():"Upload date unavailable"})]}),z?e.jsxs("a",{href:z,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 text-sm bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx(ik,{className:"h-4 w-4 mr-2"})," View"]}):e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No file link"})]},C.id||D)})})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(rn,{className:"h-5 w-5 mr-2"}),"Academic Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"General Weighted Average:"}),e.jsx("p",{className:"text-lg font-semibold text-orange-600 dark:text-orange-400",children:n.student?.current_academic_record?.general_weighted_average||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Year Level:"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n.student?.current_academic_record?.year_level||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Course/Program:"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:n.student?.current_academic_record?.program||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"School:"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:n.school?.name||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Academic Verification"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.academic_standing_verified,onChange:C=>d(D=>({...D,academic_standing_verified:C.target.checked})),className:"w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"GWA/Academic standing meets scholarship requirements"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.program_eligibility,onChange:C=>d(D=>({...D,program_eligibility:C.target.checked})),className:"w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Course/Program is eligible for this scholarship category"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c.school_accreditation,onChange:C=>d(D=>({...D,school_accreditation:C.target.checked})),className:"w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"School is accredited and recognized"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-900 dark:text-white mb-2",children:"Academic Assessment"}),e.jsx("textarea",{value:c.academic_assessment,onChange:C=>d(D=>({...D,academic_assessment:C.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500",placeholder:"Provide academic merit assessment, program alignment, potential for success..."})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>l(!1),disabled:u,className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsxs("button",{onClick:j,disabled:u,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(mr,{className:"h-4 w-4"}),e.jsx("span",{children:u?"Rejecting...":"Reject"})]}),e.jsxs("button",{onClick:w,disabled:u,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(jt,{className:"h-4 w-4"}),e.jsx("span",{children:u?"Approving...":"Approve Stage"})]})]})]})})]})}function Rxe(){const[t,r]=b.useState([]),[a,s]=b.useState(!0),[n,i]=b.useState(null),[o,l]=b.useState(!1),[c,d]=b.useState([]),[u,f]=b.useState({document:!0,financial:!0,academic:!0}),[p,g]=b.useState({decision:"",approved_amount:"",final_notes:""}),[x,v]=b.useState(!1),{success:w,error:j}=na();b.useEffect(()=>{_()},[]);const _=async()=>{try{s(!0);const{scholarshipApiService:E}=await Oa(async()=>{const{scholarshipApiService:T}=await Promise.resolve().then(()=>In);return{scholarshipApiService:T}},void 0),I=await E.getSscApplicationsByStage("final_approval");r(I.data||[])}catch(E){console.error("Error fetching applications:",E),j("Failed to load applications")}finally{s(!1)}},S=async E=>{i(E),l(!0);try{const{scholarshipApiService:T}=await Oa(async()=>{const{scholarshipApiService:Y}=await Promise.resolve().then(()=>In);return{scholarshipApiService:Y}},void 0),F=await T.getSscReviewHistory(E.id);d(F)}catch(T){console.error("Error fetching review history:",T)}const I=U(E);g({decision:"",approved_amount:I,final_notes:""})},N=async()=>{if(n){if(!p.approved_amount){j("Please confirm the approved scholarship amount");return}v(!0);try{const{scholarshipApiService:E}=await Oa(async()=>{const{scholarshipApiService:I}=await Promise.resolve().then(()=>In);return{scholarshipApiService:I}},void 0);await E.sscFinalApproval(n.id,{approved_amount:parseFloat(p.approved_amount),final_notes:p.final_notes});try{const{default:I}=await Oa(async()=>{const{default:T}=await import("./studentRegistrationService-DrpxjjaH.js");return{default:T}},[]);await I.autoRegisterFromSSCApproval(n),w("Application finally approved! Student registered in Student Registry.")}catch(I){console.error("Error auto-registering student:",I),w("Application finally approved! Moving to grants processing. (Note: Student registration failed - please register manually)")}l(!1),_()}catch(E){console.error("Error approving application:",E),j("Failed to approve application")}finally{v(!1)}}},C=async()=>{if(n){if(!p.final_notes){j("Please provide reason for final rejection");return}if(confirm("Are you sure you want to FINALLY REJECT this application? This is the final decision and cannot be undone.")){v(!0);try{const{scholarshipApiService:E}=await Oa(async()=>{const{scholarshipApiService:I}=await Promise.resolve().then(()=>In);return{scholarshipApiService:I}},void 0);await E.sscFinalRejection(n.id,{rejection_reason:p.final_notes}),w("Application finally rejected"),l(!1),_()}catch(E){console.error("Error rejecting application:",E),j("Failed to reject application")}finally{v(!1)}}}},D=E=>{f(I=>({...I,[E]:!I[E]}))},U=E=>{console.log("Getting recommended amount for application:",E.id),console.log("Application ssc_stage_status:",E.ssc_stage_status),console.log("Application ssc_reviews:",E.ssc_reviews);const T=(E.ssc_stage_status||{}).financial_review;if(T&&T.review_data){console.log("Found financial review in stage_status:",T);const F=typeof T.review_data=="string"?JSON.parse(T.review_data):T.review_data;if(console.log("Parsed review_data:",F),F&&F.recommended_amount)return console.log("Found recommended_amount in stage_status:",F.recommended_amount),F.recommended_amount.toString()}if(E.ssc_reviews){const F=E.ssc_reviews.find(Y=>Y.review_stage==="financial_review"&&Y.status==="approved");if(console.log("Found financial review record:",F),F&&F.review_data){const Y=typeof F.review_data=="string"?JSON.parse(F.review_data):F.review_data;if(console.log("Parsed review_data from ssc_reviews:",Y),Y&&Y.recommended_amount)return console.log("Found recommended_amount in ssc_reviews:",Y.recommended_amount),Y.recommended_amount.toString()}}return console.log("Using fallback requested_amount:",E.requested_amount),E.requested_amount?E.requested_amount.toString():""},z=E=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(E||0);return a?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ns,{className:"h-7 w-7 mr-2 text-orange-500"}),"Final Approval (Chairperson)"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Review all previous assessments and make final decision"})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," application",t.length!==1?"s":""," pending final approval"]})]}),e.jsx("div",{className:"grid gap-4",children:t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsx(Ns,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No applications pending final approval"})]}):t.map(E=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border-2 border-orange-200 dark:border-orange-900/50 p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Hr,{className:"h-5 w-5 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:E.student?`${E.student.first_name} ${E.student.last_name}`:"Unknown Applicant"}),e.jsx("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-400 text-xs font-semibold rounded",children:"READY FOR FINAL DECISION"})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Application ID:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:E.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:E.school?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"All Reviews:"}),e.jsx("span",{className:"ml-2 text-green-600 dark:text-green-400 font-semibold",children:" Completed"})]})]})]}),e.jsx("button",{onClick:()=>S(E),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-semibold",children:"Make Final Decision"})]})},E.id))}),o&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ns,{className:"h-6 w-6 mr-2 text-orange-500"}),"Final Decision - ",n.student?`${n.student.first_name} ${n.student.last_name}`:"Unknown Applicant"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Review all previous assessments before making your final decision"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Application Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Requested Amount:"}),e.jsx("p",{className:"text-lg font-semibold text-orange-600 dark:text-orange-400",children:z(n.requested_amount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recommended Amount:"}),e.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:z(n.approved_amount||n.requested_amount)})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(lr,{className:"h-5 w-5 mr-2"}),"Complete Review History"]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("button",{onClick:()=>D("document"),className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Document Verification"}),e.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:" Approved"})]}),u.document?e.jsx(wd,{className:"h-5 w-5"}):e.jsx(zi,{className:"h-5 w-5"})]}),u.document&&e.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-700/50",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"All documents verified and approved for processing."}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Reviewed by: Document Verification Team"})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("button",{onClick:()=>D("financial"),className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Financial Review"}),e.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:" Approved"})]}),u.financial?e.jsx(wd,{className:"h-5 w-5"}):e.jsx(zi,{className:"h-5 w-5"})]}),u.financial&&e.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-700/50",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Financial eligibility verified, budget allocation confirmed."}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Reviewed by: Financial Review Team"})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("button",{onClick:()=>D("academic"),className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Academic Review"}),e.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:" Approved"})]}),u.academic?e.jsx(wd,{className:"h-5 w-5"}):e.jsx(zi,{className:"h-5 w-5"})]}),u.academic&&e.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-700/50",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Academic eligibility confirmed, meets scholarship criteria."}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Reviewed by: Academic Review Team"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Chairperson's Final Decision"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block font-medium text-gray-900 dark:text-white mb-2",children:["Final Approved Amount ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),e.jsx("input",{type:"number",value:p.approved_amount,readOnly:!0,className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-100 dark:bg-slate-600 text-gray-900 dark:text-white cursor-not-allowed",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium text-gray-900 dark:text-white mb-2",children:"Chairperson's Notes/Remarks"}),e.jsx("textarea",{value:p.final_notes,onChange:E=>g(I=>({...I,final_notes:E.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500",placeholder:"Add any final remarks, conditions, or special instructions..."})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end space-x-3 bg-gray-50 dark:bg-slate-700/50",children:[e.jsx("button",{onClick:()=>l(!1),disabled:x,className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsxs("button",{onClick:C,disabled:x,className:"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center space-x-2 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[x?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsx(mr,{className:"h-5 w-5"}),e.jsx("span",{children:x?"REJECTING...":"FINAL REJECT"})]}),e.jsxs("button",{onClick:N,disabled:x,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-2 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[x?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsx(jt,{className:"h-5 w-5"}),e.jsx("span",{children:x?"APPROVING...":"FINAL APPROVE"})]})]})]})})]})}function Lxe(){const[t,r]=b.useState("overview"),[a,s]=b.useState([]),[n,i]=b.useState(!0),[o,l]=b.useState(null),c=[{id:"overview",label:"Overview",component:f7},{id:"my-queue",label:"My Queue",component:Cxe},{id:"document-verification",label:"Document Verification",component:Dxe},{id:"financial-review",label:"Financial Review",component:Ixe},{id:"academic-review",label:"Academic Review",component:Oxe},{id:"final-approval",label:"Final Approval",component:Rxe},{id:"history",label:"Decision History",component:Exe},{id:"applications",label:"All Applications",component:Pxe},{id:"members",label:"SSC Members",component:Txe}];b.useEffect(()=>{(async()=>{try{i(!0);let p=!1;try{const j=localStorage.getItem("user_data");if(j){const _=JSON.parse(j);p=_.role==="admin"||_.role==="super_admin"||_.is_admin}}catch(j){console.error("Error parsing user data:",j)}const g=await py.fetchUserRoles(!0);console.log("SSCManagement - User Roles:",g),l(g);const x=await py.getAllowedTabs();console.log("SSCManagement - Allowed Tabs:",x),s(p?[...x,"members","overview","applications","history"]:x);const v=await py.getPrimaryTab();console.log("SSCManagement - Primary Tab:",v);const w=p?[...x,"members","overview","applications","history"]:x;w.includes(v)?r(v):w.length>0&&r(w[0])}catch(p){console.error("Error fetching SSC roles:",p),s(["overview","members"]),r("overview")}finally{i(!1)}})()},[]);const d=c.filter(f=>a.includes(f.id)),u=d.find(f=>f.id===t)?.component||f7;return n?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"SSC Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Loading your SSC role information..."})]}),e.jsx(n4,{variant:"module",module:"ssc",message:"Loading SSC management..."})]}):e.jsxs(jv,{variant:"page",className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"SSC Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:(console.log("SSCManagement - Header Logic:",{is_chairperson:o?.is_chairperson,role_labels:o?.role_labels,userRoles:o}),o?.is_chairperson?"SSC Chairperson - Final Approval & Decision Management":o?.role_labels?.join(", ")||"Scholarship Screening Committee - Application Review")})]}),e.jsx(u9,{tabs:d,activeTab:t,onTabChange:r,layoutId:"activeSscTab",variant:"default"}),e.jsx(h9,{activeTab:t,children:e.jsx(u,{})})]})}function Mxe({onPageChange:t,lastUpdated:r=null,onTabChange:a}){const[s,n]=b.useState(!0),[i,o]=b.useState(null),[l,c]=b.useState([]),[d,u]=b.useState([]),[f,p]=b.useState(null),[g,x]=b.useState([]),v=()=>{const E=new Date().getFullYear(),I=E+1;return`${E}-${I}`},[w,j]=b.useState(v()),_=async()=>{try{const E=await Xn.getAvailableSchoolYears();if(x(E),E.length>0){const I=v();E.includes(w)||(E.includes(I)?j(I):j(E[0]))}else{const I=v();x([I]),j(I)}}catch(E){console.error("Error fetching school years:",E);const I=v();x([I]),j(I)}},S=async()=>{try{n(!0),p(null);const[E,I]=await Promise.all([Xn.getMetrics({school_year:w}),Xn.getAnalyticsData("payments","6m")]);if(o(E),I&&I.dailyDisbursements&&I.dailyDisbursements.length>0){const F=I.dailyDisbursements.slice(-30).map(Y=>({name:Y.date?new Date(Y.date).toLocaleDateString("en-PH",{month:"short",day:"numeric"}):"Unknown",amount:parseFloat(Y.amount)||0}));c(F)}else if(I&&I.labels&&I.datasets&&I.datasets[0]){const T=I.labels.map((F,Y)=>({name:F,amount:parseFloat(I.datasets[0].data[Y])||0}));c(T)}else c([]);if(I&&I.categoryDistribution&&I.categoryDistribution.length>0){const T=I.categoryDistribution.reduce((Y,O)=>Y+(O.value||0),0),F=I.categoryDistribution.map(Y=>({name:Y.name||"Other",value:T>0?Math.round(Y.value/T*100):0,color:Y.color||"#3b82f6"}));u(F)}else u([])}catch(E){console.error("Error fetching SAD metrics:",E),p("Failed to load metrics. Please try again."),o({need_processing:0,need_disbursing:0,disbursed_count:0,total_disbursed:0,total_budget:0,remaining_budget:0,utilization_rate:0,budgets:{scholarship_benefits:{total_budget:0,disbursed:0,remaining:0,utilization_rate:0}}}),c([]),u([])}finally{n(!1)}};b.useEffect(()=>{_()},[]),b.useEffect(()=>{(g.length>0||w)&&S()},[w]),b.useEffect(()=>{r&&S()},[r]);const N=[{id:"need_processing",title:"Need Processing",value:i?.need_processing?.toLocaleString()||"0",icon:lr,color:"bg-amber-500",textColor:"text-amber-600",description:"Approved applications awaiting grant processing",targetTab:"applications"}],D=(()=>{if(!i?.budgets)return[];const E={scholarship_benefits:{title:"Scholarship Budget",icon:Kt,color:"bg-indigo-500",textColor:"text-indigo-600",description:"Budget for merit, special, and renewal scholarship programs"},financial_support:{title:"Financial Support Budget",icon:Sp,color:"bg-emerald-500",textColor:"text-emerald-600",description:"Budget for need-based financial support programs"}},I=[];return Object.keys(i.budgets).forEach(T=>{const F=i.budgets[T],Y=E[T];F&&F.total_budget>0&&Y&&I.push({id:T,title:Y.title,totalBudget:F.total_budget||0,disbursed:F.disbursed||0,remaining:F.remaining||0,utilizationRate:F.utilization_rate||0,icon:Y.icon,color:Y.color,textColor:Y.textColor,description:Y.description})}),I})(),U=d.length>0?d:[],z=async()=>{try{await LN.generatePDFReport("disbursements",{overview:{disbursedAmount:i?.total_disbursed||0,disbursedCount:i?.disbursed_count||0,totalApplications:i?.need_processing+i?.need_disbursing+i?.disbursed_count}})}catch(E){console.error("Error generating report:",E)}};return s?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(za,{className:"w-8 h-8 text-blue-500 animate-spin"}),e.jsx("span",{className:"ml-3 text-slate-600 dark:text-slate-400 font-medium",children:"Loading Overview..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center",children:[e.jsx(Sp,{className:"w-8 h-8 text-blue-600 mr-3"}),"Aid Distribution Overview"]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Real-time summary of grant processing and fund disbursements"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:[e.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400 mr-2",children:"School Year:"}),e.jsx("select",{value:w,onChange:E=>j(E.target.value),className:"bg-transparent border-none text-sm font-medium text-slate-700 dark:text-slate-300 focus:outline-none focus:ring-0 cursor-pointer",disabled:g.length===0,children:g.length>0?g.map(E=>e.jsx("option",{value:E,children:E},E)):e.jsx("option",{value:w,children:w})})]}),e.jsxs("button",{onClick:z,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-sm font-medium text-sm",children:[e.jsx(eg,{className:"w-4 h-4 mr-2"}),"Generate Disbursement Report"]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm flex items-center",children:[e.jsx(Rr,{className:"w-4 h-4 text-slate-500 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:new Date().toLocaleDateString("en-PH",{month:"long",year:"numeric"})})]})]})]}),f&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-4 rounded-xl flex items-center text-red-700 dark:text-red-400",children:[e.jsx(Qt,{className:"w-5 h-5 mr-3"}),f]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:N.map((E,I)=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all group cursor-pointer",onClick:()=>{E.id==="need_processing"&&a?a("applications"):t&&t(E.targetTab||"applications")},children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:`${E.color} p-3 rounded-xl shadow-sm text-white transform group-hover:scale-110 transition-transform`,children:e.jsx(E.icon,{className:"w-6 h-6"})}),e.jsx("div",{className:"flex items-center text-slate-400 group-hover:text-blue-500 transition-colors",onClick:T=>{T.stopPropagation(),E.id==="need_processing"&&a?a("applications"):t&&t(E.targetTab||"applications")},children:e.jsx(Zp,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:E.title}),e.jsx("h3",{className:"text-3xl font-extrabold text-slate-800 dark:text-white mt-1",children:E.value}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-2 line-clamp-2",children:E.description})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between",children:[e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${E.color} bg-opacity-10 ${E.textColor}`,children:E.id==="need_processing"?"Awaiting Action":E.id==="need_disbursing"?"In Progress":"Completed"}),e.jsx("span",{className:"text-[10px] text-slate-400",children:"Updated just now"})]})]},I))}),D.length>0&&e.jsx("div",{className:"grid grid-cols-1 gap-6 mt-6",children:D.map((E,I)=>{const T=E.icon,F=E.totalBudget>0?E.remaining/E.totalBudget*100:0;return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`${E.color} p-3 rounded-xl shadow-sm text-white`,children:e.jsx(T,{className:"w-6 h-6"})}),e.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${E.color} bg-opacity-10 ${E.textColor}`,children:[E.utilizationRate.toFixed(1),"% Used"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-1",children:E.title}),e.jsxs("h3",{className:"text-2xl font-extrabold text-slate-800 dark:text-white",children:["",E.totalBudget.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:E.description})]}),e.jsxs("div",{className:"space-y-3 mt-4 pt-4 border-t border-slate-100 dark:border-slate-700",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Total Budget"}),e.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:["",E.totalBudget.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Disbursed"}),e.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400",children:["",E.disbursed.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Remaining"}),e.jsxs("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:["",E.remaining.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:`${E.color} h-2 rounded-full transition-all duration-300`,style:{width:`${F}%`}})}),e.jsxs("div",{className:"flex justify-between items-center mt-1 text-xs text-slate-500 dark:text-slate-400",children:[e.jsxs("span",{children:["Remaining: ",F.toFixed(1),"%"]}),e.jsxs("span",{children:["Used: ",E.utilizationRate.toFixed(1),"%"]})]})]})]})]},I)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center",children:[e.jsx(Hs,{className:"w-5 h-5 text-blue-500 mr-2"}),"Disbursement Trends"]}),e.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase",children:"Last 6 Months"})]}),e.jsx("div",{className:"h-[300px]",children:l.length>0?e.jsx(Ru,{width:"100%",height:"100%",children:e.jsxs(vb,{data:l,children:[e.jsx(pp,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),e.jsx(oh,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12},dy:10,angle:-45,textAnchor:"end",height:60}),e.jsx(_m,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12},tickFormatter:E=>E>=1e6?`${(E/1e6).toFixed(1)}M`:E>=1e3?`${(E/1e3).toFixed(0)}k`:`${E}`}),e.jsx(Ou,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",backgroundColor:"#fff"},formatter:E=>[`${Number(E).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,"Disbursed"]}),e.jsx(Um,{dataKey:"amount",fill:"#3b82f6",radius:[4,4,0,0],barSize:l.length>30?20:40})]})}):e.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Hs,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No disbursement trends data available"})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center",children:[e.jsx(Kt,{className:"w-5 h-5 text-purple-500 mr-2"}),"Aid Type Distribution"]})}),e.jsx("div",{className:"h-[300px] flex items-center justify-center",children:U.length>0?e.jsx(Ru,{width:"100%",height:"100%",children:e.jsxs(RN,{children:[e.jsx(fb,{data:U,cx:"50%",cy:"50%",innerRadius:70,outerRadius:100,paddingAngle:5,dataKey:"value",children:U.map((E,I)=>e.jsx(bh,{fill:E.color},`cell-${I}`))}),e.jsx(Ou,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},formatter:E=>`${E}%`}),e.jsx(Om,{verticalAlign:"bottom",align:"center",layout:"horizontal",iconType:"circle"})]})}):e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(Kt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No category data available"})]})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700 mt-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Distribution Lifecycle"})}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-slate-100 dark:bg-slate-700 -translate-y-1/2 hidden md:block"}),[{label:"Approved",count:i?.need_processing,icon:vy,color:"text-blue-500",bg:"bg-blue-50"},{label:"Processing",count:i?.need_disbursing,icon:za,iconClass:"animate-spin-slow",color:"text-amber-500",bg:"bg-amber-50"},{label:"Disbursed",count:i?.disbursed_count,icon:vy,color:"text-emerald-500",bg:"bg-emerald-50"}].map((E,I)=>e.jsxs("div",{className:"flex flex-col items-center relative z-10 bg-white dark:bg-slate-800 px-4",children:[e.jsx("div",{className:`w-12 h-12 ${E.bg} dark:bg-slate-700 rounded-full flex items-center justify-center mb-3 border-2 border-white dark:border-slate-800 shadow-sm`,children:e.jsx(E.icon,{className:`w-6 h-6 ${E.color} ${E.iconClass||""}`})}),e.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:E.label}),e.jsxs("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 mt-1",children:[E.count||0," Accounts"]})]},I))]})]})]})}const Fxe=({submodule:t,activeSubmodule:r,selectedApplications:a,setSelectedApplications:s,setModalState:n,onProcessPayment:i,onProcessGrant:o,onBatchProcessPayments:l,onApproveApplication:c,onRejectApplication:d,lastUpdated:u})=>{const[f,p]=b.useState([]),[g,x]=b.useState([]),[v,w]=b.useState(!0),[j,_]=b.useState(null),[S,N]=b.useState(""),[C,D]=b.useState("all"),[U,z]=b.useState("all"),[E,I]=b.useState([]),[T,F]=b.useState("table");b.useEffect(()=>{Y()},[r,u]),b.useEffect(()=>{O()},[f,S,C]);const Y=async()=>{w(!0);try{const ce={status:t.statusFilter?.[0],submodule:r},we=await Xn.getApplications(ce);p(we)}catch(ce){console.error("Error fetching applications:",ce)}finally{w(!1)}},O=()=>{let ce=f;S&&(ce=ce.filter(we=>we.studentName.toLowerCase().includes(S.toLowerCase())||we.studentId.toLowerCase().includes(S.toLowerCase())||we.school.toLowerCase().includes(S.toLowerCase()))),C!=="all"&&(ce=ce.filter(we=>we.status===C)),U!=="all"&&(ce=ce.filter(we=>we.schoolYear===U)),x(ce)},q=ce=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(ce),$=ce=>new Date(ce).toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric"}),K=ce=>({submitted:"bg-gray-100 text-gray-800",under_review:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",pending_disbursement:"bg-orange-100 text-orange-800",grants_processing:"bg-purple-100 text-purple-800",grants_disbursed:"bg-green-100 text-green-800",disbursed:"bg-green-100 text-green-800",received:"bg-green-100 text-green-800",payment_failed:"bg-red-100 text-red-800",rejected:"bg-red-100 text-red-800"})[ce],J=ce=>{a.includes(ce)?s(a.filter(we=>we!==ce)):s([...a,ce])},X=()=>{a.length===g.length?s([]):s(g.map(ce=>ce.id))},be=ce=>{n({isOpen:!0,application:ce,mode:"view"})},te=async ce=>{if(!(j===ce.id||j!==null)&&o)try{_(ce.id),await o(ce),await Y()}catch(we){console.error("Error processing grant:",we),_(null)}finally{setTimeout(()=>{_(null)},2e3)}},R=async ce=>{if(c)try{await c(ce.id),Y()}catch(we){console.error("Error approving application:",we)}},ae=async ce=>{const we=prompt("Please provide a reason for rejection:");if(we&&d)try{await d(ce.id,we),Y()}catch(je){console.error("Error rejecting application:",je)}},W=async()=>{if(a.length===0){alert("Please select applications to process");return}if(confirm(`Process payments for ${a.length} applications?`)&&l)try{await l(a),s([]),Y()}catch(ce){console.error("Error batch processing payments:",ce)}},pe=ce=>{const we=[];if(we.push(e.jsxs("button",{onClick:()=>be(ce),className:"flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:[e.jsx(Or,{className:"w-4 h-4"}),"View"]},"view")),ce.status==="approved"){const je=j===ce.id;we.push(e.jsx("button",{onClick:()=>te(ce),disabled:je||!!j,className:`flex items-center gap-1 px-3 py-1 text-sm rounded transition-colors ${je||j?"bg-purple-50 text-purple-400 cursor-not-allowed":"bg-purple-100 text-purple-700 hover:bg-purple-200"}`,children:je?e.jsxs(e.Fragment,{children:[e.jsx(za,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(oz,{className:"w-4 h-4"}),"Process Grant"]})},"process-grant"))}switch(r){case"under_review":we.push(e.jsxs("button",{onClick:()=>R(ce),className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",children:[e.jsx(jt,{className:"w-4 h-4"}),"Approve"]},"approve"),e.jsxs("button",{onClick:()=>ae(ce),className:"flex items-center gap-1 px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:[e.jsx(mr,{className:"w-4 h-4"}),"Reject"]},"reject"));break;case"processing":we.push(e.jsxs("button",{onClick:()=>{},className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",children:[e.jsx(jt,{className:"w-4 h-4"}),"Complete"]},"complete"));break;case"failed":we.push(e.jsxs("button",{onClick:()=>{},className:"flex items-center gap-1 px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded hover:bg-orange-200 transition-colors",children:[e.jsx(Qt,{className:"w-4 h-4"}),"Retry"]},"retry"));break}return we};return v?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:space-y-0 lg:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-slate-400 w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("input",{type:"text",placeholder:"Search by student name, ID, or school...",value:S,onChange:ce=>N(ce.target.value),className:"w-full pl-9 sm:pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent text-sm sm:text-base bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-slate-400"})]})}),e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:gap-3 lg:gap-4",children:[e.jsxs("select",{value:C,onChange:ce=>D(ce.target.value),className:"w-full sm:w-auto px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent text-sm sm:text-base bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"submitted",children:"Submitted"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"grants_processing",children:"Processing"}),e.jsx("option",{value:"grants_disbursed",children:"Disbursed"}),e.jsx("option",{value:"payment_failed",children:"Failed"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsxs("select",{value:U,onChange:ce=>z(ce.target.value),className:"w-full sm:w-auto px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent text-sm sm:text-base bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All School Years"}),E.map(ce=>e.jsx("option",{value:ce,children:ce},ce))]}),e.jsxs("div",{className:"flex border border-gray-300 dark:border-slate-600 rounded-lg",children:[e.jsx("button",{onClick:()=>F("table"),className:`px-3 py-2 text-xs sm:text-sm font-medium rounded-l-lg transition-colors ${T==="table"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 border-r border-gray-300 dark:border-slate-600":"text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300"}`,children:"Table"}),e.jsx("button",{onClick:()=>F("grid"),className:`px-3 py-2 text-xs sm:text-sm font-medium rounded-r-lg transition-colors ${T==="grid"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300"}`,children:"Grid"})]})]})]})}),e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-slate-400",children:["Showing ",g.length," of ",f.length," applications",a.length>0&&e.jsxs("span",{className:"ml-2 font-medium text-blue-600 dark:text-blue-400",children:["(",a.length," selected)"]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:gap-2",children:[e.jsxs("button",{className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors text-gray-700 dark:text-slate-300",children:[e.jsx(Ra,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Export"}),e.jsx("span",{className:"sm:hidden",children:"Export"})]}),r==="approved"&&a.length>0&&e.jsxs("button",{onClick:W,className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(va,{className:"w-4 h-4"}),e.jsxs("span",{className:"hidden sm:inline",children:["Process Selected (",a.length,")"]}),e.jsxs("span",{className:"sm:hidden",children:["Process (",a.length,")"]})]})]})]}),T==="table"?e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:a.length===g.length&&g.length>0,onChange:X,className:"rounded border-gray-300 dark:border-slate-600 text-blue-600 dark:text-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-slate-700"})}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"Student"}),e.jsx("span",{className:"sm:hidden",children:"STUDENT"})]}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"Amount"}),e.jsx("span",{className:"sm:hidden",children:"AMOUNT"})]}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"Status"}),e.jsx("span",{className:"sm:hidden",children:"STATUS"})]}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"Date"}),e.jsx("span",{className:"sm:hidden",children:"DATE"})]}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"School Year"}),e.jsx("span",{className:"sm:hidden",children:"SY"})]}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"Actions"}),e.jsx("span",{className:"sm:hidden",children:"ACTIONS"})]})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:g.map(ce=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:a.includes(ce.id),onChange:()=>J(ce.id),className:"rounded border-gray-300 dark:border-slate-600 text-blue-600 dark:text-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-slate-700"})}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8 sm:h-10 sm:w-10",children:e.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Hr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})})}),e.jsxs("div",{className:"ml-2 sm:ml-4 min-w-0",children:[e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:ce.studentName}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 truncate",children:ce.studentId})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:q(ce.amount)})}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex px-1.5 sm:px-2 py-0.5 sm:py-1 text-xs font-semibold rounded-full ${K(ce.status)}`,children:[e.jsx("span",{className:"hidden sm:inline",children:ce.status.replace("_"," ").toUpperCase()}),e.jsx("span",{className:"sm:hidden",children:ce.status.replace("_"," ").charAt(0).toUpperCase()})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[e.jsx(Rr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:$(ce.approvalDate||ce.submittedDate)})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-xs sm:text-sm text-gray-900 dark:text-slate-200",children:ce.schoolYear||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[pe(ce),e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx(KU,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})})]},ce.id))})]})})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:g.map(ce=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:a.includes(ce.id),onChange:()=>J(ce.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("div",{className:"flex gap-1",children:pe(ce)})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate",children:ce.studentName}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:ce.studentId})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:q(ce.amount)}),e.jsx("span",{className:`inline-flex px-1.5 sm:px-2 py-0.5 sm:py-1 text-xs font-semibold rounded-full ${K(ce.status)}`,children:ce.status.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[e.jsx(Rr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:$(ce.approvalDate||ce.submittedDate)})]}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-slate-300",children:"SY: "}),e.jsx("span",{className:"truncate",children:ce.schoolYear||"N/A"})]})]})]},ce.id))}),g.length===0&&e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx("div",{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400",children:e.jsx(Kt,{className:"w-10 h-10 sm:w-12 sm:h-12"})}),e.jsx("h3",{className:"mt-2 text-sm sm:text-base font-medium text-gray-900",children:"No applications found"}),e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:S||C!=="all"?"Try adjusting your search criteria.":"No applications match the current submodule filter."})]})]})},$xe=()=>{const[t,r]=b.useState([]),[a,s]=b.useState(!0),[n,i]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState(null),[u,f]=b.useState(null),[p,g]=b.useState(!1),[x,v]=b.useState({budget_type:"scholarship_benefits",school_year:"",total_budget:0,description:""}),[w,j]=b.useState(""),[_,S]=b.useState(!1),N=()=>{const q=new Date().getFullYear(),$=q+1;return`${q}-${$}`};b.useEffect(()=>{C()},[]);const C=async()=>{try{s(!0),l(null);const q=await Xn.getBudgets();r(q)}catch(q){l(q.message||"Failed to fetch budgets"),console.error("Error fetching budgets:",q)}finally{s(!1)}},D=()=>{v({budget_type:"scholarship_benefits",school_year:N(),total_budget:0,description:""}),j(""),S(!1),g(!0),f(null)},U=q=>{const $=!["financial_support","scholarship_benefits"].includes(q.budget_type);v({budget_type:$?"other":q.budget_type,school_year:q.school_year,total_budget:q.total_budget,description:q.description||""}),j($?q.budget_type:""),S($),f(q),g(!0)},z=()=>{g(!1),f(null),v({budget_type:"scholarship_benefits",school_year:N(),total_budget:0,description:""}),j(""),S(!1),l(null),d(null)},E=async q=>{q.preventDefault();const $=x.budget_type==="other"?w.trim():x.budget_type;if(!$||!x.school_year||!x.total_budget){l("Please fill in all required fields");return}if(x.total_budget<=0){l("Total budget must be greater than 0");return}if(x.budget_type==="other"&&!w.trim()){l("Please enter a custom budget type");return}try{i(!0),l(null),d(null),await Xn.createOrUpdateBudget({budget_type:$,school_year:x.school_year,total_budget:x.total_budget,description:x.description}),d(u?"Budget updated successfully!":"Budget created successfully!"),g(!1),f(null),v({budget_type:"scholarship_benefits",school_year:N(),total_budget:0,description:""}),await C(),setTimeout(()=>d(null),3e3)}catch(K){l(K.message||"Failed to save budget"),console.error("Error saving budget:",K)}finally{i(!1)}},I=q=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(q),T=q=>({financial_support:"Financial Support",scholarship_benefits:"Scholarship Benefits"})[q]||q.replace(/_/g," ").replace(/\b\w/g,K=>K.toUpperCase()),F=q=>({financial_support:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",scholarship_benefits:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"})[q]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",Y=t.reduce((q,$)=>(q[$.school_year]||(q[$.school_year]=[]),q[$.school_year].push($),q),{}),O=Object.keys(Y).sort().reverse();return a?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(za,{className:"w-8 h-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600 dark:text-slate-400",children:"Loading budgets..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Budget Management"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mt-1",children:"Set and manage budgets per school year. Choose from predefined types or create custom budget types."})]}),e.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(gi,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Budget"})]})]}),c&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsx(vy,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:c})]}),o&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[e.jsx(Qt,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),e.jsx("span",{className:"text-sm text-red-800 dark:text-red-200",children:o})]}),p&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:u?"Edit Budget":"Add New Budget"}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Budget Type *"}),e.jsxs("select",{value:x.budget_type,onChange:q=>{const $=q.target.value;v({...x,budget_type:$}),S($==="other"),$!=="other"&&j("")},className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",required:!0,children:[e.jsx("option",{value:"scholarship_benefits",children:"Scholarship Benefits"}),e.jsx("option",{value:"financial_support",children:"Financial Support"}),e.jsx("option",{value:"other",children:"Other (Custom)"})]}),_&&e.jsx("input",{type:"text",value:w,onChange:q=>j(q.target.value),placeholder:"Enter custom budget type",className:"w-full mt-2 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",required:_})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"School Year *"}),e.jsx("input",{type:"text",value:x.school_year,onChange:q=>v({...x,school_year:q.target.value}),placeholder:"2026-2027",pattern:"\\d{4}-\\d{4}",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Format: YYYY-YYYY"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Total Budget () *"}),e.jsx("input",{type:"number",value:x.total_budget,onChange:q=>v({...x,total_budget:parseFloat(q.target.value)||0}),min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Description"}),e.jsx("textarea",{value:x.description,onChange:q=>v({...x,description:q.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Optional description for this budget allocation"})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx("button",{type:"submit",disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsxs(e.Fragment,{children:[e.jsx(za,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(tg,{className:"w-4 h-4"}),e.jsx("span",{children:u?"Update Budget":"Create Budget"})]})}),e.jsxs("button",{type:"button",onClick:z,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-gray-200 dark:bg-slate-700 hover:bg-gray-300 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-300 rounded-lg transition-colors",children:[e.jsx(dr,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancel"})]})]})]})]}),t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsx(va,{className:"w-12 h-12 text-gray-400 dark:text-slate-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"No budgets configured yet"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-1",children:'Click "Add Budget" to create your first budget allocation'})]}):e.jsx("div",{className:"space-y-6",children:O.map(q=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-slate-700/50 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rr,{className:"w-5 h-5 text-gray-600 dark:text-slate-400"}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["School Year ",q]})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Y[q].map($=>e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{children:e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${F($.budget_type)}`,children:T($.budget_type)})}),e.jsx("button",{onClick:()=>U($),className:"p-1 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Edit budget",children:e.jsx(ko,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Total Budget"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:I($.total_budget)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Disbursed"}),e.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:I($.disbursed_budget)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Remaining"}),e.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:I($.remaining_budget)})]})]}),$.description&&e.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 mt-2 pt-2 border-t border-gray-200 dark:border-slate-700",children:$.description}),e.jsxs("div",{className:"pt-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:"Utilization"}),e.jsxs("span",{className:"font-medium text-gray-700 dark:text-slate-300",children:[$.total_budget>0?($.disbursed_budget/$.total_budget*100).toFixed(1):0,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${Math.min($.disbursed_budget/$.total_budget*100,100)}%`}})})]})]})]},$.id))})})]},q))})]})};var gy={exports:{}},Bxe=gy.exports,p7;function Uxe(){return p7||(p7=1,(function(t,r){(function(a,s){t.exports=s()})(Bxe,(function(){var a=1e3,s=6e4,n=36e5,i="millisecond",o="second",l="minute",c="hour",d="day",u="week",f="month",p="quarter",g="year",x="date",v="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var q=["th","st","nd","rd"],$=O%100;return"["+O+(q[($-20)%10]||q[$]||q[0])+"]"}},S=function(O,q,$){var K=String(O);return!K||K.length>=q?O:""+Array(q+1-K.length).join($)+O},N={s:S,z:function(O){var q=-O.utcOffset(),$=Math.abs(q),K=Math.floor($/60),J=$%60;return(q<=0?"+":"-")+S(K,2,"0")+":"+S(J,2,"0")},m:function O(q,$){if(q.date()<$.date())return-O($,q);var K=12*($.year()-q.year())+($.month()-q.month()),J=q.clone().add(K,f),X=$-J<0,be=q.clone().add(K+(X?-1:1),f);return+(-(K+($-J)/(X?J-be:be-J))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:f,y:g,w:u,d,D:x,h:c,m:l,s:o,ms:i,Q:p}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},C="en",D={};D[C]=_;var U="$isDayjsObject",z=function(O){return O instanceof F||!(!O||!O[U])},E=function O(q,$,K){var J;if(!q)return C;if(typeof q=="string"){var X=q.toLowerCase();D[X]&&(J=X),$&&(D[X]=$,J=X);var be=q.split("-");if(!J&&be.length>1)return O(be[0])}else{var te=q.name;D[te]=q,J=te}return!K&&J&&(C=J),J||!K&&C},I=function(O,q){if(z(O))return O.clone();var $=typeof q=="object"?q:{};return $.date=O,$.args=arguments,new F($)},T=N;T.l=E,T.i=z,T.w=function(O,q){return I(O,{locale:q.$L,utc:q.$u,x:q.$x,$offset:q.$offset})};var F=(function(){function O($){this.$L=E($.locale,null,!0),this.parse($),this.$x=this.$x||$.x||{},this[U]=!0}var q=O.prototype;return q.parse=function($){this.$d=(function(K){var J=K.date,X=K.utc;if(J===null)return new Date(NaN);if(T.u(J))return new Date;if(J instanceof Date)return new Date(J);if(typeof J=="string"&&!/Z$/i.test(J)){var be=J.match(w);if(be){var te=be[2]-1||0,R=(be[7]||"0").substring(0,3);return X?new Date(Date.UTC(be[1],te,be[3]||1,be[4]||0,be[5]||0,be[6]||0,R)):new Date(be[1],te,be[3]||1,be[4]||0,be[5]||0,be[6]||0,R)}}return new Date(J)})($),this.init()},q.init=function(){var $=this.$d;this.$y=$.getFullYear(),this.$M=$.getMonth(),this.$D=$.getDate(),this.$W=$.getDay(),this.$H=$.getHours(),this.$m=$.getMinutes(),this.$s=$.getSeconds(),this.$ms=$.getMilliseconds()},q.$utils=function(){return T},q.isValid=function(){return this.$d.toString()!==v},q.isSame=function($,K){var J=I($);return this.startOf(K)<=J&&J<=this.endOf(K)},q.isAfter=function($,K){return I($)<this.startOf(K)},q.isBefore=function($,K){return this.endOf(K)<I($)},q.$g=function($,K,J){return T.u($)?this[K]:this.set(J,$)},q.unix=function(){return Math.floor(this.valueOf()/1e3)},q.valueOf=function(){return this.$d.getTime()},q.startOf=function($,K){var J=this,X=!!T.u(K)||K,be=T.p($),te=function(fe,xe){var $e=T.w(J.$u?Date.UTC(J.$y,xe,fe):new Date(J.$y,xe,fe),J);return X?$e:$e.endOf(d)},R=function(fe,xe){return T.w(J.toDate()[fe].apply(J.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(xe)),J)},ae=this.$W,W=this.$M,pe=this.$D,ce="set"+(this.$u?"UTC":"");switch(be){case g:return X?te(1,0):te(31,11);case f:return X?te(1,W):te(0,W+1);case u:var we=this.$locale().weekStart||0,je=(ae<we?ae+7:ae)-we;return te(X?pe-je:pe+(6-je),W);case d:case x:return R(ce+"Hours",0);case c:return R(ce+"Minutes",1);case l:return R(ce+"Seconds",2);case o:return R(ce+"Milliseconds",3);default:return this.clone()}},q.endOf=function($){return this.startOf($,!1)},q.$set=function($,K){var J,X=T.p($),be="set"+(this.$u?"UTC":""),te=(J={},J[d]=be+"Date",J[x]=be+"Date",J[f]=be+"Month",J[g]=be+"FullYear",J[c]=be+"Hours",J[l]=be+"Minutes",J[o]=be+"Seconds",J[i]=be+"Milliseconds",J)[X],R=X===d?this.$D+(K-this.$W):K;if(X===f||X===g){var ae=this.clone().set(x,1);ae.$d[te](R),ae.init(),this.$d=ae.set(x,Math.min(this.$D,ae.daysInMonth())).$d}else te&&this.$d[te](R);return this.init(),this},q.set=function($,K){return this.clone().$set($,K)},q.get=function($){return this[T.p($)]()},q.add=function($,K){var J,X=this;$=Number($);var be=T.p(K),te=function(W){var pe=I(X);return T.w(pe.date(pe.date()+Math.round(W*$)),X)};if(be===f)return this.set(f,this.$M+$);if(be===g)return this.set(g,this.$y+$);if(be===d)return te(1);if(be===u)return te(7);var R=(J={},J[l]=s,J[c]=n,J[o]=a,J)[be]||1,ae=this.$d.getTime()+$*R;return T.w(ae,this)},q.subtract=function($,K){return this.add(-1*$,K)},q.format=function($){var K=this,J=this.$locale();if(!this.isValid())return J.invalidDate||v;var X=$||"YYYY-MM-DDTHH:mm:ssZ",be=T.z(this),te=this.$H,R=this.$m,ae=this.$M,W=J.weekdays,pe=J.months,ce=J.meridiem,we=function(xe,$e,ge,ot){return xe&&(xe[$e]||xe(K,X))||ge[$e].slice(0,ot)},je=function(xe){return T.s(te%12||12,xe,"0")},fe=ce||function(xe,$e,ge){var ot=xe<12?"AM":"PM";return ge?ot.toLowerCase():ot};return X.replace(j,(function(xe,$e){return $e||(function(ge){switch(ge){case"YY":return String(K.$y).slice(-2);case"YYYY":return T.s(K.$y,4,"0");case"M":return ae+1;case"MM":return T.s(ae+1,2,"0");case"MMM":return we(J.monthsShort,ae,pe,3);case"MMMM":return we(pe,ae);case"D":return K.$D;case"DD":return T.s(K.$D,2,"0");case"d":return String(K.$W);case"dd":return we(J.weekdaysMin,K.$W,W,2);case"ddd":return we(J.weekdaysShort,K.$W,W,3);case"dddd":return W[K.$W];case"H":return String(te);case"HH":return T.s(te,2,"0");case"h":return je(1);case"hh":return je(2);case"a":return fe(te,R,!0);case"A":return fe(te,R,!1);case"m":return String(R);case"mm":return T.s(R,2,"0");case"s":return String(K.$s);case"ss":return T.s(K.$s,2,"0");case"SSS":return T.s(K.$ms,3,"0");case"Z":return be}return null})(xe)||be.replace(":","")}))},q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},q.diff=function($,K,J){var X,be=this,te=T.p(K),R=I($),ae=(R.utcOffset()-this.utcOffset())*s,W=this-R,pe=function(){return T.m(be,R)};switch(te){case g:X=pe()/12;break;case f:X=pe();break;case p:X=pe()/3;break;case u:X=(W-ae)/6048e5;break;case d:X=(W-ae)/864e5;break;case c:X=W/n;break;case l:X=W/s;break;case o:X=W/a;break;default:X=W}return J?X:T.a(X)},q.daysInMonth=function(){return this.endOf(f).$D},q.$locale=function(){return D[this.$L]},q.locale=function($,K){if(!$)return this.$L;var J=this.clone(),X=E($,K,!0);return X&&(J.$L=X),J},q.clone=function(){return T.w(this.$d,this)},q.toDate=function(){return new Date(this.valueOf())},q.toJSON=function(){return this.isValid()?this.toISOString():null},q.toISOString=function(){return this.$d.toISOString()},q.toString=function(){return this.$d.toUTCString()},O})(),Y=F.prototype;return I.prototype=Y,[["$ms",i],["$s",o],["$m",l],["$H",c],["$W",d],["$M",f],["$y",g],["$D",x]].forEach((function(O){Y[O[1]]=function(q){return this.$g(q,O[0],O[1])}})),I.extend=function(O,q){return O.$i||(O(q,F,I),O.$i=!0),I},I.locale=E,I.isDayjs=z,I.unix=function(O){return I(1e3*O)},I.en=D[C],I.Ls=D,I.p={},I}))})(gy)),gy.exports}var zxe=Uxe();const jc=ml(zxe),qxe=({isOpen:t,onClose:r,onSuccess:a,academicYear:s})=>{const[n,i]=b.useState([]),[o,l]=b.useState([]),[c,d]=b.useState(!1),[u,f]=b.useState(!1),{success:p,error:g}=na(),[x,v]=b.useState({source_budget_id:"",school_id:"",school_name:"",academic_year:s,allocated_amount:"",allocation_date:jc().format("YYYY-MM-DD"),expiry_date:jc().month(5).date(30).format("YYYY-MM-DD"),notes:""}),[w,j]=b.useState(null);b.useEffect(()=>{t&&_()},[t]);const _=async()=>{f(!0);try{const[E,I]=await Promise.all([fetch(`${Et.AID_SERVICE.BASE_URL}/api/school-aid/budgets`),fetch(`${Et.SCHOLARSHIP_SERVICE.BASE_URL}/api/schools?is_partner_school=true&per_page=100`)]),T=await E.json(),F=await I.json();if(T.success&&Array.isArray(T.budgets)?i(T.budgets):Array.isArray(T)?i(T):i([]),F.success){const Y=F.data?.data||F.data;l(Array.isArray(Y)?Y:[])}}catch(E){g("Failed to load initial data"),console.error(E)}finally{f(!1)}},S=E=>{const I=n.find(T=>T.id===parseInt(E));j(I||null),v({...x,source_budget_id:E})},N=E=>{const I=o.find(T=>T.id===parseInt(E));v({...x,school_id:E,school_name:I?.name||""})},C=async E=>{if(E.preventDefault(),!x.source_budget_id||!x.school_id||!x.allocated_amount){g("Please fill in all required fields");return}d(!0);try{const T=await(await fetch(`${Et.AID_SERVICE.BASE_URL}/api/foundation/partner-budgets`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source_budget_id:parseInt(x.source_budget_id),school_id:parseInt(x.school_id),school_name:x.school_name,academic_year:x.academic_year,allocated_amount:parseFloat(x.allocated_amount),allocation_date:x.allocation_date,expiry_date:x.expiry_date,notes:x.notes})})).json();T.success?(p(T.message),a(),D()):g(T.message||"Failed to allocate budget")}catch{g("An error occurred while allocating budget")}finally{d(!1)}},D=()=>{v({source_budget_id:"",school_id:"",school_name:"",academic_year:s,allocated_amount:"",allocation_date:jc().format("YYYY-MM-DD"),expiry_date:jc().month(5).date(30).format("YYYY-MM-DD"),notes:""}),j(null),r()},U=E=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(E),z=w&&x.allocated_amount?w.remaining_budget-parseFloat(x.allocated_amount):0;return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[9999]",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-lg w-full shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-slate-700 flex items-center justify-between bg-gray-50/50 dark:bg-slate-800/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg",children:e.jsx(mh,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Allocate Partner Budget"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Transfer funds from foundation pool to school"})]})]}),e.jsx("button",{type:"button",onClick:D,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:C,children:[e.jsx("div",{className:"p-6 space-y-5 max-h-[70vh] overflow-y-auto custom-scrollbar",children:u?e.jsxs("div",{className:"py-12 flex flex-col items-center justify-center gap-3",children:[e.jsx(za,{className:"w-8 h-8 text-blue-500 animate-spin"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Fetching active pools..."})]}):e.jsxs(e.Fragment,{children:[w&&e.jsxs("div",{className:`p-4 rounded-xl flex gap-3 border transition-all ${z<0?"bg-red-50 border-red-100 text-red-800 dark:bg-red-900/20 dark:border-red-800/50 dark:text-red-400":"bg-blue-50 border-blue-100 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800/50 dark:text-blue-400"}`,children:[z<0?e.jsx(Qt,{className:"w-5 h-5 shrink-0"}):e.jsx(Pd,{className:"w-5 h-5 shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-bold",children:"Summary"}),e.jsxs("p",{className:"mt-0.5 opacity-90",children:["Pool Balance: ",e.jsx("span",{className:"font-bold",children:U(w.remaining_budget)})]}),x.allocated_amount&&e.jsxs("p",{className:"mt-0.5 opacity-90",children:["Resulting Balance: ",e.jsx("span",{className:`font-bold ${z<0?"underline":""}`,children:U(z)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Source Foundation Pool"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{required:!0,value:x.source_budget_id,onChange:E=>S(E.target.value),className:"w-full pl-4 pr-10 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-sm font-semibold appearance-none focus:ring-2 focus:ring-blue-500 transition-all dark:text-white outline-none",children:[e.jsx("option",{value:"",children:"Select pool..."}),n.map(E=>e.jsxs("option",{value:E.id,children:[E.budget_type," (",U(E.remaining_budget),")"]},E.id))]}),e.jsx(zi,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Recipient Partner School"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{required:!0,value:x.school_id,onChange:E=>N(E.target.value),className:"w-full pl-4 pr-10 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-sm font-semibold appearance-none focus:ring-2 focus:ring-blue-500 transition-all dark:text-white outline-none",children:[e.jsx("option",{value:"",children:"Select school..."}),o.map(E=>e.jsx("option",{value:E.id,children:E.name},E.id))]}),e.jsx(zi,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Academic Year"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",required:!0,placeholder:"e.g. 2024-2025",value:x.academic_year,onChange:E=>v({...x,academic_year:E.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-sm font-semibold focus:ring-2 focus:ring-blue-500 outline-none transition-all dark:text-white"})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Allocation Amount (PHP)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 font-bold",children:""}),e.jsx("input",{type:"number",required:!0,min:"1",step:"0.01",placeholder:"0.00",value:x.allocated_amount,onChange:E=>v({...x,allocated_amount:E.target.value}),className:"w-full pl-8 pr-4 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl font-black text-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all placeholder:font-normal placeholder:text-sm"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Allocation Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"date",required:!0,value:x.allocation_date,onChange:E=>v({...x,allocation_date:E.target.value}),className:"w-full pl-9 pr-3 py-2.5 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-xs font-bold focus:ring-2 focus:ring-blue-500 transition-all dark:text-white"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Expiry Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"date",value:x.expiry_date,onChange:E=>v({...x,expiry_date:E.target.value}),className:"w-full pl-9 pr-3 py-2.5 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-xs font-bold focus:ring-2 focus:ring-blue-500 transition-all dark:text-white"})]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Internal Notes"}),e.jsx("textarea",{rows:2,placeholder:"Add any internal remarks here...",value:x.notes,onChange:E=>v({...x,notes:E.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-xs font-semibold focus:ring-2 focus:ring-blue-500 outline-none transition-all dark:text-white"})]})]})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50 flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 text-xs font-black text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 uppercase tracking-widest transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:c||u||!!x.allocated_amount&&z<0,className:`px-8 py-3 rounded-xl text-xs font-black uppercase tracking-widest text-white shadow-lg shadow-blue-500/20 transition-all flex items-center gap-2 ${c||u||x.allocated_amount&&z<0?"bg-gray-300 cursor-not-allowed shadow-none":"bg-blue-600 hover:bg-blue-700 active:scale-95"}`,children:[c&&e.jsx(za,{className:"w-4 h-4 animate-spin"}),z<0?"Exceeds Pool":c?"Processing":"Confirm Allocation"]})]})]})]})}):null},Vxe=({isOpen:t,onClose:r,budget:a})=>{const[s,n]=b.useState([]),[i,o]=b.useState(!1);b.useEffect(()=>{t&&a&&l()},[t,a]);const l=async()=>{o(!0);try{const p=await(await fetch(`${Et.AID_SERVICE.BASE_URL}/api/partner-school/withdrawals?school_id=${a.school_id}`)).json();p.success&&Array.isArray(p.data)?n(p.data):n([])}catch{console.error("Failed to load withdrawals")}finally{o(!1)}},c=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(f),d=f=>{const p=`${Et.AID_SERVICE.BASE_URL}/api/partner-school/withdrawals/${f}/proof`;window.open(p,"_blank")},u=a.allocated_amount>0?a.disbursed_amount/a.allocated_amount*100:0;return t?_a.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[9999]",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full shadow-2xl overflow-hidden animate-in slide-in-from-bottom-4 duration-300",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-slate-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-xl flex items-center justify-center text-xl font-bold",children:a.school_name[0]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white leading-tight",children:a.school_name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 flex items-center gap-2",children:["Budget Overview  AY ",a.academic_year,e.jsx("span",{className:`px-1.5 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wider ${a.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-700"}`,children:a.status})]})]})]}),e.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-0 border border-gray-100 dark:border-slate-700 rounded-2xl overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-4 bg-gray-50/50 dark:bg-slate-800/50 border-r border-gray-100 dark:border-slate-700",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Total Allocated"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white mt-1",children:c(a.allocated_amount)})]}),e.jsxs("div",{className:"p-4 bg-gray-50/50 dark:bg-slate-800/50 border-r border-gray-100 dark:border-slate-700",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Total Disbursed"}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:c(a.disbursed_amount)}),e.jsxs("div",{className:"text-[10px] font-bold bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 rounded",children:[u.toFixed(0),"%"]})]})]}),e.jsxs("div",{className:"p-4 bg-blue-600 dark:bg-blue-600",children:[e.jsx("p",{className:"text-[10px] font-bold text-white/70 uppercase tracking-widest",children:"Available Balance"}),e.jsx("p",{className:"text-lg font-bold text-white mt-1",children:c(a.available_amount)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Hs,{className:"w-4 h-4 text-gray-400"}),"Budget Utilization"]}),e.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[u.toFixed(1),"% used"]})]}),e.jsx("div",{className:"w-full bg-gray-100 dark:bg-slate-700 rounded-full h-3 overflow-hidden border border-gray-100 dark:border-slate-600",children:e.jsx("div",{className:`h-full transition-all duration-700 ease-out rounded-full ${u>=90?"bg-red-500":u>=70?"bg-amber-500":"bg-blue-500"}`,style:{width:`${Math.min(u,100)}%`}})})]}),e.jsxs("div",{className:"flex flex-wrap gap-6 py-4 border-y border-gray-100 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 dark:bg-slate-700 rounded-lg text-gray-500",children:e.jsx(Rr,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Allocation Date"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-semibold",children:jc(a.allocation_date).format("MMM DD, YYYY")})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 dark:bg-slate-700 rounded-lg text-gray-500",children:e.jsx(Pd,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Expiry Date"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-semibold",children:a.expiry_date?jc(a.expiry_date).format("MMM DD, YYYY"):"Lifetime"})]})]})]}),e.jsxs("div",{className:"flex gap-2 font-bold",children:[e.jsx("button",{className:"flex-1 px-4 py-2 border border-gray-200 dark:border-slate-700 rounded-xl hover:bg-gray-50 dark:hover:bg-slate-700 text-xs text-gray-600 dark:text-slate-300 transition-colors",children:"Adjust Amount"}),e.jsx("button",{className:"flex-1 px-4 py-2 border border-gray-200 dark:border-slate-700 rounded-xl hover:bg-gray-50 dark:hover:bg-slate-700 text-xs text-gray-600 dark:text-slate-300 transition-colors",children:"Extend Expiry"}),e.jsx("button",{className:"flex items-center justify-center p-2 border border-gray-200 dark:border-slate-700 rounded-xl hover:bg-gray-50 dark:hover:bg-slate-700 text-xs text-gray-600 dark:text-slate-300 transition-colors",children:e.jsx(hh,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(gz,{className:"w-4 h-4 text-gray-400"}),"Recent Withdrawals"]}),e.jsxs("button",{className:"text-xs font-bold text-blue-600 hover:underline flex items-center gap-1 group",children:["View All ",e.jsx(Xu,{className:"w-3 h-3 group-hover:translate-x-0.5 transition-transform"})]})]}),e.jsx("div",{className:"space-y-2",children:i?e.jsx("div",{className:"py-8 flex justify-center",children:e.jsx(za,{className:"w-6 h-6 text-blue-500 animate-spin"})}):s.length===0?e.jsx("div",{className:"py-8 text-center text-xs text-gray-500 italic",children:"No withdrawals found for this period."}):s.map(f=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-slate-800 rounded-xl flex items-center justify-between hover:shadow-sm transition-shadow group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-white dark:bg-slate-800 flex items-center justify-center text-[10px] font-bold text-gray-400 group-hover:text-blue-500 transition-colors shadow-sm uppercase",children:f.purpose[0]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white",children:f.purpose}),e.jsx("p",{className:"text-[10px] text-gray-400",children:jc(f.withdrawal_date).format("MMM DD, YYYY")})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xs font-bold text-red-600",children:["-",c(f.amount)]}),e.jsx("p",{className:"text-[10px] text-green-600 font-bold uppercase tracking-tight",children:"Recorded"})]}),f.proof_document_path&&e.jsx("button",{onClick:()=>d(f.id),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"View Proof",children:e.jsx(hh,{className:"w-4 h-4"})})]})]},f.id))})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50 flex justify-end",children:e.jsx("button",{onClick:r,className:"px-6 py-2 bg-gray-900 dark:bg-white dark:text-gray-900 text-white text-xs font-bold rounded-xl hover:opacity-90 transition-opacity",children:"Close Details"})})]})}),document.body):null},Hxe=()=>{const[t,r]=b.useState([]),[a,s]=b.useState(!0),[n,i]=b.useState("2024-2025"),[o,l]=b.useState(""),[c,d]=b.useState(!1),[u,f]=b.useState(!1),[p,g]=b.useState(null),{success:x,error:v}=na();b.useEffect(()=>{w()},[n]);const w=async()=>{try{s(!0);const U=await(await fetch(`${Et.AID_SERVICE.BASE_URL}/api/foundation/partner-budgets?academic_year=${n}`)).json();U.success&&r(U.data)}catch{v("Failed to load budgets")}finally{s(!1)}},j=D=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(D),_=(D,U)=>U>0?D/U*100:0,S=D=>{g(D),f(!0)},N=()=>{w(),x("Budget allocated successfully")},C=t.filter(D=>D.school_name.toLowerCase().includes(o.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(mh,{className:"w-6 h-6 text-blue-500"}),"Partner School Budgets"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Manage fund allocations for private partner schools"})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxs("select",{value:n,onChange:D=>i(D.target.value),className:"px-3 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 transition-all font-medium text-gray-700 dark:text-slate-200",children:[e.jsx("option",{value:"2024-2025",children:"2024-2025"}),e.jsx("option",{value:"2023-2024",children:"2023-2024"}),e.jsx("option",{value:"2025-2026",children:"2025-2026"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium shadow-sm",children:[e.jsx(gi,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Allocate Budget"}),e.jsx("span",{className:"sm:hidden",children:"Allocate"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Allocated"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:j(t.reduce((D,U)=>D+U.allocated_amount,0))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Disbursed"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1",children:j(t.reduce((D,U)=>D+U.disbursed_amount,0))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Remaining Pool"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:j(t.reduce((D,U)=>D+U.available_amount,0))})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-slate-700 flex flex-col sm:flex-row gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search partner schools...",value:o,onChange:D=>l(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg text-sm bg-gray-50 dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 outline-none transition-all dark:text-white"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"School Name"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-slate-400 uppercase tracking-wider text-right",children:"Allocation"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Usage Progress"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-slate-400 uppercase tracking-wider text-right",children:"Available"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-slate-400 uppercase tracking-wider text-center",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-slate-400 uppercase tracking-wider text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700 font-medium",children:a?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[e.jsx(za,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading budgets..."})]})}):C.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No partner budgets found for this criteria."})})}):C.map(D=>{const U=_(D.disbursed_amount,D.allocated_amount);return e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-700/30 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:D.school_name}),e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:["ID: ",D.school_id]})]}),e.jsx("td",{className:"px-6 py-4 text-right",children:j(D.allocated_amount)}),e.jsxs("td",{className:"px-6 py-4 min-w-[200px]",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1.5",children:[e.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:[j(D.disbursed_amount)," used"]}),e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[U.toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 rounded-full ${U>=90?"bg-red-500":U>=70?"bg-amber-500":"bg-blue-500"}`,style:{width:`${Math.min(U,100)}%`}})})]}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("span",{className:`font-bold ${D.available_amount<=0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:j(D.available_amount)})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs border ${D.status==="active"?"bg-green-50 text-green-700 border-green-100 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800/50":D.status==="depleted"?"bg-red-50 text-red-700 border-red-100 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800/50":"bg-amber-50 text-amber-700 border-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-800/50"}`,children:D.status.toUpperCase()})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>S(D),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"View Details",children:e.jsx(Or,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Adjust Budget",children:e.jsx($z,{className:"w-4 h-4"})})]})})]},D.id)})})]})})]}),c&&e.jsx(qxe,{isOpen:c,onClose:()=>d(!1),onSuccess:N,academicYear:n}),p&&e.jsx(Vxe,{isOpen:u,onClose:()=>f(!1),budget:p,onUpdate:w})]})},Wxe=({isOpen:t,onClose:r,application:a,onSubmit:s,isSubmitting:n})=>{const[i,o]=b.useState({method:"bank_transfer",providerName:"",referenceNumber:"",receiptFile:null,notes:""}),[l,c]=b.useState({}),[d,u]=b.useState(!1),[f,p]=b.useState(!1),g=b.useRef(null);if(!t||!a)return null;const x=()=>{const U={};return i.method||(U.method="Payment method is required"),i.providerName||(U.providerName="Provider name is required"),i.referenceNumber||(U.referenceNumber="Reference number is required"),i.receiptFile||(U.receiptFile="Receipt upload is mandatory"),c(U),Object.keys(U).length===0},v=async U=>{U.preventDefault(),x()&&await s(i)},w=U=>{const{name:z,value:E}=U.target;o(I=>({...I,[z]:E})),l[z]&&c(I=>({...I,[z]:void 0}))},j=U=>{U.target.files&&U.target.files[0]&&_(U.target.files[0])},_=U=>{if(!["image/jpeg","image/png","application/pdf"].includes(U.type)){c(I=>({...I,receiptFile:"Invalid file type. Please upload JPG, PNG, or PDF."}));return}if(U.size>5242880){c(I=>({...I,receiptFile:"File size exceeds 5MB limit."}));return}o(I=>({...I,receiptFile:U})),c(I=>({...I,receiptFile:void 0}))},S=U=>{U.preventDefault(),U.stopPropagation(),U.type==="dragenter"||U.type==="dragover"?u(!0):U.type==="dragleave"&&u(!1)},N=U=>{U.preventDefault(),U.stopPropagation(),u(!1),U.dataTransfer.files&&U.dataTransfer.files[0]&&_(U.dataTransfer.files[0])},C=U=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(U),D=U=>!U||U.length<=4?"****":"*".repeat(U.length-4)+U.slice(-4);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Process Disbursement"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:["Enter transfer details for ",a.studentName]})]}),e.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 rounded-lg transition-colors",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-blue-900 dark:text-blue-100 mb-1",children:[e.jsx(va,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Disbursement Amount"})]}),e.jsx("span",{className:"text-xl font-bold text-blue-700 dark:text-blue-300",children:C(a.amount)})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Student Account"}),e.jsx("button",{type:"button",onClick:()=>p(!f),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:f?e.jsx(ai,{className:"w-4 h-4"}):e.jsx(Or,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.paymentMethod?a.paymentMethod.replace("_"," ").toUpperCase():"N/A"}),e.jsx("span",{className:"text-lg font-mono font-semibold text-gray-900 dark:text-white",children:f?a.walletAccountNumber||"Not provided":D(a.walletAccountNumber)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Payment Method"}),e.jsxs("select",{name:"method",value:i.method,onChange:w,className:"w-full rounded-lg border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),e.jsx("option",{value:"gcash",children:"GCash"}),e.jsx("option",{value:"maya",children:"Maya"}),e.jsx("option",{value:"cheque",children:"Cheque"}),e.jsx("option",{value:"cash",children:"Cash"})]}),l.method&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:l.method})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Provider Name"}),e.jsx("input",{type:"text",name:"providerName",value:i.providerName,onChange:w,placeholder:"e.g. BDO, GCash",className:`w-full rounded-lg border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500 ${l.providerName?"border-red-500":""}`}),l.providerName&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:l.providerName})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Transaction Reference Number"}),e.jsx("input",{type:"text",name:"referenceNumber",value:i.referenceNumber,onChange:w,placeholder:"Enter unique transaction ID",className:`w-full rounded-lg border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500 ${l.referenceNumber?"border-red-500":""}`}),l.referenceNumber&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:l.referenceNumber})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:["Upload Receipt / Proof of Transfer ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer
                ${d?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-slate-600 hover:border-blue-400"}
                ${l.receiptFile?"border-red-500 bg-red-50 dark:bg-red-900/10":""}
              `,onDragEnter:S,onDragLeave:S,onDragOver:S,onDrop:N,onClick:()=>g.current?.click(),children:[e.jsx("input",{ref:g,type:"file",className:"hidden",onChange:j,accept:".jpg,.jpeg,.png,.pdf"}),i.receiptFile?e.jsxs("div",{className:"flex items-center justify-center text-green-600 dark:text-green-400",children:[e.jsx(jt,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-sm font-medium truncate max-w-[200px]",children:i.receiptFile.name})]}):e.jsxs(e.Fragment,{children:[e.jsx(cl,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Drag & drop or click to upload"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"JPG, PNG, PDF (Max 5MB)"})]})]}),l.receiptFile&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:l.receiptFile})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Notes (Optional)"}),e.jsx("textarea",{name:"notes",value:i.notes,onChange:w,rows:3,placeholder:"Add any internal notes...",className:"w-full rounded-lg border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",disabled:n,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):"Confirm Disbursement"})]})]})]})})},Gxe=({isOpen:t,onClose:r,application:a})=>{const[s,n]=gt.useState(!1);if(!t||!a)return null;const i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(d),o=d=>new Date(d).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),l=d=>({submitted:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",under_review:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",approved:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",pending_disbursement:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",grants_processing:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",grants_disbursed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",disbursed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",received:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",payment_failed:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",rejected:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[d]||"bg-gray-100 text-gray-800",c=d=>!d||d.length<=4?"****":"*".repeat(d.length-4)+d.slice(-4);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Application Details"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"View scholarship application information"})]}),e.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 rounded-lg transition-colors",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${l(a.status)}`,children:a.status.replace("_"," ").toUpperCase()})}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300 uppercase tracking-wide",children:"Student Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:e.jsx(Hr,{className:"w-5 h-5 text-blue-600 dark:text-blue-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Student Name"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.studentName})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Student ID"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.studentId})]}),e.jsxs("div",{className:"flex items-start gap-3 md:col-span-2",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center",children:e.jsx(Dn,{className:"w-5 h-5 text-purple-600 dark:text-purple-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"School"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.school})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300 uppercase tracking-wide",children:"Financial Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx(va,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Grant Amount"}),e.jsx("p",{className:"text-xl font-bold text-blue-700 dark:text-blue-300",children:i(a.amount)})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Student Account"}),e.jsx("button",{type:"button",onClick:()=>n(!s),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:s?e.jsx(ai,{className:"w-4 h-4"}):e.jsx(Or,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mb-1",children:a.paymentMethod?a.paymentMethod.replace("_"," ").toUpperCase():"N/A"}),e.jsx("p",{className:"text-sm font-mono font-semibold text-gray-900 dark:text-white",children:s?a.walletAccountNumber||"Not provided":c(a.walletAccountNumber)})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300 uppercase tracking-wide",children:"Application Timeline"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:e.jsx(Rr,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Submitted Date"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:o(a.submittedDate)})]})]}),a.approvalDate&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-green-200 dark:bg-green-900 flex items-center justify-center",children:e.jsx(Rr,{className:"w-5 h-5 text-green-600 dark:text-green-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Approval Date"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:o(a.approvalDate)})]})]})]})]}),a.notes&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300 uppercase tracking-wide flex items-center gap-2",children:[e.jsx(Kt,{className:"w-4 h-4"}),"Notes"]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300 whitespace-pre-wrap",children:a.notes})]})]}),e.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 dark:border-slate-700",children:e.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Close"})})]})})},Yxe=({onPageChange:t}={})=>{const{currentUser:r}=_r(),[a,s]=b.useState("overview"),[n,i]=b.useState([]),[o,l]=b.useState({isOpen:!1,application:null,mode:"view"}),[c,d]=b.useState(Date.now()),u=[{id:"overview",label:"Overview",icon:$0,component:Mxe,submodules:[]},{id:"applications",label:"Processing Grants",icon:Kt,component:Fxe,submodules:[]},{id:"budget",label:"Yearly School Budget",icon:va,component:$xe,submodules:[]},{id:"partner-budgets",label:"Partner Budgets",icon:mh,component:Hxe,submodules:[]}],f=u.find(S=>S.id===a),p=async(S,N)=>{try{if(console.log("Processing payment for:",S,"with data:",N),N){const C=await Xn.processPaymentWithDetails(S.id,N.method,N.providerName,N.referenceNumber,N.receiptFile,N.notes,r?r.id:void 0,r?dk(r):void 0);console.log("Payment processed successfully with form data:",C)}else{const C=await Xn.processPayment(S.id,"bank_transfer");await Xn.updateApplicationStatus(S.id,"grants_processing"),console.log("Payment processed successfully:",C)}l(C=>({...C,isOpen:!1})),d(Date.now())}catch(C){throw console.error("Error processing payment:",C),C}},g=async S=>{try{console.log("Batch processing payments for:",S),await Xn.batchUpdateApplications(S,"grants_processing");for(const N of S)await Xn.processPayment(N,"bank_transfer");console.log("Batch payment processing completed"),d(Date.now())}catch(N){throw console.error("Error batch processing payments:",N),N}},x=async S=>{try{await Xn.updateApplicationStatus(S,"approved"),console.log("Application approved:",S),d(Date.now())}catch(N){throw console.error("Error approving application:",N),N}},v=async(S,N)=>{try{await Xn.updateApplicationStatus(S,"rejected",N),console.log("Application rejected:",S,N),d(Date.now())}catch(C){throw console.error("Error rejecting application:",C),C}},w=async S=>{try{const N=await Xn.processGrant(S.id);if(N.success&&N.payment_url&&N.redirect){window.location.href=N.payment_url;return}console.log("Grant processing initiated for application:",S.id,N),d(Date.now())}catch(N){throw console.error("Error processing grant:",N),alert(N.message||"Failed to process grant. Please try again."),N}},j=()=>{if(!f||!f.component)return null;const S=f.component,N={id:f.id,label:f.label,description:"",component:S,statusFilter:f.statusFilter,actions:[]},C=D=>{D?_(D):t&&t("applications")};return e.jsx(S,{submodule:N,activeTab:a,activeSubmodule:a,selectedApplications:n,setSelectedApplications:i,modalState:o,setModalState:l,onProcessPayment:p,onProcessGrant:w,onBatchProcessPayments:g,onApproveApplication:x,onRejectApplication:v,lastUpdated:c,onPageChange:a==="overview"?C:t||(()=>{}),onTabChange:_})},_=S=>{s(S)};return e.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-3 sm:px-4 lg:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 dark:text-white",children:"School Aid Distribution"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-slate-400 mt-1",children:"Manage and track scholarship fund disbursements to students"})]}),n.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-slate-400",children:[n.length," selected"]}),e.jsx("button",{onClick:()=>i([]),className:"text-xs sm:text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Clear"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-3 sm:px-4 lg:px-6",children:e.jsx("nav",{className:"flex space-x-2 sm:space-x-4 lg:space-x-8 overflow-x-auto","aria-label":"Tabs",children:u.map(S=>{const N=S.icon,C=a===S.id;return e.jsxs("button",{onClick:()=>_(S.id),className:`
                    flex items-center gap-1 sm:gap-2 py-2 sm:py-3 lg:py-4 px-2 sm:px-1 border-b-2 font-medium text-xs sm:text-sm
                    transition-colors duration-200 relative whitespace-nowrap flex-shrink-0
                    ${C?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300 hover:border-gray-300 dark:hover:border-slate-600"}
                  `,children:[e.jsx(N,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"truncate",children:S.label}),S.badge&&e.jsx("span",{className:"ml-1 sm:ml-2 inline-flex items-center justify-center px-1.5 sm:px-2 py-0.5 sm:py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:S.badge})]},S.id)})})})}),e.jsx("div",{className:"flex-1 overflow-auto bg-gray-50 dark:bg-slate-900",children:e.jsx("div",{className:"p-4 sm:p-6",children:j()})}),e.jsx(Gxe,{isOpen:o.isOpen&&o.mode==="view",onClose:()=>l(S=>({...S,isOpen:!1})),application:o.application}),e.jsx(Wxe,{isOpen:o.isOpen&&o.mode==="process",onClose:()=>l(S=>({...S,isOpen:!1})),application:o.application,onSubmit:async S=>{o.application&&await p(o.application,S)},isSubmitting:!1})]})},Kxe=()=>{const[t,r]=b.useState([]),[a,s]=b.useState(!0),[n,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState(""),[u,f]=b.useState(""),[p,g]=b.useState("disbursedAt"),[x,v]=b.useState("desc"),[w,j]=b.useState(null);b.useEffect(()=>{_()},[n,o,c,u,p,x]);const _=async()=>{s(!0);try{const T={};n&&(T.search=n),o!=="all"&&(T.method=o),c&&(T.dateFrom=c),u&&(T.dateTo=u),T.sortBy=p==="disbursedAt"?"disbursed_at":"amount",T.sortDir=x;const F=await Xn.getDisbursementHistory(T);r(F)}catch(T){console.error("Error fetching disbursement history:",T)}finally{s(!1)}},S=T=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(T),N=T=>T?new Date(T).toLocaleString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",C=T=>{p===T?v(x==="asc"?"desc":"asc"):(g(T),v("desc"))},D=()=>{const T=window.open("","_blank");if(!T)return;const F="School Aid Disbursement History",Y=t.map(O=>`
      <tr>
        <td>${O.applicationNumber??""}</td>
        <td>${O.studentName??""}</td>
        <td>${S(O.amount)}</td>
        <td>${O.method}</td>
        <td>${O.providerName}</td>
        <td>${O.referenceNumber}</td>
        <td>${O.disbursedByName??(O.disbursedByUserId?"User #"+O.disbursedByUserId:"")}</td>
        <td>${N(O.disbursedAt)}</td>
      </tr>
    `).join("");T.document.write(`
      <html>
        <head>
          <title>${F}</title>
          <style>
            body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; padding: 16px; }
            h1 { font-size: 20px; margin-bottom: 16px; }
            table { width: 100%; border-collapse: collapse; font-size: 12px; }
            th, td { border: 1px solid #ddd; padding: 6px 8px; text-align: left; }
            th { background-color: #f3f4f6; }
          </style>
        </head>
        <body>
          <h1>${F}</h1>
          <table>
            <thead>
              <tr>
                <th>Application No.</th>
                <th>Student</th>
                <th>Amount</th>
                <th>Method</th>
                <th>Provider</th>
                <th>Reference</th>
                <th>Disbursed By</th>
                <th>Disbursed At</th>
              </tr>
            </thead>
            <tbody>
              ${Y}
            </tbody>
          </table>
        </body>
      </html>
    `),T.document.close(),T.focus(),T.print()},U=T=>{j(T)},z=()=>{j(null)},E=T=>T.receiptPath?T.id?`${Et.AID_SERVICE.BASE_URL}/api/school-aid/disbursements/${T.id}/receipt`:T.receiptPath.startsWith("http://")||T.receiptPath.startsWith("https://")?T.receiptPath:`${Et.AID_SERVICE.BASE_URL}${T.receiptPath}`:null,I=T=>!T.receiptPath||!T.id?null:`${Et.AID_SERVICE.BASE_URL}/api/school-aid/disbursements/${T.id}/receipt/download`;return a?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:"Disbursement History"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mt-1",children:"View and export the complete history of scholarship aid disbursements."})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-slate-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search by student, school, application no., or reference...",value:n,onChange:T=>i(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yi,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"}),e.jsxs("select",{value:o,onChange:T=>l(T.target.value),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800",children:[e.jsx("option",{value:"all",children:"All methods"}),e.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),e.jsx("option",{value:"gcash",children:"GCash"}),e.jsx("option",{value:"paymaya",children:"PayMaya"}),e.jsx("option",{value:"check",children:"Check"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rr,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"}),e.jsx("input",{type:"date",value:c,onChange:T=>d(T.target.value),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"to"}),e.jsx("input",{type:"date",value:u,onChange:T=>f(T.target.value),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800"})]}),e.jsx("div",{children:e.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ra,{className:"w-4 h-4"}),"Export PDF"]})})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Application No."}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",onClick:()=>C("amount"),children:["Amount",e.jsx("span",{className:"ml-1 text-gray-400",children:p==="amount"?x==="asc"?"":"":""})]}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",onClick:()=>C("disbursedAt"),children:["Disbursed At",e.jsx("span",{className:"ml-1 text-gray-400",children:p==="disbursedAt"?x==="asc"?"":"":""})]}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(T=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.applicationNumber}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:e.jsx(Hr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:T.studentName})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:S(T.amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white capitalize",children:[e.jsx(va,{className:"w-4 h-4 mr-1 text-gray-400 dark:text-slate-400"}),T.method?.replace("_"," ")||"Bank Transfer"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N(T.disbursedAt)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("button",{type:"button",onClick:()=>U(T),className:"inline-flex items-center px-3 py-1 border border-gray-300 dark:border-slate-600 rounded-full text-xs font-medium text-gray-700 dark:text-slate-200 bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700",children:"View"})})]},T.id))})]})}),t.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 dark:text-slate-400",children:e.jsx(va,{className:"w-12 h-12"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No disbursements found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your filters or search criteria."})]})]}),w&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-lg w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Disbursement Details"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["Application ",w.applicationNumber??w.applicationId]})]}),e.jsx("button",{type:"button",onClick:z,className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-500 dark:text-slate-300",children:e.jsx(dr,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"px-6 py-4 space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Student"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:w.studentName||""})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"School"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:w.schoolName||""})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Amount"}),e.jsx("div",{className:"text-gray-900 dark:text-white font-semibold",children:S(w.amount)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Method"}),e.jsx("div",{className:"text-gray-900 dark:text-white capitalize",children:w.method?.replace("_"," ")||"Bank Transfer"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Provider"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:w.providerName||""})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Reference"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:w.referenceNumber||""})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Account Number"}),e.jsx("div",{className:"text-gray-900 dark:text-white font-mono",children:w.accountNumber||""})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Disbursed By"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:w.disbursedByName??(w.disbursedByUserId?`User #${w.disbursedByUserId}`:"")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Disbursed By"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:w.disbursedByName??(w.disbursedByUserId?`User #${w.disbursedByUserId}`:"")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Disbursed At"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:N(w.disbursedAt)||""})]})]}),w.notes&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Notes"}),e.jsx("div",{className:"text-gray-900 dark:text-white whitespace-pre-line",children:w.notes})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Receipt"}),E(w)?e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("a",{href:E(w)||"#",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full bg-blue-50 text-blue-700 hover:bg-blue-100 dark:bg-blue-900/40 dark:text-blue-200",children:[e.jsx(hh,{className:"w-3 h-3 mr-1"}),"View"]}),e.jsxs("a",{href:I(w)||"#",download:!0,className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full bg-green-50 text-green-700 hover:bg-green-100 dark:bg-green-900/40 dark:text-green-200",children:[e.jsx(Ra,{className:"w-3 h-3 mr-1"}),"Download"]})]}):e.jsx("div",{className:"text-gray-500 dark:text-slate-400",children:"No receipt available"})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-slate-700 flex justify-end",children:e.jsx("button",{type:"button",onClick:z,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-slate-200 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700",children:"Close"})})]})})]})};class Jxe{constructor(){this.baseURL=bo("/api")}getHeaders(r="application/json"){return{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":r}}async getStudents(r={}){try{const a=new URLSearchParams;return Object.keys(r).forEach(n=>{r[n]!==void 0&&r[n]!==null&&r[n]!==""&&a.append(n,r[n])}),(await or.get(`${this.baseURL}/students?${a.toString()}`,{headers:this.getHeaders()})).data}catch(a){throw console.error("Error fetching students:",a),a}}async getStudentByUUID(r){try{return(await or.get(`${this.baseURL}/students/${r}`,{headers:this.getHeaders()})).data}catch(a){throw console.error("Error fetching student:",a),a}}async createStudent(r){try{return(await or.post(`${this.baseURL}/students`,r,{headers:this.getHeaders()})).data}catch(a){throw console.error("Error creating student:",a),a}}async updateStudent(r,a){try{return(await or.put(`${this.baseURL}/students/${r}`,a,{headers:this.getHeaders()})).data}catch(s){throw console.error("Error updating student:",s),s}}async deleteStudent(r){try{return(await or.delete(`${this.baseURL}/students/${r}`,{headers:this.getHeaders()})).data}catch(a){throw console.error("Error deleting student:",a),a}}async forceDeleteStudent(r){try{return(await or.delete(`${this.baseURL}/students/${r}/force`,{headers:this.getHeaders()})).data}catch(a){throw console.error("Error force deleting student:",a),a}}async bulkForceDeleteStudents(r){try{return(await or.post(`${this.baseURL}/students/bulk-force-delete`,{uuids:r},{headers:this.getHeaders()})).data}catch(a){throw console.error("Error bulk force deleting students:",a),a}}async archiveStudent(r,a){try{return(await or.post(`${this.baseURL}/students/${r}/archive`,{reason:a},{headers:this.getHeaders()})).data}catch(s){throw console.error("Error archiving student:",s),s}}async restoreStudent(r){try{return(await or.post(`${this.baseURL}/students/${r}/restore`,{},{headers:this.getHeaders()})).data}catch(a){throw console.error("Error restoring student:",a),a}}async addStudentNote(r,a){try{return(await or.post(`${this.baseURL}/students/${r}/notes`,{note:a},{headers:this.getHeaders()})).data}catch(s){throw console.error("Error adding student note:",s),s}}async uploadStudentDocument(r,a,s){try{const n=new FormData;return n.append("file",a),n.append("type",s),(await or.post(`${this.baseURL}/students/${r}/documents`,n,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error uploading student document:",n),n}}async getStudentFinancialHistory(r){try{return(await or.get(`${this.baseURL}/students/${r}/financial-aid`,{headers:this.getHeaders()})).data}catch(a){throw console.error("Error fetching student financial history:",a),a}}async getStudentAcademicHistory(r){try{return(await or.get(`${this.baseURL}/students/${r}/academic-records`,{headers:this.getHeaders()})).data}catch(a){throw console.error("Error fetching student academic history:",a),a}}async updateAcademicStatus(r,a){try{return(await or.put(`${this.baseURL}/students/${r}/academic-status`,{academic_status:a},{headers:this.getHeaders()})).data}catch(s){throw console.error("Error updating academic status:",s),s}}async getStudentStatistics(){try{return(await or.get(`${this.baseURL}/students/statistics`,{headers:this.getHeaders()})).data}catch(r){throw console.error("Error fetching student statistics:",r),r}}async getStudentsByScholarshipStatus(r){try{return(await or.get(`${this.baseURL}/students/scholarship-status/${r}`,{headers:this.getHeaders()})).data}catch(a){throw console.error("Error fetching students by scholarship status:",a),a}}async bulkUpdateStudents(r,a){try{return(await or.post(`${this.baseURL}/students/bulk-update`,{uuids:r,updates:a},{headers:this.getHeaders()})).data}catch(s){throw console.error("Error bulk updating students:",s),s}}async sendNotificationToStudents(r,a){try{return(await or.post(`${this.baseURL}/students/notifications`,{student_uuids:r,...a},{headers:this.getHeaders()})).data}catch(s){throw console.error("Error sending notification to students:",s),s}}async getStudentDocuments(r){try{return(await or.get(`${this.baseURL}/students/${r}/documents`,{headers:this.getHeaders()})).data}catch(a){throw console.error("Error fetching student documents:",a),a}}async deleteStudentDocument(r,a){try{return(await or.delete(`${this.baseURL}/students/${r}/documents/${a}`,{headers:this.getHeaders()})).data}catch(s){throw console.error("Error deleting student document:",s),s}}async bulkArchiveStudents(r,a="Bulk archived by admin"){try{return(await or.post(`${this.baseURL}/students/bulk-archive`,{uuids:r,reason:a},{headers:this.getHeaders()})).data}catch(s){throw console.error("Error bulk archiving students:",s),s}}async bulkRestoreStudents(r){try{return(await or.post(`${this.baseURL}/students/bulk-restore`,{uuids:r},{headers:this.getHeaders()})).data}catch(a){throw console.error("Error bulk restoring students:",a),a}}async importStudents(r,a={}){try{const s=new FormData;return s.append("file",r),a.skipFirstRow!==void 0&&s.append("skip_first_row",a.skipFirstRow),a.delimiter&&s.append("delimiter",a.delimiter),a.defaultStatus&&s.append("default_status",a.defaultStatus),a.validateEmail!==void 0&&s.append("validate_email",a.validateEmail),a.autoGenerateStudentNumbers!==void 0&&s.append("auto_generate_student_numbers",a.autoGenerateStudentNumbers),(await or.post(`${this.baseURL}/students/import`,s,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"multipart/form-data"}})).data}catch(s){throw console.error("Error importing students:",s),s}}async exportStudents(r={},a="csv"){try{const s=new URLSearchParams;return s.append("format",a),Object.keys(r).forEach(i=>{r[i]!==void 0&&r[i]!==null&&r[i]!==""&&s.append(i,r[i])}),(await or.get(`${this.baseURL}/students/export?${s.toString()}`,{headers:this.getHeaders(),responseType:"blob"})).data}catch(s){throw console.error("Error exporting students:",s),s}}async getStudentNotes(r){try{return(await or.get(`${this.baseURL}/students/${r}/notes`,{headers:this.getHeaders()})).data}catch(a){throw console.error("Error fetching student notes:",a),a}}async deleteStudentNote(r,a){try{return(await or.delete(`${this.baseURL}/students/${r}/notes/${a}`,{headers:this.getHeaders()})).data}catch(s){throw console.error("Error deleting student note:",s),s}}async getFilterOptions(){try{return(await or.get(`${this.baseURL}/students/filter-options`,{headers:this.getHeaders()})).data}catch(r){return r.response&&r.response.status!==404&&console.error("StudentApiService: Error fetching filter options:",r),{data:{programs:[],schools:[],year_levels:["1st Year","2nd Year","3rd Year","4th Year","5th Year"],scholarship_statuses:["none","applicant","scholar","alumni"],statuses:["active","inactive","archived"]}}}}}const $i=new Jxe,Gx=({title:t,value:r,icon:a,color:s,trend:n,description:i})=>e.jsxs(br.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6 transition-all hover:shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:r}),i&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i})]}),e.jsx("div",{className:`p-3 rounded-lg bg-${s}-50 dark:bg-${s}-900/20`,children:e.jsx(a,{className:`w-6 h-6 text-${s}-500`})})]}),n&&e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(Hs,{className:"w-4 h-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-600 font-medium",children:n}),e.jsx("span",{className:"text-gray-400 ml-1",children:"vs last month"})]})]}),_F=()=>{const[t,r]=b.useState(null),[a,s]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const i=await $i.getStudentStatistics();r(i.data)}catch{console.error("Failed to fetch stats")}finally{s(!1)}})()},[]),a?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 animate-pulse",children:[1,2,3,4].map(n=>e.jsx("div",{className:"h-32 bg-gray-200 dark:bg-slate-700 rounded-xl"},n))}):e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx(Gx,{title:"Total Students",value:t?.total_students?.toLocaleString()||"0",icon:Wr,color:"blue",description:"Active registered students"}),e.jsx(Gx,{title:"Active Scholars",value:t?.active_scholars?.toLocaleString()||"0",icon:Ba,color:"green",description:"Currently receiving aid"}),e.jsx(Gx,{title:"Applicants",value:t?.applicants?.toLocaleString()||"0",icon:kd,color:"orange",description:"Pending applications"}),e.jsx(Gx,{title:"At Risk",value:t?.at_risk||"0",icon:Qt,color:"red",description:"Students needing attention"})]})},AF=({isOpen:t,onClose:r,initialData:a,onSuccess:s})=>{const{showSuccess:n,showError:i}=na(),[o,l]=b.useState(!1),[c,d]=b.useState({}),[u,f]=b.useState({first_name:"",middle_name:"",last_name:"",email:"",contact_number:"",student_number:"",program:"",year_level:"1st Year",school_name:"",scholarship_status:"none"});b.useEffect(()=>{f(a?{first_name:a.first_name||"",middle_name:a.middle_name||"",last_name:a.last_name||"",email:a.email||"",contact_number:a.contact_number||"",student_number:a.student_number||a.student_id_number||"",program:a.program||a.course||"",year_level:a.year_level||"1st Year",school_name:a.school_name||"",scholarship_status:a.scholarship_status||"none"}:{first_name:"",middle_name:"",last_name:"",email:"",contact_number:"",student_number:"",program:"",year_level:"1st Year",school_name:"",scholarship_status:"none"}),d({})},[a,t]);const p=x=>{const{name:v,value:w}=x.target;f(j=>({...j,[v]:w})),c[v]&&d(j=>({...j,[v]:""}))},g=async x=>{x.preventDefault(),l(!0),d({});try{a?.student_uuid?(await $i.updateStudent(a.student_uuid,u),n("Student updated successfully")):(await $i.createStudent(u),n("Student created successfully")),s(),r()}catch(v){console.error("Submit error:",v),v.response?.data?.errors?d(v.response.data.errors):i(a?"Failed to update student":"Failed to create student")}finally{l(!1)}};return t?_a.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:e.jsxs(br.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col shadow-2xl border border-gray-100 dark:border-slate-700",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50 flex justify-between items-center flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-orange-600 to-orange-500",children:a?"Edit Student Profile":"New Student Registration"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:a?"Update student information and records":"Enter the student's personal and academic details"})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-xl transition-colors text-gray-400 hover:text-gray-600 dark:text-slate-500 dark:hover:text-slate-300",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:e.jsxs("form",{onSubmit:g,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white pb-2 border-b border-gray-100 dark:border-slate-700",children:[e.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsx(Hr,{className:"w-5 h-5 text-blue-500"})}),e.jsx("h4",{className:"font-semibold",children:"Personal Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",name:"first_name",placeholder:"e.g. Juan",className:`w-full pl-10 pr-4 py-2.5 rounded-xl border bg-gray-50 dark:bg-slate-900 text-gray-900 dark:text-white transition-all focus:bg-white dark:focus:bg-slate-800 ${c.first_name?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-500/10":"border-gray-200 dark:border-slate-700 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10"}`,value:u.first_name,onChange:p})]}),c.first_name&&e.jsx("p",{className:"text-xs text-red-500 pl-1",children:c.first_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",name:"last_name",placeholder:"e.g. Dela Cruz",className:`w-full pl-10 pr-4 py-2.5 rounded-xl border bg-gray-50 dark:bg-slate-900 text-gray-900 dark:text-white transition-all focus:bg-white dark:focus:bg-slate-800 ${c.last_name?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-500/10":"border-gray-200 dark:border-slate-700 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10"}`,value:u.last_name,onChange:p})]}),c.last_name&&e.jsx("p",{className:"text-xs text-red-500 pl-1",children:c.last_name})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ll,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"email",name:"email",placeholder:"e.g. juan.delacruz@email.com",className:`w-full pl-10 pr-4 py-2.5 rounded-xl border bg-gray-50 dark:bg-slate-900 text-gray-900 dark:text-white transition-all focus:bg-white dark:focus:bg-slate-800 ${c.email?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-500/10":"border-gray-200 dark:border-slate-700 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10"}`,value:u.email,onChange:p})]}),c.email&&e.jsx("p",{className:"text-xs text-red-500 pl-1",children:c.email})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-900 dark:text-white pb-2 border-b border-gray-100 dark:border-slate-700",children:[e.jsx("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsx(Dn,{className:"w-5 h-5 text-green-500"})}),e.jsx("h4",{className:"font-semibold",children:"Academic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Student ID Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(mz,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",name:"student_number",placeholder:"e.g. 2023-0001",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-900 text-gray-900 dark:text-white transition-all focus:bg-white dark:focus:bg-slate-800 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10",value:u.student_number,onChange:p})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Scholarship Status"}),e.jsx("div",{className:"relative",children:e.jsxs("select",{name:"scholarship_status",className:"w-full pl-4 pr-4 py-2.5 rounded-xl border border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-900 text-gray-900 dark:text-white transition-all focus:bg-white dark:focus:bg-slate-800 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/10 appearance-none",value:u.scholarship_status,onChange:p,children:[e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"applicant",children:"Applicant"}),e.jsx("option",{value:"scholar",children:"Scholar"}),e.jsx("option",{value:"alumni",children:"Alumni"})]})})]})]})]}),c.submit&&e.jsxs("div",{className:"p-4 rounded-xl bg-red-50 text-red-600 border border-red-100 flex items-center gap-3",children:[e.jsx(Qt,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm font-medium",children:c.submit})]})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50 flex justify-end gap-3 flex-shrink-0",children:[e.jsx("button",{type:"button",onClick:r,disabled:o,className:"px-5 py-2.5 rounded-xl font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,onClick:g,className:"px-5 py-2.5 rounded-xl font-medium text-white bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 shadow-lg shadow-orange-500/20 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx(za,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Saving Student..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(U7,{className:"w-4 h-4"}),e.jsx("span",{children:a?"Update Profile":"Register Student"})]})})]})]})}),document.body):null},Xxe=({onPageChange:t})=>{const{showSuccess:r}=na(),[a,s]=b.useState([]),[n,i]=b.useState(!0),[o,l]=b.useState(!1);b.useEffect(()=>{c()},[]);const c=async()=>{try{const f=await $i.getStudents({per_page:5,sort:"created_at",order:"desc"}),p=f.data?.data||f.data||[];s(Array.isArray(p)?p:[])}catch(u){console.error("Failed to fetch recent students:",u)}finally{i(!1)}},d=u=>new Date(u).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Student Registry Overview"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"System snapshot and quick actions"})]}),e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium",children:[e.jsx(jm,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Student"})]})]}),e.jsx(_F,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(lr,{className:"w-5 h-5 text-gray-400"}),"Recent Registrations"]}),e.jsx("button",{onClick:()=>t?.("studentRegistry-directory"),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View All"})]}),n?e.jsx("div",{className:"p-12 flex justify-center",children:e.jsx(za,{className:"w-8 h-8 text-blue-500 animate-spin"})}):a.length>0?e.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:a.map((u,f)=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-slate-700 flex items-center justify-center text-gray-500 font-bold",children:[u.first_name?.[0],u.last_name?.[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[u.first_name," ",u.last_name]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[u.program,"  ",u.year_level]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${u.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:u.status}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:d(u.created_at)})]})]},u.student_uuid||f))}):e.jsx("div",{className:"p-12 text-center text-gray-500",children:"No recent registrations found"})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>t?.("studentRegistry-tools"),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-3 transition-colors",children:[e.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:e.jsx(cl,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Import Students"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Bulk upload via CSV/Excel"})]})]}),e.jsxs("button",{onClick:()=>t?.("studentRegistry-tools"),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-3 transition-colors",children:[e.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:e.jsx(Ra,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Export Data"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Download registry reports"})]})]}),e.jsxs("button",{onClick:()=>t?.("studentRegistry-tools"),className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-3 transition-colors",children:[e.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:e.jsx(Kt,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Generate Reports"}),e.jsx("p",{className:"text-xs text-gray-500",children:"View analytics & stats"})]})]})]})]})})]}),e.jsx(AF,{isOpen:o,onClose:()=>l(!1),onSuccess:()=>{c(),r("Student added successfully")}})]})},Zxe=(t="all")=>{const{showSuccess:r,showError:a}=na(),[s,n]=b.useState([]),[i,o]=b.useState(!0),[l,c]=b.useState({search:"",school:"all",program:"all",year_level:"all",scholarship_status:"all",academic_status:"all",campus:"all"}),[d,u]=b.useState({page:1,per_page:10,total:0,total_pages:0}),[f,p]=b.useState({field:"created_at",order:"desc"}),g=b.useCallback(async()=>{o(!0);try{const C={page:d.page,per_page:d.per_page,sort:f.field,order:f.order,search:l.search};t==="active"?C.status="active":t==="archived"?C.status="archived":t==="scholars"?(C.scholarship_status="scholar",C.status="active"):t==="non_scholars"&&(C.scholarship_status="none"),l.school!=="all"&&(C.school_name=l.school),l.program!=="all"&&(C.program=l.program),l.year_level!=="all"&&(C.year_level=l.year_level),l.academic_status!=="all"&&(C.academic_status=l.academic_status),l.scholarship_status!=="all"&&t!=="scholars"&&t!=="non_scholars"&&(C.scholarship_status=l.scholarship_status);const D=await $i.getStudents(C),U=D?.data?.data||D?.data||D||[],z=Array.isArray(U)?U:[];n(z),u(E=>({...E,total:D?.data?.total||D?.total||z.length||0,total_pages:D?.data?.last_page||D?.last_page||Math.ceil((D?.data?.total||D?.total||z.length)/d.per_page)||1}))}catch(C){console.error("Error fetching students:",C),a("Failed to fetch students"),n([])}finally{o(!1)}},[d.page,d.per_page,f,l,t,a]);b.useEffect(()=>{g()},[g]);const x=(C,D)=>{c(U=>({...U,[C]:D})),u(U=>({...U,page:1}))},v=C=>{u(D=>({...D,page:C}))},w=C=>{p(D=>({field:C,order:D.field===C&&D.order==="asc"?"desc":"asc"}))},j=()=>{g()};return{students:s,loading:i,filters:l,pagination:d,sort:f,handleFilterChange:x,handlePageChange:v,handleSortChange:w,refreshData:j,handleArchive:async C=>{try{await $i.bulkArchiveStudents(C),r(`${C.length} students archived`),j()}catch{a("Failed to archive students")}},handleRestore:async C=>{try{await $i.bulkRestoreStudents(C),r(`${C.length} students restored`),j()}catch{a("Failed to restore students")}},handleDelete:async C=>{if(confirm("Are you sure you want to permanently delete these students? This action cannot be undone."))try{await $i.bulkForceDeleteStudents(C),r(`${C.length} students permanently deleted`),j()}catch{a("Failed to delete students")}}}},Qxe=({filters:t,onFilterChange:r})=>{const[a,s]=b.useState(!1),[n,i]=b.useState({programs:[],schools:[],year_levels:["1st Year","2nd Year","3rd Year","4th Year"],scholarship_statuses:["scholar","applicant","none"],statuses:["active","inactive","archived"]});b.useEffect(()=>{(async()=>{try{const c=await $i.getFilterOptions();c?.data&&i(d=>({...d,...c.data}))}catch(c){c?.response?.status!==404&&console.error("Failed to fetch filter options:",c)}})()},[]);const o=Object.values(t).filter(l=>l!=="all"&&l!=="").length-(t.search?1:0);return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search by name, ID, or email...",value:t.search,onChange:l=>r("search",l.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-700/50 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("button",{onClick:()=>s(!a),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-all ${a||o>0?"bg-blue-50 border-blue-200 text-blue-600 dark:bg-blue-900/20 dark:border-blue-800":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50 dark:bg-slate-800 dark:border-slate-700"}`,children:[e.jsx(Yi,{className:"w-4 h-4"}),e.jsx("span",{children:"Filters"}),o>0&&e.jsx("span",{className:"bg-blue-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:o})]})]}),a&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4 pt-4 border-t border-gray-100 dark:border-slate-700 animate-in slide-in-from-top-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"School"}),e.jsxs("select",{value:t.school,onChange:l=>r("school",l.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"All Schools"}),n.schools?.map(l=>e.jsx("option",{value:l.name||l,children:l.name||l},l.id||l))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Program"}),e.jsxs("select",{value:t.program,onChange:l=>r("program",l.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"All Programs"}),n.programs?.map(l=>e.jsx("option",{value:l,children:l},l))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Year Level"}),e.jsxs("select",{value:t.year_level,onChange:l=>r("year_level",l.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"All Levels"}),n.year_levels?.map(l=>e.jsx("option",{value:l,children:l},l))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Scholarship"}),e.jsxs("select",{value:t.scholarship_status,onChange:l=>r("scholarship_status",l.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"All Statuses"}),n.scholarship_statuses?.map(l=>e.jsx("option",{value:l,className:"capitalize",children:l},l))]})]})]})]})},eye=({isOpen:t,onClose:r,studentUuid:a,onEdit:s})=>{const{showSuccess:n,showError:i}=na(),[o,l]=b.useState("overview"),[c,d]=b.useState(null),[u,f]=b.useState(!0),[p,g]=b.useState([]),[x,v]=b.useState([]),[w,j]=b.useState([]),[_,S]=b.useState([]),[N,C]=b.useState(""),D=[{id:"overview",label:"Overview",icon:Hr},{id:"academic",label:"Academic",icon:rn},{id:"scholarship",label:"Scholarship",icon:Ba},{id:"financial",label:"Financial Aid",icon:va},{id:"documents",label:"Documents",icon:Kt},{id:"activity",label:"Activity",icon:Nc}];b.useEffect(()=>{t&&a&&U()},[t,a]);const U=async()=>{f(!0);try{const[E,I,T,F]=await Promise.all([$i.getStudentByUUID(String(a)),$i.getStudentAcademicHistory(String(a)),$i.getStudentFinancialHistory(String(a)),$i.getStudentNotes(String(a))]);d(E.data),g(I.data||[]),v(T.data||[]),S(F.data||[]),j([])}catch(E){console.error("Error fetching student data:",E),i("Failed to load student data")}finally{f(!1)}},z=async()=>{if(!(!N.trim()||!a))try{await $i.addStudentNote(String(a),N),S(E=>[...E,{id:Date.now(),note:N,created_by:"Me",created_at:new Date().toISOString()}]),C(""),n("Note added")}catch{i("Failed to add note")}};return t?_a.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:e.jsxs(br.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-700 bg-white dark:bg-slate-800 z-10",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400",children:e.jsx(Hr,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c?`${c.first_name} ${c.last_name}`:"Loading..."}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:[c?.student_number||c?.student_id_number||"ID: N/A","  ",c?.program||c?.course||"Program N/A"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>s(c),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors text-sm font-medium",children:[e.jsx(ko,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit Profile"})]}),e.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(dr,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-64 border-r border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50 p-4 space-y-1 overflow-y-auto",children:D.map(E=>e.jsxs("button",{onClick:()=>l(E.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-all ${o===E.id?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700/50"}`,children:[e.jsx(E.icon,{className:"w-4 h-4"}),e.jsx("span",{children:E.label})]},E.id))}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-gray-50/30 dark:bg-slate-900/30",children:u?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(za,{className:"w-8 h-8 text-blue-500 animate-spin"})}):e.jsx(wo,{mode:"wait",children:e.jsxs(br.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},className:"max-w-3xl",children:[o==="overview"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4",children:"Contact Info"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-gray-700 dark:text-gray-300",children:[e.jsx(ll,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:c?.email})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-700 dark:text-gray-300",children:[e.jsx(qi,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:c?.contact_number||"N/A"})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-700 dark:text-gray-300",children:[e.jsx(bi,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:c?.address||"No address provided"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4",children:"Status"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Enrollment Status"}),e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${c?.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:c?.status?.toUpperCase()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Scholarship"}),e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${c?.scholarship_status==="scholar"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:c?.scholarship_status?.toUpperCase()})]})]})]})]})}),o==="academic"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Academic Records"}),p.length>0?e.jsx("div",{className:"space-y-4",children:p.map((E,I)=>e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[E.semester," ",E.year]}),e.jsxs("span",{className:"font-medium text-blue-600",children:["GPA: ",E.gpa]})]})},I))}):e.jsx("p",{className:"text-gray-500 italic",children:"No academic records found."})]})}),o==="activity"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Notes & Activity"}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("input",{type:"text",value:N,onChange:E=>C(E.target.value),placeholder:"Add a note...",className:"flex-1 px-4 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600"}),e.jsx("button",{onClick:z,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add"})]}),e.jsx("div",{className:"space-y-4",children:_.map((E,I)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"mt-1",children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:E.note}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[new Date(E.created_at).toLocaleString(),"  ",E.created_by]})]})]},I))})]})}),(o==="scholarship"||o==="financial"||o==="documents")&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-slate-800 rounded-full mb-4",children:[o==="scholarship"&&e.jsx(Ba,{className:"w-8 h-8"}),o==="financial"&&e.jsx(va,{className:"w-8 h-8"}),o==="documents"&&e.jsx(Kt,{className:"w-8 h-8"})]}),e.jsxs("p",{children:["No ",o," information available yet."]})]})]},o)})})]})]})}),document.body):null},tye=({viewMode:t})=>{const{students:r,loading:a,filters:s,pagination:n,handleFilterChange:i,handlePageChange:o,handleSortChange:l,refreshData:c,handleArchive:d,handleRestore:u,handleDelete:f}=Zxe(t),p=Array.isArray(r)?r:[],[g,x]=b.useState(new Set),[v,w]=b.useState(!1),[j,_]=b.useState(!1),[S,N]=b.useState(null),[C,D]=b.useState(null),U=()=>{g.size===p.length?x(new Set):x(new Set(p.map(F=>F.student_uuid)))},z=F=>{const Y=new Set(g);Y.has(F)?Y.delete(F):Y.add(F),x(Y)},E=F=>{const Y=Array.from(g);F==="archive"&&d(Y),F==="restore"&&u(Y),F==="delete"&&f(Y),x(new Set)},I=F=>{D(F),w(!0)},T=F=>{N(F),_(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white capitalize",children:t==="all"?"Student Registry":`${t} Students`}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Manage and view student records"})]}),e.jsx("button",{onClick:()=>{D(null),w(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium",children:"Add Student"})]}),e.jsx(_F,{}),e.jsx(Qxe,{filters:s,onFilterChange:i}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[e.jsx(wo,{children:g.size>0&&e.jsxs(br.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-blue-50 dark:bg-blue-900/20 px-6 py-3 flex items-center justify-between border-b border-blue-100 dark:border-blue-800",children:[e.jsxs("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:[g.size," selected"]}),e.jsxs("div",{className:"flex gap-2",children:[t!=="archived"&&e.jsx("button",{onClick:()=>E("archive"),className:"text-xs px-3 py-1.5 bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 rounded border border-gray-200 dark:border-slate-600 hover:bg-gray-50",children:"Archive"}),t==="archived"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>E("restore"),className:"text-xs px-3 py-1.5 bg-white dark:bg-slate-800 text-green-700 dark:text-green-400 rounded border border-gray-200 dark:border-slate-600 hover:bg-gray-50",children:"Restore"}),e.jsx("button",{onClick:()=>E("delete"),className:"text-xs px-3 py-1.5 bg-white dark:bg-slate-800 text-red-700 dark:text-red-400 rounded border border-gray-200 dark:border-slate-600 hover:bg-gray-50",children:"Delete Permanently"})]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50/50 dark:bg-slate-700/50 border-b border-gray-100 dark:border-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 w-10",children:e.jsx("button",{onClick:U,className:"flex items-center text-gray-400 hover:text-gray-600",children:g.size===p.length&&p.length>0?e.jsx(wm,{className:"w-5 h-5 text-blue-500"}):e.jsx(sp,{className:"w-5 h-5"})})}),e.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700",onClick:()=>l("last_name"),children:"Student"}),e.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Program"}),e.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:a?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center",children:e.jsx(za,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto"})})}):p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No students found matching your criteria."})}):p.map((F,Y)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors group cursor-pointer",onClick:()=>T(F.student_uuid||F.id),children:[e.jsx("td",{className:"p-4",onClick:O=>O.stopPropagation(),children:e.jsx("button",{onClick:()=>z(F.student_uuid||F.id),children:g.has(F.student_uuid||F.id)?e.jsx(wm,{className:"w-5 h-5 text-blue-500"}):e.jsx(sp,{className:"w-5 h-5 text-gray-300 group-hover:text-gray-400"})})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 font-bold text-xs",children:[F.first_name?.[0],F.last_name?.[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[F.first_name," ",F.last_name]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:F.email||F.email_address||"No Email"})]})]})}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-300 font-mono",children:F.student_number||F.student_id_number||F.id_number||"N/A"}),e.jsxs("td",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:F.program||F.current_academic_record?.program||F.course||"N/A"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:F.year_level||F.current_academic_record?.year_level||F.year||"N/A"})]}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${(F.status||(F.is_currently_enrolled?"active":"inactive"))==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":(F.status||(F.deleted_at?"archived":"inactive"))==="archived"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:F.status||(F.is_currently_enrolled?"Active":"Inactive")}),(F.scholarship_status||"none")!=="none"&&e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:F.scholarship_status||"None"})]})}),e.jsx("td",{className:"p-4 text-right",onClick:O=>O.stopPropagation(),children:e.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>T(F.student_uuid||F.id),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded dark:hover:bg-slate-700",title:"View",children:e.jsx(Or,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>I(F),className:"p-1.5 text-gray-500 hover:text-orange-600 hover:bg-orange-50 rounded dark:hover:bg-slate-700",title:"Edit",children:e.jsx(ko,{className:"w-4 h-4"})}),t==="archived"?e.jsx("button",{onClick:()=>u([F.student_uuid||F.id]),className:"p-1.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded dark:hover:bg-slate-700",title:"Restore",children:e.jsx(o2,{className:"w-4 h-4"})}):e.jsx("button",{onClick:()=>d([F.student_uuid||F.id]),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded dark:hover:bg-slate-700",title:"Archive",children:e.jsx(kp,{className:"w-4 h-4"})})]})})]},`student-${F.student_uuid||F.id||Y}`))})]})}),e.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-700/50",children:[e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Page ",n.page," of ",n.total_pages]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{disabled:n.page===1,onClick:()=>o(n.page-1),className:"p-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:e.jsx(Qp,{className:"w-4 h-4"})}),e.jsx("button",{disabled:n.page===n.total_pages,onClick:()=>o(n.page+1),className:"p-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:e.jsx(Xu,{className:"w-4 h-4"})})]})]})]}),e.jsx(AF,{isOpen:v,onClose:()=>w(!1),initialData:C,onSuccess:c}),e.jsx(eye,{isOpen:j,onClose:()=>_(!1),studentUuid:S,onEdit:F=>{_(!1),I(F)}})]})},rye=()=>{const{showSuccess:t,showError:r}=na(),[a,s]=b.useState(null),[n,i]=b.useState(0),[o,l]=b.useState("idle"),[c,d]=b.useState(null),[u,f]=b.useState(!1),[p,g]=b.useState({skipFirstRow:!0,delimiter:",",defaultStatus:"active"}),[x,v]=b.useState({format:"csv",includeHeaders:!0,filterActive:!1}),w=N=>{const C=N.target.files?.[0];C&&(C.type==="text/csv"||C.name.endsWith(".csv")||C.name.endsWith(".xlsx")||C.name.endsWith(".xls")?(s(C),t("File selected successfully")):r("Please select a CSV or Excel file"))},j=async()=>{if(a){l("importing"),i(0);try{const N=setInterval(()=>{i(C=>C>=90?(clearInterval(N),90):C+10)},200);await new Promise(C=>setTimeout(C,2e3)),clearInterval(N),i(100),d({total:10,successful:8,failed:2,errors:["Row 3: Invalid Email","Row 7: Duplicate ID"]}),l("success"),t("Import completed with some errors")}catch{l("error"),r("Import failed")}}},_=()=>{t(`Exporting data as ${x.format.toUpperCase()}...`)},S=()=>{t("Downloading template...")};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(cl,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Import Students"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bulk upload via CSV/Excel"})]})]}),e.jsx("button",{onClick:()=>f(!u),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(rl,{className:"w-5 h-5"})})]}),e.jsx(wo,{children:u&&e.jsx(br.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mb-4 p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg overflow-hidden",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:p.skipFirstRow,onChange:N=>g(C=>({...C,skipFirstRow:N.target.checked})),className:"rounded text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Skip Header Row"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Delimiter"}),e.jsxs("select",{value:p.delimiter,onChange:N=>g(C=>({...C,delimiter:N.target.value})),className:"mt-1 block w-full text-sm border-gray-300 rounded-md dark:bg-slate-800 dark:border-slate-600 px-2 py-1",children:[e.jsx("option",{value:",",children:"Comma (,)"}),e.jsx("option",{value:";",children:"Semicolon (;)"})]})]})]})})}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-lg p-8 text-center hover:border-blue-500 transition-colors cursor-pointer relative",children:[e.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:w,accept:".csv,.xlsx,.xls"}),e.jsx(cl,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a?a.name:"Drop file here or click to upload"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported: CSV, Excel"})]}),o==="importing"&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{children:"Importing..."}),e.jsxs("span",{children:[n,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${n}%`}})})]}),o==="success"&&c&&e.jsxs("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(jt,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("span",{className:"font-medium text-green-900 dark:text-green-100",children:"Import Complete"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"text-green-700",children:["Successful: ",e.jsx("b",{children:c.successful})]}),e.jsxs("div",{className:"text-red-700",children:["Failed: ",e.jsx("b",{children:c.failed})]})]}),c.errors.length>0&&e.jsx("div",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded max-h-24 overflow-y-auto",children:c.errors.map((N,C)=>e.jsxs("div",{children:[" ",N]},C))})]}),e.jsxs("div",{className:"mt-6 flex space-x-3",children:[e.jsx("button",{onClick:j,disabled:!a||o==="importing",className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Start Import"}),e.jsx("button",{onClick:S,className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-gray-300",children:"Template"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(Ra,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Export Data"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Download registry records"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Export Format"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["csv","excel","json","pdf"].map(N=>e.jsx("button",{onClick:()=>v(C=>({...C,format:N})),className:`flex items-center justify-center space-x-2 p-3 border rounded-lg transition-colors ${x.format===N?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:e.jsx("span",{className:"uppercase text-sm font-medium",children:N})},N))})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Filters"}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:x.filterActive,onChange:N=>v(C=>({...C,filterActive:N.target.checked})),className:"rounded text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Active Students Only"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:x.includeHeaders,onChange:N=>v(C=>({...C,includeHeaders:N.target.checked})),className:"rounded text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Include Headers"})]})]}),e.jsxs("button",{onClick:_,className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Ra,{className:"w-5 h-5"}),e.jsx("span",{children:"Download Export"})]})]})]})]})})},aye=Et.SCHOLARSHIP_SERVICE.BASE_URL,sye=()=>localStorage.getItem("auth_token"),Av=async(t,r={})=>{const a=sye(),s={"Content-Type":"application/json",Accept:"application/json"};a&&(s.Authorization=`Bearer ${a}`);const n={...r,headers:{...s,...r.headers}};try{const i=await fetch(`${aye}${t}`,n),o=await i.json();if(!i.ok){if(console.error("API Error Response:",{status:i.status,statusText:i.statusText,data:o}),i.status===422&&o.errors){const l=Object.entries(o.errors).map(([c,d])=>`${c}: ${Array.isArray(d)?d.join(", "):d}`).join("; ");throw new Error(`Validation failed: ${l}`)}if(i.status>=500){const l=o.error||o.message||"Internal server error";throw new Error(`Server error (${i.status}): ${l}`)}throw new Error(o.message||`HTTP error! status: ${i.status}`)}return o}catch(i){throw console.error("API request failed:",i),i}},CF=async(t={})=>{try{const r=new URLSearchParams;Object.entries(t).forEach(([n,i])=>{i!=null&&i!==""&&r.append(n,i)});const a=`/api/schools${r.toString()?`?${r.toString()}`:""}`;return await Av(a)}catch(r){throw console.error("Error fetching schools:",r),r}},nye=async t=>{try{return await Av(`/api/schools/${t}`)}catch(r){throw console.error("Error fetching school:",r),r}},iye=async t=>{try{return await Av("/api/schools",{method:"POST",body:JSON.stringify(t)})}catch(r){throw console.error("Error creating school:",r),r}},g7=async t=>{try{return await Av(`/api/schools/${t}`,{method:"DELETE"})}catch(r){throw console.error("Error deleting school:",r),r}},f4=()=>["LOCAL UNIVERSITY/COLLEGE (LUC)","STATE UNIVERSITY/COLLEGE (SUC)","PRIVATE UNIVERSITY/COLLEGE","TECHNICAL/VOCATIONAL INSTITUTE","OTHER"],oye=t=>{const r={};return(!t.name||t.name.trim()==="")&&(r.name="School name is required"),t.classification||(r.classification="School classification is required"),t.email&&t.email.trim()!==""&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(r.email="Please enter a valid email address")),t.website&&t.website.trim()!==""&&(/^https?:\/\/.+/.test(t.website)||(r.website="Please enter a valid website URL (must start with http:// or https://)")),t.contact_number&&t.contact_number.trim()!==""&&(/^[\+]?[0-9\s\-\(\)]{7,}$/.test(t.contact_number)||(r.contact_number="Please enter a valid phone number")),{isValid:Object.keys(r).length===0,errors:r}},lye=({isOpen:t,onClose:r,onSuccess:a})=>{const[s,n]=b.useState({name:"",campus:"",contact_number:"",email:"",website:"",classification:"",address:"",city:"",province:"",region:"",zip_code:"",is_public:!1,is_partner_school:!0,is_active:!0}),[i,o]=b.useState({}),[l,c]=b.useState(!1),[d,u]=b.useState(""),f=f4(),p=v=>{const{name:w,value:j,type:_,checked:S}=v.target;n(N=>({...N,[w]:_==="checkbox"?S:j})),i[w]&&o(N=>({...N,[w]:""}))},g=async v=>{v.preventDefault();const w=oye(s);if(!w.isValid){o(w.errors);return}c(!0),u("");try{const j=await iye(s);j.success?(n({name:"",campus:"",contact_number:"",email:"",website:"",classification:"",address:"",city:"",province:"",region:"",zip_code:"",is_public:!1,is_partner_school:!0,is_active:!0}),o({}),a(j.data),r()):u(j.message||"Failed to create school")}catch(j){console.error("Error creating school:",j),u(j.message||"An error occurred while creating the school")}finally{c(!1)}},x=()=>{l||(n({name:"",campus:"",contact_number:"",email:"",website:"",classification:"",address:"",city:"",province:"",region:"",zip_code:"",is_public:!1,is_partner_school:!0,is_active:!0}),o({}),u(""),r())};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:e.jsx(n2,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add New School"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Create a new partner school entry"})]})]}),e.jsx("button",{onClick:x,disabled:l,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:e.jsx(dr,{className:"w-5 h-5"})})]})}),e.jsxs("form",{onSubmit:g,className:"p-6",children:[d&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qt,{className:"w-5 h-5 text-red-500 mr-2"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:d})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"School Name *"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white ${i.name?"border-red-300":"border-gray-300 dark:border-slate-600"}`,placeholder:"Enter school name",disabled:l}),i.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Campus"}),e.jsx("input",{type:"text",name:"campus",value:s.campus,onChange:p,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter campus name",disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Classification *"}),e.jsxs("select",{name:"classification",value:s.classification,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white ${i.classification?"border-red-300":"border-gray-300 dark:border-slate-600"}`,disabled:l,children:[e.jsx("option",{value:"",children:"Select classification"}),f.map(v=>e.jsx("option",{value:v,children:v},v))]}),i.classification&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.classification})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[e.jsx(qi,{className:"w-4 h-4 inline mr-1"}),"Contact Number"]}),e.jsx("input",{type:"text",name:"contact_number",value:s.contact_number,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white ${i.contact_number?"border-red-300":"border-gray-300 dark:border-slate-600"}`,placeholder:"+63 2 1234-5678",disabled:l}),i.contact_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.contact_number})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[e.jsx(ll,{className:"w-4 h-4 inline mr-1"}),"Email"]}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white ${i.email?"border-red-300":"border-gray-300 dark:border-slate-600"}`,placeholder:"info@school.edu.ph",disabled:l}),i.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.email})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[e.jsx(q7,{className:"w-4 h-4 inline mr-1"}),"Website"]}),e.jsx("input",{type:"url",name:"website",value:s.website,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white ${i.website?"border-red-300":"border-gray-300 dark:border-slate-600"}`,placeholder:"https://www.school.edu.ph",disabled:l}),i.website&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.website})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Location Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[e.jsx(bi,{className:"w-4 h-4 inline mr-1"}),"Address"]}),e.jsx("input",{type:"text",name:"address",value:s.address,onChange:p,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter complete address",disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"City"}),e.jsx("input",{type:"text",name:"city",value:s.city,onChange:p,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter city",disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Province"}),e.jsx("input",{type:"text",name:"province",value:s.province,onChange:p,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter province",disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Region"}),e.jsx("input",{type:"text",name:"region",value:s.region,onChange:p,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter region",disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"ZIP Code"}),e.jsx("input",{type:"text",name:"zip_code",value:s.zip_code,onChange:p,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter ZIP code",disabled:l})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"School Properties"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_public",name:"is_public",checked:s.is_public,onChange:p,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded",disabled:l}),e.jsx("label",{htmlFor:"is_public",className:"ml-2 text-sm text-gray-700 dark:text-slate-300",children:"Public School"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_partner_school",name:"is_partner_school",checked:s.is_partner_school,onChange:p,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded",disabled:l}),e.jsx("label",{htmlFor:"is_partner_school",className:"ml-2 text-sm text-gray-700 dark:text-slate-300",children:"Partner School"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:s.is_active,onChange:p,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded",disabled:l}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700 dark:text-slate-300",children:"Active"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:x,disabled:l,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-slate-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:opacity-50 flex items-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Create School"]})})]})]})]})}):null},cye=({isOpen:t,onClose:r,onConfirm:a,selectedSchools:s,isDeleting:n})=>{const[i,o]=b.useState(""),[l,c]=b.useState(""),d="CONFIRM DELETE",u=i===d,f=()=>{if(!u){c(`Please type "${d}" to confirm deletion`);return}a(),o(""),c("")},p=()=>{n||(o(""),c(""),r())};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-red-100 dark:bg-red-900/20 flex items-center justify-center",children:e.jsx(Br,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Bulk Delete Schools"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"This action cannot be undone"})]})]}),e.jsx("button",{onClick:p,disabled:n,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-700 dark:text-slate-300 mb-3",children:["You are about to delete ",e.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:s.length})," school",s.length!==1?"s":"",":"]}),e.jsx("div",{className:"max-h-32 overflow-y-auto bg-gray-50 dark:bg-slate-700 rounded-lg p-3 mb-4",children:s.map((g,x)=>e.jsxs("div",{className:"text-sm text-gray-700 dark:text-slate-300 py-1",children:[x+1,". ",g.name," (",g.classification,")"]},g.id))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:["Type ",e.jsx("span",{className:"font-mono bg-gray-100 dark:bg-slate-600 px-2 py-1 rounded text-red-600 dark:text-red-400",children:d})," to confirm:"]}),e.jsx("input",{type:"text",value:i,onChange:g=>{o(g.target.value),c("")},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-slate-700 dark:text-white ${l?"border-red-300":"border-gray-300 dark:border-slate-600"}`,placeholder:`Type "${d}" here`,disabled:n}),l&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:l})]}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Br,{className:"w-5 h-5 text-red-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-red-700 dark:text-red-400",children:[e.jsx("p",{className:"font-medium mb-1",children:"Warning: This action is permanent!"}),e.jsx("p",{children:"All selected schools and their associated data will be permanently deleted. This action cannot be undone."})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:p,disabled:n,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-slate-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 focus:ring-2 focus:ring-red-500 focus:border-transparent disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"button",onClick:f,disabled:!u||n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent disabled:opacity-50 flex items-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bn,{className:"w-4 h-4 mr-2"}),"Delete ",s.length," School",s.length!==1?"s":""]})})]})]})}):null};function dye(){const[t,r]=gt.useState(""),[a,s]=gt.useState("all"),[n,i]=gt.useState(!1),[o,l]=gt.useState(!1),[c,d]=gt.useState(!1),[u,f]=gt.useState(null),[p,g]=gt.useState([]),[x,v]=gt.useState(!1),[w,j]=gt.useState(null),[_,S]=gt.useState("table"),[N,C]=gt.useState([]),[D,U]=gt.useState(!1),[z,E]=gt.useState(!1),[I,T]=gt.useState(null),[F,Y]=gt.useState(!1),O=async()=>{v(!0),j(null);try{const W=await CF({search:t,is_active:a==="all"?void 0:a==="active",is_partner_school:!0});W.success?g(W.data.data||[]):j(W.message||"Failed to fetch schools")}catch(W){console.error("Error fetching schools:",W),j(W.message||"Failed to fetch schools")}finally{v(!1)}};gt.useEffect(()=>{O()},[t,a]);const q=async W=>{f(W),d(!0),T(null),Y(!0);try{const pe=await nye(W.id);pe.success&&T(pe.data)}catch(pe){console.error("Failed to fetch school details:",pe)}finally{Y(!1)}},$=W=>{g(pe=>[W,...pe]),i(!1)},K=async W=>{if(window.confirm("Are you sure you want to delete this school?"))try{const pe=await g7(W);pe.success?g(ce=>ce.filter(we=>we.id!==W)):alert(pe.message||"Failed to delete school")}catch(pe){console.error("Error deleting school:",pe),alert(pe.message||"Failed to delete school")}},J=W=>{C(pe=>pe.includes(W)?pe.filter(ce=>ce!==W):[...pe,W])},X=()=>{N.length===p.length?C([]):C(p.map(W=>W.id))},be=async()=>{E(!0);try{const W=N.map(je=>g7(je)),pe=await Promise.allSettled(W),ce=pe.filter(je=>je.status==="fulfilled"&&je.value.success),we=pe.filter(je=>je.status==="rejected"||!je.value.success);ce.length>0&&(g(je=>je.filter(fe=>!N.includes(fe.id))),C([]),U(!1),alert(`Successfully deleted ${ce.length} school${ce.length!==1?"s":""}`)),we.length>0&&alert(`Failed to delete ${we.length} school${we.length!==1?"s":""}`)}catch(W){console.error("Error in bulk delete:",W),alert("An error occurred during bulk deletion")}finally{E(!1)}},te=W=>W?e.jsx(jt,{className:"w-4 h-4 text-green-500"}):e.jsx(mr,{className:"w-4 h-4 text-red-500"}),R=W=>W?"bg-green-100 text-green-800":"bg-red-100 text-red-800",ae=W=>W?"Active":"Inactive";return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"School Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage partner school information, contact details, and accreditation status"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-3",children:[e.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-slate-700 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>S("table"),className:`p-2 rounded-md transition-colors ${_==="table"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300"}`,title:"Table View",children:e.jsx(jd,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>S("grid"),className:`p-2 rounded-md transition-colors ${_==="grid"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300"}`,title:"Grid View",children:e.jsx(jh,{className:"w-4 h-4"})})]}),N.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:[N.length," selected"]}),e.jsxs("button",{onClick:()=>U(!0),className:"inline-flex items-center px-3 py-2 bg-red-500 hover:bg-red-600 text-white text-sm font-medium rounded-lg transition-colors",children:[e.jsx(bn,{className:"w-4 h-4 mr-1"}),"Delete Selected"]})]}),e.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center justify-center px-3 py-2 sm:px-4 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md text-sm sm:text-base w-full sm:w-auto",children:[e.jsx(gi,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"truncate",children:"Add New School"})]})]})]})})}),e.jsxs("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6 mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-start sm:items-center justify-between",children:[e.jsx("div",{className:"flex-1 w-full sm:max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search schools...",value:t,onChange:W=>r(W.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white text-sm"})]})}),e.jsx("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yi,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:a,onChange:W=>s(W.target.value),className:"px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white text-sm",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"pending",children:"Pending"})]})]})})]})}),w&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qt,{className:"w-5 h-5 text-red-500 mr-2"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:w})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:x?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),e.jsx("span",{className:"ml-2 text-gray-600 dark:text-slate-400",children:"Loading schools..."})]}):_==="table"?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:e.jsxs("button",{onClick:X,className:"flex items-center space-x-2 hover:text-gray-700 dark:hover:text-slate-300",children:[N.length===p.length&&p.length>0?e.jsx(wm,{className:"w-4 h-4"}):e.jsx(sp,{className:"w-4 h-4"}),e.jsx("span",{children:"School"})]})}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Properties"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:p.map(W=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>J(W.id),className:"flex-shrink-0",children:N.includes(W.id)?e.jsx(wm,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}):e.jsx(sp,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:e.jsx(Dn,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:W.name}),W.campus&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:W.campus})]})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:W.classification})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx(bi,{className:"w-3 h-3 mr-1"}),[W.address,W.city,W.region].filter(Boolean).join(", ")]})}),e.jsxs("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:W.email||"No email"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400 flex items-center",children:[e.jsx(qi,{className:"w-3 h-3 mr-1"}),W.contact_number||"No phone"]})]}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[W.is_public&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Public"}),W.is_partner_school&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Partner"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R(W.is_active)}`,children:[te(W.is_active),e.jsx("span",{className:"ml-1",children:ae(W.is_active)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>q(W),className:"p-2 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"View Details",children:e.jsx(Or,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{f(W),l(!0)},className:"p-2 text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Edit School",children:e.jsx(ko,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>K(W.id),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete School",children:e.jsx(bn,{className:"w-4 h-4"})})]})})]},W.id))})]})}):e.jsx("div",{className:"p-4 sm:p-6",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:p.map(W=>e.jsxs("div",{className:"bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("button",{onClick:()=>J(W.id),className:"flex-shrink-0",children:N.includes(W.id)?e.jsx(wm,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}):e.jsx(sp,{className:"w-5 h-5 text-gray-400 dark:text-slate-500"})}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>q(W),className:"p-1 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"View Details",children:e.jsx(Or,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{f(W),l(!0)},className:"p-1 text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors",title:"Edit School",children:e.jsx(ko,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>K(W.id),className:"p-1 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Delete School",children:e.jsx(bn,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center mr-3",children:e.jsx(Dn,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:W.name}),W.campus&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 truncate",children:W.campus})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-xs text-gray-600 dark:text-slate-400",children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",W.classification]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-slate-400",children:[e.jsx(bi,{className:"w-3 h-3 inline mr-1"}),[W.city,W.region].filter(Boolean).join(", ")]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-slate-400",children:[e.jsx(qi,{className:"w-3 h-3 inline mr-1"}),W.contact_number||"No phone"]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[W.is_public&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Public"}),W.is_partner_school&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Partner"}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${R(W.is_active)}`,children:[te(W.is_active),e.jsx("span",{className:"ml-1",children:ae(W.is_active)})]})]})]},W.id))})})}),!x&&p.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Dn,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No schools found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:t?"Try adjusting your search criteria.":"Get started by adding a new school."})]})]}),e.jsx(lye,{isOpen:n,onClose:()=>i(!1),onSuccess:$}),e.jsx(cye,{isOpen:D,onClose:()=>U(!1),onConfirm:be,selectedSchools:p.filter(W=>N.includes(W.id)),isDeleting:z}),c&&u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"School Details"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:""})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:e.jsx(Dn,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:u.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:u.classification}),u.campus&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500",children:u.campus})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx(qi,{className:"w-4 h-4 mr-2"}),u.contact_number||"No phone number"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx(ll,{className:"w-4 h-4 mr-2"}),u.email||"No email address"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx(q7,{className:"w-4 h-4 mr-2"}),u.website||"No website"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Location"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx(bi,{className:"w-4 h-4 mr-2"}),u.address||"No address"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:[u.city,u.province,u.region].filter(Boolean).join(", ")||"No location details"}),u.zip_code&&e.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-500",children:["ZIP: ",u.zip_code]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:u.is_public?"Public":"Private"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"School Type"})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:u.is_partner_school?"Yes":"No"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Partner School"})]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"School Properties"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R(u.is_active)}`,children:[te(u.is_active),e.jsx("span",{className:"ml-1",children:ae(u.is_active)})]}),u.is_public&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Public School"}),u.is_partner_school&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Partner School"})]})]}),F?e.jsx("div",{className:"flex justify-center p-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500"})}):I?.verification_documents?.length>0?e.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-slate-700 border-b border-gray-200 dark:border-slate-600",children:e.jsxs("h4",{className:"text-sm font-medium text-gray-900 dark:text-white flex items-center",children:[e.jsx(jd,{className:"w-4 h-4 mr-2"}),"Verification Documents"]})}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:I.verification_documents.map(W=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(jd,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:W.document_name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:W.document_type})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${W.verification_status==="verified"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":W.verification_status==="rejected"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"}`,children:W.verification_status.charAt(0).toUpperCase()+W.verification_status.slice(1)}),e.jsx("a",{href:`${Et.SCHOLARSHIP_SERVICE.BASE_URL}/api/partner-school-documents/${W.id}/view`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium hover:underline",children:"View"})]})]},W.id))})]}):e.jsx("div",{className:"text-center py-6 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No verification documents found."})})]})})]})})]})}const x7=`${Et.SCHOLARSHIP_SERVICE.BASE_URL}/api`;function uye(){const[t,r]=gt.useState(""),[a,s]=gt.useState("all"),[n,i]=gt.useState(!1),[o,l]=gt.useState(!1),[c,d]=gt.useState(null),[u,f]=gt.useState([]),[p,g]=gt.useState([]),[x,v]=gt.useState(!1),[w,j]=gt.useState("table"),[_,S]=gt.useState({total_students:0,total_scholars:0,active_scholars:0,graduated_scholars:0,scholarship_rate:0});gt.useEffect(()=>{N(),C()},[a,t]);const N=async()=>{v(!0);try{const z=new URLSearchParams;a!=="all"&&z.append("school_id",a),t&&z.append("search",t);const I=await(await fetch(`${x7}/partner-school/student-population?${z}`)).json();I.success?(f(I.data||[]),S(I.totals||{total_students:0,total_scholars:0,active_scholars:0,graduated_scholars:0,scholarship_rate:0})):(console.error("Failed to fetch student population:",I.message),f([]))}catch(z){console.error("Error fetching student population:",z),f([])}finally{v(!1)}},C=async()=>{try{const E=await(await fetch(`${x7}/partner-school/schools`)).json();E.success?g(E.data||[]):console.error("Failed to fetch schools:",E.message)}catch(z){console.error("Error fetching schools:",z)}},D=()=>{const z=[["School","Total Students","Male Students","Female Students","Scholars","Active Scholars","Graduated Scholars","Scholarship Rate (%)","Last Updated"],...U.map(F=>[F.school_name,F.total_students,F.male_students,F.female_students,F.scholarship_recipients,F.active_scholars,F.graduated_scholars,F.scholarship_rate,new Date(F.last_updated).toLocaleDateString()])].map(F=>F.join(",")).join(`
`),E=new Blob([z],{type:"text/csv"}),I=window.URL.createObjectURL(E),T=document.createElement("a");T.href=I,T.download=`student-population-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(T),T.click(),document.body.removeChild(T),window.URL.revokeObjectURL(I)},U=u.filter(z=>{const E=z.school_name.toLowerCase().includes(t.toLowerCase()),I=a==="all"||z.id.toString()===a;return E&&I});return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Student Population"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Track student demographics and scholarship distribution across partner schools"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-3",children:[e.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-slate-700 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>j("table"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${w==="table"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-slate-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Table"}),e.jsx("button",{onClick:()=>j("chart"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${w==="chart"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-slate-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Charts"})]}),e.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center justify-center px-3 py-2 sm:px-4 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md text-sm sm:text-base w-full sm:w-auto",children:[e.jsx(gi,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"truncate",children:"Add Population Data"})]})]})]})})}),e.jsxs("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 sm:p-3 rounded-lg bg-blue-100 dark:bg-blue-900/20",children:e.jsx(Wr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-3 sm:ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-slate-400 truncate",children:"Total Students"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:_.total_students.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 sm:p-3 rounded-lg bg-orange-100 dark:bg-orange-900/20",children:e.jsx(rn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{className:"ml-3 sm:ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-slate-400 truncate",children:"Total Scholars"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:_.total_scholars.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 sm:p-3 rounded-lg bg-green-100 dark:bg-green-900/20",children:e.jsx(kd,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"ml-3 sm:ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-slate-400 truncate",children:"Active Scholars"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:_.active_scholars.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 sm:p-3 rounded-lg bg-purple-100 dark:bg-purple-900/20",children:e.jsx(Hs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{className:"ml-3 sm:ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-slate-400 truncate",children:"Scholarship Rate"}),e.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:[_.scholarship_rate,"%"]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 sm:p-3 rounded-lg bg-indigo-100 dark:bg-indigo-900/20",children:e.jsx(Nc,{className:"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{className:"ml-3 sm:ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-slate-400 truncate",children:"Graduated"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:_.graduated_scholars.toLocaleString()})]})]})})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6 mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-start sm:items-center justify-between",children:[e.jsx("div",{className:"flex-1 w-full sm:max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search schools...",value:t,onChange:z=>r(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white text-sm"})]})}),e.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yi,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:a,onChange:z=>s(z.target.value),className:"px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white text-sm",children:[e.jsx("option",{value:"all",children:"All Schools"}),p.map(z=>e.jsx("option",{value:z.id,children:z.name},z.id))]})]}),e.jsxs("button",{onClick:D,className:"inline-flex items-center px-3 py-2 sm:px-4 bg-gray-500 hover:bg-gray-600 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md text-sm",children:[e.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),w==="table"?e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"School"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Students"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Gender Split"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Scholars"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Scholarship Rate"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:x?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),e.jsx("span",{className:"ml-2 text-gray-600 dark:text-slate-400",children:"Loading student population data..."})]})})}):U.map(z=>{const E=z.total_students>0?(z.scholarship_recipients/z.total_students*100).toFixed(1):0,I=z.total_students>0?(z.male_students/z.total_students*100).toFixed(1):0,T=z.total_students>0?(z.female_students/z.total_students*100).toFixed(1):0;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:e.jsx(Wr,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.school_name}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:["Updated: ",new Date(z.last_updated).toLocaleDateString()]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.total_students.toLocaleString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Male: ",I,"%"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full mr-2"}),"Female: ",T,"%"]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.scholarship_recipients}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:["Active: ",z.active_scholars," | Graduated: ",z.graduated_scholars]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[E,"%"]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${Math.min(E,100)}%`}})})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[e.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[e.jsx(kd,{className:"w-4 h-4 mr-1"}),z.active_scholars," Active"]}),e.jsxs("div",{className:"flex items-center text-yellow-600 dark:text-yellow-400",children:[e.jsx(Nc,{className:"w-4 h-4 mr-1"}),z.pending_applications," Pending"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{d(z),l(!0)},className:"p-2 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"View Details",children:e.jsx(Or,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"View Charts",children:e.jsx(nl,{className:"w-4 h-4"})})]})})]},z.id)})})]})})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Scholarship Distribution"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(by,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-slate-400",children:"Chart visualization will be implemented here"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Student Demographics"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(nl,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-slate-400",children:"Chart visualization will be implemented here"})]})]})]}),!x&&U.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Wr,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No data found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:t||a!=="all"?"Try adjusting your search criteria.":"No student population data available."})]})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add Population Data"}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:""})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Wr,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-white",children:"Add Population Data Form"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:"This form will be implemented to add student population data for partner schools."})]})})]})}),o&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Population Details"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:""})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:e.jsx(Wr,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c.school_name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Population data as of ",new Date(c.population_date).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:c.total_students.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Total Students"})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:c.scholarship_recipients}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Scholarship Recipients"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:c.active_scholars}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Active Scholars"})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:c.graduated_scholars}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Graduated Scholars"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Gender Distribution"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Male"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.male_students.toLocaleString()})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${c.male_students/c.total_students*100}%`}})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Female"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.female_students.toLocaleString()})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2",children:e.jsx("div",{className:"bg-pink-500 h-2 rounded-full",style:{width:`${c.female_students/c.total_students*100}%`}})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Scholarship Breakdown"}),e.jsx("div",{className:"space-y-2",children:Object.entries(c.scholarship_breakdown).map(([z,E])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-400 capitalize",children:z.replace("_"," ")}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:E})]},z))})]})]})]})})]})})]})}function hye(){const[t,r]=gt.useState("6months"),[a,s]=gt.useState("all"),[n,i]=gt.useState(!1),o={totalSchools:0,totalStudents:0,totalScholars:0,totalBudget:0,growthRate:0,topPerformingSchools:[],scholarshipDistribution:[]};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics & Reports"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Comprehensive analytics and reporting for partner school data"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rr,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:t,onChange:l=>r(l.target.value),className:"px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"3months",children:"Last 3 Months"}),e.jsx("option",{value:"6months",children:"Last 6 Months"}),e.jsx("option",{value:"1year",children:"Last Year"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md",children:[e.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]})})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900/20",children:e.jsx(Wr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-slate-400",children:"Total Schools"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.totalSchools}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center",children:[e.jsx(Hs,{className:"w-3 h-3 mr-1"}),"+",o.growthRate,"% from last period"]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-lg bg-orange-100 dark:bg-orange-900/20",children:e.jsx(rn,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-slate-400",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.totalStudents.toLocaleString()}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center",children:[e.jsx(Hs,{className:"w-3 h-3 mr-1"}),"+8.2% from last period"]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-lg bg-green-100 dark:bg-green-900/20",children:e.jsx(Ba,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-slate-400",children:"Scholarship Recipients"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.totalScholars.toLocaleString()}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center",children:[e.jsx(Hs,{className:"w-3 h-3 mr-1"}),"+15.3% from last period"]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-lg bg-purple-100 dark:bg-purple-900/20",children:e.jsx(va,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-slate-400",children:"Total Budget"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["",(o.totalBudget/1e6).toFixed(1),"M"]}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center",children:[e.jsx(Hs,{className:"w-3 h-3 mr-1"}),"+22.1% from last period"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Monthly Trends"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),"Applications"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),"Approvals"]})]})]}),e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(nl,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-slate-400",children:"Chart visualization will be implemented here"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Scholarship Distribution"}),e.jsx(by,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(by,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-slate-400",children:"Chart visualization will be implemented here"})]})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performing Schools"}),e.jsx("button",{className:"text-sm text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300",children:"View All"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"School"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Performance Score"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Students"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Scholars"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Scholarship Rate"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:o.topPerformingSchools.map((l,c)=>{const d=(l.scholars/l.students*100).toFixed(1);return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:"h-8 w-8 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-bold text-orange-600 dark:text-orange-400",children:["#",c+1]})})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:l.name})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[l.score,"%"]}),e.jsx("div",{className:"ml-2 w-16 bg-gray-200 dark:bg-slate-600 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${l.score}%`}})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:l.students.toLocaleString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:l.scholars})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[d,"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{className:"p-2 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:e.jsx(Or,{className:"w-4 h-4"})})})]},c)})})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Scholarship Distribution Details"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:o.scholarshipDistribution.map((l,c)=>e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:l.type}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-slate-400",children:[l.percentage,"%"]})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.count}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${l.percentage}%`}})})]},c))})]})]})]})}const Pg=Et.SCHOLARSHIP_SERVICE.BASE_URL,Eg=()=>localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),p4=async()=>{try{const t=Eg(),r={Accept:"application/json","Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);const a=await fetch(`${Pg}/api/partner-school/guidelines`,{method:"GET",headers:r});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=await a.json();if(s.success)return s.data;throw new Error(s.message||"Failed to fetch guidelines")}catch(t){throw console.error("Error fetching guidelines:",t),t}},mye=async t=>{try{const r=Eg(),a=await fetch(`${Pg}/api/partner-school/guidelines`,{method:"POST",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to create guideline")}const s=await a.json();if(s.success)return s.data;throw new Error(s.message||"Failed to create guideline")}catch(r){throw console.error("Error creating guideline:",r),r}},fye=async(t,r)=>{try{const a=Eg(),s=await fetch(`${Pg}/api/partner-school/guidelines/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok){const i=await s.json();throw new Error(i.message||"Failed to update guideline")}const n=await s.json();if(n.success)return n.data;throw new Error(n.message||"Failed to update guideline")}catch(a){throw console.error("Error updating guideline:",a),a}},pye=async t=>{try{const r=Eg(),a=await fetch(`${Pg}/api/partner-school/guidelines/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to delete guideline")}const s=await a.json();if(s.success)return!0;throw new Error(s.message||"Failed to delete guideline")}catch(r){throw console.error("Error deleting guideline:",r),r}},gye=async t=>{try{const r=Eg(),a=await fetch(`${Pg}/api/partner-school/guidelines/${t}/toggle-active`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to toggle guideline status")}const s=await a.json();if(s.success)return s.data;throw new Error(s.message||"Failed to toggle guideline status")}catch(r){throw console.error("Error toggling guideline status:",r),r}};function xye(){const[t,r]=gt.useState({}),[a,s]=gt.useState(!0),[n,i]=gt.useState(null),[o,l]=gt.useState({requirements:!0,benefits:!0,responsibilities:!0,process:!0}),c={requirements:jt,benefits:Ba,responsibilities:yo,process:Zp},d={requirements:"Requirements",benefits:"Benefits",responsibilities:"Responsibilities",process:"Application Process"};gt.useEffect(()=>{u()},[]);const u=async()=>{try{s(!0),i(null);const g=await p4();r(g)}catch(g){console.error("Error fetching guidelines:",g),i(g.message||"Failed to load guidelines")}finally{s(!1)}},f=g=>{l(x=>({...x,[g]:!x[g]}))},p=()=>{window.print()};return a?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading guidelines..."})]})}):n?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 dark:text-red-400",children:n}),e.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"Retry"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Partner School Guidelines"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Requirements, benefits, responsibilities, and application process"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:p,className:"inline-flex items-center px-4 py-2 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg transition-colors",children:[e.jsx(Vz,{className:"w-4 h-4 mr-2"}),"Print"]})})]})})}),e.jsxs("div",{className:"px-6 py-6 max-w-5xl mx-auto",children:[["requirements","benefits","responsibilities","process"].map(g=>{const x=t[g]||[],v=c[g],w=o[g];return x.length===0?null:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 mb-6",children:[e.jsxs("button",{onClick:()=>f(g),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors rounded-t-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/20",children:e.jsx(v,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:d[g]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",x.length,")"]})]}),w?e.jsx(wd,{className:"w-5 h-5 text-gray-400"}):e.jsx(zi,{className:"w-5 h-5 text-gray-400"})]}),w&&e.jsx("div",{className:"px-6 pb-6",children:e.jsx("div",{className:"space-y-6",children:x.map(j=>e.jsxs("div",{className:"border-l-4 border-orange-500 pl-4 py-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:j.title}),e.jsx("div",{className:"text-gray-700 dark:text-gray-300 prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:j.content}})]},j.id))})})]},g)}),Object.keys(t).length===0&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-12 text-center",children:[e.jsx(Kt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Guidelines Available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Guidelines will be displayed here once they are added by administrators."})]})]})]})}function yye(){const[t,r]=gt.useState({}),[a,s]=gt.useState(!1),[n,i]=gt.useState(null),[o,l]=gt.useState(!1),[c,d]=gt.useState(null),[u,f]=gt.useState(""),[p,g]=gt.useState("all"),[x,v]=gt.useState("all"),[w,j]=gt.useState({section:"requirements",title:"",content:"",display_order:0,is_active:!0});gt.useEffect(()=>{_()},[]);const _=async()=>{try{s(!0),i(null);const I=await p4();r(I)}catch(I){console.error("Error fetching guidelines:",I),i(I.message||"Failed to load guidelines")}finally{s(!1)}},S=()=>{d(null),j({section:"requirements",title:"",content:"",display_order:0,is_active:!0}),l(!0)},N=I=>{d(I),j({section:I.section,title:I.title,content:I.content,display_order:I.display_order,is_active:I.is_active}),l(!0)},C=async()=>{try{s(!0),c?await fye(c.id,w):await mye(w),l(!1),_()}catch(I){console.error("Error saving guideline:",I),i(I.message||"Failed to save guideline")}finally{s(!1)}},D=async I=>{if(window.confirm("Are you sure you want to delete this guideline?"))try{s(!0),await pye(I),_()}catch(T){console.error("Error deleting guideline:",T),i(T.message||"Failed to delete guideline")}finally{s(!1)}},U=async I=>{try{await gye(I),_()}catch(T){console.error("Error toggling guideline status:",T),i(T.message||"Failed to update guideline status")}},z=Object.entries(t).flatMap(([I,T])=>{if(p!=="all"&&I!==p)return[];if(x!=="all"){const F=x==="active";return T.filter(Y=>Y.is_active===F)}return u?T.filter(F=>F.title.toLowerCase().includes(u.toLowerCase())||F.content.toLowerCase().includes(u.toLowerCase())):T}),E={requirements:"Requirements",benefits:"Benefits",responsibilities:"Responsibilities",process:"Application Process"};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Guidelines Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage partner school guidelines and requirements"})]}),e.jsxs("button",{onClick:S,className:"inline-flex items-center px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md",children:[e.jsx(gi,{className:"w-4 h-4 mr-2"}),"Add Guideline"]})]})})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search guidelines...",value:u,onChange:I=>f(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("select",{value:p,onChange:I=>g(I.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Sections"}),e.jsx("option",{value:"requirements",children:"Requirements"}),e.jsx("option",{value:"benefits",children:"Benefits"}),e.jsx("option",{value:"responsibilities",children:"Responsibilities"}),e.jsx("option",{value:"process",children:"Process"})]}),e.jsxs("select",{value:x,onChange:I=>v(I.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active Only"}),e.jsx("option",{value:"inactive",children:"Inactive Only"})]})]})}),a&&!t?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading guidelines..."})]}):n?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 dark:text-red-200",children:n})}):e.jsxs("div",{className:"space-y-4",children:[z.map(I=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded bg-orange-100 dark:bg-orange-900/20 text-orange-800 dark:text-orange-200",children:E[I.section]}),I.is_active?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Active"]}):e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:[e.jsx(mr,{className:"w-3 h-3 mr-1"}),"Inactive"]})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:I.title}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2",dangerouslySetInnerHTML:{__html:I.content}})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("button",{onClick:()=>U(I.id),className:"p-2 text-gray-400 hover:text-orange-500 transition-colors",title:I.is_active?"Deactivate":"Activate",children:I.is_active?e.jsx(jt,{className:"w-5 h-5"}):e.jsx(mr,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>N(I),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",title:"Edit",children:e.jsx(ko,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>D(I.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Delete",children:e.jsx(bn,{className:"w-5 h-5"})})]})]})},I.id)),z.length===0&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-12 text-center",children:[e.jsx(Kt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Guidelines Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:u||p!=="all"||x!=="all"?"Try adjusting your filters":"Get started by creating your first guideline"}),!u&&p==="all"&&x==="all"&&e.jsxs("button",{onClick:S,className:"inline-flex items-center px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg",children:[e.jsx(gi,{className:"w-4 h-4 mr-2"}),"Add Guideline"]})]})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:c?"Edit Guideline":"Create Guideline"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Section"}),e.jsxs("select",{value:w.section,onChange:I=>j({...w,section:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"requirements",children:"Requirements"}),e.jsx("option",{value:"benefits",children:"Benefits"}),e.jsx("option",{value:"responsibilities",children:"Responsibilities"}),e.jsx("option",{value:"process",children:"Application Process"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:w.title,onChange:I=>j({...w,title:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter guideline title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),e.jsx("textarea",{value:w.content,onChange:I=>j({...w,content:I.target.value}),rows:10,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter guideline content (HTML supported)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Order"}),e.jsx("input",{type:"number",value:w.display_order,onChange:I=>j({...w,display_order:parseInt(I.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsx("div",{className:"flex items-center pt-8",children:e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:w.is_active,onChange:I=>j({...w,is_active:I.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:C,disabled:a||!w.title||!w.content,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Saving...":c?"Update":"Create"})]})]})})]})}function bye(){const[t,r]=gt.useState("view"),a=[{id:"view",label:"View Guidelines",icon:Kt},{id:"manage",label:"Manage Guidelines",icon:rl}];return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Partner School Guidelines"}),e.jsx("p",{className:"text-gray-600",children:"View and manage partner school guidelines and requirements"})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:a.map(s=>{const n=s.icon;return e.jsxs("button",{onClick:()=>r(s.id),className:`
                                    flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm
                                    ${t===s.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                                `,children:[e.jsx(n,{className:"w-5 h-5"}),e.jsx("span",{children:s.label})]},s.id)})})}),e.jsxs("div",{children:[t==="view"&&e.jsx(xye,{}),t==="manage"&&e.jsx(yye,{})]})]})}const Vd=Et.SCHOLARSHIP_SERVICE.BASE_URL,Hd=()=>localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),vye=async(t={})=>{try{const r=Hd(),a=new URLSearchParams;t.status&&a.append("status",t.status),t.school_id&&a.append("school_id",t.school_id),t.search&&a.append("search",t.search),t.per_page&&a.append("per_page",t.per_page),t.page&&a.append("page",t.page);const s=await fetch(`${Vd}/api/partner-school/applications?${a}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();if(n.success)return n.data;throw new Error(n.message||"Failed to fetch applications")}catch(r){throw console.error("Error fetching applications:",r),r}},Z1=async t=>{try{const r=Hd(),a=await fetch(`${Vd}/api/partner-school/applications/${t}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=await a.json();if(s.success)return s.data;throw new Error(s.message||"Failed to fetch application")}catch(r){throw console.error("Error fetching application:",r),r}},wye=async t=>{try{const r=Hd(),a=await fetch(`${Vd}/api/partner-school/applications`,{method:"POST",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to create application")}const s=await a.json();if(s.success)return s.data;throw new Error(s.message||"Failed to create application")}catch(r){throw console.error("Error creating application:",r),r}},jye=async(t,r)=>{try{const a=Hd(),s=await fetch(`${Vd}/api/partner-school/applications/${t}/create-account`,{method:"POST",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok){const i=await s.json();throw new Error(i.message||"Failed to create account")}const n=await s.json();if(n.success)return n.data;throw new Error(n.message||"Failed to create account")}catch(a){throw console.error("Error creating school account:",a),a}},Nye=async t=>{try{const r=Hd(),a=await fetch(`${Vd}/api/partner-school/applications/${t}/mark-under-review`,{method:"POST",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(!a.ok){const n=await a.json();throw new Error(n.message||"Failed to mark as under review")}const s=await a.json();if(s.success)return s.data;throw new Error(s.message||"Failed to mark as under review")}catch(r){throw console.error("Error marking as under review:",r),r}},kye=async(t,r=null)=>{try{const a=Hd(),s=await fetch(`${Vd}/api/partner-school/applications/${t}/approve`,{method:"POST",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({notes:r})});if(!s.ok){const i=await s.json();throw new Error(i.message||"Failed to approve application")}const n=await s.json();if(n.success)return n.data;throw new Error(n.message||"Failed to approve application")}catch(a){throw console.error("Error approving application:",a),a}},Sye=async(t,r)=>{try{const a=Hd(),s=await fetch(`${Vd}/api/partner-school/applications/${t}/reject`,{method:"POST",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({reason:r})});if(!s.ok){const i=await s.json();throw new Error(i.message||"Failed to reject application")}const n=await s.json();if(n.success)return n.data;throw new Error(n.message||"Failed to reject application")}catch(a){throw console.error("Error rejecting application:",a),a}},_ye=async t=>{try{const r=Hd(),a=await fetch(`${Vd}/api/partner-school/applications/${t}/documents`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=await a.json();if(s.success)return s.data;throw new Error(s.message||"Failed to fetch documents")}catch(r){throw console.error("Error fetching documents:",r),r}},Aye=async(t,r,a,s=null)=>{try{const n=Hd(),i=await fetch(`${Vd}/api/partner-school/applications/${t}/documents/${r}/verify`,{method:"POST",headers:{Authorization:`Bearer ${n}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({status:a,notes:s})});if(!i.ok){const l=await i.json();throw new Error(l.message||"Failed to verify document")}const o=await i.json();if(o.success)return o.data;throw new Error(o.message||"Failed to verify document")}catch(n){throw console.error("Error verifying document:",n),n}};function Cye({onClose:t,onSave:r,editingApplication:a=null}){const[s,n]=gt.useState({school_id:"",school_name:"",classification:"",address:"",city:"",province:"",region:"",contact_number:"",contact_email:"",contact_first_name:"",contact_last_name:"",admin_notes:""}),[i,o]=gt.useState([]),[l,c]=gt.useState([]),[d,u]=gt.useState(!1),[f,p]=gt.useState(null);gt.useEffect(()=>{g(),c(f4()),a&&n({school_id:a.school_id||"",school_name:a.school?.name||"",classification:a.school?.classification||"",address:a.school?.address||"",city:a.school?.city||"",province:a.school?.province||"",region:a.school?.region||"",contact_number:a.school?.contact_number||"",contact_email:a.school?.email||"",contact_first_name:"",contact_last_name:"",admin_notes:a.admin_notes||""})},[a]);const g=async()=>{try{const v=await CF({is_partner_school:!1});v.success&&o(v.data.data||[])}catch(v){console.error("Error fetching schools:",v)}},x=async v=>{v.preventDefault();try{u(!0),p(null),await wye(s),r()}catch(w){console.error("Error creating application:",w),p(w.message||"Failed to create application")}finally{u(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a?"Edit Application":"Create Application"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx(dr,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[f&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 dark:text-red-200",children:f})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link to Existing School (Optional)"}),e.jsxs("select",{value:s.school_id,onChange:v=>n({...s,school_id:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Select a school..."}),i.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))]})]}),!s.school_id&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"School Name *"}),e.jsx("input",{type:"text",value:s.school_name,onChange:v=>n({...s,school_name:v.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter school name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Classification *"}),e.jsxs("select",{value:s.classification,onChange:v=>n({...s,classification:v.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Select classification..."}),l.map(v=>e.jsx("option",{value:v,children:v},v))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:s.address,onChange:v=>n({...s,address:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Street address, building, etc."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),e.jsx("input",{type:"text",value:s.city,onChange:v=>n({...s,city:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Province"}),e.jsx("input",{type:"text",value:s.province,onChange:v=>n({...s,province:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Province"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Region"}),e.jsx("input",{type:"text",value:s.region,onChange:v=>n({...s,region:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Region"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Number"}),e.jsx("input",{type:"text",value:s.contact_number,onChange:v=>n({...s,contact_number:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"09123456789"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-4 mt-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Account Creation"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"An account will be automatically created for the school contact person."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Email *"}),e.jsx("input",{type:"email",value:s.contact_email,onChange:v=>n({...s,contact_email:v.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"contact@school.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact First Name *"}),e.jsx("input",{type:"text",value:s.contact_first_name,onChange:v=>n({...s,contact_first_name:v.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"First name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Last Name *"}),e.jsx("input",{type:"text",value:s.contact_last_name,onChange:v=>n({...s,contact_last_name:v.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Last name"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Admin Notes"}),e.jsx("textarea",{value:s.admin_notes,onChange:v=>n({...s,admin_notes:v.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Internal notes (optional)"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d||!s.school_id&&!s.school_name||!s.contact_email||!s.contact_first_name||!s.contact_last_name,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating...":"Create Application & Account"})]})]})]})})}function Pye({application:t,onClose:r}){const{token:a}=_r(),[s,n]=gt.useState([]),[i,o]=gt.useState(!1),[l,c]=gt.useState(null),[d,u]=gt.useState(null);gt.useEffect(()=>{t&&f()},[t]);const f=async()=>{try{o(!0),c(null);const j=await _ye(t.id);n(j)}catch(j){console.error("Error fetching documents:",j),c(j.message||"Failed to load documents")}finally{o(!1)}},p=async(j,_,S=null)=>{try{await Aye(t.id,j,_,S),f()}catch(N){console.error("Error verifying document:",N),c(N.message||"Failed to verify document")}},g=j=>{const _={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200",verified:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200",rejected:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200"};return _[j]||_.pending},x=j=>{switch(j){case"verified":return e.jsx(jt,{className:"w-4 h-4"});case"rejected":return e.jsx(mr,{className:"w-4 h-4"});default:return e.jsx(lr,{className:"w-4 h-4"})}},v=j=>{const _=j.view_url||`${Et.SCHOLARSHIP_SERVICE.BASE_URL}/api/partner-school/applications/${t.id}/documents/${j.id}/view`;fetch(_,{headers:{Authorization:`Bearer ${a}`}}).then(S=>{if(!S.ok)throw new Error("Failed to fetch document");return S.blob()}).then(S=>{const N=window.URL.createObjectURL(S);window.open(N,"_blank","noopener,noreferrer"),setTimeout(()=>window.URL.revokeObjectURL(N),100)}).catch(S=>{console.error("Error viewing document:",S),alert("Failed to view document")})},w=j=>{const _=j.download_url||`${Et.SCHOLARSHIP_SERVICE.BASE_URL}/api/partner-school/applications/${t.id}/documents/${j.id}/download`;fetch(_,{headers:{Authorization:`Bearer ${a}`}}).then(S=>{if(!S.ok)throw new Error("Failed to download document");return S.blob()}).then(S=>{const N=window.URL.createObjectURL(S),C=j.createElement("a");C.href=N,C.download=j.file_name||"document",j.body.appendChild(C),C.click(),window.URL.revokeObjectURL(N),j.body.removeChild(C)}).catch(S=>{console.error("Error downloading document:",S),alert("Failed to download document")})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-5xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Document Review"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx(dr,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-6",children:i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading documents..."})]}):l?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 dark:text-red-200",children:l})}):e.jsxs("div",{className:"space-y-4",children:[s.map(j=>e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4 border border-gray-200 dark:border-slate-600",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-medium rounded ${g(j.verification_status)}`,children:[x(j.verification_status),e.jsx("span",{className:"ml-1 capitalize",children:j.verification_status})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:j.document_type})]}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:j.document_name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[j.file_name," (",(parseInt(j.file_size)/1024).toFixed(2)," KB)"]}),j.verification_notes&&e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-2",children:[e.jsx("strong",{children:"Notes:"})," ",j.verification_notes]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("button",{onClick:()=>v(j),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",title:"View Document",children:e.jsx(Or,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>w(j),className:"p-2 text-gray-400 hover:text-green-500 transition-colors",title:"Download",children:e.jsx(Ra,{className:"w-5 h-5"})})]})]}),j.verification_status==="pending"&&e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs("button",{onClick:()=>{const _=prompt("Verification notes (optional):");p(j.id,"verified",_)},className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white text-sm rounded-lg transition-colors",children:[e.jsx(jt,{className:"w-4 h-4 inline mr-1"}),"Verify"]}),e.jsxs("button",{onClick:()=>{const _=prompt("Rejection reason (required):");_&&p(j.id,"rejected",_)},className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white text-sm rounded-lg transition-colors",children:[e.jsx(mr,{className:"w-4 h-4 inline mr-1"}),"Reject"]})]})]},j.id)),s.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Kt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Documents Uploaded"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Documents will appear here once uploaded by the school."})]})]})})]})})}function Eye(){const{showSuccess:t,showError:r,showWarning:a}=na(),[s,n]=gt.useState([]),[i,o]=gt.useState(!1),[l,c]=gt.useState(null),[d,u]=gt.useState(!1),[f,p]=gt.useState(!1),[g,x]=gt.useState(!1),[v,w]=gt.useState(null),[j,_]=gt.useState(""),[S,N]=gt.useState("all"),[C,D]=gt.useState(1),[U,z]=gt.useState(null),[E,I]=gt.useState("list"),[T,F]=gt.useState("created_desc"),[Y,O]=gt.useState(!1),[q,$]=gt.useState(null),[K,J]=gt.useState(!1),[X,be]=gt.useState(""),[te,R]=gt.useState(null);gt.useEffect(()=>{ae()},[j,S,C,T]);const ae=async()=>{try{o(!0),c(null);const Ue=await vye({search:j||void 0,status:S!=="all"?S:void 0,page:C,per_page:15});let Ge=Ue.data||[];Ge=Ge.sort((Ke,ie)=>{switch(T){case"created_desc":return new Date(ie.created_at)-new Date(Ke.created_at);case"created_asc":return new Date(Ke.created_at)-new Date(ie.created_at);case"name_asc":return(Ke.school?.name||"").localeCompare(ie.school?.name||"");case"name_desc":return(ie.school?.name||"").localeCompare(Ke.school?.name||"");case"status":return(Ke.status||"").localeCompare(ie.status||"");default:return 0}}),n(Ge),z(Ue)}catch(re){console.error("Error fetching applications:",re),c(re.message||"Failed to load applications")}finally{o(!1)}},W=async re=>{try{const Ue=await Z1(re);w(Ue),p(!0)}catch(Ue){console.error("Error fetching application:",Ue),c(Ue.message||"Failed to load application")}},pe=async re=>{try{const Ue=await Z1(re);w(Ue),x(!0)}catch(Ue){console.error("Error fetching application:",Ue),c(Ue.message||"Failed to load application")}},ce=async re=>{$({title:"Mark as Under Review",message:"Mark this application as under review?",onConfirm:async()=>{try{if(await Nye(re),t("Application marked as under review"),ae(),v?.id===re){const Ue=await Z1(re);w(Ue)}}catch(Ue){console.error("Error marking as under review:",Ue),r(Ue.message||"Failed to mark as under review")}}}),O(!0)},we=async(re,Ue)=>{$({title:"Approve Application",message:"Are you sure you want to approve this application?",onConfirm:async()=>{try{await kye(re,Ue),t("Application approved successfully"),ae(),p(!1)}catch(Ge){console.error("Error approving application:",Ge),r(Ge.message||"Failed to approve application")}}}),O(!0)},je=re=>{R(re),be(""),J(!0)},fe=async()=>{if(!X.trim()){a("Please provide a rejection reason");return}try{await Sye(te,X),t("Application rejected successfully"),ae(),p(!1),J(!1),be(""),R(null)}catch(re){console.error("Error rejecting application:",re),r(re.message||"Failed to reject application")}},xe=async(re,Ue)=>{try{await jye(re,Ue),ae(),alert("Account created successfully. Credentials sent via email.")}catch(Ge){console.error("Error creating account:",Ge),c(Ge.message||"Failed to create account")}},$e=re=>re?[re.classification,re.address,re.city,re.province,re.region,re.contact_number].every(Ge=>Ge&&Ge.trim()!==""):!1,ge=re=>{if(!re)return 0;const Ue=[{value:re.classification,label:"Classification"},{value:re.address,label:"Address"},{value:re.city,label:"City"},{value:re.province,label:"Province"},{value:re.region,label:"Region"},{value:re.contact_number,label:"Contact Number"}],Ge=Ue.filter(Ke=>Ke.value&&Ke.value.trim()!=="").length;return Math.round(Ge/Ue.length*100)},ot=re=>re?[{value:re.classification,label:"Classification"},{value:re.address,label:"Address"},{value:re.city,label:"City"},{value:re.province,label:"Province"},{value:re.region,label:"Region"},{value:re.contact_number,label:"Contact Number"}].filter(Ge=>!Ge.value||Ge.value.trim()==="").map(Ge=>Ge.label):[],Ze=re=>{const Ue={draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",submitted:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200",under_review:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200",approved:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200",rejected:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200",withdrawn:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"};return Ue[re]||Ue.draft},Z=re=>{switch(re){case"approved":return e.jsx(jt,{className:"w-4 h-4"});case"rejected":return e.jsx(mr,{className:"w-4 h-4"});case"submitted":case"under_review":return e.jsx(lr,{className:"w-4 h-4"});default:return e.jsx(Kt,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Application Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage partner school applications and verification"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md",children:[e.jsx(gi,{className:"w-4 h-4 mr-2"}),"New Application"]})]})})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search applications...",value:j,onChange:re=>_(re.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative lg:w-48",children:[e.jsx(Yi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsxs("select",{value:S,onChange:re=>N(re.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white appearance-none cursor-pointer",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"submitted",children:"Submitted"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"withdrawn",children:"Withdrawn"})]})]}),e.jsxs("div",{className:"relative lg:w-48",children:[e.jsx(dU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsxs("select",{value:T,onChange:re=>F(re.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white appearance-none cursor-pointer",children:[e.jsx("option",{value:"created_desc",children:"Newest First"}),e.jsx("option",{value:"created_asc",children:"Oldest First"}),e.jsx("option",{value:"name_asc",children:"Name (A-Z)"}),e.jsx("option",{value:"name_desc",children:"Name (Z-A)"}),e.jsx("option",{value:"status",children:"By Status"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-slate-700 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>I("list"),className:`p-2 rounded-md transition-all ${E==="list"?"bg-white dark:bg-slate-600 text-orange-500 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,title:"List View",children:e.jsx(jd,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>I("grid"),className:`p-2 rounded-md transition-all ${E==="grid"?"bg-white dark:bg-slate-600 text-orange-500 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,title:"Grid View",children:e.jsx(jh,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-slate-700",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:U?.total||0})," applications found",S!=="all"&&e.jsxs("span",{className:"ml-2",children:[" Filtered by: ",e.jsx("span",{className:"font-medium capitalize",children:S.replace("_"," ")})]})]})})]}),i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading applications..."})]}):l?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 dark:text-red-200",children:l})}):s.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700",children:[e.jsx(Kt,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No applications found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search or filters"})]}):e.jsxs(e.Fragment,{children:[E==="list"&&e.jsx("div",{className:"space-y-4",children:s.map(re=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3 flex-wrap",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full ${Ze(re.status)}`,children:[Z(re.status),e.jsx("span",{className:"ml-1.5 capitalize",children:re.status.replace("_"," ")})]}),re.school&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:re.school.name}),$e(re.school)?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[e.jsx(jt,{className:"w-3.5 h-3.5 mr-1"}),"Complete"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 text-xs font-medium rounded-full bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",children:[e.jsx(Qt,{className:"w-3.5 h-3.5 mr-1"}),ge(re.school),"% Complete"]})]})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rr,{className:"w-4 h-4"}),e.jsxs("span",{children:["Created: ",new Date(re.created_at).toLocaleDateString()]})]}),re.submitted_at&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lr,{className:"w-4 h-4"}),e.jsxs("span",{children:["Submitted: ",new Date(re.submitted_at).toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4 flex-wrap",children:[re.status==="submitted"&&e.jsxs("button",{onClick:()=>ce(re.id),className:"px-3 py-2 text-sm font-medium text-yellow-700 bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:hover:bg-yellow-900/50 rounded-lg transition-all flex items-center gap-2",title:"Mark as Under Review",children:[e.jsx(lr,{className:"w-4 h-4"}),"Mark Under Review"]}),re.status==="under_review"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>we(re.id),className:"px-3 py-2 text-sm font-medium text-green-700 bg-green-100 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/50 rounded-lg transition-all flex items-center gap-2",title:"Approve Application",children:[e.jsx(jt,{className:"w-4 h-4"}),"Approve"]}),e.jsxs("button",{onClick:()=>je(re.id),className:"px-3 py-2 text-sm font-medium text-red-700 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50 rounded-lg transition-all flex items-center gap-2",title:"Reject Application",children:[e.jsx(mr,{className:"w-4 h-4"}),"Reject"]})]}),e.jsx("button",{onClick:()=>pe(re.id),className:"p-2.5 text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",title:"View Documents",children:e.jsx(Kt,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>W(re.id),className:"p-2.5 text-gray-400 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-all",title:"View Details",children:e.jsx(Or,{className:"w-5 h-5"})})]})]})},re.id))}),E==="grid"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(re=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 hover:shadow-lg transition-all hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full ${Ze(re.status)}`,children:[Z(re.status),e.jsx("span",{className:"ml-1.5 capitalize",children:re.status.replace("_"," ")})]}),re.school&&$e(re.school)?e.jsx(jt,{className:"w-5 h-5 text-green-500",title:"Complete"}):e.jsx(Qt,{className:"w-5 h-5 text-amber-500",title:`${ge(re.school)}% Complete`})]}),re.school&&e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 line-clamp-2 min-h-[3.5rem]",children:re.school.name}),e.jsxs("div",{className:"space-y-2 mb-6 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rr,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Created: ",new Date(re.created_at).toLocaleDateString()]})]}),re.submitted_at&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lr,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Submitted: ",new Date(re.submitted_at).toLocaleDateString()]})]})]}),(re.status==="submitted"||re.status==="under_review")&&e.jsxs("div",{className:"space-y-2 mb-4",children:[re.status==="submitted"&&e.jsxs("button",{onClick:()=>ce(re.id),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-semibold text-yellow-700 bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:hover:bg-yellow-900/50 rounded-lg transition-all",children:[e.jsx(lr,{className:"w-4 h-4"}),"Mark Under Review"]}),re.status==="under_review"&&e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>we(re.id),className:"flex items-center justify-center gap-1 px-2 py-2 text-sm font-semibold text-green-700 bg-green-100 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/50 rounded-lg transition-all",children:[e.jsx(jt,{className:"w-4 h-4"}),"Approve"]}),e.jsxs("button",{onClick:()=>je(re.id),className:"flex items-center justify-center gap-1 px-2 py-2 text-sm font-semibold text-red-700 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50 rounded-lg transition-all",children:[e.jsx(mr,{className:"w-4 h-4"}),"Reject"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200 dark:border-slate-700",children:[e.jsxs("button",{onClick:()=>pe(re.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",children:[e.jsx(Kt,{className:"w-4 h-4"}),"Documents"]}),e.jsxs("button",{onClick:()=>W(re.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-orange-600 hover:text-orange-700 dark:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-all",children:[e.jsx(Or,{className:"w-4 h-4"}),"Details"]})]})]},re.id))}),U&&U.last_page>1&&e.jsx("div",{className:"mt-8 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:U.from})," to"," ",e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:U.to})," of"," ",e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:U.total})," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>D(re=>Math.max(1,re-1)),disabled:C===1,className:"px-4 py-2 text-sm font-medium border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(Math.min(5,U.last_page))].map((re,Ue)=>{const Ge=Ue+1;return e.jsx("button",{onClick:()=>D(Ge),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${C===Ge?"bg-orange-500 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:Ge},Ge)}),U.last_page>5&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),e.jsx("button",{onClick:()=>D(U.last_page),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${C===U.last_page?"bg-orange-500 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:U.last_page})]})]}),e.jsx("button",{onClick:()=>D(re=>Math.min(U.last_page,re+1)),disabled:C===U.last_page,className:"px-4 py-2 text-sm font-medium border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})})]})]}),d&&e.jsx(Cye,{onClose:()=>u(!1),onSave:()=>{u(!1),ae()}}),f&&v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4 z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Application Details"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["ID: ",v.id,"  Created ",new Date(v.created_at).toLocaleDateString()]})]})}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(mr,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Application Status"}),e.jsxs("span",{className:`inline-flex items-center px-4 py-2 text-sm font-semibold rounded-lg ${Ze(v.status)}`,children:[Z(v.status),e.jsx("span",{className:"ml-2 capitalize",children:v.status.replace("_"," ")})]})]}),v.submitted_at&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Submitted"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(v.submitted_at).toLocaleDateString()})]})]})}),v.school&&e.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg border border-gray-200 dark:border-slate-600 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 px-6 py-4 border-b border-gray-200 dark:border-slate-600",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(wU,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"School Information"})]}),$e(v.school)?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[e.jsx(jt,{className:"w-4 h-4 mr-1.5"}),"Complete"]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium rounded-full bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",children:[e.jsx(Qt,{className:"w-4 h-4 mr-1.5"}),ge(v.school),"% Complete"]})]})}),e.jsxs("div",{className:"p-6",children:[!$e(v.school)&&e.jsx("div",{className:"mb-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Pd,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-amber-900 dark:text-amber-200 mb-1",children:"School information is incomplete"}),e.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:["Missing: ",ot(v.school).join(", ")]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wide",children:"School Name"}),e.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:v.school.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wide",children:"Classification"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:`text-base font-medium ${v.school.classification?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500 italic"}`,children:v.school.classification||"Not provided"}),!v.school.classification&&e.jsx(Qt,{className:"w-4 h-4 text-amber-500"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wide",children:"Address"}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(bi,{className:"w-4 h-4 text-gray-400 mt-1 flex-shrink-0"}),e.jsx("p",{className:`text-base ${v.school.address?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500 italic"}`,children:v.school.address?`${v.school.address}${v.school.city?", "+v.school.city:""}${v.school.province?", "+v.school.province:""}${v.school.region?", "+v.school.region:""}`:"Not provided"}),!v.school.address&&e.jsx(Qt,{className:"w-4 h-4 text-amber-500 mt-1"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wide",children:"Contact Number"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qi,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:`text-base ${v.school.contact_number?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500 italic"}`,children:v.school.contact_number||"Not provided"}),!v.school.contact_number&&e.jsx(Qt,{className:"w-4 h-4 text-amber-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wide",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ll,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:`text-base ${v.school.email?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500 italic"}`,children:v.school.email||"Not provided"})]})]})]})]})]}),v.admin_notes&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg border border-gray-200 dark:border-slate-600 p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 uppercase tracking-wide",children:"Admin Notes"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:v.admin_notes})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>pe(v.id),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",children:[e.jsx(Kt,{className:"w-4 h-4 mr-2"}),"View Documents"]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[v.status==="under_review"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>we(v.id),className:"inline-flex items-center px-5 py-2.5 text-sm font-semibold bg-green-500 hover:bg-green-600 text-white rounded-lg shadow-sm hover:shadow-md transition-all",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs("button",{onClick:()=>je(v.id),className:"inline-flex items-center px-5 py-2.5 text-sm font-semibold bg-red-500 hover:bg-red-600 text-white rounded-lg shadow-sm hover:shadow-md transition-all",children:[e.jsx(mr,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),v.status==="submitted"&&!v.school?.email&&e.jsxs("button",{onClick:()=>{const re=prompt("School contact email:"),Ue=prompt("Contact first name:"),Ge=prompt("Contact last name:");re&&Ue&&Ge&&xe(v.id,{email:re,first_name:Ue,last_name:Ge})},className:"inline-flex items-center px-5 py-2.5 text-sm font-semibold bg-orange-500 hover:bg-orange-600 text-white rounded-lg shadow-sm hover:shadow-md transition-all",children:[e.jsx(jm,{className:"w-4 h-4 mr-2"}),"Create Account"]})]})]})]})]})}),g&&v&&e.jsx(Pye,{application:v,onClose:()=>{x(!1),ae()}}),Y&&q&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(Qt,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:q.title})]})}),e.jsx("div",{className:"px-6 py-6",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:q.message})}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 px-6 py-4 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{O(!1),$(null)},className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:()=>{q.onConfirm(),O(!1),$(null)},className:"px-6 py-2.5 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white rounded-lg font-bold shadow-md hover:shadow-lg transition-all",children:"Confirm"})]})]})}),K&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(mr,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Reject Application"})]})}),e.jsxs("div",{className:"px-6 py-6 space-y-4",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Please provide a reason for rejecting this application:"}),e.jsx("textarea",{value:X,onChange:re=>be(re.target.value),placeholder:"Enter rejection reason...",rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white resize-none"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 px-6 py-4 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{J(!1),be(""),R(null)},className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:fe,disabled:!X.trim(),className:"px-6 py-2.5 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg font-bold shadow-md hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Reject Application"})]})]})})]})}function Tye(){const[t,r]=gt.useState("overview"),a=[{id:"overview",label:"Overview",icon:yo},{id:"application-workflow",label:"Application Workflow",icon:Kt},{id:"status-flow",label:"Status Flow",icon:Zp},{id:"documents",label:"Document Review",icon:Kt}];return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(z7,{className:"w-8 h-8 text-orange-500"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Partner School Application Guide"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Complete navigation guide for managing partner school applications"})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 mb-6",children:e.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:a.map(s=>{const n=s.icon;return e.jsxs("button",{onClick:()=>r(s.id),className:`
                                            flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm
                                            ${t===s.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                                        `,children:[e.jsx(n,{className:"w-5 h-5"}),e.jsx("span",{children:s.label})]},s.id)})})})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[t==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Getting Started"}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:e.jsxs("p",{className:"text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Navigation:"})," Sidebar  Partner School Database  Applications"]})}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"The Applications module manages the complete partner school application process from creation through approval."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Key Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Kt,{className:"w-5 h-5 text-orange-500"}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Application Management"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create, review, and manage partner school applications with automatic account creation"})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(jt,{className:"w-5 h-5 text-green-500"}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Document Verification"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Review and verify school documents uploaded by applicants"})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(lr,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Status Tracking"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Track application progress through draft, submitted, under review, and final approval stages"})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ll,{className:"w-5 h-5 text-blue-500"}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Auto Account Creation"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Automatically create partner school accounts with credentials sent via email"})]})]})]})]}),t==="application-workflow"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Application Creation & Management Workflow"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Create New Application"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:["Click ",e.jsx("strong",{children:'"+ New Application"'})," button (top right)"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Fill in the required information:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400 ml-4",children:[e.jsx("li",{children:"School Name (required)"}),e.jsx("li",{children:"Classification (required - e.g., Public Elementary, Private High School)"}),e.jsx("li",{children:"Address (City, Region, etc.)"}),e.jsx("li",{children:"Contact Person Information (required)"}),e.jsx("li",{children:"Email (required)"}),e.jsx("li",{children:"Contact Number"}),e.jsx("li",{children:"Admin Notes (optional, internal use only)"})]})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 2: Auto Account Creation"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"When you save the application:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400 ml-4",children:[e.jsx("li",{children:"A partner school account is automatically created"}),e.jsx("li",{children:"Temporary password is generated and emailed to the contact person"}),e.jsx("li",{children:"School rep can login and upload required documents"}),e.jsxs("li",{children:["Application status starts as ",e.jsx("strong",{children:'"Draft"'})]})]})]}),e.jsxs("div",{className:"border-l-4 border-yellow-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 3: Partner School Actions"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"The partner school representative will:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400 ml-4",children:[e.jsx("li",{children:"Login with their credentials"}),e.jsx("li",{children:"Upload all required documents (based on guidelines)"}),e.jsx("li",{children:"Submit the application when all documents are uploaded"}),e.jsxs("li",{children:["Status changes from ",e.jsx("strong",{children:'"Draft"'})," to ",e.jsx("strong",{children:'"Submitted"'})]})]})]}),e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 4: Admin Review & Approval"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"As an admin, you can:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400 ml-4",children:[e.jsxs("li",{children:["Mark application as ",e.jsx("strong",{children:'"Under Review"'})]}),e.jsx("li",{children:"Review all uploaded documents"}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Approve"'})," the application (sets status to Approved)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Reject"'})," the application with reason"]})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Note: Partners can withdraw their application while it's ",e.jsx("strong",{children:'"Submitted"'})," or ",e.jsx("strong",{children:'"Under Review"'})]})]})]})]}),t==="status-flow"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Application Status Flow"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4 border border-gray-200 dark:border-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Draft"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Initial status when application is created"}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Action:"}),' Click "Submit for Review" to move to "Submitted"']})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Submitted"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Application has been submitted for review"}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Action:"})," Create account or wait for document upload"]})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(lr,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Under Review"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Admin is reviewing the application and uploaded documents"}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Actions:"})," Review all documents, then Approve or Reject the application"]})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(mr,{className:"w-5 h-5 text-orange-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Withdrawn"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Partner school withdrew their application voluntarily"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(jt,{className:"w-5 h-5 text-green-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Approved"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Final status - School is verified and approved"})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(mr,{className:"w-5 h-5 text-red-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Rejected"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Final status - Application rejected, reason stored"})]})]})]}),t==="documents"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Document Review Process"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Access Document Review"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:["From Applications list, click ",e.jsx("strong",{children:" File icon"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Or access from Application Details modal"})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 2: Review Documents"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"For each document:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400 ml-4",children:[e.jsxs("li",{children:["Click ",e.jsx("strong",{children:" View"})," to see the document"]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:" Download"})," to download"]}),e.jsx("li",{children:"Review document content and validity"})]})]}),e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 3: Verify Documents"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"Options available:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:" Verify"})," - Mark document as verified"]}),e.jsxs("li",{children:[e.jsx("strong",{children:" Reject"})," - Reject document (add notes)"]}),e.jsx("li",{children:"Add verification notes (optional)"})]})]}),e.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 4: Complete Review"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Once all documents are verified, proceed to approve/reject the application"})]})]})]})]}),e.jsxs("div",{className:"mt-6 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Action Reference"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Create Application"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Click "+ New Application" button'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"View Application Details"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Click "Details" button on application card'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Review Documents"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Click "Documents" button on application card'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Mark Under Review"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"For submitted applications (yellow button)"})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Approve Application"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"For under review applications (green button)"})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Reject Application"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"For under review applications (red button)"})]})]})]})]})})}function Dye(){const[t,r]=gt.useState("applications"),a=[{id:"applications",label:"Applications",icon:Z0},{id:"guide",label:"Guide",icon:z7}];return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Partner School Applications"}),e.jsx("p",{className:"text-gray-600",children:"Manage partner school applications and verification"})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:a.map(s=>{const n=s.icon;return e.jsxs("button",{onClick:()=>r(s.id),className:`
                                    flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm
                                    ${t===s.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                                `,children:[e.jsx(n,{className:"w-5 h-5"}),e.jsx("span",{children:s.label})]},s.id)})})}),e.jsxs("div",{children:[t==="applications"&&e.jsx(Eye,{}),t==="guide"&&e.jsx(Tye,{})]})]})}const Iye=({isOpen:t,onClose:r,user:a,onActivate:s,onDeactivate:n,onPermanentDelete:i,isLoading:o})=>{if(!t||!a)return null;const l=a.is_active,c=()=>{s(a.id)},d=()=>{n(a.id)},u=()=>{i(a.id)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-full ${l?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:l?e.jsx(kd,{className:"w-6 h-6 text-green-600 dark:text-green-400"}):e.jsx(l2,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"User Actions"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.first_name," ",a.last_name]})]})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(dr,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status:"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200"}`,children:l?"Active":"Inactive"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l?"This user is currently active and can access the system.":"This user is currently inactive and cannot access the system."})]}),e.jsx("div",{className:"space-y-3",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:d,disabled:o,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-orange-100 hover:bg-orange-200 dark:bg-orange-900/20 dark:hover:bg-orange-900/30 text-orange-800 dark:text-orange-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(l2,{className:"w-4 h-4"}),e.jsx("span",{children:"Deactivate User"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Deactivating will prevent the user from accessing the system but can be restored."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:c,disabled:o,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-green-100 hover:bg-green-200 dark:bg-green-900/20 dark:hover:bg-green-900/30 text-green-800 dark:text-green-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(kd,{className:"w-4 h-4"}),e.jsx("span",{children:"Activate User"})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[e.jsxs("button",{onClick:u,disabled:o,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-800 dark:text-red-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(bn,{className:"w-4 h-4"}),e.jsx("span",{children:"Permanently Delete"})]}),e.jsxs("div",{className:"flex items-start space-x-2 mt-2 p-3 bg-red-50 dark:bg-red-900/10 rounded-lg",children:[e.jsx(Br,{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:[e.jsx("strong",{children:"Warning:"})," This action cannot be undone. The user will be completely removed from the database."]})]})]})]})})]}),e.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700",children:e.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"})})]})})},dd=bo("/api"),Oye=()=>{const[t,r]=b.useState({citizens:[],staff:[],admins:[],ps_reps:[],ssc:[],ssc_chairperson:[],ssc_city_council:[],ssc_budget_dept:[],ssc_education_affairs:[],ssc_hrd:[],ssc_social_services:[],ssc_accounting:[],ssc_treasurer:[],ssc_qcydo:[],ssc_planning_dept:[],ssc_schools_division:[],ssc_qcu:[]}),[a,s]=b.useState([]),[n,i]=b.useState("all"),[o,l]=b.useState("all"),[c,d]=b.useState(""),[u,f]=b.useState(!0),[p,g]=b.useState(!1),[x,v]=b.useState(!1),[w,j]=b.useState(null),[_,S]=b.useState(null),[N,C]=b.useState({citizen_id:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:"",middle_name:"",extension_name:"",mobile:"",birthdate:"",address:"",house_number:"",street:"",barangay:"",role:"citizen",system_role:"coordinator",department:"",position:"",assigned_school_id:""}),[D,U]=b.useState(""),[z,E]=b.useState(!1),[I,T]=b.useState({}),[F,Y]=b.useState(!1),[O,q]=b.useState(!1),[$,K]=b.useState([]),[J,X]=b.useState(""),[be,te]=b.useState([]),[R,ae]=b.useState(!1),[W,pe]=b.useState(null),[ce,we]=b.useState(!1),{success:je,error:fe,warning:xe}=na(),$e=N.role&&N.role!=="",ge=()=>({disabled:!$e,className:(oe,_e="")=>`${oe} ${_e} ${$e?"":"bg-gray-100 dark:bg-gray-800 cursor-not-allowed opacity-60"}`});b.useEffect(()=>{ot(),Ze(),Z()},[]),b.useEffect(()=>{o!==void 0&&ot()},[o]),b.useEffect(()=>{if(J){const oe=$.filter(_e=>_e.name.toLowerCase().includes(J.toLowerCase())||_e.campus?.toLowerCase().includes(J.toLowerCase())||_e.city?.toLowerCase().includes(J.toLowerCase()));te(oe)}else te($)},[J,$]),b.useEffect(()=>{re()},[n,o,c,t]),b.useEffect(()=>{N.role&&p&&it(N.role)},[N.role,p,t]);const ot=async()=>{f(!0);try{const oe={};o!=="all"&&(oe.status=o),console.log("Fetching users from:",`${dd}/users`,"with params:",oe);const _e=await or.get(`${dd}/users`,{params:oe});if(console.log("Users API response:",_e.data),_e.data.success){let et=_e.data.data;Array.isArray(et)?(console.log("Data is flat array, categorizing..."),et={citizens:et.filter(Ve=>Ve.role==="citizen"),staff:et.filter(Ve=>Ve.role==="staff"),admins:et.filter(Ve=>Ve.role==="admin"),ps_reps:et.filter(Ve=>Ve.role==="ps_rep"),ssc:et.filter(Ve=>Ve.role==="ssc"),ssc_chairperson:et.filter(Ve=>Ve.role==="ssc_chairperson"),ssc_city_council:et.filter(Ve=>Ve.role==="ssc_city_council"),ssc_budget_dept:et.filter(Ve=>Ve.role==="ssc_budget_dept"),ssc_education_affairs:et.filter(Ve=>Ve.role==="ssc_education_affairs"),ssc_hrd:et.filter(Ve=>Ve.role==="ssc_hrd"),ssc_social_services:et.filter(Ve=>Ve.role==="ssc_social_services"),ssc_accounting:et.filter(Ve=>Ve.role==="ssc_accounting"),ssc_treasurer:et.filter(Ve=>Ve.role==="ssc_treasurer"),ssc_qcydo:et.filter(Ve=>Ve.role==="ssc_qcydo"),ssc_planning_dept:et.filter(Ve=>Ve.role==="ssc_planning_dept"),ssc_schools_division:et.filter(Ve=>Ve.role==="ssc_schools_division"),ssc_qcu:et.filter(Ve=>Ve.role==="ssc_qcu")}):et=et||{citizens:[],staff:[],admins:[],ps_reps:[],ssc:[],ssc_chairperson:[],ssc_city_council:[],ssc_budget_dept:[],ssc_education_affairs:[],ssc_hrd:[],ssc_social_services:[],ssc_accounting:[],ssc_treasurer:[],ssc_qcydo:[],ssc_planning_dept:[],ssc_schools_division:[],ssc_qcu:[]},console.log("Setting users data:",et),r(et)}else console.error("Failed to fetch users:",_e.data.message),r({citizens:[],staff:[],admins:[],ps_reps:[],ssc:[],ssc_chairperson:[],ssc_city_council:[],ssc_budget_dept:[],ssc_education_affairs:[],ssc_hrd:[],ssc_social_services:[],ssc_accounting:[],ssc_treasurer:[],ssc_qcydo:[],ssc_planning_dept:[],ssc_schools_division:[],ssc_qcu:[]})}catch{console.warn("Users API not available, using empty data"),r({citizens:[],staff:[],admins:[],ps_reps:[],ssc:[],ssc_chairperson:[],ssc_city_council:[],ssc_budget_dept:[],ssc_education_affairs:[],ssc_hrd:[],ssc_social_services:[],ssc_accounting:[],ssc_treasurer:[],ssc_qcydo:[],ssc_planning_dept:[],ssc_schools_division:[],ssc_qcu:[]})}finally{f(!1)}},Ze=async()=>{try{const oe=await or.get(`${dd}/users/stats`);oe.data.success&&S(oe.data.data)}catch{console.warn("Stats API not available, using empty data")}},Z=async()=>{try{const oe=await fetch(`${dd}/schools?per_page=100`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!oe.ok)throw new Error(`HTTP error! status: ${oe.status}`);const _e=await oe.json();if(_e.success)K(_e.data.data||[]);else throw new Error(_e.message||"Failed to fetch schools")}catch{console.warn("Schools API not available, using empty data")}},re=()=>{let oe=[];n==="all"?oe=[...(t.citizens||[]).map(_e=>({..._e,roleType:"Citizen"})),...(t.staff||[]).map(_e=>({..._e,roleType:"Staff"})),...(t.admins||[]).map(_e=>({..._e,roleType:"Admin"})),...(t.ps_reps||[]).map(_e=>({..._e,roleType:"Partner School Rep"})),...(t.ssc||[]).map(_e=>({..._e,roleType:"SSC - General"})),...(t.ssc_chairperson||[]).map(_e=>({..._e,roleType:"SSC - Chairperson"})),...(t.ssc_city_council||[]).map(_e=>({..._e,roleType:"SSC - City Council"})),...(t.ssc_budget_dept||[]).map(_e=>({..._e,roleType:"SSC - Budget Department"})),...(t.ssc_education_affairs||[]).map(_e=>({..._e,roleType:"SSC - Education Affairs"})),...(t.ssc_hrd||[]).map(_e=>({..._e,roleType:"SSC - HRD"})),...(t.ssc_social_services||[]).map(_e=>({..._e,roleType:"SSC - Social Services"})),...(t.ssc_accounting||[]).map(_e=>({..._e,roleType:"SSC - Accounting"})),...(t.ssc_treasurer||[]).map(_e=>({..._e,roleType:"SSC - Treasurer"})),...(t.ssc_qcydo||[]).map(_e=>({..._e,roleType:"SSC - QCYDO"})),...(t.ssc_planning_dept||[]).map(_e=>({..._e,roleType:"SSC - Planning Department"})),...(t.ssc_schools_division||[]).map(_e=>({..._e,roleType:"SSC - Schools Division"})),...(t.ssc_qcu||[]).map(_e=>({..._e,roleType:"SSC - QCU"}))]:n==="citizen"?oe=(t.citizens||[]).map(_e=>({..._e,roleType:"Citizen"})):n==="staff"?oe=(t.staff||[]).map(_e=>({..._e,roleType:"Staff"})):n==="admin"?oe=(t.admins||[]).map(_e=>({..._e,roleType:"Admin"})):n==="ps_rep"?oe=(t.ps_reps||[]).map(_e=>({..._e,roleType:"Partner School Rep"})):n==="ssc"?oe=(t.ssc||[]).map(_e=>({..._e,roleType:"SSC - General"})):n==="ssc_chairperson"?oe=(t.ssc_chairperson||[]).map(_e=>({..._e,roleType:"SSC - Chairperson"})):n==="ssc_city_council"?oe=(t.ssc_city_council||[]).map(_e=>({..._e,roleType:"SSC - City Council"})):n==="ssc_budget_dept"?oe=(t.ssc_budget_dept||[]).map(_e=>({..._e,roleType:"SSC - Budget Department"})):n==="ssc_education_affairs"?oe=(t.ssc_education_affairs||[]).map(_e=>({..._e,roleType:"SSC - Education Affairs"})):n==="ssc_hrd"?oe=(t.ssc_hrd||[]).map(_e=>({..._e,roleType:"SSC - HRD"})):n==="ssc_social_services"?oe=(t.ssc_social_services||[]).map(_e=>({..._e,roleType:"SSC - Social Services"})):n==="ssc_accounting"?oe=(t.ssc_accounting||[]).map(_e=>({..._e,roleType:"SSC - Accounting"})):n==="ssc_treasurer"?oe=(t.ssc_treasurer||[]).map(_e=>({..._e,roleType:"SSC - Treasurer"})):n==="ssc_qcydo"?oe=(t.ssc_qcydo||[]).map(_e=>({..._e,roleType:"SSC - QCYDO"})):n==="ssc_planning_dept"?oe=(t.ssc_planning_dept||[]).map(_e=>({..._e,roleType:"SSC - Planning Department"})):n==="ssc_schools_division"?oe=(t.ssc_schools_division||[]).map(_e=>({..._e,roleType:"SSC - Schools Division"})):n==="ssc_qcu"&&(oe=(t.ssc_qcu||[]).map(_e=>({..._e,roleType:"SSC - QCU"}))),c&&(oe=oe.filter(_e=>_e.email?.toLowerCase().includes(c.toLowerCase())||_e.first_name?.toLowerCase().includes(c.toLowerCase())||_e.last_name?.toLowerCase().includes(c.toLowerCase())||_e.citizen_id?.toLowerCase().includes(c.toLowerCase()))),s(oe)},Ue=async oe=>{if(oe.preventDefault(),!!me()){E(!0);try{const{password_confirmation:_e,...et}=N,Ve={...et,email:et.email.trim().toLowerCase(),first_name:et.first_name.trim(),last_name:et.last_name.trim(),middle_name:et.middle_name?.trim()||null,mobile:et.mobile?.trim()||null,department:et.department?.trim()||null,position:et.position?.trim()||null,system_role:et.system_role||null,assigned_school_id:et.assigned_school_id&&et.assigned_school_id!==""?parseInt(et.assigned_school_id):null};Ve.role==="staff"?Ve.system_role||(Ve.system_role="coordinator"):delete Ve.system_role,Object.keys(Ve).forEach(Bt=>{(Ve[Bt]===null||Ve[Bt]==="")&&delete Ve[Bt]}),console.log("Sending user data:",Ve),(await or.post(`${dd}/users`,Ve)).data.success&&(je("User created successfully!"),g(!1),ue(),ot(),Ze())}catch(_e){if(console.error("Error creating user:",_e),_e.response?.data?.errors){const et=_e.response.data.errors;T(et),fe("Please fix the validation errors and try again.")}else if(_e.response?.data?.message)fe(`Error: ${_e.response.data.message}`);else if(_e.code==="NETWORK_ERROR")fe("Network error. Please check your connection and try again.");else{const et=_e.response?.data?.message||_e.message;fe("Error creating user: "+et)}}finally{E(!1)}}},Ge=async oe=>{oe.preventDefault();try{(await or.put(`${dd}/users/${w.id}`,N)).data.success&&(je("User updated successfully!"),v(!1),j(null),ue(),ot())}catch(_e){fe("Error updating user: "+(_e.response?.data?.message||_e.message))}},Ke=oe=>{pe(oe),ae(!0)},ie=()=>{ae(!1),pe(null),we(!1)},Ce=async oe=>{we(!0);try{(await or.put(`${dd}/users/${oe}/activate`)).data.success&&(je("User activated successfully!"),ot(),Ze(),ie())}catch(_e){fe(`Error activating user: ${_e.response?.data?.message||_e.message}`)}finally{we(!1)}},Oe=async oe=>{we(!0);try{(await or.delete(`${dd}/users/${oe}`)).data.success&&(xe("User deactivated successfully!"),ot(),Ze(),ie())}catch(_e){fe(`Error deactivating user: ${_e.response?.data?.message||_e.message}`)}finally{we(!1)}},Je=async oe=>{we(!0);try{(await or.delete(`${dd}/users/${oe}/permanent`)).data.success&&(je("User permanently deleted successfully!"),ot(),Ze(),ie())}catch(_e){fe(`Error permanently deleting user: ${_e.response?.data?.message||_e.message}`)}finally{we(!1)}},H=()=>{g(!0),it("citizen")},de=oe=>{j(oe),C({email:oe.email||"",first_name:oe.first_name||"",last_name:oe.last_name||"",middle_name:oe.middle_name||"",extension_name:oe.extension_name||"",mobile:oe.mobile||"",birthdate:oe.birthdate||"",address:oe.address||"",house_number:oe.house_number||"",street:oe.street||"",barangay:oe.barangay||"",role:oe.role||"citizen",system_role:oe.staff_details?.system_role||"coordinator",department:oe.staff_details?.department||"",position:oe.staff_details?.position||""}),v(!0)},ue=()=>{C({citizen_id:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:"",middle_name:"",extension_name:"",mobile:"",birthdate:"",address:"",house_number:"",street:"",barangay:"",role:"citizen",system_role:"coordinator",department:"",position:"",assigned_school_id:""}),T({}),E(!1),Y(!1),q(!1),U(""),X("")},me=()=>{const oe={};return N.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.email)?N.email.length>255&&(oe.email="Email must be less than 255 characters"):oe.email="Please enter a valid email address":oe.email="Email is required",N.password?N.password.length<8?oe.password="Password must be at least 8 characters":N.password.length>128?oe.password="Password must be less than 128 characters":/(?=.*[a-z])/.test(N.password)?/(?=.*[A-Z])/.test(N.password)?/(?=.*\d)/.test(N.password)?/(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?])/.test(N.password)||(oe.password="Password must contain at least one special character"):oe.password="Password must contain at least one number":oe.password="Password must contain at least one uppercase letter":oe.password="Password must contain at least one lowercase letter":oe.password="Password is required",N.password_confirmation?N.password!==N.password_confirmation&&(oe.password_confirmation="Passwords do not match"):oe.password_confirmation="Please confirm your password",N.first_name.trim()?N.first_name.trim().length<2?oe.first_name="First name must be at least 2 characters":N.first_name.trim().length>50?oe.first_name="First name must be less than 50 characters":/^[a-zA-Z\s'-]+$/.test(N.first_name.trim())||(oe.first_name="First name can only contain letters, spaces, hyphens, and apostrophes"):oe.first_name="First name is required",N.last_name.trim()?N.last_name.trim().length<2?oe.last_name="Last name must be at least 2 characters":N.last_name.trim().length>50?oe.last_name="Last name must be less than 50 characters":/^[a-zA-Z\s'-]+$/.test(N.last_name.trim())||(oe.last_name="Last name can only contain letters, spaces, hyphens, and apostrophes"):oe.last_name="Last name is required",N.middle_name&&N.middle_name.trim().length>50?oe.middle_name="Middle name must be less than 50 characters":N.middle_name&&!/^[a-zA-Z\s'-]+$/.test(N.middle_name.trim())&&(oe.middle_name="Middle name can only contain letters, spaces, hyphens, and apostrophes"),N.mobile&&!/^[\+]?[1-9][\d]{0,15}$/.test(N.mobile.replace(/[\s\-\(\)]/g,""))&&(oe.mobile="Please enter a valid phone number"),N.role==="staff"&&!N.system_role&&(oe.system_role="System role is required for staff members"),N.role==="staff"&&(!N.department||N.department.trim()===""?oe.department="Department is required for staff members":N.department.length>100&&(oe.department="Department name must be less than 100 characters")),N.role==="staff"&&(!N.position||N.position.trim()===""?oe.position="Position is required for staff members":N.position.length>100&&(oe.position="Position must be less than 100 characters")),N.role==="ps_rep"&&(N.assigned_school_id||(oe.assigned_school_id="School assignment is required for Partner School Representatives")),T(oe),Object.keys(oe).length===0},Se=oe=>{if(!oe)return{strength:0,label:"",color:"",requirements:[]};const _e=[{text:"At least 8 characters",met:oe.length>=8},{text:"One lowercase letter",met:/[a-z]/.test(oe)},{text:"One uppercase letter",met:/[A-Z]/.test(oe)},{text:"One number",met:/[0-9]/.test(oe)},{text:"One special character",met:/[^A-Za-z0-9]/.test(oe)}],Ve=_e.filter(Fe=>Fe.met).length,Wt=["Very Weak","Weak","Fair","Good","Strong"],Bt=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"];return{strength:Ve,label:Wt[Ve-1]||"Very Weak",color:Bt[Ve-1]||"bg-red-500",requirements:_e}},Ye=()=>{const oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let _e="";for(let et=0;et<12;et++)_e+=oe.charAt(Math.floor(Math.random()*oe.length));C({...N,password:_e,password_confirmation:_e})},kt=(oe,_e)=>{const et={...I};switch(oe){case"email":_e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_e)?_e.length>255?et.email="Email must be less than 255 characters":delete et.email:et.email="Please enter a valid email address":et.email="Email is required";break;case"password":_e?_e.length<8?et.password="Password must be at least 8 characters":_e.length>128?et.password="Password must be less than 128 characters":/(?=.*[a-z])/.test(_e)?/(?=.*[A-Z])/.test(_e)?/(?=.*\d)/.test(_e)?/(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?])/.test(_e)?delete et.password:et.password="Password must contain at least one special character":et.password="Password must contain at least one number":et.password="Password must contain at least one uppercase letter":et.password="Password must contain at least one lowercase letter":et.password="Password is required";break;case"password_confirmation":_e?_e!==N.password?et.password_confirmation="Passwords do not match":delete et.password_confirmation:et.password_confirmation="Please confirm your password";break;case"first_name":_e.trim()?_e.trim().length<2?et.first_name="First name must be at least 2 characters":_e.trim().length>50?et.first_name="First name must be less than 50 characters":/^[a-zA-Z\s'-]+$/.test(_e.trim())?delete et.first_name:et.first_name="First name can only contain letters, spaces, hyphens, and apostrophes":et.first_name="First name is required";break;case"last_name":_e.trim()?_e.trim().length<2?et.last_name="Last name must be at least 2 characters":_e.trim().length>50?et.last_name="Last name must be less than 50 characters":/^[a-zA-Z\s'-]+$/.test(_e.trim())?delete et.last_name:et.last_name="Last name can only contain letters, spaces, hyphens, and apostrophes":et.last_name="Last name is required";break;case"mobile":_e&&!/^[\+]?[1-9][\d]{0,15}$/.test(_e.replace(/[\s\-\(\)]/g,""))?et.mobile="Please enter a valid phone number":delete et.mobile;break}T(et)},it=oe=>{const et={citizen:"CITIZEN",staff:"STAFF",admin:"ADMIN",ps_rep:"PSREP",ssc:"SSC",ssc_chairperson:"SSC",ssc_city_council:"SSC",ssc_budget_dept:"SSC",ssc_education_affairs:"SSC",ssc_hrd:"SSC",ssc_social_services:"SSC",ssc_accounting:"SSC",ssc_treasurer:"SSC",ssc_qcydo:"SSC",ssc_planning_dept:"SSC",ssc_schools_division:"SSC",ssc_qcu:"SSC"}[oe]||"USER";let Ve=0;[...t.citizens||[],...t.staff||[],...t.admins||[],...t.ps_reps||[],...t.ssc||[],...t.ssc_chairperson||[],...t.ssc_city_council||[],...t.ssc_budget_dept||[],...t.ssc_education_affairs||[],...t.ssc_hrd||[],...t.ssc_social_services||[],...t.ssc_accounting||[],...t.ssc_treasurer||[],...t.ssc_qcydo||[],...t.ssc_planning_dept||[],...t.ssc_schools_division||[],...t.ssc_qcu||[]].forEach(nt=>{if(nt.citizen_id&&nt.citizen_id.startsWith(et)){const ut=parseInt(nt.citizen_id.split("-")[1]);!isNaN(ut)&&ut>Ve&&(Ve=ut)}});const Bt=Ve+1,Fe=`${et}-${Bt.toString().padStart(3,"0")}`;U(Fe),C({...N,citizen_id:Fe})},ft=oe=>{switch(oe){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"staff":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"ps_rep":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"citizen":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"ssc":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"ssc_chairperson":return"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200";case"ssc_city_council":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"ssc_budget_dept":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"ssc_education_affairs":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200";case"ssc_hrd":return"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200";case"ssc_social_services":return"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200";case"ssc_accounting":return"bg-lime-100 text-lime-800 dark:bg-lime-900 dark:text-lime-200";case"ssc_treasurer":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200";case"ssc_qcydo":return"bg-sky-100 text-sky-800 dark:bg-sky-900 dark:text-sky-200";case"ssc_planning_dept":return"bg-violet-100 text-violet-800 dark:bg-violet-900 dark:text-violet-200";case"ssc_schools_division":return"bg-fuchsia-100 text-fuchsia-800 dark:bg-fuchsia-900 dark:text-fuchsia-200";case"ssc_qcu":return"bg-rose-100 text-rose-800 dark:bg-rose-900 dark:text-rose-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},Te=()=>(t.citizens?.length||0)+(t.staff?.length||0)+(t.admins?.length||0)+(t.ps_reps?.length||0)+(t.ssc_city_council?.length||0)+(t.ssc_budget_dept?.length||0)+(t.ssc_education_affairs?.length||0);return u?e.jsx(Vme,{}):e.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"User Management"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1",children:"Manage system users and their roles"})]}),e.jsxs("button",{onClick:H,className:"flex items-center justify-center gap-2 px-3 py-2 sm:px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base w-full sm:w-auto",children:[e.jsx(jm,{size:18,className:"sm:w-5 sm:h-5"}),e.jsx("span",{className:"truncate",children:"Add New User"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-4 sm:gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Total Users"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mt-1",children:Te()})]}),e.jsx(Wr,{className:"text-blue-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Citizens"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:t.citizens?.length||0})]}),e.jsx(kd,{className:"text-green-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Staff Members"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1",children:t.staff?.length||0})]}),e.jsx(Ns,{className:"text-blue-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Administrators"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:t.admins?.length||0})]}),e.jsx(Ns,{className:"text-red-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Partner School Reps"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-purple-600 dark:text-purple-400 mt-1",children:t.ps_reps?.length||0})]}),e.jsx(Ns,{className:"text-purple-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"SSC - City Council"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-orange-600 dark:text-orange-400 mt-1",children:t.ssc_city_council?.length||0})]}),e.jsx(Ns,{className:"text-orange-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"SSC - Budget Dept"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:t.ssc_budget_dept?.length||0})]}),e.jsx(Ns,{className:"text-yellow-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"SSC - Education"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-indigo-600 dark:text-indigo-400 mt-1",children:t.ssc_education_affairs?.length||0})]}),e.jsx(Ns,{className:"text-indigo-500 flex-shrink-0",size:28})]})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-3 sm:p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search by name, email, or citizen ID...",value:c,onChange:oe=>d(oe.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yi,{size:18,className:"text-gray-600 dark:text-gray-400"}),e.jsxs("select",{value:n,onChange:oe=>i(oe.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"citizen",children:"Citizens"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"admin",children:"Administrators"}),e.jsx("option",{value:"ps_rep",children:"Partner School Reps"}),e.jsx("option",{value:"ssc",children:"SSC - General"}),e.jsx("option",{value:"ssc_chairperson",children:"SSC - Chairperson"}),e.jsx("option",{value:"ssc_city_council",children:"SSC - City Council"}),e.jsx("option",{value:"ssc_budget_dept",children:"SSC - Budget Department"}),e.jsx("option",{value:"ssc_education_affairs",children:"SSC - Education Affairs"}),e.jsx("option",{value:"ssc_hrd",children:"SSC - HRD"}),e.jsx("option",{value:"ssc_social_services",children:"SSC - Social Services"}),e.jsx("option",{value:"ssc_accounting",children:"SSC - Accounting"}),e.jsx("option",{value:"ssc_treasurer",children:"SSC - Treasurer"}),e.jsx("option",{value:"ssc_qcydo",children:"SSC - QCYDO"}),e.jsx("option",{value:"ssc_planning_dept",children:"SSC - Planning Department"}),e.jsx("option",{value:"ssc_schools_division",children:"SSC - Schools Division"}),e.jsx("option",{value:"ssc_qcu",children:"SSC - QCU"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kd,{size:18,className:"text-gray-600 dark:text-gray-400"}),e.jsxs("select",{value:o,onChange:oe=>l(oe.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"User Info"}),e.jsx("span",{className:"sm:hidden",children:"Name"})]}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"Citizen ID"}),e.jsx("span",{className:"sm:hidden",children:"ID"})]}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:u?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"Loading users..."})}):a.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"No users found"})}):a.map(oe=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white text-sm sm:text-base truncate",children:[oe.first_name," ",oe.middle_name?oe.middle_name+" ":"",oe.last_name," ",oe.extension_name||""]}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 truncate",children:oe.email})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 text-xs sm:text-sm text-gray-900 dark:text-white",children:e.jsx("span",{className:"truncate block",children:oe.citizen_id||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ft(oe.role)}`,children:oe.roleType})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:oe.is_active?e.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 text-xs sm:text-sm",children:[e.jsx(kd,{size:14,className:"sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Active"})]}):e.jsxs("span",{className:"flex items-center gap-1 text-red-600 dark:text-red-400 text-xs sm:text-sm",children:[e.jsx(l2,{size:14,className:"sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Inactive"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 text-right",children:e.jsxs("div",{className:"flex justify-end gap-1 sm:gap-2",children:[e.jsx("button",{onClick:()=>de(oe),className:"p-1.5 sm:p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit User",children:e.jsx(ko,{size:16,className:"sm:w-5 sm:h-5"})}),e.jsx("button",{onClick:()=>Ke(oe),className:`p-1.5 sm:p-2 rounded-lg transition-colors ${oe.is_active?"text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20":"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20"}`,title:(oe.is_active,"User Actions"),children:e.jsx(GU,{size:16,className:"sm:w-5 sm:h-5"})})]})})]},oe.id))})]})})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-2 sm:p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(jm,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Create New User"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add a new user to the system"})]})]}),e.jsx("button",{onClick:()=>{g(!1),ue()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(mr,{className:"w-5 h-5 text-gray-500"})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("form",{onSubmit:Ue,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Hr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Hr,{className:"w-4 h-4 inline mr-1"}),"Citizen ID *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",required:!0,value:N.citizen_id,readOnly:!0,className:"w-full px-4 py-3 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-600 text-gray-700 dark:text-gray-300 cursor-not-allowed focus:ring-2 focus:ring-blue-500"}),e.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(jt,{className:"w-3 h-3"}),"ID is automatically generated based on role"]}),I.citizen_id&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(Qt,{className:"w-4 h-4"}),I.citizen_id]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(ll,{className:"w-4 h-4 inline mr-1"}),"Email Address *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",required:!0,value:N.email,onChange:oe=>{C({...N,email:oe.target.value}),kt("email",oe.target.value)},onBlur:oe=>kt("email",oe.target.value),className:`w-full px-4 py-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${I.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"user@example.com"}),e.jsx(ll,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),I.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(Qt,{className:"w-4 h-4"}),I.email]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ns,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Role & Permissions"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Ns,{className:"w-4 h-4 inline mr-1"}),"User Role *"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{required:!0,value:N.role,onChange:oe=>C({...N,role:oe.target.value}),className:"w-full px-4 py-3 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white transition-colors appearance-none",children:[e.jsx("option",{value:"",children:"Select a role"}),e.jsx("option",{value:"citizen",children:"Citizen"}),e.jsx("option",{value:"staff",children:"Staff Member"}),e.jsx("option",{value:"admin",children:"Administrator"}),e.jsx("option",{value:"ps_rep",children:"Partner School Representative"}),e.jsx("option",{value:"ssc",children:"SSC - General"}),e.jsx("option",{value:"ssc_chairperson",children:"SSC - Chairperson"}),e.jsx("option",{value:"ssc_city_council",children:"SSC - City Council"}),e.jsx("option",{value:"ssc_budget_dept",children:"SSC - Budget Department"}),e.jsx("option",{value:"ssc_education_affairs",children:"SSC - Education Affairs"}),e.jsx("option",{value:"ssc_hrd",children:"SSC - HRD"}),e.jsx("option",{value:"ssc_social_services",children:"SSC - Social Services"}),e.jsx("option",{value:"ssc_accounting",children:"SSC - Accounting"}),e.jsx("option",{value:"ssc_treasurer",children:"SSC - Treasurer"}),e.jsx("option",{value:"ssc_qcydo",children:"SSC - QCYDO"}),e.jsx("option",{value:"ssc_planning_dept",children:"SSC - Planning Department"}),e.jsx("option",{value:"ssc_schools_division",children:"SSC - Schools Division"}),e.jsx("option",{value:"ssc_qcu",children:"SSC - QCU"})]}),e.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Choose the appropriate role for this user"})]})})]}),!$e&&e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mr-2"}),e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Please select a user role above to enable the form fields below."})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Hr,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Personal Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Hr,{className:"w-4 h-4 inline mr-1"}),"First Name *"]}),e.jsx("input",{type:"text",required:!0,...ge(),value:N.first_name,onChange:oe=>{C({...N,first_name:oe.target.value}),kt("first_name",oe.target.value)},onBlur:oe=>kt("first_name",oe.target.value),className:ge().className("w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors",I.first_name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter first name"}),I.first_name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(Qt,{className:"w-4 h-4"}),I.first_name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Hr,{className:"w-4 h-4 inline mr-1"}),"Last Name *"]}),e.jsx("input",{type:"text",required:!0,value:N.last_name,onChange:oe=>{C({...N,last_name:oe.target.value}),kt("last_name",oe.target.value)},onBlur:oe=>kt("last_name",oe.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${I.last_name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter last name"}),I.last_name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(Qt,{className:"w-4 h-4"}),I.last_name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Hr,{className:"w-4 h-4 inline mr-1"}),"Middle Name"]}),e.jsx("input",{type:"text",value:N.middle_name,onChange:oe=>C({...N,middle_name:oe.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${I.middle_name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter middle name (optional)"}),I.middle_name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(Qt,{className:"w-4 h-4"}),I.middle_name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(qi,{className:"w-4 h-4 inline mr-1"}),"Mobile Number"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"tel",value:N.mobile,onChange:oe=>{C({...N,mobile:oe.target.value}),kt("mobile",oe.target.value)},onBlur:oe=>kt("mobile",oe.target.value),className:`w-full px-4 py-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${I.mobile?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"+63 912 345 6789"}),e.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),I.mobile&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(Qt,{className:"w-4 h-4"}),I.mobile]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ml,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Account Security"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Ml,{className:"w-4 h-4 inline mr-1"}),"Password *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:F?"text":"password",required:!0,value:N.password,onChange:oe=>{C({...N,password:oe.target.value}),kt("password",oe.target.value)},onBlur:oe=>kt("password",oe.target.value),className:`w-full px-4 py-3 pl-10 pr-24 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${I.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter secure password"}),e.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex gap-1",children:[e.jsx("button",{type:"button",onClick:()=>Y(!F),className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:F?e.jsx(ai,{size:16}):e.jsx(Or,{size:16})}),e.jsx("button",{type:"button",onClick:Ye,className:"px-2 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 rounded transition-colors",children:"Generate"})]})]}),I.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(Qt,{className:"w-4 h-4"}),I.password]}),N.password&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${Se(N.password).color}`,style:{width:`${Se(N.password).strength/5*100}%`}})}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:Se(N.password).label})]}),e.jsx("div",{className:"grid grid-cols-1 gap-1",children:Se(N.password).requirements.map((oe,_e)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[oe.met?e.jsx(jt,{className:"w-3 h-3 text-green-500"}):e.jsx(Qt,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:oe.met?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400",children:oe.text})]},_e))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Ml,{className:"w-4 h-4 inline mr-1"}),"Confirm Password *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:O?"text":"password",required:!0,value:N.password_confirmation,onChange:oe=>{C({...N,password_confirmation:oe.target.value}),kt("password_confirmation",oe.target.value)},onBlur:oe=>kt("password_confirmation",oe.target.value),className:`w-full px-4 py-3 pl-10 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${I.password_confirmation?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Confirm your password"}),e.jsx(Ml,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("button",{type:"button",onClick:()=>q(!O),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:O?e.jsx(ai,{size:16}):e.jsx(Or,{size:16})})]}),I.password_confirmation&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(Qt,{className:"w-4 h-4"}),I.password_confirmation]})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[N.role==="staff"&&e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ww,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("h5",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Staff Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(ww,{className:"w-4 h-4 inline mr-1"}),"System Role *"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:N.system_role,onChange:oe=>C({...N,system_role:oe.target.value}),className:`w-full px-4 py-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors appearance-none ${I.system_role?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,children:[e.jsx("option",{value:"",children:"Select system role"}),e.jsx("option",{value:"interviewer",children:"Interviewer"}),e.jsx("option",{value:"reviewer",children:"Reviewer"}),e.jsx("option",{value:"administrator",children:"Administrator"}),e.jsx("option",{value:"coordinator",children:"Coordinator"})]}),e.jsx(ww,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),I.system_role&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(Qt,{className:"w-4 h-4"}),I.system_role]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(n2,{className:"w-4 h-4 inline mr-1"}),"Department *"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:N.department,onChange:oe=>C({...N,department:oe.target.value}),className:`w-full px-4 py-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${I.department?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Department"}),e.jsx("option",{value:"Information Technology",children:"Information Technology"}),e.jsx("option",{value:"Human Resources",children:"Human Resources"}),e.jsx("option",{value:"Finance",children:"Finance"}),e.jsx("option",{value:"Education Affairs",children:"Education Affairs"}),e.jsx("option",{value:"Student Services",children:"Student Services"}),e.jsx("option",{value:"Administration",children:"Administration"}),e.jsx("option",{value:"Budget Department",children:"Budget Department"}),e.jsx("option",{value:"City Council",children:"City Council"}),e.jsx("option",{value:"Scholarship Program",children:"Scholarship Program"}),e.jsx("option",{value:"Assessment & Evaluation",children:"Assessment & Evaluation"}),e.jsx("option",{value:"Community Relations",children:"Community Relations"}),e.jsx("option",{value:"Legal Affairs",children:"Legal Affairs"}),e.jsx("option",{value:"Planning & Development",children:"Planning & Development"})]}),e.jsx(n2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),I.department&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(Qt,{className:"w-4 h-4"}),I.department]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Hr,{className:"w-4 h-4 inline mr-1"}),"Position *"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:N.position,onChange:oe=>C({...N,position:oe.target.value}),className:`w-full px-4 py-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${I.position?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Position"}),e.jsx("option",{value:"Interviewer",children:"Interviewer"}),e.jsx("option",{value:"Assessment Officer",children:"Assessment Officer"}),e.jsx("option",{value:"Evaluation Specialist",children:"Evaluation Specialist"}),e.jsx("option",{value:"Reviewer",children:"Reviewer"}),e.jsx("option",{value:"Assessment Coordinator",children:"Assessment Coordinator"}),e.jsx("option",{value:"Evaluation Manager",children:"Evaluation Manager"}),e.jsx("option",{value:"Administrator",children:"Administrator"}),e.jsx("option",{value:"System Administrator",children:"System Administrator"}),e.jsx("option",{value:"IT Administrator",children:"IT Administrator"}),e.jsx("option",{value:"Coordinator",children:"Coordinator"}),e.jsx("option",{value:"Program Coordinator",children:"Program Coordinator"}),e.jsx("option",{value:"Scholarship Coordinator",children:"Scholarship Coordinator"}),e.jsx("option",{value:"Department Head",children:"Department Head"}),e.jsx("option",{value:"Manager",children:"Manager"}),e.jsx("option",{value:"Supervisor",children:"Supervisor"}),e.jsx("option",{value:"Officer",children:"Officer"}),e.jsx("option",{value:"Specialist",children:"Specialist"}),e.jsx("option",{value:"Analyst",children:"Analyst"}),e.jsx("option",{value:"Assistant",children:"Assistant"}),e.jsx("option",{value:"Clerk",children:"Clerk"})]}),e.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),I.position&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(Qt,{className:"w-4 h-4"}),I.position]})]})]})]})}),N.role==="ps_rep"&&e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Dn,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),e.jsx("h5",{className:"font-semibold text-orange-900 dark:text-orange-100",children:"School Assignment"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search School *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search schools by name, campus, or location...",value:J,onChange:oe=>X(oe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select School *"}),e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-300 dark:border-gray-600 rounded-lg",children:be.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:$.length===0?"Loading schools...":"No schools found"}):be.map(oe=>e.jsx("div",{onClick:()=>C({...N,assigned_school_id:oe.id}),className:`p-3 border-b border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${N.assigned_school_id===oe.id?"bg-orange-50 dark:bg-orange-900/20 border-l-4 border-l-orange-500":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:oe.name}),oe.campus&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:oe.campus}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[oe.city,oe.region].filter(Boolean).join(", ")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${oe.is_partner_school?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}`,children:oe.is_partner_school?"Partner":"Regular"}),N.assigned_school_id===oe.id&&e.jsx(jt,{className:"w-4 h-4 text-orange-500"})]})]})},oe.id))}),I.assigned_school_id&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:I.assigned_school_id})]}),N.assigned_school_id&&e.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 text-green-500 mr-2"}),e.jsxs("span",{className:"text-sm text-green-700 dark:text-green-400",children:["School selected: ",$.find(oe=>oe.id===N.assigned_school_id)?.name]})]})})]})]})})]})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 px-6 py-4 rounded-b-xl",children:e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>{g(!1),ue()},className:"px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 dark:bg-gray-600 dark:text-gray-300 dark:hover:bg-gray-500 rounded-lg transition-colors font-medium flex items-center gap-2",children:[e.jsx(mr,{className:"w-4 h-4"}),"Cancel"]}),e.jsxs("button",{type:"submit",onClick:Ue,disabled:z||!$e,className:`px-6 py-3 rounded-lg transition-colors font-medium flex items-center gap-2 shadow-lg hover:shadow-xl ${z||!$e?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:[z&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),!z&&e.jsx(jm,{className:"w-4 h-4"}),z?"Creating User...":"Create User"]})]})})]})}),x&&w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Edit User"}),e.jsxs("form",{onSubmit:Ge,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),e.jsx("input",{type:"email",required:!0,value:N.email,onChange:oe=>C({...N,email:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role *"}),e.jsxs("select",{required:!0,value:N.role,onChange:oe=>C({...N,role:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"citizen",children:"Citizen"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"admin",children:"Administrator"}),e.jsx("option",{value:"ps_rep",children:"Partner School Rep"}),e.jsx("option",{value:"ssc_city_council",children:"SSC - City Council"}),e.jsx("option",{value:"ssc_budget_dept",children:"SSC - Budget Department"}),e.jsx("option",{value:"ssc_education_affairs",children:"SSC - Education Affairs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name *"}),e.jsx("input",{type:"text",required:!0,value:N.first_name,onChange:oe=>C({...N,first_name:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name *"}),e.jsx("input",{type:"text",required:!0,value:N.last_name,onChange:oe=>C({...N,last_name:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Middle Name"}),e.jsx("input",{type:"text",value:N.middle_name,onChange:oe=>C({...N,middle_name:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mobile"}),e.jsx("input",{type:"text",value:N.mobile,onChange:oe=>C({...N,mobile:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),(N.role==="staff"||w.role==="staff")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"System Role"}),e.jsxs("select",{value:N.system_role,onChange:oe=>C({...N,system_role:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"interviewer",children:"Interviewer"}),e.jsx("option",{value:"reviewer",children:"Reviewer"}),e.jsx("option",{value:"administrator",children:"Administrator"}),e.jsx("option",{value:"coordinator",children:"Coordinator"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Department *"}),e.jsxs("select",{value:N.department,onChange:oe=>C({...N,department:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Select Department"}),e.jsx("option",{value:"Information Technology",children:"Information Technology"}),e.jsx("option",{value:"Human Resources",children:"Human Resources"}),e.jsx("option",{value:"Finance",children:"Finance"}),e.jsx("option",{value:"Education Affairs",children:"Education Affairs"}),e.jsx("option",{value:"Student Services",children:"Student Services"}),e.jsx("option",{value:"Administration",children:"Administration"}),e.jsx("option",{value:"Budget Department",children:"Budget Department"}),e.jsx("option",{value:"City Council",children:"City Council"}),e.jsx("option",{value:"Scholarship Program",children:"Scholarship Program"}),e.jsx("option",{value:"Assessment & Evaluation",children:"Assessment & Evaluation"}),e.jsx("option",{value:"Community Relations",children:"Community Relations"}),e.jsx("option",{value:"Legal Affairs",children:"Legal Affairs"}),e.jsx("option",{value:"Planning & Development",children:"Planning & Development"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Position *"}),e.jsxs("select",{value:N.position,onChange:oe=>C({...N,position:oe.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Select Position"}),e.jsx("option",{value:"Interviewer",children:"Interviewer"}),e.jsx("option",{value:"Assessment Officer",children:"Assessment Officer"}),e.jsx("option",{value:"Evaluation Specialist",children:"Evaluation Specialist"}),e.jsx("option",{value:"Reviewer",children:"Reviewer"}),e.jsx("option",{value:"Assessment Coordinator",children:"Assessment Coordinator"}),e.jsx("option",{value:"Evaluation Manager",children:"Evaluation Manager"}),e.jsx("option",{value:"Administrator",children:"Administrator"}),e.jsx("option",{value:"System Administrator",children:"System Administrator"}),e.jsx("option",{value:"IT Administrator",children:"IT Administrator"}),e.jsx("option",{value:"Coordinator",children:"Coordinator"}),e.jsx("option",{value:"Program Coordinator",children:"Program Coordinator"}),e.jsx("option",{value:"Scholarship Coordinator",children:"Scholarship Coordinator"}),e.jsx("option",{value:"Department Head",children:"Department Head"}),e.jsx("option",{value:"Manager",children:"Manager"}),e.jsx("option",{value:"Supervisor",children:"Supervisor"}),e.jsx("option",{value:"Officer",children:"Officer"}),e.jsx("option",{value:"Specialist",children:"Specialist"}),e.jsx("option",{value:"Analyst",children:"Analyst"}),e.jsx("option",{value:"Assistant",children:"Assistant"}),e.jsx("option",{value:"Clerk",children:"Clerk"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>{v(!1),j(null),ue()},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Update User"})]})]})]})})}),e.jsx(Iye,{isOpen:R,onClose:ie,user:W,onActivate:Ce,onDeactivate:Oe,onPermanentDelete:Je,isLoading:ce})]})},Jf=bo("/api"),Rye=()=>{const[t,r]=b.useState([]),[a,s]=b.useState(!0),[n,i]=b.useState(""),[o,l]=b.useState({action:"",user_role:"",resource_type:"",status:"",date_from:"",date_to:""}),[c,d]=b.useState({actions:[],user_roles:[],resource_types:[],statuses:[]}),[u,f]=b.useState({current_page:1,last_page:1,per_page:25,total:0}),[p,g]=b.useState(null),[x,v]=b.useState(!1),[w,j]=b.useState(null);b.useEffect(()=>{S(!0),N(),C()},[]),b.useEffect(()=>{u.current_page>0&&S(!1)},[o.action,o.user_role,o.resource_type,o.status,o.date_from,o.date_to,n,u.current_page]);const _=()=>{const $=localStorage.getItem("auth_token");return{Accept:"application/json",...$?{Authorization:`Bearer ${$}`}:{}}},S=async($=!1)=>{try{s(!0);const K=new URLSearchParams;n&&K.append("search",n),o.action&&K.append("action",o.action),o.user_role&&K.append("user_role",o.user_role),o.resource_type&&K.append("resource_type",o.resource_type),o.status&&K.append("status",o.status),o.date_from&&K.append("date_from",o.date_from),o.date_to&&K.append("date_to",o.date_to);const J=$?1:u.current_page||1;K.append("page",String(J)),K.append("per_page",String(u.per_page||25));const be=await(await fetch(`${Jf}/audit-logs?${K.toString()}`,{headers:_()})).json();be&&be.success?(r(Array.isArray(be.data)?be.data:[]),be.pagination?f(te=>({...te,...be.pagination})):f(te=>({...te,current_page:J,last_page:1,total:Array.isArray(be.data)?be.data.length:0,from:1,to:Array.isArray(be.data)?be.data.length:0}))):(console.error("Failed to fetch audit logs:",be),r([]))}catch(K){console.error("Error fetching audit logs:",K),r([])}finally{s(!1)}},N=async()=>{try{const K=await(await fetch(`${Jf}/audit-logs/filter-options`,{headers:_()})).json();K&&K.success&&K.data&&d({actions:K.data.actions||[],user_roles:K.data.user_roles||[],resource_types:K.data.resource_types||[],statuses:K.data.statuses||[]})}catch($){console.error("Error fetching audit log filter options:",$)}},C=async()=>{try{const K=await(await fetch(`${Jf}/audit-logs/statistics`,{headers:_()})).json();K&&K.success&&K.data&&j(K.data)}catch($){console.error("Error fetching audit log statistics:",$)}},D=($,K)=>{l(J=>({...J,[$]:K})),f(J=>({...J,current_page:1}))},U=()=>{l({action:"",user_role:"",resource_type:"",status:"",date_from:"",date_to:""}),i(""),f($=>({...$,current_page:1}))},z=$=>{f(K=>({...K,current_page:$}))},E=$=>{g($),v(!0)},I=async()=>{if(window.confirm("Are you sure you want to clear all audit logs? This action cannot be undone."))try{const K=await(await fetch(`${Jf}/audit-logs/clear`,{method:"DELETE",headers:_()})).json();K&&K.success?(S(!0),C()):(console.error("Failed to clear logs:",K),alert("Failed to clear logs: "+(K.message||"Unknown error")))}catch($){console.error("Error clearing logs:",$),alert("Error clearing logs")}},T=async()=>{try{const $=new URLSearchParams;n&&$.append("search",n),o.action&&$.append("action",o.action),o.user_role&&$.append("user_role",o.user_role),o.resource_type&&$.append("resource_type",o.resource_type),o.status&&$.append("status",o.status),o.date_from&&$.append("date_from",o.date_from),o.date_to&&$.append("date_to",o.date_to);const J=await(await fetch(`${Jf}/audit-logs/export?${$.toString()}`,{headers:_()})).json();if(!J||!J.success){console.error("Failed to export audit logs:",J);return}const X=Array.isArray(J.data)?J.data:[],be=new Blob([JSON.stringify(X,null,2)],{type:"application/json"}),te=window.URL.createObjectURL(be),R=document.createElement("a");R.href=te,R.download=`audit-logs-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(R),R.click(),window.URL.revokeObjectURL(te),document.body.removeChild(R)}catch($){console.error("Error exporting audit logs:",$)}},F=$=>({CREATE:"bg-green-100 text-green-800",UPDATE:"bg-blue-100 text-blue-800",DELETE:"bg-red-100 text-red-800",LOGIN:"bg-purple-100 text-purple-800",LOGOUT:"bg-gray-100 text-gray-800",VIEW:"bg-yellow-100 text-yellow-800",EXPORT:"bg-indigo-100 text-indigo-800",IMPORT:"bg-pink-100 text-pink-800",SYSTEM:"bg-orange-100 text-orange-800"})[$]||"bg-gray-100 text-gray-800",Y=$=>{switch($){case"success":return e.jsx(jt,{className:"w-4 h-4 text-green-500"});case"failed":return e.jsx(mr,{className:"w-4 h-4 text-red-500"});case"error":return e.jsx(Qt,{className:"w-4 h-4 text-red-500"});default:return e.jsx(lr,{className:"w-4 h-4 text-gray-500"})}},O=$=>new Date($).toLocaleString(),q=$=>{if(!$||typeof $!="object")return null;const K=Object.entries($).filter(([J,X])=>X!=null&&X!=="");return K.length===0?null:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2",children:K.map(([J,X])=>{const be=J.replace(/_/g," ").replace(/\b\w/g,R=>R.toUpperCase());let te;return typeof X=="boolean"?te=X?"Yes":"No":X&&typeof X=="object"?Array.isArray(X)?te=`Array (${X.length})`:te="Details available in JSON view":te=String(X),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:be}),e.jsx("div",{className:"text-sm text-gray-900 dark:text-white break-words",children:te})]},J)})})};return a&&t.length===0?e.jsx(Nv,{}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:justify-between sm:items-center sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Audit Logs"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1",children:"Track system activities and user actions"})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:gap-2 sm:space-y-0",children:[e.jsxs("button",{onClick:S,className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm sm:text-base",children:[e.jsx(Nr,{size:18,className:"sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),e.jsx("span",{className:"sm:hidden",children:"Refresh"})]}),e.jsxs("button",{onClick:I,className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm sm:text-base",children:[e.jsx(bn,{size:18,className:"sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Clear History"}),e.jsx("span",{className:"sm:hidden",children:"Clear"})]}),e.jsxs("button",{onClick:T,className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm sm:text-base",children:[e.jsx(Ra,{size:18,className:"sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Export"}),e.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]}),w&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:"Total Logs"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white mt-1",children:w.total_logs?.toLocaleString()||0})]}),e.jsx(Kt,{className:"text-blue-500",size:24})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:"Success Rate"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:w.by_status?.success||0})]}),e.jsx(jt,{className:"text-green-500",size:24})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:"Failed Actions"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:(w.by_status?.failed||0)+(w.by_status?.error||0)})]}),e.jsx(mr,{className:"text-red-500",size:24})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:"Active Users"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-600 dark:text-purple-400 mt-1",children:Object.keys(w.by_user_role||{}).length})]}),e.jsx(Hr,{className:"text-purple-500",size:24})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 sm:p-4 rounded-lg shadow",children:[e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:gap-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search logs...",value:n,onChange:$=>i($.target.value),className:"w-full pl-9 sm:pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-sm sm:text-base"})]}),e.jsxs("select",{value:o.action,onChange:$=>D("action",$.target.value),className:"w-full sm:w-auto px-3 sm:px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-sm sm:text-base",children:[e.jsx("option",{value:"",children:"All Actions"}),c.actions?.map($=>e.jsx("option",{value:$,children:$},$))]}),e.jsxs("select",{value:o.user_role,onChange:$=>D("user_role",$.target.value),className:"w-full sm:w-auto px-3 sm:px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-sm sm:text-base",children:[e.jsx("option",{value:"",children:"All Roles"}),c.user_roles?.map($=>e.jsx("option",{value:$,children:$},$))]}),e.jsxs("select",{value:o.status,onChange:$=>D("status",$.target.value),className:"w-full sm:w-auto px-3 sm:px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-sm sm:text-base",children:[e.jsx("option",{value:"",children:"All Status"}),c.statuses?.map($=>e.jsx("option",{value:$,children:$},$))]}),e.jsx("button",{onClick:U,className:"w-full sm:w-auto px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm sm:text-base",children:"Clear"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date From"}),e.jsx("input",{type:"date",value:o.date_from,onChange:$=>D("date_from",$.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date To"}),e.jsx("input",{type:"date",value:o.date_to,onChange:$=>D("date_to",$.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Resource"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.map($=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${F($.action)}`,children:$.action})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Hr,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:$.user_email||"System"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:$.user_role||"N/A"})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white max-w-xs truncate",children:$.description})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:$.resource_type&&$.resource_id?`${$.resource_type} #${$.resource_id}`:$.resource_type||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[Y($.status),e.jsx("span",{className:"ml-2 text-sm text-gray-900 dark:text-white capitalize",children:$.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:O($.created_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>E($),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:e.jsx(Or,{size:16})})})]},$.id))})]})}),u.last_page>1&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>z(u.current_page-1),disabled:u.current_page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>z(u.current_page+1),disabled:u.current_page===u.last_page,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",e.jsx("span",{className:"font-medium",children:u.from||0})," to"," ",e.jsx("span",{className:"font-medium",children:u.to||0})," of"," ",e.jsx("span",{className:"font-medium",children:u.total})," results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:u.last_page},($,K)=>K+1).map($=>e.jsx("button",{onClick:()=>z($),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${$===u.current_page?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${$===1?"rounded-l-md":""} ${$===u.last_page?"rounded-r-md":""}`,children:$},$))})})]})]})]}),x&&p&&_a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>v(!1)}),e.jsx("div",{className:"relative z-10 w-full max-w-2xl bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-6 overflow-y-auto max-h-[90vh] animate-in fade-in zoom-in duration-200",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Audit Log Details"}),e.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(mr,{size:24})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Action"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:p.action})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white capitalize",children:p.status})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:p.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"User"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:p.user_email||"System"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Role"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:p.user_role||"N/A"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resource"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:p.resource_type&&p.resource_id?`${p.resource_type} #${p.resource_id}`:p.resource_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:O(p.created_at)})]})]}),p.new_values&&typeof p.new_values=="object"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"New Values"}),q(p.new_values),e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-blue-600 dark:text-blue-400 cursor-pointer",children:"View raw JSON"}),e.jsx("pre",{className:"mt-1 text-xs text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700 p-2 rounded overflow-auto",children:JSON.stringify(p.new_values,null,2)})]})]}),p.old_values&&typeof p.old_values=="object"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Old Values"}),q(p.old_values),e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-blue-600 dark:text-blue-400 cursor-pointer",children:"View raw JSON"}),e.jsx("pre",{className:"mt-1 text-xs text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700 p-2 rounded overflow-auto",children:JSON.stringify(p.old_values,null,2)})]})]}),p.metadata&&typeof p.metadata=="object"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Metadata"}),q(p.metadata),e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-blue-600 dark:text-blue-400 cursor-pointer",children:"View raw JSON"}),e.jsx("pre",{className:"mt-1 text-xs text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700 p-2 rounded overflow-auto",children:JSON.stringify(p.metadata,null,2)})]})]}),p.error_message&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Error Message"}),e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:p.error_message})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})})]})})]}),document.body)]})},Lye=({onExportData:t,onGenerateReport:r,loading:a,onRefresh:s,lastUpdated:n})=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 sm:p-6 shadow-sm border border-slate-200 dark:border-slate-700 mb-6",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800 dark:text-white truncate",children:"Education Monitoring"}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs font-medium",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Live"})]})]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1 line-clamp-1",children:n?`Last updated: ${n.toLocaleTimeString()}`:"Real-time analytics dashboard for student academic progress"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[s&&e.jsxs("button",{onClick:s,disabled:a,className:"inline-flex items-center justify-center gap-2 px-3 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm disabled:opacity-50",title:"Refresh",children:[e.jsx(Nr,{className:`w-4 h-4 ${a?"animate-spin":""}`}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),e.jsxs("button",{onClick:()=>t("csv"),className:"inline-flex items-center justify-center gap-2 px-3 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",title:"Export CSV",children:[e.jsx(Ra,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),e.jsxs("button",{onClick:()=>r("Academic Performance"),disabled:a,className:"inline-flex items-center justify-center gap-2 px-3 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm disabled:opacity-50 font-medium",title:"Generate Report",children:[e.jsx(eg,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:a?"Generating...":"Generate"})]})]})]})}),Mye=({academicStats:t,chartData:r={}})=>{const a=()=>{const i=r.enhancedKPIs||{};return[{title:"Total Students",value:t.totalStudents.toString(),change:"+12.5%",changeType:"positive",icon:Wr,color:"blue",gradient:"from-blue-500 to-blue-600"},{title:"Active Students",value:t.activeStudents.toString(),change:"+8.3%",changeType:"positive",icon:Nc,color:"green",gradient:"from-green-500 to-green-600"},{title:"Average GPA",value:t.averageGPA.toString(),change:"+0.2",changeType:"positive",icon:Ba,color:"purple",gradient:"from-purple-500 to-purple-600"},{title:"Completion Rate",value:`${i.completionRate||0}%`,change:"+5.2%",changeType:"positive",icon:W7,color:"emerald",gradient:"from-emerald-500 to-emerald-600"},{title:"Retention Rate",value:`${i.retentionRate||0}%`,change:"+2.1%",changeType:"positive",icon:Hs,color:"orange",gradient:"from-orange-500 to-orange-600"},{title:"With Grades",value:(i.studentsWithGrades||0).toString(),change:"+18.7%",changeType:"positive",icon:yo,color:"indigo",gradient:"from-indigo-500 to-indigo-600"}]},s=i=>{const o="w-3 h-3";switch(i){case"positive":return e.jsx(B7,{className:`${o} text-green-500`});case"negative":return e.jsx($7,{className:`${o} text-red-500`});default:return e.jsx(lk,{className:`${o} text-slate-500`})}},n=i=>{switch(i){case"positive":return"text-green-600 dark:text-green-400";case"negative":return"text-red-600 dark:text-red-400";default:return"text-slate-600 dark:text-slate-400"}};return e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4 mb-6",children:a().map((i,o)=>{const l=i.icon;return e.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden transition-all hover:shadow-md",children:[e.jsx("div",{className:`absolute -right-3 -top-3 w-16 h-16 rounded-full bg-gradient-to-br ${i.gradient} opacity-10`}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`inline-flex p-2 rounded-lg bg-gradient-to-br ${i.gradient} text-white shadow-sm mb-3`,children:e.jsx(l,{className:"w-4 h-4"})}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-slate-800 dark:text-white",children:i.value}),e.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mt-1 truncate",children:i.title}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s(i.changeType),e.jsx("span",{className:`text-xs font-medium ${n(i.changeType)}`,children:i.change})]})]})]},o)})})},y7=["#3b82f6","#10b981","#8b5cf6","#f59e0b","#ef4444","#06b6d4"],Xf=({active:t,payload:r,label:a})=>t&&r&&r.length?e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-white",children:a}),r.map((s,n)=>e.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[s.name,": ",e.jsx("span",{className:"font-medium",children:s.value})]},n))]}):null,Zf=({title:t,children:r,className:a=""})=>e.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-xl p-4 sm:p-5 shadow-sm border border-slate-200 dark:border-slate-700 ${a}`,children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-slate-800 dark:text-white mb-4",children:t}),r]}),PF=({chartData:t={}})=>{const a=t||{monthlyEnrollment:[],programDistribution:[],gpaDistribution:[],yearLevelDistribution:[]};return Object.values(a).some(n=>Array.isArray(n)&&n.length>0)?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6",children:[e.jsx(Zf,{title:"Enrollment Trends",className:"lg:col-span-2",children:e.jsx("div",{className:"h-48 sm:h-64",children:e.jsx(Ru,{width:"100%",height:"100%",children:e.jsxs(Cme,{data:a.monthlyEnrollment||[],margin:{top:5,right:10,left:0,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"enrollmentGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),e.jsx(pp,{strokeDasharray:"3 3",stroke:"#e2e8f0",className:"dark:stroke-slate-700"}),e.jsx(oh,{dataKey:"month",tick:{fontSize:11,fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickLine:!1}),e.jsx(_m,{tick:{fontSize:11,fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickLine:!1,width:40}),e.jsx(Ou,{content:e.jsx(Xf,{})}),e.jsx(HM,{type:"monotone",dataKey:"students",stroke:"#3b82f6",strokeWidth:2,fill:"url(#enrollmentGradient)",name:"Students"})]})})})}),e.jsx(Zf,{title:"Program Distribution",children:e.jsx("div",{className:"h-48 sm:h-56",children:e.jsx(Ru,{width:"100%",height:"100%",children:e.jsxs(RN,{children:[e.jsx(fb,{data:a.programDistribution||[],cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:2,dataKey:"value",children:(a.programDistribution||[]).map((n,i)=>e.jsx(bh,{fill:y7[i%y7.length]},`cell-${i}`))}),e.jsx(Ou,{content:e.jsx(Xf,{})}),e.jsx(Om,{verticalAlign:"bottom",height:36,formatter:n=>e.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:n})})]})})})}),e.jsx(Zf,{title:"GPA Distribution",children:e.jsx("div",{className:"h-48 sm:h-56",children:e.jsx(Ru,{width:"100%",height:"100%",children:e.jsxs(vb,{data:a.gpaDistribution||[],margin:{top:5,right:10,left:0,bottom:5},children:[e.jsx(pp,{strokeDasharray:"3 3",stroke:"#e2e8f0",className:"dark:stroke-slate-700",vertical:!1}),e.jsx(oh,{dataKey:"name",tick:{fontSize:10,fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickLine:!1,interval:0,angle:-20,textAnchor:"end",height:50}),e.jsx(_m,{tick:{fontSize:11,fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickLine:!1,width:30}),e.jsx(Ou,{content:e.jsx(Xf,{})}),e.jsx(Um,{dataKey:"value",fill:"#10b981",radius:[4,4,0,0],name:"Students"})]})})})}),e.jsx(Zf,{title:"Year Level Distribution",children:e.jsx("div",{className:"h-48 sm:h-56",children:e.jsx(Ru,{width:"100%",height:"100%",children:e.jsxs(vb,{data:a.yearLevelDistribution||[],layout:"vertical",margin:{top:5,right:10,left:0,bottom:5},children:[e.jsx(pp,{strokeDasharray:"3 3",stroke:"#e2e8f0",className:"dark:stroke-slate-700",horizontal:!1}),e.jsx(oh,{type:"number",tick:{fontSize:11,fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickLine:!1}),e.jsx(_m,{type:"category",dataKey:"name",tick:{fontSize:10,fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickLine:!1,width:60}),e.jsx(Ou,{content:e.jsx(Xf,{})}),e.jsx(Um,{dataKey:"value",fill:"#8b5cf6",radius:[0,4,4,0],name:"Students"})]})})})}),a.genderDistribution&&a.genderDistribution.length>0&&e.jsx(Zf,{title:"Gender Distribution",children:e.jsx("div",{className:"h-48 sm:h-56",children:e.jsx(Ru,{width:"100%",height:"100%",children:e.jsxs(RN,{children:[e.jsx(fb,{data:a.genderDistribution,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:2,dataKey:"value",children:a.genderDistribution.map((n,i)=>e.jsx(bh,{fill:i===0?"#3b82f6":i===1?"#ec4899":"#94a3b8"},`cell-${i}`))}),e.jsx(Ou,{content:e.jsx(Xf,{})}),e.jsx(Om,{verticalAlign:"bottom",height:36,formatter:n=>e.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:n})})]})})})})]}):e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-8 shadow-sm border border-slate-200 dark:border-slate-700 mb-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-flex p-4 rounded-full bg-slate-100 dark:bg-slate-700 mb-4",children:e.jsx(nl,{className:"w-8 h-8 text-slate-400 dark:text-slate-500"})}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"No Analytics Data Available"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 max-w-md mx-auto",children:"Analytics charts will appear here once student data is available. Try refreshing or adding student records."})]})})},Fye=({selectedCategory:t,onCategoryChange:r,allReports:a})=>{const s=[{id:"all",label:"All Reports",count:a.length,icon:eg,color:"slate"},{id:"academic",label:"Academic",count:a.filter(n=>n.categoryId==="academic").length,icon:yo,color:"blue"},{id:"enrollment",label:"Enrollment",count:a.filter(n=>n.categoryId==="enrollment").length,icon:Wr,color:"green"},{id:"progress",label:"Progress",count:a.filter(n=>n.categoryId==="progress").length,icon:Hs,color:"purple"},{id:"achievements",label:"Achievements",count:a.filter(n=>n.categoryId==="achievements").length,icon:Ba,color:"amber"}];return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-700",children:e.jsx("h3",{className:"text-sm font-semibold text-slate-800 dark:text-white",children:"Categories"})}),e.jsx("div",{className:"p-2",children:s.map(n=>{const i=n.icon,o=t===n.id;return e.jsxs("button",{onClick:()=>r(n.id),className:`w-full flex items-center justify-between p-2.5 rounded-lg transition-all duration-150 ${o?"bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400 shadow-sm":"hover:bg-slate-50 dark:hover:bg-slate-700/50 text-slate-600 dark:text-slate-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[e.jsx("div",{className:`p-1.5 rounded-md ${o?"bg-orange-100 dark:bg-orange-900/30":"bg-slate-100 dark:bg-slate-700"}`,children:e.jsx(i,{className:"w-3.5 h-3.5"})}),e.jsx("span",{className:"text-sm font-medium truncate",children:n.label})]}),e.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[e.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${o?"bg-orange-200 dark:bg-orange-900/50 text-orange-700 dark:text-orange-400":"bg-slate-200 dark:bg-slate-600 text-slate-600 dark:text-slate-400"}`,children:n.count}),o&&e.jsx(Xu,{className:"w-3.5 h-3.5 text-orange-400"})]})]},n.id)})})]})},$ye=({filteredReports:t,selectedCategory:r,reportCategories:a=[],selectedPeriod:s,onPeriodChange:n,onGenerateReport:i,onDownloadReport:o})=>{const l=u=>{switch(u){case"completed":return{bg:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",icon:jt};case"processing":return{bg:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",icon:lr};case"failed":return{bg:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",icon:Br};default:return{bg:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-400",icon:lr}}},c=u=>{switch(u){case"PDF":return e.jsx(Kt,{className:"w-4 h-4 text-red-500"});case"Excel":return e.jsx(nl,{className:"w-4 h-4 text-green-600"});default:return e.jsx(Kt,{className:"w-4 h-4 text-slate-500"})}},d=()=>{if(r==="all")return"Available Reports";const u=a.find(f=>f.id===r);return u?`${u.label} Reports`:"Reports"};return e.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-700 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800 dark:text-white truncate",children:d()}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:[t.length," report",t.length!==1?"s":""," available"]})]}),e.jsxs("select",{value:s,onChange:u=>n(u.target.value),className:"px-2.5 py-1.5 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-xs font-medium text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"weekly",children:"This Week"}),e.jsx("option",{value:"monthly",children:"This Month"}),e.jsx("option",{value:"quarterly",children:"This Quarter"})]})]}),e.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700 max-h-[400px] overflow-y-auto",children:t.length===0?e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"inline-flex p-3 rounded-full bg-slate-100 dark:bg-slate-700 mb-3",children:e.jsx(eg,{className:"w-6 h-6 text-slate-400 dark:text-slate-500"})}),e.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"No reports found"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Try selecting a different category"})]}):t.map(u=>{const f=l(u.status),p=f.icon;return e.jsx("div",{className:"p-3 sm:p-4 hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors group",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:c(u.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-800 dark:text-white truncate",children:u.title}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5 line-clamp-1",children:u.description})]}),e.jsxs("div",{className:`flex-shrink-0 inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${f.bg}`,children:[e.jsx(p,{className:"w-3 h-3"}),e.jsx("span",{className:"hidden sm:inline capitalize",children:u.status})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-2 text-xs text-slate-500 dark:text-slate-400",children:[e.jsx("span",{children:u.category}),e.jsx("span",{className:"hidden sm:inline",children:""}),e.jsx("span",{children:new Date(u.date).toLocaleDateString()}),e.jsx("span",{className:"hidden sm:inline",children:""}),e.jsx("span",{children:u.size})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxs("button",{onClick:()=>i(u.title),className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-slate-600 dark:text-slate-400 hover:text-orange-600 dark:hover:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded transition-colors",children:[e.jsx(Or,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Preview"})]}),e.jsxs("button",{onClick:()=>o(u.title),className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",children:[e.jsx(Ra,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Download"})]})]})]})]})},u.id)})})]})},Bye=_p("").replace(/\/$/,""),Uye=()=>localStorage.getItem("auth_token"),Eh=async(t,r={})=>{const a=Uye(),s=await fetch(`${Bye}${t}`,{...r,headers:{"Content-Type":"application/json",Accept:"application/json",...a?{Authorization:`Bearer ${a}`}:{},...r.headers}}),n=await s.json();if(!s.ok)throw new Error(n.message||"API request failed");return n},zye=async()=>(await Eh(Et.MONITORING_SERVICE.ENDPOINTS.DASHBOARD)).data,qye=async t=>{const r=new URLSearchParams;t?.status&&r.append("status",t.status),t?.severity&&r.append("severity",t.severity),t?.limit&&r.append("limit",t.limit.toString());const a=r.toString();return(await Eh(`${Et.MONITORING_SERVICE.ENDPOINTS.ALERTS}${a?`?${a}`:""}`)).data},Vye=async t=>{await Eh(Et.MONITORING_SERVICE.ENDPOINTS.ALERT_ACKNOWLEDGE(t),{method:"POST"})},Hye=async()=>(await Eh(Et.MONITORING_SERVICE.ENDPOINTS.FILTER_OPTIONS)).data,EF=async(t,r=!1)=>{const a=new URLSearchParams;t?.date_from&&a.append("date_from",t.date_from),t?.date_to&&a.append("date_to",t.date_to),t?.program&&a.append("program",t.program),t?.term&&a.append("term",t.term),r&&a.append("refresh","true");const s=a.toString();return await Eh(`${Et.MONITORING_SERVICE.ENDPOINTS.AI_INSIGHTS}${s?`?${s}`:""}`)},Wye=async()=>(await Eh(Et.MONITORING_SERVICE.ENDPOINTS.AI_STATUS)).status,Gye=async t=>{const r=new URLSearchParams;t&&(t.min_gpa!==void 0&&r.append("min_gpa",t.min_gpa.toString()),t.max_gpa!==void 0&&r.append("max_gpa",t.max_gpa.toString()),t.school_id&&r.append("school_id",t.school_id.toString()),t.program&&r.append("program",t.program),t.year_level&&r.append("year_level",t.year_level),t.risk_level&&r.append("risk_level",t.risk_level),t.has_grades!==void 0&&r.append("has_grades",t.has_grades.toString()));const a=r.toString(),s=`${Et.MONITORING_SERVICE.ENDPOINTS.ACADEMIC_PERFORMANCE}${a?`?${a}`:""}`;return Eh(s)},TF=({className:t="",compact:r=!1})=>{const[a,s]=b.useState(null),[n,i]=b.useState(null),[o,l]=b.useState(null),[c,d]=b.useState(!0),[u,f]=b.useState(null),[p,g]=b.useState(!1),[x,v]=b.useState({highlights:!0,summary:!r,recommendations:!0}),[w,j]=b.useState({date_from:"",date_to:"",program:"",term:""});b.useEffect(()=>{_()},[]);const _=async()=>{try{const[I,T]=await Promise.all([Wye().catch(()=>null),Hye().catch(()=>null)]);i(I),T&&l({programs:T.school_years||[],year_levels:[],terms:[],date_range:T.date_range||{earliest:null,latest:null}}),await S()}catch(I){console.error("Failed to load initial data:",I),f("Failed to connect to monitoring service"),d(!1)}},S=async()=>{d(!0),f(null);try{const I=Object.fromEntries(Object.entries(w).filter(([F,Y])=>Y!=="")),T=await EF(I);s(T)}catch(I){console.error("Failed to load AI insights:",I),f(I instanceof Error?I.message:"Failed to generate insights")}finally{d(!1)}},N=(I,T)=>{j(F=>({...F,[I]:T}))},C=()=>{S(),g(!1)},D=()=>{j({date_from:"",date_to:"",program:"",term:""}),S()},U=I=>{v(T=>({...T,[I]:!T[I]}))},z=I=>{switch(I){case"high":return{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",badge:"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-400"};case"medium":return{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800",badge:"bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-400"};default:return{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",badge:"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-400"}}},E=I=>{switch(I){case"high":return e.jsx(Br,{className:"h-4 w-4"});case"medium":return e.jsx(lr,{className:"h-4 w-4"});default:return e.jsx(jt,{className:"h-4 w-4"})}};return c&&!a?e.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 ${t}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(Nr,{className:"h-5 w-5 animate-spin text-purple-500"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Generating AI insights..."})]})}):e.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden ${t}`,children:[e.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-700 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg shadow-sm",children:e.jsx(ty,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm",children:"AI Monitoring Assistant"}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[n?.provider==="template"?"Template analysis":`${n?.provider||"AI"} powered`,a?.from_cache&&"  Cached"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>g(!p),className:`p-2 rounded-lg transition-colors ${p?"bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-400":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,title:"Filters",children:e.jsx(Yi,{className:"h-4 w-4"})}),e.jsx("button",{onClick:S,disabled:c,className:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",title:"Refresh",children:e.jsx(Nr,{className:`h-4 w-4 ${c?"animate-spin":""}`})})]})]}),p&&e.jsxs("div",{className:"mt-3 p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:"From"}),e.jsx("input",{type:"date",value:w.date_from,onChange:I=>N("date_from",I.target.value),className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-1 focus:ring-purple-500 focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:"To"}),e.jsx("input",{type:"date",value:w.date_to,onChange:I=>N("date_to",I.target.value),className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-1 focus:ring-purple-500 focus:border-purple-500"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[e.jsx("button",{onClick:D,className:"px-3 py-1.5 text-xs text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Clear"}),e.jsx("button",{onClick:C,className:"px-3 py-1.5 text-xs bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors",children:"Apply"})]})]})]}),u&&e.jsx("div",{className:"px-4 py-3 bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-700 dark:text-red-400",children:[e.jsx(Br,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:u})]})}),a&&e.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>U("highlights"),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Sz,{className:"h-4 w-4 text-amber-500"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white text-sm",children:"Key Highlights"}),e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400",children:a.insights.highlights.length})]}),x.highlights?e.jsx(wd,{className:"h-4 w-4 text-slate-400"}):e.jsx(zi,{className:"h-4 w-4 text-slate-400"})]}),x.highlights&&e.jsx("div",{className:"px-4 pb-4 space-y-2",children:a.insights.highlights.map((I,T)=>e.jsxs("div",{className:"flex items-start gap-2 p-2.5 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:I.toLowerCase().includes("increase")||I.toLowerCase().includes("improved")||I.toLowerCase().includes("growth")?e.jsx(Hs,{className:"h-4 w-4 text-green-500"}):I.toLowerCase().includes("decrease")||I.toLowerCase().includes("risk")||I.toLowerCase().includes("decline")?e.jsx(ck,{className:"h-4 w-4 text-red-500"}):e.jsx(jt,{className:"h-4 w-4 text-blue-500"})}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed",children:I})]},T))})]}),!r&&e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>U("summary"),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pd,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white text-sm",children:"Summary"})]}),x.summary?e.jsx(wd,{className:"h-4 w-4 text-slate-400"}):e.jsx(zi,{className:"h-4 w-4 text-slate-400"})]}),x.summary&&e.jsx("div",{className:"px-4 pb-4",children:e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:a.insights.summary})})]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>U("recommendations"),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W7,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white text-sm",children:"Recommendations"}),e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400",children:a.insights.recommendations.length})]}),x.recommendations?e.jsx(wd,{className:"h-4 w-4 text-slate-400"}):e.jsx(zi,{className:"h-4 w-4 text-slate-400"})]}),x.recommendations&&e.jsx("div",{className:"px-4 pb-4 space-y-2",children:a.insights.recommendations.map((I,T)=>{const F=z(I.priority);return e.jsxs("div",{className:`p-3 rounded-lg border ${F.bg} ${F.border}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[E(I.priority),e.jsx("span",{className:`text-xs font-medium px-1.5 py-0.5 rounded ${F.badge}`,children:I.priority.toUpperCase()}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:I.area.replace(/_/g," ")})]}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:I.action})]},T)})})]})]}),e.jsx("div",{className:"px-4 py-2 border-t border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[e.jsx("span",{children:a?new Date(a.generated_at).toLocaleString():"No data"}),a?.latency_ms&&e.jsxs("span",{children:[a.latency_ms.toFixed(0),"ms"]})]})})]})};function Yye(){const[t,r]=b.useState("monthly"),[a,s]=b.useState("all"),[n,i]=b.useState(!1),[o,l]=b.useState([]),[c,d]=b.useState({totalStudents:0,activeStudents:0,graduatedStudents:0,averageGPA:0}),{showSuccess:u,showError:f,showInfo:p}=na();b.useEffect(()=>{g();const E=setInterval(()=>{g()},300*1e3);return()=>clearInterval(E)},[]);const g=async()=>{i(!0);try{const E=localStorage.getItem("token")||localStorage.getItem("auth_token"),I=await fetch(_p("/api/analytics/analytics-charts"),{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json",Accept:"application/json"}});if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const T=await I.json();if(T.success)v(T.data||{});else throw new Error(T.message||"Failed to fetch analytics data")}catch(E){console.error("Error fetching analytics data:",E),f("Failed to load analytics data. Please try again."),v({})}finally{i(!1)}},[x,v]=b.useState({}),w=[{id:1,title:"Student Academic Performance Summary",category:"Academic Performance",categoryId:"academic",date:new Date().toISOString().split("T")[0],status:"completed",downloads:0,size:"1.2 MB",type:"PDF",description:"Overview of student grades and academic progress"},{id:2,title:"Grade Distribution Analysis",category:"Academic Performance",categoryId:"academic",date:new Date(Date.now()-4320*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"0.9 MB",type:"Excel",description:"Statistical analysis of grade distributions across programs"},{id:3,title:"Subject Performance Report",category:"Academic Performance",categoryId:"academic",date:new Date(Date.now()-7200*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"1.1 MB",type:"PDF",description:"Performance metrics by subject and instructor"},{id:4,title:"Enrollment Statistics Report",category:"Enrollment Statistics",categoryId:"enrollment",date:new Date(Date.now()-10080*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"0.8 MB",type:"Excel",description:"Current enrollment numbers and trends"},{id:5,title:"Program Enrollment Analysis",category:"Enrollment Statistics",categoryId:"enrollment",date:new Date(Date.now()-14400*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"0.7 MB",type:"Excel",description:"Detailed breakdown of enrollment by program and year level"},{id:6,title:"Student Progress Tracking",category:"Student Progress",categoryId:"progress",date:new Date(Date.now()-336*60*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"1.5 MB",type:"PDF",description:"Individual student progress and milestones"},{id:7,title:"Attendance and Engagement Report",category:"Student Progress",categoryId:"progress",date:new Date(Date.now()-288*60*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"1.3 MB",type:"PDF",description:"Student attendance patterns and engagement metrics"},{id:8,title:"Student Achievement Summary",category:"Achievements",categoryId:"achievements",date:new Date(Date.now()-480*60*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"0.6 MB",type:"PDF",description:"Summary of student achievements and recognitions"}],_=a==="all"?w:w.filter(E=>E.categoryId===a),S=async E=>{i(!0);try{await new Promise(I=>setTimeout(I,2e3)),u(`${E} report generated successfully!`)}catch(I){console.error("Error generating report:",I),f("Error generating report. Please try again.")}finally{i(!1)}},N=()=>{try{if(!o||o.length===0){f("No student data available for academic performance report.");return}const E=o.map(O=>({"Student ID":O.id||"N/A",Name:`${O.first_name||""} ${O.last_name||""}`.trim()||"N/A",Program:O.program||"N/A","Year Level":O.year_level||"N/A",Status:O.status||O.student_status||O.enrollment_status||"N/A","Average Grade":O.grades&&O.grades.length>0?(O.grades.reduce((q,$)=>q+parseFloat($.grade||0),0)/O.grades.length).toFixed(2):"N/A","Total Subjects":O.grades?O.grades.length:0,"Last Updated":new Date().toLocaleDateString()})),I=["STUDENT ACADEMIC PERFORMANCE SUMMARY REPORT",`Generated on: ${new Date().toLocaleDateString()}`,`Total Students: ${c.totalStudents}`,`Active Students: ${c.activeStudents}`,`Average GPA: ${c.averageGPA}`,"","DETAILED STUDENT PERFORMANCE",E.length>0?Object.keys(E[0]).join(","):"No data available",...E.map(O=>Object.values(O).join(","))].join(`
`),T=new Blob([I],{type:"text/csv"}),F=window.URL.createObjectURL(T),Y=document.createElement("a");Y.href=F,Y.download=`academic_performance_report_${new Date().toISOString().split("T")[0]}.csv`,Y.click(),window.URL.revokeObjectURL(F),u("Academic Performance Report downloaded successfully!")}catch(E){console.error("Error downloading academic report:",E),f("Failed to download academic report. Please try again.")}},C=()=>{try{if(!o||o.length===0){f("No student data available for enrollment statistics report.");return}const E={Summary:[{Metric:"Total Students",Value:c.totalStudents},{Metric:"Active Students",Value:c.activeStudents},{Metric:"Graduated Students",Value:c.graduatedStudents},{Metric:"Average GPA",Value:c.averageGPA}],"Program Distribution":(()=>{const O={};return o.forEach(q=>{const $=q.program||"Unknown";O[$]=(O[$]||0)+1}),Object.entries(O).map(([q,$])=>({Program:q,"Student Count":$,Percentage:`${($/o.length*100).toFixed(1)}%`}))})(),"Year Level Distribution":(()=>{const O={};return o.forEach(q=>{const $=q.year_level||"Unknown";O[$]=(O[$]||0)+1}),Object.entries(O).map(([q,$])=>({"Year Level":q,"Student Count":$,Percentage:`${($/o.length*100).toFixed(1)}%`}))})()},I=["ENROLLMENT STATISTICS REPORT",`Generated on: ${new Date().toLocaleDateString()}`,"","SUMMARY STATISTICS",Object.keys(E.Summary[0]).join(","),...E.Summary.map(O=>Object.values(O).join(",")),"","PROGRAM DISTRIBUTION",Object.keys(E["Program Distribution"][0]||{}).join(","),...E["Program Distribution"].map(O=>Object.values(O).join(",")),"","YEAR LEVEL DISTRIBUTION",Object.keys(E["Year Level Distribution"][0]||{}).join(","),...E["Year Level Distribution"].map(O=>Object.values(O).join(","))].join(`
`),T=new Blob([I],{type:"text/csv"}),F=window.URL.createObjectURL(T),Y=document.createElement("a");Y.href=F,Y.download=`enrollment_statistics_report_${new Date().toISOString().split("T")[0]}.csv`,Y.click(),window.URL.revokeObjectURL(F),u("Enrollment Statistics Report downloaded successfully!")}catch(E){console.error("Error downloading enrollment report:",E),f("Failed to download enrollment report. Please try again.")}},D=()=>{try{if(!o||o.length===0){f("No student data available for progress tracking report.");return}const E=o.map(O=>{const q=O.grades||[],$=q.slice(-3),K=$.length>=2?(parseFloat($[$.length-1]?.grade||0)-parseFloat($[0]?.grade||0)).toFixed(2):"N/A";return{"Student ID":O.id||"N/A",Name:`${O.first_name||""} ${O.last_name||""}`.trim()||"N/A",Program:O.program||"N/A","Year Level":O.year_level||"N/A",Status:O.status||O.student_status||O.enrollment_status||"N/A","Total Subjects":q.length,"Latest Grade":q.length>0&&q[q.length-1]?.grade||"N/A","Progress Trend":K,"Milestones Completed":O.milestones?O.milestones.length:0,"Last Activity":O.last_activity||"N/A","Progress Status":K!=="N/A"&&parseFloat(K)>0?"Improving":K!=="N/A"&&parseFloat(K)<0?"Declining":"Stable"}}),I=["STUDENT PROGRESS TRACKING REPORT",`Generated on: ${new Date().toLocaleDateString()}`,`Total Students Tracked: ${o.length}`,"","INDIVIDUAL STUDENT PROGRESS",Object.keys(E[0]||{}).join(","),...E.map(O=>Object.values(O).join(","))].join(`
`),T=new Blob([I],{type:"text/csv"}),F=window.URL.createObjectURL(T),Y=document.createElement("a");Y.href=F,Y.download=`student_progress_tracking_${new Date().toISOString().split("T")[0]}.csv`,Y.click(),window.URL.revokeObjectURL(F),u("Student Progress Tracking Report downloaded successfully!")}catch(E){console.error("Error downloading progress report:",E),f("Failed to download progress report. Please try again.")}},U=E=>{try{switch(E){case"Student Academic Performance Summary":N();break;case"Enrollment Statistics Report":C();break;case"Student Progress Tracking":D();break;default:p(`Downloading general report for: ${E}`),z("csv")}}catch(I){console.error("Error in downloadReport:",I),f("Failed to download report. Please try again.")}},z=E=>{try{const I=[{Metric:"Total Students",Value:c.totalStudents},{Metric:"Active Students",Value:c.activeStudents},{Metric:"Graduated Students",Value:c.graduatedStudents},{Metric:"Average GPA",Value:c.averageGPA.toFixed(2)},{Metric:"Report Generated",Value:new Date().toLocaleDateString()},{Metric:"Report Type",Value:"Education Monitoring Overview"}],T={};o.forEach(q=>{const $=q.program||"Unknown";T[$]=(T[$]||0)+1});const F=Object.entries(T).map(([q,$])=>({Program:q,"Student Count":$,Percentage:`${($/o.length*100).toFixed(1)}%`})),Y={};o.forEach(q=>{const $=q.year_level||"Unknown";Y[$]=(Y[$]||0)+1});const O=Object.entries(Y).map(([q,$])=>({"Year Level":q,"Student Count":$,Percentage:`${($/o.length*100).toFixed(1)}%`}));if(E==="csv"){const q=["EDUCATION MONITORING OVERVIEW REPORT","","SUMMARY STATISTICS",Object.keys(I[0]).join(","),...I.map(X=>Object.values(X).join(",")),"","PROGRAM DISTRIBUTION",Object.keys(F[0]).join(","),...F.map(X=>Object.values(X).join(",")),"","YEAR LEVEL DISTRIBUTION",Object.keys(O[0]).join(","),...O.map(X=>Object.values(X).join(","))].join(`
`),$=new Blob([q],{type:"text/csv"}),K=window.URL.createObjectURL($),J=document.createElement("a");J.href=K,J.download=`education_monitoring_overview_${new Date().toISOString().split("T")[0]}.csv`,J.click(),window.URL.revokeObjectURL(K),u("Education monitoring overview exported successfully!")}}catch(I){console.error("Error exporting data:",I),f("Failed to export data. Please try again.")}};return e.jsxs("div",{className:"space-y-6 pb-6",children:[e.jsx(Lye,{onExportData:z,onGenerateReport:S,loading:n,onRefresh:g}),e.jsx(Mye,{academicStats:c,chartData:x}),e.jsx(PF,{chartData:x}),e.jsx(TF,{compact:!0}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6",children:[e.jsx(Fye,{selectedCategory:a,onCategoryChange:s,allReports:w}),e.jsx($ye,{filteredReports:_,selectedCategory:a,reportCategories:[],selectedPeriod:t,onPeriodChange:r,onGenerateReport:S,onDownloadReport:U})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 sm:p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-slate-800 dark:text-white mb-4",children:"Quick Report Generation"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>S("Academic Performance"),className:"flex items-center gap-3 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors group",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white group-hover:scale-105 transition-transform",children:e.jsx(Hs,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsxs("div",{className:"text-left min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Performance"}),e.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400 truncate",children:"Academic grades"})]})]}),e.jsxs("button",{onClick:()=>S("Enrollment Statistics"),className:"flex items-center gap-3 p-3 sm:p-4 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors group",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg text-white group-hover:scale-105 transition-transform",children:e.jsx(Wr,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsxs("div",{className:"text-left min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Enrollment"}),e.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400 truncate",children:"Registration data"})]})]}),e.jsxs("button",{onClick:()=>S("Student Progress"),className:"flex items-center gap-3 p-3 sm:p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors group",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg text-white group-hover:scale-105 transition-transform",children:e.jsx(by,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsxs("div",{className:"text-left min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Progress"}),e.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400 truncate",children:"Student tracking"})]})]})]})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 flex items-center gap-3 shadow-xl",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-orange-500 border-t-transparent"}),e.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Generating report..."})]})})]})}const Ab=t=>t?t.toFixed(2):"N/A",XN=t=>t?t<=1.5?"Excellent":t<=2?"Very Good":t<=2.5?"Good":t<=3?"Passing":"Failing":"No Grade",DF=t=>t?new Date(t).toLocaleDateString():"N/A",IF=({level:t})=>{const r={high:{bg:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",label:"Failing"},medium:{bg:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",label:"At Risk"},low:{bg:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",label:"Good Standing"}},{bg:a,label:s}=r[t]||r.low;return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a}`,children:s})},Qf=({title:t,value:r,subtitle:a,icon:s,color:n,trend:i})=>{const o={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",red:"from-red-500 to-red-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600"};return e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:r}),a&&e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:a}),i&&e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(Hs,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:i})]})]}),e.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-br ${o[n]} text-white`,children:e.jsx(s,{className:"w-5 h-5"})})]})})},Kye=({student:t,onClose:r})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 p-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Student Details"}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Student ID"}),e.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:t.student_id_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Name"}),e.jsxs("p",{className:"font-medium text-slate-900 dark:text-white",children:[t.first_name," ",t.middle_name," ",t.last_name]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Email"}),e.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:t.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Program"}),e.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:t.program})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Year Level"}),e.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:t.year_level})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Current Grade"}),e.jsxs("p",{className:"font-medium text-slate-900 dark:text-white",children:[Ab(t.gpa)," - ",XN(t.gpa)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Risk Level"}),e.jsx(IF,{level:t.risk_level})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Status"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}`,children:t.status})]})]}),t.grades&&t.grades.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white mb-3",children:"Grade History"}),e.jsx("div",{className:"space-y-2",children:t.grades.map((a,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-slate-900 dark:text-white",children:["Grade: ",Ab(a.grade)," - ",XN(a.grade)]}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[a.term," ",a.year]})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:DF(a.updated_at)})]},s))})]})]})]})}):null,Jye=()=>{const[t,r]=b.useState([]),[a,s]=b.useState(null),[n,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState({search:"",minGpa:"",maxGpa:"",program:"",yearLevel:"",riskLevel:"",hasGrades:"",schoolId:""}),[u,f]=b.useState([]),[p,g]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const N=await(await fetch(bo(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.SCHOOLS))).json();N.success&&f(N.data.data||[])}catch(S){console.error("Failed to fetch schools:",S)}})()},[]),b.useEffect(()=>{x()},[]);const x=async()=>{i(!0);try{const _={};c.minGpa&&(_.min_gpa=parseFloat(c.minGpa)),c.maxGpa&&(_.max_gpa=parseFloat(c.maxGpa)),c.program&&(_.program=c.program),c.yearLevel&&(_.year_level=c.yearLevel),c.riskLevel&&(_.risk_level=c.riskLevel),c.hasGrades&&(_.has_grades=c.hasGrades==="true"),c.schoolId&&(_.school_id=parseInt(c.schoolId));const S=await Gye(_);r(S.data||[]),s(S.summary||{})}catch(_){console.error("Failed to fetch academic performance:",_)}finally{i(!1)}},v=()=>{x()},w=()=>{d({search:"",minGpa:"",maxGpa:"",program:"",yearLevel:"",riskLevel:"",hasGrades:"",schoolId:""}),setTimeout(x,100)},j=t.filter(_=>{if(!c.search)return!0;const S=c.search.toLowerCase();return _.student_id_number?.toLowerCase().includes(S)||_.first_name?.toLowerCase().includes(S)||_.last_name?.toLowerCase().includes(S)||_.email?.toLowerCase().includes(S)});return n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nr,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading academic performance data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Academic Performance"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Track student grades, GPA, and academic progress"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(Qf,{title:"Average Grade",value:Ab(a?.average_gpa),subtitle:"5-point scale (1.0 best)",icon:rn,color:"blue"}),e.jsx(Qf,{title:"Students Tracked",value:a?.total_students||0,subtitle:`${a?.with_grades||0} with grades`,icon:Wr,color:"purple"}),e.jsx(Qf,{title:"At Risk",value:a?.at_risk||0,subtitle:"Grade > 3.0 (failing)",icon:Br,color:"red"}),e.jsx(Qf,{title:"Top Performers",value:a?.top_performers||0,subtitle:"Grade  1.5 (excellent)",icon:Ba,color:"green"}),e.jsx(Qf,{title:"Grade Submission",value:`${a?.with_grades||0}/${a?.total_students||0}`,subtitle:`${a?.total_students>0?Math.round(a.with_grades/a.total_students*100):0}% submitted`,icon:Hs,color:"orange"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by ID, name, or email...",value:c.search,onChange:_=>d({...c,search:_.target.value}),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),e.jsxs("button",{onClick:()=>g(!p),className:"px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 flex items-center gap-2",children:[e.jsx(Yi,{className:"w-4 h-4"}),"Filters",e.jsx(zi,{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`})]}),e.jsxs("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center gap-2",children:[e.jsx(Nr,{className:"w-4 h-4"}),"Refresh"]})]}),p&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Min Grade"}),e.jsx("input",{type:"number",step:"0.25",min:"1",max:"5",value:c.minGpa,onChange:_=>d({...c,minGpa:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"1.0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Max Grade"}),e.jsx("input",{type:"number",step:"0.25",min:"1",max:"5",value:c.maxGpa,onChange:_=>d({...c,maxGpa:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"5.0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Risk Level"}),e.jsxs("select",{value:c.riskLevel,onChange:_=>d({...c,riskLevel:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"high",children:"High Risk"}),e.jsx("option",{value:"medium",children:"Medium Risk"}),e.jsx("option",{value:"low",children:"Low Risk"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Grade Status"}),e.jsxs("select",{value:c.hasGrades,onChange:_=>d({...c,hasGrades:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"With Grades"}),e.jsx("option",{value:"false",children:"No Grades"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:"School"}),e.jsxs("select",{value:c.schoolId,onChange:_=>d({...c,schoolId:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[e.jsx("option",{value:"",children:"All Schools"}),u.map(_=>e.jsx("option",{value:_.id,children:_.name},_.id))]})]}),e.jsxs("div",{className:"sm:col-span-2 lg:col-span-5 flex gap-2",children:[e.jsx("button",{onClick:v,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm font-medium",children:"Apply Filters"}),e.jsx("button",{onClick:w,className:"px-4 py-2 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-600 text-sm font-medium",children:"Reset"})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50 border-b border-slate-200 dark:border-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Student ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"School"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Program"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Year"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Grade"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Risk"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Grades"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Last Submission"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:j.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"10",className:"px-4 py-8 text-center text-slate-500 dark:text-slate-400",children:"No students found matching your criteria"})}):j.map(_=>e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-slate-900 dark:text-white",children:_.student_id_number}),e.jsxs("td",{className:"px-4 py-3 text-sm text-slate-900 dark:text-white",children:[_.first_name," ",_.last_name]}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:_.school_name||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:_.program}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:_.year_level}),e.jsxs("td",{className:"px-4 py-3 text-sm font-semibold text-slate-900 dark:text-white",children:[Ab(_.gpa)," ",e.jsxs("span",{className:"text-xs text-slate-500",children:["(",XN(_.gpa),")"]})]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx(IF,{level:_.risk_level})}),e.jsxs("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:[_.grades_count," submitted"]}),e.jsx("td",{className:"px-4 py-3 text-sm text-slate-600 dark:text-slate-400",children:DF(_.last_grade_submission)}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("button",{onClick:()=>l(_),className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 text-xs font-medium",children:[e.jsx(Or,{className:"w-3 h-3"}),"View"]})})]},_.id))})]})})}),o&&e.jsx(Kye,{student:o,onClose:()=>l(null)})]})};function Xye(){const[t,r]=b.useState([]),[a,s]=b.useState(!1),[n,i]=b.useState({yearLevel:"all",program:"all",status:"all",dateRange:"all"}),{showSuccess:o,showError:l}=na();b.useEffect(()=>{c()},[]);const c=async()=>{s(!0);try{const N=localStorage.getItem("token")||localStorage.getItem("auth_token"),C=await fetch(_p("/api/analytics/enrollment-statistics"),{headers:{Authorization:`Bearer ${N}`,"Content-Type":"application/json",Accept:"application/json"}});if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const D=await C.json();if(D.success)r(D.data||[]);else throw new Error(D.message||"Failed to fetch enrollment data")}catch(N){console.error("Error fetching enrollment data:",N),l("Failed to load enrollment data. Please try again.")}finally{s(!1)}},d=()=>{const N={};return t.forEach(C=>{const D=C.enrollmentDate||C.created_at;if(D)try{const U=new Date(D);if(isNaN(U.getTime()))return;const z=U.toISOString().slice(0,7);N[z]||(N[z]=0),N[z]++}catch{}}),N},u=()=>{const N={};return t.forEach(C=>{const D=C.program||"Unknown";N[D]=(N[D]||0)+1}),N},f=()=>{const N={};return t.forEach(C=>{const D=C.year_level||"Unknown";N[D]=(N[D]||0)+1}),N},p=()=>{const N={};return t.forEach(C=>{const D=C.status||"Unknown";N[D]=(N[D]||0)+1}),N},g=()=>t.filter(N=>{const C=N.enrollmentDate||N.created_at;if(!C)return!1;const D=new Date(C);if(isNaN(D.getTime()))return!1;const U=new Date;return U.setDate(U.getDate()-30),D>=U}).sort((N,C)=>{const D=new Date(N.enrollmentDate||N.created_at||0);return new Date(C.enrollmentDate||C.created_at||0)-D}).slice(0,10),x=t.filter(N=>{if(n.yearLevel!=="all"&&N.year_level!==n.yearLevel||n.program!=="all"&&N.program!==n.program||n.status!=="all"&&N.status!==n.status)return!1;if(n.dateRange!=="all"){const C=N.enrollmentDate||N.created_at;if(!C)return!1;try{const D=new Date(C);if(isNaN(D.getTime()))return!1;const U=new Date;switch(n.dateRange){case"last30days":const z=new Date;if(z.setDate(z.getDate()-30),D<z)return!1;break;case"last90days":const E=new Date;if(E.setDate(E.getDate()-90),D<E)return!1;break;case"thisyear":if(D.getFullYear()!==U.getFullYear())return!1;break}}catch{return!1}}return!0});d();const v=u(),w=f(),j=p(),_=g(),S=()=>{try{const N=[{Metric:"Total Students",Value:x.length},{Metric:"Active Students",Value:x.filter(q=>q.status==="active").length},{Metric:"Graduated Students",Value:x.filter(q=>q.status==="graduated").length},{Metric:"Inactive Students",Value:x.filter(q=>q.status!=="active"&&q.status!=="graduated").length},{Metric:"Enrollment Rate",Value:`${(x.filter(q=>q.status==="active").length/x.length*100).toFixed(1)}%`},{Metric:"Graduation Rate",Value:`${(x.filter(q=>q.status==="graduated").length/x.length*100).toFixed(1)}%`},{Metric:"Report Generated",Value:new Date().toLocaleDateString()},{Metric:"Report Type",Value:"Enrollment Statistics Analysis"}],C=u(),D=Object.entries(C).map(([q,$])=>({Program:q,"Student Count":$,Percentage:`${($/x.length*100).toFixed(1)}%`,"Active Students":x.filter(K=>K.program===q&&K.status==="active").length,"Graduated Students":x.filter(K=>K.program===q&&K.status==="graduated").length})),U=f(),z=Object.entries(U).map(([q,$])=>({"Year Level":q,"Student Count":$,Percentage:`${($/x.length*100).toFixed(1)}%`,"Active Students":x.filter(K=>K.year_level===q&&K.status==="active").length,"Graduated Students":x.filter(K=>K.year_level===q&&K.status==="graduated").length})),E=p(),I=Object.entries(E).map(([q,$])=>({Status:q,"Student Count":$,Percentage:`${($/x.length*100).toFixed(1)}%`})),T=["ENROLLMENT STATISTICS REPORT","","ENROLLMENT SUMMARY",Object.keys(N[0]).join(","),...N.map(q=>Object.values(q).join(",")),"","PROGRAM DISTRIBUTION ANALYSIS",Object.keys(D[0]).join(","),...D.map(q=>Object.values(q).join(",")),"","YEAR LEVEL DISTRIBUTION ANALYSIS",Object.keys(z[0]).join(","),...z.map(q=>Object.values(q).join(",")),"","STATUS DISTRIBUTION ANALYSIS",Object.keys(I[0]).join(","),...I.map(q=>Object.values(q).join(","))].join(`
`),F=new Blob([T],{type:"text/csv"}),Y=window.URL.createObjectURL(F),O=document.createElement("a");O.href=Y,O.download=`enrollment_statistics_report_${new Date().toISOString().split("T")[0]}.csv`,O.click(),o("Enrollment statistics report exported successfully!")}catch(N){console.error("Error exporting report:",N),l("Failed to export report. Please try again.")}};return a?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading enrollment statistics data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Enrollment Statistics Report"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Comprehensive analysis of student enrollment patterns and trends"})]}),e.jsxs("button",{onClick:S,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors flex items-center space-x-2 mt-4 lg:mt-0",children:[e.jsx(Ra,{className:"w-4 h-4"}),e.jsx("span",{children:"Export Report"})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Year Level"}),e.jsxs("select",{value:n.yearLevel,onChange:N=>i({...n,yearLevel:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Year Levels"}),e.jsx("option",{value:"1st Year",children:"1st Year"}),e.jsx("option",{value:"2nd Year",children:"2nd Year"}),e.jsx("option",{value:"3rd Year",children:"3rd Year"}),e.jsx("option",{value:"4th Year",children:"4th Year"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Program"}),e.jsxs("select",{value:n.program,onChange:N=>i({...n,program:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Programs"}),Object.keys(v).map(N=>e.jsx("option",{value:N,children:N},N))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),e.jsxs("select",{value:n.status,onChange:N=>i({...n,status:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Date Range"}),e.jsxs("select",{value:n.dateRange,onChange:N=>i({...n,dateRange:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Time"}),e.jsx("option",{value:"last30days",children:"Last 30 Days"}),e.jsx("option",{value:"last90days",children:"Last 90 Days"}),e.jsx("option",{value:"thisyear",children:"This Year"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total Enrollments"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:x.length})]}),e.jsx(Wr,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Active Students"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:x.filter(N=>N.status==="active").length})]}),e.jsx(Nc,{className:"w-8 h-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Recent Enrollments"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:_.length})]}),e.jsx(jm,{className:"w-8 h-8 text-purple-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Programs"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:Object.keys(v).length})]}),e.jsx(Dn,{className:"w-8 h-8 text-orange-500"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Enrollment by Program"}),e.jsx("div",{className:"space-y-3",children:Object.entries(v).sort(([,N],[,C])=>C-N).map(([N,C])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:N}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-32 bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${x.length>0?C/x.length*100:0}%`}})}),e.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 w-8",children:C})]})]},N))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Enrollment by Year Level"}),e.jsx("div",{className:"space-y-3",children:Object.entries(w).sort(([,N],[,C])=>C-N).map(([N,C])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:N}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-32 bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${x.length>0?C/x.length*100:0}%`}})}),e.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 w-8",children:C})]})]},N))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Enrollment Status"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(j).map(([N,C])=>{const D={active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",inactive:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"};return e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 capitalize",children:N}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D[N]||"bg-slate-100 text-slate-800"}`,children:C})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${x.length>0?C/x.length*100:0}%`}})})})]},N)})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Recent Enrollments (Last 30 Days)"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Student"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Program"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Year Level"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Enrollment Date"})]})}),e.jsx("tbody",{children:_.map(N=>e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-slate-800 dark:text-white",children:N.name||`${N.first_name||""} ${N.last_name||""}`.trim()||"Unknown"}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:N.program||"N/A"}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:N.year_level||"N/A"}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400 capitalize",children:N.status||"unknown"}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:(()=>{const C=N.enrollmentDate||N.created_at;if(!C)return"N/A";try{const D=new Date(C);return isNaN(D.getTime())?"N/A":D.toLocaleDateString()}catch{return"N/A"}})()})]},N.student_id))})]})})]})]})}const Zye=()=>{const[t,r]=b.useState(null),[a,s]=b.useState(!0);b.useEffect(()=>{n()},[]);const n=async()=>{s(!0);try{const o=localStorage.getItem("token")||localStorage.getItem("auth_token"),l=await fetch(_p("/api/analytics/analytics-charts"),{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json",Accept:"application/json"}});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const c=await l.json();if(c.success)r(c.data||{});else throw new Error(c.message||"Failed to fetch analytics data")}catch(o){console.error("Error fetching analytics data:",o),r({})}finally{s(!1)}},i=async()=>{const o=new sr,l=o.internal.pageSize.width,c=o.internal.pageSize.height,d=20,u=l-d*2,f=new Date().toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});o.setFillColor(30,64,175),o.rect(0,0,l,45,"F"),o.setTextColor(255,255,255),o.setFontSize(22),o.setFont("helvetica","bold"),o.text("Education & Scholarship Management System",l/2,15,{align:"center"}),o.setFontSize(16),o.setFont("helvetica","normal"),o.text("Analytics Report",l/2,25,{align:"center"}),o.setFontSize(9),o.text(`Generated: ${f}`,l/2,35,{align:"center"});let p=55;try{const x=localStorage.getItem("token")||localStorage.getItem("auth_token"),v=await fetch(_p("/api/analytics/ai/insights"),{headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}});if(v.ok){const w=await v.json();if(w.insights?.highlights&&w.insights.highlights.length>0&&(o.setFillColor(240,245,255),o.rect(d,p-5,u,10,"F"),o.setTextColor(30,64,175),o.setFontSize(14),o.setFont("helvetica","bold"),o.text("AI Strategic Highlights",d+2,p+2),p+=12,o.setTextColor(0,0,0),o.setFontSize(10),o.setFont("helvetica","normal"),w.insights.highlights.forEach((j,_)=>{p>c-30&&(o.addPage(),p=20);const S=`${_+1}.`,N=j;o.setFont("helvetica","normal");const C=u-25,D=o.splitTextToSize(N,C);o.setFont("helvetica","bold"),o.text(S,d+5,p),o.setFont("helvetica","normal"),o.text(D,d+18,p),p+=D.length*5.5+4}),p+=10),w.insights?.summary){p>c-60&&(o.addPage(),p=20),o.setFillColor(240,245,255),o.rect(d,p-5,u,10,"F"),o.setTextColor(30,64,175),o.setFontSize(14),o.setFont("helvetica","bold"),o.text("Executive Summary",d+2,p+2),p+=12,o.setTextColor(60,60,60),o.setFontSize(10),o.setFont("helvetica","normal");const j=o.splitTextToSize(w.insights.summary,u-10);o.text(j,d+5,p),p+=j.length*6+12}if(w.insights?.recommendations?.length>0){p>c-80&&(o.addPage(),p=20),o.setFillColor(240,245,255),o.rect(d,p-5,u,10,"F"),o.setTextColor(30,64,175),o.setFontSize(14),o.setFont("helvetica","bold"),o.text("Strategic Recommendations",d+2,p+2),p+=10;const j=w.insights.recommendations.map(_=>[_.priority.toUpperCase(),_.area.replace(/_/g," ").toUpperCase(),_.action]);Zn(o,{startY:p,head:[["Priority","Area","Recommendation"]],body:j,headStyles:{fillColor:[30,64,175],textColor:[255,255,255],fontSize:10,fontStyle:"bold",halign:"center"},styles:{fontSize:9,cellPadding:5,lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{cellWidth:25,fontStyle:"bold",halign:"center",fillColor:[250,250,250]},1:{cellWidth:40,fontStyle:"bold"},2:{cellWidth:"auto"}},alternateRowStyles:{fillColor:[248,250,252]},margin:{left:d,right:d}}),p=o.lastAutoTable.finalY+15}}}catch(x){console.error("Error fetching AI insights for PDF:",x)}if(t&&Object.keys(t).length>0){if(p>c-100&&(o.addPage(),p=20),o.setFillColor(240,245,255),o.rect(d,p-5,u,10,"F"),o.setTextColor(30,64,175),o.setFontSize(14),o.setFont("helvetica","bold"),o.text("Analytics Data Summary",d+2,p+2),p+=15,t.programDistribution?.length>0){o.setTextColor(0,0,0),o.setFontSize(12),o.setFont("helvetica","bold"),o.text("Program Distribution",d,p),p+=8;const x=t.programDistribution.map(v=>[v.name||"Unknown",v.value||0,`${v.percentage||0}%`]);Zn(o,{startY:p,head:[["Program","Students","Percentage"]],body:x,theme:"grid",headStyles:{fillColor:[59,130,246],textColor:[255,255,255],fontSize:10,fontStyle:"bold"},styles:{fontSize:9,cellPadding:4},columnStyles:{1:{halign:"center"},2:{halign:"center",fontStyle:"bold"}},alternateRowStyles:{fillColor:[248,250,252]},margin:{left:d,right:d}}),p=o.lastAutoTable.finalY+12}if(t.yearLevelDistribution?.length>0){p>c-80&&(o.addPage(),p=20),o.setTextColor(0,0,0),o.setFontSize(12),o.setFont("helvetica","bold"),o.text("Year Level Distribution",d,p),p+=8;const x=t.yearLevelDistribution.map(v=>[v.name||"Unknown",v.value||0,`${v.percentage||0}%`]);Zn(o,{startY:p,head:[["Year Level","Students","Percentage"]],body:x,theme:"grid",headStyles:{fillColor:[139,92,246],textColor:[255,255,255],fontSize:10,fontStyle:"bold"},styles:{fontSize:9,cellPadding:4},columnStyles:{1:{halign:"center"},2:{halign:"center",fontStyle:"bold"}},alternateRowStyles:{fillColor:[248,250,252]},margin:{left:d,right:d}}),p=o.lastAutoTable.finalY+12}if(t.gpaDistribution?.length>0){p>c-80&&(o.addPage(),p=20),o.setTextColor(0,0,0),o.setFontSize(12),o.setFont("helvetica","bold"),o.text("GPA Distribution",d,p),p+=8;const x=t.gpaDistribution.map(v=>[v.name||"Unknown",v.value||0,`${v.percentage||0}%`]);Zn(o,{startY:p,head:[["Grade Range","Students","Percentage"]],body:x,theme:"grid",headStyles:{fillColor:[16,185,129],textColor:[255,255,255],fontSize:10,fontStyle:"bold"},styles:{fontSize:9,cellPadding:4},columnStyles:{1:{halign:"center"},2:{halign:"center",fontStyle:"bold"}},alternateRowStyles:{fillColor:[248,250,252]},margin:{left:d,right:d}})}}const g=o.internal.getNumberOfPages();for(let x=1;x<=g;x++)o.setPage(x),o.setFontSize(8),o.setTextColor(150),o.setFont("helvetica","normal"),o.text(`Page ${x} of ${g}`,l/2,c-10,{align:"center"}),o.text("Government Scholarship Management System",d,c-10);o.save(`Analytics_Report_${new Date().toISOString().split("T")[0]}.pdf`)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Analytics"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Comprehensive analytics and AI-powered insights"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:n,disabled:a,className:"inline-flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:[e.jsx(Nr,{className:`w-4 h-4 ${a?"animate-spin":""}`}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),e.jsxs("button",{onClick:i,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(Ra,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Export PDF"})]})]})]}),e.jsx(TF,{}),a?e.jsx("div",{className:"flex items-center justify-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nr,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading analytics data..."})]})}):e.jsx(PF,{chartData:t})]})},xc=t=>{const r=Number(t)||0;return r>=1e6?`${(r/1e6).toFixed(1)}M`:r>=1e3?`${(r/1e3).toFixed(1)}K`:r.toLocaleString()},Eu=t=>{const r=Number(t)||0;return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(r)},Qye=({value:t,suffix:r="%"})=>{const a=Number(t)||0;if(a===0)return null;const s=a>0;return e.jsxs("span",{className:`inline-flex items-center gap-0.5 text-xs font-medium px-1.5 py-0.5 rounded ${s?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:[s?e.jsx(mU,{className:"w-3 h-3"}):e.jsx(sU,{className:"w-3 h-3"}),Math.abs(a).toFixed(1),r]})},Yx=({title:t,value:r,subtitle:a,icon:s,trend:n,trendLabel:i,color:o,onClick:l})=>{const c={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",indigo:"from-indigo-500 to-indigo-600"},d={blue:"bg-blue-50 dark:bg-blue-900/20",green:"bg-green-50 dark:bg-green-900/20",purple:"bg-purple-50 dark:bg-purple-900/20",orange:"bg-orange-50 dark:bg-orange-900/20",red:"bg-red-50 dark:bg-red-900/20",indigo:"bg-indigo-50 dark:bg-indigo-900/20"};return e.jsxs("div",{onClick:l,className:`relative overflow-hidden bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700 transition-all duration-200 ${l?"cursor-pointer hover:shadow-md hover:border-slate-300 dark:hover:border-slate-600":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 truncate",children:t}),e.jsxs("div",{className:"mt-1 flex items-baseline gap-2 flex-wrap",children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r}),n!==void 0&&e.jsx(Qye,{value:n})]}),a&&e.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:a}),i&&e.jsx("p",{className:"mt-0.5 text-xs text-slate-400 dark:text-slate-500",children:i})]}),e.jsx("div",{className:`flex-shrink-0 p-3 rounded-lg bg-gradient-to-br ${c[o]} text-white shadow-sm`,children:s})]}),e.jsx("div",{className:`absolute -right-4 -bottom-4 w-24 h-24 rounded-full opacity-10 ${d[o]}`})]})},ap=({value:t,max:r=100,color:a="bg-blue-500",showLabel:s=!0,size:n="md"})=>{const i=Number(t)||0,o=Number(r)||100,l=Math.min(i/o*100,100),c={sm:"h-1.5",md:"h-2.5",lg:"h-4"};return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:`w-full bg-slate-200 dark:bg-slate-700 rounded-full ${c[n]} overflow-hidden`,children:e.jsx("div",{className:`${a} ${c[n]} rounded-full transition-all duration-500 ease-out`,style:{width:`${l}%`}})}),s&&e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-slate-500 dark:text-slate-400",children:[e.jsx("span",{children:xc(i)}),e.jsxs("span",{children:[l.toFixed(1),"%"]})]})]})},Kx=({label:t,value:r,icon:a,color:s="text-slate-600"})=>e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[a&&e.jsx("span",{className:s,children:a}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:t}),e.jsx("p",{className:"text-sm font-semibold text-slate-800 dark:text-white",children:r})]})]}),ebe=({alert:t,onAcknowledge:r})=>{const a={critical:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-700 dark:text-red-400",icon:mr},high:{bg:"bg-orange-100 dark:bg-orange-900/30",text:"text-orange-700 dark:text-orange-400",icon:Br},medium:{bg:"bg-yellow-100 dark:bg-yellow-900/30",text:"text-yellow-700 dark:text-yellow-400",icon:lr},low:{bg:"bg-blue-100 dark:bg-blue-900/30",text:"text-blue-700 dark:text-blue-400",icon:qu}},s=a[t.severity]||a.low,n=s.icon;return e.jsxs("div",{className:`p-3 rounded-lg ${s.bg} flex items-start gap-3`,children:[e.jsx(n,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${s.text}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm font-medium ${s.text}`,children:t.title}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-0.5 line-clamp-2",children:t.message})]}),!t.is_acknowledged&&e.jsx("button",{onClick:()=>r(t.id),className:"flex-shrink-0 p-1.5 rounded hover:bg-white/50 dark:hover:bg-slate-700/50 transition-colors",title:"Acknowledge",children:e.jsx(jt,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"})})]})},tbe=({stage:t,pending:r,completed:a,isBottleneck:s})=>{const n=r+a,i=n>0?a/n*100:0,o={document_verification:"Document Verification",financial_review:"Financial Review",academic_review:"Academic Review",final_approval:"Final Approval"};return e.jsxs("div",{className:`p-3 rounded-lg border transition-all ${s?"border-orange-300 bg-orange-50 dark:border-orange-600 dark:bg-orange-900/20":"border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:o[t]||t}),s&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-orange-200 text-orange-700 dark:bg-orange-800 dark:text-orange-300",children:"Bottleneck"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(lr,{className:"w-3.5 h-3.5 text-amber-500"}),e.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[r," pending"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(jt,{className:"w-3.5 h-3.5 text-green-500"}),e.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[a," done"]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx(ap,{value:i,color:"bg-green-500",showLabel:!1,size:"sm"})})]})},rbe=({isConnected:t,lastUpdated:r,isLoading:a})=>e.jsxs("div",{title:r?`Last updated: ${r.toLocaleString()}`:"",className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium ${a?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":t?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${a?"bg-blue-500 animate-pulse":t?"bg-green-500":"bg-red-500"}`}),a?"Syncing...":t?"Live":"Offline"]}),abe=({title:t,description:r,icon:a,action:s})=>e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex p-4 rounded-full bg-slate-100 dark:bg-slate-700 mb-4",children:a}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:t}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 max-w-md mx-auto mb-4",children:r}),s&&e.jsx("button",{onClick:s.onClick,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium",children:s.label})]}),sbe=()=>{const[t,r]=b.useState(null),[a,s]=b.useState(null),[n,i]=b.useState([]),[o,l]=b.useState(!0),[c,d]=b.useState(!1),[u,f]=b.useState(null),[p,g]=b.useState(null),[x,v]=b.useState("overview"),[w,j]=b.useState(!0),_=()=>{const O=new sr,q=O.internal.pageSize.width,$=new Date().toLocaleString();O.setFontSize(18),O.text("Education Monitoring Report",14,20),O.setFontSize(10),O.setTextColor(100),O.text(`Generated on: ${$}`,14,28),O.text(`View: ${x.charAt(0).toUpperCase()+x.slice(1)}`,14,33),O.setTextColor(0);let K=45;if(x==="insights"&&a){if(t){O.setFontSize(14),O.text("Key Performance Indicators",14,K),K+=5;const be=[["Total Applications",xc(t.applications?.total)],["Approval Rate",`${t.applications?.approval_rate}%`],["Budget Utilized",`${t.financial?.utilization_rate}%`],["Scheduled Interviews",`${t.interviews?.scheduled||0}`]];Zn(O,{startY:K,head:[["Metric","Value"]],body:be,theme:"grid",headStyles:{fillColor:[41,128,185],halign:"center"},columnStyles:{0:{fontStyle:"bold"},1:{halign:"right"}},styles:{fontSize:10,cellPadding:2}}),K=O.lastAutoTable.finalY+10,Zn(O,{startY:K,head:[["Financial Overview","Amount"]],body:[["Allocated",Eu(t.financial?.allocated_budget)],["Remaining",Eu(t.financial?.remaining_budget)]],theme:"striped",headStyles:{fillColor:[142,68,173]},columnStyles:{1:{halign:"right"}}}),K=O.lastAutoTable.finalY+15}O.setFontSize(14),O.setTextColor(30,64,175),O.text("AI Strategic Highlights",14,K),O.setTextColor(0),K+=8,O.setFontSize(10),a.insights.highlights?.forEach(be=>{const te=O.splitTextToSize(` ${be}`,q-30);O.text(te,14,K),K+=te.length*5+2}),K+=8,O.setFontSize(14),O.setTextColor(30,64,175),O.text("Executive Summary",14,K),O.setTextColor(0),K+=8,O.setFontSize(10);const J=O.splitTextToSize(a.insights.summary||"",q-28);O.text(J,14,K),K+=J.length*5+12,O.setFontSize(14),O.setTextColor(30,64,175),O.text("Strategic Recommendations",14,K),O.setTextColor(0),K+=6;const X=a.insights.recommendations?.map(be=>[be.priority.toUpperCase(),be.area.replace(/_/g," "),be.action])||[];Zn(O,{startY:K,head:[["Priority","Target Area","Actionable Insight"]],body:X,headStyles:{fillColor:[30,64,175]},styles:{fontSize:9,cellPadding:4,valign:"middle"},columnStyles:{0:{cellWidth:25,fontStyle:"bold",halign:"center"},1:{cellWidth:40,fontStyle:"italic"},2:{cellWidth:"auto"}},alternateRowStyles:{fillColor:[240,245,255]}})}else if(t){if(x==="overview"){const J=[["Total Applications",xc(t.applications?.total)],["Approval Rate",`${t.applications?.approval_rate}%`],["Budget Utilized",`${t.financial?.utilization_rate}%`],["Active Alerts",`${t.alerts?.total||0}`]];Zn(O,{startY:K,head:[["Metric","Value"]],body:J,theme:"grid",headStyles:{fillColor:[41,128,185]},styles:{fontSize:12}}),K=O.lastAutoTable.finalY+15,O.setFontSize(12),O.text("Financial Overview",14,K),K+=5,Zn(O,{startY:K,head:[["Category","Amount"]],body:[["Allocated Budget",Eu(t.financial?.allocated_budget)],["Remaining Budget",Eu(t.financial?.remaining_budget)],["Disbursed",Eu(t.financial?.disbursed_budget)]],theme:"striped"})}if(x==="pipeline"){O.setFontSize(14),O.text("SSC Review Pipeline",14,K),K+=8;const J=Object.entries(t.ssc_reviews?.by_stage||{}).map(([be,te])=>[be.replace(/_/g," ").toUpperCase(),te.pending,te.completed]);Zn(O,{startY:K,head:[["Stage","Pending","Completed"]],body:J,headStyles:{fillColor:[142,68,173]}}),K=O.lastAutoTable.finalY+15,O.text("Interview Statistics",14,K),K+=8;const X=[["Scheduled",t.interviews?.scheduled],["Completed",t.interviews?.completed],["Passed",t.interviews?.results?.passed],["No Show",t.interviews?.no_show]];Zn(O,{startY:K,body:X,theme:"plain",styles:{fontSize:11,cellPadding:2}})}}O.save(`Education_Monitoring_${x}_${new Date().toISOString().split("T")[0]}.pdf`)},S=b.useCallback(async()=>{l(!0),f(null);try{const O=await zye();O&&(r(O),j(!0),console.log("Dashboard metrics loaded from database:",O));const q=await qye({status:"active",limit:5}).catch(()=>({alerts:[],total_count:0}));i(q.alerts||[]),g(new Date)}catch(O){console.error("Failed to load dashboard data:",O),f("Unable to connect to monitoring service. Please ensure the service is running."),j(!1)}finally{l(!1)}},[]),N=b.useCallback(async(O=!1)=>{d(!0);try{const q=await EF(void 0,O);q&&(s(q),console.log("AI insights loaded:",q))}catch(q){console.error("Failed to load AI insights:",q)}finally{d(!1)}},[]);b.useEffect(()=>{S();const O=setTimeout(()=>{N()},500),q=setInterval(S,300*1e3);return()=>{clearInterval(q),clearTimeout(O)}},[S,N]);const C=async O=>{try{await Vye(O),i(q=>q.filter($=>$.id!==O))}catch(q){console.error("Failed to acknowledge alert:",q)}},D=()=>{N(!0)};if(o&&!t)return e.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nr,{className:"w-8 h-8 animate-spin text-blue-500 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Connecting to monitoring service..."}),e.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:"Loading data from database"})]})});if(u&&!t)return e.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-6 bg-red-50 dark:bg-red-900/20 rounded-xl max-w-md",children:[e.jsx(Br,{className:"w-10 h-10 text-red-500 mx-auto mb-3"}),e.jsx("p",{className:"text-red-700 dark:text-red-400 font-medium mb-2",children:"Connection Error"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:u}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:S,className:"w-full px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Retry Connection"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Make sure the monitoring_service is running on port 8003"})]})]})});const U=t&&((t.applications?.total||0)>0||(t.demographics?.total_students||0)>0||(t.financial?.total_budget||0)>0),z=t?.applications,E=t?.financial,I=t?.ssc_reviews,T=t?.interviews,F=t?.demographics,Y=t?.alerts;return e.jsxs("div",{className:"space-y-6 pb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Education Monitoring Dashboard"}),e.jsx(rbe,{isConnected:w,lastUpdated:p,isLoading:o})]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:p?`Data from database  Last sync: ${p.toLocaleTimeString()}`:"Scholarship Management System Analytics"}),!U&&w&&e.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:" No analytics data found. Run the seeder to populate sample data."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:S,disabled:o,className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:[e.jsx(Nr,{className:`w-4 h-4 ${o?"animate-spin":""}`}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),e.jsxs("button",{onClick:_,className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(Ra,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Export PDF"})]})]})]}),e.jsx("div",{className:"flex gap-1 p-1 bg-slate-100 dark:bg-slate-800 rounded-lg w-fit",children:[{id:"overview",label:"Overview",icon:nl},{id:"pipeline",label:"Pipeline",icon:$U}].map(({id:O,label:q,icon:$})=>e.jsxs("button",{onClick:()=>v(O),className:`inline-flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${x===O?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:q})]},O))}),x==="overview"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Yx,{title:"Total Applications",value:xc(z?.total||0),subtitle:`${z?.new_today||0} new today`,icon:e.jsx(Kt,{className:"w-5 h-5"}),trend:z?.trend?.delta_percent,trendLabel:"vs last week",color:"blue"}),e.jsx(Yx,{title:"Approval Rate",value:`${z?.approval_rate||0}%`,subtitle:`${z?.approved||0} approved`,icon:e.jsx(jt,{className:"w-5 h-5"}),color:"green"}),e.jsx(Yx,{title:"Budget Utilized",value:`${E?.utilization_rate||0}%`,subtitle:Eu(E?.remaining_budget||0)+" remaining",icon:e.jsx(va,{className:"w-5 h-5"}),color:"purple"}),e.jsx(Yx,{title:"Active Alerts",value:Y?.total||0,subtitle:`${Y?.by_severity?.high||0} high priority`,icon:e.jsx(qu,{className:"w-5 h-5"}),color:Y?.by_severity?.critical?"red":"orange"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Application Pipeline"}),e.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[z?.pending_review||0," pending review"]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsx(Kx,{label:"Submitted",value:xc(z?.pending_review||0),icon:e.jsx(lr,{className:"w-4 h-4"}),color:"text-amber-500"}),e.jsx(Kx,{label:"Approved",value:xc(z?.approved||0),icon:e.jsx(jt,{className:"w-4 h-4"}),color:"text-green-500"}),e.jsx(Kx,{label:"Rejected",value:xc(z?.rejected||0),icon:e.jsx(mr,{className:"w-4 h-4"}),color:"text-red-500"}),e.jsx(Kx,{label:"Released",value:xc(z?.released||0),icon:e.jsx(va,{className:"w-4 h-4"}),color:"text-purple-500"})]}),e.jsxs("div",{className:"mt-5",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Processing Progress"}),e.jsxs("span",{className:"font-medium text-slate-800 dark:text-white",children:[z?.released||0," / ",z?.total||0]})]}),e.jsx(ap,{value:z?.released||0,max:z?.total||1,color:"bg-gradient-to-r from-blue-500 to-purple-500"})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:[e.jsx("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:z?.by_type?.new||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"New"})]}),e.jsxs("div",{className:"text-center p-3 rounded-lg bg-green-50 dark:bg-green-900/20",children:[e.jsx("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:z?.by_type?.renewal||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Renewal"})]}),e.jsxs("div",{className:"text-center p-3 rounded-lg bg-purple-50 dark:bg-purple-900/20",children:[e.jsx("p",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:Number(z?.avg_processing_days||0).toFixed(1)}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Avg Days"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Active Alerts"}),e.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400",children:[n.length," active"]})]}),e.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:n.length>0?n.map(O=>e.jsx(ebe,{alert:O,onAcknowledge:C},O.id)):e.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[e.jsx(jt,{className:"w-10 h-10 mx-auto mb-2 text-green-500"}),e.jsx("p",{className:"text-sm",children:"All clear! No active alerts."})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-3",children:"Budget Overview"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-slate-500",children:"Allocated"}),e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:Eu(E?.allocated_budget||0)})]}),e.jsx(ap,{value:E?.allocation_rate||0,color:"bg-blue-500",showLabel:!1,size:"sm"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-slate-500",children:"Disbursed"}),e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:Eu(E?.disbursed_budget||0)})]}),e.jsx(ap,{value:E?.utilization_rate||0,color:"bg-green-500",showLabel:!1,size:"sm"})]})]}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-3",children:[E?.disbursements_today||0," disbursements today"]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-3",children:"SSC Reviews"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:I?.total_pending||0}),e.jsx("span",{className:"text-sm text-slate-500",children:"pending"})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(jt,{className:"w-3.5 h-3.5 text-green-500"}),e.jsxs("span",{children:[I?.completed_today||0," today"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(lr,{className:"w-3.5 h-3.5 text-amber-500"}),e.jsxs("span",{children:[Number(I?.avg_review_hours||0).toFixed(0),"h avg"]})]})]}),I?.bottleneck_stage&&I.bottleneck_stage!=="none"&&e.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-3",children:[" Bottleneck: ",I.bottleneck_stage.replace("_"," ")]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-3",children:"Interviews"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:T?.scheduled||0}),e.jsx("span",{className:"text-sm text-slate-500",children:"scheduled"})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[e.jsx(Hs,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[Number(T?.pass_rate||0).toFixed(0),"% pass"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-red-600 dark:text-red-400",children:[e.jsx(ck,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[Number(T?.no_show_rate||0).toFixed(0),"% no-show"]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-3",children:"Student Demographics"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:xc(F?.total_students||0)}),e.jsx("span",{className:"text-sm text-slate-500",children:"students"})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:[e.jsxs("span",{className:"px-2 py-1 rounded bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:[Number(F?.special_categories?.fourps_percentage||0).toFixed(1),"% 4Ps"]}),e.jsxs("span",{className:"px-2 py-1 rounded bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",children:[Number(F?.special_categories?.pwd_percentage||0).toFixed(1),"% PWD"]}),e.jsxs("span",{className:"px-2 py-1 rounded bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[F?.partner_schools||0," schools"]})]})]})]})]}),x==="pipeline"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"SSC Review Pipeline"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:I?.by_stage&&Object.entries(I.by_stage).map(([O,q])=>e.jsx(tbe,{stage:O,pending:q.pending,completed:q.completed,isBottleneck:I.bottleneck_stage===O},O))}),e.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-green-50 dark:bg-green-900/20",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:I?.outcomes?.approved||0}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Approved"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-red-50 dark:bg-red-900/20",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:I?.outcomes?.rejected||0}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Rejected"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-amber-50 dark:bg-amber-900/20",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:I?.outcomes?.needs_revision||0}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Needs Revision"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Interview Status"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"text-center p-4 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:[e.jsx(Rr,{className:"w-6 h-6 mx-auto mb-2 text-blue-500"}),e.jsx("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:T?.scheduled||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Scheduled"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-green-50 dark:bg-green-900/20",children:[e.jsx(jt,{className:"w-6 h-6 mx-auto mb-2 text-green-500"}),e.jsx("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:T?.completed||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Completed"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-red-50 dark:bg-red-900/20",children:[e.jsx(mr,{className:"w-6 h-6 mx-auto mb-2 text-red-500"}),e.jsx("p",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:T?.cancelled||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Cancelled"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-amber-50 dark:bg-amber-900/20",children:[e.jsx(Br,{className:"w-6 h-6 mx-auto mb-2 text-amber-500"}),e.jsx("p",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:T?.no_show||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"No Show"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-purple-50 dark:bg-purple-900/20",children:[e.jsx(Wr,{className:"w-6 h-6 mx-auto mb-2 text-purple-500"}),e.jsx("p",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:T?.results?.passed||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Passed"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Application by Category"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[{label:"Merit",value:z?.by_category?.merit||0,color:"blue"},{label:"Need-Based",value:z?.by_category?.need_based||0,color:"green"},{label:"Special",value:z?.by_category?.special||0,color:"purple"}].map(({label:O,value:q,color:$})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:O}),e.jsx("span",{className:"text-sm text-slate-500",children:xc(q)})]}),e.jsx(ap,{value:q,max:z?.total||1,color:`bg-${$}-500`,size:"md"})]},O))})]})]}),x==="insights"&&e.jsx("div",{className:"space-y-6",children:c&&!a?e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-12 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ty,{className:"w-12 h-12 animate-pulse text-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Generating AI insights..."}),e.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:"This may take a moment"})]})}):a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 shadow-sm border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ty,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"AI Strategic Highlights"})]}),e.jsxs("button",{onClick:D,disabled:c,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-blue-700 dark:text-blue-400 bg-white dark:bg-slate-800 border border-blue-300 dark:border-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:[e.jsx(Nr,{className:`w-3.5 h-3.5 ${c?"animate-spin":""}`}),"Regenerate"]})]}),e.jsx("div",{className:"space-y-2",children:a.insights.highlights?.map((O,q)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-700 dark:text-slate-300",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:""}),e.jsx("p",{children:O})]},q))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Executive Summary"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:a.insights.summary})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Strategic Recommendations"}),e.jsx("div",{className:"space-y-4",children:a.insights.recommendations?.map((O,q)=>{const $={high:"border-red-300 bg-red-50 dark:border-red-700 dark:bg-red-900/20",medium:"border-orange-300 bg-orange-50 dark:border-orange-700 dark:bg-orange-900/20",low:"border-blue-300 bg-blue-50 dark:border-blue-700 dark:bg-blue-900/20"},K={high:"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-400",medium:"bg-orange-100 text-orange-700 dark:bg-orange-900/50 dark:text-orange-400",low:"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-400"};return e.jsxs("div",{className:`p-4 rounded-lg border-2 ${$[O.priority]||$.low}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white capitalize",children:O.area.replace(/_/g," ")}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium uppercase ${K[O.priority]||K.low}`,children:O.priority})]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:O.action})]},q)})})]}),e.jsx("div",{className:"text-center text-xs text-slate-400 dark:text-slate-500",children:e.jsxs("p",{children:["Insights generated by AI  Last updated: ",new Date(a.generated_at).toLocaleString()]})})]}):e.jsx(abe,{title:"No AI Insights Available",description:"AI insights are being generated. Please refresh or wait a moment.",icon:e.jsx(ty,{className:"w-8 h-8 text-slate-400"}),action:{label:"Refresh Insights",onClick:D}})})]})},ud=Et.AUTH_SERVICE.BASE_URL;class nbe{constructor(){this.cache=new Map,this.cacheExpiry=300*1e3}async getCurrentUserProfile(){const r=JSON.parse(localStorage.getItem("user_data")||"{}");return!r||Object.keys(r).length===0?{id:1,name:"Admin User",email:"admin@gsm.gov.ph",role:"admin",department:"IT Department",phone:"+63 123 456 7890",avatar:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}:r}async updateUserProfile(r){try{const a=localStorage.getItem("auth_token"),s=JSON.parse(localStorage.getItem("user_data")||"{}"),n=s.id;if(!n)throw new Error("User ID not found");const i={first_name:r.first_name,last_name:r.last_name,middle_name:r.middle_name,mobile:r.mobile,address:r.address};Object.keys(i).forEach(c=>{(i[c]===void 0||i[c]===null||i[c]==="")&&delete i[c]});const o=await fetch(`${ud}/api/users/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok){const c=await o.json();throw new Error(c.message||`HTTP error! status: ${o.status}`)}const l=await o.json();if(l.success){const c={...s,...l.data,name:`${l.data.first_name||""} ${l.data.last_name||""}`.trim()||s.name,phone:l.data.mobile||s.phone};return localStorage.setItem("user_data",JSON.stringify(c)),this.cache.set("userProfile",c),{success:!0,message:"Profile updated successfully",data:c}}else throw new Error(l.message||"Failed to update profile")}catch(a){throw console.error("Error updating user profile:",a),a}}async changePassword(r){try{const a=localStorage.getItem("auth_token"),s=await fetch(`${ud}/api/change-password`,{method:"POST",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();if(n.success)return n.data;throw new Error(n.message||"Failed to change password")}catch(a){throw console.warn("Password change API not available"),a}}async getNotificationPreferences(){const r=localStorage.getItem("notification_preferences");if(r)return JSON.parse(r);try{const s=localStorage.getItem("auth_token"),n=await fetch(`${ud}/api/user/notifications`,{method:"GET",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"}});if(n.ok){const i=await n.json();if(i.success)return localStorage.setItem("notification_preferences",JSON.stringify(i.data)),i.data}}catch{}const a={email_notifications:!0,sms_alerts:!1,push_notifications:!0,weekly_reports:!0,system_updates:!0};return localStorage.setItem("notification_preferences",JSON.stringify(a)),a}async updateNotificationPreferences(r){try{const a=localStorage.getItem("auth_token"),s=await fetch(`${ud}/api/user/notifications`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});if(s.ok){const n=await s.json();if(n.success)return localStorage.setItem("notification_preferences",JSON.stringify(r)),n.data}}catch{console.warn("Notification preferences API not available, using localStorage fallback")}return localStorage.setItem("notification_preferences",JSON.stringify(r)),{message:"Notification preferences updated successfully (local storage)"}}async getSystemSettings(){const r=localStorage.getItem("system_settings");if(r)return JSON.parse(r);try{const s=localStorage.getItem("auth_token"),n=await fetch(`${ud}/api/admin/settings`,{method:"GET",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"}});if(n.ok){const i=await n.json();if(i.success)return localStorage.setItem("system_settings",JSON.stringify(i.data)),i.data}}catch{}const a={theme:"light",language:"en",timezone:"Asia/Manila",date_format:"MM/DD/YYYY",time_format:"12h",items_per_page:25,auto_logout:30,session_timeout:60};return localStorage.setItem("system_settings",JSON.stringify(a)),a}async updateSystemSettings(r){try{const a=localStorage.getItem("auth_token"),s=await fetch(`${ud}/api/admin/settings`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});if(s.ok){const n=await s.json();if(n.success)return localStorage.setItem("system_settings",JSON.stringify(r)),n.data}}catch{console.warn("System settings API not available, using localStorage fallback")}return localStorage.setItem("system_settings",JSON.stringify(r)),{message:"System settings updated successfully (local storage)"}}async getAdminStats(){try{const r=localStorage.getItem("auth_token"),a=await fetch(`${ud}/api/admin/stats`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(a.ok){const s=await a.json();if(s.success)return s.data}}catch{console.warn("Admin stats API not available, using fallback data")}return{total_users:1247,active_sessions:23,total_requests:15678,error_rate:"0.2%"}}async exportSystemData(r,a={}){try{const c=localStorage.getItem("auth_token"),d=await fetch(`${ud}/api/admin/export/${r}`,{method:"POST",headers:{Authorization:`Bearer ${c}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});if(d.ok){const u=await d.json();if(u.success&&u.data){const f=this.convertToCSV(u.data),p=new Blob([f],{type:"text/csv"}),g=window.URL.createObjectURL(p),x=document.createElement("a");return x.href=g,x.download=`export_${r}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(x),x.click(),window.URL.revokeObjectURL(g),document.body.removeChild(x),!0}}}catch{console.warn(`Export ${r} API not available, using fallback data`)}const s=this.generateMockExportData(r),n=this.convertToCSV(s),i=new Blob([n],{type:"text/csv"}),o=window.URL.createObjectURL(i),l=document.createElement("a");return l.href=o,l.download=`export_${r}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(o),document.body.removeChild(l),!0}generateMockExportData(r){return r==="users"?[{id:1,name:"John Doe",email:"john@example.com",role:"Admin",created_at:"2024-01-15"},{id:2,name:"Jane Smith",email:"jane@example.com",role:"User",created_at:"2024-01-16"},{id:3,name:"Bob Johnson",email:"bob@example.com",role:"Moderator",created_at:"2024-01-17"}]:r==="applications"?[{id:1,student_name:"Alice Brown",program:"Academic Excellence",status:"Approved",submitted_at:"2024-01-15"},{id:2,student_name:"Charlie Wilson",program:"Financial Aid",status:"Pending",submitted_at:"2024-01-16"},{id:3,student_name:"Diana Lee",program:"Sports Scholarship",status:"Under Review",submitted_at:"2024-01-17"}]:[]}convertToCSV(r){if(r.length===0)return"";const a=Object.keys(r[0]),s=[a.join(",")];for(const n of r){const i=a.map(o=>{const l=n[o];return typeof l=="string"&&l.includes(",")?`"${l}"`:l});s.push(i.join(","))}return s.join(`
`)}async clearSystemCache(){return this.cache.clear(),localStorage.removeItem("notification_preferences"),localStorage.removeItem("system_settings"),{message:"Local cache cleared successfully"}}async getSystemHealth(){try{const r=localStorage.getItem("auth_token"),a=await fetch(`${ud}/api/admin/health`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(a.ok){const s=await a.json();if(s.success)return s.data}}catch{console.warn("System health API not available, using fallback data")}return{uptime:"99.9%",memory_usage:"45%",cpu_usage:"23%",disk_usage:"67%",database_status:"Connected",last_updated:new Date().toISOString()}}}const ho=new nbe,ibe=({activeTab:t,onTabChange:r,items:a})=>e.jsxs("div",{className:"w-full lg:w-64 bg-white rounded-lg shadow-sm border border-gray-200 h-fit flex-shrink-0",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Settings Menu"})}),e.jsx("nav",{className:"p-2 space-y-1",children:a.map(s=>{const n=s.icon,i=t===s.id;return e.jsxs("button",{onClick:()=>r(s.id),className:`w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${i?"bg-orange-50 text-orange-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(n,{className:`h-5 w-5 flex-shrink-0 ${i?"text-orange-500":"text-gray-400"}`}),e.jsx("span",{className:"truncate",children:s.label})]},s.id)})})]}),obe=({profile:t,handleProfileChange:r,saveProfile:a,saving:s})=>e.jsx("div",{className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:t.first_name,onChange:n=>r("first_name",n.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:t.last_name,onChange:n=>r("last_name",n.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Middle Name"}),e.jsx("input",{type:"text",value:t.middle_name,onChange:n=>r("middle_name",n.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:t.email,onChange:n=>r("email",n.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mobile"}),e.jsx("input",{type:"tel",value:t.mobile,onChange:n=>r("mobile",n.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Address"}),e.jsx("textarea",{value:t.address,onChange:n=>r("address",n.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs("button",{onClick:a,disabled:s,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 flex items-center space-x-2",children:[e.jsx(tg,{className:"w-4 h-4"}),e.jsx("span",{children:s?"Saving...":"Save Profile"})]})})]})}),b7=fh("/api"),OF=()=>{const{success:t,error:r}=na(),[a,s]=b.useState({}),[n,i]=b.useState(!0),[o,l]=b.useState(!1),c=_r(x=>x.setSessionDuration);b.useEffect(()=>{d()},[]);const d=async()=>{try{i(!0);const x=localStorage.getItem("auth_token"),v=await fetch(`${b7}/security-settings`,{headers:{Authorization:`Bearer ${x}`}});if(v.ok){const w=await v.json();w.success&&s(w.data)}}catch(x){console.error("Error fetching security settings:",x),r("Failed to load security settings")}finally{i(!1)}},u=async()=>{try{l(!0);const x=localStorage.getItem("auth_token"),w=await(await fetch(`${b7}/security-settings`,{method:"PUT",headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"},body:JSON.stringify(a)})).json();if(w.success)s(w.data),w.data.session_timeout_duration&&c(parseInt(w.data.session_timeout_duration)),t("Security settings saved successfully");else throw new Error(w.message||"Failed to save settings")}catch(x){console.error("Error saving security settings:",x),r("Failed to save security settings")}finally{l(!1)}},f=(x,v)=>{if(typeof v=="boolean"){s(j=>({...j,[x]:v}));return}const w=parseInt(v);isNaN(w)||s(j=>({...j,[x]:w}))},p=x=>{if(!x)return"0m";if(x>=3600){const w=Math.floor(x/3600),j=Math.floor(x%3600/60);return j>0?`${w}h ${j}m`:`${w}h`}return`${Math.floor(x/60)}m`+(x%60?` ${x%60}s`:"")},g=[{id:"session",title:"Session Control",description:"Manage how long users can stay active without interaction.",icon:lr,items:[{key:"session_timeout_duration",label:"Session Idle Timeout",helper:"Time before auto-logout",min:60,max:3600,step:60,unit:"seconds",format:p}]},{id:"lockout",title:"Access Protection",description:"Configure policies to prevent brute-force attacks.",icon:Ns,items:[{key:"login_warning_threshold",label:"Warning Threshold",helper:"Attempts before showing warning",min:1,max:10,step:1,unit:"attempts",format:x=>`${x} attempts`},{key:"login_lockout_threshold",label:"Lockout Threshold",helper:"Attempts before locking account",min:3,max:20,step:1,unit:"attempts",format:x=>`${x} attempts`},{key:"login_lockout_duration",label:"Lockout Duration",helper:"How long to lock the account",min:60,max:3600,step:60,unit:"seconds",format:p},{key:"login_attempt_window",label:"Reset Window",helper:"Time needed to reset failure count",min:300,max:3600,step:300,unit:"seconds",format:p},{key:"otp_enabled",label:"Require OTP for Login",helper:"Enable two-factor authentication via email",type:"toggle",format:x=>x?"Enabled":"Disabled"}]}];return n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Nr,{className:"w-6 h-6 animate-spin text-gray-400"})}):e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pb-12",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(tq,{className:"w-5 h-5 text-indigo-500"}),"Security Configuration"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Fine-tune your application's security parameters."})]}),e.jsxs("button",{onClick:u,disabled:o,className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-sm active:transform active:scale-95",children:[o?e.jsx(Nr,{className:"w-4 h-4 animate-spin"}):e.jsx(tg,{className:"w-4 h-4"}),o?"Saving...":"Save Changes"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:g.map(x=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 dark:border-gray-700 flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:e.jsx(x.icon,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:x.title}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:x.description})]})]}),e.jsx("div",{className:"p-6 space-y-8",children:x.items.map(v=>{if(v.type==="toggle"){const _=a[v.key]!==void 0?a[v.key]:!0,S=v.format(_);return e.jsx("div",{className:"group",children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-base font-medium text-gray-800 dark:text-gray-200 block",children:v.label}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:v.helper})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-sm font-semibold px-3 py-1 rounded-md ${_?"text-green-700 dark:text-green-400 bg-green-50 dark:bg-green-900/30":"text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-800"}`,children:S}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:_,onChange:N=>f(v.key,N.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"})]})]})]})},v.key)}const w=a[v.key]||v.min,j=v.format(w);return e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-2",children:[e.jsxs("div",{className:"mb-2 sm:mb-0",children:[e.jsx("label",{className:"text-base font-medium text-gray-800 dark:text-gray-200 block",children:v.label}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:v.helper})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/30 px-3 py-1 rounded-md min-w-[80px] text-center",children:j}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"number",value:w,onChange:_=>f(v.key,_.target.value),min:v.min,className:"w-20 pl-2 pr-1 py-1 text-right text-sm border-gray-300 rounded focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600"})})]})]}),e.jsxs("div",{className:"relative pt-1",children:[e.jsx("input",{type:"range",min:v.min,max:v.max,step:v.step,value:w>v.max?v.max:w,onChange:_=>f(v.key,_.target.value),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-600 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}),e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[e.jsx("span",{children:v.format(v.min)}),e.jsx("span",{children:v.format(v.max)})]})]})]},v.key)})})]},x.id))})]})},lbe=({passwordForm:t,handlePasswordChange:r,showPasswords:a,togglePasswordVisibility:s,passwordStrength:n,changePassword:i,saving:o})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),e.jsxs("div",{className:"space-y-4 max-w-xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:a.current?"text":"password",value:t.currentPassword,onChange:l=>r("currentPassword",l.target.value),className:"w-full px-3 py-2 pr-10 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Enter current password"}),e.jsx("button",{type:"button",onClick:()=>s("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.current?e.jsx(ai,{className:"h-4 w-4 text-slate-400"}):e.jsx(Or,{className:"h-4 w-4 text-slate-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative flex",children:[e.jsx("div",{className:"flex flex-col justify-center mr-2",children:e.jsx("div",{className:`w-1 h-8 rounded-full transition-all duration-300 ${t.newPassword.length===0?"bg-slate-300 dark:bg-slate-600":n.score<40?"bg-red-500":n.score<70?"bg-yellow-500":"bg-green-500"}`})}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:a.new?"text":"password",value:t.newPassword,onChange:l=>r("newPassword",l.target.value),className:"w-full px-3 py-2 pr-10 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Enter new password"}),e.jsx("button",{type:"button",onClick:()=>s("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.new?e.jsx(ai,{className:"h-4 w-4 text-slate-400"}):e.jsx(Or,{className:"h-4 w-4 text-slate-400"})})]})]}),t.newPassword&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"flex-1 bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${n.score<40?"bg-red-500":n.score<70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${n.score}%`}})}),e.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[n.score,"%"]})]}),e.jsx("div",{className:"space-y-1",children:n.feedback.map((l,c)=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[l.valid?e.jsx(jt,{className:"w-4 h-4 text-green-500"}):e.jsx(Qt,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:l.valid?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:l.text})]},c))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative flex",children:[e.jsx("div",{className:"flex flex-col justify-center mr-2",children:e.jsx("div",{className:`w-1 h-8 rounded-full transition-all duration-300 ${t.confirmPassword.length===0?"bg-slate-300 dark:bg-slate-600":t.newPassword===t.confirmPassword&&t.confirmPassword.length>0?"bg-green-500":"bg-red-500"}`})}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:a.confirm?"text":"password",value:t.confirmPassword,onChange:l=>r("confirmPassword",l.target.value),className:"w-full px-3 py-2 pr-10 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Confirm new password"}),e.jsx("button",{type:"button",onClick:()=>s("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.confirm?e.jsx(ai,{className:"h-4 w-4 text-slate-400"}):e.jsx(Or,{className:"h-4 w-4 text-slate-400"})})]})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs("button",{onClick:i,disabled:o||n.score<100||t.newPassword!==t.confirmPassword,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(Ml,{className:"w-4 h-4"}),e.jsx("span",{children:o?"Changing...":"Change Password"})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsx(OF,{})})]}),cbe=({notifications:t,handleNotificationChange:r,saveNotifications:a,saving:s})=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notification Preferences"}),Object.entries(t).map(([n,i])=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-slate-900 dark:text-white capitalize",children:n.replace(/_/g," ")}),e.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[n==="email_notifications"&&"Receive notifications via email",n==="sms_alerts"&&"Receive SMS alerts for important updates",n==="push_notifications"&&"Receive push notifications in browser",n==="weekly_reports"&&"Receive weekly summary reports",n==="system_updates"&&"Receive system maintenance notifications"]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:o=>r(n,o.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 dark:peer-focus:ring-orange-800 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-orange-500"})]})]},n))]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("button",{onClick:a,disabled:s,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 flex items-center space-x-2",children:[e.jsx(tg,{className:"w-4 h-4"}),e.jsx("span",{children:s?"Saving...":"Save Preferences"})]})})]})}),dbe=({systemSettings:t,handleSystemSettingChange:r,saveSystemSettings:a,saving:s,t:n})=>e.jsx("div",{className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:n("System Preferences")}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:n("Theme")}),e.jsxs("select",{value:t.theme,onChange:i=>r("theme",i.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"light",children:n("Light")}),e.jsx("option",{value:"dark",children:n("Dark")}),e.jsx("option",{value:"auto",children:n("Auto")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:n("Language")}),e.jsxs("select",{value:t.language,onChange:i=>r("language",i.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Espaol"}),e.jsx("option",{value:"fil",children:"Filipino"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:n("Timezone")}),e.jsxs("select",{value:t.timezone,onChange:i=>r("timezone",i.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"Asia/Manila",children:"Asia/Manila (GMT+8)"}),e.jsx("option",{value:"UTC",children:"UTC"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:n("Date Format")}),e.jsxs("select",{value:t.date_format,onChange:i=>r("date_format",i.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs("button",{onClick:a,disabled:s,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 flex items-center space-x-2",children:[e.jsx(tg,{className:"w-4 h-4"}),e.jsx("span",{children:s?"Saving...":"Save Settings"})]})})]})}),ube=({handleConfirmAction:t,exportData:r,clearCache:a,refreshSystemData:s,backupSystem:n,t:i})=>e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:i("Data Management")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("button",{onClick:()=>n(),className:"flex items-center justify-between p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(nk,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:i("System Backup")}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:i("Create a full system backup")})]})]})}),e.jsx("button",{onClick:()=>r("all"),className:"flex items-center justify-between p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(Ra,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:i("Export Data")}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:i("Download all system data")})]})]})}),e.jsx("button",{onClick:()=>a(),className:"flex items-center justify-between p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:e.jsx(Nr,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:i("Clear Cache")}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:i("Clear system cache")})]})]})})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Br,{className:"w-5 h-5 text-red-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-red-800",children:i("Danger Zone")}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:i("Advanced system actions. Please proceed with caution.")})]})]})})]});function v7(){const{showSuccess:t,showError:r}=na(),{updateCurrentUser:a}=_r(),{t:s,changeLanguage:n}=_O(),[i,o]=b.useState(!0),[l,c]=b.useState(!1),[d,u]=b.useState("profile"),[f,p]=b.useState({first_name:"",last_name:"",middle_name:"",email:"",mobile:"",address:""}),[g,x]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[v,w]=b.useState({current:!1,new:!1,confirm:!1}),[j,_]=b.useState({score:0,feedback:[]}),[S,N]=b.useState({email_notifications:!0,sms_alerts:!1,push_notifications:!0,weekly_reports:!0,system_updates:!0}),[C,D]=b.useState({theme:"light",language:"en",timezone:"Asia/Manila",date_format:"MM/DD/YYYY",time_format:"12h",items_per_page:25,auto_logout:30,session_timeout:60}),[U,z]=b.useState(null),[E,I]=b.useState(null),[T,F]=b.useState(!1),[Y,O]=b.useState(null);b.useEffect(()=>{$(),q()},[]);const q=async()=>{try{const[Z,re]=await Promise.all([ho.getSystemHealth(),ho.getAdminStats()]);z(Z),I(re)}catch(Z){console.error("Error loading admin data:",Z)}};b.useEffect(()=>{(()=>{const re=localStorage.getItem("system_settings");if(re)try{const Je=JSON.parse(re);D(Je),K(Je);return}catch(Je){console.error("Error parsing system settings:",Je)}const Ue=localStorage.getItem("theme"),Ge=localStorage.getItem("language"),Ke=localStorage.getItem("timezone"),ie=localStorage.getItem("date_format"),Ce=localStorage.getItem("time_format"),Oe=localStorage.getItem("items_per_page");if(Ue||Ge||Ke||ie||Ce||Oe){const Je={theme:Ue||"light",language:Ge||"en",timezone:Ke||"Asia/Manila",date_format:ie||"MM/DD/YYYY",time_format:Ce||"12h",items_per_page:Oe?parseInt(Oe):25,auto_logout:30,session_timeout:60};D(Je),K(Je)}})()},[]);const $=async()=>{try{o(!0);const Z=await ho.getCurrentUserProfile();p({first_name:Z.first_name||Z.name?.split(" ")[0]||"",last_name:Z.last_name||Z.name?.split(" ").slice(-1)[0]||"",middle_name:Z.middle_name||"",email:Z.email||"",mobile:Z.mobile||Z.phone||"",address:Z.address||""});const re=await ho.getNotificationPreferences();N(re);const Ue=await ho.getSystemSettings();D(Ue),K(Ue);try{const Ge=await ho.getSystemHealth();z(Ge)}catch(Ge){console.warn("Could not load system health:",Ge)}try{const Ge=await ho.getAdminStats();I(Ge)}catch(Ge){console.warn("Could not load admin stats:",Ge)}}catch(Z){console.error("Error loading settings:",Z),r("Failed to load settings")}finally{o(!1)}},K=Z=>{try{if(!Z||typeof Z!="object")return;if(Z.theme==="dark")document.documentElement.classList.add("dark");else if(Z.theme==="light")document.documentElement.classList.remove("dark");else if(Z.theme==="auto"){const re=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",re)}localStorage.setItem("theme",Z.theme||"light"),localStorage.setItem("language",Z.language||"en"),localStorage.setItem("timezone",Z.timezone||"Asia/Manila"),localStorage.setItem("date_format",Z.date_format||"MM/DD/YYYY"),localStorage.setItem("time_format",Z.time_format||"12h"),localStorage.setItem("items_per_page",(Z.items_per_page||25).toString())}catch(re){console.error("Error applying system settings:",re)}},J=Z=>{const re=[];let Ue=0;return Z.length>=8?(re.push({text:"At least 8 characters",valid:!0}),Ue+=20):re.push({text:"At least 8 characters",valid:!1}),/[a-z]/.test(Z)?(re.push({text:"One lowercase letter",valid:!0}),Ue+=20):re.push({text:"One lowercase letter",valid:!1}),/[A-Z]/.test(Z)?(re.push({text:"One uppercase letter",valid:!0}),Ue+=20):re.push({text:"One uppercase letter",valid:!1}),/\d/.test(Z)?(re.push({text:"One number",valid:!0}),Ue+=20):re.push({text:"One number",valid:!1}),/[!@#$%^&*(),.?":{}|<>]/.test(Z)?(re.push({text:"One special character",valid:!0}),Ue+=20):re.push({text:"One special character",valid:!1}),{score:Ue,feedback:re}},X=(Z,re)=>{p(Ue=>({...Ue,[Z]:re}))},be=(Z,re)=>{if(x(Ue=>({...Ue,[Z]:re})),Z==="newPassword"){const Ue=J(re);_(Ue)}},te=Z=>{w(re=>({...re,[Z]:!re[Z]}))},R=(Z,re)=>{N(Ue=>({...Ue,[Z]:re}))},ae=(Z,re)=>{const Ue={...C,[Z]:re};if(D(Ue),Z==="theme"){if(re==="dark")document.documentElement.classList.add("dark");else if(re==="light")document.documentElement.classList.remove("dark");else if(re==="auto"){const Ke=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",Ke)}t(`Theme changed to ${re}`)}Z==="language"&&(n(re),t(`Language changed to ${re==="en"?"English":"Filipino"}`)),localStorage.setItem(Z,re);const Ge=JSON.parse(localStorage.getItem("system_settings")||"{}");Ge[Z]=re,localStorage.setItem("system_settings",JSON.stringify(Ge))},W=()=>{O(()=>async()=>{try{c(!0);const Z=await ho.updateUserProfile(f);Z.success&&Z.data&&a({first_name:f.first_name,last_name:f.last_name,middle_name:f.middle_name,email:f.email,mobile:f.mobile,address:f.address}),t("Profile updated successfully")}catch(Z){console.error("Profile update error:",Z),r("Failed to update profile")}finally{c(!1)}}),F(!0)},pe=async()=>{Y&&await Y(),F(!1),O(null)},ce=async()=>{if(g.newPassword!==g.confirmPassword){r("New passwords do not match");return}if(j.score<100){r("Please ensure all password requirements are met");return}try{c(!0),await ho.changePassword(g),t("Password changed successfully"),x({currentPassword:"",newPassword:"",confirmPassword:""}),_({score:0,feedback:[]})}catch{r("Failed to change password")}finally{c(!1)}},we=async()=>{try{c(!0),await ho.updateNotificationPreferences(S),t("Notification preferences updated")}catch{r("Failed to update notification preferences")}finally{c(!1)}},je=()=>{O(()=>async()=>{try{if(c(!0),await ho.updateSystemSettings(C),C.theme==="dark")document.documentElement.classList.add("dark");else if(C.theme==="light")document.documentElement.classList.remove("dark");else if(C.theme==="auto"){const Z=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",Z)}localStorage.setItem("theme",C.theme),localStorage.setItem("language",C.language),localStorage.setItem("timezone",C.timezone),localStorage.setItem("date_format",C.date_format),localStorage.setItem("time_format",C.time_format),localStorage.setItem("items_per_page",C.items_per_page.toString()),t("System settings updated and applied")}catch{r("Failed to update system settings")}finally{c(!1)}}),F(!0)},fe=async Z=>{try{await ho.exportSystemData(Z),t("Data exported successfully")}catch{r("Failed to export data")}},xe=async()=>{try{await ho.clearSystemCache(),t("System cache cleared"),q()}catch{r("Failed to clear cache")}},$e=async()=>{try{await q(),t("System data refreshed")}catch{r("Failed to refresh system data")}},ge=async()=>{try{const Z={timestamp:new Date().toISOString(),system_settings:C,user_profile:f,notification_preferences:S,system_health:U,admin_stats:E},re=new Blob([JSON.stringify(Z,null,2)],{type:"application/json"}),Ue=window.URL.createObjectURL(re),Ge=document.createElement("a");Ge.href=Ue,Ge.download=`system_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ge),Ge.click(),window.URL.revokeObjectURL(Ue),document.body.removeChild(Ge),t("System backup created successfully")}catch{r("Failed to create system backup")}},ot=[{id:"profile",label:s("Profile"),icon:Hr},{id:"security",label:s("Security"),icon:Ml},{id:"notifications",label:s("Notifications"),icon:qu},{id:"system",label:s("System"),icon:rl},{id:"admin",label:s("Admin Tools"),icon:Ns}],Ze=()=>{switch(d){case"profile":return e.jsx(obe,{profile:f,handleProfileChange:X,saveProfile:W,saving:l});case"security":return e.jsx(lbe,{passwordForm:g,handlePasswordChange:be,showPasswords:v,togglePasswordVisibility:te,passwordStrength:j,changePassword:ce,saving:l});case"notifications":return e.jsx(cbe,{notifications:S,handleNotificationChange:R,saveNotifications:we,saving:l});case"system":return e.jsx(dbe,{systemSettings:C,handleSystemSettingChange:ae,saveSystemSettings:je,saving:l,t:s});case"admin":return e.jsx(ube,{handleConfirmAction:pe,exportData:fe,clearCache:xe,refreshSystemData:$e,backupSystem:ge,t:s});default:return null}};return i?e.jsx(Nv,{}):e.jsxs("div",{className:"space-y-6 container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 sm:p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800 dark:text-white",children:"Settings"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-600 dark:text-slate-400 mt-1",children:"Manage your profile, account, notifications, and system preferences."})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx(ibe,{activeTab:d,onTabChange:u,items:ot}),e.jsx("div",{className:"flex-1 min-w-0",children:Ze()})]}),T&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-900 dark:text-white",children:"Confirm Action"}),e.jsx("p",{className:"mb-6 text-slate-600 dark:text-slate-400",children:"Are you sure you want to proceed with this action?"}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),e.jsx("button",{onClick:pe,className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600",children:"Confirm"})]})]})})]})}function hbe(){const{error:t}=na(),[r,a]=b.useState(null),[s,n]=b.useState(!0),[i,o]=b.useState("");b.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0),o("");const d=await Ut.getInterviewerStatistics();a(d)}catch(d){console.error("Error fetching interviewer statistics:",d),o("Failed to load dashboard statistics"),typeof t=="function"&&t("Failed to load dashboard statistics")}finally{n(!1)}};if(s)return e.jsx(Hme,{});if(i)return e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6 text-center",children:[e.jsx(Qt,{className:"w-8 h-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:i}),e.jsx("button",{onClick:l,className:"mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Retry"})]});if(!r)return e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-12 text-center",children:[e.jsx(Wr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Statistics Available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Unable to load dashboard statistics."})]});const c=d=>d?d.toFixed(1):"N/A";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Interviewer Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Overview of your interview activities and performance"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Interviews"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r.total_interviews})]}),e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(Wr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending Interviews"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:r.pending_interviews})]}),e.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:e.jsx(lr,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completed This Week"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:r.completed_this_week})]}),e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(jt,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completed This Month"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:r.completed_this_month})]}),e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:e.jsx(Rr,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Hs,{className:"w-5 h-5 text-blue-500 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Average Evaluation Scores"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Academic Motivation"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${r.average_scores.academic_motivation/10*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-8",children:c(r.average_scores.academic_motivation)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Leadership Involvement"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${r.average_scores.leadership_involvement/10*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-8",children:c(r.average_scores.leadership_involvement)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Financial Need"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${r.average_scores.financial_need/10*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-8",children:c(r.average_scores.financial_need)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Character Values"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${r.average_scores.character_values/10*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-8",children:c(r.average_scores.character_values)})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Rr,{className:"w-5 h-5 text-orange-500 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Upcoming Interviews"})]}),e.jsx("div",{className:"space-y-3",children:r.upcoming_interviews&&r.upcoming_interviews.length>0?r.upcoming_interviews.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[d.application?.student?.first_name," ",d.application?.student?.last_name]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(d.interview_date).toLocaleDateString()," at ",d.interview_time]})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${d.interview_type==="online"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}`,children:d.interview_type})]},d.id)):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No upcoming interviews"})})]})]})]})}function mbe({isOpen:t,onClose:r,interview:a,onEvaluationSubmitted:s}){const{showSuccess:n,showError:i}=na(),[o,l]=b.useState(!1),[c,d]=b.useState({academic_motivation_score:"",leadership_involvement_score:"",financial_need_score:"",character_values_score:"",overall_recommendation:"",remarks:""}),[u,f]=b.useState({}),p=(_,S)=>{d(N=>({...N,[_]:S})),u[_]&&f(N=>({...N,[_]:""}))},g=()=>{const _={};return(!c.academic_motivation_score||c.academic_motivation_score<1||c.academic_motivation_score>5)&&(_.academic_motivation_score="Please enter a score between 1 and 5"),(!c.leadership_involvement_score||c.leadership_involvement_score<1||c.leadership_involvement_score>5)&&(_.leadership_involvement_score="Please enter a score between 1 and 5"),(!c.financial_need_score||c.financial_need_score<1||c.financial_need_score>5)&&(_.financial_need_score="Please enter a score between 1 and 5"),(!c.character_values_score||c.character_values_score<1||c.character_values_score>5)&&(_.character_values_score="Please enter a score between 1 and 5"),c.overall_recommendation||(_.overall_recommendation="Please select an overall recommendation"),f(_),Object.keys(_).length===0},x=async _=>{if(_.preventDefault(),!!g())try{l(!0),await Ut.submitInterviewEvaluation(a.id,{academic_motivation_score:parseInt(c.academic_motivation_score),leadership_involvement_score:parseInt(c.leadership_involvement_score),financial_need_score:parseInt(c.financial_need_score),character_values_score:parseInt(c.character_values_score),overall_recommendation:c.overall_recommendation,remarks:c.remarks}),n("Interview evaluation submitted successfully!"),s(),r()}catch(S){console.error("Error submitting evaluation:",S),i("Failed to submit evaluation. Please try again.")}finally{l(!1)}},v=(_,S,N,C)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[N,e.jsx("span",{children:S})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"number",min:"1",max:"5",value:c[_],onChange:D=>p(_,D.target.value),className:`w-20 px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent ${u[_]?"border-red-500":"border-gray-300 dark:border-slate-600"}`,placeholder:"1-5"}),e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(D=>e.jsx("button",{type:"button",onClick:()=>p(_,D),className:`w-8 h-8 rounded-full flex items-center justify-center text-sm transition-colors ${c[_]>=D?"bg-orange-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-500"}`,children:e.jsx(ls,{className:"w-4 h-4"})},D))})]}),C&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:C}),u[_]&&e.jsx("p",{className:"text-xs text-red-500",children:u[_]})]});if(!t||!a)return null;const w=a.application?.student,j=a.application;return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),e.jsxs("div",{className:"relative z-10 w-full max-w-4xl bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Interview Evaluation"}),e.jsx("button",{onClick:r,className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 border border-gray-200 dark:border-slate-600",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(Hr,{className:"w-5 h-5 mr-2"}),"Student Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"}),e.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:[w?.first_name," ",w?.last_name]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Application Number:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:j?.application_number})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Scholarship Category:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:j?.category?.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Interview Date:"}),e.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:[new Date(a.interview_date).toLocaleDateString()," at ",a.interview_time]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Kt,{className:"w-5 h-5 mr-2"}),"Evaluation Criteria"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v("academic_motivation_score","Academic Motivation",e.jsx(rn,{className:"w-4 h-4"}),"Student's enthusiasm and commitment to academic excellence"),v("leadership_involvement_score","Leadership & Involvement",e.jsx(ls,{className:"w-4 h-4"}),"Participation in school activities and leadership roles"),v("financial_need_score","Financial Need",e.jsx(va,{className:"w-4 h-4"}),"Genuine financial need and family circumstances"),v("character_values_score","Character & Values",e.jsx(i2,{className:"w-4 h-4"}),"Integrity, responsibility, and moral character")]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Overall Recommendation"}),e.jsxs("select",{value:c.overall_recommendation,onChange:_=>p("overall_recommendation",_.target.value),className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent ${u.overall_recommendation?"border-red-500":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select recommendation"}),e.jsx("option",{value:"recommended",children:"Recommended"}),e.jsx("option",{value:"needs_followup",children:"For Consideration"}),e.jsx("option",{value:"not_recommended",children:"Not Recommended"})]}),u.overall_recommendation&&e.jsx("p",{className:"text-xs text-red-500",children:u.overall_recommendation})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Additional Remarks"}),e.jsx("textarea",{value:c.remarks,onChange:_=>p("remarks",_.target.value),rows:4,placeholder:"Add any additional comments or observations about the interview...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:r,disabled:o,className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 flex items-center space-x-2 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(jt,{className:"h-5 w-5"}),e.jsx("span",{children:"Submit Evaluation"})]})})]})]})})]})]})}function fbe({isOpen:t,onClose:r,application:a}){const[s,n]=b.useState("personal");if(!t||!a)return null;const i=a.student,o=a.school,l=a.category,c=a.subcategory,d=[{id:"personal",label:"Personal Info",icon:Hr},{id:"academic",label:"Academic Records",icon:rn},{id:"financial",label:"Financial Info",icon:va},{id:"documents",label:"Documents",icon:Kt}],u=w=>w.file_path?w.file_path.startsWith("http")?w.file_path:`${API_CONFIG.SCHOLARSHIP_SERVICE.BASE_URL}/storage/${w.file_path}`:null,f=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Full Name:"}),e.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:[i?.first_name," ",i?.middle_name," ",i?.last_name," ",i?.extension_name]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Student ID:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.student_id_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Sex:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.sex||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Civil Status:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.civil_status||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Birth Date:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.birth_date?new Date(i.birth_date).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Nationality:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.nationality||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(qi,{className:"w-4 h-4 mr-2"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Contact Number:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.contact_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Email Address:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.email_address||"N/A"})]})]})]}),i?.addresses&&i.addresses.length>0&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(bi,{className:"w-4 h-4 mr-2"}),"Address Information"]}),e.jsx("div",{className:"space-y-3",children:i.addresses.map((w,j)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white mb-1",children:[w.type," Address"]}),e.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[w.house_number," ",w.street,", ",w.barangay,", ",w.city,", ",w.province]})]},j))})]})]}),p=()=>e.jsxs("div",{className:"space-y-6",children:[i?.current_academic_record&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Current Academic Record"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Program:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.current_academic_record.program||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Year Level:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.current_academic_record.year_level||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"General Weighted Average:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.current_academic_record.general_weighted_average||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:o?.name||"N/A"})]})]})]}),i?.academic_records&&i.academic_records.length>0&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Academic History"}),e.jsx("div",{className:"space-y-3",children:i.academic_records.map((w,j)=>e.jsx("div",{className:"border border-gray-200 dark:border-slate-600 rounded-lg p-3",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"School Year:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:w.school_year||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"GWA:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:w.general_weighted_average||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:w.status||"N/A"})]})]})},j))})]})]}),g=()=>e.jsxs("div",{className:"space-y-6",children:[i?.financial_information&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(va,{className:"w-4 h-4 mr-2"}),"Financial Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Family Monthly Income Range:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.financial_information.family_monthly_income_range||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Number of Dependents:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.financial_information.number_of_dependents||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Father's Occupation:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.financial_information.father_occupation||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Mother's Occupation:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.financial_information.mother_occupation||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Application Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Requested Amount:"}),e.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:["",a?.requested_amount?parseFloat(a.requested_amount).toLocaleString():"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Scholarship Category:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:l?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subcategory:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:c?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Application Status:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:a?.status||"N/A"})]})]})]}),a?.financial_need_description&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Financial Need Description"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:a.financial_need_description})]})]}),x=()=>e.jsx("div",{className:"space-y-6",children:a?.documents&&a.documents.length>0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(Kt,{className:"w-4 h-4 mr-2"}),"Uploaded Documents"]}),e.jsx("div",{className:"space-y-3",children:a.documents.map(w=>e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-slate-600 p-3 rounded-lg border border-gray-200 dark:border-slate-500",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Kt,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:w.document_type?.name||w.file_name||"Unknown Document"}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Uploaded on ",new Date(w.created_at).toLocaleDateString()]})]})]}),u(w)&&e.jsxs("a",{href:u(w),target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:[e.jsx(Or,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]})]},w.id))})]}):e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-8 text-center",children:[e.jsx(Kt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Documents Uploaded"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No documents have been uploaded for this application."})]})}),v=()=>{switch(s){case"personal":return f();case"academic":return p();case"financial":return g();case"documents":return x();default:return f()}};return _a.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),e.jsxs("div",{className:"relative z-10 w-full max-w-5xl bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Application Details"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i?.first_name," ",i?.last_name," - ",a?.application_number]})]}),e.jsx("button",{onClick:r,className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:d.map(w=>{const j=w.icon;return e.jsxs("button",{onClick:()=>n(w.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${s===w.id?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-slate-600"}`,children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{children:w.label})]},w.id)})})}),e.jsx("div",{className:"p-6",children:v()}),e.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:e.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Close"})})]})]}),document.body)}function Q1({filter:t="all"}){const{error:r}=na(),[a,s]=b.useState([]),[n,i]=b.useState(!0),[o,l]=b.useState(""),[c,d]=b.useState(""),[u,f]=b.useState({status:t,dateFrom:"",dateTo:""}),[p,g]=b.useState("grid"),[x,v]=b.useState("interview_date"),[w,j]=b.useState("asc"),[_,S]=b.useState(!1),[N,C]=b.useState(null),[D,U]=b.useState(!1),[z,E]=b.useState(!1);b.useEffect(()=>{I()},[u,x,w]),b.useEffect(()=>{f(R=>({...R,status:t}))},[t]);const I=async()=>{try{i(!0),l("");const R=await Ut.getMyInterviews({status:u.status==="all"?void 0:u.status,date_from:u.dateFrom||void 0,date_to:u.dateTo||void 0,search:c||void 0,sort_by:x,sort_order:w,per_page:50});s(R.data||[])}catch(R){console.error("Error fetching interviews:",R),l("Failed to load interviews"),r("Failed to load interviews")}finally{i(!1)}},T=(R,ae)=>{f(W=>({...W,[R]:ae}))},F=()=>{f({status:"all",dateFrom:"",dateTo:""}),d("")},Y=()=>u.status!=="all"||u.dateFrom!==""||u.dateTo!==""||c!=="",O=R=>{C(R),E(!0)},q=R=>{C(R),U(!0)},$=R=>{R.meeting_link?window.open(R.meeting_link,"_blank","noopener,noreferrer"):r("Meeting link not available for this interview.")},K=()=>{I()},J=R=>{switch(R){case"scheduled":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},X=R=>{switch(R){case"scheduled":return e.jsx(lr,{className:"w-4 h-4"});case"completed":return e.jsx(jt,{className:"w-4 h-4"});case"cancelled":return e.jsx(mr,{className:"w-4 h-4"});default:return e.jsx(lr,{className:"w-4 h-4"})}},be=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),te=R=>new Date(`2000-01-01T${R}`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return n?e.jsx(Nv,{}):o?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6 text-center",children:[e.jsx(Br,{className:"w-8 h-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:o}),e.jsx("button",{onClick:I,className:"mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Retry"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"My Interviews"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your assigned interview schedules"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-64",children:[e.jsx(Ls,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by student name or application number...",value:c,onChange:R=>d(R.target.value),onKeyPress:R=>R.key==="Enter"&&I(),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("select",{value:u.status,onChange:R=>T("status",R.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>S(!_),className:`flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ${_?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[e.jsx(Yi,{className:"w-4 h-4"}),e.jsx("span",{children:"Advanced"})]}),e.jsxs("div",{className:"flex items-center space-x-1 border border-gray-300 dark:border-slate-600 rounded-lg",children:[e.jsx("button",{onClick:()=>g("grid"),className:`p-2 rounded-l-lg transition-colors ${p==="grid"?"bg-orange-500 text-white":"bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:e.jsx(jh,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>g("list"),className:`p-2 rounded-r-lg transition-colors ${p==="list"?"bg-orange-500 text-white":"bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:e.jsx(jd,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:I,className:"p-2 rounded-lg bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",title:"Refresh",children:e.jsx(Nr,{className:"w-4 h-4"})})]})]}),_&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date From"}),e.jsx("input",{type:"date",value:u.dateFrom,onChange:R=>T("dateFrom",R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date To"}),e.jsx("input",{type:"date",value:u.dateTo,onChange:R=>T("dateTo",R.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]})}),Y()&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.status!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",children:["Status: ",u.status,e.jsx("button",{onClick:()=>T("status","all"),className:"ml-1 hover:text-orange-600 dark:hover:text-orange-200",children:e.jsx(dr,{className:"w-3 h-3"})})]}),c&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:['Search: "',c,'"',e.jsx("button",{onClick:()=>d(""),className:"ml-1 hover:text-purple-600 dark:hover:text-purple-200",children:e.jsx(dr,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:F,className:"text-sm text-gray-600 dark:text-gray-300 underline hover:text-gray-800 dark:hover:text-gray-100",children:"Clear all filters"})]})]}),a.length===0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-12 text-center",children:[e.jsx(Wr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No interviews found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters or search terms."})]}):e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[a.length," Interview",a.length!==1?"s":""]})}),p==="grid"?e.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(R=>e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 border border-gray-200 dark:border-slate-600",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white",children:[R.application?.student?.first_name," ",R.application?.student?.last_name]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:R.application?.application_number})]}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${J(R.status)}`,children:[X(R.status),e.jsx("span",{className:"ml-1 capitalize",children:R.status})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Rr,{className:"w-4 h-4 mr-2"}),be(R.interview_date)]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(lr,{className:"w-4 h-4 mr-2"}),te(R.interview_time)]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[R.interview_type==="online"?e.jsx(Mi,{className:"w-4 h-4 mr-2"}):e.jsx(bi,{className:"w-4 h-4 mr-2"}),R.interview_type]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>O(R),className:"flex-1 px-3 py-2 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(Or,{className:"w-4 h-4 inline mr-1"}),"View Details"]}),R.status==="scheduled"&&e.jsx("button",{onClick:()=>q(R),className:"flex-1 px-3 py-2 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Evaluate"})]}),R.interview_type==="online"&&R.status==="scheduled"&&R.meeting_link&&e.jsxs("button",{onClick:()=>$(R),className:"w-full px-3 py-2 text-sm bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors flex items-center justify-center",children:[e.jsx(hh,{className:"w-4 h-4 mr-1"}),"Join Meeting"]})]})]},R.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Application"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:a.map(R=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Wr,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[R.application?.student?.first_name," ",R.application?.student?.last_name]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:R.application?.student?.student_id_number})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:R.application?.application_number}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:R.application?.category?.name})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:be(R.interview_date)}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:te(R.interview_time)})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${R.interview_type==="online"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}`,children:[R.interview_type==="online"?e.jsx(Mi,{className:"w-3 h-3 mr-1"}):e.jsx(bi,{className:"w-3 h-3 mr-1"}),R.interview_type]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${J(R.status)}`,children:[X(R.status),e.jsx("span",{className:"ml-1 capitalize",children:R.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>O(R),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors",children:"View"}),R.status==="scheduled"&&e.jsx("button",{onClick:()=>q(R),className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 transition-colors",children:"Evaluate"})]}),R.interview_type==="online"&&R.status==="scheduled"&&R.meeting_link&&e.jsxs("button",{onClick:()=>$(R),className:"text-purple-600 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300 transition-colors flex items-center",children:[e.jsx(hh,{className:"w-3 h-3 mr-1"}),"Join Meeting"]})]})})]},R.id))})]})})]}),e.jsx(mbe,{isOpen:D,onClose:()=>{U(!1),C(null)},interview:N,onEvaluationSubmitted:K}),e.jsx(fbe,{isOpen:z,onClose:()=>{E(!1),C(null)},application:N?.application})]})}const pbe=({activeTab:t,onTabChange:r,items:a})=>e.jsxs("div",{className:"w-full lg:w-64 bg-white rounded-lg shadow-sm border border-gray-200 h-fit flex-shrink-0",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Menu"})}),e.jsx("nav",{className:"p-2 space-y-1",children:a.map(s=>{const n=s.icon,i=t===s.id;return e.jsxs("button",{onClick:()=>r(s.id),className:`w-full flex items-center space-x-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${i?"bg-orange-50 text-orange-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(n,{className:`h-5 w-5 flex-shrink-0 ${i?"text-orange-500":"text-gray-400"}`}),e.jsx("span",{className:"truncate",children:s.label})]},s.id)})})]}),Jx=({title:t,value:r,icon:a,color:s,subtitle:n,trend:i})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 truncate",children:t}),e.jsx("p",{className:`text-lg sm:text-2xl font-bold ${s}`,children:r}),n&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:n})]}),e.jsx("div",{className:`p-2 sm:p-3 rounded-full flex-shrink-0 ${s.replace("text-","bg-").replace("-600","-100")}`,children:e.jsx(a,{className:`h-5 w-5 sm:h-6 sm:w-6 ${s}`})})]}),i&&e.jsxs("div",{className:"mt-2 flex items-center text-xs sm:text-sm",children:[i>0?e.jsx(Hs,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 mr-1 flex-shrink-0"}):e.jsx(ck,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-500 mr-1 flex-shrink-0"}),e.jsxs("span",{className:`${i>0?"text-green-600":"text-red-600"} truncate`,children:[Math.abs(i),"% from last period"]})]})]}),gbe=({statistics:t,filters:r})=>{if(!t)return null;const a=s=>s>90?"text-green-600":s>70?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[e.jsx(Jx,{title:"Total Scans",value:t.overview.total_scans.toLocaleString(),icon:Nc,color:"text-blue-600",subtitle:`Last ${r.days} days`}),e.jsx(Jx,{title:"Clean Files",value:t.overview.clean_scans.toLocaleString(),icon:jt,color:"text-green-600",subtitle:`${t.overview.clean_percentage}% clean rate`}),e.jsx(Jx,{title:"Threats Blocked",value:t.overview.infected_scans.toLocaleString(),icon:Br,color:"text-red-600",subtitle:"Malicious files detected"}),e.jsx(Jx,{title:"Avg Scan Time",value:`${t.overview.avg_scan_time}s`,icon:lr,color:"text-purple-600",subtitle:"Performance metric"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Scanner Health"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:`text-3xl font-bold ${a(t.scanner_health.uptime_percentage)}`,children:[t.scanner_health.uptime_percentage,"%"]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Uptime"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.scanner_health.recent_scans," scans in last 24h"]})]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.scanner_health.status==="healthy"?"bg-green-100 text-green-800":t.scanner_health.status==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:t.scanner_health.status.toUpperCase()})]})]}),t.threat_breakdown&&t.threat_breakdown.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Threat Breakdown"}),e.jsx("div",{className:"space-y-3",children:t.threat_breakdown.map((s,n)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Br,{className:"h-5 w-5 text-red-500"}),e.jsx("span",{className:"font-medium text-gray-900",children:s.threat_name})]}),e.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[s.count," detections"]})]},n))})]})]})},xbe=({logs:t})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Scan Logs"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"File"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Threat"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scan Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((r,a)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Kt,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.file_name}),e.jsx("div",{className:"text-sm text-gray-500",children:r.mime_type})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(ybe,{isClean:r.is_clean})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.threat_name||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.scan_duration?`${r.scan_duration}s`:"-"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[r.first_name," ",r.last_name]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(r.created_at).toLocaleString()})]},a))})]})})]}),ybe=({isClean:t})=>{const r=t?"clean":"infected";let a="text-gray-600 bg-gray-100",s=Nc,n="Unknown";return r==="clean"?(a="text-green-600 bg-green-100",s=jt,n="Clean"):r==="infected"&&(a="text-red-600 bg-red-100",s=Br,n="Infected"),e.jsxs("div",{className:"flex items-center",children:[e.jsx(s,{className:`h-4 w-4 ${r==="clean"?"text-green-500":"text-red-500"}`}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${a}`,children:n})]})},bbe=({quarantine:t,handleQuarantineDelete:r})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quarantined Files"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"File"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Threat"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quarantined"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((a,s)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Kt,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.file_name}),e.jsx("div",{className:"text-sm text-gray-500",children:a.mime_type})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:a.threat_name})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[a.first_name," ",a.last_name]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(a.quarantined_at).toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.is_reviewed?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.is_reviewed?"Reviewed":"Pending Review"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-orange-600 hover:text-orange-900",children:e.jsx(Or,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>r(a.id),className:"text-red-600 hover:text-red-900",children:e.jsx(bn,{className:"h-4 w-4"})})]})})]},s))})]})})]}),vbe=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scanner Type"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"clamd",children:"ClamAV Daemon (Recommended)"}),e.jsx("option",{value:"clamscan",children:"ClamAV CLI"}),e.jsx("option",{value:"virustotal",children:"VirusTotal API"}),e.jsx("option",{value:"defender",children:"Windows Defender"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scan Timeout (seconds)"}),e.jsx("input",{type:"number",defaultValue:"30",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max File Size (MB)"}),e.jsx("input",{type:"number",defaultValue:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fallback Policy"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"reject",children:"Reject (Recommended)"}),e.jsx("option",{value:"allow",children:"Allow"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Allowed File Types"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"PDF Documents"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"JPEG Images"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"PNG Images"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Word Documents"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Scanner Health"}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(jt,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsx("span",{className:"text-green-800 font-medium",children:"Scanner is healthy and operational"})]}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Last virus definition update: 2 hours ago"})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Save Configuration"}),e.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Test Scanner"}),e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Update Definitions"})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsx(OF,{})})]}),Xx=({activeItem:t="security-dashboard"})=>{const[r,a]=b.useState(null),[s,n]=b.useState([]),[i,o]=b.useState([]),[l,c]=b.useState(!0),d=()=>{switch(t){case"security":case"security-dashboard":return"overview";case"security-threats":return"logs";case"security-quarantine":return"quarantine";case"security-settings":return"settings";default:return"overview"}},[u,f]=b.useState(d()),[p,g]=b.useState({days:30,status:"all",threat:"",dateFrom:"",dateTo:""}),x=async(D,U={})=>{const z=Et.SCHOLARSHIP_SERVICE.BASE_URL;return await(await fetch(`${z}${D}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,Accept:"application/json",...U.headers},...U})).json()},v=async()=>{try{const D=await x(`${Et.SCHOLARSHIP_SERVICE.ENDPOINTS.VIRUS_SCAN.STATISTICS}?days=${p.days}`);D.success&&a(D.data)}catch(D){console.error("Error fetching statistics:",D)}},w=async()=>{try{const D=new URLSearchParams;p.status!=="all"&&D.append("status",p.status),p.threat&&D.append("threat",p.threat),p.dateFrom&&D.append("date_from",p.dateFrom),p.dateTo&&D.append("date_to",p.dateTo);const U=await x(`${Et.SCHOLARSHIP_SERVICE.ENDPOINTS.VIRUS_SCAN.LOGS}?${D}`);U.success&&n(U.data.data||[])}catch(D){console.error("Error fetching logs:",D)}},j=async()=>{try{const D=new URLSearchParams;p.threat&&D.append("threat",p.threat);const U=await x(`${Et.SCHOLARSHIP_SERVICE.ENDPOINTS.VIRUS_SCAN.QUARANTINE}?${D}`);U.success&&o(U.data.data||[])}catch(D){console.error("Error fetching quarantine:",D)}},_=async D=>{if(window.confirm("Are you sure you want to permanently delete this file?"))try{(await x(Et.SCHOLARSHIP_SERVICE.ENDPOINTS.VIRUS_SCAN.QUARANTINE_DELETE(D),{method:"DELETE"})).success&&(j(),alert("File deleted successfully"))}catch(U){console.error("Error deleting quarantined file:",U),alert("Failed to delete file")}},S=async()=>{c(!0),await Promise.all([v(),w(),j()]),c(!1)};if(b.useEffect(()=>{S()},[p]),l)return e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center h-64 space-y-2 sm:space-y-0",children:[e.jsx(Nr,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-orange-500"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-600 text-center",children:"Loading security dashboard..."})]})});const N=[{id:"overview",label:"Overview",icon:nl},{id:"logs",label:"Scan Logs",icon:Kt},{id:"quarantine",label:"Quarantine",icon:Br},{id:"settings",label:"Settings",icon:rl}],C=()=>{switch(u){case"overview":return e.jsx(gbe,{statistics:r,filters:p});case"logs":return e.jsx(xbe,{logs:s});case"quarantine":return e.jsx(bbe,{quarantine:i,handleQuarantineDelete:_});case"settings":return e.jsx(vbe,{});default:return null}};return e.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-500 rounded-lg flex-shrink-0",children:e.jsx(Ns,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 truncate",children:"Security Dashboard"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Monitor system security, virus scans, and threats"})]})]}),e.jsxs("button",{onClick:S,className:"flex items-center justify-center space-x-2 bg-orange-500 text-white px-3 py-2 sm:px-4 rounded-lg hover:bg-orange-600 transition-colors text-sm sm:text-base w-full sm:w-auto",children:[e.jsx(Nr,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx(pbe,{activeTab:u,onTabChange:f,items:N}),e.jsxs("div",{className:"flex-1 min-w-0",children:[u!=="settings"&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Period"}),e.jsxs("select",{value:p.days,onChange:D=>g({...p,days:parseInt(D.target.value)}),className:"w-full px-2 py-2 sm:px-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:7,children:"Last 7 days"}),e.jsx("option",{value:30,children:"Last 30 days"}),e.jsx("option",{value:90,children:"Last 90 days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:p.status,onChange:D=>g({...p,status:D.target.value}),className:"w-full px-2 py-2 sm:px-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"clean",children:"Clean"}),e.jsx("option",{value:"infected",children:"Infected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Threat"}),e.jsx("input",{type:"text",placeholder:"Search threat...",value:p.threat,onChange:D=>g({...p,threat:D.target.value}),className:"w-full px-2 py-2 sm:px-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]})]})}),C()]})]})]})};class wbe{constructor(){this.baseURL=bo("/api")}async getArchivedData(){try{return(await or.get(`${this.baseURL}/archived`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error fetching archived data:",r),r}}async getArchivedDataByCategory(r){try{return(await or.get(`${this.baseURL}/archived/${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(a){throw console.error(`Error fetching archived ${r}:`,a),a}}async restoreItem(r,a){try{return(await or.post(`${this.baseURL}/archived/${r}/${a}/restore`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(s){throw console.error(`Error restoring ${r} item:`,s),s}}async permanentDeleteItem(r,a){try{return(await or.delete(`${this.baseURL}/archived/${r}/${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(s){throw console.error(`Error permanently deleting ${r} item:`,s),s}}async getArchivedStats(){try{return(await or.get(`${this.baseURL}/archived/stats`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error fetching archived stats:",r),r}}async searchArchivedData(r,a="all"){try{return(await or.get(`${this.baseURL}/archived/search`,{params:{q:r,category:a},headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(s){throw console.error("Error searching archived data:",s),s}}async bulkRestoreItems(r,a){try{return(await or.post(`${this.baseURL}/archived/${r}/bulk-restore`,{item_ids:a},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(s){throw console.error(`Error bulk restoring ${r} items:`,s),s}}async bulkPermanentDeleteItems(r,a){try{return(await or.post(`${this.baseURL}/archived/${r}/bulk-delete`,{item_ids:a},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(s){throw console.error(`Error bulk deleting ${r} items:`,s),s}}async getArchivedItemDetails(r,a){try{return(await or.get(`${this.baseURL}/archived/${r}/${a}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(s){throw console.error(`Error fetching archived ${r} item details:`,s),s}}}const e2=new wbe,jbe=()=>{const{showSuccess:t,showError:r}=na(),[a,s]=b.useState({users:[],applications:[],documents:[],logs:[]}),[n,i]=b.useState([]),[o,l]=b.useState("all"),[c,d]=b.useState(""),[u,f]=b.useState(!0),[p,g]=b.useState([]),[x,v]=b.useState(!1),[w,j]=b.useState(!1),[_,S]=b.useState(null),[N,C]=b.useState([{id:"all",label:"All Items",icon:nk,count:0},{id:"users",label:"Users",icon:Hr,count:0},{id:"applications",label:"Applications",icon:Kt,count:0},{id:"documents",label:"Documents",icon:Kt,count:0},{id:"logs",label:"Logs",icon:lr,count:0}]);b.useEffect(()=>{D()},[]),b.useEffect(()=>{U()},[o,c,a]);const D=async()=>{f(!0);try{const O=await e2.getArchivedData();if(O.success)s(O.data),C(q=>q.map($=>({...$,count:$.id==="all"?Object.values(O.data).flat().length:O.data[$.id]?.length||0})));else throw new Error(O.message||"Failed to fetch archived data")}catch(O){console.error("Error fetching archived data:",O);const q={users:[{id:1,name:"John Doe",email:"john.doe@example.com",role:"citizen",deletedAt:"2024-01-15T10:30:00Z",deletedBy:"Admin User",reason:"Account closure request"},{id:2,name:"Jane Smith",email:"jane.smith@example.com",role:"staff",deletedAt:"2024-01-14T14:20:00Z",deletedBy:"System Admin",reason:"Inactive account cleanup"}],applications:[{id:1,applicantName:"Alice Johnson",scholarshipType:"Merit Scholarship",status:"rejected",deletedAt:"2024-01-13T09:15:00Z",deletedBy:"Admin User",reason:"Duplicate application"}],documents:[{id:1,name:"Transcript_2023.pdf",type:"transcript",size:"2.5 MB",deletedAt:"2024-01-12T16:45:00Z",deletedBy:"System Admin",reason:"File corruption"}],logs:[{id:1,action:"User Login",user:"test@example.com",deletedAt:"2024-01-11T11:30:00Z",deletedBy:"System Admin",reason:"Data retention policy"}]};s(q),C($=>$.map(K=>({...K,count:K.id==="all"?Object.values(q).flat().length:q[K.id]?.length||0}))),r("Using offline data - API connection failed")}finally{f(!1)}},U=()=>{let O=[];o==="all"?O=Object.values(a).flat():O=a[o]||[],c&&(O=O.filter(q=>q.name?.toLowerCase().includes(c.toLowerCase())||q.email?.toLowerCase().includes(c.toLowerCase())||q.applicantName?.toLowerCase().includes(c.toLowerCase())||q.action?.toLowerCase().includes(c.toLowerCase()))),i(O)},z=async O=>{try{const q=o==="all"?Object.keys(a).find(K=>a[K].includes(O)):o,$=await e2.restoreItem(q,O.id);if($.success)t(`${O.name||O.applicantName||O.action} has been restored successfully`),q&&a[q]&&s(K=>({...K,[q]:K[q].filter(J=>J.id!==O.id)}));else throw new Error($.message||"Failed to restore item");v(!1),S(null)}catch(q){console.error("Error restoring item:",q),r("Failed to restore item")}},E=async O=>{try{const q=o==="all"?Object.keys(a).find(K=>a[K].includes(O)):o,$=await e2.permanentDeleteItem(q,O.id);if($.success)t(`${O.name||O.applicantName||O.action} has been permanently deleted`),q&&a[q]&&s(K=>({...K,[q]:K[q].filter(J=>J.id!==O.id)}));else throw new Error($.message||"Failed to permanently delete item");j(!1),S(null)}catch(q){console.error("Error permanently deleting item:",q),r("Failed to permanently delete item")}},I=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),T=O=>O.email?Hr:O.applicantName?Kt:O.action?lr:Kt,F=O=>O.name||O.applicantName||O.action||"Unknown Item",Y=O=>O.email?O.email:O.scholarshipType?O.scholarshipType:O.type?O.type:O.user?O.user:"";return u?e.jsx(Nv,{module:"archived"}):e.jsxs(jv,{variant:"page",className:"",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[e.jsx(kp,{className:"w-8 h-8 text-orange-500"}),"Archived Data"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage and restore deleted data from the system"})]}),e.jsxs("button",{onClick:D,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Nr,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:N.slice(1).map(O=>e.jsx(br.div,{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6",whileHover:{scale:1.02},transition:{duration:.2},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:O.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:O.count})]}),e.jsx(O.icon,{className:"w-8 h-8 text-orange-500"})]})},O.id))}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsx("select",{value:o,onChange:O=>l(O.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 dark:bg-slate-700 dark:text-white",children:N.map(O=>e.jsxs("option",{value:O.id,children:[O.label," (",O.count,")"]},O.id))})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search archived items...",value:c,onChange:O=>d(O.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 dark:bg-slate-700 dark:text-white"})]})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Archived Items (",n.length,")"]})}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.jsx(wo,{children:n.map((O,q)=>{const $=T(O),K=O.email?"user":O.applicantName?"application":O.action?"log":"document";return e.jsx(br.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,delay:q*.05},className:"p-6 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx($,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:F(O)}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:Y(O)}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Deleted: ",I(O.deletedAt)]}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["By: ",O.deletedBy]}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Reason: ",O.reason]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>{S(O),v(!0)},className:"flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[e.jsx(o2,{className:"w-4 h-4"}),e.jsx("span",{children:"Restore"})]}),e.jsxs("button",{onClick:()=>{S(O),j(!0)},className:"flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:[e.jsx(bn,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]})]})]})},`${K}-${O.id}-${q}`)})})}),n.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(kp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No archived items found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:c?"Try adjusting your search criteria":"No items have been archived yet"})]})]}),x&&_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(br.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(o2,{className:"w-6 h-6 text-green-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Restore Item"})]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:['Are you sure you want to restore "',F(_),'"? This will move it back to its original location.']}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{v(!1),S(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>z(_),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Restore"})]})]})}),w&&_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(br.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(bn,{className:"w-6 h-6 text-red-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Permanent Delete"})]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:['Are you sure you want to permanently delete "',F(_),'"? This action cannot be undone.']}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{j(!1),S(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>E(_),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Permanently"})]})]})})]})};function Nbe({activeItem:t,activeTab:r,onPageChange:a,userRole:s,userSystemRole:n}){if(t==="access-denied")return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You don't have the necessary permissions to access this system. Please contact your administrator."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Return to Login"})]})});if(s==="staff"&&!n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Staff Access Required"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You need to be registered as staff in the scholarship system to access this dashboard. Please contact your administrator."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Return to Login"})]})});switch(t){case"dashboard":return s==="staff"&&n==="interviewer"?e.jsx("div",{children:e.jsx(hbe,{})}):e.jsx("div",{children:e.jsx(Ime,{onPageChange:a})});case"Settings":return e.jsx("div",{children:e.jsx(v7,{})});case"scholarship-applications":return e.jsx("div",{children:e.jsx(Nxe,{initialTab:r})});case"scholarship-programs":return e.jsx("div",{children:e.jsx(kxe,{})});case"scholarship-periods":return e.jsx("div",{children:e.jsx(Sxe,{})});case"scholarship-ssc":return e.jsx("div",{children:e.jsx(Lxe,{})});case"sad-overview":return e.jsx("div",{children:e.jsx(Yxe,{})});case"sad-disbursement-history":return e.jsx("div",{children:e.jsx(Kxe,{})});case"studentRegistry-overview":return e.jsx("div",{children:e.jsx(Xxe,{onPageChange:a})});case"studentRegistry-directory":return e.jsx("div",{children:e.jsx(tye,{viewMode:"all"})});case"studentRegistry-tools":return e.jsx("div",{children:e.jsx(rye,{})});case"psd-school-management":return e.jsx("div",{children:e.jsx(dye,{})});case"psd-student-population":return e.jsx("div",{children:e.jsx(uye,{})});case"psd-analytics":return e.jsx("div",{children:e.jsx(hye,{})});case"psd-guidelines":return e.jsx("div",{children:e.jsx(bye,{})});case"psd-applications":return e.jsx("div",{children:e.jsx(Dye,{})});case"emr-overview":return e.jsx("div",{children:e.jsx(sbe,{})});case"emr-academic-performance":return e.jsx("div",{children:e.jsx(Jye,{})});case"emr-enrollment-statistics":return e.jsx("div",{children:e.jsx(Xye,{})});case"emr-analytics":return e.jsx("div",{children:e.jsx(Zye,{})});case"emr-legacy":return e.jsx("div",{children:e.jsx(Yye,{})});case"user-management":return e.jsx("div",{children:e.jsx(Oye,{})});case"audit-logs":return e.jsx("div",{children:e.jsx(Rye,{})});case"security":case"security-dashboard":return e.jsx("div",{children:e.jsx(Xx,{activeItem:"security-dashboard"})});case"security-threats":return e.jsx("div",{children:e.jsx(Xx,{activeItem:"security-threats"})});case"security-quarantine":return e.jsx("div",{children:e.jsx(Xx,{activeItem:"security-quarantine"})});case"security-settings":return e.jsx("div",{children:e.jsx(Xx,{activeItem:"security-settings"})});case"settings":return e.jsx("div",{children:e.jsx(v7,{})});case"archived":return e.jsx("div",{children:e.jsx(jbe,{})});case"interviews-pending":return e.jsx("div",{children:e.jsx(Q1,{filter:"pending"})});case"interviews-completed":return e.jsx("div",{children:e.jsx(Q1,{filter:"completed"})});case"interviews-all":return e.jsx("div",{children:e.jsx(Q1,{filter:"all"})});default:return e.jsx("div",{children:"Dashboard"})}}function kbe(t,r,a){const s=vD(r,a);for(const n of s){if(n.id===t)return[n.label];if(n.subItems){const i=n.subItems.find(o=>o.id===t);if(i)return[n.label,i.label]}}return["Dashboard"]}function Sbe(){const[t,r]=gt.useState(!1),[a,s]=gt.useState("dashboard"),[n,i]=gt.useState(void 0),[o,l]=gt.useState(!1),{currentUser:c}=_r();gt.useEffect(()=>{(c?.role==="ssc"||String(c?.role).startsWith("ssc_"))&&s("scholarship-ssc")},[c]);const d=()=>{window.innerWidth<768?l(!o):r(!t)},u=(p,g)=>{s(p),i(g),window.innerWidth<768&&l(!1)},f=()=>{l(!1)};return e.jsx(p9,{children:e.jsx(jX,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-800 dark:via-slate-800 dark:to-slate-800 transition-colors duration-200",children:e.jsxs("div",{className:"flex h-screen overflow-hidden relative",children:[o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:f}),e.jsx("div",{className:`${o?"translate-x-0":"-translate-x-full"} md:translate-x-0 fixed md:relative z-50 md:z-auto transition-transform duration-300 ease-in-out h-full`,children:e.jsx(kX,{collapsed:t&&window.innerWidth>=768,activeItem:a,onPageChange:u})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden w-full md:w-auto",children:[e.jsx(_X,{sidebarCollapsed:t,onToggleSidebar:d,breadcrumb:kbe(a,c?.role,c?.system_role)}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-auto",children:e.jsx(Nbe,{activeItem:a,activeTab:n,onPageChange:u,userRole:c?.role,userSystemRole:c?.system_role})})]})]})})})})}const _be=Et.AUTH_SERVICE.BASE_URL,Tg=Et.SCHOLARSHIP_SERVICE.BASE_URL,RF=Et.AID_SERVICE.BASE_URL,Abe=async t=>{try{const r=await fetch(`${_be}/api/user`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const a=await r.json();if(!a.success||!a.data?.user?.assigned_school_id)throw new Error("No school assigned to this user");const s=await fetch(`${Tg}/api/schools/${a.data.user.assigned_school_id}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();if(n.success)return{school:n.data,user:a.data.user};throw new Error(n.message||"Failed to fetch school info")}catch(r){throw console.error("Error fetching partner school info:",r),r}},Cbe=async t=>{try{const r=await fetch(`${Tg}/api/partner-school/stats`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const a=await r.json();if(a.success)return a.data;throw new Error(a.message||"Failed to fetch school stats")}catch(r){throw console.error("Error fetching partner school stats:",r),r}},Pbe=async(t,r,a="merge")=>{try{const s=await fetch(`${Tg}/api/partner-school/enrollment/upload`,{method:"POST",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({csv_data:r,update_mode:a})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();if(n.success)return n.data;throw new Error(n.message||"Failed to upload enrollment data")}catch(s){throw console.error("Error uploading enrollment data:",s),s}},Ebe=async(t,r={})=>{try{const a=new URLSearchParams(r),s=await fetch(`${Tg}/api/partner-school/enrollment/data?${a}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();if(n.success)return n.data;throw new Error(n.message||"Failed to fetch enrollment data")}catch(a){throw console.error("Error fetching enrollment data:",a),a}},Tbe=async(t,r={})=>{try{const a=new URLSearchParams;r.page&&a.append("page",r.page),a.append("per_page",r.per_page||1e3),r.search&&a.append("search",r.search);const s=await fetch(`${Tg}/api/partner-school/flexible/students?${a}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const n=await s.json();if(n.success)return n.data;throw new Error(n.message||"Failed to fetch flexible students")}catch(a){throw console.error("Error fetching flexible students:",a),a}},Dbe=async(t,r)=>{try{const a=await fetch(`${RF}/api/partner-school/withdrawals?school_id=${r}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return(await a.json()).data||[]}catch(a){throw console.error("Error fetching withdrawals:",a),a}},Ibe=Dbe,Obe=async(t,r)=>{try{const a=await fetch(`${RF}/api/partner-school/withdrawals`,{method:"POST",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"},body:r});if(!a.ok){const s=await a.json();throw new Error(s.message||"Failed to record withdrawal")}return await a.json()}catch(a){throw console.error("Error recording withdrawal:",a),a}},Rbe=Obe,Xo=Et.SCHOLARSHIP_SERVICE.BASE_URL,Lbe=()=>{const{currentUser:t,logout:r,token:a}=_r(),[s,n]=b.useState(null),[i,o]=b.useState(null),[l,c]=b.useState(!0),[d,u]=b.useState(null),[f,p]=b.useState(!1),[g,x]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[v,w]=b.useState({current:!1,new:!1,confirm:!1}),[j,_]=b.useState(!1),[S,N]=b.useState({score:0,feedback:[]}),[C,D]=b.useState(!1),[U,z]=b.useState(null),[E,I]=b.useState({document_type:"other",document_name:"",file:null}),[T,F]=b.useState(!1),[Y,O]=b.useState(null),[q,$]=b.useState(!1),[K,J]=b.useState(!1),[X,be]=b.useState({}),[te,R]=b.useState(!1),[ae,W]=b.useState(null),[pe,ce]=b.useState({requirements:!0,benefits:!0,responsibilities:!0,process:!0}),[we,je]=b.useState(!1),[fe,xe]=b.useState(!1),[$e,ge]=b.useState(!1),[ot,Ze]=b.useState({classification:"",address:"",city:"",province:"",region:"",contact_number:""}),[Z,re]=b.useState(!1),[Ue,Ge]=b.useState(null);b.useEffect(()=>{(async()=>{if(!a){c(!1);return}try{c(!0),u(null);const nt=await fetch(`${Xo}/api/partner-school/my-application`,{headers:{Authorization:`Bearer ${a}`,Accept:"application/json"}});if(nt.ok){const ut=await nt.json();ut.success?(o(ut.data.school),n(ut.data.application)):u(ut.message||"Failed to fetch application status")}else{const ut=await nt.json();u(ut.message||"Failed to fetch application status")}}catch(nt){console.error("Error fetching application status:",nt),u(nt.message||"Failed to fetch application status")}finally{c(!1)}})()},[a,t]),b.useEffect(()=>{i&&Ze({classification:i.classification||"",address:i.address||"",city:i.city||"",province:i.province||"",region:i.region||"",contact_number:i.contact_number||""})},[i]);const Ke=async Fe=>{if(Fe.preventDefault(),!i||!i.id){alert("School information not available");return}re(!0),Ge(null);try{const nt=await fetch(`${Xo}/api/partner-school/school-info`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(ot)});if(nt.ok){const ut=await nt.json();if(ut.success){alert("School information updated successfully"),ge(!1);const Tt=await fetch(`${Xo}/api/partner-school/my-application`,{headers:{Authorization:`Bearer ${a}`,Accept:"application/json"}});if(Tt.ok){const Lt=await Tt.json();Lt.success&&o(Lt.data.school)}}else Ge(ut.message||"Failed to update school information")}else{const ut=await nt.json();Ge(ut.message||"Failed to update school information")}}catch(nt){console.error("Error updating school information:",nt),Ge("An error occurred while updating school information")}finally{re(!1)}},ie=async()=>{if(!s||!s.id){alert("No application found. Please contact the administrator.");return}if(s.status!=="draft"){alert("Only draft applications can be submitted.");return}if(window.confirm("Submit this application for review? You will still be able to upload documents while it is under review."))try{const Fe=await fetch(`${Xo}/api/partner-school/applications/${s.id}/submit`,{method:"POST",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"}});if(Fe.ok){const nt=await Fe.json();if(nt.success){alert("Application submitted successfully.");const ut=await fetch(`${Xo}/api/partner-school/my-application`,{headers:{Authorization:`Bearer ${a}`,Accept:"application/json"}});if(ut.ok){const Tt=await ut.json();Tt.success&&(o(Tt.data.school),n(Tt.data.application))}}else alert(nt.message||"Failed to submit application")}else{const nt=await Fe.json();alert(nt.message||"Failed to submit application")}}catch(Fe){console.error("Error submitting application:",Fe),alert("An error occurred while submitting application")}},Ce=async()=>{if(!s||!s.id){alert("No application found. Please contact the administrator.");return}if(!["submitted","under_review"].includes(s.status)){alert("Only submitted or under review applications can be withdrawn.");return}xe(!0);try{const Fe=await fetch(`${Xo}/api/partner-school/applications/${s.id}/withdraw`,{method:"POST",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"}});if(Fe.ok){const nt=await Fe.json();if(nt.success){const ut=await fetch(`${Xo}/api/partner-school/my-application`,{headers:{Authorization:`Bearer ${a}`,Accept:"application/json"}});if(ut.ok){const Tt=await ut.json();Tt.success&&(o(Tt.data.school),n(Tt.data.application))}je(!1),alert("Application withdrawn successfully.")}else alert(nt.message||"Failed to withdraw application")}else{const nt=await Fe.json();alert(nt.message||"Failed to withdraw application")}}catch(Fe){console.error("Error withdrawing application:",Fe),alert("An error occurred while withdrawing application")}finally{xe(!1)}},Oe=Fe=>{let nt=0;const ut=[];return Fe.length>=10?nt+=20:ut.push({text:"At least 10 characters",valid:!1}),/[a-z]/.test(Fe)?nt+=20:ut.push({text:"At least one lowercase letter",valid:!1}),/[A-Z]/.test(Fe)?nt+=20:ut.push({text:"At least one uppercase letter",valid:!1}),/[0-9]/.test(Fe)?nt+=20:ut.push({text:"At least one number",valid:!1}),/[!@#$%^&*(),.?":{}|<>]/.test(Fe)?nt+=20:ut.push({text:"At least one special character",valid:!1}),ut.forEach(Tt=>{if(!Tt.valid){const Lt=Tt.text;Fe.length>=10&&Lt.includes("10 characters")&&(Tt.valid=!0),/[a-z]/.test(Fe)&&Lt.includes("lowercase")&&(Tt.valid=!0),/[A-Z]/.test(Fe)&&Lt.includes("uppercase")&&(Tt.valid=!0),/[0-9]/.test(Fe)&&Lt.includes("number")&&(Tt.valid=!0),/[!@#$%^&*(),.?":{}|<>]/.test(Fe)&&Lt.includes("special")&&(Tt.valid=!0)}}),{score:nt,feedback:ut}},Je=(Fe,nt)=>{if(x(ut=>({...ut,[Fe]:nt})),Fe==="newPassword"){const ut=Oe(nt);N(ut)}},H=Fe=>{w(nt=>({...nt,[Fe]:!nt[Fe]}))},de=async Fe=>{if(Fe.preventDefault(),g.newPassword!==g.confirmPassword){alert("New passwords do not match");return}if(S.score<100){alert("Please ensure all password requirements are met");return}_(!0);try{const nt=await fetch(fh("/api/change-password"),{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({current_password:g.currentPassword,new_password:g.newPassword,confirm_password:g.confirmPassword})});if(nt.ok)alert("Password changed successfully"),x({currentPassword:"",newPassword:"",confirmPassword:""}),N({score:0,feedback:[]}),p(!1);else{const ut=await nt.json();alert(ut.message||"Failed to change password")}}catch(nt){console.error("Error changing password:",nt),alert("An error occurred while changing password")}finally{_(!1)}},ue=async Fe=>{if(Fe.preventDefault(),!E.file||!E.document_name){alert("Please fill in all required fields");return}if(!s||!s.id){alert("No application found. Please contact the administrator.");return}F(!0),O(null);try{const nt=new FormData;nt.append("document_type",E.document_type),nt.append("document_name",E.document_name),nt.append("file",E.file);const ut=await fetch(`${Xo}/api/partner-school/applications/${s.id}/documents`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:nt});if(ut.ok){const Tt=await ut.json();alert("Document uploaded successfully"),I({document_type:"other",document_name:"",file:null}),z(null),D(!1);const Lt=await fetch(`${Xo}/api/partner-school/my-application`,{headers:{Authorization:`Bearer ${a}`,Accept:"application/json"}});if(Lt.ok){const Ar=await Lt.json();Ar.success&&n(Ar.data.application)}}else{const Tt=await ut.json();O(Tt.message||"Failed to upload document")}}catch(nt){console.error("Error uploading document:",nt),O("An error occurred while uploading document")}finally{F(!1)}},me=Fe=>Fe.size>10*1024*1024?(alert("File size must be less than 10MB"),!1):["application/pdf","image/jpeg","image/jpg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(Fe.type)?!0:(alert("Invalid file type. Please upload PDF, JPG, PNG, or DOC/DOCX files."),!1),Se=Fe=>{const nt=Fe.target.files[0];nt&&me(nt)&&I(ut=>({...ut,file:nt}))},Ye=Fe=>{Fe.preventDefault(),Fe.stopPropagation(),Fe.type==="dragenter"||Fe.type==="dragover"?$(!0):Fe.type==="dragleave"&&$(!1)},kt=Fe=>{if(Fe.preventDefault(),Fe.stopPropagation(),$(!1),Fe.dataTransfer.files&&Fe.dataTransfer.files[0]){const nt=Fe.dataTransfer.files[0];me(nt)&&I(ut=>({...ut,file:nt}))}},it=(Fe=null)=>{Fe?(z(Fe),I({document_type:"other",document_name:Fe.title,file:null})):(z(null),I({document_type:"other",document_name:"",file:null})),D(!0)};b.useEffect(()=>{Object.keys(X).length===0&&ft()},[]),b.useEffect(()=>{(K||C)&&ft()},[K,C]);const ft=async()=>{try{R(!0),W(null);const Fe=await p4();be(Fe)}catch(Fe){console.error("Error fetching guidelines:",Fe),W(Fe.message||"Failed to load guidelines")}finally{R(!1)}},Te=Fe=>{ce(nt=>({...nt,[Fe]:!nt[Fe]}))},oe=async()=>{try{const Fe=await fetch(`${Xo}/api/partner-school/download-moa`,{method:"GET",headers:{Authorization:`Bearer ${a}`,Accept:"application/pdf"}});if(Fe.ok){const nt=await Fe.blob(),ut=window.URL.createObjectURL(nt),Tt=document.createElement("a");Tt.href=ut,Tt.download=`MOA_${i?.name?.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`,document.body.appendChild(Tt),Tt.click(),window.URL.revokeObjectURL(ut),document.body.removeChild(Tt)}else alert("Failed to download MOA")}catch(Fe){console.error("Error downloading MOA:",Fe),alert("An error occurred while downloading MOA")}},_e={requirements:jt,benefits:yo,responsibilities:Kt,process:lr},et={requirements:"Requirements",benefits:"Benefits",responsibilities:"Responsibilities",process:"Application Process"},Ve=()=>{if(!i)return null;const Fe=i.verification_status||"not_applied";s?.status;const nt={gray:"text-gray-500",yellow:"text-yellow-500",green:"text-green-500",red:"text-red-500",blue:"text-blue-500"};switch(Fe){case"not_applied":return{icon:Qt,color:"gray",colorClass:nt.gray,title:"Application Not Started",message:"Your school has not yet submitted an application to become a partner school.",description:"Please contact the administrator to begin the application process."};case"pending":return{icon:lr,color:"yellow",colorClass:nt.yellow,title:"Application Under Review",message:"Your application is being reviewed by our team.",description:"We will notify you once a decision has been made."};case"verified":return{icon:jt,color:"green",colorClass:nt.green,title:"Application Approved",message:"Congratulations! Your school has been verified as a partner school.",description:"You now have access to the full partner school dashboard."};case"rejected":return{icon:mr,color:"red",colorClass:nt.red,title:"Application Rejected",message:s?.rejection_reason||"Your application was not approved.",description:"Please contact the administrator if you have questions or wish to reapply."};default:return{icon:lr,color:"blue",colorClass:nt.blue,title:"Application Status",message:"Your application status is being processed."}}},Wt=Fe=>{const ut={draft:{label:"Draft",color:"bg-gray-100 text-gray-800"},submitted:{label:"Submitted",color:"bg-blue-100 text-blue-800"},under_review:{label:"Under Review",color:"bg-yellow-100 text-yellow-800"},approved:{label:"Approved",color:"bg-green-100 text-green-800"},rejected:{label:"Rejected",color:"bg-red-100 text-red-800"},withdrawn:{label:"Withdrawn",color:"bg-gray-100 text-gray-800"}}[Fe]||{label:Fe,color:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ut.color}`,children:ut.label})},Bt=Ve();return l?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nr,{className:"w-8 h-8 animate-spin text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading application status..."})]})}):d?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 max-w-md w-full",children:[e.jsx(Qt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 text-center",children:"Error"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:d})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Partner School Application"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:i?.name||"School Application Status"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t?.first_name," ",t?.last_name]}),e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[e.jsx(Ml,{className:"w-4 h-4"}),"Change Password"]}),e.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[e.jsx(Db,{className:"w-4 h-4"}),"Logout"]})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-8 mb-6",children:Bt&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[gt.createElement(Bt.icon,{className:`w-12 h-12 ${Bt.colorClass||"text-gray-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:Bt.title}),e.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:Bt.message}),Bt.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:Bt.description})]})]}),i&&e.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"School Information"}),(i.verification_status==="pending"||i.verification_status==="not_applied")&&e.jsx("button",{onClick:()=>ge(!0),className:"text-sm text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 font-medium",children:i.classification||i.address?"Update Information":"Complete School Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Classification"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:i.classification||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Contact Number"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:i.contact_number||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Address"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:i.address?`${i.address}${i.city?", "+i.city:""}${i.province?", "+i.province:""}${i.region?", "+i.region:""}`:e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]})]})]}),s&&e.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Application Details"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Application Status"}),Wt(s.status)]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Submitted Date"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.submitted_at?new Date(s.submitted_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not submitted"})]}),s.reviewed_at&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Reviewed Date"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:new Date(s.reviewed_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),s.status==="draft"&&e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border-2 border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${s.verification_documents&&X.requirements&&s.verification_documents.length>=X.requirements.length?"bg-green-100 dark:bg-green-900/30":"bg-orange-100 dark:bg-orange-900/30"}`,children:e.jsx(Nd,{className:`w-6 h-6 ${s.verification_documents&&X.requirements&&s.verification_documents.length>=X.requirements.length?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"}`})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2",children:"Ready to Submit?"}),s.verification_documents&&X.requirements&&s.verification_documents.length>=X.requirements.length?e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:"All required documents have been uploaded. You can now submit your application for review."}):e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Please upload all required documents before submitting your application."}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"font-semibold text-orange-700 dark:text-orange-300",children:[s.verification_documents?s.verification_documents.length:0,e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" of "}),X.requirements?X.requirements.length:0]}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"documents uploaded"})]})]}),e.jsxs("button",{onClick:ie,disabled:!s.verification_documents||!X.requirements||s.verification_documents.length<X.requirements.length,className:`inline-flex items-center px-6 py-3 text-base font-bold rounded-lg shadow-md transition-all transform hover:scale-105 ${!s.verification_documents||!X.requirements||s.verification_documents.length<X.requirements.length?"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-500 cursor-not-allowed shadow-none transform-none":"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white hover:shadow-lg"}`,children:[e.jsx(Nd,{className:"w-5 h-5 mr-2"}),"Submit Application"]})]})]})}),(s.status==="submitted"||s.status==="under_review")&&e.jsx("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 rounded-xl p-6 border-2 border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:e.jsx(fx,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2",children:"Withdraw Application"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:"If you wish to withdraw your application, you can do so by clicking the button below. This action cannot be undone."}),e.jsxs("button",{onClick:()=>je(!0),className:"inline-flex items-center px-6 py-3 text-base font-bold bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all transform hover:scale-105",children:[e.jsx(fx,{className:"w-5 h-5 mr-2"}),"Withdraw Application"]})]})]})}),s.rejection_reason&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(mr,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-red-900 dark:text-red-200 mb-1",children:"Rejection Reason"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:s.rejection_reason})]})]})})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Documents"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Upload required documents according to guidelines"})]}),s&&e.jsxs("button",{onClick:()=>J(!0),className:"flex items-center gap-2 px-3 py-2 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 border border-blue-200 dark:border-blue-800 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[e.jsx(yo,{className:"w-4 h-4"}),"Guidelines"]})]}),X.requirements&&X.requirements.length>0&&e.jsxs("div",{className:"mb-6 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Completion Progress"}),e.jsxs("span",{className:"text-sm font-bold text-orange-600 dark:text-orange-400",children:[s&&s.verification_documents?Math.round(s.verification_documents.length/X.requirements.length*100):0,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 shadow-inner",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-500 shadow-sm ${s&&s.verification_documents&&s.verification_documents.length===X.requirements.length?"bg-gradient-to-r from-green-500 to-green-600":s&&s.verification_documents&&s.verification_documents.length>0?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-gray-300 to-gray-400"}`,style:{width:`${s&&s.verification_documents?Math.round(s.verification_documents.length/X.requirements.length*100):0}%`}})}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:s&&s.verification_documents?`${s.verification_documents.length} of ${X.requirements.length} required documents submitted`:`0 of ${X.requirements.length} required documents submitted`})]}),!s&&e.jsx("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Qt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-yellow-900 dark:text-yellow-200 mb-1",children:"Application Required"}),e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"An application must be created before you can upload documents. Please contact the administrator to create an application for your school."})]})]})}),X.requirements&&X.requirements.length>0?e.jsx("div",{className:"space-y-3",children:X.requirements.map((Fe,nt)=>{const ut=s&&s.verification_documents&&s.verification_documents.find(Ar=>Ar.document_name?.toLowerCase().includes(Fe.title.toLowerCase().substring(0,15))||Fe.title.toLowerCase().includes(Ar.document_name?.toLowerCase().substring(0,15)||"")),Tt=!!ut,Lt=ut?.verification_status||"pending";return e.jsx("div",{className:`p-3 rounded-lg border transition-all hover:shadow-sm ${Tt?Lt==="verified"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":Lt==="rejected"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start space-x-2 flex-1 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:Tt?Lt==="verified"?e.jsx(jt,{className:"h-4 w-4 text-green-500 dark:text-green-400"}):Lt==="rejected"?e.jsx(mr,{className:"h-4 w-4 text-red-500 dark:text-red-400"}):e.jsx(lr,{className:"h-4 w-4 text-blue-500 dark:text-blue-400"}):e.jsx("div",{className:"h-4 w-4 border-2 border-gray-300 dark:border-gray-500 rounded-full"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Fe.title}),e.jsx("span",{className:"px-2 py-0.5 text-[10px] font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 rounded-full",children:"Required"})]}),Fe.content&&e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 line-clamp-1",children:[Fe.content.replace(/<[^>]*>/g,"").substring(0,100),Fe.content.length>100?"...":""]}),Tt&&ut&&e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx(Kt,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"font-medium",children:ut.document_name})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-500",children:[ut.file_size&&e.jsxs("span",{children:[(ut.file_size/1024/1024).toFixed(2)," MB"]}),e.jsxs("span",{children:["Uploaded: ",new Date(ut.uploaded_at).toLocaleDateString()]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-semibold whitespace-nowrap ${Tt?Lt==="verified"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":Lt==="rejected"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:Tt?Lt==="verified"?" Verified":Lt==="rejected"?" Rejected":" Pending":" Missing"}),Tt&&ut?e.jsxs("div",{className:"flex gap-1 ml-1",children:[e.jsx("button",{onClick:()=>{fetch(`${Xo}/api/partner-school/applications/${s.id}/documents/${ut.id}/view`,{headers:{Authorization:`Bearer ${a}`}}).then(Ar=>{if(!Ar.ok)throw new Error("Failed to fetch document");return Ar.blob()}).then(Ar=>{const Fr=window.URL.createObjectURL(Ar);window.open(Fr,"_blank","noopener,noreferrer"),setTimeout(()=>window.URL.revokeObjectURL(Fr),100)}).catch(Ar=>{console.error("Error viewing document:",Ar),alert("Failed to view document")})},className:"p-1 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 rounded hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"View document",children:e.jsx(Or,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{fetch(`${Xo}/api/partner-school/applications/${s.id}/documents/${ut.id}/download`,{headers:{Authorization:`Bearer ${a}`}}).then(Ar=>{if(!Ar.ok)throw new Error("Failed to download document");return Ar.blob()}).then(Ar=>{const Fr=window.URL.createObjectURL(Ar),Re=document.createElement("a");Re.href=Fr,Re.download=ut.document_name||"document",document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),window.URL.revokeObjectURL(Fr)}).catch(Ar=>{console.error("Error downloading document:",Ar),alert("Failed to download document")})},className:"p-1 text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 rounded hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",title:"Download document",children:e.jsx(Ra,{className:"w-4 h-4"})})]}):!Tt&&s?.id?e.jsxs("button",{onClick:()=>it(Fe),className:"ml-2 flex items-center gap-1.5 px-3 py-1.5 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors text-xs font-medium shadow-sm hover:shadow-md",title:"Upload document",children:[e.jsx(gi,{className:"w-3.5 h-3.5"}),"Upload"]}):null]})]})},nt)})}):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(Kt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No document requirements found"}),e.jsx("p",{className:"text-xs mt-1",children:"Review guidelines to see required documents"})]})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Partner School Guidelines"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Review the partner school guidelines to understand the requirements and benefits of becoming a partner school."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:()=>J(!0),className:"inline-flex items-center gap-2 px-4 py-2 text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg font-medium transition-colors",children:[e.jsx(yo,{className:"w-4 h-4"}),"View Guidelines"]}),e.jsxs("button",{onClick:oe,className:"inline-flex items-center gap-2 px-4 py-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg font-medium transition-colors",children:[e.jsx(Ra,{className:"w-4 h-4"}),"Download MOA Template"]})]})]})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Change Password"}),e.jsx("button",{onClick:()=>{p(!1),x({currentPassword:"",newPassword:"",confirmPassword:""}),N({score:0,feedback:[]})},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:de,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:v.current?"text":"password",value:g.currentPassword,onChange:Fe=>Je("currentPassword",Fe.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Enter current password",required:!0}),e.jsx("button",{type:"button",onClick:()=>H("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:v.current?e.jsx(ai,{className:"h-4 w-4 text-gray-400"}):e.jsx(Or,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:v.new?"text":"password",value:g.newPassword,onChange:Fe=>Je("newPassword",Fe.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Enter new password",required:!0}),e.jsx("button",{type:"button",onClick:()=>H("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:v.new?e.jsx(ai,{className:"h-4 w-4 text-gray-400"}):e.jsx(Or,{className:"h-4 w-4 text-gray-400"})})]}),g.newPassword&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password Strength"}),e.jsx("span",{className:`text-sm font-medium ${S.score===100?"text-green-600":S.score>=60?"text-yellow-600":"text-red-600"}`,children:S.score===100?"Strong":S.score>=60?"Medium":"Weak"})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${S.score===100?"bg-green-500":S.score>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${S.score}%`}})}),e.jsx("div",{className:"space-y-1",children:S.feedback.map((Fe,nt)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(jt,{className:`h-4 w-4 ${Fe.valid?"text-green-500":"text-gray-400"}`}),e.jsx("span",{className:`text-sm ${Fe.valid?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:Fe.text})]},nt))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:v.confirm?"text":"password",value:g.confirmPassword,onChange:Fe=>Je("confirmPassword",Fe.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Confirm new password",required:!0}),e.jsx("button",{type:"button",onClick:()=>H("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:v.confirm?e.jsx(ai,{className:"h-4 w-4 text-gray-400"}):e.jsx(Or,{className:"h-4 w-4 text-gray-400"})})]}),g.confirmPassword&&e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[e.jsx(jt,{className:`h-4 w-4 ${g.newPassword===g.confirmPassword?"text-green-500":"text-red-500"}`}),e.jsx("span",{className:`text-sm ${g.newPassword===g.confirmPassword?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:g.newPassword===g.confirmPassword?"Passwords match":"Passwords do not match"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{p(!1),x({currentPassword:"",newPassword:"",confirmPassword:""}),N({score:0,feedback:[]})},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:j||S.score<100||g.newPassword!==g.confirmPassword,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:j?e.jsxs(e.Fragment,{children:[e.jsx(Nr,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Changing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ml,{className:"h-4 w-4"}),e.jsx("span",{children:"Change Password"})]})})]})]})]})}),C&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4 z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Upload Document"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Upload required documents according to partner school guidelines"})]}),e.jsx("button",{onClick:()=>{D(!1),I({document_type:"other",document_name:"",file:null}),z(null),O(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(dr,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[U&&e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(jt,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-sm font-semibold text-green-900 dark:text-green-200 mb-1",children:["Uploading for: ",U.title]}),U.content&&e.jsxs("p",{className:"text-xs text-green-800 dark:text-green-300 mt-1",children:[U.content.replace(/<[^>]*>/g,"").substring(0,150),U.content.length>150?"...":""]})]})]})}),!U&&e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(yo,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-200",children:"Required Documents"}),s&&s.verification_documents&&X.requirements&&e.jsxs("span",{className:"text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[s.verification_documents.length,"/",X.requirements.length," uploaded"]})]}),X.requirements&&X.requirements.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-2 max-h-32 overflow-y-auto",children:[X.requirements.slice(0,5).map((Fe,nt)=>{const ut=s&&s.verification_documents&&s.verification_documents.some(Tt=>Tt.document_name?.toLowerCase().includes(Fe.title.toLowerCase().substring(0,10))||Fe.title.toLowerCase().includes(Tt.document_name?.toLowerCase().substring(0,10)||""));return e.jsxs("div",{className:`flex items-center gap-2 text-xs p-2 rounded ${ut?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-white dark:bg-slate-700 text-blue-800 dark:text-blue-300"}`,children:[ut?e.jsx(jt,{className:"w-3.5 h-3.5 text-green-600 dark:text-green-400 flex-shrink-0"}):e.jsx("div",{className:"w-3.5 h-3.5 border-2 border-blue-400 dark:border-blue-500 rounded flex-shrink-0"}),e.jsx("span",{className:ut?"line-through opacity-75":"",children:Fe.title})]},nt)}),X.requirements.length>5&&e.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:["+ ",X.requirements.length-5," more requirements"]})]}),e.jsx("button",{type:"button",onClick:()=>{D(!1),J(!0)},className:"mt-2 text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 underline flex items-center gap-1",children:"View full guidelines with details "})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Review the partner school guidelines to see all required documents."}),e.jsx("button",{type:"button",onClick:()=>{D(!1),J(!0)},className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 underline whitespace-nowrap ml-3",children:"View Guidelines "})]})]})]})}),e.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[Y&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:Y})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Document Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:E.document_type,onChange:Fe=>I(nt=>({...nt,document_type:Fe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Select document type..."}),e.jsx("option",{value:"accreditation",children:"Accreditation Certificate"}),e.jsx("option",{value:"license",children:"Business License / Permit"}),e.jsx("option",{value:"registration",children:"Registration Certificate"}),e.jsx("option",{value:"tax",children:"Tax Identification"}),e.jsx("option",{value:"bank",children:"Bank Account Information"}),e.jsx("option",{value:"authorization",children:"Authorization Letter"}),e.jsx("option",{value:"other",children:"Other Document"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Select the type that best matches your document from the requirements"})]}),E.document_type&&X.requirements&&e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-medium text-amber-900 dark:text-amber-200 mb-2",children:"Matching Requirements:"}),e.jsxs("div",{className:"space-y-1",children:[X.requirements.filter(Fe=>{const nt=E.document_type.toLowerCase(),ut=Fe.title.toLowerCase();return ut.includes(nt)||nt==="accreditation"&&ut.includes("accredit")||nt==="license"&&(ut.includes("license")||ut.includes("permit"))||nt==="registration"&&ut.includes("regist")||nt==="tax"&&ut.includes("tax")||nt==="bank"&&ut.includes("bank")||nt==="authorization"&&ut.includes("author")}).slice(0,3).map((Fe,nt)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-800 dark:text-amber-300",children:[e.jsx(jt,{className:"w-3 h-3"}),e.jsx("span",{children:Fe.title})]},nt)),X.requirements.filter(Fe=>{const nt=E.document_type.toLowerCase(),ut=Fe.title.toLowerCase();return ut.includes(nt)||nt==="accreditation"&&ut.includes("accredit")||nt==="license"&&(ut.includes("license")||ut.includes("permit"))||nt==="registration"&&ut.includes("regist")||nt==="tax"&&ut.includes("tax")||nt==="bank"&&ut.includes("bank")||nt==="authorization"&&ut.includes("author")}).length===0&&e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400 italic",children:"No matching requirement found. Make sure your document name clearly indicates which requirement it fulfills."})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Document Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:E.document_name,onChange:Fe=>I(nt=>({...nt,document_name:Fe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:U?U.title:"e.g., Business Permit 2024, Accreditation Certificate",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:U?`This document will be linked to: ${U.title}`:"Provide a clear, descriptive name for this document"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["File ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-lg transition-colors ${q?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-slate-600 hover:border-green-400 dark:hover:border-green-500"}`,onDragEnter:Ye,onDragLeave:Ye,onDragOver:Ye,onDrop:kt,children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(cl,{className:`mx-auto h-12 w-12 ${q?"text-green-500":"text-gray-400"}`}),e.jsxs("div",{className:"flex text-sm text-gray-600 dark:text-gray-400 justify-center items-center",children:[e.jsxs("label",{className:"relative cursor-pointer bg-white dark:bg-slate-700 rounded-md font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 transition-colors",children:[e.jsx("span",{className:"px-3 py-1",children:"Upload a file"}),e.jsx("input",{type:"file",className:"sr-only",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:Se,required:!0})]}),e.jsx("p",{className:"pl-2",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF, JPG, PNG, DOC, DOCX up to 10MB"}),E.file&&e.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),e.jsx("p",{className:"text-sm font-medium text-green-900 dark:text-green-200",children:E.file.name}),e.jsxs("span",{className:"text-xs text-green-700 dark:text-green-300",children:["(",(E.file.size/1024/1024).toFixed(2)," MB)"]})]})})]})})]}),e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Qt,{className:"w-4 h-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-amber-900 dark:text-amber-200 mb-1",children:"Upload Tips:"}),e.jsxs("ul",{className:"text-xs text-amber-800 dark:text-amber-300 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Ensure documents are clear and legible"}),e.jsx("li",{children:"Upload documents in PDF format when possible"}),e.jsx("li",{children:"Make sure file size is under 10MB"}),e.jsx("li",{children:"Verify document names match the actual content"})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-slate-700",children:[e.jsxs("button",{type:"button",onClick:()=>{D(!1),J(!0)},className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium flex items-center gap-1",children:[e.jsx(yo,{className:"w-4 h-4"}),"View Guidelines"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{D(!1),I({document_type:"other",document_name:"",file:null}),z(null),O(null),$(!1)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:T||!E.file||!E.document_name||!E.document_type,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 shadow-sm hover:shadow-md",children:T?e.jsxs(e.Fragment,{children:[e.jsx(Nr,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(cl,{className:"h-4 w-4"}),e.jsx("span",{children:"Upload Document"})]})})]})]})]})]})]})}),K&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Partner School Guidelines"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:ft,disabled:te,className:"text-gray-500 hover:text-green-600 dark:hover:text-green-400 disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh Guidelines",children:e.jsx(Nr,{className:`w-5 h-5 ${te?"animate-spin":""}`})}),e.jsx("button",{onClick:()=>J(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(dr,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"p-6",children:te?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Nr,{className:"w-8 h-8 animate-spin text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading guidelines..."})]}):ae?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qt,{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-2"}),e.jsx("p",{className:"text-red-800 dark:text-red-200",children:ae})]})}):Object.keys(X).length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(yo,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No guidelines available at this time."})]}):e.jsx("div",{className:"space-y-6",children:Object.entries(X).map(([Fe,nt])=>{const ut=_e[Fe]||Kt,Tt=et[Fe]||Fe,Lt=pe[Fe]!==!1;return e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>Te(Fe),className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 hover:bg-gray-100 dark:hover:bg-slate-600 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ut,{className:"w-5 h-5 text-green-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Tt})]}),Lt?e.jsx(wd,{className:"w-5 h-5 text-gray-400"}):e.jsx(zi,{className:"w-5 h-5 text-gray-400"})]}),Lt&&e.jsx("div",{className:"p-4 space-y-4",children:Array.isArray(nt)&&nt.length>0?nt.map((Ar,Fr)=>e.jsxs("div",{className:"border-l-4 border-green-500 pl-4 py-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:Ar.title}),Ar.content&&e.jsx("div",{className:"text-gray-700 dark:text-gray-300 prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:Ar.content}}),Ar.description&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:Ar.description})]},Ar.id||Fr)):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No items in this section."})})]},Fe)})})})]})}),$e&&i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"School Information"}),e.jsx("button",{onClick:()=>{ge(!1),Ge(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(dr,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Ke,className:"space-y-4",children:[Ue&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:Ue})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Classification ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:ot.classification,onChange:Fe=>Ze(nt=>({...nt,classification:Fe.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Select classification..."}),f4().map(Fe=>e.jsx("option",{value:Fe,children:Fe},Fe))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:ot.address,onChange:Fe=>Ze(nt=>({...nt,address:Fe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Street address, building, etc."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),e.jsx("input",{type:"text",value:ot.city,onChange:Fe=>Ze(nt=>({...nt,city:Fe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Province"}),e.jsx("input",{type:"text",value:ot.province,onChange:Fe=>Ze(nt=>({...nt,province:Fe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Province"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Region"}),e.jsx("input",{type:"text",value:ot.region,onChange:Fe=>Ze(nt=>({...nt,region:Fe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Region"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Number"}),e.jsx("input",{type:"text",value:ot.contact_number,onChange:Fe=>Ze(nt=>({...nt,contact_number:Fe.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"09123456789"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{ge(!1),Ge(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:Z||!ot.classification,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:Z?e.jsxs(e.Fragment,{children:[e.jsx(Nr,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsx("span",{children:"Save Information"})})]})]})]})}),we&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(Qt,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Withdraw Application"})]})}),e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fx,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-red-900 dark:text-red-200 mb-2",children:"Warning: This action cannot be undone"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:"Withdrawing your application will:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-red-800 dark:text-red-300 mt-2 space-y-1",children:[e.jsx("li",{children:"Cancel your application immediately"}),e.jsx("li",{children:"Stop the review process"}),e.jsx("li",{children:"Reset your verification status"}),e.jsx("li",{children:"Require you to reapply if you change your mind"})]})]})]})}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Are you sure you want to withdraw your partner school application?"})]})}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 px-6 py-4 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>je(!1),disabled:fe,className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{type:"button",onClick:Ce,disabled:fe,className:"px-6 py-2.5 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg font-bold shadow-md hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:fe?e.jsxs(e.Fragment,{children:[e.jsx(Nr,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Withdrawing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(fx,{className:"w-4 h-4"}),e.jsx("span",{children:"Yes, Withdraw"})]})})]})]})})]})},Mbe=({schoolId:t,refreshTrigger:r=0})=>{const[a,s]=b.useState(null),[n,i]=b.useState(!0),[o,l]=b.useState(null);b.useEffect(()=>{c()},[t,r]);const c=async()=>{try{i(!0);const p=await(await fetch(`${Et.AID_SERVICE.BASE_URL}/api/foundation/schools/${t}/budget`)).json();p.success?s(p.data):l(p.message)}catch{l("Failed to load budget information")}finally{i(!1)}},d=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(f);if(n)return e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-8 flex items-center justify-center",children:e.jsx(za,{className:"w-8 h-8 text-blue-500 animate-spin"})});if(o||!a)return e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex gap-3 text-amber-600 dark:text-amber-400",children:[e.jsx(Qt,{className:"w-6 h-6 shrink-0"}),e.jsx("p",{className:"text-sm font-medium",children:o||"No active budget allocation found for your school. Please contact foundation admin."})]})});const u=a.allocated_amount>0?a.disbursed_amount/a.allocated_amount*100:0;return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden max-w-xl",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 dark:border-slate-700/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg",children:e.jsx(mh,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-tight",children:"Available School Budget"}),e.jsxs("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:["AY ",a.academic_year]})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${a.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-700"}`,children:a.status})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Remaining Funds"}),e.jsx("p",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:d(a.available_amount)}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("div",{className:"flex-1 bg-gray-100 dark:bg-slate-700 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-700 ${u>=90?"bg-red-500":u>=70?"bg-amber-500":"bg-blue-500"}`,style:{width:`${Math.min(u,100)}%`}})}),e.jsxs("span",{className:"text-xs font-bold text-gray-500 shrink-0",children:[u.toFixed(0),"% Used"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4 border-y border-gray-100 dark:border-slate-700/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Allocated"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:d(a.allocated_amount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Disbursed"}),e.jsx("p",{className:"text-sm font-bold text-blue-600",children:d(a.disbursed_amount)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[e.jsx(Rr,{className:"w-4 h-4 shrink-0"}),e.jsxs("p",{className:"text-xs font-medium",children:["Valid until ",e.jsx("span",{className:"text-gray-900 dark:text-slate-200 font-bold",children:a.expiry_date?jc(a.expiry_date).format("MMMM DD, YYYY"):"N/A"})]})]}),e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800/50 rounded-xl flex gap-3",children:[e.jsx(Pd,{className:"w-4 h-4 text-blue-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 leading-relaxed font-medium",children:"Funds are automatically deducted from your allocation when you record a valid withdrawal."})]})]}),e.jsxs("button",{className:"flex items-center justify-between w-full p-3 bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-slate-800 rounded-xl group hover:bg-white dark:hover:bg-slate-800 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Hs,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-slate-200",children:"View Full Disbursement History"})]}),e.jsx(Zp,{className:"w-4 h-4 text-gray-400 group-hover:translate-x-1 transition-transform"})]})]})]})},Fbe=({schoolId:t})=>{const{token:r}=_r(),{success:a,error:s}=na(),[n,i]=b.useState(!1),[o,l]=b.useState([]),[c,d]=b.useState(!0),[u,f]=b.useState(0),p=async()=>{try{d(!0);const v=await Ibe(r,t);l(v)}catch{s("Failed to load budget withdrawals")}finally{d(!1)}};b.useEffect(()=>{r&&t&&p()},[r,t,u]);const g=(v="Withdrawal recorded successfully")=>{i(!1),f(w=>w+1),a(v)},x=v=>{window.open(`${Et.AID_SERVICE.BASE_URL}/api/partner-school/withdrawals/${v}/proof`,"_blank")};return e.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"w-full",children:e.jsx(Mbe,{schoolId:t,refreshTrigger:u})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Kt,{className:"w-5 h-5 text-blue-500"}),"Budget Withdrawals"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Record your budget usage with proof documents."})]}),e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium shadow-sm w-full sm:w-auto justify-center",children:[e.jsx(gi,{className:"w-4 h-4"}),"Record Withdrawal"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-100 dark:border-slate-700 text-xs uppercase text-gray-500 font-semibold tracking-wider",children:[e.jsx("th",{className:"py-3 px-4",children:"Date"}),e.jsx("th",{className:"py-3 px-4",children:"Purpose"}),e.jsx("th",{className:"py-3 px-4 text-right",children:"Amount"}),e.jsx("th",{className:"py-3 px-4 text-right",children:"Documents"})]})}),e.jsx("tbody",{className:"text-sm divide-y divide-gray-50 dark:divide-slate-700/50",children:c?e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"py-12 text-center",children:[e.jsx(za,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Loading withdrawals..."})]})}):o.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-8 text-center text-gray-500",children:"No withdrawals recorded yet."})}):o.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/30 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 text-gray-900 dark:text-white",children:jc(v.withdrawal_date).format("MMM DD, YYYY")}),e.jsxs("td",{className:"py-3 px-4 text-gray-600 dark:text-slate-300",children:[e.jsx("div",{className:"font-medium",children:v.purpose}),v.notes&&e.jsx("div",{className:"text-xs text-gray-400 truncate max-w-xs",children:v.notes})]}),e.jsxs("td",{className:"py-3 px-4 text-right font-bold text-gray-900 dark:text-white",children:["-",parseFloat(v.amount).toLocaleString()]}),e.jsx("td",{className:"py-3 px-4 text-right",children:v.proof_document_path&&e.jsxs("button",{onClick:()=>x(v.id),className:"inline-flex items-center gap-1 text-[10px] font-bold uppercase tracking-wider text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded border border-blue-100 dark:border-blue-800/30 hover:bg-blue-100 transition-colors",children:[e.jsx(Kt,{className:"w-3 h-3"}),"View Proof"]})})]},v.id))})]})})]}),n&&e.jsx($be,{schoolId:t,onClose:()=>i(!1),onSuccess:()=>g("Withdrawal recorded successfully")})]})},$be=({schoolId:t,onClose:r,onSuccess:a})=>{const{token:s}=_r(),[n,i]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState(jc().format("YYYY-MM-DD")),[u,f]=b.useState(""),[p,g]=b.useState(null),[x,v]=b.useState(!1),w=async j=>{if(j.preventDefault(),!p){alert("Proof document is required");return}v(!0);try{const _=new FormData;_.append("school_id",t),_.append("amount",n),_.append("purpose",o),_.append("withdrawal_date",c),_.append("notes",u),_.append("proof_document",p),await Rbe(s,_),a()}catch(_){console.error(_),alert(_.message||"Failed to record withdrawal")}finally{v(!1)}};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl border border-gray-100 dark:border-slate-700",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Record Budget Withdrawal"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx(mr,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Withdrawal Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-bold",children:""}),e.jsx("input",{type:"number",required:!0,min:"1",value:n,onChange:j=>i(j.target.value),className:"w-full pl-8 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all font-bold",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Withdrawal Date"}),e.jsx("input",{type:"date",required:!0,value:c,onChange:j=>d(j.target.value),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Purpose"}),e.jsx("input",{type:"text",required:!0,value:o,onChange:j=>l(j.target.value),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"e.g. Tuition fee batch 1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Additional Notes"}),e.jsx("textarea",{value:u,onChange:j=>f(j.target.value),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all h-20 resize-none",placeholder:"Optional explanation..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Proof Document (Required)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-200 dark:border-slate-600 rounded-xl p-4 text-center hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors cursor-pointer relative group",children:[e.jsx("input",{type:"file",required:!0,accept:".pdf,.jpg,.jpeg,.png",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:j=>g(j.target.files[0])}),e.jsxs("div",{className:"flex flex-col items-center gap-2 pointer-events-none",children:[e.jsx(cl,{className:"w-6 h-6 text-gray-400 group-hover:text-blue-500 transition-colors"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:p?p.name:"Click to upload proof of usage"})]})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:r,className:"flex-1 py-2.5 text-sm font-semibold text-gray-600 dark:text-slate-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:x,className:"flex-1 py-2.5 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors shadow-lg shadow-blue-500/20 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?e.jsxs(e.Fragment,{children:[e.jsx(za,{className:"w-4 h-4 animate-spin"}),"Submitting..."]}):"Record Withdrawal"})]})]})]})})},Bbe=()=>{const{currentUser:t,logout:r,token:a}=_r(),[s,n]=b.useState("overview"),[i,o]=b.useState(null),[l,c]=b.useState(null),[d,u]=b.useState([]),[f,p]=b.useState(!1),[g,x]=b.useState(""),[v,w]=b.useState("all"),[j,_]=b.useState(!1),[S,N]=b.useState(!1),[C,D]=b.useState(!1),[U,z]=b.useState(!1),[E,I]=b.useState(null),[T,F]=b.useState(null),[Y,O]=b.useState(!0),[q,$]=b.useState(null),[K,J]=b.useState(!1),[X,be]=b.useState(null),[te,R]=b.useState("merge"),[ae,W]=b.useState(null),[pe,ce]=b.useState(null),[we,je]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[fe,xe]=b.useState({current:!1,new:!1,confirm:!1}),[$e,ge]=b.useState({score:0,feedback:[]}),[ot,Ze]=b.useState(!1);gt.useEffect(()=>{const Re=()=>{D(window.innerWidth<768)};return Re(),window.addEventListener("resize",Re),()=>window.removeEventListener("resize",Re)},[]);const[Z,re]=b.useState(()=>{if(typeof window<"u"){const Re=localStorage.getItem("theme");return Re||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});b.useEffect(()=>{const Re=window.document.documentElement;Re.classList.remove("light","dark"),Re.classList.add(Z),localStorage.setItem("theme",Z)},[Z]);const Ue=()=>{re(Re=>Re==="dark"?"light":"dark")},[Ge,Ke]=b.useState(!1),ie=async()=>{try{Ke(!0),await r(),window.location.href="/"}catch(Re){console.error("Logout failed:",Re),window.location.href="/"}finally{Ke(!1)}},Ce=()=>{N(!S)},Oe=Re=>{const De=[];let ze=0;return Re.length>=8?(De.push({text:"At least 8 characters",valid:!0}),ze+=20):De.push({text:"At least 8 characters",valid:!1}),/[a-z]/.test(Re)?(De.push({text:"One lowercase letter",valid:!0}),ze+=20):De.push({text:"One lowercase letter",valid:!1}),/[A-Z]/.test(Re)?(De.push({text:"One uppercase letter",valid:!0}),ze+=20):De.push({text:"One uppercase letter",valid:!1}),/\d/.test(Re)?(De.push({text:"One number",valid:!0}),ze+=20):De.push({text:"One number",valid:!1}),/[!@#$%^&*(),.?":{}|<>]/.test(Re)?(De.push({text:"One special character",valid:!0}),ze+=20):De.push({text:"One special character",valid:!1}),{score:ze,feedback:De}},Je=(Re,De)=>{if(je(ze=>({...ze,[Re]:De})),Re==="newPassword"){const ze=Oe(De);ge(ze)}},H=Re=>{xe(De=>({...De,[Re]:!De[Re]}))},de=async Re=>{if(Re.preventDefault(),we.newPassword!==we.confirmPassword){alert("New passwords do not match");return}if($e.score<100){alert("Please ensure all password requirements are met");return}Ze(!0);try{const De=await fetch(`${fh("/api/change-password")} `,{method:"POST",headers:{Authorization:`Bearer ${a} `,"Content-Type":"application/json"},body:JSON.stringify({current_password:we.currentPassword,new_password:we.newPassword,confirm_password:we.confirmPassword})});if(De.ok)alert("Password changed successfully"),je({currentPassword:"",newPassword:"",confirmPassword:""}),ge({score:0,feedback:[]});else{const ze=await De.json();alert(ze.message||"Failed to change password")}}catch(De){console.error("Error changing password:",De),alert("An error occurred while changing password")}finally{Ze(!1)}},ue=()=>({overview:["Partner School","Overview"],upload:["Partner School","Upload Data"],students:["Partner School","Students"],budget:["Partner School","Budget & Funds"],reports:["Partner School","Reports"],settings:["Partner School","Settings"]})[s]||["Partner School","Overview"];b.useEffect(()=>{(async()=>{if(!a){O(!1);return}try{O(!0),$(null);const De=await Abe(a);I(De);const st=De?.school?.verification_status==="verified";if(J(!st),st)try{const Nt=await Cbe(a);F(Nt)}catch(Nt){console.error("Error fetching stats (may not be available for applicants):",Nt)}}catch(De){console.error("Error fetching school data:",De),De.message.includes("No school assigned")?$("No school has been assigned to your account. Please contact the administrator to assign a school to your account."):$(De.message),I(null),F(null)}finally{O(!1)}})()},[a,t]);const me=T?[{title:"Total Applications",value:T.total_applications?.toLocaleString()||"0",change:`+ ${T.recent_applications||0} this month`,changeType:T.recent_applications>0?"increase":"neutral",icon:Wr,color:"green"},{title:"Pending Applications",value:T.pending_applications?.toLocaleString()||"0",change:"Awaiting review",changeType:"neutral",icon:lr,color:"blue"},{title:"Approved Applications",value:T.approved_applications?.toLocaleString()||"0",change:"Successfully processed",changeType:"increase",icon:jt,color:"green"},{title:"Rejected Applications",value:T.rejected_applications?.toLocaleString()||"0",change:"Not approved",changeType:T.rejected_applications>0?"decrease":"neutral",icon:Qt,color:T.rejected_applications>0?"red":"green"}]:[];b.useEffect(()=>{s==="students"&&a?Se():(u([]),p(!1))},[s,a]),b.useEffect(()=>{s==="students"&&a&&Se()},[g,v]);const Se=async()=>{try{p(!0),console.log(" Starting fetchStudentsData..."),console.log("Token:",a?"Present":"Missing"),console.log("Filter status:",v),console.log("Search term:",g);const[Re,De]=await Promise.allSettled([Ebe(a,{status:v,search:g,per_page:1e3}),Tbe(a,{search:g,per_page:1e3})]),ze=Re.status==="fulfilled"?Re.value:null,st=De.status==="fulfilled"?De.value:null;Re.status==="rejected"&&console.error(" Error fetching enrollment data:",Re.reason),De.status==="rejected"&&console.error(" Error fetching flexible students:",De.reason),console.log(" Enrollment data received:",ze),console.log(" Flexible data received:",st),console.log(" Enrollment data type:",typeof ze),console.log(" Enrollment data.data type:",typeof ze?.data),console.log(" Enrollment data.data is array:",Array.isArray(ze?.data));let Nt=[],He=[];ze&&(Array.isArray(ze.data)?Nt=ze.data:ze.data&&typeof ze.data=="object"?ze.data.data?Nt=ze.data.data:typeof ze.data.items=="function"?Nt=ze.data.items():Array.isArray(ze.data)&&(Nt=ze.data):Array.isArray(ze)&&(Nt=ze)),st&&st.data&&typeof st.data=="object"&&(st.data.data?He=st.data.data:typeof st.data.items=="function"?He=st.data.items():Array.isArray(st.data)&&(He=st.data)),console.log("Processed students array:",Nt),console.log("Processed flexible array:",He);const Mt=Nt.map(yt=>{console.log("Processing student:",yt.student_id_number),console.log("Student data:",yt);const gr=yt.enrollmentData||[];return console.log("Enrollment data for",yt.student_id_number,":",gr),{...yt,enrollmentData:gr,student_id_number:yt.student_id_number,first_name:yt.first_name,last_name:yt.last_name,full_name:yt.full_name||`${yt.first_name} ${yt.last_name} `,isFlexible:!1}}),Pt=He.map(yt=>(console.log("Processing flexible student:",yt),{id:yt.id,student_id_number:yt.student_id_number,first_name:yt.first_name,last_name:yt.last_name,full_name:yt.full_name,flexibleData:yt.data,headers:yt.headers,uploaded_at:yt.uploaded_at,isFlexible:!0})).reduce((yt,gr)=>{const qt=gr.student_id_number;return(!yt[qt]||new Date(gr.uploaded_at)>new Date(yt[qt].uploaded_at))&&(yt[qt]=gr),yt},{}),Pe=Object.values(Pt);console.log("Grouped flexible students:",Pe),console.log("Total flexible students after grouping:",Pe.length);const vt=[...Mt,...Pe];vt.forEach((yt,gr)=>{console.log(`Student ${gr+1}:`,{id:yt.id,student_id_number:yt.student_id_number,first_name:yt.first_name,last_name:yt.last_name,isFlexible:yt.isFlexible,flexibleData:yt.flexibleData,enrollmentData:yt.enrollmentData,scholarshipApplications:yt.scholarshipApplications})}),u(vt)}catch(Re){console.error("Error fetching students data:",Re),u([])}finally{p(!1)}},Ye=async Re=>{const De=Re.target.files[0];if(De){o(De),be({status:"processing",message:"Processing file..."});try{let ze;const st=De.name.split(".").pop().toLowerCase();if(st==="xlsx"||st==="xls")throw be({status:"error",message:"Excel file support temporarily disabled"}),new Error("Excel file support temporarily disabled");be({status:"processing",message:"Processing CSV file..."}),ze=await _e(De);const Nt=Object.keys(ze[0]||{});console.log("Parsed data:",ze),console.log("Headers:",Nt),console.log("Number of records:",ze.length),be({status:"ready",message:`File processed successfully! ${ze.length} student records found.Ready to upload.`}),W(ze),ce(Nt)}catch(ze){console.error("Error processing CSV file:",ze),be({status:"error",message:"Error processing CSV file:"+ze.message})}}},kt=Re=>{Re.preventDefault()},it={citizen_id:["citizen_id","citizen id","citizenid","citizen","citizen number","citizennumber","citizen id number","citizen no","citizenno","citizen_id_number","citizenidnumber","national_id","national id","nationalid","national_id_number","nationalidnumber","student_id","student id","studentid","student_id_number","studentidnumber","id","id_number","idnumber","student_no","studentno","student number"],student_id_number:["student_id_number","student id","id number","student_id","student_no","student number","studentid","studentno","id","student","studentidnumber","studentnumber","student id number","student no","student number","id no","idno"],first_name:["first_name","first name","given name","fname","firstname","givenname","first","name","firstname","given","f name","first name"],last_name:["last_name","last name","surname","lname","lastname","family name","last","surname","family","l name","last name","familyname"],middle_name:["middle_name","middle name","mname","middlename","middle initial","middleinitial","middle","mi","m name","middle name","middle_initial","middleinitial"],extension_name:["extension_name","extension name","ext","extension","suffix","name_suffix","name suffix","extensionname","namesuffix","ext_name","extname"],sex:["sex","gender","sex_gender","sex gender","male_female","male female","m_f","m f","male/female","male or female","gender_sex","gendersex"],civil_status:["civil_status","civil status","marital_status","marital status","status","civilstatus","maritalstatus","marital","civil","marital_status","maritalstatus"],nationality:["nationality","citizenship","citizen","country","nationality_citizenship","nationality citizenship","citizen_status","citizen status","citizenstatus"],birth_place:["birth_place","birth place","place_of_birth","place of birth","birthplace","placeofbirth","born_in","born in","birth_location","birth location","birthlocation"],birth_date:["birth_date","birth date","date_of_birth","date of birth","birthdate","dateofbirth","dob","born_on","born on","birth_day","birth day","birthday"],contact_number:["contact_number","contact number","phone","mobile","phone_number","phone number","contactnumber","phonenumber","mobile_number","mobile number","mobilenumber","telephone","tel","cell","cell_phone","cell phone","cellphone"],email_address:["email_address","email address","email","e_mail","e mail","emailaddr","emailaddr","email_addr","email addr","mail","electronic_mail","electronic mail"],enrollment_year:["enrollment_year","enrollment year","academic year","school year","enrollmentyear","academicyear","schoolyear","academic_year","school_year","enrollment year","academic year","school year"],enrollment_term:["enrollment_term","enrollment term","semester","term","enrollmentterm","sem","semester term","term semester","enrollment term","enrollment","term","semester","period","quarter","trimester"],is_currently_enrolled:["is_currently_enrolled","currently enrolled","enrolled","current enrollment","iscurrentlyenrolled","currentlyenrolled","currentenrollment","enrolled status","enrollment status","status","active","current","enrolled status","currently enrolled","current enrollment","enrollment status","enrollment_status","enrollment_status","enrollment status","enrollmentstatus","enrolled_status","enrolled status","enrolledstatus","current_status","current status","currentstatus","student_status","student status","studentstatus"],enrollment_status:["enrollment_status","enrollment status","status","enrolled","enrollment","enrollmentstatus","enrolled_status","enrolled status","enrolledstatus","current_status","current status","currentstatus","student_status","student status","active","inactive","enrollment_state","enrollment state","enrollmentstate"],academic_year:["academic_year","academic year","academicyear","school_year","school year","schoolyear","year","academic_session","academic session","academicsession","sy","ay","session","period","academic_period","academic period"],semester:["semester","sem","term","school_term","school term","schoolterm","academic_term","academic term","academicterm","period","quarter","trimester","qtr","tri","session","academic_session","academic session"],program:["program","course","degree","program of study","course of study","degree program","major","field of study","programofstudy","courseofstudy","degreeprogram","fieldofstudy","program of study","course of study","degree program","field of study"],year_level:["year_level","year level","level","grade level","yearlevel","gradelevel","grade","class","year level","grade level","academic level","academiclevel","level year","year grade","student level","studentlevel","academic standing","standing"],educational_level:["educational_level","educational level","education_level","education level","level","school_level","school level","schoollevel","academic_level","academic level","academiclevel","degree_level","degree level","degreelevel"],major:["major","major_field","major field","majorfield","specialization","area_of_study","area of study","areaofstudy","field","subject","concentration","focus","discipline","speciality","specialty"],school_year:["school_year","school year","academic_year","academic year","schoolyear","academicyear","year","academic_period","academic period","academicperiod","enrollment_year","enrollment year","enrollmentyear"],school_term:["school_term","school term","term","semester","quarter","trimester","schoolterm","academic_term","academic term","academicterm","period","enrollment_term","enrollment term","enrollmentterm"],units_enrolled:["units_enrolled","units enrolled","units","credits","credit_hours","credit hours","unitsenrolled","credithours","load","academic_load","academic load","academicload","course_load","course load","courseload"],gpa:["gpa","grade_point_average","grade point average","grade_point","grade point","gradepoint","gwa","general_weighted_average","general weighted average","generalweightedaverage","average","grade_average","grade average","gradeaverage"],is_graduating:["is_graduating","is graduating","graduating","graduation_status","graduation status","graduationstatus","will_graduate","will graduate","willgraduate","graduate","graduation","final_year","final year","finalyear"],enrollment_date:["enrollment_date","enrollment date","enrollmentdate","date_enrolled","date enrolled","dateenrolled","enrolled_date","enrolled date","enrolleddate","admission_date","admission date","admissiondate","start_date","start date","startdate","entry_date","entry date","entrydate","registration_date","registration date","registrationdate","date","enrollment","admission"]},ft={enrollment_term:{"1st semester":"1st Semester","first semester":"1st Semester","1st sem":"1st Semester","first sem":"1st Semester","sem 1":"1st Semester","semester 1":"1st Semester",1:"1st Semester","2nd semester":"2nd Semester","second semester":"2nd Semester","2nd sem":"2nd Semester","second sem":"2nd Semester","sem 2":"2nd Semester","semester 2":"2nd Semester",2:"2nd Semester",summer:"Summer","summer term":"Summer","summer semester":"Summer",SUMMER:"Summer",midyear:"Midyear","mid year":"Midyear","mid-year":"Midyear",FIRST:"1st Semester",SECOND:"2nd Semester"},is_currently_enrolled:{true:"true",yes:"true",y:"true",1:"true",enrolled:"true",active:"true",current:"true",ACTIVE:"true",false:"false",no:"false",n:"false",0:"false","not enrolled":"false",inactive:"false",dropped:"false",graduated:"false",INACTIVE:"false",DROPPED:"false",GRADUATED:"false"},year_level:{"1st year":"1st Year","first year":"1st Year",first_year:"1st Year","1st yr":"1st Year","first yr":"1st Year","year 1":"1st Year",1:"1st Year","2nd year":"2nd Year","second year":"2nd Year",second_year:"2nd Year","2nd yr":"2nd Year","second yr":"2nd Year","year 2":"2nd Year",2:"2nd Year","3rd year":"3rd Year","third year":"3rd Year",third_year:"3rd Year","3rd yr":"3rd Year","third yr":"3rd Year","year 3":"3rd Year",3:"3rd Year","4th year":"4th Year","fourth year":"4th Year",fourth_year:"4th Year","4th yr":"4th Year","fourth yr":"4th Year","year 4":"4th Year",4:"4th Year","5th year":"5th Year","fifth year":"5th Year",fifth_year:"5th Year","5th yr":"5th Year","fifth yr":"5th Year","year 5":"5th Year",5:"5th Year","grade 12":"12th Grade",grade_12:"12th Grade",grade12:"12th Grade","12th grade":"12th Grade","grade 11":"11th Grade",grade_11:"11th Grade",grade11:"11th Grade","11th grade":"11th Grade","grade 10":"10th Grade",grade_10:"10th Grade",grade10:"10th Grade","10th grade":"10th Grade","grade 9":"9th Grade",grade_9:"9th Grade",grade9:"9th Grade","9th grade":"9th Grade","grade 8":"8th Grade",grade_8:"8th Grade",grade8:"8th Grade","8th grade":"8th Grade","grade 7":"7th Grade",grade_7:"7th Grade",grade7:"7th Grade","7th grade":"7th Grade",FIRST_YEAR:"1st Year",SECOND_YEAR:"2nd Year",THIRD_YEAR:"3rd Year",FOURTH_YEAR:"4th Year",FIFTH_YEAR:"5th Year",GRADE_12:"12th Grade",GRADE_11:"11th Grade",GRADE_10:"10th Grade",GRADE_9:"9th Grade",GRADE_8:"8th Grade",GRADE_7:"7th Grade"},program:{"computer science":"Bachelor of Science in Computer Science","bs computer science":"Bachelor of Science in Computer Science",bscs:"Bachelor of Science in Computer Science",cs:"Bachelor of Science in Computer Science","computer sci":"Bachelor of Science in Computer Science","comp sci":"Bachelor of Science in Computer Science",psychology:"Bachelor of Arts in Psychology","ba psychology":"Bachelor of Arts in Psychology",bapsych:"Bachelor of Arts in Psychology",psych:"Bachelor of Arts in Psychology","civil engineering":"Bachelor of Science in Civil Engineering","bs civil engineering":"Bachelor of Science in Civil Engineering",bscivil:"Bachelor of Science in Civil Engineering",ce:"Bachelor of Science in Civil Engineering","electrical engineering":"Bachelor of Science in Electrical Engineering","bs electrical engineering":"Bachelor of Science in Electrical Engineering",bsee:"Bachelor of Science in Electrical Engineering",ee:"Bachelor of Science in Electrical Engineering","mechanical engineering":"Bachelor of Science in Mechanical Engineering","bs mechanical engineering":"Bachelor of Science in Mechanical Engineering",bsme:"Bachelor of Science in Mechanical Engineering",me:"Bachelor of Science in Mechanical Engineering","business administration":"Bachelor of Science in Business Administration",bsba:"Bachelor of Science in Business Administration","bs business admin":"Bachelor of Science in Business Administration","business admin":"Bachelor of Science in Business Administration","elementary education":"Bachelor of Elementary Education",beed:"Bachelor of Elementary Education","bs elementary ed":"Bachelor of Elementary Education","secondary education":"Bachelor of Secondary Education",bsed:"Bachelor of Secondary Education","bs secondary ed":"Bachelor of Secondary Education",nursing:"Bachelor of Science in Nursing",bsn:"Bachelor of Science in Nursing","bs nursing":"Bachelor of Science in Nursing",accountancy:"Bachelor of Science in Accountancy",bsa:"Bachelor of Science in Accountancy","bs accountancy":"Bachelor of Science in Accountancy",accounting:"Bachelor of Science in Accountancy"}},Te=Re=>{if(!Re||typeof Re!="string")return null;const ze=Re.trim().replace(/['"]/g,"").toLowerCase().replace(/[^a-z0-9]/g,"");for(const Nt in it)if(it[Nt].some(He=>He.toLowerCase().replace(/[^a-z0-9]/g,"")===ze))return Nt;for(const Nt in it)if(it[Nt].some(He=>ze.includes(He.toLowerCase().replace(/[^a-z0-9]/g,""))||He.toLowerCase().replace(/[^a-z0-9]/g,"").includes(ze)))return Nt;const st=ze.split(/(?=[a-z])/).filter(Nt=>Nt.length>2);for(const Nt in it)for(const He of it[Nt]){const Mt=He.toLowerCase().replace(/[^a-z0-9]/g,"").split(/(?=[a-z])/).filter(Ot=>Ot.length>2);if(st.some(Ot=>Mt.some(Pt=>Ot.includes(Pt)||Pt.includes(Ot))))return Nt}return null},oe=(Re,De)=>{if(!De||typeof De!="string")return De;const ze=De,st=De.trim().toLowerCase(),Nt=(He,Mt,Ot="")=>{He!==Mt&&console.log(` Value normalized:"${He}"  "${Mt}"(field:${Re}) ${Ot} `)};if(Re==="first_name"||Re==="last_name"){const He=De.trim();return Nt(ze,He,"[Name kept as-is]"),He}if(Re==="middle_name"){if(!De.trim())return null;const He=De.trim();return Nt(ze,He,"[Middle name kept as-is]"),He}if(Re==="extension_name"){const He=De.trim();return Nt(ze,He,"[Extension name kept as-is]"),He}if(Re==="student_id_number"){let He=De.trim().toUpperCase();return He=He.replace(/^(STU|STUDENT|ID|NO|NUMBER)[\s\-_]*/i,""),He=He.replace(/[\s\-_]*$/i,""),!He.startsWith("STU-")&&/^\d+/.test(He)&&(He=`STU-${He} `),Nt(ze,He,"[Student ID formatting]"),He}if(Re==="citizen_id"){let He=De.trim().toUpperCase();return He=He.replace(/^(CIT|CITIZEN|ID|NO|NUMBER)[\s\-_]*/i,""),He=He.replace(/[\s\-_]*$/i,""),!He.startsWith("CIT-")&&/^\d+/.test(He)&&(He=`CIT-${He} `),Nt(ze,He,"[Citizen ID formatting]"),He}if(Re==="enrollment_year"){const He=st.match(/(\d{4})[-\/]?(\d{4})?/);if(He){const Mt=He[1],Ot=He[2]||(parseInt(Mt)+1).toString();return`${Mt}-${Ot} `}}if(Re==="enrollment_date"){const He=[/(\d{1,2})[-\/](\d{1,2})[-\/](\d{4})/,/(\d{4})[-\/](\d{1,2})[-\/](\d{1,2})/,/(\d{1,2})\s+(\d{1,2})\s+(\d{4})/,/(\d{1,2})[-\/](\d{1,2})[-\/](\d{2})/,/(\d{4})[-\/](\d{1,2})[-\/](\d{1,2})/];for(const Pt of He){const Pe=De.match(Pt);if(Pe){let vt,yt,gr;if(Pt===He[0]||Pt===He[3]){if([,yt,gr,vt]=Pe,vt.length===2){const ea=new Date().getFullYear(),hs=Math.floor(ea/100)*100;vt=parseInt(vt)>50?hs+parseInt(vt):hs+100+parseInt(vt)}}else Pt===He[1]||Pt===He[4]?[,vt,yt,gr]=Pe:[,yt,gr,vt]=Pe;yt=yt.padStart(2,"0"),gr=gr.padStart(2,"0");const qt=`${vt}-${yt}-${gr} `;return Nt(ze,qt,"[Date formatting]"),qt}}const Mt=[/(jan|january)\s+(\d{1,2}),?\s+(\d{4})/i,/(feb|february)\s+(\d{1,2}),?\s+(\d{4})/i,/(mar|march)\s+(\d{1,2}),?\s+(\d{4})/i,/(apr|april)\s+(\d{1,2}),?\s+(\d{4})/i,/(may)\s+(\d{1,2}),?\s+(\d{4})/i,/(jun|june)\s+(\d{1,2}),?\s+(\d{4})/i,/(jul|july)\s+(\d{1,2}),?\s+(\d{4})/i,/(aug|august)\s+(\d{1,2}),?\s+(\d{4})/i,/(sep|september)\s+(\d{1,2}),?\s+(\d{4})/i,/(oct|october)\s+(\d{1,2}),?\s+(\d{4})/i,/(nov|november)\s+(\d{1,2}),?\s+(\d{4})/i,/(dec|december)\s+(\d{1,2}),?\s+(\d{4})/i],Ot=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];for(const Pt of Mt){const Pe=De.match(Pt);if(Pe){const vt=Pe[1].toLowerCase(),yt=Pe[2].padStart(2,"0"),gr=Pe[3],qt=(Ot.indexOf(vt)+1).toString().padStart(2,"0"),ea=`${gr}-${qt}-${yt} `;return Nt(ze,ea,"[Text date formatting]"),ea}}}if(Re==="birth_date"){const He=[/(\d{1,2})[-\/](\d{1,2})[-\/](\d{4})/,/(\d{4})[-\/](\d{1,2})[-\/](\d{1,2})/,/(\d{1,2})\s+(\d{1,2})\s+(\d{4})/,/(\d{1,2})[-\/](\d{1,2})[-\/](\d{2})/];for(const Mt of He){const Ot=De.match(Mt);if(Ot){let Pt,Pe,vt;if(Mt===He[0]||Mt===He[3]){if([,Pe,vt,Pt]=Ot,Pt.length===2){const gr=new Date().getFullYear(),qt=Math.floor(gr/100)*100;Pt=parseInt(Pt)>50?qt+parseInt(Pt):qt+100+parseInt(Pt)}}else[,Pt,Pe,vt]=Ot;Pe=Pe.padStart(2,"0"),vt=vt.padStart(2,"0");const yt=`${Pt}-${Pe}-${vt} `;return Nt(ze,yt,"[Birth date formatting]"),yt}}}if(ft[Re]){if(ft[Re][st])return ft[Re][st];for(const[He,Mt]of Object.entries(ft[Re]))if(st.includes(He)||He.includes(st))return Mt;if(Re==="enrollment_term"){const He=st.match(/(\d+)(?:st|nd|rd|th)?\s*(?:sem|semester)/);if(He){const Mt=parseInt(He[1]);if(Mt===1)return"1st Semester";if(Mt===2)return"2nd Semester"}if(st.includes("summer"))return"Summer";if(st.includes("midyear")||st.includes("mid year"))return"Midyear"}if(Re==="year_level"){if(st==="first_year"||st==="firstyear"){const Pt="1st Year";return Nt(ze,Pt,"[Year level-first year]"),Pt}if(st==="second_year"||st==="secondyear"){const Pt="2nd Year";return Nt(ze,Pt,"[Year level-second year]"),Pt}if(st==="third_year"||st==="thirdyear"){const Pt="3rd Year";return Nt(ze,Pt,"[Year level-third year]"),Pt}if(st==="fourth_year"||st==="fourthyear"){const Pt="4th Year";return Nt(ze,Pt,"[Year level-fourth year]"),Pt}if(st==="fifth_year"||st==="fifthyear"){const Pt="5th Year";return Nt(ze,Pt,"[Year level-fifth year]"),Pt}const He=st.match(/grade[_\s]*(\d+)/i);if(He){const Pt=parseInt(He[1]);if(Pt>=7&&Pt<=12){const Pe=`Grade ${Pt} `;return Nt(ze,Pe,"[Year level-grade]"),Pe}}const Mt=st.match(/(\d+)(?:st|nd|rd|th)?\s*(?:year|yr)/i);if(Mt){const Pt=parseInt(Mt[1]);if(Pt>=1&&Pt<=5){const vt=`${["","1st","2nd","3rd","4th","5th"][Pt]} Year`;return Nt(ze,vt,"[Year level-ordinal]"),vt}}const Ot=st.match(/^(\d+)$/);if(Ot){const Pt=parseInt(Ot[1]);if(Pt>=1&&Pt<=5){const vt=`${["","1st","2nd","3rd","4th","5th"][Pt]} Year`;return Nt(ze,vt,"[Year level-simple number]"),vt}}}if(Re==="is_currently_enrolled"){const He="enrolled";return Nt(ze,He,"[Enrollment status-always enrolled]"),He}if(Re==="enrollment_status"){const Mt={active:"ACTIVE",inactive:"INACTIVE",enrolled:"ACTIVE","not enrolled":"INACTIVE",notenrolled:"INACTIVE",current:"ACTIVE",present:"ACTIVE",attending:"ACTIVE",studying:"ACTIVE",dropped:"INACTIVE",withdrawn:"INACTIVE",suspended:"INACTIVE",expelled:"INACTIVE",graduated:"INACTIVE",completed:"INACTIVE",finished:"INACTIVE"}[st]||De.toUpperCase();return Nt(ze,Mt,"[Enrollment status normalization]"),Mt}if(Re==="academic_year"){let He=De.trim();const Mt=He.match(/(\d{4})[-\/]?(\d{2,4})?/);if(Mt){const Ot=Mt[1],Pt=Mt[2]||(parseInt(Ot)+1).toString();He=`${Ot}-${Pt} `}return Nt(ze,He,"[Academic year formatting]"),He}if(Re==="semester"){const Mt={first:"FIRST",second:"SECOND",third:"THIRD",fourth:"FOURTH",summer:"SUMMER",midyear:"MIDYEAR","mid year":"MIDYEAR","1st":"FIRST","2nd":"SECOND","3rd":"THIRD","4th":"FOURTH",1:"FIRST",2:"SECOND",3:"THIRD",4:"FOURTH",sem1:"FIRST",sem2:"SECOND",sem3:"THIRD",sem4:"FOURTH"}[st]||De.toUpperCase();return Nt(ze,Mt,"[Semester normalization]"),Mt}if(Re==="is_graduating"){const He=["true","yes","1","y","graduating","will graduate","willgraduate","final year","finalyear","senior","last year","lastyear"],Mt=["false","no","0","n","not graduating","notgraduating","not final year","notfinalyear","not senior","notsenior"];if(He.some(Ot=>st.includes(Ot))){const Ot="true";return Nt(ze,Ot,"[Graduating status-positive]"),Ot}if(Mt.some(Ot=>st.includes(Ot))){const Ot="false";return Nt(ze,Ot,"[Graduating status-negative]"),Ot}}if(Re==="program"){for(const[Mt,Ot]of Object.entries(ft[Re]))if(st.includes(Mt)||Mt.includes(st)){const Pt=Ot;return Nt(ze,Pt,"[Program mapping]"),Pt}const He=[{pattern:/computer\s*science|cs|comp\s*sci|computing/i,value:"Bachelor of Science in Computer Science"},{pattern:/information\s*technology|it|infotech/i,value:"Bachelor of Science in Information Technology"},{pattern:/software\s*engineering|se|soft\s*eng/i,value:"Bachelor of Science in Software Engineering"},{pattern:/computer\s*engineering|ce|comp\s*eng/i,value:"Bachelor of Science in Computer Engineering"},{pattern:/psychology|psych|psy/i,value:"Bachelor of Arts in Psychology"},{pattern:/clinical\s*psychology|clinical\s*psych/i,value:"Bachelor of Arts in Clinical Psychology"},{pattern:/civil\s*engineering|ce|civil\s*eng/i,value:"Bachelor of Science in Civil Engineering"},{pattern:/mechanical\s*engineering|me|mech\s*eng/i,value:"Bachelor of Science in Mechanical Engineering"},{pattern:/electrical\s*engineering|ee|elec\s*eng/i,value:"Bachelor of Science in Electrical Engineering"},{pattern:/chemical\s*engineering|che|chem\s*eng/i,value:"Bachelor of Science in Chemical Engineering"},{pattern:/industrial\s*engineering|ie|ind\s*eng/i,value:"Bachelor of Science in Industrial Engineering"},{pattern:/business\s*administration|ba|bus\s*admin/i,value:"Bachelor of Science in Business Administration"},{pattern:/accountancy|accounting|bsa/i,value:"Bachelor of Science in Accountancy"},{pattern:/marketing|mkt/i,value:"Bachelor of Science in Marketing"},{pattern:/finance|fin/i,value:"Bachelor of Science in Finance"},{pattern:/management|mgt/i,value:"Bachelor of Science in Management"},{pattern:/elementary\s*education|elem\s*ed|elem\s*educ/i,value:"Bachelor of Elementary Education"},{pattern:/secondary\s*education|sec\s*ed|sec\s*educ/i,value:"Bachelor of Secondary Education"},{pattern:/early\s*childhood\s*education|ece|early\s*childhood/i,value:"Bachelor of Early Childhood Education"},{pattern:/nursing|bsn|bachelor\s*of\s*nursing/i,value:"Bachelor of Science in Nursing"},{pattern:/medicine|md|doctor\s*of\s*medicine/i,value:"Doctor of Medicine"},{pattern:/pharmacy|pharm|bachelor\s*of\s*pharmacy/i,value:"Bachelor of Science in Pharmacy"},{pattern:/physical\s*therapy|pt|phys\s*ther/i,value:"Bachelor of Science in Physical Therapy"},{pattern:/biology|bio|bachelor\s*of\s*biology/i,value:"Bachelor of Science in Biology"},{pattern:/chemistry|chem|bachelor\s*of\s*chemistry/i,value:"Bachelor of Science in Chemistry"},{pattern:/mathematics|math|bachelor\s*of\s*mathematics/i,value:"Bachelor of Science in Mathematics"},{pattern:/physics|phys|bachelor\s*of\s*physics/i,value:"Bachelor of Science in Physics"},{pattern:/english|lit|literature/i,value:"Bachelor of Arts in English"},{pattern:/history|hist/i,value:"Bachelor of Arts in History"},{pattern:/political\s*science|pol\s*sci|poli\s*sci/i,value:"Bachelor of Arts in Political Science"},{pattern:/multimedia|multimedia\s*arts|mma/i,value:"Bachelor of Multimedia Arts"},{pattern:/graphics|graphic\s*design|gd/i,value:"Bachelor of Fine Arts in Graphic Design"},{pattern:/animation|anim/i,value:"Bachelor of Fine Arts in Animation"},{pattern:/bachelor\s*of\s*science|bs|bsc/i,value:"Bachelor of Science"},{pattern:/bachelor\s*of\s*arts|ba|baa/i,value:"Bachelor of Arts"},{pattern:/bachelor\s*of\s*engineering|be|beng/i,value:"Bachelor of Engineering"},{pattern:/bachelor\s*of\s*education|bed|beduc/i,value:"Bachelor of Education"}];for(const{pattern:Mt,value:Ot}of He)if(Mt.test(st)){const Pt=Ot;return Nt(ze,Pt,"[Program pattern detection]"),Pt}if(st.includes("computer")&&st.includes("science")){const Mt="Bachelor of Science in Computer Science";return Nt(ze,Mt,"[Program pattern-computer science]"),Mt}if(st.includes("psychology")||st.includes("psych")){const Mt="Bachelor of Arts in Psychology";return Nt(ze,Mt,"[Program pattern-psychology]"),Mt}if(st.includes("engineering")){if(st.includes("civil"))return"Bachelor of Science in Civil Engineering";if(st.includes("electrical"))return"Bachelor of Science in Electrical Engineering";if(st.includes("mechanical"))return"Bachelor of Science in Mechanical Engineering"}if(st.includes("business")||st.includes("admin"))return"Bachelor of Science in Business Administration";if(st.includes("nursing"))return"Bachelor of Science in Nursing";if(st.includes("accounting")||st.includes("accountancy"))return"Bachelor of Science in Accountancy"}if(Re==="enrollment_date"){const He=[/(\d{4})-(\d{1,2})-(\d{1,2})/,/(\d{1,2})\/(\d{1,2})\/(\d{4})/,/(\d{1,2})-(\d{1,2})-(\d{4})/,/(\d{4})\/(\d{1,2})\/(\d{1,2})/];for(const Mt of He){const Ot=st.match(Mt);if(Ot)try{let Pt,Pe,vt;return Mt===He[0]||Mt===He[3]?[,Pt,Pe,vt]=Ot:[,Pe,vt,Pt]=Ot,Pe=Pe.padStart(2,"0"),vt=vt.padStart(2,"0"),`${Pt}-${Pe}-${vt} `}catch{}}return st}}if(Re==="contact_number"){let He=De.trim().replace(/[^\d+\-\(\)\s]/g,"");return He=He.replace(/^(\+63|63|0)/,""),He.startsWith("9")&&He.length===10&&(He="0"+He),He.length===11&&He.startsWith("09")&&(He=`${He.slice(0,4)}-${He.slice(4,7)}-${He.slice(7)} `),Nt(ze,He,"[Contact number formatting]"),He}if(Re==="email_address"){let He=De.trim().toLowerCase();return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(He)||console.warn(` Invalid email format:"${ze}"`),Nt(ze,He,"[Email formatting]"),He}if(Re==="gpa"){let He=De.trim();const Mt=He.match(/(\d+\.?\d*)/);if(Mt){const Ot=parseFloat(Mt[1]);if(Ot>=0&&Ot<=4)return He=Ot.toFixed(2),Nt(ze,He,"[GPA formatting]"),He}}if(Re==="units_enrolled"){const He=De.match(/(\d+)/);if(He){const Mt=He[1];return Nt(ze,Mt,"[Units formatting]"),Mt}}return ze!==De&&console.log(` Value kept as-is:"${ze}"(field:${Re})`),De},_e=Re=>new Promise((De,ze)=>{const st=new FileReader;st.onload=Nt=>{try{const Mt=Nt.target.result.split(`
`).filter(yt=>yt.trim()),Ot=Mt[0].split(",").map(yt=>yt.trim().replace(/"/g,"")),Pt={},Pe=[];Ot.forEach(yt=>{const gr=Te(yt);gr&&(Pt[yt]=gr,Pe.includes(gr)||Pe.push(gr))}),console.log("=== CSV HEADER MAPPING DEBUG ==="),console.log("Raw headers from CSV:",Ot),console.log("Header mapping:",Pt),console.log("Normalized headers:",Pe),console.log("Unmapped headers:",Ot.filter(yt=>!Pt[yt])),console.log("================================");const vt=[];for(let yt=1;yt<Mt.length;yt++){const gr=Mt[yt].split(",").map(ea=>ea.trim().replace(/"/g,"")),qt={};Ot.forEach((ea,hs)=>{const es=Pt[ea];if(es){const Pa=gr[hs]||"",Fs=oe(es,Pa);console.log(Pa!==Fs?`Value normalized:"${Pa}"  "${Fs}"(field:${es})`:`Value kept as-is:"${Pa}"(field:${es})`),qt[es]=Fs}}),vt.push(qt)}De(vt)}catch(He){ze(He)}},st.onerror=()=>ze(new Error("Failed to read file")),st.readAsText(Re)}),et=()=>{const Re=[{"Student ID":"2024-001234","First Name":"Juan","Last Name":"Dela Cruz","Academic Year":"2024-2025",Semester:"1st Semester","Currently Enrolled":"true","Enrollment Date":"2024-08-15",Program:"Bachelor of Science in Computer Science","Year Level":"1st Year"},{"Student ID":"2024-001235","First Name":"Maria","Last Name":"Santos","Academic Year":"",Semester:"1st Semester","Currently Enrolled":"true","Enrollment Date":"2024-08-16",Program:"Bachelor of Arts in Psychology","Year Level":"2nd Year"},{"Student ID":"2024-001236","First Name":"Jose","Last Name":"Garcia","Academic Year":"2024",Semester:"1st sem","Currently Enrolled":"yes","Enrollment Date":"08/20/2024",Program:"CS","Year Level":"1"}],De=["Student ID","First Name","Last Name","Academic Year","Semester","Currently Enrolled","Enrollment Date","Program","Year Level"],ze=[De.join(","),...Re.map(Mt=>De.map(Ot=>`"${Mt[Ot]||""}"`).join(","))].join(`
`),st=new Blob([ze],{type:"text/csv;charset=utf-8;"}),Nt=document.createElement("a"),He=URL.createObjectURL(st);Nt.setAttribute("href",He),Nt.setAttribute("download","enrollment_template.csv"),Nt.style.visibility="hidden",document.body.appendChild(Nt),Nt.click(),document.body.removeChild(Nt)},Ve=async()=>{if(!(!i||!ae)){be({status:"uploading",message:"Uploading student data..."});try{console.log("Uploading flexible CSV data:",ae),console.log("Headers:",pe),console.log("Number of records:",ae.length);const Re=await Pbe(a,ae,te);be({status:"success",message:`Successfully uploaded ${Re.data?.processed_count||Re.processed} student records`}),await Se(),o(null),be(null),W(null),ce(null)}catch(Re){console.error("Error uploading CSV:",Re),be({status:"error",message:"Upload failed:"+Re.message})}}},Wt=Re=>{Re.preventDefault();const De=Re.dataTransfer.files[0];De&&(De.type==="text/csv"||De.name.endsWith(".csv"))&&o(De)},Bt=({title:Re,value:De,change:ze,changeType:st,icon:Nt,color:He})=>e.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-lg shadow-sm border-l-4 p-6 border border-slate-200 dark:border-slate-700 ${He==="blue"?"border-l-[#4A90E2] bg-blue-50 dark:bg-blue-900/20":He==="green"||He==="purple"?"border-l-[#4CAF50] bg-green-50 dark:bg-green-900/20":"border-l-[#FDA811] bg-orange-50 dark:bg-orange-900/20"} `,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:Re}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:De}),e.jsxs("p",{className:`text-sm ${st==="increase"?"text-[#4CAF50]":st==="decrease"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"} `,children:[st==="increase"?"":st==="decrease"?"":""," ",ze]})]}),e.jsx("div",{className:`p-3 rounded-full ${He==="blue"?"bg-blue-100 dark:bg-blue-800":He==="green"||He==="purple"?"bg-green-100 dark:bg-green-800":"bg-orange-100 dark:bg-orange-800"} `,children:e.jsx(Nt,{className:`w-6 h-6 ${He==="blue"?"text-[#4A90E2]":He==="green"||He==="purple"?"text-[#4CAF50]":"text-[#FDA811]"} `})})]})}),Fe=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Partner School Dashboard"}),Y?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-64 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-48"})]}):E?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Welcome back, ",t?`${t.first_name} ${t.last_name} `:"Representative"]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[E.school.full_name||E.school.name,E.school.campus&&E.school.name!==E.school.full_name&&e.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:E.school.campus})]}),E.school.address&&e.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[" ",E.school.address,", ",E.school.city,", ",E.school.province]})]}):q?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qt,{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Unable to load school information"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:q})]})]})}):e.jsx("p",{className:"text-gray-500",children:"Loading school information..."})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 transform-translate-y-1/2 text-gray-400 dark:text-gray-500 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search students, uploads...",className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),e.jsxs("button",{onClick:()=>n("upload"),className:"bg-[#4CAF50] text-white px-4 py-2 rounded-lg hover:bg-[#45A049] flex items-center space-x-2",children:[e.jsx(cl,{className:"w-4 h-4"}),e.jsx("span",{children:"Upload Data"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Y?Array.from({length:4}).map((Re,De)=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border-l-4 p-6 border border-slate-200 dark:border-slate-700 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24 mb-2"}),e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-16 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-20"})]},De)):me.map((Re,De)=>e.jsx(Bt,{...Re},De))}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>n("upload"),className:"flex items-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[e.jsx(px,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Upload Student Data"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Upload enrollment data"})]})]}),e.jsxs("button",{onClick:()=>n("students"),className:"flex items-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[e.jsx(Wr,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Manage Students"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"View and edit student records"})]})]}),e.jsxs("button",{onClick:()=>n("reports"),className:"flex items-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[e.jsx(nl,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"View Reports"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Generate and download reports"})]})]}),e.jsxs("button",{onClick:()=>n("budget"),className:"flex items-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[e.jsx(mh,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Budget & Funds"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Manage budget and requests"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activities"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Data upload completed"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"150 records processed successfully"})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"2 hours ago"})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"New student registered"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Juan Cruz Santos-Grade 11"})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"4 hours ago"})]})]})]})]}),nt=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Upload Student Data"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Upload any CSV file-we'll extract the required fields automatically"})]})})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-lg p-8 text-center hover:border-[#4CAF50] hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",onDragOver:kt,onDrop:Wt,children:[e.jsx(px,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Upload Any Student Data File"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:"Drag and drop your CSV or Excel file here or click to browse"}),e.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-4",children:[" ",e.jsx("strong",{children:"Smart Extraction:"})," Works with CSV and Excel files! We automatically find and extract:",e.jsx("br",{})," Student ID (any format:ID, Student Number, etc.)",e.jsx("br",{})," First Name (any format:First Name, Given Name, etc.)",e.jsx("br",{})," Last Name (any format:Last Name, Surname, etc.)",e.jsx("br",{}),' All students will be marked as "Enrolled"']}),e.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:Ye,className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"bg-[#4CAF50] text-white px-6 py-2 rounded-lg hover:bg-[#45A049] cursor-pointer inline-block",children:"Choose File"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4",children:"Accepted formats:.csv, .xlsx, .xls  Max file size:10MB"})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"File Requirements"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(jt,{className:"w-4 h-4 text-[#4CAF50]"}),e.jsx("span",{children:"File must be in CSV format"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(jt,{className:"w-4 h-4 text-[#4CAF50]"}),e.jsx("span",{children:"Maximum file size:10MB"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(jt,{className:"w-4 h-4 text-[#4CAF50]"}),e.jsx("span",{children:"Must include all required fields"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(jt,{className:"w-4 h-4 text-[#4CAF50]"}),e.jsx("span",{children:"Data must be for current academic year"})]})]})]}),i&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"File Ready for Upload"}),e.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Kt,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:i.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Size:",i.size>1024*1024?`${(i.size/1024/1024).toFixed(2)} MB`:`${(i.size/1024).toFixed(2)} KB`]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Type:",i.type||"CSV file"]}),ae&&e.jsxs("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:[" ",ae.length," student records found"]})]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Update Mode:"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"uploadMode",value:"merge",checked:te==="merge",onChange:Re=>R(Re.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Merge (Add to existing data)"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"uploadMode",value:"replace",checked:te==="replace",onChange:Re=>R(Re.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Replace All (Delete existing data)"})]})]})]}),X&&e.jsx("div",{className:`mb-4 p-4 rounded-lg ${X.status==="success"?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300":X.status==="error"?"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300":"bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300"} `,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[X.status==="success"&&e.jsx(jt,{className:"w-5 h-5"}),X.status==="error"&&e.jsx(mr,{className:"w-5 h-5"}),X.status==="processing"&&e.jsx(lr,{className:"w-5 h-5 animate-spin"}),X.status==="uploading"&&e.jsx(px,{className:"w-5 h-5 animate-pulse"}),e.jsx("span",{className:"font-medium",children:X.message})]})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:Ve,disabled:X?.status==="uploading"||X?.status==="processing",className:"bg-[#4CAF50] text-white px-6 py-2 rounded-lg hover:bg-[#45A049] disabled:opacity-50 disabled:cursor-not-allowed",children:X?.status==="uploading"?"Uploading...":"Upload Data"}),e.jsx("button",{onClick:()=>{o(null),be(null)},className:"bg-gray-600 dark:bg-slate-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 dark:hover:bg-slate-700",children:"Cancel"})]})]}),l&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Validation Results"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-[#4CAF50] dark:text-green-300",children:l.validRecords}),e.jsx("p",{className:"text-sm text-green-800 dark:text-green-300",children:"Valid Records"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:l.errorRecords}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:"Error Records"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:l.warningRecords}),e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"Warning Records"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-[#4CAF50] dark:text-green-300",children:l.newRecords}),e.jsx("p",{className:"text-sm text-green-800 dark:text-green-300",children:"New Records"})]})]}),e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Update Mode:"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"uploadMode",value:"merge",checked:te==="merge",onChange:Re=>R(Re.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Merge (Recommended)"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"uploadMode",value:"replace",checked:te==="replace",onChange:Re=>R(Re.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Replace All"})]})]})]}),X&&e.jsx("div",{className:`p-4 rounded-lg ${X.status==="success"?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300":X.status==="error"?"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300":"bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300"} `,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[X.status==="success"&&e.jsx(jt,{className:"w-5 h-5"}),X.status==="error"&&e.jsx(mr,{className:"w-5 h-5"}),X.status==="processing"&&e.jsx(lr,{className:"w-5 h-5 animate-spin"}),X.status==="uploading"&&e.jsx(px,{className:"w-5 h-5 animate-pulse"}),e.jsx("span",{className:"font-medium",children:X.message})]})}),l?.errors&&l.errors.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[e.jsx("h4",{className:"text-lg font-semibold text-red-800 dark:text-red-300 mb-3",children:"Error Details:"}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[l.errors.slice(0,10).map((Re,De)=>e.jsx("div",{className:"text-sm text-red-700 dark:text-red-300 mb-1 p-2 bg-red-100 dark:bg-red-800/30 rounded",children:Re},De)),l.errors.length>10&&e.jsxs("div",{className:"text-sm text-red-600 dark:text-red-400 font-medium mt-2",children:["... and ",l.errors.length-10," more errors"]})]})]}),l?.warnings&&l.warnings.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[e.jsx("h4",{className:"text-lg font-semibold text-yellow-800 dark:text-yellow-300 mb-3",children:"Warning Details:"}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[l.warnings.slice(0,10).map((Re,De)=>e.jsx("div",{className:"text-sm text-yellow-700 dark:text-yellow-300 mb-1 p-2 bg-yellow-100 dark:bg-yellow-800/30 rounded",children:Re},De)),l.warnings.length>10&&e.jsxs("div",{className:"text-sm text-yellow-600 dark:text-yellow-400 font-medium mt-2",children:["... and ",l.warnings.length-10," more warnings"]})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[l&&l.errorRecords===0&&e.jsx("button",{onClick:Ve,disabled:X?.status==="uploading",className:"bg-[#4CAF50] text-white px-6 py-2 rounded-lg hover:bg-[#45A049] disabled:opacity-50 disabled:cursor-not-allowed",children:X?.status==="uploading"?"Uploading...":"Upload Data"}),e.jsx("button",{onClick:et,className:"bg-gray-600 dark:bg-slate-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 dark:hover:bg-slate-700",children:"Download Template"}),l?.errors&&l.errors.length>0&&e.jsx("button",{className:"bg-red-600 dark:bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 dark:hover:bg-red-700",children:"Download Error Report"})]})]})]})]}),ut=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Students"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage student enrollment data"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ls,{className:"absolute left-3 top-1/2 transform-translate-y-1/2 text-gray-400 dark:text-gray-500 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search students...",value:g,onChange:Re=>x(Re.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),e.jsxs("select",{value:v,onChange:Re=>w(Re.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Students"}),e.jsx("option",{value:"enrolled",children:"Enrolled"})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm overflow-hidden border border-slate-200 dark:border-slate-700",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Student ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Year Level"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Program"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Enrollment Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:f?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nr,{className:"w-8 h-8 text-gray-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading students..."})]})})})}):d.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(Wr,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No students found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:g||v!=="all"?"No students match your current search or filter criteria.":"Upload student enrollment data to get started."})]}),!g&&v==="all"&&e.jsx("button",{onClick:()=>n("upload"),className:"bg-[#4CAF50] text-white px-4 py-2 rounded-lg hover:bg-[#45A049] transition-colors",children:"Upload Student Data"})]})})}):d.filter(Re=>{let De=!0;if(v==="enrolled")if(Re.isFlexible&&Re.flexibleData)De=!0;else{const Nt=(Re.enrollmentData||[])[0];De=Nt&&Nt.is_currently_enrolled}const ze=g===""||Re.first_name&&Re.first_name.toLowerCase().includes(g.toLowerCase())||Re.last_name&&Re.last_name.toLowerCase().includes(g.toLowerCase())||Re.student_id_number&&Re.student_id_number.toLowerCase().includes(g.toLowerCase());return De&&ze}).map(Re=>{const De=Re.enrollmentData||[],ze=De[0];console.log("Student:",Re.student_id_number,"Enrollment data:",De),console.log("Latest enrollment:",ze),console.log("Student full object:",Re);let st=null;return Re.isFlexible&&Re.flexibleData&&(console.log("Flexible data for",Re.student_id_number,":",Re.flexibleData),st=Re.flexibleData,console.log("Year Level:",st.year_level),console.log("Program:",st.program),console.log("Enrollment Date:",st.enrollment_date)),e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:Re.student_id_number||Re.studentId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Re.full_name||Re.name||`${Re.first_name} ${Re.last_name} `}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[Re.scholarshipApplications&&Re.scholarshipApplications.length>0&&e.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Re.scholarshipApplications[0].status==="approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":Re.scholarshipApplications[0].status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300":Re.scholarshipApplications[0].status==="rejected"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"} `,children:["App:",Re.scholarshipApplications[0].status]}),e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:"Enrolled:Yes"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Re.isFlexible&&st?st.year_level||st["year level"]||st.grade||"N/A":ze?.year_level||Re.currentAcademicRecord?.year_level||Re.yearLevel||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Re.isFlexible&&st?st.program||st.course||st.major||"N/A":ze?.program||Re.currentAcademicRecord?.program||Re.program||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Re.isFlexible&&st?st.enrollment_date||st["enrollment date"]||st.date||"N/A":ze?.enrollment_date||ze?.created_at||Re.enrollmentDate||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"View Details",children:e.jsx(Or,{className:"w-4 h-4"})}),ze&&e.jsx("button",{className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Enrollment Data Available",children:e.jsx(ey,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300",title:"Edit",children:e.jsx(ko,{className:"w-4 h-4"})})]})})]},Re.id)})})]})})})]}),Tt=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Reports & Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Enrollment by Year Level"}),e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx(nl,{className:"w-16 h-16 text-gray-400 dark:text-gray-500"})})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Program Distribution"}),e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx(Kt,{className:"w-16 h-16 text-gray-400 dark:text-gray-500"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Available Reports"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Kt,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Enrollment Summary"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Overview by year level and program"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last generated:2024-01-15"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(rn,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Scholarship Recipients"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"List of scholarship students"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last generated:2024-01-10"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ey,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Data Quality Report"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Data completeness analysis"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last generated:2024-01-12"})]})]})})]})]})]})}),Lt=()=>e.jsx("div",{className:"space-y-6",children:E?e.jsx(Fbe,{schoolId:E.school.id}):e.jsx("div",{className:"flex items-center justify-center p-12 bg-white dark:bg-slate-800 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nr,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Loading school budget info..."})]})})}),Ar=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Settings"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"School Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"School Name"}),e.jsx("input",{type:"text",value:E?.school?.name||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Campus"}),e.jsx("input",{type:"text",value:E?.school?.campus||"Main Campus",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Person"}),e.jsx("input",{type:"text",value:t?`${t.first_name} ${t.last_name} `:"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:E?.school?.email||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),e.jsx("input",{type:"text",value:E?.school?.contact_number||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:E?.school?.address?`${E.school.address}, ${E.school.city}, ${E.school.province} `:"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-white"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Upload Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"auto-approve",className:"h-4 w-4 text-[#4CAF50] focus:ring-[#4CAF50] border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700"}),e.jsx("label",{htmlFor:"auto-approve",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Auto-approve uploads"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"require-verification",defaultChecked:!0,className:"h-4 w-4 text-[#4CAF50] focus:ring-[#4CAF50] border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700"}),e.jsx("label",{htmlFor:"require-verification",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Require manual verification"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Change Password"}),e.jsxs("form",{onSubmit:de,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:fe.current?"text":"password",value:we.currentPassword,onChange:Re=>Je("currentPassword",Re.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Enter current password",required:!0}),e.jsx("button",{type:"button",onClick:()=>H("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:fe.current?e.jsx(ai,{className:"h-4 w-4 text-gray-400"}):e.jsx(Or,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:fe.new?"text":"password",value:we.newPassword,onChange:Re=>Je("newPassword",Re.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Enter new password",required:!0}),e.jsx("button",{type:"button",onClick:()=>H("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:fe.new?e.jsx(ai,{className:"h-4 w-4 text-gray-400"}):e.jsx(Or,{className:"h-4 w-4 text-gray-400"})})]}),we.newPassword&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password Strength"}),e.jsx("span",{className:`text-sm font-medium ${$e.score===100?"text-green-600":$e.score>=60?"text-yellow-600":"text-red-600"} `,children:$e.score===100?"Strong":$e.score>=60?"Medium":"Weak"})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${$e.score===100?"bg-green-500":$e.score>=60?"bg-yellow-500":"bg-red-500"} `,style:{width:`${$e.score}% `}})}),e.jsx("div",{className:"space-y-1",children:$e.feedback.map((Re,De)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(jt,{className:`h-4 w-4 ${Re.valid?"text-green-500":"text-gray-400"} `}),e.jsx("span",{className:`text-sm ${Re.valid?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"} `,children:Re.text})]},De))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:fe.confirm?"text":"password",value:we.confirmPassword,onChange:Re=>Je("confirmPassword",Re.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Confirm new password",required:!0}),e.jsx("button",{type:"button",onClick:()=>H("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:fe.confirm?e.jsx(ai,{className:"h-4 w-4 text-gray-400"}):e.jsx(Or,{className:"h-4 w-4 text-gray-400"})})]}),we.confirmPassword&&e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[e.jsx(jt,{className:`h-4 w-4 ${we.newPassword===we.confirmPassword?"text-green-500":"text-red-500"} `}),e.jsx("span",{className:`text-sm ${we.newPassword===we.confirmPassword?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"} `,children:we.newPassword===we.confirmPassword?"Passwords match":"Passwords do not match"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{je({currentPassword:"",newPassword:"",confirmPassword:""}),ge({score:0,feedback:[]})},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:ot||$e.score<100||we.newPassword!==we.confirmPassword,className:"px-6 py-2 bg-[#4CAF50] text-white rounded-lg hover:bg-[#45A049] disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:ot?e.jsxs(e.Fragment,{children:[e.jsx(Nr,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Changing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ml,{className:"h-4 w-4"}),e.jsx("span",{children:"Change Password"})]})})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"bg-[#4CAF50] text-white px-6 py-2 rounded-lg hover:bg-[#45A049]",children:"Save Settings"})})]})]})}),Fr=()=>{const Re=new sr;Re.setFontSize(16),Re.setFont("helvetica","bold"),Re.text("MEMORANDUM OF AGREEMENT",105,20,{align:"center"}),Re.setFontSize(12),Re.text("PARTNER SCHOOL SCHOLARSHIP PROGRAM",105,30,{align:"center"}),Re.setFontSize(10),Re.setFont("helvetica","normal");let De=50;const ze=7,st=20,Nt=170,He=(Mt,Ot)=>{Re.setFont("helvetica","bold"),Re.text(Mt,st,De),De+=ze,Re.setFont("helvetica","normal");const Pt=Re.splitTextToSize(Ot,Nt);Re.text(Pt,st,De),De+=Pt.length*5+10};He("1. Introduction","This Agreement establishes the terms and conditions under which the Partner School agrees to collaborate with the City Government of Caloocan for the Scholarship Program."),He("2. Data Privacy & Confidentiality","The Partner School agrees to handle all student data in strict compliance with the Data Privacy Act of 2012 (RA 10173). All student records, grades, and financial information must be kept confidential and used solely for scholarship validation purposes."),He("3. Accuracy of Information","The Partner School certifies that all enrollment data, grades, and student status reports submitted to the system are accurate and verified against official school records. Any discrepancies must be reported immediately."),He("4. Termination Policy","The City Government reserves the right to immediately terminate this partnership and revoke all access privileges upon discovery of: Falsification of student records; Unauthorized sharing of data; Submission of ghost students; or Failure to comply with audit requirements. Zero Tolerance Policy Enforced."),He("5. Agreement Validity","This agreement remains valid for the current academic year unless terminated earlier due to violations mentioned in Section 4."),De+=20,Re.line(st,De,st+70,De),Re.text("Authorized Representative",st,De+5),Re.text("Partner School",st,De+10),Re.line(st+90,De,st+160,De),Re.text("City Administrator",st+90,De+5),Re.text("City Government of Caloocan",st+90,De+10),Re.save("Partner_School_MOA.pdf")};return K?e.jsx(Lbe,{}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[C&&!S&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>N(!0)}),e.jsxs("div",{className:`fixed inset-y-0 left-0 ${S?C?"-translate-x-full":"w-16":"w-64"} bg-white border-r border-slate-200/50 flex flex-col transition-all duration-300 ease-in-out shadow-lg dark:bg-slate-900 dark:border-slate-700/50 z-50`,children:[e.jsx("div",{className:`${S?"p-3":"p-6"} flex-shrink-0`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center text-white text-xl font-bold flex-shrink-0",children:e.jsx("img",{src:"/GSM_logo.png",alt:"GSM Logo",className:"w-full h-full object-contain"})}),!S&&e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white truncate",children:Y?e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-20 animate-pulse"}):E?E.school.name.split(" ")[0]:"School"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:"Partner School"})]})]})}),e.jsx("hr",{className:"border-slate-200 dark:border-slate-700 mx-2 flex-shrink-0"}),e.jsx("nav",{className:"flex-1 p-2 md:p-4 space-y-1 md:space-y-2 overflow-y-auto",children:[{id:"overview",label:"Overview",icon:V7},{id:"upload",label:"Upload Data",icon:cl},{id:"students",label:"Students",icon:Wr},{id:"budget",label:"Budget",icon:mh},{id:"reports",label:"Reports",icon:nl},{id:"settings",label:"Settings",icon:rl}].map(Re=>e.jsxs("button",{onClick:()=>n(Re.id),className:`w-full flex items-center space-x-3 p-2 md:p-2 rounded-xl transition-all duration-200 text-left ${S?"px-2 justify-center":"px-3"} ${s===Re.id?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-600 dark:hover:text-slate-300"} `,children:[e.jsx(Re.icon,{className:"w-5 h-5 flex-shrink-0"}),!S&&e.jsx("span",{className:"text-sm font-medium truncate",children:Re.label})]},Re.id))}),e.jsx("div",{className:"flex-shrink-0 p-2 md:p-4 border-t border-slate-200 dark:border-slate-700 mt-auto",children:e.jsxs("button",{onClick:ie,disabled:Ge,className:`w-full flex items-center space-x-3 p-2 md:p-3 rounded-xl transition-all duration-200 text-left ${S?"px-2 justify-center":"px-3"} text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer group`,children:[e.jsx(Db,{className:`w-5 h-5 flex-shrink-0 ${Ge?"animate-pulse":"group-hover:translate-x-1 transition-transform"}`}),!S&&e.jsx("span",{className:"text-sm font-medium",children:Ge?"Logging out...":"Logout"})]})})]}),e.jsx("div",{className:`${C?"ml-0":S?"ml-16":"ml-64"} bg-white/80 backdrop-blur-xl border-b border-slate-200 px-6 py-4 transition-all duration-300 dark:bg-slate-800 dark:border-slate-700/50`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"p-2 rounded-lg text-slate-500 hover:bg-slate-200 transition-colors duration-200",onClick:Ce,children:e.jsx(H7,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"hidden md:flex items-center space-x-1",children:e.jsx("h1",{className:"text-md font-bold dark:text-white",children:"EDUCATION & SCHOLARSHIP MANAGEMENT"})}),e.jsx("div",{children:e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-bold",children:ue().join(" > ")})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(Hr,{className:"w-4 h-4"}),e.jsx("span",{children:t?`${t.first_name} ${t.last_name} `:"Representative"}),e.jsx("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded-full",children:t?.role||"ps_rep"})]}),e.jsxs("button",{className:"relative rounded-xl p-2 text-slate-600 dark:text-slate-400 dark:hover:text-slate-100 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer",children:[e.jsx(qu,{className:"w-6 h-6"}),e.jsx("span",{className:"absolute top-0 w-4 h-4 text-white text-xs bg-red-500 rounded-full flex items-center justify-center",children:"1"})]}),e.jsx("button",{className:"ml-2 rounded-xl p-2 bg-slate-300 text-slate-600 hover:bg-slate-400 dark:bg-slate-700 dark:text-yellow-400 dark:hover:bg-slate-900 transition-colors cursor-pointer",onClick:Ue,"aria-label":"Toggle dark mode",children:Z==="dark"?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("path",{stroke:"currentColor",strokeWidth:"2",d:"M12 1v2m0 18v2m11-11h-2M3 12H1m16.95 7.07l-1.41-1.41M6.46 6.46L5.05 5.05m13.9 0l-1.41 1.41M6.46 17.54l-1.41 1.41"})]}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{stroke:"currentColor",strokeWidth:"2",d:"M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z"})})})]})]})}),e.jsxs("div",{className:`${C?"ml-0":S?"ml-16":"ml-64"} p-6 transition-all duration-300 bg-gray-50 dark:bg-slate-900 min-h-screen`,children:[s==="overview"&&Fe(),s==="upload"&&nt(),s==="students"&&ut(),s==="budget"&&Lt(),s==="reports"&&Tt(),s==="settings"&&Ar(),e.jsxs("div",{className:"mt-12 border-t border-slate-200 dark:border-slate-700 pt-8 pb-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:"Partnership Agreement"}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-lg p-4 max-w-4xl",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Qt,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Termination Policy"}),e.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400 mt-1",children:["Strict adherence to the partnership guidelines is required. Any breach of terms, data falsification, or violation of student privacy laws will result in the ",e.jsx("strong",{children:"immediate termination and revocation"})," of the partnership agreement."]}),e.jsxs("div",{className:"mt-3 flex space-x-4",children:[e.jsx("button",{onClick:()=>z(!0),className:"text-sm font-medium text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 underline",children:"View Terms & Conditions"}),e.jsx("button",{onClick:Fr,className:"text-sm font-medium text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 underline",children:"Download Agreement (PDF)"})]})]})]})})]})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Data Upload Field Guide"}),e.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Required Fields"}),e.jsx("div",{className:"space-y-3",children:[{field:"student_id_number",description:"Unique student identifier",example:"2024-001"},{field:"first_name",description:"Student's first name",example:"Juan"},{field:"last_name",description:"Student's last name",example:"Cruz"},{field:"enrollment_status",description:"ACTIVE, INACTIVE, GRADUATED, or DROPPED",example:"ACTIVE"},{field:"academic_year",description:"Academic year (YYYY-YYYY)",example:"2024-2025"},{field:"semester",description:"FIRST, SECOND, or SUMMER",example:"FIRST"},{field:"year_level",description:"GRADE_7 to GRADE_12 or FIRST_YEAR to FIFTH_YEAR",example:"GRADE_11"},{field:"enrollment_date",description:"Date in YYYY-MM-DD format",example:"2024-06-15"}].map((Re,De)=>e.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:Re.field}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:Re.description})]}),e.jsx("code",{className:"text-sm bg-white dark:bg-slate-600 text-gray-900 dark:text-white px-2 py-1 rounded border border-gray-200 dark:border-slate-600",children:Re.example})]})},De))})]})})})]})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-2xl w-full max-h-[85vh] overflow-hidden flex flex-col animate-fade-in-up",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700 flex justify-between items-center bg-gray-50 dark:bg-slate-800/50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ey,{className:"w-6 h-6 text-[#4CAF50]"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Partner School Agreement"})]}),e.jsx("button",{onClick:()=>z(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-slate-700 rounded-full transition-colors",children:e.jsx(mr,{className:"w-6 h-6 text-gray-500"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto space-y-6 text-gray-700 dark:text-gray-300 leading-relaxed",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"1. Introduction"}),e.jsx("p",{children:"This Agreement establishes the terms and conditions under which the Partner School agrees to collaborate with the City Government of Caloocan for the Scholarship Program."})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"2. Data Privacy & Confidentiality"}),e.jsx("p",{children:"The Partner School agrees to handle all student data in strict compliance with the Data Privacy Act of 2012 (RA 10173). All student records, grades, and financial information must be kept confidential and used solely for scholarship validation purposes."})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"3. Accuracy of Information"}),e.jsx("p",{children:"The Partner School certifies that all enrollment data, grades, and student status reports submitted to the system are accurate and verified against official school records. Any discrepancies must be reported immediately."})]}),e.jsxs("section",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-100 dark:border-red-900/30",children:[e.jsxs("h3",{className:"text-lg font-bold text-red-800 dark:text-red-400 mb-2 flex items-center",children:[e.jsx(Qt,{className:"w-5 h-5 mr-2"}),"4. Termination Policy"]}),e.jsx("p",{className:"text-red-700 dark:text-red-300 font-medium",children:"The City Government reserves the right to immediately terminate this partnership and revoke all access privileges upon discovery of:"}),e.jsxs("ul",{className:"list-disc ml-5 mt-2 space-y-1 text-red-700 dark:text-red-300",children:[e.jsx("li",{children:"Falsification of student records or grades."}),e.jsx("li",{children:"Unauthorized sharing or selling of student data."}),e.jsx("li",{children:"Submission of ghost students or non-existent enrollments."}),e.jsx("li",{children:"Failure to comply with audit requirements."})]}),e.jsx("p",{className:"mt-3 text-red-800 dark:text-red-300 font-bold uppercase text-xs tracking-wider",children:"Zero Tolerance Policy Enforced"})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"5. Agreement Validity"}),e.jsx("p",{children:"This agreement remains valid for the current academic year unless terminated earlier due to violations mentioned in Section 4."})]})]})}),e.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800/50 flex justify-end",children:e.jsx("button",{onClick:()=>z(!1),className:"px-6 py-2.5 bg-[#4CAF50] hover:bg-[#45A049] text-white font-medium rounded-lg shadow-sm transition-all transform active:scale-95",children:"I Understand & Agree"})})]})})]})},Ube=()=>{const{currentUser:t,logout:r}=_r();return!t||t.role!=="ps_rep"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Go to Login"})]})}):e.jsx(Bbe,{})},zbe=1800*1e3,w7=30*1e3,qbe=(t={})=>{const{onTimeout:r,onWarning:a,enabled:s=!0,durationSeconds:n}=t,i=b.useRef(null),o=b.useRef(null),[l,c]=b.useState(!1),d=_r(v=>v.logout),u=n?Math.max(n*1e3,w7+5e3):zbe,f=b.useCallback(()=>{i.current&&(clearTimeout(i.current),i.current=null),o.current&&(clearTimeout(o.current),o.current=null),c(!1)},[]),p=b.useCallback(async()=>{console.log("Session timeout - logging out user"),await d(),r&&r()},[d,r]),g=b.useCallback(()=>{console.log("Session timeout warning"),c(!0),a&&a()},[a]),x=b.useCallback(()=>{s&&(l||(f(),o.current=setTimeout(()=>{g()},u-w7),i.current=setTimeout(()=>{p()},u)))},[s,l,f,g,p,u]);return b.useEffect(()=>{if(!s){f();return}const v=["mousedown","mousemove","keypress","scroll","touchstart","click","wheel"],w=()=>{l||x()};return x(),v.forEach(j=>{document.addEventListener(j,w,{passive:!0})}),()=>{f(),v.forEach(j=>{document.removeEventListener(j,w)})}},[s,l,x,f]),{resetTimer:x,clearTimers:f,warningShown:l}},Vbe=({isOpen:t,onContinue:r,secondsRemaining:a=30})=>{const[s,n]=b.useState(a);return b.useEffect(()=>{if(t){n(a);const i=setInterval(()=>{n(o=>o<=1?(clearInterval(i),0):o-1)},1e3);return()=>clearInterval(i)}},[t,a]),t?e.jsxs("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[9999] p-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 relative animate-scale-in",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-yellow-100 rounded-full p-3",children:e.jsx(Br,{className:"text-yellow-600",size:40})})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Session Timeout Warning"}),e.jsx("p",{className:"text-gray-600",children:"You've been inactive for a while. For your security, you'll be logged out automatically."})]}),e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4 mb-6 text-center",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Logging out in:"}),e.jsx("div",{className:"text-5xl font-bold text-yellow-600",children:s}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"seconds"})]}),e.jsx("button",{onClick:r,className:"w-full bg-secondary-500 hover:bg-secondary-600 text-white py-3 px-6 rounded-lg font-semibold transition-colors",children:"Continue Session"}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:'Click "Continue Session" to stay logged in'})]}),e.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]}):null},Hbe=({children:t})=>{const[r,a]=b.useState(!1),s=_r(f=>f.sessionDuration),n=_r(f=>f.setSessionDuration),i=_r(f=>f.currentUser),o=Gi(),l=b.useRef(null);gt.useEffect(()=>{i&&(async()=>{try{const p=localStorage.getItem("auth_token");if(!p)return;const g=fh("/api"),x=await fetch(`${g}/security-settings`,{headers:{Authorization:`Bearer ${p}`,Accept:"application/json"}});if(x.ok){const v=await x.json();v.success&&v.data.session_timeout_duration&&n(parseInt(v.data.session_timeout_duration))}}catch(p){console.error("Failed to fetch session timeout settings",p)}})()},[i,n]);const{resetTimer:c,clearTimers:d}=qbe({enabled:!!i,durationSeconds:s||void 0,onWarning:()=>{a(!0),l.current=setTimeout(async()=>{a(!1);const f=_r.getState().logout;await f();const p=document.createElement("div");p.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-[10000]",p.textContent="Session expired due to inactivity. Please log in again.",document.body.appendChild(p),setTimeout(()=>{p.remove()},5e3),o("/",{replace:!0})},3e4)},onTimeout:()=>{a(!1);const f=document.createElement("div");f.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-[10000]",f.textContent="Session expired due to inactivity. Please log in again.",document.body.appendChild(f),setTimeout(()=>{f.remove()},5e3),o("/",{replace:!0})}}),u=()=>{l.current&&(clearTimeout(l.current),l.current=null),a(!1),d(),c()};return e.jsxs(e.Fragment,{children:[t,e.jsx(Vbe,{isOpen:r,onContinue:u,secondsRemaining:30})]})};function Wbe(){return e.jsx(Cq,{children:e.jsx(fB,{})})}function t2({children:t}){const r=Ao(),a=_r(i=>i.currentUser);return _r(i=>i.isLoading)?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):a?a.role==="admin"||a.role==="ssc"||String(a.role).startsWith("ssc")||a.role==="staff"&&a.system_role?t?e.jsx(e.Fragment,{children:t}):e.jsx(Sbe,{}):a.role==="staff"&&!a.system_role?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Staff Access Required"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You need to be registered as staff in the scholarship system to access this dashboard. Please contact your administrator."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 mt-4",children:"Return to Login"})]})}):e.jsx(yy,{to:"/",replace:!0,state:{from:r}}):e.jsx(yy,{to:"/",replace:!0,state:{from:r}})}function Gbe(){return e.jsx(NX,{children:e.jsx(BB,{basename:"/",children:e.jsx(Hbe,{children:e.jsx(p9,{children:e.jsxs(gB,{children:[e.jsx(mo,{path:"/",element:e.jsx(rH,{})}),e.jsxs(mo,{element:e.jsx(Pq,{children:e.jsx(Wbe,{})}),children:[e.jsx(mo,{path:"/portal",element:e.jsx(Rq,{})}),e.jsx(mo,{path:"/new-application",element:e.jsx(XV,{})}),e.jsx(mo,{path:"/renewal",element:e.jsx(BV,{})}),e.jsx(mo,{path:"/scholarship-dashboard",element:e.jsx(KV,{})})]}),e.jsx(mo,{path:"/admin-login",element:e.jsx(QV,{})}),e.jsx(mo,{path:"/admin/school-aid/payment/success",element:e.jsx(t2,{children:e.jsx(aH,{})})}),e.jsx(mo,{path:"/admin/school-aid/payment/cancel",element:e.jsx(t2,{children:e.jsx(nH,{})})}),e.jsx(mo,{path:"/admin/*",element:e.jsx(t2,{})}),e.jsx(mo,{path:"/partner-school",element:e.jsx(Ube,{})}),e.jsx(mo,{path:"*",element:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Page not found"}),e.jsx("a",{href:"/",className:"text-orange-500 hover:text-orange-600 font-medium",children:"Return to Home"})]})})})]})})})})})}N$.createRoot(document.getElementById("root")).render(e.jsx(b.StrictMode,{children:e.jsx(Gbe,{})}));export{ba as _,bo as a,Ybe as c,ml as g};
