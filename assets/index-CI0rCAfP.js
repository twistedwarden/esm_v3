function i7(t,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in t)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var cme=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tf={exports:{}},Ld={},rf={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function l7(){if($2)return Vt;$2=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function g(X){return X===null||typeof X!="object"?null:(X=x&&X[x]||X["@@iterator"],typeof X=="function"?X:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function N(X,z,Ie){this.props=X,this.context=z,this.refs=w,this.updater=Ie||b}N.prototype.isReactComponent={},N.prototype.setState=function(X,z){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,z,"setState")},N.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function _(){}_.prototype=N.prototype;function S(X,z,Ie){this.props=X,this.context=z,this.refs=w,this.updater=Ie||b}var k=S.prototype=new _;k.constructor=S,y(k,N.prototype),k.isPureReactComponent=!0;var v=Array.isArray,A=Object.prototype.hasOwnProperty,E={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function F(X,z,Ie){var ie,Pe={},re=null,Ee=null;if(z!=null)for(ie in z.ref!==void 0&&(Ee=z.ref),z.key!==void 0&&(re=""+z.key),z)A.call(z,ie)&&!T.hasOwnProperty(ie)&&(Pe[ie]=z[ie]);var ke=arguments.length-2;if(ke===1)Pe.children=Ie;else if(1<ke){for(var xe=Array(ke),Q=0;Q<ke;Q++)xe[Q]=arguments[Q+2];Pe.children=xe}if(X&&X.defaultProps)for(ie in ke=X.defaultProps,ke)Pe[ie]===void 0&&(Pe[ie]=ke[ie]);return{$$typeof:t,type:X,key:re,ref:Ee,props:Pe,_owner:E.current}}function R(X,z){return{$$typeof:t,type:X.type,key:z,ref:X.ref,props:X.props,_owner:X._owner}}function D(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function $(X){var z={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Ie){return z[Ie]})}var B=/\/+/g;function H(X,z){return typeof X=="object"&&X!==null&&X.key!=null?$(""+X.key):z.toString(36)}function I(X,z,Ie,ie,Pe){var re=typeof X;(re==="undefined"||re==="boolean")&&(X=null);var Ee=!1;if(X===null)Ee=!0;else switch(re){case"string":case"number":Ee=!0;break;case"object":switch(X.$$typeof){case t:case r:Ee=!0}}if(Ee)return Ee=X,Pe=Pe(Ee),X=ie===""?"."+H(Ee,0):ie,v(Pe)?(Ie="",X!=null&&(Ie=X.replace(B,"$&/")+"/"),I(Pe,z,Ie,"",function(Q){return Q})):Pe!=null&&(D(Pe)&&(Pe=R(Pe,Ie+(!Pe.key||Ee&&Ee.key===Pe.key?"":(""+Pe.key).replace(B,"$&/")+"/")+X)),z.push(Pe)),1;if(Ee=0,ie=ie===""?".":ie+":",v(X))for(var ke=0;ke<X.length;ke++){re=X[ke];var xe=ie+H(re,ke);Ee+=I(re,z,Ie,xe,Pe)}else if(xe=g(X),typeof xe=="function")for(X=xe.call(X),ke=0;!(re=X.next()).done;)re=re.value,xe=ie+H(re,ke++),Ee+=I(re,z,Ie,xe,Pe);else if(re==="object")throw z=String(X),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Ee}function L(X,z,Ie){if(X==null)return X;var ie=[],Pe=0;return I(X,ie,"","",function(re){return z.call(Ie,re,Pe++)}),ie}function M(X){if(X._status===-1){var z=X._result;z=z(),z.then(function(Ie){(X._status===0||X._status===-1)&&(X._status=1,X._result=Ie)},function(Ie){(X._status===0||X._status===-1)&&(X._status=2,X._result=Ie)}),X._status===-1&&(X._status=0,X._result=z)}if(X._status===1)return X._result.default;throw X._result}var q={current:null},Z={transition:null},G={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:Z,ReactCurrentOwner:E};function de(){throw Error("act(...) is not supported in production builds of React.")}return Vt.Children={map:L,forEach:function(X,z,Ie){L(X,function(){z.apply(this,arguments)},Ie)},count:function(X){var z=0;return L(X,function(){z++}),z},toArray:function(X){return L(X,function(z){return z})||[]},only:function(X){if(!D(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Vt.Component=N,Vt.Fragment=s,Vt.Profiler=n,Vt.PureComponent=S,Vt.StrictMode=a,Vt.Suspense=u,Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Vt.act=de,Vt.cloneElement=function(X,z,Ie){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var ie=y({},X.props),Pe=X.key,re=X.ref,Ee=X._owner;if(z!=null){if(z.ref!==void 0&&(re=z.ref,Ee=E.current),z.key!==void 0&&(Pe=""+z.key),X.type&&X.type.defaultProps)var ke=X.type.defaultProps;for(xe in z)A.call(z,xe)&&!T.hasOwnProperty(xe)&&(ie[xe]=z[xe]===void 0&&ke!==void 0?ke[xe]:z[xe])}var xe=arguments.length-2;if(xe===1)ie.children=Ie;else if(1<xe){ke=Array(xe);for(var Q=0;Q<xe;Q++)ke[Q]=arguments[Q+2];ie.children=ke}return{$$typeof:t,type:X.type,key:Pe,ref:re,props:ie,_owner:Ee}},Vt.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:i,_context:X},X.Consumer=X},Vt.createElement=F,Vt.createFactory=function(X){var z=F.bind(null,X);return z.type=X,z},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(X){return{$$typeof:c,render:X}},Vt.isValidElement=D,Vt.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:M}},Vt.memo=function(X,z){return{$$typeof:h,type:X,compare:z===void 0?null:z}},Vt.startTransition=function(X){var z=Z.transition;Z.transition={};try{X()}finally{Z.transition=z}},Vt.unstable_act=de,Vt.useCallback=function(X,z){return q.current.useCallback(X,z)},Vt.useContext=function(X){return q.current.useContext(X)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(X){return q.current.useDeferredValue(X)},Vt.useEffect=function(X,z){return q.current.useEffect(X,z)},Vt.useId=function(){return q.current.useId()},Vt.useImperativeHandle=function(X,z,Ie){return q.current.useImperativeHandle(X,z,Ie)},Vt.useInsertionEffect=function(X,z){return q.current.useInsertionEffect(X,z)},Vt.useLayoutEffect=function(X,z){return q.current.useLayoutEffect(X,z)},Vt.useMemo=function(X,z){return q.current.useMemo(X,z)},Vt.useReducer=function(X,z,Ie){return q.current.useReducer(X,z,Ie)},Vt.useRef=function(X){return q.current.useRef(X)},Vt.useState=function(X){return q.current.useState(X)},Vt.useSyncExternalStore=function(X,z,Ie){return q.current.useSyncExternalStore(X,z,Ie)},Vt.useTransition=function(){return q.current.useTransition()},Vt.version="18.3.1",Vt}var F2;function Lc(){return F2||(F2=1,rf.exports=l7()),rf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2;function o7(){if(B2)return Ld;B2=1;var t=Lc(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,h){var m,x={},g=null,b=null;h!==void 0&&(g=""+h),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(b=u.ref);for(m in u)a.call(u,m)&&!i.hasOwnProperty(m)&&(x[m]=u[m]);if(c&&c.defaultProps)for(m in u=c.defaultProps,u)x[m]===void 0&&(x[m]=u[m]);return{$$typeof:r,type:c,key:g,ref:b,props:x,_owner:n.current}}return Ld.Fragment=s,Ld.jsx=l,Ld.jsxs=l,Ld}var U2;function c7(){return U2||(U2=1,tf.exports=o7()),tf.exports}var e=c7(),f=Lc();const De=xn(f),d7=i7({__proto__:null,default:De},[f]);var w0={},sf={exports:{}},ta={},af={exports:{}},nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z2;function u7(){return z2||(z2=1,(function(t){function r(Z,G){var de=Z.length;Z.push(G);e:for(;0<de;){var X=de-1>>>1,z=Z[X];if(0<n(z,G))Z[X]=G,Z[de]=z,de=X;else break e}}function s(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var G=Z[0],de=Z.pop();if(de!==G){Z[0]=de;e:for(var X=0,z=Z.length,Ie=z>>>1;X<Ie;){var ie=2*(X+1)-1,Pe=Z[ie],re=ie+1,Ee=Z[re];if(0>n(Pe,de))re<z&&0>n(Ee,Pe)?(Z[X]=Ee,Z[re]=de,X=re):(Z[X]=Pe,Z[ie]=de,X=ie);else if(re<z&&0>n(Ee,de))Z[X]=Ee,Z[re]=de,X=re;else break e}}return G}function n(Z,G){var de=Z.sortIndex-G.sortIndex;return de!==0?de:Z.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],h=[],m=1,x=null,g=3,b=!1,y=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Z){for(var G=s(h);G!==null;){if(G.callback===null)a(h);else if(G.startTime<=Z)a(h),G.sortIndex=G.expirationTime,r(u,G);else break;G=s(h)}}function v(Z){if(w=!1,k(Z),!y)if(s(u)!==null)y=!0,M(A);else{var G=s(h);G!==null&&q(v,G.startTime-Z)}}function A(Z,G){y=!1,w&&(w=!1,_(F),F=-1),b=!0;var de=g;try{for(k(G),x=s(u);x!==null&&(!(x.expirationTime>G)||Z&&!$());){var X=x.callback;if(typeof X=="function"){x.callback=null,g=x.priorityLevel;var z=X(x.expirationTime<=G);G=t.unstable_now(),typeof z=="function"?x.callback=z:x===s(u)&&a(u),k(G)}else a(u);x=s(u)}if(x!==null)var Ie=!0;else{var ie=s(h);ie!==null&&q(v,ie.startTime-G),Ie=!1}return Ie}finally{x=null,g=de,b=!1}}var E=!1,T=null,F=-1,R=5,D=-1;function $(){return!(t.unstable_now()-D<R)}function B(){if(T!==null){var Z=t.unstable_now();D=Z;var G=!0;try{G=T(!0,Z)}finally{G?H():(E=!1,T=null)}}else E=!1}var H;if(typeof S=="function")H=function(){S(B)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,L=I.port2;I.port1.onmessage=B,H=function(){L.postMessage(null)}}else H=function(){N(B,0)};function M(Z){T=Z,E||(E=!0,H())}function q(Z,G){F=N(function(){Z(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){y||b||(y=!0,M(A))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return s(u)},t.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var de=g;g=G;try{return Z()}finally{g=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,G){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=g;g=Z;try{return G()}finally{g=de}},t.unstable_scheduleCallback=function(Z,G,de){var X=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?X+de:X):de=X,Z){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=de+z,Z={id:m++,callback:G,priorityLevel:Z,startTime:de,expirationTime:z,sortIndex:-1},de>X?(Z.sortIndex=de,r(h,Z),s(u)===null&&Z===s(h)&&(w?(_(F),F=-1):w=!0,q(v,de-X))):(Z.sortIndex=z,r(u,Z),y||b||(y=!0,M(A))),Z},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(Z){var G=g;return function(){var de=g;g=G;try{return Z.apply(this,arguments)}finally{g=de}}}})(nf)),nf}var V2;function m7(){return V2||(V2=1,af.exports=u7()),af.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q2;function h7(){if(q2)return ta;q2=1;var t=Lc(),r=m7();function s(o){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,n={};function i(o,d){l(o,d),l(o+"Capture",d)}function l(o,d){for(n[o]=d,o=0;o<d.length;o++)a.add(d[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},x={};function g(o){return u.call(x,o)?!0:u.call(m,o)?!1:h.test(o)?x[o]=!0:(m[o]=!0,!1)}function b(o,d,p,j){if(p!==null&&p.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return j?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function y(o,d,p,j){if(d===null||typeof d>"u"||b(o,d,p,j))return!0;if(j)return!1;if(p!==null)switch(p.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function w(o,d,p,j,C,O,U){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=j,this.attributeNamespace=C,this.mustUseProperty=p,this.propertyName=o,this.type=d,this.sanitizeURL=O,this.removeEmptyString=U}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){N[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var d=o[0];N[d]=new w(d,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){N[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){N[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){N[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){N[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){N[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){N[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){N[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function S(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var d=o.replace(_,S);N[d]=new w(d,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var d=o.replace(_,S);N[d]=new w(d,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var d=o.replace(_,S);N[d]=new w(d,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){N[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),N.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){N[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function k(o,d,p,j){var C=N.hasOwnProperty(d)?N[d]:null;(C!==null?C.type!==0:j||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(y(d,p,C,j)&&(p=null),j||C===null?g(d)&&(p===null?o.removeAttribute(d):o.setAttribute(d,""+p)):C.mustUseProperty?o[C.propertyName]=p===null?C.type===3?!1:"":p:(d=C.attributeName,j=C.attributeNamespace,p===null?o.removeAttribute(d):(C=C.type,p=C===3||C===4&&p===!0?"":""+p,j?o.setAttributeNS(j,d,p):o.setAttribute(d,p))))}var v=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),$=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),Z=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=Z&&o[Z]||o["@@iterator"],typeof o=="function"?o:null)}var de=Object.assign,X;function z(o){if(X===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);X=d&&d[1]||""}return`
`+X+o}var Ie=!1;function ie(o,d){if(!o||Ie)return"";Ie=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ae){var j=Ae}Reflect.construct(o,[],d)}else{try{d.call()}catch(Ae){j=Ae}o.call(d.prototype)}else{try{throw Error()}catch(Ae){j=Ae}o()}}catch(Ae){if(Ae&&j&&typeof Ae.stack=="string"){for(var C=Ae.stack.split(`
`),O=j.stack.split(`
`),U=C.length-1,ae=O.length-1;1<=U&&0<=ae&&C[U]!==O[ae];)ae--;for(;1<=U&&0<=ae;U--,ae--)if(C[U]!==O[ae]){if(U!==1||ae!==1)do if(U--,ae--,0>ae||C[U]!==O[ae]){var me=`
`+C[U].replace(" at new "," at ");return o.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",o.displayName)),me}while(1<=U&&0<=ae);break}}}finally{Ie=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?z(o):""}function Pe(o){switch(o.tag){case 5:return z(o.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return o=ie(o.type,!1),o;case 11:return o=ie(o.type.render,!1),o;case 1:return o=ie(o.type,!0),o;default:return""}}function re(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case E:return"Portal";case R:return"Profiler";case F:return"StrictMode";case H:return"Suspense";case I:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case $:return(o.displayName||"Context")+".Consumer";case D:return(o._context.displayName||"Context")+".Provider";case B:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case L:return d=o.displayName||null,d!==null?d:re(o.type)||"Memo";case M:d=o._payload,o=o._init;try{return re(o(d))}catch{}}return null}function Ee(o){var d=o.type;switch(o.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=d.render,o=o.displayName||o.name||"",d.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(d);case 8:return d===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function ke(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function xe(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Q(o){var d=xe(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),j=""+o[d];if(!o.hasOwnProperty(d)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,O=p.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return C.call(this)},set:function(U){j=""+U,O.call(this,U)}}),Object.defineProperty(o,d,{enumerable:p.enumerable}),{getValue:function(){return j},setValue:function(U){j=""+U},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function et(o){o._valueTracker||(o._valueTracker=Q(o))}function ve(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var p=d.getValue(),j="";return o&&(j=xe(o)?o.checked?"true":"false":o.value),o=j,o!==p?(d.setValue(o),!0):!1}function Ze(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Qe(o,d){var p=d.checked;return de({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function ht(o,d){var p=d.defaultValue==null?"":d.defaultValue,j=d.checked!=null?d.checked:d.defaultChecked;p=ke(d.value!=null?d.value:p),o._wrapperState={initialChecked:j,initialValue:p,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function K(o,d){d=d.checked,d!=null&&k(o,"checked",d,!1)}function ne(o,d){K(o,d);var p=ke(d.value),j=d.type;if(p!=null)j==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(j==="submit"||j==="reset"){o.removeAttribute("value");return}d.hasOwnProperty("value")?Xe(o,d.type,p):d.hasOwnProperty("defaultValue")&&Xe(o,d.type,ke(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(o.defaultChecked=!!d.defaultChecked)}function pe(o,d,p){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var j=d.type;if(!(j!=="submit"&&j!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+o._wrapperState.initialValue,p||d===o.value||(o.value=d),o.defaultValue=d}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function Xe(o,d,p){(d!=="number"||Ze(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var ee=Array.isArray;function he(o,d,p,j){if(o=o.options,d){d={};for(var C=0;C<p.length;C++)d["$"+p[C]]=!0;for(p=0;p<o.length;p++)C=d.hasOwnProperty("$"+o[p].value),o[p].selected!==C&&(o[p].selected=C),C&&j&&(o[p].defaultSelected=!0)}else{for(p=""+ke(p),d=null,C=0;C<o.length;C++){if(o[C].value===p){o[C].selected=!0,j&&(o[C].defaultSelected=!0);return}d!==null||o[C].disabled||(d=o[C])}d!==null&&(d.selected=!0)}}function W(o,d){if(d.dangerouslySetInnerHTML!=null)throw Error(s(91));return de({},d,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ye(o,d){var p=d.value;if(p==null){if(p=d.children,d=d.defaultValue,p!=null){if(d!=null)throw Error(s(92));if(ee(p)){if(1<p.length)throw Error(s(93));p=p[0]}d=p}d==null&&(d=""),p=d}o._wrapperState={initialValue:ke(p)}}function P(o,d){var p=ke(d.value),j=ke(d.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),d.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),j!=null&&(o.defaultValue=""+j)}function V(o){var d=o.textContent;d===o._wrapperState.initialValue&&d!==""&&d!==null&&(o.value=d)}function te(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(o,d){return o==null||o==="http://www.w3.org/1999/xhtml"?te(d):o==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Se,at=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,p,j,C){MSApp.execUnsafeLocalFunction(function(){return o(d,p,j,C)})}:o})(function(o,d){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=d;else{for(Se=Se||document.createElement("div"),Se.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Se.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}});function pt(o,d){if(d){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=d;return}}o.textContent=d}var se={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},He=["Webkit","ms","Moz","O"];Object.keys(se).forEach(function(o){He.forEach(function(d){d=d+o.charAt(0).toUpperCase()+o.substring(1),se[d]=se[o]})});function qe(o,d,p){return d==null||typeof d=="boolean"||d===""?"":p||typeof d!="number"||d===0||se.hasOwnProperty(o)&&se[o]?(""+d).trim():d+"px"}function J(o,d){o=o.style;for(var p in d)if(d.hasOwnProperty(p)){var j=p.indexOf("--")===0,C=qe(p,d[p],j);p==="float"&&(p="cssFloat"),j?o.setProperty(p,C):o[p]=C}}var ce=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $e(o,d){if(d){if(ce[o]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(s(137,o));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(s(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(s(61))}if(d.style!=null&&typeof d.style!="object")throw Error(s(62))}}function nt(o,d){if(o.indexOf("-")===-1)return typeof d.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qt=null;function Gt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ce=null,Re=null,Ke=null;function Tt(o){if(o=jd(o)){if(typeof Ce!="function")throw Error(s(280));var d=o.stateNode;d&&(d=Mm(d),Ce(o.stateNode,o.type,d))}}function le(o){Re?Ke?Ke.push(o):Ke=[o]:Re=o}function Oe(){if(Re){var o=Re,d=Ke;if(Ke=Re=null,Tt(o),d)for(o=0;o<d.length;o++)Tt(d[o])}}function Ue(o,d){return o(d)}function ue(){}var ze=!1;function fe(o,d,p){if(ze)return o(d,p);ze=!0;try{return Ue(o,d,p)}finally{ze=!1,(Re!==null||Ke!==null)&&(ue(),Oe())}}function Ge(o,d){var p=o.stateNode;if(p===null)return null;var j=Mm(p);if(j===null)return null;p=j[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(o=o.type,j=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!j;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(s(231,d,typeof p));return p}var tt=!1;if(c)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){tt=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{tt=!1}function oe(o,d,p,j,C,O,U,ae,me){var Ae=Array.prototype.slice.call(arguments,3);try{d.apply(p,Ae)}catch(Ye){this.onError(Ye)}}var Fe=!1,Me=null,Pt=!1,Ct=null,Ks={onError:function(o){Fe=!0,Me=o}};function Gr(o,d,p,j,C,O,U,ae,me){Fe=!1,Me=null,oe.apply(Ks,arguments)}function ga(o,d,p,j,C,O,U,ae,me){if(Gr.apply(this,arguments),Fe){if(Fe){var Ae=Me;Fe=!1,Me=null}else throw Error(s(198));Pt||(Pt=!0,Ct=Ae)}}function fs(o){var d=o,p=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(p=d.return),o=d.return;while(o)}return d.tag===3?p:null}function pn(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function Tl(o){if(fs(o)!==o)throw Error(s(188))}function Rn(o){var d=o.alternate;if(!d){if(d=fs(o),d===null)throw Error(s(188));return d!==o?null:o}for(var p=o,j=d;;){var C=p.return;if(C===null)break;var O=C.alternate;if(O===null){if(j=C.return,j!==null){p=j;continue}break}if(C.child===O.child){for(O=C.child;O;){if(O===p)return Tl(C),o;if(O===j)return Tl(C),d;O=O.sibling}throw Error(s(188))}if(p.return!==j.return)p=C,j=O;else{for(var U=!1,ae=C.child;ae;){if(ae===p){U=!0,p=C,j=O;break}if(ae===j){U=!0,j=C,p=O;break}ae=ae.sibling}if(!U){for(ae=O.child;ae;){if(ae===p){U=!0,p=O,j=C;break}if(ae===j){U=!0,j=O,p=C;break}ae=ae.sibling}if(!U)throw Error(s(189))}}if(p.alternate!==j)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?o:d}function Eo(o){return o=Rn(o),o!==null?To(o):null}function To(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var d=To(o);if(d!==null)return d;o=o.sibling}return null}var Do=r.unstable_scheduleCallback,Xn=r.unstable_cancelCallback,vg=r.unstable_shouldYield,ym=r.unstable_requestPaint,kr=r.unstable_now,wg=r.unstable_getCurrentPriorityLevel,Y=r.unstable_ImmediatePriority,we=r.unstable_UserBlockingPriority,Be=r.unstable_NormalPriority,At=r.unstable_LowPriority,_t=r.unstable_IdlePriority,Qt=null,Kt=null;function $r(o){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Qt,o,void 0,(o.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:sd,Ro=Math.log,_s=Math.LN2;function sd(o){return o>>>=0,o===0?32:31-(Ro(o)/_s|0)|0}var Bi=64,bm=4194304;function ad(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function vm(o,d){var p=o.pendingLanes;if(p===0)return 0;var j=0,C=o.suspendedLanes,O=o.pingedLanes,U=p&268435455;if(U!==0){var ae=U&~C;ae!==0?j=ad(ae):(O&=U,O!==0&&(j=ad(O)))}else U=p&~C,U!==0?j=ad(U):O!==0&&(j=ad(O));if(j===0)return 0;if(d!==0&&d!==j&&(d&C)===0&&(C=j&-j,O=d&-d,C>=O||C===16&&(O&4194240)!==0))return d;if((j&4)!==0&&(j|=p&16),d=o.entangledLanes,d!==0)for(o=o.entanglements,d&=j;0<d;)p=31-Fr(d),C=1<<p,j|=o[p],d&=~C;return j}function SI(o,d){switch(o){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _I(o,d){for(var p=o.suspendedLanes,j=o.pingedLanes,C=o.expirationTimes,O=o.pendingLanes;0<O;){var U=31-Fr(O),ae=1<<U,me=C[U];me===-1?((ae&p)===0||(ae&j)!==0)&&(C[U]=SI(ae,d)):me<=d&&(o.expiredLanes|=ae),O&=~ae}}function jg(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function gk(){var o=Bi;return Bi<<=1,(Bi&4194240)===0&&(Bi=64),o}function Ng(o){for(var d=[],p=0;31>p;p++)d.push(o);return d}function nd(o,d,p){o.pendingLanes|=d,d!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,d=31-Fr(d),o[d]=p}function AI(o,d){var p=o.pendingLanes&~d;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=d,o.mutableReadLanes&=d,o.entangledLanes&=d,d=o.entanglements;var j=o.eventTimes;for(o=o.expirationTimes;0<p;){var C=31-Fr(p),O=1<<C;d[C]=0,j[C]=-1,o[C]=-1,p&=~O}}function kg(o,d){var p=o.entangledLanes|=d;for(o=o.entanglements;p;){var j=31-Fr(p),C=1<<j;C&d|o[j]&d&&(o[j]|=d),p&=~C}}var ar=0;function pk(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var fk,Sg,yk,bk,vk,_g=!1,wm=[],Ui=null,zi=null,Vi=null,id=new Map,ld=new Map,qi=[],CI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wk(o,d){switch(o){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":id.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ld.delete(d.pointerId)}}function od(o,d,p,j,C,O){return o===null||o.nativeEvent!==O?(o={blockedOn:d,domEventName:p,eventSystemFlags:j,nativeEvent:O,targetContainers:[C]},d!==null&&(d=jd(d),d!==null&&Sg(d)),o):(o.eventSystemFlags|=j,d=o.targetContainers,C!==null&&d.indexOf(C)===-1&&d.push(C),o)}function PI(o,d,p,j,C){switch(d){case"focusin":return Ui=od(Ui,o,d,p,j,C),!0;case"dragenter":return zi=od(zi,o,d,p,j,C),!0;case"mouseover":return Vi=od(Vi,o,d,p,j,C),!0;case"pointerover":var O=C.pointerId;return id.set(O,od(id.get(O)||null,o,d,p,j,C)),!0;case"gotpointercapture":return O=C.pointerId,ld.set(O,od(ld.get(O)||null,o,d,p,j,C)),!0}return!1}function jk(o){var d=Dl(o.target);if(d!==null){var p=fs(d);if(p!==null){if(d=p.tag,d===13){if(d=pn(p),d!==null){o.blockedOn=d,vk(o.priority,function(){yk(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function jm(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var p=Cg(o.domEventName,o.eventSystemFlags,d[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var j=new p.constructor(p.type,p);qt=j,p.target.dispatchEvent(j),qt=null}else return d=jd(p),d!==null&&Sg(d),o.blockedOn=p,!1;d.shift()}return!0}function Nk(o,d,p){jm(o)&&p.delete(d)}function EI(){_g=!1,Ui!==null&&jm(Ui)&&(Ui=null),zi!==null&&jm(zi)&&(zi=null),Vi!==null&&jm(Vi)&&(Vi=null),id.forEach(Nk),ld.forEach(Nk)}function cd(o,d){o.blockedOn===d&&(o.blockedOn=null,_g||(_g=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,EI)))}function dd(o){function d(C){return cd(C,o)}if(0<wm.length){cd(wm[0],o);for(var p=1;p<wm.length;p++){var j=wm[p];j.blockedOn===o&&(j.blockedOn=null)}}for(Ui!==null&&cd(Ui,o),zi!==null&&cd(zi,o),Vi!==null&&cd(Vi,o),id.forEach(d),ld.forEach(d),p=0;p<qi.length;p++)j=qi[p],j.blockedOn===o&&(j.blockedOn=null);for(;0<qi.length&&(p=qi[0],p.blockedOn===null);)jk(p),p.blockedOn===null&&qi.shift()}var Oo=v.ReactCurrentBatchConfig,Nm=!0;function TI(o,d,p,j){var C=ar,O=Oo.transition;Oo.transition=null;try{ar=1,Ag(o,d,p,j)}finally{ar=C,Oo.transition=O}}function DI(o,d,p,j){var C=ar,O=Oo.transition;Oo.transition=null;try{ar=4,Ag(o,d,p,j)}finally{ar=C,Oo.transition=O}}function Ag(o,d,p,j){if(Nm){var C=Cg(o,d,p,j);if(C===null)Hg(o,d,j,km,p),wk(o,j);else if(PI(C,o,d,p,j))j.stopPropagation();else if(wk(o,j),d&4&&-1<CI.indexOf(o)){for(;C!==null;){var O=jd(C);if(O!==null&&fk(O),O=Cg(o,d,p,j),O===null&&Hg(o,d,j,km,p),O===C)break;C=O}C!==null&&j.stopPropagation()}else Hg(o,d,j,null,p)}}var km=null;function Cg(o,d,p,j){if(km=null,o=Gt(j),o=Dl(o),o!==null)if(d=fs(o),d===null)o=null;else if(p=d.tag,p===13){if(o=pn(d),o!==null)return o;o=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null);return km=o,null}function kk(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wg()){case Y:return 1;case we:return 4;case Be:case At:return 16;case _t:return 536870912;default:return 16}default:return 16}}var Hi=null,Pg=null,Sm=null;function Sk(){if(Sm)return Sm;var o,d=Pg,p=d.length,j,C="value"in Hi?Hi.value:Hi.textContent,O=C.length;for(o=0;o<p&&d[o]===C[o];o++);var U=p-o;for(j=1;j<=U&&d[p-j]===C[O-j];j++);return Sm=C.slice(o,1<j?1-j:void 0)}function _m(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function Am(){return!0}function _k(){return!1}function pa(o){function d(p,j,C,O,U){this._reactName=p,this._targetInst=C,this.type=j,this.nativeEvent=O,this.target=U,this.currentTarget=null;for(var ae in o)o.hasOwnProperty(ae)&&(p=o[ae],this[ae]=p?p(O):O[ae]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Am:_k,this.isPropagationStopped=_k,this}return de(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Am)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Am)},persist:function(){},isPersistent:Am}),d}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eg=pa(Io),ud=de({},Io,{view:0,detail:0}),RI=pa(ud),Tg,Dg,md,Cm=de({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Og,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==md&&(md&&o.type==="mousemove"?(Tg=o.screenX-md.screenX,Dg=o.screenY-md.screenY):Dg=Tg=0,md=o),Tg)},movementY:function(o){return"movementY"in o?o.movementY:Dg}}),Ak=pa(Cm),OI=de({},Cm,{dataTransfer:0}),II=pa(OI),MI=de({},ud,{relatedTarget:0}),Rg=pa(MI),LI=de({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),$I=pa(LI),FI=de({},Io,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),BI=pa(FI),UI=de({},Io,{data:0}),Ck=pa(UI),zI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HI(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=qI[o])?!!d[o]:!1}function Og(){return HI}var GI=de({},ud,{key:function(o){if(o.key){var d=zI[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=_m(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?VI[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Og,charCode:function(o){return o.type==="keypress"?_m(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?_m(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),WI=pa(GI),YI=de({},Cm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pk=pa(YI),KI=de({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Og}),JI=pa(KI),XI=de({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZI=pa(XI),QI=de({},Cm,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),eM=pa(QI),tM=[9,13,27,32],Ig=c&&"CompositionEvent"in window,hd=null;c&&"documentMode"in document&&(hd=document.documentMode);var rM=c&&"TextEvent"in window&&!hd,Ek=c&&(!Ig||hd&&8<hd&&11>=hd),Tk=" ",Dk=!1;function Rk(o,d){switch(o){case"keyup":return tM.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ok(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Mo=!1;function sM(o,d){switch(o){case"compositionend":return Ok(d);case"keypress":return d.which!==32?null:(Dk=!0,Tk);case"textInput":return o=d.data,o===Tk&&Dk?null:o;default:return null}}function aM(o,d){if(Mo)return o==="compositionend"||!Ig&&Rk(o,d)?(o=Sk(),Sm=Pg=Hi=null,Mo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ek&&d.locale!=="ko"?null:d.data;default:return null}}var nM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ik(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!nM[o.type]:d==="textarea"}function Mk(o,d,p,j){le(j),d=Rm(d,"onChange"),0<d.length&&(p=new Eg("onChange","change",null,p,j),o.push({event:p,listeners:d}))}var xd=null,gd=null;function iM(o){e1(o,0)}function Pm(o){var d=Uo(o);if(ve(d))return o}function lM(o,d){if(o==="change")return d}var Lk=!1;if(c){var Mg;if(c){var Lg="oninput"in document;if(!Lg){var $k=document.createElement("div");$k.setAttribute("oninput","return;"),Lg=typeof $k.oninput=="function"}Mg=Lg}else Mg=!1;Lk=Mg&&(!document.documentMode||9<document.documentMode)}function Fk(){xd&&(xd.detachEvent("onpropertychange",Bk),gd=xd=null)}function Bk(o){if(o.propertyName==="value"&&Pm(gd)){var d=[];Mk(d,gd,o,Gt(o)),fe(iM,d)}}function oM(o,d,p){o==="focusin"?(Fk(),xd=d,gd=p,xd.attachEvent("onpropertychange",Bk)):o==="focusout"&&Fk()}function cM(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Pm(gd)}function dM(o,d){if(o==="click")return Pm(d)}function uM(o,d){if(o==="input"||o==="change")return Pm(d)}function mM(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var fn=typeof Object.is=="function"?Object.is:mM;function pd(o,d){if(fn(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var p=Object.keys(o),j=Object.keys(d);if(p.length!==j.length)return!1;for(j=0;j<p.length;j++){var C=p[j];if(!u.call(d,C)||!fn(o[C],d[C]))return!1}return!0}function Uk(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function zk(o,d){var p=Uk(o);o=0;for(var j;p;){if(p.nodeType===3){if(j=o+p.textContent.length,o<=d&&j>=d)return{node:p,offset:d-o};o=j}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Uk(p)}}function Vk(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?Vk(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function qk(){for(var o=window,d=Ze();d instanceof o.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)o=d.contentWindow;else break;d=Ze(o.document)}return d}function $g(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}function hM(o){var d=qk(),p=o.focusedElem,j=o.selectionRange;if(d!==p&&p&&p.ownerDocument&&Vk(p.ownerDocument.documentElement,p)){if(j!==null&&$g(p)){if(d=j.start,o=j.end,o===void 0&&(o=d),"selectionStart"in p)p.selectionStart=d,p.selectionEnd=Math.min(o,p.value.length);else if(o=(d=p.ownerDocument||document)&&d.defaultView||window,o.getSelection){o=o.getSelection();var C=p.textContent.length,O=Math.min(j.start,C);j=j.end===void 0?O:Math.min(j.end,C),!o.extend&&O>j&&(C=j,j=O,O=C),C=zk(p,O);var U=zk(p,j);C&&U&&(o.rangeCount!==1||o.anchorNode!==C.node||o.anchorOffset!==C.offset||o.focusNode!==U.node||o.focusOffset!==U.offset)&&(d=d.createRange(),d.setStart(C.node,C.offset),o.removeAllRanges(),O>j?(o.addRange(d),o.extend(U.node,U.offset)):(d.setEnd(U.node,U.offset),o.addRange(d)))}}for(d=[],o=p;o=o.parentNode;)o.nodeType===1&&d.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<d.length;p++)o=d[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var xM=c&&"documentMode"in document&&11>=document.documentMode,Lo=null,Fg=null,fd=null,Bg=!1;function Hk(o,d,p){var j=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Bg||Lo==null||Lo!==Ze(j)||(j=Lo,"selectionStart"in j&&$g(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),fd&&pd(fd,j)||(fd=j,j=Rm(Fg,"onSelect"),0<j.length&&(d=new Eg("onSelect","select",null,d,p),o.push({event:d,listeners:j}),d.target=Lo)))}function Em(o,d){var p={};return p[o.toLowerCase()]=d.toLowerCase(),p["Webkit"+o]="webkit"+d,p["Moz"+o]="moz"+d,p}var $o={animationend:Em("Animation","AnimationEnd"),animationiteration:Em("Animation","AnimationIteration"),animationstart:Em("Animation","AnimationStart"),transitionend:Em("Transition","TransitionEnd")},Ug={},Gk={};c&&(Gk=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Tm(o){if(Ug[o])return Ug[o];if(!$o[o])return o;var d=$o[o],p;for(p in d)if(d.hasOwnProperty(p)&&p in Gk)return Ug[o]=d[p];return o}var Wk=Tm("animationend"),Yk=Tm("animationiteration"),Kk=Tm("animationstart"),Jk=Tm("transitionend"),Xk=new Map,Zk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(o,d){Xk.set(o,d),i(d,[o])}for(var zg=0;zg<Zk.length;zg++){var Vg=Zk[zg],gM=Vg.toLowerCase(),pM=Vg[0].toUpperCase()+Vg.slice(1);Gi(gM,"on"+pM)}Gi(Wk,"onAnimationEnd"),Gi(Yk,"onAnimationIteration"),Gi(Kk,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(Jk,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fM=new Set("cancel close invalid load scroll toggle".split(" ").concat(yd));function Qk(o,d,p){var j=o.type||"unknown-event";o.currentTarget=p,ga(j,d,void 0,o),o.currentTarget=null}function e1(o,d){d=(d&4)!==0;for(var p=0;p<o.length;p++){var j=o[p],C=j.event;j=j.listeners;e:{var O=void 0;if(d)for(var U=j.length-1;0<=U;U--){var ae=j[U],me=ae.instance,Ae=ae.currentTarget;if(ae=ae.listener,me!==O&&C.isPropagationStopped())break e;Qk(C,ae,Ae),O=me}else for(U=0;U<j.length;U++){if(ae=j[U],me=ae.instance,Ae=ae.currentTarget,ae=ae.listener,me!==O&&C.isPropagationStopped())break e;Qk(C,ae,Ae),O=me}}}if(Pt)throw o=Ct,Pt=!1,Ct=null,o}function gr(o,d){var p=d[Xg];p===void 0&&(p=d[Xg]=new Set);var j=o+"__bubble";p.has(j)||(t1(d,o,2,!1),p.add(j))}function qg(o,d,p){var j=0;d&&(j|=4),t1(p,o,j,d)}var Dm="_reactListening"+Math.random().toString(36).slice(2);function bd(o){if(!o[Dm]){o[Dm]=!0,a.forEach(function(p){p!=="selectionchange"&&(fM.has(p)||qg(p,!1,o),qg(p,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[Dm]||(d[Dm]=!0,qg("selectionchange",!1,d))}}function t1(o,d,p,j){switch(kk(d)){case 1:var C=TI;break;case 4:C=DI;break;default:C=Ag}p=C.bind(null,d,p,o),C=void 0,!tt||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(C=!0),j?C!==void 0?o.addEventListener(d,p,{capture:!0,passive:C}):o.addEventListener(d,p,!0):C!==void 0?o.addEventListener(d,p,{passive:C}):o.addEventListener(d,p,!1)}function Hg(o,d,p,j,C){var O=j;if((d&1)===0&&(d&2)===0&&j!==null)e:for(;;){if(j===null)return;var U=j.tag;if(U===3||U===4){var ae=j.stateNode.containerInfo;if(ae===C||ae.nodeType===8&&ae.parentNode===C)break;if(U===4)for(U=j.return;U!==null;){var me=U.tag;if((me===3||me===4)&&(me=U.stateNode.containerInfo,me===C||me.nodeType===8&&me.parentNode===C))return;U=U.return}for(;ae!==null;){if(U=Dl(ae),U===null)return;if(me=U.tag,me===5||me===6){j=O=U;continue e}ae=ae.parentNode}}j=j.return}fe(function(){var Ae=O,Ye=Gt(p),Je=[];e:{var We=Xk.get(o);if(We!==void 0){var mt=Eg,ft=o;switch(o){case"keypress":if(_m(p)===0)break e;case"keydown":case"keyup":mt=WI;break;case"focusin":ft="focus",mt=Rg;break;case"focusout":ft="blur",mt=Rg;break;case"beforeblur":case"afterblur":mt=Rg;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Ak;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=II;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=JI;break;case Wk:case Yk:case Kk:mt=$I;break;case Jk:mt=ZI;break;case"scroll":mt=RI;break;case"wheel":mt=eM;break;case"copy":case"cut":case"paste":mt=BI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=Pk}var vt=(d&4)!==0,Br=!vt&&o==="scroll",be=vt?We!==null?We+"Capture":null:We;vt=[];for(var ge=Ae,je;ge!==null;){je=ge;var st=je.stateNode;if(je.tag===5&&st!==null&&(je=st,be!==null&&(st=Ge(ge,be),st!=null&&vt.push(vd(ge,st,je)))),Br)break;ge=ge.return}0<vt.length&&(We=new mt(We,ft,null,p,Ye),Je.push({event:We,listeners:vt}))}}if((d&7)===0){e:{if(We=o==="mouseover"||o==="pointerover",mt=o==="mouseout"||o==="pointerout",We&&p!==qt&&(ft=p.relatedTarget||p.fromElement)&&(Dl(ft)||ft[Zn]))break e;if((mt||We)&&(We=Ye.window===Ye?Ye:(We=Ye.ownerDocument)?We.defaultView||We.parentWindow:window,mt?(ft=p.relatedTarget||p.toElement,mt=Ae,ft=ft?Dl(ft):null,ft!==null&&(Br=fs(ft),ft!==Br||ft.tag!==5&&ft.tag!==6)&&(ft=null)):(mt=null,ft=Ae),mt!==ft)){if(vt=Ak,st="onMouseLeave",be="onMouseEnter",ge="mouse",(o==="pointerout"||o==="pointerover")&&(vt=Pk,st="onPointerLeave",be="onPointerEnter",ge="pointer"),Br=mt==null?We:Uo(mt),je=ft==null?We:Uo(ft),We=new vt(st,ge+"leave",mt,p,Ye),We.target=Br,We.relatedTarget=je,st=null,Dl(Ye)===Ae&&(vt=new vt(be,ge+"enter",ft,p,Ye),vt.target=je,vt.relatedTarget=Br,st=vt),Br=st,mt&&ft)t:{for(vt=mt,be=ft,ge=0,je=vt;je;je=Fo(je))ge++;for(je=0,st=be;st;st=Fo(st))je++;for(;0<ge-je;)vt=Fo(vt),ge--;for(;0<je-ge;)be=Fo(be),je--;for(;ge--;){if(vt===be||be!==null&&vt===be.alternate)break t;vt=Fo(vt),be=Fo(be)}vt=null}else vt=null;mt!==null&&r1(Je,We,mt,vt,!1),ft!==null&&Br!==null&&r1(Je,Br,ft,vt,!0)}}e:{if(We=Ae?Uo(Ae):window,mt=We.nodeName&&We.nodeName.toLowerCase(),mt==="select"||mt==="input"&&We.type==="file")var St=lM;else if(Ik(We))if(Lk)St=uM;else{St=cM;var Dt=oM}else(mt=We.nodeName)&&mt.toLowerCase()==="input"&&(We.type==="checkbox"||We.type==="radio")&&(St=dM);if(St&&(St=St(o,Ae))){Mk(Je,St,p,Ye);break e}Dt&&Dt(o,We,Ae),o==="focusout"&&(Dt=We._wrapperState)&&Dt.controlled&&We.type==="number"&&Xe(We,"number",We.value)}switch(Dt=Ae?Uo(Ae):window,o){case"focusin":(Ik(Dt)||Dt.contentEditable==="true")&&(Lo=Dt,Fg=Ae,fd=null);break;case"focusout":fd=Fg=Lo=null;break;case"mousedown":Bg=!0;break;case"contextmenu":case"mouseup":case"dragend":Bg=!1,Hk(Je,p,Ye);break;case"selectionchange":if(xM)break;case"keydown":case"keyup":Hk(Je,p,Ye)}var Rt;if(Ig)e:{switch(o){case"compositionstart":var Mt="onCompositionStart";break e;case"compositionend":Mt="onCompositionEnd";break e;case"compositionupdate":Mt="onCompositionUpdate";break e}Mt=void 0}else Mo?Rk(o,p)&&(Mt="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Mt="onCompositionStart");Mt&&(Ek&&p.locale!=="ko"&&(Mo||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Mo&&(Rt=Sk()):(Hi=Ye,Pg="value"in Hi?Hi.value:Hi.textContent,Mo=!0)),Dt=Rm(Ae,Mt),0<Dt.length&&(Mt=new Ck(Mt,o,null,p,Ye),Je.push({event:Mt,listeners:Dt}),Rt?Mt.data=Rt:(Rt=Ok(p),Rt!==null&&(Mt.data=Rt)))),(Rt=rM?sM(o,p):aM(o,p))&&(Ae=Rm(Ae,"onBeforeInput"),0<Ae.length&&(Ye=new Ck("onBeforeInput","beforeinput",null,p,Ye),Je.push({event:Ye,listeners:Ae}),Ye.data=Rt))}e1(Je,d)})}function vd(o,d,p){return{instance:o,listener:d,currentTarget:p}}function Rm(o,d){for(var p=d+"Capture",j=[];o!==null;){var C=o,O=C.stateNode;C.tag===5&&O!==null&&(C=O,O=Ge(o,p),O!=null&&j.unshift(vd(o,O,C)),O=Ge(o,d),O!=null&&j.push(vd(o,O,C))),o=o.return}return j}function Fo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function r1(o,d,p,j,C){for(var O=d._reactName,U=[];p!==null&&p!==j;){var ae=p,me=ae.alternate,Ae=ae.stateNode;if(me!==null&&me===j)break;ae.tag===5&&Ae!==null&&(ae=Ae,C?(me=Ge(p,O),me!=null&&U.unshift(vd(p,me,ae))):C||(me=Ge(p,O),me!=null&&U.push(vd(p,me,ae)))),p=p.return}U.length!==0&&o.push({event:d,listeners:U})}var yM=/\r\n?/g,bM=/\u0000|\uFFFD/g;function s1(o){return(typeof o=="string"?o:""+o).replace(yM,`
`).replace(bM,"")}function Om(o,d,p){if(d=s1(d),s1(o)!==d&&p)throw Error(s(425))}function Im(){}var Gg=null,Wg=null;function Yg(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Kg=typeof setTimeout=="function"?setTimeout:void 0,vM=typeof clearTimeout=="function"?clearTimeout:void 0,a1=typeof Promise=="function"?Promise:void 0,wM=typeof queueMicrotask=="function"?queueMicrotask:typeof a1<"u"?function(o){return a1.resolve(null).then(o).catch(jM)}:Kg;function jM(o){setTimeout(function(){throw o})}function Jg(o,d){var p=d,j=0;do{var C=p.nextSibling;if(o.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(j===0){o.removeChild(C),dd(d);return}j--}else p!=="$"&&p!=="$?"&&p!=="$!"||j++;p=C}while(p);dd(d)}function Wi(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return o}function n1(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return o;d--}else p==="/$"&&d++}o=o.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),On="__reactFiber$"+Bo,wd="__reactProps$"+Bo,Zn="__reactContainer$"+Bo,Xg="__reactEvents$"+Bo,NM="__reactListeners$"+Bo,kM="__reactHandles$"+Bo;function Dl(o){var d=o[On];if(d)return d;for(var p=o.parentNode;p;){if(d=p[Zn]||p[On]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(o=n1(o);o!==null;){if(p=o[On])return p;o=n1(o)}return d}o=p,p=o.parentNode}return null}function jd(o){return o=o[On]||o[Zn],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Uo(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(s(33))}function Mm(o){return o[wd]||null}var Zg=[],zo=-1;function Yi(o){return{current:o}}function pr(o){0>zo||(o.current=Zg[zo],Zg[zo]=null,zo--)}function mr(o,d){zo++,Zg[zo]=o.current,o.current=d}var Ki={},As=Yi(Ki),Js=Yi(!1),Rl=Ki;function Vo(o,d){var p=o.type.contextTypes;if(!p)return Ki;var j=o.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===d)return j.__reactInternalMemoizedMaskedChildContext;var C={},O;for(O in p)C[O]=d[O];return j&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=d,o.__reactInternalMemoizedMaskedChildContext=C),C}function Xs(o){return o=o.childContextTypes,o!=null}function Lm(){pr(Js),pr(As)}function i1(o,d,p){if(As.current!==Ki)throw Error(s(168));mr(As,d),mr(Js,p)}function l1(o,d,p){var j=o.stateNode;if(d=d.childContextTypes,typeof j.getChildContext!="function")return p;j=j.getChildContext();for(var C in j)if(!(C in d))throw Error(s(108,Ee(o)||"Unknown",C));return de({},p,j)}function $m(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ki,Rl=As.current,mr(As,o),mr(Js,Js.current),!0}function o1(o,d,p){var j=o.stateNode;if(!j)throw Error(s(169));p?(o=l1(o,d,Rl),j.__reactInternalMemoizedMergedChildContext=o,pr(Js),pr(As),mr(As,o)):pr(Js),mr(Js,p)}var Qn=null,Fm=!1,Qg=!1;function c1(o){Qn===null?Qn=[o]:Qn.push(o)}function SM(o){Fm=!0,c1(o)}function Ji(){if(!Qg&&Qn!==null){Qg=!0;var o=0,d=ar;try{var p=Qn;for(ar=1;o<p.length;o++){var j=p[o];do j=j(!0);while(j!==null)}Qn=null,Fm=!1}catch(C){throw Qn!==null&&(Qn=Qn.slice(o+1)),Do(Y,Ji),C}finally{ar=d,Qg=!1}}return null}var qo=[],Ho=0,Bm=null,Um=0,za=[],Va=0,Ol=null,ei=1,ti="";function Il(o,d){qo[Ho++]=Um,qo[Ho++]=Bm,Bm=o,Um=d}function d1(o,d,p){za[Va++]=ei,za[Va++]=ti,za[Va++]=Ol,Ol=o;var j=ei;o=ti;var C=32-Fr(j)-1;j&=~(1<<C),p+=1;var O=32-Fr(d)+C;if(30<O){var U=C-C%5;O=(j&(1<<U)-1).toString(32),j>>=U,C-=U,ei=1<<32-Fr(d)+C|p<<C|j,ti=O+o}else ei=1<<O|p<<C|j,ti=o}function ep(o){o.return!==null&&(Il(o,1),d1(o,1,0))}function tp(o){for(;o===Bm;)Bm=qo[--Ho],qo[Ho]=null,Um=qo[--Ho],qo[Ho]=null;for(;o===Ol;)Ol=za[--Va],za[Va]=null,ti=za[--Va],za[Va]=null,ei=za[--Va],za[Va]=null}var fa=null,ya=null,yr=!1,yn=null;function u1(o,d){var p=Wa(5,null,null,0);p.elementType="DELETED",p.stateNode=d,p.return=o,d=o.deletions,d===null?(o.deletions=[p],o.flags|=16):d.push(p)}function m1(o,d){switch(o.tag){case 5:var p=o.type;return d=d.nodeType!==1||p.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(o.stateNode=d,fa=o,ya=Wi(d.firstChild),!0):!1;case 6:return d=o.pendingProps===""||d.nodeType!==3?null:d,d!==null?(o.stateNode=d,fa=o,ya=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(p=Ol!==null?{id:ei,overflow:ti}:null,o.memoizedState={dehydrated:d,treeContext:p,retryLane:1073741824},p=Wa(18,null,null,0),p.stateNode=d,p.return=o,o.child=p,fa=o,ya=null,!0):!1;default:return!1}}function rp(o){return(o.mode&1)!==0&&(o.flags&128)===0}function sp(o){if(yr){var d=ya;if(d){var p=d;if(!m1(o,d)){if(rp(o))throw Error(s(418));d=Wi(p.nextSibling);var j=fa;d&&m1(o,d)?u1(j,p):(o.flags=o.flags&-4097|2,yr=!1,fa=o)}}else{if(rp(o))throw Error(s(418));o.flags=o.flags&-4097|2,yr=!1,fa=o}}}function h1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;fa=o}function zm(o){if(o!==fa)return!1;if(!yr)return h1(o),yr=!0,!1;var d;if((d=o.tag!==3)&&!(d=o.tag!==5)&&(d=o.type,d=d!=="head"&&d!=="body"&&!Yg(o.type,o.memoizedProps)),d&&(d=ya)){if(rp(o))throw x1(),Error(s(418));for(;d;)u1(o,d),d=Wi(d.nextSibling)}if(h1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(d===0){ya=Wi(o.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++}o=o.nextSibling}ya=null}}else ya=fa?Wi(o.stateNode.nextSibling):null;return!0}function x1(){for(var o=ya;o;)o=Wi(o.nextSibling)}function Go(){ya=fa=null,yr=!1}function ap(o){yn===null?yn=[o]:yn.push(o)}var _M=v.ReactCurrentBatchConfig;function Nd(o,d,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(s(309));var j=p.stateNode}if(!j)throw Error(s(147,o));var C=j,O=""+o;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===O?d.ref:(d=function(U){var ae=C.refs;U===null?delete ae[O]:ae[O]=U},d._stringRef=O,d)}if(typeof o!="string")throw Error(s(284));if(!p._owner)throw Error(s(290,o))}return o}function Vm(o,d){throw o=Object.prototype.toString.call(d),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o))}function g1(o){var d=o._init;return d(o._payload)}function p1(o){function d(be,ge){if(o){var je=be.deletions;je===null?(be.deletions=[ge],be.flags|=16):je.push(ge)}}function p(be,ge){if(!o)return null;for(;ge!==null;)d(be,ge),ge=ge.sibling;return null}function j(be,ge){for(be=new Map;ge!==null;)ge.key!==null?be.set(ge.key,ge):be.set(ge.index,ge),ge=ge.sibling;return be}function C(be,ge){return be=al(be,ge),be.index=0,be.sibling=null,be}function O(be,ge,je){return be.index=je,o?(je=be.alternate,je!==null?(je=je.index,je<ge?(be.flags|=2,ge):je):(be.flags|=2,ge)):(be.flags|=1048576,ge)}function U(be){return o&&be.alternate===null&&(be.flags|=2),be}function ae(be,ge,je,st){return ge===null||ge.tag!==6?(ge=Kp(je,be.mode,st),ge.return=be,ge):(ge=C(ge,je),ge.return=be,ge)}function me(be,ge,je,st){var St=je.type;return St===T?Ye(be,ge,je.props.children,st,je.key):ge!==null&&(ge.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===M&&g1(St)===ge.type)?(st=C(ge,je.props),st.ref=Nd(be,ge,je),st.return=be,st):(st=h0(je.type,je.key,je.props,null,be.mode,st),st.ref=Nd(be,ge,je),st.return=be,st)}function Ae(be,ge,je,st){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==je.containerInfo||ge.stateNode.implementation!==je.implementation?(ge=Jp(je,be.mode,st),ge.return=be,ge):(ge=C(ge,je.children||[]),ge.return=be,ge)}function Ye(be,ge,je,st,St){return ge===null||ge.tag!==7?(ge=Vl(je,be.mode,st,St),ge.return=be,ge):(ge=C(ge,je),ge.return=be,ge)}function Je(be,ge,je){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=Kp(""+ge,be.mode,je),ge.return=be,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case A:return je=h0(ge.type,ge.key,ge.props,null,be.mode,je),je.ref=Nd(be,null,ge),je.return=be,je;case E:return ge=Jp(ge,be.mode,je),ge.return=be,ge;case M:var st=ge._init;return Je(be,st(ge._payload),je)}if(ee(ge)||G(ge))return ge=Vl(ge,be.mode,je,null),ge.return=be,ge;Vm(be,ge)}return null}function We(be,ge,je,st){var St=ge!==null?ge.key:null;if(typeof je=="string"&&je!==""||typeof je=="number")return St!==null?null:ae(be,ge,""+je,st);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case A:return je.key===St?me(be,ge,je,st):null;case E:return je.key===St?Ae(be,ge,je,st):null;case M:return St=je._init,We(be,ge,St(je._payload),st)}if(ee(je)||G(je))return St!==null?null:Ye(be,ge,je,st,null);Vm(be,je)}return null}function mt(be,ge,je,st,St){if(typeof st=="string"&&st!==""||typeof st=="number")return be=be.get(je)||null,ae(ge,be,""+st,St);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case A:return be=be.get(st.key===null?je:st.key)||null,me(ge,be,st,St);case E:return be=be.get(st.key===null?je:st.key)||null,Ae(ge,be,st,St);case M:var Dt=st._init;return mt(be,ge,je,Dt(st._payload),St)}if(ee(st)||G(st))return be=be.get(je)||null,Ye(ge,be,st,St,null);Vm(ge,st)}return null}function ft(be,ge,je,st){for(var St=null,Dt=null,Rt=ge,Mt=ge=0,us=null;Rt!==null&&Mt<je.length;Mt++){Rt.index>Mt?(us=Rt,Rt=null):us=Rt.sibling;var er=We(be,Rt,je[Mt],st);if(er===null){Rt===null&&(Rt=us);break}o&&Rt&&er.alternate===null&&d(be,Rt),ge=O(er,ge,Mt),Dt===null?St=er:Dt.sibling=er,Dt=er,Rt=us}if(Mt===je.length)return p(be,Rt),yr&&Il(be,Mt),St;if(Rt===null){for(;Mt<je.length;Mt++)Rt=Je(be,je[Mt],st),Rt!==null&&(ge=O(Rt,ge,Mt),Dt===null?St=Rt:Dt.sibling=Rt,Dt=Rt);return yr&&Il(be,Mt),St}for(Rt=j(be,Rt);Mt<je.length;Mt++)us=mt(Rt,be,Mt,je[Mt],st),us!==null&&(o&&us.alternate!==null&&Rt.delete(us.key===null?Mt:us.key),ge=O(us,ge,Mt),Dt===null?St=us:Dt.sibling=us,Dt=us);return o&&Rt.forEach(function(nl){return d(be,nl)}),yr&&Il(be,Mt),St}function vt(be,ge,je,st){var St=G(je);if(typeof St!="function")throw Error(s(150));if(je=St.call(je),je==null)throw Error(s(151));for(var Dt=St=null,Rt=ge,Mt=ge=0,us=null,er=je.next();Rt!==null&&!er.done;Mt++,er=je.next()){Rt.index>Mt?(us=Rt,Rt=null):us=Rt.sibling;var nl=We(be,Rt,er.value,st);if(nl===null){Rt===null&&(Rt=us);break}o&&Rt&&nl.alternate===null&&d(be,Rt),ge=O(nl,ge,Mt),Dt===null?St=nl:Dt.sibling=nl,Dt=nl,Rt=us}if(er.done)return p(be,Rt),yr&&Il(be,Mt),St;if(Rt===null){for(;!er.done;Mt++,er=je.next())er=Je(be,er.value,st),er!==null&&(ge=O(er,ge,Mt),Dt===null?St=er:Dt.sibling=er,Dt=er);return yr&&Il(be,Mt),St}for(Rt=j(be,Rt);!er.done;Mt++,er=je.next())er=mt(Rt,be,Mt,er.value,st),er!==null&&(o&&er.alternate!==null&&Rt.delete(er.key===null?Mt:er.key),ge=O(er,ge,Mt),Dt===null?St=er:Dt.sibling=er,Dt=er);return o&&Rt.forEach(function(n7){return d(be,n7)}),yr&&Il(be,Mt),St}function Br(be,ge,je,st){if(typeof je=="object"&&je!==null&&je.type===T&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case A:e:{for(var St=je.key,Dt=ge;Dt!==null;){if(Dt.key===St){if(St=je.type,St===T){if(Dt.tag===7){p(be,Dt.sibling),ge=C(Dt,je.props.children),ge.return=be,be=ge;break e}}else if(Dt.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===M&&g1(St)===Dt.type){p(be,Dt.sibling),ge=C(Dt,je.props),ge.ref=Nd(be,Dt,je),ge.return=be,be=ge;break e}p(be,Dt);break}else d(be,Dt);Dt=Dt.sibling}je.type===T?(ge=Vl(je.props.children,be.mode,st,je.key),ge.return=be,be=ge):(st=h0(je.type,je.key,je.props,null,be.mode,st),st.ref=Nd(be,ge,je),st.return=be,be=st)}return U(be);case E:e:{for(Dt=je.key;ge!==null;){if(ge.key===Dt)if(ge.tag===4&&ge.stateNode.containerInfo===je.containerInfo&&ge.stateNode.implementation===je.implementation){p(be,ge.sibling),ge=C(ge,je.children||[]),ge.return=be,be=ge;break e}else{p(be,ge);break}else d(be,ge);ge=ge.sibling}ge=Jp(je,be.mode,st),ge.return=be,be=ge}return U(be);case M:return Dt=je._init,Br(be,ge,Dt(je._payload),st)}if(ee(je))return ft(be,ge,je,st);if(G(je))return vt(be,ge,je,st);Vm(be,je)}return typeof je=="string"&&je!==""||typeof je=="number"?(je=""+je,ge!==null&&ge.tag===6?(p(be,ge.sibling),ge=C(ge,je),ge.return=be,be=ge):(p(be,ge),ge=Kp(je,be.mode,st),ge.return=be,be=ge),U(be)):p(be,ge)}return Br}var Wo=p1(!0),f1=p1(!1),qm=Yi(null),Hm=null,Yo=null,np=null;function ip(){np=Yo=Hm=null}function lp(o){var d=qm.current;pr(qm),o._currentValue=d}function op(o,d,p){for(;o!==null;){var j=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,j!==null&&(j.childLanes|=d)):j!==null&&(j.childLanes&d)!==d&&(j.childLanes|=d),o===p)break;o=o.return}}function Ko(o,d){Hm=o,np=Yo=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&d)!==0&&(Zs=!0),o.firstContext=null)}function qa(o){var d=o._currentValue;if(np!==o)if(o={context:o,memoizedValue:d,next:null},Yo===null){if(Hm===null)throw Error(s(308));Yo=o,Hm.dependencies={lanes:0,firstContext:o}}else Yo=Yo.next=o;return d}var Ml=null;function cp(o){Ml===null?Ml=[o]:Ml.push(o)}function y1(o,d,p,j){var C=d.interleaved;return C===null?(p.next=p,cp(d)):(p.next=C.next,C.next=p),d.interleaved=p,ri(o,j)}function ri(o,d){o.lanes|=d;var p=o.alternate;for(p!==null&&(p.lanes|=d),p=o,o=o.return;o!==null;)o.childLanes|=d,p=o.alternate,p!==null&&(p.childLanes|=d),p=o,o=o.return;return p.tag===3?p.stateNode:null}var Xi=!1;function dp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b1(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function si(o,d){return{eventTime:o,lane:d,tag:0,payload:null,callback:null,next:null}}function Zi(o,d,p){var j=o.updateQueue;if(j===null)return null;if(j=j.shared,(Xt&2)!==0){var C=j.pending;return C===null?d.next=d:(d.next=C.next,C.next=d),j.pending=d,ri(o,p)}return C=j.interleaved,C===null?(d.next=d,cp(j)):(d.next=C.next,C.next=d),j.interleaved=d,ri(o,p)}function Gm(o,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194240)!==0)){var j=d.lanes;j&=o.pendingLanes,p|=j,d.lanes=p,kg(o,p)}}function v1(o,d){var p=o.updateQueue,j=o.alternate;if(j!==null&&(j=j.updateQueue,p===j)){var C=null,O=null;if(p=p.firstBaseUpdate,p!==null){do{var U={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};O===null?C=O=U:O=O.next=U,p=p.next}while(p!==null);O===null?C=O=d:O=O.next=d}else C=O=d;p={baseState:j.baseState,firstBaseUpdate:C,lastBaseUpdate:O,shared:j.shared,effects:j.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=d:o.next=d,p.lastBaseUpdate=d}function Wm(o,d,p,j){var C=o.updateQueue;Xi=!1;var O=C.firstBaseUpdate,U=C.lastBaseUpdate,ae=C.shared.pending;if(ae!==null){C.shared.pending=null;var me=ae,Ae=me.next;me.next=null,U===null?O=Ae:U.next=Ae,U=me;var Ye=o.alternate;Ye!==null&&(Ye=Ye.updateQueue,ae=Ye.lastBaseUpdate,ae!==U&&(ae===null?Ye.firstBaseUpdate=Ae:ae.next=Ae,Ye.lastBaseUpdate=me))}if(O!==null){var Je=C.baseState;U=0,Ye=Ae=me=null,ae=O;do{var We=ae.lane,mt=ae.eventTime;if((j&We)===We){Ye!==null&&(Ye=Ye.next={eventTime:mt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var ft=o,vt=ae;switch(We=d,mt=p,vt.tag){case 1:if(ft=vt.payload,typeof ft=="function"){Je=ft.call(mt,Je,We);break e}Je=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=vt.payload,We=typeof ft=="function"?ft.call(mt,Je,We):ft,We==null)break e;Je=de({},Je,We);break e;case 2:Xi=!0}}ae.callback!==null&&ae.lane!==0&&(o.flags|=64,We=C.effects,We===null?C.effects=[ae]:We.push(ae))}else mt={eventTime:mt,lane:We,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Ye===null?(Ae=Ye=mt,me=Je):Ye=Ye.next=mt,U|=We;if(ae=ae.next,ae===null){if(ae=C.shared.pending,ae===null)break;We=ae,ae=We.next,We.next=null,C.lastBaseUpdate=We,C.shared.pending=null}}while(!0);if(Ye===null&&(me=Je),C.baseState=me,C.firstBaseUpdate=Ae,C.lastBaseUpdate=Ye,d=C.shared.interleaved,d!==null){C=d;do U|=C.lane,C=C.next;while(C!==d)}else O===null&&(C.shared.lanes=0);Fl|=U,o.lanes=U,o.memoizedState=Je}}function w1(o,d,p){if(o=d.effects,d.effects=null,o!==null)for(d=0;d<o.length;d++){var j=o[d],C=j.callback;if(C!==null){if(j.callback=null,j=p,typeof C!="function")throw Error(s(191,C));C.call(j)}}}var kd={},In=Yi(kd),Sd=Yi(kd),_d=Yi(kd);function Ll(o){if(o===kd)throw Error(s(174));return o}function up(o,d){switch(mr(_d,d),mr(Sd,o),mr(In,kd),o=d.nodeType,o){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Ne(null,"");break;default:o=o===8?d.parentNode:d,d=o.namespaceURI||null,o=o.tagName,d=Ne(d,o)}pr(In),mr(In,d)}function Jo(){pr(In),pr(Sd),pr(_d)}function j1(o){Ll(_d.current);var d=Ll(In.current),p=Ne(d,o.type);d!==p&&(mr(Sd,o),mr(In,p))}function mp(o){Sd.current===o&&(pr(In),pr(Sd))}var Sr=Yi(0);function Ym(o){for(var d=o;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var hp=[];function xp(){for(var o=0;o<hp.length;o++)hp[o]._workInProgressVersionPrimary=null;hp.length=0}var Km=v.ReactCurrentDispatcher,gp=v.ReactCurrentBatchConfig,$l=0,_r=null,Qr=null,cs=null,Jm=!1,Ad=!1,Cd=0,AM=0;function Cs(){throw Error(s(321))}function pp(o,d){if(d===null)return!1;for(var p=0;p<d.length&&p<o.length;p++)if(!fn(o[p],d[p]))return!1;return!0}function fp(o,d,p,j,C,O){if($l=O,_r=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Km.current=o===null||o.memoizedState===null?TM:DM,o=p(j,C),Ad){O=0;do{if(Ad=!1,Cd=0,25<=O)throw Error(s(301));O+=1,cs=Qr=null,d.updateQueue=null,Km.current=RM,o=p(j,C)}while(Ad)}if(Km.current=Qm,d=Qr!==null&&Qr.next!==null,$l=0,cs=Qr=_r=null,Jm=!1,d)throw Error(s(300));return o}function yp(){var o=Cd!==0;return Cd=0,o}function Mn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cs===null?_r.memoizedState=cs=o:cs=cs.next=o,cs}function Ha(){if(Qr===null){var o=_r.alternate;o=o!==null?o.memoizedState:null}else o=Qr.next;var d=cs===null?_r.memoizedState:cs.next;if(d!==null)cs=d,Qr=o;else{if(o===null)throw Error(s(310));Qr=o,o={memoizedState:Qr.memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},cs===null?_r.memoizedState=cs=o:cs=cs.next=o}return cs}function Pd(o,d){return typeof d=="function"?d(o):d}function bp(o){var d=Ha(),p=d.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=o;var j=Qr,C=j.baseQueue,O=p.pending;if(O!==null){if(C!==null){var U=C.next;C.next=O.next,O.next=U}j.baseQueue=C=O,p.pending=null}if(C!==null){O=C.next,j=j.baseState;var ae=U=null,me=null,Ae=O;do{var Ye=Ae.lane;if(($l&Ye)===Ye)me!==null&&(me=me.next={lane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),j=Ae.hasEagerState?Ae.eagerState:o(j,Ae.action);else{var Je={lane:Ye,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null};me===null?(ae=me=Je,U=j):me=me.next=Je,_r.lanes|=Ye,Fl|=Ye}Ae=Ae.next}while(Ae!==null&&Ae!==O);me===null?U=j:me.next=ae,fn(j,d.memoizedState)||(Zs=!0),d.memoizedState=j,d.baseState=U,d.baseQueue=me,p.lastRenderedState=j}if(o=p.interleaved,o!==null){C=o;do O=C.lane,_r.lanes|=O,Fl|=O,C=C.next;while(C!==o)}else C===null&&(p.lanes=0);return[d.memoizedState,p.dispatch]}function vp(o){var d=Ha(),p=d.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=o;var j=p.dispatch,C=p.pending,O=d.memoizedState;if(C!==null){p.pending=null;var U=C=C.next;do O=o(O,U.action),U=U.next;while(U!==C);fn(O,d.memoizedState)||(Zs=!0),d.memoizedState=O,d.baseQueue===null&&(d.baseState=O),p.lastRenderedState=O}return[O,j]}function N1(){}function k1(o,d){var p=_r,j=Ha(),C=d(),O=!fn(j.memoizedState,C);if(O&&(j.memoizedState=C,Zs=!0),j=j.queue,wp(A1.bind(null,p,j,o),[o]),j.getSnapshot!==d||O||cs!==null&&cs.memoizedState.tag&1){if(p.flags|=2048,Ed(9,_1.bind(null,p,j,C,d),void 0,null),ds===null)throw Error(s(349));($l&30)!==0||S1(p,d,C)}return C}function S1(o,d,p){o.flags|=16384,o={getSnapshot:d,value:p},d=_r.updateQueue,d===null?(d={lastEffect:null,stores:null},_r.updateQueue=d,d.stores=[o]):(p=d.stores,p===null?d.stores=[o]:p.push(o))}function _1(o,d,p,j){d.value=p,d.getSnapshot=j,C1(d)&&P1(o)}function A1(o,d,p){return p(function(){C1(d)&&P1(o)})}function C1(o){var d=o.getSnapshot;o=o.value;try{var p=d();return!fn(o,p)}catch{return!0}}function P1(o){var d=ri(o,1);d!==null&&jn(d,o,1,-1)}function E1(o){var d=Mn();return typeof o=="function"&&(o=o()),d.memoizedState=d.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:o},d.queue=o,o=o.dispatch=EM.bind(null,_r,o),[d.memoizedState,o]}function Ed(o,d,p,j){return o={tag:o,create:d,destroy:p,deps:j,next:null},d=_r.updateQueue,d===null?(d={lastEffect:null,stores:null},_r.updateQueue=d,d.lastEffect=o.next=o):(p=d.lastEffect,p===null?d.lastEffect=o.next=o:(j=p.next,p.next=o,o.next=j,d.lastEffect=o)),o}function T1(){return Ha().memoizedState}function Xm(o,d,p,j){var C=Mn();_r.flags|=o,C.memoizedState=Ed(1|d,p,void 0,j===void 0?null:j)}function Zm(o,d,p,j){var C=Ha();j=j===void 0?null:j;var O=void 0;if(Qr!==null){var U=Qr.memoizedState;if(O=U.destroy,j!==null&&pp(j,U.deps)){C.memoizedState=Ed(d,p,O,j);return}}_r.flags|=o,C.memoizedState=Ed(1|d,p,O,j)}function D1(o,d){return Xm(8390656,8,o,d)}function wp(o,d){return Zm(2048,8,o,d)}function R1(o,d){return Zm(4,2,o,d)}function O1(o,d){return Zm(4,4,o,d)}function I1(o,d){if(typeof d=="function")return o=o(),d(o),function(){d(null)};if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function M1(o,d,p){return p=p!=null?p.concat([o]):null,Zm(4,4,I1.bind(null,d,o),p)}function jp(){}function L1(o,d){var p=Ha();d=d===void 0?null:d;var j=p.memoizedState;return j!==null&&d!==null&&pp(d,j[1])?j[0]:(p.memoizedState=[o,d],o)}function $1(o,d){var p=Ha();d=d===void 0?null:d;var j=p.memoizedState;return j!==null&&d!==null&&pp(d,j[1])?j[0]:(o=o(),p.memoizedState=[o,d],o)}function F1(o,d,p){return($l&21)===0?(o.baseState&&(o.baseState=!1,Zs=!0),o.memoizedState=p):(fn(p,d)||(p=gk(),_r.lanes|=p,Fl|=p,o.baseState=!0),d)}function CM(o,d){var p=ar;ar=p!==0&&4>p?p:4,o(!0);var j=gp.transition;gp.transition={};try{o(!1),d()}finally{ar=p,gp.transition=j}}function B1(){return Ha().memoizedState}function PM(o,d,p){var j=rl(o);if(p={lane:j,action:p,hasEagerState:!1,eagerState:null,next:null},U1(o))z1(d,p);else if(p=y1(o,d,p,j),p!==null){var C=Us();jn(p,o,j,C),V1(p,d,j)}}function EM(o,d,p){var j=rl(o),C={lane:j,action:p,hasEagerState:!1,eagerState:null,next:null};if(U1(o))z1(d,C);else{var O=o.alternate;if(o.lanes===0&&(O===null||O.lanes===0)&&(O=d.lastRenderedReducer,O!==null))try{var U=d.lastRenderedState,ae=O(U,p);if(C.hasEagerState=!0,C.eagerState=ae,fn(ae,U)){var me=d.interleaved;me===null?(C.next=C,cp(d)):(C.next=me.next,me.next=C),d.interleaved=C;return}}catch{}finally{}p=y1(o,d,C,j),p!==null&&(C=Us(),jn(p,o,j,C),V1(p,d,j))}}function U1(o){var d=o.alternate;return o===_r||d!==null&&d===_r}function z1(o,d){Ad=Jm=!0;var p=o.pending;p===null?d.next=d:(d.next=p.next,p.next=d),o.pending=d}function V1(o,d,p){if((p&4194240)!==0){var j=d.lanes;j&=o.pendingLanes,p|=j,d.lanes=p,kg(o,p)}}var Qm={readContext:qa,useCallback:Cs,useContext:Cs,useEffect:Cs,useImperativeHandle:Cs,useInsertionEffect:Cs,useLayoutEffect:Cs,useMemo:Cs,useReducer:Cs,useRef:Cs,useState:Cs,useDebugValue:Cs,useDeferredValue:Cs,useTransition:Cs,useMutableSource:Cs,useSyncExternalStore:Cs,useId:Cs,unstable_isNewReconciler:!1},TM={readContext:qa,useCallback:function(o,d){return Mn().memoizedState=[o,d===void 0?null:d],o},useContext:qa,useEffect:D1,useImperativeHandle:function(o,d,p){return p=p!=null?p.concat([o]):null,Xm(4194308,4,I1.bind(null,d,o),p)},useLayoutEffect:function(o,d){return Xm(4194308,4,o,d)},useInsertionEffect:function(o,d){return Xm(4,2,o,d)},useMemo:function(o,d){var p=Mn();return d=d===void 0?null:d,o=o(),p.memoizedState=[o,d],o},useReducer:function(o,d,p){var j=Mn();return d=p!==void 0?p(d):d,j.memoizedState=j.baseState=d,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:d},j.queue=o,o=o.dispatch=PM.bind(null,_r,o),[j.memoizedState,o]},useRef:function(o){var d=Mn();return o={current:o},d.memoizedState=o},useState:E1,useDebugValue:jp,useDeferredValue:function(o){return Mn().memoizedState=o},useTransition:function(){var o=E1(!1),d=o[0];return o=CM.bind(null,o[1]),Mn().memoizedState=o,[d,o]},useMutableSource:function(){},useSyncExternalStore:function(o,d,p){var j=_r,C=Mn();if(yr){if(p===void 0)throw Error(s(407));p=p()}else{if(p=d(),ds===null)throw Error(s(349));($l&30)!==0||S1(j,d,p)}C.memoizedState=p;var O={value:p,getSnapshot:d};return C.queue=O,D1(A1.bind(null,j,O,o),[o]),j.flags|=2048,Ed(9,_1.bind(null,j,O,p,d),void 0,null),p},useId:function(){var o=Mn(),d=ds.identifierPrefix;if(yr){var p=ti,j=ei;p=(j&~(1<<32-Fr(j)-1)).toString(32)+p,d=":"+d+"R"+p,p=Cd++,0<p&&(d+="H"+p.toString(32)),d+=":"}else p=AM++,d=":"+d+"r"+p.toString(32)+":";return o.memoizedState=d},unstable_isNewReconciler:!1},DM={readContext:qa,useCallback:L1,useContext:qa,useEffect:wp,useImperativeHandle:M1,useInsertionEffect:R1,useLayoutEffect:O1,useMemo:$1,useReducer:bp,useRef:T1,useState:function(){return bp(Pd)},useDebugValue:jp,useDeferredValue:function(o){var d=Ha();return F1(d,Qr.memoizedState,o)},useTransition:function(){var o=bp(Pd)[0],d=Ha().memoizedState;return[o,d]},useMutableSource:N1,useSyncExternalStore:k1,useId:B1,unstable_isNewReconciler:!1},RM={readContext:qa,useCallback:L1,useContext:qa,useEffect:wp,useImperativeHandle:M1,useInsertionEffect:R1,useLayoutEffect:O1,useMemo:$1,useReducer:vp,useRef:T1,useState:function(){return vp(Pd)},useDebugValue:jp,useDeferredValue:function(o){var d=Ha();return Qr===null?d.memoizedState=o:F1(d,Qr.memoizedState,o)},useTransition:function(){var o=vp(Pd)[0],d=Ha().memoizedState;return[o,d]},useMutableSource:N1,useSyncExternalStore:k1,useId:B1,unstable_isNewReconciler:!1};function bn(o,d){if(o&&o.defaultProps){d=de({},d),o=o.defaultProps;for(var p in o)d[p]===void 0&&(d[p]=o[p]);return d}return d}function Np(o,d,p,j){d=o.memoizedState,p=p(j,d),p=p==null?d:de({},d,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var e0={isMounted:function(o){return(o=o._reactInternals)?fs(o)===o:!1},enqueueSetState:function(o,d,p){o=o._reactInternals;var j=Us(),C=rl(o),O=si(j,C);O.payload=d,p!=null&&(O.callback=p),d=Zi(o,O,C),d!==null&&(jn(d,o,C,j),Gm(d,o,C))},enqueueReplaceState:function(o,d,p){o=o._reactInternals;var j=Us(),C=rl(o),O=si(j,C);O.tag=1,O.payload=d,p!=null&&(O.callback=p),d=Zi(o,O,C),d!==null&&(jn(d,o,C,j),Gm(d,o,C))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var p=Us(),j=rl(o),C=si(p,j);C.tag=2,d!=null&&(C.callback=d),d=Zi(o,C,j),d!==null&&(jn(d,o,j,p),Gm(d,o,j))}};function q1(o,d,p,j,C,O,U){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(j,O,U):d.prototype&&d.prototype.isPureReactComponent?!pd(p,j)||!pd(C,O):!0}function H1(o,d,p){var j=!1,C=Ki,O=d.contextType;return typeof O=="object"&&O!==null?O=qa(O):(C=Xs(d)?Rl:As.current,j=d.contextTypes,O=(j=j!=null)?Vo(o,C):Ki),d=new d(p,O),o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=e0,o.stateNode=d,d._reactInternals=o,j&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=C,o.__reactInternalMemoizedMaskedChildContext=O),d}function G1(o,d,p,j){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,j),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,j),d.state!==o&&e0.enqueueReplaceState(d,d.state,null)}function kp(o,d,p,j){var C=o.stateNode;C.props=p,C.state=o.memoizedState,C.refs={},dp(o);var O=d.contextType;typeof O=="object"&&O!==null?C.context=qa(O):(O=Xs(d)?Rl:As.current,C.context=Vo(o,O)),C.state=o.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(Np(o,d,O,p),C.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(d=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),d!==C.state&&e0.enqueueReplaceState(C,C.state,null),Wm(o,p,C,j),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308)}function Xo(o,d){try{var p="",j=d;do p+=Pe(j),j=j.return;while(j);var C=p}catch(O){C=`
Error generating stack: `+O.message+`
`+O.stack}return{value:o,source:d,stack:C,digest:null}}function Sp(o,d,p){return{value:o,source:null,stack:p??null,digest:d??null}}function _p(o,d){try{console.error(d.value)}catch(p){setTimeout(function(){throw p})}}var OM=typeof WeakMap=="function"?WeakMap:Map;function W1(o,d,p){p=si(-1,p),p.tag=3,p.payload={element:null};var j=d.value;return p.callback=function(){l0||(l0=!0,Up=j),_p(o,d)},p}function Y1(o,d,p){p=si(-1,p),p.tag=3;var j=o.type.getDerivedStateFromError;if(typeof j=="function"){var C=d.value;p.payload=function(){return j(C)},p.callback=function(){_p(o,d)}}var O=o.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(p.callback=function(){_p(o,d),typeof j!="function"&&(el===null?el=new Set([this]):el.add(this));var U=d.stack;this.componentDidCatch(d.value,{componentStack:U!==null?U:""})}),p}function K1(o,d,p){var j=o.pingCache;if(j===null){j=o.pingCache=new OM;var C=new Set;j.set(d,C)}else C=j.get(d),C===void 0&&(C=new Set,j.set(d,C));C.has(p)||(C.add(p),o=YM.bind(null,o,d,p),d.then(o,o))}function J1(o){do{var d;if((d=o.tag===13)&&(d=o.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return o;o=o.return}while(o!==null);return null}function X1(o,d,p,j,C){return(o.mode&1)===0?(o===d?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(d=si(-1,1),d.tag=2,Zi(p,d,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=C,o)}var IM=v.ReactCurrentOwner,Zs=!1;function Bs(o,d,p,j){d.child=o===null?f1(d,null,p,j):Wo(d,o.child,p,j)}function Z1(o,d,p,j,C){p=p.render;var O=d.ref;return Ko(d,C),j=fp(o,d,p,j,O,C),p=yp(),o!==null&&!Zs?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~C,ai(o,d,C)):(yr&&p&&ep(d),d.flags|=1,Bs(o,d,j,C),d.child)}function Q1(o,d,p,j,C){if(o===null){var O=p.type;return typeof O=="function"&&!Yp(O)&&O.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(d.tag=15,d.type=O,e2(o,d,O,j,C)):(o=h0(p.type,null,j,d,d.mode,C),o.ref=d.ref,o.return=d,d.child=o)}if(O=o.child,(o.lanes&C)===0){var U=O.memoizedProps;if(p=p.compare,p=p!==null?p:pd,p(U,j)&&o.ref===d.ref)return ai(o,d,C)}return d.flags|=1,o=al(O,j),o.ref=d.ref,o.return=d,d.child=o}function e2(o,d,p,j,C){if(o!==null){var O=o.memoizedProps;if(pd(O,j)&&o.ref===d.ref)if(Zs=!1,d.pendingProps=j=O,(o.lanes&C)!==0)(o.flags&131072)!==0&&(Zs=!0);else return d.lanes=o.lanes,ai(o,d,C)}return Ap(o,d,p,j,C)}function t2(o,d,p){var j=d.pendingProps,C=j.children,O=o!==null?o.memoizedState:null;if(j.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(Qo,ba),ba|=p;else{if((p&1073741824)===0)return o=O!==null?O.baseLanes|p:p,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:o,cachePool:null,transitions:null},d.updateQueue=null,mr(Qo,ba),ba|=o,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=O!==null?O.baseLanes:p,mr(Qo,ba),ba|=j}else O!==null?(j=O.baseLanes|p,d.memoizedState=null):j=p,mr(Qo,ba),ba|=j;return Bs(o,d,C,p),d.child}function r2(o,d){var p=d.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(d.flags|=512,d.flags|=2097152)}function Ap(o,d,p,j,C){var O=Xs(p)?Rl:As.current;return O=Vo(d,O),Ko(d,C),p=fp(o,d,p,j,O,C),j=yp(),o!==null&&!Zs?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~C,ai(o,d,C)):(yr&&j&&ep(d),d.flags|=1,Bs(o,d,p,C),d.child)}function s2(o,d,p,j,C){if(Xs(p)){var O=!0;$m(d)}else O=!1;if(Ko(d,C),d.stateNode===null)r0(o,d),H1(d,p,j),kp(d,p,j,C),j=!0;else if(o===null){var U=d.stateNode,ae=d.memoizedProps;U.props=ae;var me=U.context,Ae=p.contextType;typeof Ae=="object"&&Ae!==null?Ae=qa(Ae):(Ae=Xs(p)?Rl:As.current,Ae=Vo(d,Ae));var Ye=p.getDerivedStateFromProps,Je=typeof Ye=="function"||typeof U.getSnapshotBeforeUpdate=="function";Je||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ae!==j||me!==Ae)&&G1(d,U,j,Ae),Xi=!1;var We=d.memoizedState;U.state=We,Wm(d,j,U,C),me=d.memoizedState,ae!==j||We!==me||Js.current||Xi?(typeof Ye=="function"&&(Np(d,p,Ye,j),me=d.memoizedState),(ae=Xi||q1(d,p,ae,j,We,me,Ae))?(Je||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(d.flags|=4194308)):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=j,d.memoizedState=me),U.props=j,U.state=me,U.context=Ae,j=ae):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),j=!1)}else{U=d.stateNode,b1(o,d),ae=d.memoizedProps,Ae=d.type===d.elementType?ae:bn(d.type,ae),U.props=Ae,Je=d.pendingProps,We=U.context,me=p.contextType,typeof me=="object"&&me!==null?me=qa(me):(me=Xs(p)?Rl:As.current,me=Vo(d,me));var mt=p.getDerivedStateFromProps;(Ye=typeof mt=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ae!==Je||We!==me)&&G1(d,U,j,me),Xi=!1,We=d.memoizedState,U.state=We,Wm(d,j,U,C);var ft=d.memoizedState;ae!==Je||We!==ft||Js.current||Xi?(typeof mt=="function"&&(Np(d,p,mt,j),ft=d.memoizedState),(Ae=Xi||q1(d,p,Ae,j,We,ft,me)||!1)?(Ye||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(j,ft,me),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(j,ft,me)),typeof U.componentDidUpdate=="function"&&(d.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof U.componentDidUpdate!="function"||ae===o.memoizedProps&&We===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&We===o.memoizedState||(d.flags|=1024),d.memoizedProps=j,d.memoizedState=ft),U.props=j,U.state=ft,U.context=me,j=Ae):(typeof U.componentDidUpdate!="function"||ae===o.memoizedProps&&We===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&We===o.memoizedState||(d.flags|=1024),j=!1)}return Cp(o,d,p,j,O,C)}function Cp(o,d,p,j,C,O){r2(o,d);var U=(d.flags&128)!==0;if(!j&&!U)return C&&o1(d,p,!1),ai(o,d,O);j=d.stateNode,IM.current=d;var ae=U&&typeof p.getDerivedStateFromError!="function"?null:j.render();return d.flags|=1,o!==null&&U?(d.child=Wo(d,o.child,null,O),d.child=Wo(d,null,ae,O)):Bs(o,d,ae,O),d.memoizedState=j.state,C&&o1(d,p,!0),d.child}function a2(o){var d=o.stateNode;d.pendingContext?i1(o,d.pendingContext,d.pendingContext!==d.context):d.context&&i1(o,d.context,!1),up(o,d.containerInfo)}function n2(o,d,p,j,C){return Go(),ap(C),d.flags|=256,Bs(o,d,p,j),d.child}var Pp={dehydrated:null,treeContext:null,retryLane:0};function Ep(o){return{baseLanes:o,cachePool:null,transitions:null}}function i2(o,d,p){var j=d.pendingProps,C=Sr.current,O=!1,U=(d.flags&128)!==0,ae;if((ae=U)||(ae=o!==null&&o.memoizedState===null?!1:(C&2)!==0),ae?(O=!0,d.flags&=-129):(o===null||o.memoizedState!==null)&&(C|=1),mr(Sr,C&1),o===null)return sp(d),o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((d.mode&1)===0?d.lanes=1:o.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(U=j.children,o=j.fallback,O?(j=d.mode,O=d.child,U={mode:"hidden",children:U},(j&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=U):O=x0(U,j,0,null),o=Vl(o,j,p,null),O.return=d,o.return=d,O.sibling=o,d.child=O,d.child.memoizedState=Ep(p),d.memoizedState=Pp,o):Tp(d,U));if(C=o.memoizedState,C!==null&&(ae=C.dehydrated,ae!==null))return MM(o,d,U,j,ae,C,p);if(O){O=j.fallback,U=d.mode,C=o.child,ae=C.sibling;var me={mode:"hidden",children:j.children};return(U&1)===0&&d.child!==C?(j=d.child,j.childLanes=0,j.pendingProps=me,d.deletions=null):(j=al(C,me),j.subtreeFlags=C.subtreeFlags&14680064),ae!==null?O=al(ae,O):(O=Vl(O,U,p,null),O.flags|=2),O.return=d,j.return=d,j.sibling=O,d.child=j,j=O,O=d.child,U=o.child.memoizedState,U=U===null?Ep(p):{baseLanes:U.baseLanes|p,cachePool:null,transitions:U.transitions},O.memoizedState=U,O.childLanes=o.childLanes&~p,d.memoizedState=Pp,j}return O=o.child,o=O.sibling,j=al(O,{mode:"visible",children:j.children}),(d.mode&1)===0&&(j.lanes=p),j.return=d,j.sibling=null,o!==null&&(p=d.deletions,p===null?(d.deletions=[o],d.flags|=16):p.push(o)),d.child=j,d.memoizedState=null,j}function Tp(o,d){return d=x0({mode:"visible",children:d},o.mode,0,null),d.return=o,o.child=d}function t0(o,d,p,j){return j!==null&&ap(j),Wo(d,o.child,null,p),o=Tp(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function MM(o,d,p,j,C,O,U){if(p)return d.flags&256?(d.flags&=-257,j=Sp(Error(s(422))),t0(o,d,U,j)):d.memoizedState!==null?(d.child=o.child,d.flags|=128,null):(O=j.fallback,C=d.mode,j=x0({mode:"visible",children:j.children},C,0,null),O=Vl(O,C,U,null),O.flags|=2,j.return=d,O.return=d,j.sibling=O,d.child=j,(d.mode&1)!==0&&Wo(d,o.child,null,U),d.child.memoizedState=Ep(U),d.memoizedState=Pp,O);if((d.mode&1)===0)return t0(o,d,U,null);if(C.data==="$!"){if(j=C.nextSibling&&C.nextSibling.dataset,j)var ae=j.dgst;return j=ae,O=Error(s(419)),j=Sp(O,j,void 0),t0(o,d,U,j)}if(ae=(U&o.childLanes)!==0,Zs||ae){if(j=ds,j!==null){switch(U&-U){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(j.suspendedLanes|U))!==0?0:C,C!==0&&C!==O.retryLane&&(O.retryLane=C,ri(o,C),jn(j,o,C,-1))}return Wp(),j=Sp(Error(s(421))),t0(o,d,U,j)}return C.data==="$?"?(d.flags|=128,d.child=o.child,d=KM.bind(null,o),C._reactRetry=d,null):(o=O.treeContext,ya=Wi(C.nextSibling),fa=d,yr=!0,yn=null,o!==null&&(za[Va++]=ei,za[Va++]=ti,za[Va++]=Ol,ei=o.id,ti=o.overflow,Ol=d),d=Tp(d,j.children),d.flags|=4096,d)}function l2(o,d,p){o.lanes|=d;var j=o.alternate;j!==null&&(j.lanes|=d),op(o.return,d,p)}function Dp(o,d,p,j,C){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:j,tail:p,tailMode:C}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=j,O.tail=p,O.tailMode=C)}function o2(o,d,p){var j=d.pendingProps,C=j.revealOrder,O=j.tail;if(Bs(o,d,j.children,p),j=Sr.current,(j&2)!==0)j=j&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&l2(o,p,d);else if(o.tag===19)l2(o,p,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}j&=1}if(mr(Sr,j),(d.mode&1)===0)d.memoizedState=null;else switch(C){case"forwards":for(p=d.child,C=null;p!==null;)o=p.alternate,o!==null&&Ym(o)===null&&(C=p),p=p.sibling;p=C,p===null?(C=d.child,d.child=null):(C=p.sibling,p.sibling=null),Dp(d,!1,C,p,O);break;case"backwards":for(p=null,C=d.child,d.child=null;C!==null;){if(o=C.alternate,o!==null&&Ym(o)===null){d.child=C;break}o=C.sibling,C.sibling=p,p=C,C=o}Dp(d,!0,p,null,O);break;case"together":Dp(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function r0(o,d){(d.mode&1)===0&&o!==null&&(o.alternate=null,d.alternate=null,d.flags|=2)}function ai(o,d,p){if(o!==null&&(d.dependencies=o.dependencies),Fl|=d.lanes,(p&d.childLanes)===0)return null;if(o!==null&&d.child!==o.child)throw Error(s(153));if(d.child!==null){for(o=d.child,p=al(o,o.pendingProps),d.child=p,p.return=d;o.sibling!==null;)o=o.sibling,p=p.sibling=al(o,o.pendingProps),p.return=d;p.sibling=null}return d.child}function LM(o,d,p){switch(d.tag){case 3:a2(d),Go();break;case 5:j1(d);break;case 1:Xs(d.type)&&$m(d);break;case 4:up(d,d.stateNode.containerInfo);break;case 10:var j=d.type._context,C=d.memoizedProps.value;mr(qm,j._currentValue),j._currentValue=C;break;case 13:if(j=d.memoizedState,j!==null)return j.dehydrated!==null?(mr(Sr,Sr.current&1),d.flags|=128,null):(p&d.child.childLanes)!==0?i2(o,d,p):(mr(Sr,Sr.current&1),o=ai(o,d,p),o!==null?o.sibling:null);mr(Sr,Sr.current&1);break;case 19:if(j=(p&d.childLanes)!==0,(o.flags&128)!==0){if(j)return o2(o,d,p);d.flags|=128}if(C=d.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),mr(Sr,Sr.current),j)break;return null;case 22:case 23:return d.lanes=0,t2(o,d,p)}return ai(o,d,p)}var c2,Rp,d2,u2;c2=function(o,d){for(var p=d.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Rp=function(){},d2=function(o,d,p,j){var C=o.memoizedProps;if(C!==j){o=d.stateNode,Ll(In.current);var O=null;switch(p){case"input":C=Qe(o,C),j=Qe(o,j),O=[];break;case"select":C=de({},C,{value:void 0}),j=de({},j,{value:void 0}),O=[];break;case"textarea":C=W(o,C),j=W(o,j),O=[];break;default:typeof C.onClick!="function"&&typeof j.onClick=="function"&&(o.onclick=Im)}$e(p,j);var U;p=null;for(Ae in C)if(!j.hasOwnProperty(Ae)&&C.hasOwnProperty(Ae)&&C[Ae]!=null)if(Ae==="style"){var ae=C[Ae];for(U in ae)ae.hasOwnProperty(U)&&(p||(p={}),p[U]="")}else Ae!=="dangerouslySetInnerHTML"&&Ae!=="children"&&Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&Ae!=="autoFocus"&&(n.hasOwnProperty(Ae)?O||(O=[]):(O=O||[]).push(Ae,null));for(Ae in j){var me=j[Ae];if(ae=C?.[Ae],j.hasOwnProperty(Ae)&&me!==ae&&(me!=null||ae!=null))if(Ae==="style")if(ae){for(U in ae)!ae.hasOwnProperty(U)||me&&me.hasOwnProperty(U)||(p||(p={}),p[U]="");for(U in me)me.hasOwnProperty(U)&&ae[U]!==me[U]&&(p||(p={}),p[U]=me[U])}else p||(O||(O=[]),O.push(Ae,p)),p=me;else Ae==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,ae=ae?ae.__html:void 0,me!=null&&ae!==me&&(O=O||[]).push(Ae,me)):Ae==="children"?typeof me!="string"&&typeof me!="number"||(O=O||[]).push(Ae,""+me):Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&(n.hasOwnProperty(Ae)?(me!=null&&Ae==="onScroll"&&gr("scroll",o),O||ae===me||(O=[])):(O=O||[]).push(Ae,me))}p&&(O=O||[]).push("style",p);var Ae=O;(d.updateQueue=Ae)&&(d.flags|=4)}},u2=function(o,d,p,j){p!==j&&(d.flags|=4)};function Td(o,d){if(!yr)switch(o.tailMode){case"hidden":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var j=null;p!==null;)p.alternate!==null&&(j=p),p=p.sibling;j===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:j.sibling=null}}function Ps(o){var d=o.alternate!==null&&o.alternate.child===o.child,p=0,j=0;if(d)for(var C=o.child;C!==null;)p|=C.lanes|C.childLanes,j|=C.subtreeFlags&14680064,j|=C.flags&14680064,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)p|=C.lanes|C.childLanes,j|=C.subtreeFlags,j|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=j,o.childLanes=p,d}function $M(o,d,p){var j=d.pendingProps;switch(tp(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ps(d),null;case 1:return Xs(d.type)&&Lm(),Ps(d),null;case 3:return j=d.stateNode,Jo(),pr(Js),pr(As),xp(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(o===null||o.child===null)&&(zm(d)?d.flags|=4:o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,yn!==null&&(qp(yn),yn=null))),Rp(o,d),Ps(d),null;case 5:mp(d);var C=Ll(_d.current);if(p=d.type,o!==null&&d.stateNode!=null)d2(o,d,p,j,C),o.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!j){if(d.stateNode===null)throw Error(s(166));return Ps(d),null}if(o=Ll(In.current),zm(d)){j=d.stateNode,p=d.type;var O=d.memoizedProps;switch(j[On]=d,j[wd]=O,o=(d.mode&1)!==0,p){case"dialog":gr("cancel",j),gr("close",j);break;case"iframe":case"object":case"embed":gr("load",j);break;case"video":case"audio":for(C=0;C<yd.length;C++)gr(yd[C],j);break;case"source":gr("error",j);break;case"img":case"image":case"link":gr("error",j),gr("load",j);break;case"details":gr("toggle",j);break;case"input":ht(j,O),gr("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!O.multiple},gr("invalid",j);break;case"textarea":ye(j,O),gr("invalid",j)}$e(p,O),C=null;for(var U in O)if(O.hasOwnProperty(U)){var ae=O[U];U==="children"?typeof ae=="string"?j.textContent!==ae&&(O.suppressHydrationWarning!==!0&&Om(j.textContent,ae,o),C=["children",ae]):typeof ae=="number"&&j.textContent!==""+ae&&(O.suppressHydrationWarning!==!0&&Om(j.textContent,ae,o),C=["children",""+ae]):n.hasOwnProperty(U)&&ae!=null&&U==="onScroll"&&gr("scroll",j)}switch(p){case"input":et(j),pe(j,O,!0);break;case"textarea":et(j),V(j);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(j.onclick=Im)}j=C,d.updateQueue=j,j!==null&&(d.flags|=4)}else{U=C.nodeType===9?C:C.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=te(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=U.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof j.is=="string"?o=U.createElement(p,{is:j.is}):(o=U.createElement(p),p==="select"&&(U=o,j.multiple?U.multiple=!0:j.size&&(U.size=j.size))):o=U.createElementNS(o,p),o[On]=d,o[wd]=j,c2(o,d,!1,!1),d.stateNode=o;e:{switch(U=nt(p,j),p){case"dialog":gr("cancel",o),gr("close",o),C=j;break;case"iframe":case"object":case"embed":gr("load",o),C=j;break;case"video":case"audio":for(C=0;C<yd.length;C++)gr(yd[C],o);C=j;break;case"source":gr("error",o),C=j;break;case"img":case"image":case"link":gr("error",o),gr("load",o),C=j;break;case"details":gr("toggle",o),C=j;break;case"input":ht(o,j),C=Qe(o,j),gr("invalid",o);break;case"option":C=j;break;case"select":o._wrapperState={wasMultiple:!!j.multiple},C=de({},j,{value:void 0}),gr("invalid",o);break;case"textarea":ye(o,j),C=W(o,j),gr("invalid",o);break;default:C=j}$e(p,C),ae=C;for(O in ae)if(ae.hasOwnProperty(O)){var me=ae[O];O==="style"?J(o,me):O==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&at(o,me)):O==="children"?typeof me=="string"?(p!=="textarea"||me!=="")&&pt(o,me):typeof me=="number"&&pt(o,""+me):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(n.hasOwnProperty(O)?me!=null&&O==="onScroll"&&gr("scroll",o):me!=null&&k(o,O,me,U))}switch(p){case"input":et(o),pe(o,j,!1);break;case"textarea":et(o),V(o);break;case"option":j.value!=null&&o.setAttribute("value",""+ke(j.value));break;case"select":o.multiple=!!j.multiple,O=j.value,O!=null?he(o,!!j.multiple,O,!1):j.defaultValue!=null&&he(o,!!j.multiple,j.defaultValue,!0);break;default:typeof C.onClick=="function"&&(o.onclick=Im)}switch(p){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Ps(d),null;case 6:if(o&&d.stateNode!=null)u2(o,d,o.memoizedProps,j);else{if(typeof j!="string"&&d.stateNode===null)throw Error(s(166));if(p=Ll(_d.current),Ll(In.current),zm(d)){if(j=d.stateNode,p=d.memoizedProps,j[On]=d,(O=j.nodeValue!==p)&&(o=fa,o!==null))switch(o.tag){case 3:Om(j.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Om(j.nodeValue,p,(o.mode&1)!==0)}O&&(d.flags|=4)}else j=(p.nodeType===9?p:p.ownerDocument).createTextNode(j),j[On]=d,d.stateNode=j}return Ps(d),null;case 13:if(pr(Sr),j=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(yr&&ya!==null&&(d.mode&1)!==0&&(d.flags&128)===0)x1(),Go(),d.flags|=98560,O=!1;else if(O=zm(d),j!==null&&j.dehydrated!==null){if(o===null){if(!O)throw Error(s(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(s(317));O[On]=d}else Go(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ps(d),O=!1}else yn!==null&&(qp(yn),yn=null),O=!0;if(!O)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=p,d):(j=j!==null,j!==(o!==null&&o.memoizedState!==null)&&j&&(d.child.flags|=8192,(d.mode&1)!==0&&(o===null||(Sr.current&1)!==0?es===0&&(es=3):Wp())),d.updateQueue!==null&&(d.flags|=4),Ps(d),null);case 4:return Jo(),Rp(o,d),o===null&&bd(d.stateNode.containerInfo),Ps(d),null;case 10:return lp(d.type._context),Ps(d),null;case 17:return Xs(d.type)&&Lm(),Ps(d),null;case 19:if(pr(Sr),O=d.memoizedState,O===null)return Ps(d),null;if(j=(d.flags&128)!==0,U=O.rendering,U===null)if(j)Td(O,!1);else{if(es!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(U=Ym(o),U!==null){for(d.flags|=128,Td(O,!1),j=U.updateQueue,j!==null&&(d.updateQueue=j,d.flags|=4),d.subtreeFlags=0,j=p,p=d.child;p!==null;)O=p,o=j,O.flags&=14680066,U=O.alternate,U===null?(O.childLanes=0,O.lanes=o,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=U.childLanes,O.lanes=U.lanes,O.child=U.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=U.memoizedProps,O.memoizedState=U.memoizedState,O.updateQueue=U.updateQueue,O.type=U.type,o=U.dependencies,O.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return mr(Sr,Sr.current&1|2),d.child}o=o.sibling}O.tail!==null&&kr()>ec&&(d.flags|=128,j=!0,Td(O,!1),d.lanes=4194304)}else{if(!j)if(o=Ym(U),o!==null){if(d.flags|=128,j=!0,p=o.updateQueue,p!==null&&(d.updateQueue=p,d.flags|=4),Td(O,!0),O.tail===null&&O.tailMode==="hidden"&&!U.alternate&&!yr)return Ps(d),null}else 2*kr()-O.renderingStartTime>ec&&p!==1073741824&&(d.flags|=128,j=!0,Td(O,!1),d.lanes=4194304);O.isBackwards?(U.sibling=d.child,d.child=U):(p=O.last,p!==null?p.sibling=U:d.child=U,O.last=U)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=kr(),d.sibling=null,p=Sr.current,mr(Sr,j?p&1|2:p&1),d):(Ps(d),null);case 22:case 23:return Gp(),j=d.memoizedState!==null,o!==null&&o.memoizedState!==null!==j&&(d.flags|=8192),j&&(d.mode&1)!==0?(ba&1073741824)!==0&&(Ps(d),d.subtreeFlags&6&&(d.flags|=8192)):Ps(d),null;case 24:return null;case 25:return null}throw Error(s(156,d.tag))}function FM(o,d){switch(tp(d),d.tag){case 1:return Xs(d.type)&&Lm(),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return Jo(),pr(Js),pr(As),xp(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 5:return mp(d),null;case 13:if(pr(Sr),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(s(340));Go()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return pr(Sr),null;case 4:return Jo(),null;case 10:return lp(d.type._context),null;case 22:case 23:return Gp(),null;case 24:return null;default:return null}}var s0=!1,Es=!1,BM=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Zo(o,d){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(j){Dr(o,d,j)}else p.current=null}function Op(o,d,p){try{p()}catch(j){Dr(o,d,j)}}var m2=!1;function UM(o,d){if(Gg=Nm,o=qk(),$g(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var j=p.getSelection&&p.getSelection();if(j&&j.rangeCount!==0){p=j.anchorNode;var C=j.anchorOffset,O=j.focusNode;j=j.focusOffset;try{p.nodeType,O.nodeType}catch{p=null;break e}var U=0,ae=-1,me=-1,Ae=0,Ye=0,Je=o,We=null;t:for(;;){for(var mt;Je!==p||C!==0&&Je.nodeType!==3||(ae=U+C),Je!==O||j!==0&&Je.nodeType!==3||(me=U+j),Je.nodeType===3&&(U+=Je.nodeValue.length),(mt=Je.firstChild)!==null;)We=Je,Je=mt;for(;;){if(Je===o)break t;if(We===p&&++Ae===C&&(ae=U),We===O&&++Ye===j&&(me=U),(mt=Je.nextSibling)!==null)break;Je=We,We=Je.parentNode}Je=mt}p=ae===-1||me===-1?null:{start:ae,end:me}}else p=null}p=p||{start:0,end:0}}else p=null;for(Wg={focusedElem:o,selectionRange:p},Nm=!1,xt=d;xt!==null;)if(d=xt,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,xt=o;else for(;xt!==null;){d=xt;try{var ft=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(ft!==null){var vt=ft.memoizedProps,Br=ft.memoizedState,be=d.stateNode,ge=be.getSnapshotBeforeUpdate(d.elementType===d.type?vt:bn(d.type,vt),Br);be.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var je=d.stateNode.containerInfo;je.nodeType===1?je.textContent="":je.nodeType===9&&je.documentElement&&je.removeChild(je.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(st){Dr(d,d.return,st)}if(o=d.sibling,o!==null){o.return=d.return,xt=o;break}xt=d.return}return ft=m2,m2=!1,ft}function Dd(o,d,p){var j=d.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var C=j=j.next;do{if((C.tag&o)===o){var O=C.destroy;C.destroy=void 0,O!==void 0&&Op(d,p,O)}C=C.next}while(C!==j)}}function a0(o,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&o)===o){var j=p.create;p.destroy=j()}p=p.next}while(p!==d)}}function Ip(o){var d=o.ref;if(d!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof d=="function"?d(o):d.current=o}}function h2(o){var d=o.alternate;d!==null&&(o.alternate=null,h2(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&(delete d[On],delete d[wd],delete d[Xg],delete d[NM],delete d[kM])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function x2(o){return o.tag===5||o.tag===3||o.tag===4}function g2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||x2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Mp(o,d,p){var j=o.tag;if(j===5||j===6)o=o.stateNode,d?p.nodeType===8?p.parentNode.insertBefore(o,d):p.insertBefore(o,d):(p.nodeType===8?(d=p.parentNode,d.insertBefore(o,p)):(d=p,d.appendChild(o)),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=Im));else if(j!==4&&(o=o.child,o!==null))for(Mp(o,d,p),o=o.sibling;o!==null;)Mp(o,d,p),o=o.sibling}function Lp(o,d,p){var j=o.tag;if(j===5||j===6)o=o.stateNode,d?p.insertBefore(o,d):p.appendChild(o);else if(j!==4&&(o=o.child,o!==null))for(Lp(o,d,p),o=o.sibling;o!==null;)Lp(o,d,p),o=o.sibling}var ys=null,vn=!1;function Qi(o,d,p){for(p=p.child;p!==null;)p2(o,d,p),p=p.sibling}function p2(o,d,p){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Qt,p)}catch{}switch(p.tag){case 5:Es||Zo(p,d);case 6:var j=ys,C=vn;ys=null,Qi(o,d,p),ys=j,vn=C,ys!==null&&(vn?(o=ys,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):ys.removeChild(p.stateNode));break;case 18:ys!==null&&(vn?(o=ys,p=p.stateNode,o.nodeType===8?Jg(o.parentNode,p):o.nodeType===1&&Jg(o,p),dd(o)):Jg(ys,p.stateNode));break;case 4:j=ys,C=vn,ys=p.stateNode.containerInfo,vn=!0,Qi(o,d,p),ys=j,vn=C;break;case 0:case 11:case 14:case 15:if(!Es&&(j=p.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){C=j=j.next;do{var O=C,U=O.destroy;O=O.tag,U!==void 0&&((O&2)!==0||(O&4)!==0)&&Op(p,d,U),C=C.next}while(C!==j)}Qi(o,d,p);break;case 1:if(!Es&&(Zo(p,d),j=p.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=p.memoizedProps,j.state=p.memoizedState,j.componentWillUnmount()}catch(ae){Dr(p,d,ae)}Qi(o,d,p);break;case 21:Qi(o,d,p);break;case 22:p.mode&1?(Es=(j=Es)||p.memoizedState!==null,Qi(o,d,p),Es=j):Qi(o,d,p);break;default:Qi(o,d,p)}}function f2(o){var d=o.updateQueue;if(d!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new BM),d.forEach(function(j){var C=JM.bind(null,o,j);p.has(j)||(p.add(j),j.then(C,C))})}}function wn(o,d){var p=d.deletions;if(p!==null)for(var j=0;j<p.length;j++){var C=p[j];try{var O=o,U=d,ae=U;e:for(;ae!==null;){switch(ae.tag){case 5:ys=ae.stateNode,vn=!1;break e;case 3:ys=ae.stateNode.containerInfo,vn=!0;break e;case 4:ys=ae.stateNode.containerInfo,vn=!0;break e}ae=ae.return}if(ys===null)throw Error(s(160));p2(O,U,C),ys=null,vn=!1;var me=C.alternate;me!==null&&(me.return=null),C.return=null}catch(Ae){Dr(C,d,Ae)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)y2(d,o),d=d.sibling}function y2(o,d){var p=o.alternate,j=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(wn(d,o),Ln(o),j&4){try{Dd(3,o,o.return),a0(3,o)}catch(vt){Dr(o,o.return,vt)}try{Dd(5,o,o.return)}catch(vt){Dr(o,o.return,vt)}}break;case 1:wn(d,o),Ln(o),j&512&&p!==null&&Zo(p,p.return);break;case 5:if(wn(d,o),Ln(o),j&512&&p!==null&&Zo(p,p.return),o.flags&32){var C=o.stateNode;try{pt(C,"")}catch(vt){Dr(o,o.return,vt)}}if(j&4&&(C=o.stateNode,C!=null)){var O=o.memoizedProps,U=p!==null?p.memoizedProps:O,ae=o.type,me=o.updateQueue;if(o.updateQueue=null,me!==null)try{ae==="input"&&O.type==="radio"&&O.name!=null&&K(C,O),nt(ae,U);var Ae=nt(ae,O);for(U=0;U<me.length;U+=2){var Ye=me[U],Je=me[U+1];Ye==="style"?J(C,Je):Ye==="dangerouslySetInnerHTML"?at(C,Je):Ye==="children"?pt(C,Je):k(C,Ye,Je,Ae)}switch(ae){case"input":ne(C,O);break;case"textarea":P(C,O);break;case"select":var We=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!O.multiple;var mt=O.value;mt!=null?he(C,!!O.multiple,mt,!1):We!==!!O.multiple&&(O.defaultValue!=null?he(C,!!O.multiple,O.defaultValue,!0):he(C,!!O.multiple,O.multiple?[]:"",!1))}C[wd]=O}catch(vt){Dr(o,o.return,vt)}}break;case 6:if(wn(d,o),Ln(o),j&4){if(o.stateNode===null)throw Error(s(162));C=o.stateNode,O=o.memoizedProps;try{C.nodeValue=O}catch(vt){Dr(o,o.return,vt)}}break;case 3:if(wn(d,o),Ln(o),j&4&&p!==null&&p.memoizedState.isDehydrated)try{dd(d.containerInfo)}catch(vt){Dr(o,o.return,vt)}break;case 4:wn(d,o),Ln(o);break;case 13:wn(d,o),Ln(o),C=o.child,C.flags&8192&&(O=C.memoizedState!==null,C.stateNode.isHidden=O,!O||C.alternate!==null&&C.alternate.memoizedState!==null||(Bp=kr())),j&4&&f2(o);break;case 22:if(Ye=p!==null&&p.memoizedState!==null,o.mode&1?(Es=(Ae=Es)||Ye,wn(d,o),Es=Ae):wn(d,o),Ln(o),j&8192){if(Ae=o.memoizedState!==null,(o.stateNode.isHidden=Ae)&&!Ye&&(o.mode&1)!==0)for(xt=o,Ye=o.child;Ye!==null;){for(Je=xt=Ye;xt!==null;){switch(We=xt,mt=We.child,We.tag){case 0:case 11:case 14:case 15:Dd(4,We,We.return);break;case 1:Zo(We,We.return);var ft=We.stateNode;if(typeof ft.componentWillUnmount=="function"){j=We,p=We.return;try{d=j,ft.props=d.memoizedProps,ft.state=d.memoizedState,ft.componentWillUnmount()}catch(vt){Dr(j,p,vt)}}break;case 5:Zo(We,We.return);break;case 22:if(We.memoizedState!==null){w2(Je);continue}}mt!==null?(mt.return=We,xt=mt):w2(Je)}Ye=Ye.sibling}e:for(Ye=null,Je=o;;){if(Je.tag===5){if(Ye===null){Ye=Je;try{C=Je.stateNode,Ae?(O=C.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(ae=Je.stateNode,me=Je.memoizedProps.style,U=me!=null&&me.hasOwnProperty("display")?me.display:null,ae.style.display=qe("display",U))}catch(vt){Dr(o,o.return,vt)}}}else if(Je.tag===6){if(Ye===null)try{Je.stateNode.nodeValue=Ae?"":Je.memoizedProps}catch(vt){Dr(o,o.return,vt)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===o)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===o)break e;for(;Je.sibling===null;){if(Je.return===null||Je.return===o)break e;Ye===Je&&(Ye=null),Je=Je.return}Ye===Je&&(Ye=null),Je.sibling.return=Je.return,Je=Je.sibling}}break;case 19:wn(d,o),Ln(o),j&4&&f2(o);break;case 21:break;default:wn(d,o),Ln(o)}}function Ln(o){var d=o.flags;if(d&2){try{e:{for(var p=o.return;p!==null;){if(x2(p)){var j=p;break e}p=p.return}throw Error(s(160))}switch(j.tag){case 5:var C=j.stateNode;j.flags&32&&(pt(C,""),j.flags&=-33);var O=g2(o);Lp(o,O,C);break;case 3:case 4:var U=j.stateNode.containerInfo,ae=g2(o);Mp(o,ae,U);break;default:throw Error(s(161))}}catch(me){Dr(o,o.return,me)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function zM(o,d,p){xt=o,b2(o)}function b2(o,d,p){for(var j=(o.mode&1)!==0;xt!==null;){var C=xt,O=C.child;if(C.tag===22&&j){var U=C.memoizedState!==null||s0;if(!U){var ae=C.alternate,me=ae!==null&&ae.memoizedState!==null||Es;ae=s0;var Ae=Es;if(s0=U,(Es=me)&&!Ae)for(xt=C;xt!==null;)U=xt,me=U.child,U.tag===22&&U.memoizedState!==null?j2(C):me!==null?(me.return=U,xt=me):j2(C);for(;O!==null;)xt=O,b2(O),O=O.sibling;xt=C,s0=ae,Es=Ae}v2(o)}else(C.subtreeFlags&8772)!==0&&O!==null?(O.return=C,xt=O):v2(o)}}function v2(o){for(;xt!==null;){var d=xt;if((d.flags&8772)!==0){var p=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Es||a0(5,d);break;case 1:var j=d.stateNode;if(d.flags&4&&!Es)if(p===null)j.componentDidMount();else{var C=d.elementType===d.type?p.memoizedProps:bn(d.type,p.memoizedProps);j.componentDidUpdate(C,p.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var O=d.updateQueue;O!==null&&w1(d,O,j);break;case 3:var U=d.updateQueue;if(U!==null){if(p=null,d.child!==null)switch(d.child.tag){case 5:p=d.child.stateNode;break;case 1:p=d.child.stateNode}w1(d,U,p)}break;case 5:var ae=d.stateNode;if(p===null&&d.flags&4){p=ae;var me=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&p.focus();break;case"img":me.src&&(p.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Ae=d.alternate;if(Ae!==null){var Ye=Ae.memoizedState;if(Ye!==null){var Je=Ye.dehydrated;Je!==null&&dd(Je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Es||d.flags&512&&Ip(d)}catch(We){Dr(d,d.return,We)}}if(d===o){xt=null;break}if(p=d.sibling,p!==null){p.return=d.return,xt=p;break}xt=d.return}}function w2(o){for(;xt!==null;){var d=xt;if(d===o){xt=null;break}var p=d.sibling;if(p!==null){p.return=d.return,xt=p;break}xt=d.return}}function j2(o){for(;xt!==null;){var d=xt;try{switch(d.tag){case 0:case 11:case 15:var p=d.return;try{a0(4,d)}catch(me){Dr(d,p,me)}break;case 1:var j=d.stateNode;if(typeof j.componentDidMount=="function"){var C=d.return;try{j.componentDidMount()}catch(me){Dr(d,C,me)}}var O=d.return;try{Ip(d)}catch(me){Dr(d,O,me)}break;case 5:var U=d.return;try{Ip(d)}catch(me){Dr(d,U,me)}}}catch(me){Dr(d,d.return,me)}if(d===o){xt=null;break}var ae=d.sibling;if(ae!==null){ae.return=d.return,xt=ae;break}xt=d.return}}var VM=Math.ceil,n0=v.ReactCurrentDispatcher,$p=v.ReactCurrentOwner,Ga=v.ReactCurrentBatchConfig,Xt=0,ds=null,Wr=null,bs=0,ba=0,Qo=Yi(0),es=0,Rd=null,Fl=0,i0=0,Fp=0,Od=null,Qs=null,Bp=0,ec=1/0,ni=null,l0=!1,Up=null,el=null,o0=!1,tl=null,c0=0,Id=0,zp=null,d0=-1,u0=0;function Us(){return(Xt&6)!==0?kr():d0!==-1?d0:d0=kr()}function rl(o){return(o.mode&1)===0?1:(Xt&2)!==0&&bs!==0?bs&-bs:_M.transition!==null?(u0===0&&(u0=gk()),u0):(o=ar,o!==0||(o=window.event,o=o===void 0?16:kk(o.type)),o)}function jn(o,d,p,j){if(50<Id)throw Id=0,zp=null,Error(s(185));nd(o,p,j),((Xt&2)===0||o!==ds)&&(o===ds&&((Xt&2)===0&&(i0|=p),es===4&&sl(o,bs)),ea(o,j),p===1&&Xt===0&&(d.mode&1)===0&&(ec=kr()+500,Fm&&Ji()))}function ea(o,d){var p=o.callbackNode;_I(o,d);var j=vm(o,o===ds?bs:0);if(j===0)p!==null&&Xn(p),o.callbackNode=null,o.callbackPriority=0;else if(d=j&-j,o.callbackPriority!==d){if(p!=null&&Xn(p),d===1)o.tag===0?SM(k2.bind(null,o)):c1(k2.bind(null,o)),wM(function(){(Xt&6)===0&&Ji()}),p=null;else{switch(pk(j)){case 1:p=Y;break;case 4:p=we;break;case 16:p=Be;break;case 536870912:p=_t;break;default:p=Be}p=D2(p,N2.bind(null,o))}o.callbackPriority=d,o.callbackNode=p}}function N2(o,d){if(d0=-1,u0=0,(Xt&6)!==0)throw Error(s(327));var p=o.callbackNode;if(tc()&&o.callbackNode!==p)return null;var j=vm(o,o===ds?bs:0);if(j===0)return null;if((j&30)!==0||(j&o.expiredLanes)!==0||d)d=m0(o,j);else{d=j;var C=Xt;Xt|=2;var O=_2();(ds!==o||bs!==d)&&(ni=null,ec=kr()+500,Ul(o,d));do try{GM();break}catch(ae){S2(o,ae)}while(!0);ip(),n0.current=O,Xt=C,Wr!==null?d=0:(ds=null,bs=0,d=es)}if(d!==0){if(d===2&&(C=jg(o),C!==0&&(j=C,d=Vp(o,C))),d===1)throw p=Rd,Ul(o,0),sl(o,j),ea(o,kr()),p;if(d===6)sl(o,j);else{if(C=o.current.alternate,(j&30)===0&&!qM(C)&&(d=m0(o,j),d===2&&(O=jg(o),O!==0&&(j=O,d=Vp(o,O))),d===1))throw p=Rd,Ul(o,0),sl(o,j),ea(o,kr()),p;switch(o.finishedWork=C,o.finishedLanes=j,d){case 0:case 1:throw Error(s(345));case 2:zl(o,Qs,ni);break;case 3:if(sl(o,j),(j&130023424)===j&&(d=Bp+500-kr(),10<d)){if(vm(o,0)!==0)break;if(C=o.suspendedLanes,(C&j)!==j){Us(),o.pingedLanes|=o.suspendedLanes&C;break}o.timeoutHandle=Kg(zl.bind(null,o,Qs,ni),d);break}zl(o,Qs,ni);break;case 4:if(sl(o,j),(j&4194240)===j)break;for(d=o.eventTimes,C=-1;0<j;){var U=31-Fr(j);O=1<<U,U=d[U],U>C&&(C=U),j&=~O}if(j=C,j=kr()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*VM(j/1960))-j,10<j){o.timeoutHandle=Kg(zl.bind(null,o,Qs,ni),j);break}zl(o,Qs,ni);break;case 5:zl(o,Qs,ni);break;default:throw Error(s(329))}}}return ea(o,kr()),o.callbackNode===p?N2.bind(null,o):null}function Vp(o,d){var p=Od;return o.current.memoizedState.isDehydrated&&(Ul(o,d).flags|=256),o=m0(o,d),o!==2&&(d=Qs,Qs=p,d!==null&&qp(d)),o}function qp(o){Qs===null?Qs=o:Qs.push.apply(Qs,o)}function qM(o){for(var d=o;;){if(d.flags&16384){var p=d.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var j=0;j<p.length;j++){var C=p[j],O=C.getSnapshot;C=C.value;try{if(!fn(O(),C))return!1}catch{return!1}}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function sl(o,d){for(d&=~Fp,d&=~i0,o.suspendedLanes|=d,o.pingedLanes&=~d,o=o.expirationTimes;0<d;){var p=31-Fr(d),j=1<<p;o[p]=-1,d&=~j}}function k2(o){if((Xt&6)!==0)throw Error(s(327));tc();var d=vm(o,0);if((d&1)===0)return ea(o,kr()),null;var p=m0(o,d);if(o.tag!==0&&p===2){var j=jg(o);j!==0&&(d=j,p=Vp(o,j))}if(p===1)throw p=Rd,Ul(o,0),sl(o,d),ea(o,kr()),p;if(p===6)throw Error(s(345));return o.finishedWork=o.current.alternate,o.finishedLanes=d,zl(o,Qs,ni),ea(o,kr()),null}function Hp(o,d){var p=Xt;Xt|=1;try{return o(d)}finally{Xt=p,Xt===0&&(ec=kr()+500,Fm&&Ji())}}function Bl(o){tl!==null&&tl.tag===0&&(Xt&6)===0&&tc();var d=Xt;Xt|=1;var p=Ga.transition,j=ar;try{if(Ga.transition=null,ar=1,o)return o()}finally{ar=j,Ga.transition=p,Xt=d,(Xt&6)===0&&Ji()}}function Gp(){ba=Qo.current,pr(Qo)}function Ul(o,d){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,vM(p)),Wr!==null)for(p=Wr.return;p!==null;){var j=p;switch(tp(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&Lm();break;case 3:Jo(),pr(Js),pr(As),xp();break;case 5:mp(j);break;case 4:Jo();break;case 13:pr(Sr);break;case 19:pr(Sr);break;case 10:lp(j.type._context);break;case 22:case 23:Gp()}p=p.return}if(ds=o,Wr=o=al(o.current,null),bs=ba=d,es=0,Rd=null,Fp=i0=Fl=0,Qs=Od=null,Ml!==null){for(d=0;d<Ml.length;d++)if(p=Ml[d],j=p.interleaved,j!==null){p.interleaved=null;var C=j.next,O=p.pending;if(O!==null){var U=O.next;O.next=C,j.next=U}p.pending=j}Ml=null}return o}function S2(o,d){do{var p=Wr;try{if(ip(),Km.current=Qm,Jm){for(var j=_r.memoizedState;j!==null;){var C=j.queue;C!==null&&(C.pending=null),j=j.next}Jm=!1}if($l=0,cs=Qr=_r=null,Ad=!1,Cd=0,$p.current=null,p===null||p.return===null){es=1,Rd=d,Wr=null;break}e:{var O=o,U=p.return,ae=p,me=d;if(d=bs,ae.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ae=me,Ye=ae,Je=Ye.tag;if((Ye.mode&1)===0&&(Je===0||Je===11||Je===15)){var We=Ye.alternate;We?(Ye.updateQueue=We.updateQueue,Ye.memoizedState=We.memoizedState,Ye.lanes=We.lanes):(Ye.updateQueue=null,Ye.memoizedState=null)}var mt=J1(U);if(mt!==null){mt.flags&=-257,X1(mt,U,ae,O,d),mt.mode&1&&K1(O,Ae,d),d=mt,me=Ae;var ft=d.updateQueue;if(ft===null){var vt=new Set;vt.add(me),d.updateQueue=vt}else ft.add(me);break e}else{if((d&1)===0){K1(O,Ae,d),Wp();break e}me=Error(s(426))}}else if(yr&&ae.mode&1){var Br=J1(U);if(Br!==null){(Br.flags&65536)===0&&(Br.flags|=256),X1(Br,U,ae,O,d),ap(Xo(me,ae));break e}}O=me=Xo(me,ae),es!==4&&(es=2),Od===null?Od=[O]:Od.push(O),O=U;do{switch(O.tag){case 3:O.flags|=65536,d&=-d,O.lanes|=d;var be=W1(O,me,d);v1(O,be);break e;case 1:ae=me;var ge=O.type,je=O.stateNode;if((O.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||je!==null&&typeof je.componentDidCatch=="function"&&(el===null||!el.has(je)))){O.flags|=65536,d&=-d,O.lanes|=d;var st=Y1(O,ae,d);v1(O,st);break e}}O=O.return}while(O!==null)}C2(p)}catch(St){d=St,Wr===p&&p!==null&&(Wr=p=p.return);continue}break}while(!0)}function _2(){var o=n0.current;return n0.current=Qm,o===null?Qm:o}function Wp(){(es===0||es===3||es===2)&&(es=4),ds===null||(Fl&268435455)===0&&(i0&268435455)===0||sl(ds,bs)}function m0(o,d){var p=Xt;Xt|=2;var j=_2();(ds!==o||bs!==d)&&(ni=null,Ul(o,d));do try{HM();break}catch(C){S2(o,C)}while(!0);if(ip(),Xt=p,n0.current=j,Wr!==null)throw Error(s(261));return ds=null,bs=0,es}function HM(){for(;Wr!==null;)A2(Wr)}function GM(){for(;Wr!==null&&!vg();)A2(Wr)}function A2(o){var d=T2(o.alternate,o,ba);o.memoizedProps=o.pendingProps,d===null?C2(o):Wr=d,$p.current=null}function C2(o){var d=o;do{var p=d.alternate;if(o=d.return,(d.flags&32768)===0){if(p=$M(p,d,ba),p!==null){Wr=p;return}}else{if(p=FM(p,d),p!==null){p.flags&=32767,Wr=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{es=6,Wr=null;return}}if(d=d.sibling,d!==null){Wr=d;return}Wr=d=o}while(d!==null);es===0&&(es=5)}function zl(o,d,p){var j=ar,C=Ga.transition;try{Ga.transition=null,ar=1,WM(o,d,p,j)}finally{Ga.transition=C,ar=j}return null}function WM(o,d,p,j){do tc();while(tl!==null);if((Xt&6)!==0)throw Error(s(327));p=o.finishedWork;var C=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(s(177));o.callbackNode=null,o.callbackPriority=0;var O=p.lanes|p.childLanes;if(AI(o,O),o===ds&&(Wr=ds=null,bs=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||o0||(o0=!0,D2(Be,function(){return tc(),null})),O=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||O){O=Ga.transition,Ga.transition=null;var U=ar;ar=1;var ae=Xt;Xt|=4,$p.current=null,UM(o,p),y2(p,o),hM(Wg),Nm=!!Gg,Wg=Gg=null,o.current=p,zM(p),ym(),Xt=ae,ar=U,Ga.transition=O}else o.current=p;if(o0&&(o0=!1,tl=o,c0=C),O=o.pendingLanes,O===0&&(el=null),$r(p.stateNode),ea(o,kr()),d!==null)for(j=o.onRecoverableError,p=0;p<d.length;p++)C=d[p],j(C.value,{componentStack:C.stack,digest:C.digest});if(l0)throw l0=!1,o=Up,Up=null,o;return(c0&1)!==0&&o.tag!==0&&tc(),O=o.pendingLanes,(O&1)!==0?o===zp?Id++:(Id=0,zp=o):Id=0,Ji(),null}function tc(){if(tl!==null){var o=pk(c0),d=Ga.transition,p=ar;try{if(Ga.transition=null,ar=16>o?16:o,tl===null)var j=!1;else{if(o=tl,tl=null,c0=0,(Xt&6)!==0)throw Error(s(331));var C=Xt;for(Xt|=4,xt=o.current;xt!==null;){var O=xt,U=O.child;if((xt.flags&16)!==0){var ae=O.deletions;if(ae!==null){for(var me=0;me<ae.length;me++){var Ae=ae[me];for(xt=Ae;xt!==null;){var Ye=xt;switch(Ye.tag){case 0:case 11:case 15:Dd(8,Ye,O)}var Je=Ye.child;if(Je!==null)Je.return=Ye,xt=Je;else for(;xt!==null;){Ye=xt;var We=Ye.sibling,mt=Ye.return;if(h2(Ye),Ye===Ae){xt=null;break}if(We!==null){We.return=mt,xt=We;break}xt=mt}}}var ft=O.alternate;if(ft!==null){var vt=ft.child;if(vt!==null){ft.child=null;do{var Br=vt.sibling;vt.sibling=null,vt=Br}while(vt!==null)}}xt=O}}if((O.subtreeFlags&2064)!==0&&U!==null)U.return=O,xt=U;else e:for(;xt!==null;){if(O=xt,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Dd(9,O,O.return)}var be=O.sibling;if(be!==null){be.return=O.return,xt=be;break e}xt=O.return}}var ge=o.current;for(xt=ge;xt!==null;){U=xt;var je=U.child;if((U.subtreeFlags&2064)!==0&&je!==null)je.return=U,xt=je;else e:for(U=ge;xt!==null;){if(ae=xt,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:a0(9,ae)}}catch(St){Dr(ae,ae.return,St)}if(ae===U){xt=null;break e}var st=ae.sibling;if(st!==null){st.return=ae.return,xt=st;break e}xt=ae.return}}if(Xt=C,Ji(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Qt,o)}catch{}j=!0}return j}finally{ar=p,Ga.transition=d}}return!1}function P2(o,d,p){d=Xo(p,d),d=W1(o,d,1),o=Zi(o,d,1),d=Us(),o!==null&&(nd(o,1,d),ea(o,d))}function Dr(o,d,p){if(o.tag===3)P2(o,o,p);else for(;d!==null;){if(d.tag===3){P2(d,o,p);break}else if(d.tag===1){var j=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(el===null||!el.has(j))){o=Xo(p,o),o=Y1(d,o,1),d=Zi(d,o,1),o=Us(),d!==null&&(nd(d,1,o),ea(d,o));break}}d=d.return}}function YM(o,d,p){var j=o.pingCache;j!==null&&j.delete(d),d=Us(),o.pingedLanes|=o.suspendedLanes&p,ds===o&&(bs&p)===p&&(es===4||es===3&&(bs&130023424)===bs&&500>kr()-Bp?Ul(o,0):Fp|=p),ea(o,d)}function E2(o,d){d===0&&((o.mode&1)===0?d=1:(d=bm,bm<<=1,(bm&130023424)===0&&(bm=4194304)));var p=Us();o=ri(o,d),o!==null&&(nd(o,d,p),ea(o,p))}function KM(o){var d=o.memoizedState,p=0;d!==null&&(p=d.retryLane),E2(o,p)}function JM(o,d){var p=0;switch(o.tag){case 13:var j=o.stateNode,C=o.memoizedState;C!==null&&(p=C.retryLane);break;case 19:j=o.stateNode;break;default:throw Error(s(314))}j!==null&&j.delete(d),E2(o,p)}var T2;T2=function(o,d,p){if(o!==null)if(o.memoizedProps!==d.pendingProps||Js.current)Zs=!0;else{if((o.lanes&p)===0&&(d.flags&128)===0)return Zs=!1,LM(o,d,p);Zs=(o.flags&131072)!==0}else Zs=!1,yr&&(d.flags&1048576)!==0&&d1(d,Um,d.index);switch(d.lanes=0,d.tag){case 2:var j=d.type;r0(o,d),o=d.pendingProps;var C=Vo(d,As.current);Ko(d,p),C=fp(null,d,j,o,C,p);var O=yp();return d.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Xs(j)?(O=!0,$m(d)):O=!1,d.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,dp(d),C.updater=e0,d.stateNode=C,C._reactInternals=d,kp(d,j,o,p),d=Cp(null,d,j,!0,O,p)):(d.tag=0,yr&&O&&ep(d),Bs(null,d,C,p),d=d.child),d;case 16:j=d.elementType;e:{switch(r0(o,d),o=d.pendingProps,C=j._init,j=C(j._payload),d.type=j,C=d.tag=ZM(j),o=bn(j,o),C){case 0:d=Ap(null,d,j,o,p);break e;case 1:d=s2(null,d,j,o,p);break e;case 11:d=Z1(null,d,j,o,p);break e;case 14:d=Q1(null,d,j,bn(j.type,o),p);break e}throw Error(s(306,j,""))}return d;case 0:return j=d.type,C=d.pendingProps,C=d.elementType===j?C:bn(j,C),Ap(o,d,j,C,p);case 1:return j=d.type,C=d.pendingProps,C=d.elementType===j?C:bn(j,C),s2(o,d,j,C,p);case 3:e:{if(a2(d),o===null)throw Error(s(387));j=d.pendingProps,O=d.memoizedState,C=O.element,b1(o,d),Wm(d,j,null,p);var U=d.memoizedState;if(j=U.element,O.isDehydrated)if(O={element:j,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},d.updateQueue.baseState=O,d.memoizedState=O,d.flags&256){C=Xo(Error(s(423)),d),d=n2(o,d,j,p,C);break e}else if(j!==C){C=Xo(Error(s(424)),d),d=n2(o,d,j,p,C);break e}else for(ya=Wi(d.stateNode.containerInfo.firstChild),fa=d,yr=!0,yn=null,p=f1(d,null,j,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Go(),j===C){d=ai(o,d,p);break e}Bs(o,d,j,p)}d=d.child}return d;case 5:return j1(d),o===null&&sp(d),j=d.type,C=d.pendingProps,O=o!==null?o.memoizedProps:null,U=C.children,Yg(j,C)?U=null:O!==null&&Yg(j,O)&&(d.flags|=32),r2(o,d),Bs(o,d,U,p),d.child;case 6:return o===null&&sp(d),null;case 13:return i2(o,d,p);case 4:return up(d,d.stateNode.containerInfo),j=d.pendingProps,o===null?d.child=Wo(d,null,j,p):Bs(o,d,j,p),d.child;case 11:return j=d.type,C=d.pendingProps,C=d.elementType===j?C:bn(j,C),Z1(o,d,j,C,p);case 7:return Bs(o,d,d.pendingProps,p),d.child;case 8:return Bs(o,d,d.pendingProps.children,p),d.child;case 12:return Bs(o,d,d.pendingProps.children,p),d.child;case 10:e:{if(j=d.type._context,C=d.pendingProps,O=d.memoizedProps,U=C.value,mr(qm,j._currentValue),j._currentValue=U,O!==null)if(fn(O.value,U)){if(O.children===C.children&&!Js.current){d=ai(o,d,p);break e}}else for(O=d.child,O!==null&&(O.return=d);O!==null;){var ae=O.dependencies;if(ae!==null){U=O.child;for(var me=ae.firstContext;me!==null;){if(me.context===j){if(O.tag===1){me=si(-1,p&-p),me.tag=2;var Ae=O.updateQueue;if(Ae!==null){Ae=Ae.shared;var Ye=Ae.pending;Ye===null?me.next=me:(me.next=Ye.next,Ye.next=me),Ae.pending=me}}O.lanes|=p,me=O.alternate,me!==null&&(me.lanes|=p),op(O.return,p,d),ae.lanes|=p;break}me=me.next}}else if(O.tag===10)U=O.type===d.type?null:O.child;else if(O.tag===18){if(U=O.return,U===null)throw Error(s(341));U.lanes|=p,ae=U.alternate,ae!==null&&(ae.lanes|=p),op(U,p,d),U=O.sibling}else U=O.child;if(U!==null)U.return=O;else for(U=O;U!==null;){if(U===d){U=null;break}if(O=U.sibling,O!==null){O.return=U.return,U=O;break}U=U.return}O=U}Bs(o,d,C.children,p),d=d.child}return d;case 9:return C=d.type,j=d.pendingProps.children,Ko(d,p),C=qa(C),j=j(C),d.flags|=1,Bs(o,d,j,p),d.child;case 14:return j=d.type,C=bn(j,d.pendingProps),C=bn(j.type,C),Q1(o,d,j,C,p);case 15:return e2(o,d,d.type,d.pendingProps,p);case 17:return j=d.type,C=d.pendingProps,C=d.elementType===j?C:bn(j,C),r0(o,d),d.tag=1,Xs(j)?(o=!0,$m(d)):o=!1,Ko(d,p),H1(d,j,C),kp(d,j,C,p),Cp(null,d,j,!0,o,p);case 19:return o2(o,d,p);case 22:return t2(o,d,p)}throw Error(s(156,d.tag))};function D2(o,d){return Do(o,d)}function XM(o,d,p,j){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(o,d,p,j){return new XM(o,d,p,j)}function Yp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ZM(o){if(typeof o=="function")return Yp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===B)return 11;if(o===L)return 14}return 2}function al(o,d){var p=o.alternate;return p===null?(p=Wa(o.tag,d,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=d,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,d=o.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function h0(o,d,p,j,C,O){var U=2;if(j=o,typeof o=="function")Yp(o)&&(U=1);else if(typeof o=="string")U=5;else e:switch(o){case T:return Vl(p.children,C,O,d);case F:U=8,C|=8;break;case R:return o=Wa(12,p,d,C|2),o.elementType=R,o.lanes=O,o;case H:return o=Wa(13,p,d,C),o.elementType=H,o.lanes=O,o;case I:return o=Wa(19,p,d,C),o.elementType=I,o.lanes=O,o;case q:return x0(p,C,O,d);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case D:U=10;break e;case $:U=9;break e;case B:U=11;break e;case L:U=14;break e;case M:U=16,j=null;break e}throw Error(s(130,o==null?o:typeof o,""))}return d=Wa(U,p,d,C),d.elementType=o,d.type=j,d.lanes=O,d}function Vl(o,d,p,j){return o=Wa(7,o,j,d),o.lanes=p,o}function x0(o,d,p,j){return o=Wa(22,o,j,d),o.elementType=q,o.lanes=p,o.stateNode={isHidden:!1},o}function Kp(o,d,p){return o=Wa(6,o,null,d),o.lanes=p,o}function Jp(o,d,p){return d=Wa(4,o.children!==null?o.children:[],o.key,d),d.lanes=p,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}function QM(o,d,p,j,C){this.tag=d,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ng(0),this.expirationTimes=Ng(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ng(0),this.identifierPrefix=j,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Xp(o,d,p,j,C,O,U,ae,me){return o=new QM(o,d,p,ae,me),d===1?(d=1,O===!0&&(d|=8)):d=0,O=Wa(3,null,null,d),o.current=O,O.stateNode=o,O.memoizedState={element:j,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},dp(O),o}function e7(o,d,p){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:j==null?null:""+j,children:o,containerInfo:d,implementation:p}}function R2(o){if(!o)return Ki;o=o._reactInternals;e:{if(fs(o)!==o||o.tag!==1)throw Error(s(170));var d=o;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Xs(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(s(171))}if(o.tag===1){var p=o.type;if(Xs(p))return l1(o,p,d)}return d}function O2(o,d,p,j,C,O,U,ae,me){return o=Xp(p,j,!0,o,C,O,U,ae,me),o.context=R2(null),p=o.current,j=Us(),C=rl(p),O=si(j,C),O.callback=d??null,Zi(p,O,C),o.current.lanes=C,nd(o,C,j),ea(o,j),o}function g0(o,d,p,j){var C=d.current,O=Us(),U=rl(C);return p=R2(p),d.context===null?d.context=p:d.pendingContext=p,d=si(O,U),d.payload={element:o},j=j===void 0?null:j,j!==null&&(d.callback=j),o=Zi(C,d,U),o!==null&&(jn(o,C,U,O),Gm(o,C,U)),U}function p0(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function I2(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<d?p:d}}function Zp(o,d){I2(o,d),(o=o.alternate)&&I2(o,d)}function t7(){return null}var M2=typeof reportError=="function"?reportError:function(o){console.error(o)};function Qp(o){this._internalRoot=o}f0.prototype.render=Qp.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(s(409));g0(o,d,null,null)},f0.prototype.unmount=Qp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;Bl(function(){g0(null,o,null,null)}),d[Zn]=null}};function f0(o){this._internalRoot=o}f0.prototype.unstable_scheduleHydration=function(o){if(o){var d=bk();o={blockedOn:null,target:o,priority:d};for(var p=0;p<qi.length&&d!==0&&d<qi[p].priority;p++);qi.splice(p,0,o),p===0&&jk(o)}};function ef(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function y0(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function L2(){}function r7(o,d,p,j,C){if(C){if(typeof j=="function"){var O=j;j=function(){var Ae=p0(U);O.call(Ae)}}var U=O2(d,j,o,0,null,!1,!1,"",L2);return o._reactRootContainer=U,o[Zn]=U.current,bd(o.nodeType===8?o.parentNode:o),Bl(),U}for(;C=o.lastChild;)o.removeChild(C);if(typeof j=="function"){var ae=j;j=function(){var Ae=p0(me);ae.call(Ae)}}var me=Xp(o,0,!1,null,null,!1,!1,"",L2);return o._reactRootContainer=me,o[Zn]=me.current,bd(o.nodeType===8?o.parentNode:o),Bl(function(){g0(d,me,p,j)}),me}function b0(o,d,p,j,C){var O=p._reactRootContainer;if(O){var U=O;if(typeof C=="function"){var ae=C;C=function(){var me=p0(U);ae.call(me)}}g0(d,U,o,C)}else U=r7(p,d,o,C,j);return p0(U)}fk=function(o){switch(o.tag){case 3:var d=o.stateNode;if(d.current.memoizedState.isDehydrated){var p=ad(d.pendingLanes);p!==0&&(kg(d,p|1),ea(d,kr()),(Xt&6)===0&&(ec=kr()+500,Ji()))}break;case 13:Bl(function(){var j=ri(o,1);if(j!==null){var C=Us();jn(j,o,1,C)}}),Zp(o,1)}},Sg=function(o){if(o.tag===13){var d=ri(o,134217728);if(d!==null){var p=Us();jn(d,o,134217728,p)}Zp(o,134217728)}},yk=function(o){if(o.tag===13){var d=rl(o),p=ri(o,d);if(p!==null){var j=Us();jn(p,o,d,j)}Zp(o,d)}},bk=function(){return ar},vk=function(o,d){var p=ar;try{return ar=o,d()}finally{ar=p}},Ce=function(o,d,p){switch(d){case"input":if(ne(o,p),d=p.name,p.type==="radio"&&d!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<p.length;d++){var j=p[d];if(j!==o&&j.form===o.form){var C=Mm(j);if(!C)throw Error(s(90));ve(j),ne(j,C)}}}break;case"textarea":P(o,p);break;case"select":d=p.value,d!=null&&he(o,!!p.multiple,d,!1)}},Ue=Hp,ue=Bl;var s7={usingClientEntryPoint:!1,Events:[jd,Uo,Mm,le,Oe,Hp]},Md={findFiberByHostInstance:Dl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a7={bundleType:Md.bundleType,version:Md.version,rendererPackageName:Md.rendererPackageName,rendererConfig:Md.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Eo(o),o===null?null:o.stateNode},findFiberByHostInstance:Md.findFiberByHostInstance||t7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var v0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!v0.isDisabled&&v0.supportsFiber)try{Qt=v0.inject(a7),Kt=v0}catch{}}return ta.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s7,ta.createPortal=function(o,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ef(d))throw Error(s(200));return e7(o,d,null,p)},ta.createRoot=function(o,d){if(!ef(o))throw Error(s(299));var p=!1,j="",C=M2;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(C=d.onRecoverableError)),d=Xp(o,1,!1,null,null,p,!1,j,C),o[Zn]=d.current,bd(o.nodeType===8?o.parentNode:o),new Qp(d)},ta.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return o=Eo(d),o=o===null?null:o.stateNode,o},ta.flushSync=function(o){return Bl(o)},ta.hydrate=function(o,d,p){if(!y0(d))throw Error(s(200));return b0(null,o,d,!0,p)},ta.hydrateRoot=function(o,d,p){if(!ef(o))throw Error(s(405));var j=p!=null&&p.hydratedSources||null,C=!1,O="",U=M2;if(p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(O=p.identifierPrefix),p.onRecoverableError!==void 0&&(U=p.onRecoverableError)),d=O2(d,null,o,1,p??null,C,!1,O,U),o[Zn]=d.current,bd(o),j)for(o=0;o<j.length;o++)p=j[o],C=p._getVersion,C=C(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,C]:d.mutableSourceEagerHydrationData.push(p,C);return new f0(d)},ta.render=function(o,d,p){if(!y0(d))throw Error(s(200));return b0(null,o,d,!1,p)},ta.unmountComponentAtNode=function(o){if(!y0(o))throw Error(s(40));return o._reactRootContainer?(Bl(function(){b0(null,null,o,!1,function(){o._reactRootContainer=null,o[Zn]=null})}),!0):!1},ta.unstable_batchedUpdates=Hp,ta.unstable_renderSubtreeIntoContainer=function(o,d,p,j){if(!y0(p))throw Error(s(200));if(o==null||o._reactInternals===void 0)throw Error(s(38));return b0(o,d,p,!1,j)},ta.version="18.3.1-next-f1338f8080-20240426",ta}var H2;function v3(){if(H2)return sf.exports;H2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),sf.exports=h7(),sf.exports}var G2;function x7(){if(G2)return w0;G2=1;var t=v3();return w0.createRoot=t.createRoot,w0.hydrateRoot=t.hydrateRoot,w0}var g7=x7();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var W2="popstate";function p7(t={}){function r(a,n){let{pathname:i,search:l,hash:c}=a.location;return vb("",{pathname:i,search:l,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:pu(n)}return y7(r,s,null,t)}function wr(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function dn(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function f7(){return Math.random().toString(36).substring(2,10)}function Y2(t,r){return{usr:t.state,key:t.key,idx:r}}function vb(t,r,s=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof r=="string"?$c(r):r,state:s,key:r&&r.key||a||f7()}}function pu({pathname:t="/",search:r="",hash:s=""}){return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function $c(t){let r={};if(t){let s=t.indexOf("#");s>=0&&(r.hash=t.substring(s),t=t.substring(0,s));let a=t.indexOf("?");a>=0&&(r.search=t.substring(a),t=t.substring(0,a)),t&&(r.pathname=t)}return r}function y7(t,r,s,a={}){let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,c="POP",u=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function x(){c="POP";let N=m(),_=N==null?null:N-h;h=N,u&&u({action:c,location:w.location,delta:_})}function g(N,_){c="PUSH";let S=vb(w.location,N,_);h=m()+1;let k=Y2(S,h),v=w.createHref(S);try{l.pushState(k,"",v)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;n.location.assign(v)}i&&u&&u({action:c,location:w.location,delta:1})}function b(N,_){c="REPLACE";let S=vb(w.location,N,_);h=m();let k=Y2(S,h),v=w.createHref(S);l.replaceState(k,"",v),i&&u&&u({action:c,location:w.location,delta:0})}function y(N){return b7(N)}let w={get action(){return c},get location(){return t(n,l)},listen(N){if(u)throw new Error("A history only accepts one active listener");return n.addEventListener(W2,x),u=N,()=>{n.removeEventListener(W2,x),u=null}},createHref(N){return r(n,N)},createURL:y,encodeLocation(N){let _=y(N);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:b,go(N){return l.go(N)}};return w}function b7(t,r=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),wr(s,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:pu(t);return a=a.replace(/ $/,"%20"),!r&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function w3(t,r,s="/"){return v7(t,r,s,!1)}function v7(t,r,s,a){let n=typeof r=="string"?$c(r):r,i=Ni(n.pathname||"/",s);if(i==null)return null;let l=j3(t);w7(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let h=D7(i);c=E7(l[u],h,a)}return c}function j3(t,r=[],s=[],a="",n=!1){let i=(l,c,u=n,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(a)&&u)return;wr(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length)}let x=gi([a,m.relativePath]),g=s.concat(m);l.children&&l.children.length>0&&(wr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),j3(l.children,r,g,x,u)),!(l.path==null&&!l.index)&&r.push({path:x,score:C7(x,l.index),routesMeta:g})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))i(l,c);else for(let u of N3(l.path))i(l,c,!0,u)}),r}function N3(t){let r=t.split("/");if(r.length===0)return[];let[s,...a]=r,n=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=N3(a.join("/")),c=[];return c.push(...l.map(u=>u===""?i:[i,u].join("/"))),n&&c.push(...l),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function w7(t){t.sort((r,s)=>r.score!==s.score?s.score-r.score:P7(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var j7=/^:[\w-]+$/,N7=3,k7=2,S7=1,_7=10,A7=-2,K2=t=>t==="*";function C7(t,r){let s=t.split("/"),a=s.length;return s.some(K2)&&(a+=A7),r&&(a+=k7),s.filter(n=>!K2(n)).reduce((n,i)=>n+(j7.test(i)?N7:i===""?S7:_7),a)}function P7(t,r){return t.length===r.length&&t.slice(0,-1).every((a,n)=>a===r[n])?t[t.length-1]-r[r.length-1]:0}function E7(t,r,s=!1){let{routesMeta:a}=t,n={},i="/",l=[];for(let c=0;c<a.length;++c){let u=a[c],h=c===a.length-1,m=i==="/"?r:r.slice(i.length)||"/",x=xh({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),g=u.route;if(!x&&h&&s&&!a[a.length-1].route.index&&(x=xh({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!x)return null;Object.assign(n,x.params),l.push({params:n,pathname:gi([i,x.pathname]),pathnameBase:M7(gi([i,x.pathnameBase])),route:g}),x.pathnameBase!=="/"&&(i=gi([i,x.pathnameBase]))}return l}function xh(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,a]=T7(t.path,t.caseSensitive,t.end),n=r.match(s);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:a.reduce((h,{paramName:m,isOptional:x},g)=>{if(m==="*"){let y=c[g]||"";l=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const b=c[g];return x&&!b?h[m]=void 0:h[m]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:t}}function T7(t,r=!1,s=!0){dn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(a.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),a]}function D7(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return dn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),t}}function Ni(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=t.charAt(s);return a&&a!=="/"?null:t.slice(s)||"/"}function R7(t,r="/"){let{pathname:s,search:a="",hash:n=""}=typeof t=="string"?$c(t):t;return{pathname:s?s.startsWith("/")?s:O7(s,r):r,search:L7(a),hash:$7(n)}}function O7(t,r){let s=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function lf(t,r,s,a){return`Cannot include a '${t}' character in a manually specified \`to.${r}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I7(t){return t.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function sw(t){let r=I7(t);return r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase)}function aw(t,r,s,a=!1){let n;typeof t=="string"?n=$c(t):(n={...t},wr(!n.pathname||!n.pathname.includes("?"),lf("?","pathname","search",n)),wr(!n.pathname||!n.pathname.includes("#"),lf("#","pathname","hash",n)),wr(!n.search||!n.search.includes("#"),lf("#","search","hash",n)));let i=t===""||n.pathname==="",l=i?"/":n.pathname,c;if(l==null)c=s;else{let x=r.length-1;if(!a&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),x-=1;n.pathname=g.join("/")}c=x>=0?r[x]:"/"}let u=R7(n,c),h=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}var gi=t=>t.join("/").replace(/\/\/+/g,"/"),M7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function F7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var k3=["POST","PUT","PATCH","DELETE"];new Set(k3);var B7=["GET",...k3];new Set(B7);var Fc=f.createContext(null);Fc.displayName="DataRouter";var vx=f.createContext(null);vx.displayName="DataRouterState";f.createContext(!1);var S3=f.createContext({isTransitioning:!1});S3.displayName="ViewTransition";var U7=f.createContext(new Map);U7.displayName="Fetchers";var z7=f.createContext(null);z7.displayName="Await";var Pn=f.createContext(null);Pn.displayName="Navigation";var Fu=f.createContext(null);Fu.displayName="Location";var En=f.createContext({outlet:null,matches:[],isDataRoute:!1});En.displayName="Route";var nw=f.createContext(null);nw.displayName="RouteError";function V7(t,{relative:r}={}){wr(Bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=f.useContext(Pn),{hash:n,pathname:i,search:l}=Bu(t,{relative:r}),c=i;return s!=="/"&&(c=i==="/"?s:gi([s,i])),a.createHref({pathname:c,search:l,hash:n})}function Bc(){return f.useContext(Fu)!=null}function La(){return wr(Bc(),"useLocation() may be used only in the context of a <Router> component."),f.useContext(Fu).location}var _3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A3(t){f.useContext(Pn).static||f.useLayoutEffect(t)}function $a(){let{isDataRoute:t}=f.useContext(En);return t?aL():q7()}function q7(){wr(Bc(),"useNavigate() may be used only in the context of a <Router> component.");let t=f.useContext(Fc),{basename:r,navigator:s}=f.useContext(Pn),{matches:a}=f.useContext(En),{pathname:n}=La(),i=JSON.stringify(sw(a)),l=f.useRef(!1);return A3(()=>{l.current=!0}),f.useCallback((u,h={})=>{if(dn(l.current,_3),!l.current)return;if(typeof u=="number"){s.go(u);return}let m=aw(u,JSON.parse(i),n,h.relative==="path");t==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:gi([r,m.pathname])),(h.replace?s.replace:s.push)(m,h.state,h)},[r,s,i,n,t])}var H7=f.createContext(null);function G7(t){let r=f.useContext(En).outlet;return r&&f.createElement(H7.Provider,{value:t},r)}function Bu(t,{relative:r}={}){let{matches:s}=f.useContext(En),{pathname:a}=La(),n=JSON.stringify(sw(s));return f.useMemo(()=>aw(t,JSON.parse(n),a,r==="path"),[t,n,a,r])}function W7(t,r){return C3(t,r)}function C3(t,r,s,a,n){wr(Bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=f.useContext(Pn),{matches:l}=f.useContext(En),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",x=c&&c.route;{let S=x&&x.path||"";P3(h,!x||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=La(),b;if(r){let S=typeof r=="string"?$c(r):r;wr(m==="/"||S.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),b=S}else b=g;let y=b.pathname||"/",w=y;if(m!=="/"){let S=m.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let N=w3(t,{pathname:w});dn(x||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),dn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=Z7(N&&N.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:gi([m,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:gi([m,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,s,a,n);return r&&_?f.createElement(Fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},_):_}function Y7(){let t=sL(),r=F7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=f.createElement(f.Fragment,null,f.createElement("p",null," Hey developer "),f.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",f.createElement("code",{style:i},"ErrorBoundary")," or"," ",f.createElement("code",{style:i},"errorElement")," prop on your route.")),f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},r),s?f.createElement("pre",{style:n},s):null,l)}var K7=f.createElement(Y7,null),J7=class extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){this.props.unstable_onError?this.props.unstable_onError(t,r):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?f.createElement(En.Provider,{value:this.props.routeContext},f.createElement(nw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function X7({routeContext:t,match:r,children:s}){let a=f.useContext(Fc);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(En.Provider,{value:t},s)}function Z7(t,r=[],s=null,a=null,n=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(r.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let i=t,l=s?.errors;if(l!=null){let h=i.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);wr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(s)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:x,errors:g}=s,b=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,m,x)=>{let g,b=!1,y=null,w=null;s&&(g=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||K7,c&&(u<0&&x===0?(P3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):u===x&&(b=!0,w=m.route.hydrateFallbackElement||null)));let N=r.concat(i.slice(0,x+1)),_=()=>{let S;return g?S=y:b?S=w:m.route.Component?S=f.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=h,f.createElement(X7,{match:m,routeContext:{outlet:h,matches:N,isDataRoute:s!=null},children:S})};return s&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?f.createElement(J7,{location:s.location,revalidation:s.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:a}):_()},null)}function iw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q7(t){let r=f.useContext(Fc);return wr(r,iw(t)),r}function eL(t){let r=f.useContext(vx);return wr(r,iw(t)),r}function tL(t){let r=f.useContext(En);return wr(r,iw(t)),r}function lw(t){let r=tL(t),s=r.matches[r.matches.length-1];return wr(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function rL(){return lw("useRouteId")}function sL(){let t=f.useContext(nw),r=eL("useRouteError"),s=lw("useRouteError");return t!==void 0?t:r.errors?.[s]}function aL(){let{router:t}=Q7("useNavigate"),r=lw("useNavigate"),s=f.useRef(!1);return A3(()=>{s.current=!0}),f.useCallback(async(n,i={})=>{dn(s.current,_3),s.current&&(typeof n=="number"?t.navigate(n):await t.navigate(n,{fromRouteId:r,...i}))},[t,r])}var J2={};function P3(t,r,s){!r&&!J2[t]&&(J2[t]=!0,dn(!1,s))}f.memo(nL);function nL({routes:t,future:r,state:s,unstable_onError:a}){return C3(t,void 0,s,a,r)}function gh({to:t,replace:r,state:s,relative:a}){wr(Bc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:n}=f.useContext(Pn);dn(!n,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=f.useContext(En),{pathname:l}=La(),c=$a(),u=aw(t,sw(i),l,a==="path"),h=JSON.stringify(u);return f.useEffect(()=>{c(JSON.parse(h),{replace:r,state:s,relative:a})},[c,h,a,r,s]),null}function iL(t){return G7(t.context)}function wa(t){wr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lL({basename:t="/",children:r=null,location:s,navigationType:a="POP",navigator:n,static:i=!1}){wr(!Bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=f.useMemo(()=>({basename:l,navigator:n,static:i,future:{}}),[l,n,i]);typeof s=="string"&&(s=$c(s));let{pathname:u="/",search:h="",hash:m="",state:x=null,key:g="default"}=s,b=f.useMemo(()=>{let y=Ni(u,l);return y==null?null:{location:{pathname:y,search:h,hash:m,state:x,key:g},navigationType:a}},[l,u,h,m,x,g,a]);return dn(b!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:f.createElement(Pn.Provider,{value:c},f.createElement(Fu.Provider,{children:r,value:b}))}function oL({children:t,location:r}){return W7(wb(t),r)}function wb(t,r=[]){let s=[];return f.Children.forEach(t,(a,n)=>{if(!f.isValidElement(a))return;let i=[...r,n];if(a.type===f.Fragment){s.push.apply(s,wb(a.props.children,i));return}wr(a.type===wa,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wr(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=wb(a.props.children,i)),s.push(l)}),s}var Z0="get",Q0="application/x-www-form-urlencoded";function wx(t){return t!=null&&typeof t.tagName=="string"}function cL(t){return wx(t)&&t.tagName.toLowerCase()==="button"}function dL(t){return wx(t)&&t.tagName.toLowerCase()==="form"}function uL(t){return wx(t)&&t.tagName.toLowerCase()==="input"}function mL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hL(t,r){return t.button===0&&(!r||r==="_self")&&!mL(t)}function jb(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,s)=>{let a=t[s];return r.concat(Array.isArray(a)?a.map(n=>[s,n]):[[s,a]])},[]))}function xL(t,r){let s=jb(t);return r&&r.forEach((a,n)=>{s.has(n)||r.getAll(n).forEach(i=>{s.append(n,i)})}),s}var j0=null;function gL(){if(j0===null)try{new FormData(document.createElement("form"),0),j0=!1}catch{j0=!0}return j0}var pL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function of(t){return t!=null&&!pL.has(t)?(dn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Q0}"`),null):t}function fL(t,r){let s,a,n,i,l;if(dL(t)){let c=t.getAttribute("action");a=c?Ni(c,r):null,s=t.getAttribute("method")||Z0,n=of(t.getAttribute("enctype"))||Q0,i=new FormData(t)}else if(cL(t)||uL(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(a=u?Ni(u,r):null,s=t.getAttribute("formmethod")||c.getAttribute("method")||Z0,n=of(t.getAttribute("formenctype"))||of(c.getAttribute("enctype"))||Q0,i=new FormData(c,t),!gL()){let{name:h,type:m,value:x}=t;if(m==="image"){let g=h?`${h}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else h&&i.append(h,x)}}else{if(wx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Z0,a=null,n=Q0,l=t}return i&&n==="text/plain"&&(l=i,i=void 0),{action:a,method:s.toLowerCase(),encType:n,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ow(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function yL(t,r,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${s}`:r&&Ni(a.pathname,r)==="/"?a.pathname=`${r.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function bL(t,r){if(t.id in r)return r[t.id];try{let s=await import(t.module);return r[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wL(t,r,s){let a=await Promise.all(t.map(async n=>{let i=r.routes[n.route.id];if(i){let l=await bL(i,s);return l.links?l.links():[]}return[]}));return SL(a.flat(1).filter(vL).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function X2(t,r,s,a,n,i){let l=(u,h)=>s[h]?u.route.id!==s[h].route.id:!0,c=(u,h)=>s[h].pathname!==u.pathname||s[h].route.path?.endsWith("*")&&s[h].params["*"]!==u.params["*"];return i==="assets"?r.filter((u,h)=>l(u,h)||c(u,h)):i==="data"?r.filter((u,h)=>{let m=a.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(l(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let x=u.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function jL(t,r,{includeHydrateFallback:s}={}){return NL(t.map(a=>{let n=r.routes[a.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),s&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function NL(t){return[...new Set(t)]}function kL(t){let r={},s=Object.keys(t).sort();for(let a of s)r[a]=t[a];return r}function SL(t,r){let s=new Set;return new Set(r),t.reduce((a,n)=>{let i=JSON.stringify(kL(n));return s.has(i)||(s.add(i),a.push({key:i,link:n})),a},[])}function E3(){let t=f.useContext(Fc);return ow(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _L(){let t=f.useContext(vx);return ow(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cw=f.createContext(void 0);cw.displayName="FrameworkContext";function T3(){let t=f.useContext(cw);return ow(t,"You must render this element inside a <HydratedRouter> element"),t}function AL(t,r){let s=f.useContext(cw),[a,n]=f.useState(!1),[i,l]=f.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:m,onTouchStart:x}=r,g=f.useRef(null);f.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=_=>{_.forEach(S=>{l(S.isIntersecting)})},N=new IntersectionObserver(w,{threshold:.5});return g.current&&N.observe(g.current),()=>{N.disconnect()}}},[t]),f.useEffect(()=>{if(a){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[a]);let b=()=>{n(!0)},y=()=>{n(!1),l(!1)};return s?t!=="intent"?[i,g,{}]:[i,g,{onFocus:$d(c,b),onBlur:$d(u,y),onMouseEnter:$d(h,b),onMouseLeave:$d(m,y),onTouchStart:$d(x,b)}]:[!1,g,{}]}function $d(t,r){return s=>{t&&t(s),s.defaultPrevented||r(s)}}function CL({page:t,...r}){let{router:s}=E3(),a=f.useMemo(()=>w3(s.routes,t,s.basename),[s.routes,t,s.basename]);return a?f.createElement(EL,{page:t,matches:a,...r}):null}function PL(t){let{manifest:r,routeModules:s}=T3(),[a,n]=f.useState([]);return f.useEffect(()=>{let i=!1;return wL(t,r,s).then(l=>{i||n(l)}),()=>{i=!0}},[t,r,s]),a}function EL({page:t,matches:r,...s}){let a=La(),{manifest:n,routeModules:i}=T3(),{basename:l}=E3(),{loaderData:c,matches:u}=_L(),h=f.useMemo(()=>X2(t,r,u,n,a,"data"),[t,r,u,n,a]),m=f.useMemo(()=>X2(t,r,u,n,a,"assets"),[t,r,u,n,a]),x=f.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let y=new Set,w=!1;if(r.forEach(_=>{let S=n.routes[_.route.id];!S||!S.hasLoader||(!h.some(k=>k.route.id===_.route.id)&&_.route.id in c&&i[_.route.id]?.shouldRevalidate||S.hasClientLoader?w=!0:y.add(_.route.id))}),y.size===0)return[];let N=yL(t,l,"data");return w&&y.size>0&&N.searchParams.set("_routes",r.filter(_=>y.has(_.route.id)).map(_=>_.route.id).join(",")),[N.pathname+N.search]},[l,c,a,n,h,r,t,i]),g=f.useMemo(()=>jL(m,n),[m,n]),b=PL(m);return f.createElement(f.Fragment,null,x.map(y=>f.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...s})),g.map(y=>f.createElement("link",{key:y,rel:"modulepreload",href:y,...s})),b.map(({key:y,link:w})=>f.createElement("link",{key:y,nonce:s.nonce,...w})))}function TL(...t){return r=>{t.forEach(s=>{typeof s=="function"?s(r):s!=null&&(s.current=r)})}}var D3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D3&&(window.__reactRouterVersion="7.8.2")}catch{}function DL({basename:t,children:r,window:s}){let a=f.useRef();a.current==null&&(a.current=p7({window:s,v5Compat:!0}));let n=a.current,[i,l]=f.useState({action:n.action,location:n.location}),c=f.useCallback(u=>{f.startTransition(()=>l(u))},[l]);return f.useLayoutEffect(()=>n.listen(c),[n,c]),f.createElement(lL,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:n})}var R3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fu=f.forwardRef(function({onClick:r,discover:s="render",prefetch:a="none",relative:n,reloadDocument:i,replace:l,state:c,target:u,to:h,preventScrollReset:m,viewTransition:x,...g},b){let{basename:y}=f.useContext(Pn),w=typeof h=="string"&&R3.test(h),N,_=!1;if(typeof h=="string"&&w&&(N=h,D3))try{let R=new URL(window.location.href),D=h.startsWith("//")?new URL(R.protocol+h):new URL(h),$=Ni(D.pathname,y);D.origin===R.origin&&$!=null?h=$+D.search+D.hash:_=!0}catch{dn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=V7(h,{relative:n}),[k,v,A]=AL(a,g),E=ML(h,{replace:l,state:c,target:u,preventScrollReset:m,relative:n,viewTransition:x});function T(R){r&&r(R),R.defaultPrevented||E(R)}let F=f.createElement("a",{...g,...A,href:N||S,onClick:_||i?r:T,ref:TL(b,v),target:u,"data-discover":!w&&s==="render"?"true":void 0});return k&&!w?f.createElement(f.Fragment,null,F,f.createElement(CL,{page:S})):F});fu.displayName="Link";var RL=f.forwardRef(function({"aria-current":r="page",caseSensitive:s=!1,className:a="",end:n=!1,style:i,to:l,viewTransition:c,children:u,...h},m){let x=Bu(l,{relative:h.relative}),g=La(),b=f.useContext(vx),{navigator:y,basename:w}=f.useContext(Pn),N=b!=null&&UL(x)&&c===!0,_=y.encodeLocation?y.encodeLocation(x).pathname:x.pathname,S=g.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(S=S.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&w&&(k=Ni(k,w)||k);const v=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let A=S===_||!n&&S.startsWith(_)&&S.charAt(v)==="/",E=k!=null&&(k===_||!n&&k.startsWith(_)&&k.charAt(_.length)==="/"),T={isActive:A,isPending:E,isTransitioning:N},F=A?r:void 0,R;typeof a=="function"?R=a(T):R=[a,A?"active":null,E?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(T):i;return f.createElement(fu,{...h,"aria-current":F,className:R,ref:m,style:D,to:l,viewTransition:c},typeof u=="function"?u(T):u)});RL.displayName="NavLink";var OL=f.forwardRef(({discover:t="render",fetcherKey:r,navigate:s,reloadDocument:a,replace:n,state:i,method:l=Z0,action:c,onSubmit:u,relative:h,preventScrollReset:m,viewTransition:x,...g},b)=>{let y=FL(),w=BL(c,{relative:h}),N=l.toLowerCase()==="get"?"get":"post",_=typeof c=="string"&&R3.test(c),S=k=>{if(u&&u(k),k.defaultPrevented)return;k.preventDefault();let v=k.nativeEvent.submitter,A=v?.getAttribute("formmethod")||l;y(v||k.currentTarget,{fetcherKey:r,method:A,navigate:s,replace:n,state:i,relative:h,preventScrollReset:m,viewTransition:x})};return f.createElement("form",{ref:b,method:N,action:w,onSubmit:a?u:S,...g,"data-discover":!_&&t==="render"?"true":void 0})});OL.displayName="Form";function IL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O3(t){let r=f.useContext(Fc);return wr(r,IL(t)),r}function ML(t,{target:r,replace:s,state:a,preventScrollReset:n,relative:i,viewTransition:l}={}){let c=$a(),u=La(),h=Bu(t,{relative:i});return f.useCallback(m=>{if(hL(m,r)){m.preventDefault();let x=s!==void 0?s:pu(u)===pu(h);c(t,{replace:x,state:a,preventScrollReset:n,relative:i,viewTransition:l})}},[u,c,h,s,a,r,t,n,i,l])}function I3(t){dn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=f.useRef(jb(t)),s=f.useRef(!1),a=La(),n=f.useMemo(()=>xL(a.search,s.current?null:r.current),[a.search]),i=$a(),l=f.useCallback((c,u)=>{const h=jb(typeof c=="function"?c(new URLSearchParams(n)):c);s.current=!0,i("?"+h,u)},[i,n]);return[n,l]}var LL=0,$L=()=>`__${String(++LL)}__`;function FL(){let{router:t}=O3("useSubmit"),{basename:r}=f.useContext(Pn),s=rL();return f.useCallback(async(a,n={})=>{let{action:i,method:l,encType:c,formData:u,body:h}=fL(a,r);if(n.navigate===!1){let m=n.fetcherKey||$L();await t.fetch(m,s,n.action||i,{preventScrollReset:n.preventScrollReset,formData:u,body:h,formMethod:n.method||l,formEncType:n.encType||c,flushSync:n.flushSync})}else await t.navigate(n.action||i,{preventScrollReset:n.preventScrollReset,formData:u,body:h,formMethod:n.method||l,formEncType:n.encType||c,replace:n.replace,state:n.state,fromRouteId:s,flushSync:n.flushSync,viewTransition:n.viewTransition})},[t,r,s])}function BL(t,{relative:r}={}){let{basename:s}=f.useContext(Pn),a=f.useContext(En);wr(a,"useFormAction must be used inside a RouteContext");let[n]=a.matches.slice(-1),i={...Bu(t||".",{relative:r})},l=La();if(t==null){i.search=l.search;let c=new URLSearchParams(i.search),u=c.getAll("index");if(u.some(m=>m==="")){c.delete("index"),u.filter(x=>x).forEach(x=>c.append("index",x));let m=c.toString();i.search=m?`?${m}`:""}}return(!t||t===".")&&n.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(i.pathname=i.pathname==="/"?s:gi([s,i.pathname])),pu(i)}function UL(t,{relative:r}={}){let s=f.useContext(S3);wr(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=O3("useViewTransitionState"),n=Bu(t,{relative:r});if(!s.isTransitioning)return!1;let i=Ni(s.currentLocation.pathname,a)||s.currentLocation.pathname,l=Ni(s.nextLocation.pathname,a)||s.nextLocation.pathname;return xh(n.pathname,l)!=null||xh(n.pathname,i)!=null}var M3=v3();/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VL=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,a)=>a?a.toUpperCase():s.toLowerCase()),Z2=t=>{const r=VL(t);return r.charAt(0).toUpperCase()+r.slice(1)},L3=(...t)=>t.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim(),qL=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=f.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:l,...c},u)=>f.createElement("svg",{ref:u,...HL,width:r,height:r,stroke:t,strokeWidth:a?Number(s)*24/Number(r):s,className:L3("lucide",n),...!i&&!qL(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>f.createElement(h,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(t,r)=>{const s=f.forwardRef(({className:a,...n},i)=>f.createElement(GL,{ref:i,iconNode:r,className:L3(`lucide-${zL(Z2(t))}`,`lucide-${t}`,a),...n}));return s.displayName=Z2(t),s};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ln=Ve("activity",WL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],yu=Ve("archive",YL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],JL=Ve("arrow-down-right",KL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],jx=Ve("arrow-down-wide-narrow",XL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],$3=Ve("arrow-down",ZL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dw=Ve("arrow-left",QL);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Nx=Ve("arrow-right",e$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],r$=Ve("arrow-up-down",t$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],kx=Ve("arrow-up-narrow-wide",s$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],n$=Ve("arrow-up-right",a$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],F3=Ve("arrow-up",i$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],xr=Ve("award",l$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],N0=Ve("ban",o$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ki=Ve("bell",c$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Rs=Ve("book-open",d$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],cf=Ve("briefcase",u$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],h$=Ve("building-2",m$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],ph=Ve("building",x$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zt=Ve("calendar",g$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],da=Ve("chart-column",p$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],fh=Ve("chart-pie",f$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],b$=Ve("check-check",y$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],w$=Ve("check",v$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ra=Ve("chevron-down",j$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],B3=Ve("chevron-left",N$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Uu=Ve("chevron-right",k$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pi=Ve("chevron-up",S$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bt=Ve("circle-alert",_$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Le=Ve("circle-check-big",A$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yh=Ve("circle-check",C$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],U3=Ve("circle-question-mark",P$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],jt=Ve("circle-x",E$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],D$=Ve("clipboard-check",T$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],jc=Ve("clipboard-list",R$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],Q2=Ve("clipboard",O$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Nt=Ve("clock",I$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],k0=Ve("cloud-upload",M$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Sx=Ve("database",L$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],cr=Ve("dollar-sign",$$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],sr=Ve("download",F$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],U$=Ve("ellipsis-vertical",B$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],V$=Ve("ellipsis",z$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Nc=Ve("external-link",q$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Fs=Ve("eye-off",H$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ft=Ve("eye",G$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],zu=Ve("file-chart-column-increasing",W$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],pl=Ve("file-check",Y$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ut=Ve("file-text",K$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],X$=Ve("file-x",J$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],eS=Ve("flag",Z$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Fa=Ve("funnel",Q$);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],t9=Ve("gift",e9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],z3=Ve("globe",r9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],gs=Ve("graduation-cap",s9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],No=Ve("grid-3x3",a9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],bu=Ve("hand-coins",n9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Nb=Ve("heart",i9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],o9=Ve("history",l9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],d9=Ve("hourglass",c9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],V3=Ve("house",u9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Gn=Ve("info",m9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Kl=Ve("layout-dashboard",h9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],g9=Ve("library",x9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],f9=Ve("lightbulb",p9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],uw=Ve("link",y9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ko=Ve("list",b9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Lr=Ve("loader-circle",v9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],kn=Ve("lock",w9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],tS=Ve("log-in",j9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_x=Ve("log-out",N9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wn=Ve("mail",k9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ks=Ve("map-pin",S9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],q3=Ve("menu",_9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],rS=Ve("message-circle",A9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],mw=Ve("message-square",C9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M5 12h14",key:"1ays0h"}]],hw=Ve("minus",P9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],T9=Ve("pen-line",E9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M20 11H4",key:"6ut86h"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"M7 21V4a1 1 0 0 1 1-1h4a1 1 0 0 1 0 12H7",key:"1ana5r"}]],H3=Ve("philippine-peso",D9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ws=Ve("phone",R9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],la=Ve("plus",O9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],M9=Ve("printer",I9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ot=Ve("refresh-cw",L9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],kb=Ve("rotate-ccw",$9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lc=Ve("save",F9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Ls=Ve("school",B9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zr=Ve("search",U9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fi=Ve("send",z9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],q9=Ve("server",V9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],na=Ve("settings",H9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sb=Ve("shield-check",G9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ir=Ve("shield",W9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qd=Ve("sparkles",Y9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pc=Ve("square-check-big",K9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],on=Ve("square-pen",J9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],au=Ve("square",X9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ar=Ve("star",Z9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xw=Ve("target",Q9);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qs=Ve("trash-2",eF);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],gw=Ve("trending-down",tF);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Vr=Ve("trending-up",rF);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wt=Ve("triangle-alert",sF);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ia=Ve("upload",aF);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yi=Ve("user-check",nF);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fc=Ve("user-plus",iF);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],_b=Ve("user-x",lF);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jt=Ve("user",oF);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ht=Ve("users",cF);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ka=Ve("video",dF);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],fo=Ve("wallet",uF);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wt=Ve("x",mF);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xF=Ve("zap",hF),sS=t=>{let r;const s=new Set,a=(h,m)=>{const x=typeof h=="function"?h(r):h;if(!Object.is(x,r)){const g=r;r=m??(typeof x!="object"||x===null)?x:Object.assign({},r,x),s.forEach(b=>b(r,g))}},n=()=>r,c={setState:a,getState:n,getInitialState:()=>u,subscribe:h=>(s.add(h),()=>s.delete(h))},u=r=t(a,n,c);return c},gF=(t=>t?sS(t):sS),pF=t=>t;function fF(t,r=pF){const s=De.useSyncExternalStore(t.subscribe,De.useCallback(()=>r(t.getState()),[t,r]),De.useCallback(()=>r(t.getInitialState()),[t,r]));return De.useDebugValue(s),s}const aS=t=>{const r=gF(t),s=a=>fF(r,a);return Object.assign(s,r),s},yF=(t=>t?aS(t):aS),bF={},il=bF?.VITE_API_BASE_URL||"http://localhost:8000/api",pw=t=>{const r=[t.first_name];return t.middle_name&&r.push(t.middle_name),r.push(t.last_name),t.extension_name&&r.push(t.extension_name),r.join(" ")},Lt=yF((t,r)=>({currentUser:null,token:localStorage.getItem("auth_token"),error:null,additionalInfo:null,isLoading:!0,isLoggingOut:!1,initializeAuth:async()=>{const s=localStorage.getItem("auth_token");if(!s){t({isLoading:!1});return}const a=localStorage.getItem("user_data");let n=null;if(a)try{n=JSON.parse(a)}catch(i){console.warn("Failed to parse stored user data:",i)}try{console.log(" Fetching user data from:",`${il}/user`);const l=await(await fetch(`${il}/user`,{headers:{Authorization:`Bearer ${s}`,Accept:"application/json"}})).json();if(console.log(" User API response:",l),l.success){const c={id:String(l.data.user.id),citizen_id:l.data.user.citizen_id??"",email:l.data.user.email,first_name:l.data.user.first_name,last_name:l.data.user.last_name,middle_name:l.data.user.middle_name,extension_name:l.data.user.extension_name,mobile:l.data.user.mobile,birthdate:l.data.user.birthdate,address:l.data.user.address,house_number:l.data.user.house_number,street:l.data.user.street,barangay:l.data.user.barangay,role:l.data.user.role,system_role:l.data.user.system_role||n?.system_role,department:l.data.user.department||n?.department,position:l.data.user.position||n?.position,is_active:l.data.user.is_active};localStorage.setItem("user_data",JSON.stringify(c)),t({currentUser:c,token:s,isLoading:!1})}else n?t({currentUser:n,token:s,isLoading:!1}):(localStorage.removeItem("auth_token"),t({currentUser:null,token:null,isLoading:!1}))}catch{n?t({currentUser:n,token:s,isLoading:!1}):(localStorage.removeItem("auth_token"),t({currentUser:null,token:null,isLoading:!1}))}},login:async(s,a,n)=>{try{const i=await fetch(`${il}/gsm/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:s,password:a,captcha_token:n})}),l=await i.json();if(!i.ok)return t({error:l.message||"Login failed"}),!1;if(l.success){if(l.data.requires_otp)return t({error:`OTP_REQUIRED|${l.data.email}`,isLoading:!1}),!1;const{user:c,token:u}=l.data,h={id:String(c.id),citizen_id:c.citizen_id??"",email:c.email,first_name:c.first_name,last_name:c.last_name,middle_name:c.middle_name,extension_name:c.extension_name,mobile:c.mobile,birthdate:c.birthdate,address:c.address,house_number:c.house_number,street:c.street,barangay:c.barangay,role:c.role,system_role:c.system_role,department:c.department,position:c.position,is_active:c.status==="active"};return localStorage.setItem("user_data",JSON.stringify(h)),t({currentUser:h,token:u,error:null}),localStorage.setItem("auth_token",u),!0}else return t({error:l.message||"Login failed"}),!1}catch{return t({error:"Network error. Please try again."}),!1}},register:async(s,a)=>{t({isLoading:!0,error:null});try{console.log("Sending registration data to API:",s);const n=await fetch(`${il}/register`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({...s,confirmPassword:s.confirmPassword,captcha_token:a})}),i=await n.json();if(console.log("Registration API response:",{status:n.status,data:i}),n.status===422&&i.errors&&console.log("Validation errors:",i.errors),!n.ok){if(n.status===422&&i.errors){const l=Object.values(i.errors).flat();t({error:l.join(", ")})}else t({error:i.message||"Registration failed"});return!1}if(i.success)if(i.data.token&&i.data.user){const{user:l,token:c}=i.data,u={id:String(l.id),citizen_id:l.citizen_id??"",email:l.email,first_name:l.first_name,last_name:l.last_name,middle_name:l.middle_name,extension_name:l.extension_name,mobile:l.mobile,birthdate:l.birthdate,address:l.address,house_number:l.house_number,street:l.street,barangay:l.barangay,role:l.role,system_role:l.system_role,department:l.department,position:l.position,is_active:l.status==="active"};return localStorage.setItem("user_data",JSON.stringify(u)),t({currentUser:u,token:c,error:null}),localStorage.setItem("auth_token",c),window.dispatchEvent(new CustomEvent("userRegistered")),!0}else return t({error:null}),window.dispatchEvent(new CustomEvent("userRegistered")),!0;else return t({error:i.message||"Registration failed"}),!1}catch(n){return console.error("Registration error:",n),t({error:"Network error. Please try again."}),!1}finally{t({isLoading:!1})}},googleLogin:async(s,a)=>{t({isLoading:!0,error:null});try{console.log("Sending Google OAuth code to API:",s);const n=await fetch(`${il}/auth/google`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({code:s,captcha_token:a})}),i=await n.json();if(console.log("Google OAuth API response:",{status:n.status,data:i}),n.status===404&&i?.code==="NOT_REGISTERED"){const l=i?.email||"",c=i?.first_name||"",u=i?.last_name||"",h=i?.additional_info||{};return t({error:`NOT_REGISTERED|${l}|${c}|${u}`,additionalInfo:h}),!1}if(!n.ok)return t({error:i.message||"Google login failed"}),!1;if(i.success){const{user:l,token:c}=i.data;return t({currentUser:{id:String(l.id),citizen_id:l.citizen_id??"",email:l.email,first_name:l.first_name,last_name:l.last_name,middle_name:l.middle_name,extension_name:l.extension_name,mobile:l.mobile,birthdate:l.birthdate,address:l.address,house_number:l.house_number,street:l.street,barangay:l.barangay,role:l.role,is_active:!0},token:c,error:null}),localStorage.setItem("auth_token",c),!0}else return t({error:i.message||"Google login failed"}),!1}catch(n){return console.error("Google OAuth error:",n),t({error:"Network error. Please try again."}),!1}finally{t({isLoading:!1})}},googleRegister:async(s,a,n)=>{t({isLoading:!0,error:null});try{console.log("Sending Google registration data to API:",{code:s,additionalData:a});const i=await fetch(`${il}/register/google`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({code:s,...a,captcha_token:n})}),l=await i.json();if(console.log("Google registration API response:",{status:i.status,data:l}),!i.ok)return t({error:l.message||"Google registration failed"}),!1;if(l.success){const{user:c,token:u}=l.data;return t({currentUser:{id:String(c.id),citizen_id:c.citizen_id??"",email:c.email,first_name:c.first_name,last_name:c.last_name,middle_name:c.middle_name,extension_name:c.extension_name,mobile:c.mobile,birthdate:c.birthdate,address:c.address,house_number:c.house_number,street:c.street,barangay:c.barangay,role:c.role,is_active:!0},token:u,error:null}),localStorage.setItem("auth_token",u),!0}else return t({error:l.message||"Google registration failed"}),!1}catch(i){return console.error("Google registration error:",i),t({error:"Network error. Please try again."}),!1}finally{t({isLoading:!1})}},loginWithOtp:async(s,a)=>{t({isLoading:!0,error:null});try{const n=await fetch(`${il}/gsm/login-with-otp`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:s,otp_code:a})}),i=await n.json();if(!n.ok)return t({error:i.message||"OTP verification failed"}),!1;if(i.success){const{user:l,token:c}=i.data,u={id:String(l.id),citizen_id:l.citizen_id??"",email:l.email,first_name:l.first_name,last_name:l.last_name,middle_name:l.middle_name,extension_name:l.extension_name,mobile:l.mobile,birthdate:l.birthdate,address:l.address,house_number:l.house_number,street:l.street,barangay:l.barangay,role:l.role,system_role:l.system_role,department:l.department,position:l.position,is_active:l.is_active};return localStorage.setItem("user_data",JSON.stringify(u)),t({currentUser:u,token:c,error:null}),localStorage.setItem("auth_token",c),!0}else return t({error:i.message||"OTP verification failed"}),!1}catch(n){return console.error("OTP verification error:",n),t({error:"Network error. Please try again."}),!1}finally{t({isLoading:!1})}},logout:async()=>{t({isLoggingOut:!0});const{token:s}=r();if(s)try{await fetch(`${il}/logout`,{method:"POST",headers:{Authorization:`Bearer ${s}`,Accept:"application/json"}})}catch{}localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),t({currentUser:null,token:null,error:null,isLoggingOut:!1})},clearError:()=>t({error:null,additionalInfo:null}),updateCurrentUser:s=>{const{currentUser:a}=r();if(a){const n={...a,...s};t({currentUser:n}),localStorage.setItem("user_data",JSON.stringify(n))}}}));typeof window<"u"&&Lt.getState().initializeAuth();const vF=()=>{const t=Lt(x=>x.currentUser),r=Lt(x=>x.logout),s=Lt(x=>x.isLoggingOut),a=$a(),n=La(),[i,l]=f.useState(!1),c=f.useRef(null),u=async()=>{await r(),a("/",{replace:!0})},h=()=>{window.history.length>1?a(-1):a("/portal")},m=n.pathname==="/portal";return f.useEffect(()=>{const x=g=>{c.current&&!c.current.contains(g.target)&&l(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),e.jsx("nav",{className:"bg-white shadow-lg sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:h,disabled:m,className:`flex items-center justify-center w-10 h-10 rounded-full transition-colors duration-200 ${m?"bg-gray-50 text-gray-300 cursor-not-allowed":"bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800"}`,title:m?"Already on main page":"Go back",children:e.jsx(dw,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gs,{className:"h-8 w-8 text-orange-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"GoServePH"}),e.jsx("br",{}),e.jsx("span",{className:"text-sm text-orange-500 -mt-1 block",children:"Scholarship Portal"})]})]})]}),e.jsx("div",{className:"flex items-center",children:t?e.jsxs("div",{className:"relative",ref:c,children:[e.jsxs("button",{onClick:()=>l(!i),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none",children:[e.jsx("span",{className:"text-sm",children:"Logged in as:"}),e.jsx("span",{className:"text-sm font-medium text-orange-500",children:t?pw(t):""}),e.jsx(Ra,{className:"h-4 w-4 text-gray-900"})]}),i&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50",children:e.jsxs("button",{onClick:u,disabled:s,className:"flex items-center w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-red-50 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(_x,{className:"h-4 w-4 mr-2"}),s?"Logging out...":"Log Out"]})})]}):e.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."})})]})})})},wF=()=>e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ks,{className:"h-5 w-5 text-orange-400 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-gray-300",children:["Caloocan City Hall",e.jsx("br",{}),"A. Mabini Street, Poblacion",e.jsx("br",{}),"Caloocan City, Metro Manila"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ws,{className:"h-5 w-5 text-orange-400 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-300",children:"(02) 8961-1111"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Wn,{className:"h-5 w-5 text-orange-400 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-300",children:"scholarship@caloocan.gov.ph"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Office Hours"}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Nt,{className:"h-5 w-5 text-orange-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-gray-300",children:[e.jsx("p",{children:"Monday - Friday"}),e.jsx("p",{children:"8:00 AM - 5:00 PM"}),e.jsx("p",{className:"mt-2",children:"Saturday"}),e.jsx("p",{children:"8:00 AM - 12:00 PM"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-sm text-gray-300 hover:text-orange-400 transition-colors duration-200",children:"Application Guidelines"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-sm text-gray-300 hover:text-orange-400 transition-colors duration-200",children:"FAQs"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-sm text-gray-300 hover:text-orange-400 transition-colors duration-200",children:"Contact Support"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-orange-400",children:"Important Notice"}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2",children:[e.jsx("p",{children:"Application deadline varies by scholarship type."}),e.jsx("p",{children:"Ensure all information is accurate before submission."}),e.jsx("p",{className:"text-orange-400 font-medium",children:"No processing fees required."})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:e.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," City Government of Caloocan. All rights reserved."]})})]})}),df={name:"JironAI",avatar:"/jiron.jpg"},Ya=24,jF=()=>{const[t,r]=f.useState(!1),[s,a]=f.useState(!1),[n,i]=f.useState(!1),[l,c]=f.useState([{sender:"bot",text:" Hi! Im JironAI, your smart assistant. Just type your question below, and Ill do my best to help you! ",time:new Date}]),[u,h]=f.useState(""),[m,x]=f.useState(!1),g=f.useRef(Date.now().toString()),[b,y]=f.useState({x:null,y:null,edge:"bottom-right"}),w=f.useRef(null),N=f.useRef(!1),_=f.useRef({x:0,y:0}),S=f.useRef(null);f.useEffect(()=>{if(t)return;const B=setInterval(()=>{i(!0),setTimeout(()=>i(!1),2500)},7e3);return()=>clearInterval(B)},[t]);const k=async B=>{if(B.preventDefault(),!u.trim())return;const H={sender:"user",text:u,time:new Date};c(I=>[...I,H]),x(!0);try{const L=await(await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:u,sessionId:g.current})})).json();c(M=>[...M,{sender:"bot",text:L.reply,time:new Date}])}catch(I){console.error("Chat API error:",I),c(L=>[...L,{sender:"bot",text:"Sorry, something went wrong.",time:new Date}])}h(""),x(!1)},v=B=>{B.preventDefault(),B.stopPropagation(),N.current=!0,w.current?.getBoundingClientRect();const H=b.x??window.innerWidth-Ya-56,I=b.y??window.innerHeight-Ya-56;_.current={x:B.clientX-H,y:B.clientY-I},document.addEventListener("mousemove",A),document.addEventListener("mouseup",T),document.body.style.userSelect="none"},A=B=>{if(!N.current)return;const H=B.clientX-_.current.x,I=B.clientY-_.current.y,L=Math.max(0,Math.min(H,window.innerWidth-56)),M=Math.max(0,Math.min(I,window.innerHeight-56));y({x:L,y:M,edge:null})},E=(B,H)=>{const I=window.innerWidth,L=window.innerHeight,M=56,q=H,Z=L-H-M,G=B,de=I-B-M,X=Math.min(q,Z,G,de);let z=B,Ie=H,ie="";return X===q?(Ie=Ya,ie="top"):X===Z?(Ie=L-M-Ya,ie="bottom"):X===G?(z=Ya,ie="left"):(z=I-M-Ya,ie="right"),(ie==="top"||ie==="bottom")&&(z=Math.max(Ya,Math.min(B,I-M-Ya))),(ie==="left"||ie==="right")&&(Ie=Math.max(Ya,Math.min(H,L-M-Ya))),{x:z,y:Ie,edge:ie}},T=()=>{N.current&&(N.current=!1,document.body.style.userSelect="",document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",T))},F=()=>{r(!1),a(!1)};f.useEffect(()=>{const B=H=>{t&&!s&&S.current&&!S.current.contains(H.target)&&F()};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[t,s]),f.useEffect(()=>{const B=H=>{H.key==="Escape"&&t&&F()};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[t]),f.useEffect(()=>{if(t&&!s)y({x:null,y:null,edge:"bottom-right"});else if(!t&&b.x!==null&&b.y!==null){const B=E(b.x,b.y);y(B)}},[t,s]);const R=b.x!==null&&b.y!==null?{left:b.x,top:b.y,position:"fixed",zIndex:50,transition:N.current?"none":"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}:{right:Ya,bottom:Ya,position:"fixed",zIndex:50,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},D=`
    fixed left-1/2 top-1/2 z-50 transition-all duration-300
    ${t&&!s?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}
  `,$={transform:"translate(-50%, -50%)",width:370,maxWidth:"90vw"};return e.jsxs(e.Fragment,{children:[(!t||s)&&e.jsxs("button",{"aria-label":"Open Chatbot",ref:w,style:R,className:"bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg w-14 h-14 flex items-center justify-center transition-transform duration-200 active:scale-90",onClick:()=>{r(!0),a(!1)},onMouseDown:v,children:[n&&e.jsx("span",{className:"absolute -top-10 right-1/2 translate-x-1/2 bg-orange-500 text-white text-xs px-3 py-1 rounded shadow-md animate-bounce whitespace-nowrap pointer-events-none",children:"Need Help?"}),e.jsx(rS,{className:"w-7 h-7"})]}),e.jsx("div",{ref:S,className:D,style:$,children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl overflow-hidden border border-orange-200",style:{minHeight:s?56:480,height:s?56:480},children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-3 bg-orange-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:df.avatar,alt:df.name,className:"w-7 h-7 rounded-full border-2 border-white"}),e.jsx("span",{className:"font-semibold text-white text-lg",children:df.name})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{"aria-label":s?"Maximize Chat":"Minimize Chat",className:"text-white hover:text-orange-200",onClick:()=>a(B=>!B),children:s?e.jsx(rS,{className:"w-5 h-5"}):e.jsx(hw,{className:"w-5 h-5"})})})]}),!s&&e.jsxs("div",{className:"w-full h-[424px] bg-[#fff7ed] flex flex-col",children:[e.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",style:{maxHeight:340},children:[l.map((B,H)=>e.jsx("div",{className:`mb-2 flex ${B.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`px-3 py-2 rounded-lg text-sm ${B.sender==="user"?"bg-orange-200":"bg-gray-100"}`,children:[e.jsx("div",{children:B.text}),e.jsx("div",{className:"text-xs text-gray-400 mt-1 text-right",children:B.time&&new Date(B.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},H)),m&&e.jsx("div",{className:"mb-2 flex justify-start",children:e.jsx("span",{className:"px-3 py-2 rounded-lg text-sm bg-gray-100",children:"..."})})]}),e.jsxs("form",{onSubmit:k,className:"flex border-t px-2 py-2",children:[e.jsx("input",{className:"flex-1 px-2 py-1 rounded border mr-2",value:u,onChange:B=>h(B.target.value),placeholder:"Type your message...",disabled:m}),e.jsx("button",{type:"submit",className:"bg-orange-500 text-white px-4 py-1 rounded",disabled:m,children:"Send"})]})]})]})})]})},NF=({children:t})=>{const s=!La().pathname.includes("/scholarship-dashboard");return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(vF,{}),e.jsx("main",{className:"flex-1",children:t}),s&&e.jsx(wF,{}),e.jsx(jF,{})]})},kF=({children:t})=>{const r=Lt(l=>l.currentUser),s=Lt(l=>l.isLoading),[a,n]=f.useState(!1);if(f.useEffect(()=>{const l=setTimeout(()=>n(!0),1200);return()=>clearTimeout(l)},[]),s||!a||!r)return s||!a?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx("img",{src:"/splash.svg",alt:"Loading",className:"splash-logo"})}):e.jsx(gh,{to:"/",replace:!0});const i=r.role;return i==="admin"||i==="staff"||String(i).startsWith("ssc")?e.jsx(gh,{to:"/admin",replace:!0}):e.jsx(e.Fragment,{children:t})},Aa=({variant:t="primary",size:r="md",loading:s=!1,children:a,className:n="",disabled:i,...l})=>{const c="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",u={primary:"bg-primary-500 hover:bg-primary-600 text-white focus:ring-primary-500 disabled:bg-primary-300",secondary:"bg-secondary-500 hover:bg-secondary-600 text-white focus:ring-secondary-500 disabled:bg-secondary-300",outline:"border-2 border-primary-500 text-primary-600 hover:bg-primary-50 focus:ring-primary-500 disabled:border-primary-300 disabled:text-primary-300",ghost:"text-primary-600 hover:bg-primary-50 focus:ring-primary-500 disabled:text-primary-300"},h={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return e.jsxs("button",{className:`${c} ${u[t]} ${h[r]} ${n}`,disabled:i||s,...l,children:[s&&e.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"}),a]})},SF=({isOpen:t,onClose:r})=>{if(!t)return null;const s=[{id:1,title:"Academic Year 2024-2025 Applications Now Open",date:"January 15, 2024",content:"The Caloocan City Scholarship Program is now accepting applications for the Academic Year 2024-2025. Submit your applications before the deadline."},{id:2,title:"New Scholarship Categories Available",date:"January 10, 2024",content:"We have added new scholarship categories for Technical and Vocational courses. Check the updated guidelines for eligibility requirements."},{id:3,title:"Document Submission Guidelines Updated",date:"January 5, 2024",content:"Please review the updated document requirements. Some documents now require notarization. Check the application form for details."}],a=[{program:"Undergraduate Scholarship",deadline:"March 31, 2024",status:"Open"},{program:"Graduate Scholarship",deadline:"April 15, 2024",status:"Open"},{program:"Technical/Vocational",deadline:"May 30, 2024",status:"Open"},{program:"Special Programs",deadline:"June 15, 2024",status:"Open"}],n=[{name:"Dr. Maria Santos",position:"Scholarship Program Director",phone:"(02) 8961-1111",email:"maria.santos@caloocan.gov.ph",office:"Room 201, City Hall Building"},{name:"Mr. Juan Dela Cruz",position:"Senior Scholarship Coordinator",phone:"(02) 8961-1112",email:"juan.delacruz@caloocan.gov.ph",office:"Room 203, City Hall Building"},{name:"Ms. Ana Rodriguez",position:"Application Processing Coordinator",phone:"(02) 8961-1113",email:"ana.rodriguez@caloocan.gov.ph",office:"Room 205, City Hall Building"}];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Caloocan Scholarship Program Directory"}),e.jsx("p",{className:"text-orange-100",children:"Important announcements, deadlines, and contact information"})]}),e.jsx(Aa,{onClick:r,variant:"outline",size:"sm",className:"border-white text-white hover:bg-white hover:text-orange-600",children:e.jsx(wt,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(xr,{className:"h-6 w-6 text-orange-500"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Latest Announcements"})]}),e.jsx("div",{className:"space-y-4",children:s.map(i=>e.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded-r-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(zt,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-600",children:i.date})]}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:i.title}),e.jsx("p",{className:"text-sm text-gray-600",children:i.content})]},i.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Nt,{className:"h-6 w-6 text-orange-500"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Application Deadlines"})]}),e.jsx("div",{className:"space-y-3",children:a.map((i,l)=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:i.program}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Deadline: ",i.deadline]})]}),e.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:i.status})]})},l))})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(Ht,{className:"h-6 w-6 text-orange-500"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Scholarship Coordinators"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((i,l)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:i.name}),e.jsx("p",{className:"text-sm text-orange-600 font-medium mb-3",children:i.position}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ws,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:i.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Wn,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:i.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ks,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:i.office})]})]})]},l))})]}),e.jsxs("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Nt,{className:"h-6 w-6 text-blue-600"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Office Hours"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Monday - Friday"}),e.jsx("p",{className:"text-gray-600",children:"8:00 AM - 5:00 PM"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Saturday"}),e.jsx("p",{className:"text-gray-600",children:"8:00 AM - 12:00 PM"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Location"}),e.jsx("p",{className:"text-gray-600",children:"Caloocan City Hall, A. Mabini Street, Poblacion, Caloocan City, Metro Manila"})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"For more information, visit our office or contact the coordinators above."}),e.jsx(Aa,{onClick:r,className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Close Directory"})]})})]})})},it={AUTH_SERVICE:{BASE_URL:"http://localhost:8000",ENDPOINTS:{LOGIN:"/api/login",LOGOUT:"/api/logout",USER:"/api/user",HEALTH:"/api/health"}},SCHOLARSHIP_SERVICE:{BASE_URL:"http://localhost:8001",ENDPOINTS:{HEALTH:"/api/health",PUBLIC_SCHOOLS:"/api/public/schools",PUBLIC_SCHOLARSHIP_CATEGORIES:"/api/public/scholarship-categories",PUBLIC_DOCUMENT_TYPES:"/api/public/document-types",PUBLIC_REQUIRED_DOCUMENTS:"/api/public/required-documents",STUDENTS:"/api/students",STUDENT:t=>`/api/students/${t}`,STUDENT_RESTORE:t=>`/api/students/${t}/restore`,STUDENT_FORCE_DELETE:t=>`/api/students/${t}/force-delete`,APPLICATIONS:"/api/applications",APPLICATION:t=>`/api/applications/${t}`,APPLICATION_SUBMIT:t=>`/api/applications/${t}/submit`,APPLICATION_APPROVE:t=>`/api/applications/${t}/approve`,APPLICATION_REJECT:t=>`/api/applications/${t}/reject`,APPLICATION_REVIEW:t=>`/api/applications/${t}/review`,APPLICATION_COMPLIANCE:t=>`/api/applications/${t}/compliance`,DOCUMENTS:"/api/documents",DOCUMENT:t=>`/api/documents/${t}`,DOCUMENT_VIEW:t=>`/api/documents/${t}/view`,DOCUMENT_DOWNLOAD:t=>`/api/documents/${t}/download`,DOCUMENT_VERIFY:t=>`/api/documents/${t}/verify`,DOCUMENT_REJECT:t=>`/api/documents/${t}/reject`,SCHOOLS:"/api/schools",SCHOOL:t=>`/api/schools/${t}`,SCHOLARSHIP_CATEGORIES:"/api/scholarship-categories",SCHOLARSHIP_CATEGORY:t=>`/api/scholarship-categories/${t}`,SCHOLARSHIP_SUBCATEGORIES:"/api/scholarship-subcategories",SCHOLARSHIP_SUBCATEGORY:t=>`/api/scholarship-subcategories/${t}`,FORM_NEW_APPLICATION:"/api/forms/new-application",FORM_RENEWAL_APPLICATION:"/api/forms/renewal-application",FORM_UPLOAD_DOCUMENT:"/api/forms/upload-document",FORM_APPLICATION_DATA:t=>`/api/forms/application/${t}/data`,FORM_STUDENT_DATA:t=>`/api/forms/student/${t}/data`,STATS_OVERVIEW:"/api/stats/overview",STATS_APPLICATIONS_BY_STATUS:"/api/stats/applications/by-status",STATS_APPLICATIONS_BY_TYPE:"/api/stats/applications/by-type",STATS_APPLICATIONS_BY_SUBCATEGORY:"/api/stats/applications/by-subcategory",INTERVIEW_SCHEDULES:"/api/interview-schedules",INTERVIEW_SCHEDULE:t=>`/api/interview-schedules/${t}`,INTERVIEW_SCHEDULE_RESCHEDULE:t=>`/api/interview-schedules/${t}/reschedule`,INTERVIEW_SCHEDULE_COMPLETE:t=>`/api/interview-schedules/${t}/complete`,INTERVIEW_SCHEDULE_CANCEL:t=>`/api/interview-schedules/${t}/cancel`,INTERVIEW_SCHEDULE_NO_SHOW:t=>`/api/interview-schedules/${t}/no-show`,INTERVIEW_AVAILABLE_SLOTS:"/api/interview-schedules/available-slots",INTERVIEW_CALENDAR:"/api/interview-schedules/calendar",APPLICATION_APPROVE_VERIFICATION:t=>`/api/applications/${t}/approve-for-verification`,APPLICATION_VERIFY_ENROLLMENT:t=>`/api/applications/${t}/verify-enrollment`,APPLICATION_SCHEDULE_INTERVIEW:t=>`/api/applications/${t}/schedule-interview`,APPLICATION_SCHEDULE_INTERVIEW_AUTO:t=>`/api/applications/${t}/schedule-interview-auto`,APPLICATION_COMPLETE_INTERVIEW:t=>`/api/applications/${t}/complete-interview`}},AID_SERVICE:{BASE_URL:"http://localhost:8002",ENDPOINTS:{HEALTH:"/api/health",APPLICATIONS:"/api/school-aid/applications",APPLICATION_STATUS:t=>`/api/school-aid/applications/${t}/status`,APPLICATION_PROCESS_GRANT:t=>`/api/school-aid/applications/${t}/process-grant`,APPLICATIONS_BATCH_UPDATE:"/api/school-aid/applications/batch-update",PAYMENTS:"/api/school-aid/payments",PAYMENT_PROCESS:"/api/school-aid/payments/process",PAYMENT_RETRY:t=>`/api/school-aid/payments/${t}/retry`,METRICS:"/api/school-aid/metrics",ANALYTICS:t=>`/api/school-aid/analytics/${t}`,SETTINGS:"/api/school-aid/settings",SETTINGS_TEST:t=>`/api/school-aid/settings/test/${t}`}},MONITORING_SERVICE:{BASE_URL:"http://localhost:8003",ENDPOINTS:{HEALTH:"/api/health"}}},bh=t=>`${it.AUTH_SERVICE.BASE_URL}${t}`,Ca=t=>`${it.SCHOLARSHIP_SERVICE.BASE_URL}${t}`,Ax=t=>`${it.MONITORING_SERVICE.BASE_URL}${t}`;class _F{constructor(){}async makeRequest(r,s={}){const a=Ca(r),n=localStorage.getItem("auth_token"),i={"Content-Type":"application/json",Accept:"application/json"};if(n){i.Authorization=`Bearer ${n}`;try{const c=localStorage.getItem("user_data");if(console.log("ScholarshipApiService - User data from localStorage:",c),c){const u=JSON.parse(c);console.log("ScholarshipApiService - Parsed user:",u),i["X-User-ID"]=u.id,i["X-User-Role"]=u.role,i["X-User-Email"]=u.email,i["X-User-First-Name"]=u.first_name,i["X-User-Last-Name"]=u.last_name,console.log("ScholarshipApiService - Headers being sent:",i)}}catch(c){console.warn("Failed to parse user data from localStorage:",c)}}const l={...s,headers:{...i,...s.headers}};try{const c=await fetch(a,l),u=await c.json();if(!c.ok){if(console.error("API Error Response:",{status:c.status,statusText:c.statusText,data:u}),c.status===422&&u.errors){const h=Object.entries(u.errors).map(([m,x])=>`${m}: ${Array.isArray(x)?x.join(", "):x}`).join("; ");throw new Error(`Validation failed: ${h}`)}if(c.status>=500){const h=u.error||u.message||"Internal server error";throw new Error(`Server error (${c.status}): ${h}`)}throw new Error(u.message||`HTTP error! status: ${c.status}`)}return u}catch(c){throw console.error("API request failed:",c),c}}async getSchools(){try{const r=await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.PUBLIC_SCHOOLS);console.log("Schools API response:",r);const s=r.data?.data||r.data||[];return console.log("Parsed schools:",s),Array.isArray(s)?s:[]}catch(r){return console.error("Error fetching schools:",r),[]}}async getScholarshipCategories(){try{const r=await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.PUBLIC_SCHOLARSHIP_CATEGORIES);console.log("Categories API response:",r);const s=r.data?.data||r.data||[];return console.log("Parsed categories:",s),Array.isArray(s)?s:[]}catch(r){return console.error("Error fetching categories:",r),[]}}async createScholarshipCategory(r){const s=await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.SCHOLARSHIP_CATEGORIES,{method:"POST",body:JSON.stringify(r)});return s.data.data||s.data}async updateScholarshipCategory(r,s){const a=await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.SCHOLARSHIP_CATEGORY(r),{method:"PUT",body:JSON.stringify(s)});return a.data.data||a.data}async deleteScholarshipCategory(r){await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.SCHOLARSHIP_CATEGORY(r),{method:"DELETE"})}async createScholarshipSubcategory(r){const s=await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.SCHOLARSHIP_SUBCATEGORIES,{method:"POST",body:JSON.stringify(r)});return s.data.data||s.data}async updateScholarshipSubcategory(r,s){const a=await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.SCHOLARSHIP_SUBCATEGORY(r),{method:"PUT",body:JSON.stringify(s)});return a.data.data||a.data}async deleteScholarshipSubcategory(r){await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.SCHOLARSHIP_SUBCATEGORY(r),{method:"DELETE"})}async getDocumentTypes(){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.PUBLIC_DOCUMENT_TYPES)).data?.data||[]}async getRequiredDocuments(){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.PUBLIC_REQUIRED_DOCUMENTS)).data?.data||[]}async getStudents(r){const s=new URLSearchParams(r).toString(),a=s?`${it.SCHOLARSHIP_SERVICE.ENDPOINTS.STUDENTS}?${s}`:it.SCHOLARSHIP_SERVICE.ENDPOINTS.STUDENTS;return(await this.makeRequest(a)).data}async getStudent(r){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.STUDENT(r))).data.data}async createStudent(r){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.STUDENTS,{method:"POST",body:JSON.stringify(r)})).data.data}async updateStudent(r,s){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.STUDENT(r),{method:"PUT",body:JSON.stringify(s)})).data.data}async deleteStudent(r){await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.STUDENT(r),{method:"DELETE"})}async getApplications(r){const s=new URLSearchParams(r).toString(),a=s?`${it.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATIONS}?${s}`:it.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATIONS,i=(await this.makeRequest(a)).data;if(i&&Array.isArray(i.data)){const{data:l,...c}=i;return{data:l,meta:c}}return{data:i||[],meta:void 0}}async getUserApplications(){try{const s=(await this.getApplications({mine:!0})).data||[];return Array.isArray(s)?s:[]}catch(r){return console.error("Error fetching user applications:",r),[]}}async getApplication(r){const s=await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION(r));if(console.log("getApplication response:",s),console.log("getApplication response.data:",s.data),console.log("getApplication response.data.data:",s.data?.data),s.data?.data)return s.data.data;if(s.data&&typeof s.data=="object"&&!("success"in s.data))return s.data;throw new Error("Invalid response structure from getApplication API")}async createApplication(r){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATIONS,{method:"POST",body:JSON.stringify(r)})).data.data}async updateApplication(r,s){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION(r),{method:"PUT",body:JSON.stringify(s)})).data.data}async deleteApplication(r){await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION(r),{method:"DELETE"})}async submitApplication(r){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION_SUBMIT(r),{method:"POST"})).data.data}async approveApplication(r,s,a){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION_APPROVE(r),{method:"POST",body:JSON.stringify({approved_amount:s,notes:a})})).data.data}async rejectApplication(r,s){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION_REJECT(r),{method:"POST",body:JSON.stringify({rejection_reason:s})})).data.data}async endorseToSSC(r,s){return(await this.makeRequest(`/api/applications/${r}/endorse-to-ssc`,{method:"POST",body:JSON.stringify({notes:s})})).data.data}async bulkEndorseToSSC(r,s,a){return(await this.makeRequest("/api/applications/bulk-endorse-to-ssc",{method:"POST",body:JSON.stringify({application_ids:r,filter_type:s,notes:a})})).data}async markAsReviewed(r){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION_REVIEW(r),{method:"POST",body:JSON.stringify({})})).data.data}async flagForCompliance(r,s){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.APPLICATION_COMPLIANCE(r),{method:"POST",body:JSON.stringify({reason:s})})).data.data}async submitNewApplication(r){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.FORM_NEW_APPLICATION,{method:"POST",body:JSON.stringify(r)})).data.data}async submitRenewalApplication(r){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.FORM_RENEWAL_APPLICATION,{method:"POST",body:JSON.stringify(r)})).data.data}async uploadDocument(r){const s=localStorage.getItem("auth_token");if(console.log("Upload token check:",s?"Token found":"No token found"),!s)throw new Error("No authentication token found. Please log in again.");const a=await fetch(Ca(it.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENTS),{method:"POST",headers:{Authorization:`Bearer ${s}`},body:r});if(!a.ok){let i=`HTTP error! status: ${a.status}`;try{const l=await a.json();console.error("Upload error response:",l),l.errors?i=`Validation failed: ${Object.entries(l.errors).map(([u,h])=>`${u}: ${Array.isArray(h)?h.join(", "):h}`).join("; ")}`:i=l.message||l.detail||i}catch{i=a.statusText||i}throw new Error(i)}const n=await a.json();if(!n.success&&n.message)throw new Error(n.message);return n.data}async getDocuments(r){const s=new URLSearchParams(r).toString(),a=s?`${it.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENTS}?${s}`:it.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENTS;return(await this.makeRequest(a)).data}async getDocumentsChecklist(r){return(await this.makeRequest(`${it.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENTS}/checklist?application_id=${r}`)).data.data}async checkDocumentScanStatus(r){return(await this.makeRequest(`${it.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENTS}/${r}/scan-status`)).data.data}async getDocument(r){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT(r))).data.data}async deleteDocument(r){await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT(r),{method:"DELETE"})}async viewDocument(r){const s=localStorage.getItem("auth_token"),a=await fetch(Ca(it.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT_VIEW(r)),{headers:s?{Authorization:`Bearer ${s}`}:void 0});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return Ca(it.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT_VIEW(r))}async downloadDocument(r){const s=localStorage.getItem("auth_token"),a=await fetch(Ca(it.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT_DOWNLOAD(r)),{headers:s?{Authorization:`Bearer ${s}`}:void 0});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.blob()}async verifyDocument(r,s){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT_VERIFY(r),{method:"POST",body:JSON.stringify({verification_notes:s})})).data.data}async rejectDocument(r,s){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.DOCUMENT_REJECT(r),{method:"POST",body:JSON.stringify({verification_notes:s})})).data.data}async getStatsOverview(){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.STATS_OVERVIEW)).data.data}async getApplicationsByStatus(){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.STATS_APPLICATIONS_BY_STATUS)).data.data}async getApplicationsByType(){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.STATS_APPLICATIONS_BY_TYPE)).data.data}async healthCheck(){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.HEALTH)).data}async getInterviewSchedules(){return(await this.makeRequest("/api/interview-schedules")).data.data}async getInterviewSchedule(r){return(await this.makeRequest(`/api/interview-schedules/${r}`)).data.data}async scheduleInterview(r,s){return(await this.makeRequest(`/api/applications/${r}/schedule-interview`,{method:"POST",body:JSON.stringify(s)})).data.data}async scheduleInterviewAuto(r){return(await this.makeRequest(`/api/applications/${r}/schedule-interview-auto`,{method:"POST"})).data.data}async rescheduleInterview(r,s,a,n,i){const l={interview_date:s,interview_time:a,reschedule_reason:n};return i!==void 0&&(l.duration=i),(await this.makeRequest(`/api/interview-schedules/${r}/reschedule`,{method:"PUT",body:JSON.stringify(l)})).data.data}async completeInterview(r,s,a,n){const i={interview_result:s,interview_notes:a};return n&&Object.assign(i,n),(await this.makeRequest(`/api/interview-schedules/${r}/complete`,{method:"POST",body:JSON.stringify(i)})).data.data}async cancelInterview(r,s){return(await this.makeRequest(`/api/interview-schedules/${r}/cancel`,{method:"POST",body:JSON.stringify({cancel_reason:s})})).data.data}async getAvailableSlots(r,s){const a=new URLSearchParams;return r&&a.append("date",r),s&&a.append("type",s),(await this.makeRequest(`/api/interview-schedules/available-slots?${a.toString()}`)).data}async getInterviewCalendar(){return(await this.makeRequest("/api/interview-schedules/calendar")).data?.interviews||{}}async getStaffInterviewers(){return await this.makeRequest("/api/staff/interviewers")}async getAllStaff(){return await this.makeRequest("/api/staff")}async getStaffById(r){return await this.makeRequest(`/api/staff/${r}`)}async getInterviewEvaluations(){const r=await this.makeRequest("/api/interview-evaluations");return Array.isArray(r.data)?r.data:[]}async getInterviewEvaluation(r){return(await this.makeRequest(`/api/interview-evaluations/${r}`)).data.data}async getSscPendingApplications(r){const s=new URLSearchParams;return r&&Object.entries(r).forEach(([n,i])=>{i!=null&&s.append(n,i.toString())}),(await this.makeRequest(`/api/applications/ssc/pending?${s.toString()}`)).data}async getSscStatistics(){return(await this.makeRequest("/api/applications/ssc/statistics")).data}async sscApproveApplication(r,s,a){return(await this.makeRequest(`/api/applications/${r}/ssc-approve`,{method:"POST",body:JSON.stringify({approved_amount:s,notes:a})})).data.data}async sscRejectApplication(r,s){return(await this.makeRequest(`/api/applications/${r}/ssc-reject`,{method:"POST",body:JSON.stringify({rejection_reason:s})})).data.data}async sscBulkApprove(r,s){return(await this.makeRequest("/api/applications/ssc/bulk-approve",{method:"POST",body:JSON.stringify({application_ids:r,notes:s})})).data.data}async sscBulkReject(r,s){return(await this.makeRequest("/api/applications/ssc/bulk-reject",{method:"POST",body:JSON.stringify({application_ids:r,rejection_reason:s})})).data.data}async getSscDecisionHistory(r){const s=new URLSearchParams;return r&&Object.entries(r).forEach(([n,i])=>{i!=null&&s.append(n,i.toString())}),(await this.makeRequest(`/api/applications/ssc/decision-history?${s.toString()}`)).data}async getAllSscDecisions(r){const s=new URLSearchParams;return r&&Object.entries(r).forEach(([n,i])=>{i!=null&&s.append(n,i.toString())}),(await this.makeRequest(`/api/applications/ssc/all-decisions?${s.toString()}`)).data}async getSscApplicationsByStage(r,s){const a=new URLSearchParams;return s&&Object.entries(s).forEach(([i,l])=>{l!=null&&a.append(i,l.toString())}),(await this.makeRequest(`/api/applications/ssc/stage/${r}?${a.toString()}`)).data}async getMySscApplications(r){const s=new URLSearchParams;return r&&Object.entries(r).forEach(([n,i])=>{i!=null&&s.append(n,i.toString())}),(await this.makeRequest(`/api/applications/ssc/my-applications?${s.toString()}`)).data}async sscSubmitDocumentVerification(r,s){return(await this.makeRequest(`/api/applications/${r}/ssc/document-verification`,{method:"POST",body:JSON.stringify(s)})).data}async sscSubmitFinancialReview(r,s){return(await this.makeRequest(`/api/applications/${r}/ssc/financial-review`,{method:"POST",body:JSON.stringify(s)})).data}async sscSubmitAcademicReview(r,s){return(await this.makeRequest(`/api/applications/${r}/ssc/academic-review`,{method:"POST",body:JSON.stringify(s)})).data}async sscFinalApproval(r,s){return(await this.makeRequest(`/api/applications/${r}/ssc/final-approval`,{method:"POST",body:JSON.stringify(s)})).data}async sscFinalRejection(r,s){return(await this.makeRequest(`/api/applications/${r}/ssc/final-rejection`,{method:"POST",body:JSON.stringify(s)})).data}async sscRequestRevision(r,s){return(await this.makeRequest(`/api/applications/${r}/ssc/request-revision`,{method:"POST",body:JSON.stringify(s)})).data}async getSscReviewHistory(r){return(await this.makeRequest(`/api/applications/${r}/ssc/review-history`)).data}async getUserSscRoles(){const r=await this.makeRequest("/api/applications/ssc/my-roles");return console.log("ScholarshipApiService - getUserSscRoles response:",r),r.data}async approveStage(r,s,a,n={}){return(await this.makeRequest(`/api/applications/${r}/approve-stage`,{method:"POST",body:JSON.stringify({stage:s,notes:a,review_data:n})})).data}async getSscMemberAssignments(){const r=await this.makeRequest("/api/applications/ssc/member-assignments");return r.data&&Array.isArray(r.data)?r.data:Array.isArray(r)?r:[]}async getMyInterviews(r){const s=new URLSearchParams;return r&&Object.entries(r).forEach(([n,i])=>{i!=null&&s.append(n,i.toString())}),(await this.makeRequest(`/api/interviewer/my-interviews?${s.toString()}`)).data}async getInterviewerStatistics(){return(await this.makeRequest("/api/interviewer/statistics")).data}async submitInterviewEvaluation(r,s){return(await this.makeRequest(`/api/interviewer/interviews/${r}/evaluate`,{method:"POST",body:JSON.stringify(s)})).data}async getAppStatsBySubcategory(){return(await this.makeRequest(it.SCHOLARSHIP_SERVICE.ENDPOINTS.STATS_APPLICATIONS_BY_SUBCATEGORY)).data||{}}async getDashboardOverview(){return(await this.makeRequest("/api/stats/dashboard-overview")).data}async getApplicationsReportData(r){const s=new URLSearchParams(r).toString(),a=s?`/api/reports/applications/get-report-data?${s}`:"/api/reports/applications/get-report-data";return(await this.makeRequest(a)).data}async exportApplications(r){const s=new URLSearchParams(r).toString(),a=s?`/api/reports/applications/export?${s}`:"/api/reports/applications/export",n=localStorage.getItem("auth_token"),i=await fetch(Ca(a),{headers:{Authorization:`Bearer ${n}`}});if(!i.ok)throw new Error("Export failed");const l=await i.blob(),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=`scholarship_applications_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(u),u.click(),window.URL.revokeObjectURL(c),document.body.removeChild(u)}}const ot=new _F,Ns=Object.freeze(Object.defineProperty({__proto__:null,default:ot,scholarshipApiService:ot},Symbol.toStringTag,{value:"Module"})),Ut=({className:t="",variant:r="text",width:s,height:a,animation:n="pulse"})=>{const i="bg-gray-200",l={text:"rounded",circular:"rounded-full",rectangular:"rounded-md"},c={pulse:"animate-pulse",wave:"animate-shimmer",none:""},u={width:s?typeof s=="number"?`${s}px`:s:void 0,height:a?typeof a=="number"?`${a}px`:a:void 0};return e.jsx("div",{className:`${i} ${l[r]} ${c[n]} ${t}`,style:u})},Ab=({className:t=""})=>e.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${t}`,children:[e.jsx(Ut,{variant:"rectangular",height:200,className:"mb-4"}),e.jsx(Ut,{variant:"text",height:24,className:"mb-2"}),e.jsx(Ut,{variant:"text",height:20,width:"80%",className:"mb-2"}),e.jsx(Ut,{variant:"text",height:20,width:"60%"})]}),Cb=({className:t="",width:r=120})=>e.jsx(Ut,{variant:"rectangular",height:40,width:r,className:t}),nS=({className:t=""})=>e.jsxs("div",{className:`space-y-2 ${t}`,children:[e.jsx(Ut,{variant:"text",height:14,width:100}),e.jsx(Ut,{variant:"rectangular",height:40})]}),AF=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ut,{variant:"text",height:32,width:300}),e.jsx(Ut,{variant:"text",height:20,width:200})]}),e.jsx(Cb,{width:120})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Array.from({length:3}).map((t,r)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx(Ut,{variant:"text",height:16,width:100,className:"mb-4"}),e.jsx(Ut,{variant:"text",height:32,width:80,className:"mb-2"}),e.jsx(Ut,{variant:"text",height:14,width:120})]},r))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:Array.from({length:3}).map((t,r)=>e.jsx(Ab,{},r))}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx(Ut,{variant:"text",height:20,width:150,className:"mb-4"}),e.jsx(Ut,{variant:"rectangular",height:100,className:"mb-4"}),e.jsx(Ut,{variant:"text",height:16,width:"100%",className:"mb-2"}),e.jsx(Ut,{variant:"text",height:16,width:"80%"})]})})]})]}),CF=({isOpen:t,onClose:r,onVerified:s})=>{const[a,n]=f.useState(!1),[i,l]=f.useState(!1),c=()=>{a||(n(!0),l(!0),setTimeout(()=>{l(!1),setTimeout(()=>{s()},500)},1500))},u=()=>{n(!1),l(!1),r()};return t?e.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative animate-scale-in",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-blue-100 rounded-full p-4",children:e.jsx(Ir,{className:"text-blue-600",size:48})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Security Verification"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Please verify that you are human before proceeding"})]}),e.jsxs("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:c,disabled:a,className:`w-8 h-8 rounded border-2 flex items-center justify-center transition-all ${a?"bg-green-500 border-green-500":"bg-white border-gray-400 hover:border-blue-500"} ${i?"animate-pulse":""}`,children:[a&&!i&&e.jsx(Le,{className:"text-white",size:24}),i&&e.jsx("div",{className:"w-5 h-5 border-3 border-white border-t-transparent rounded-full animate-spin"})]}),e.jsx("span",{className:"text-gray-700 font-medium",children:"I'm not a robot"})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[e.jsx(Ir,{size:16}),e.jsx("span",{children:"reCAPTCHA"})]}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[e.jsx("a",{href:"#",className:"hover:underline",children:"Privacy"}),e.jsx("span",{className:"mx-1",children:"-"}),e.jsx("a",{href:"#",className:"hover:underline",children:"Terms"})]})]})]}),i&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Verifying..."})}),a&&!i&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-green-600 font-medium flex items-center justify-center",children:[e.jsx(Le,{size:16,className:"mr-1"}),"Verified successfully!"]})})]}),e.jsx("button",{onClick:u,className:"w-full py-2 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"})]}),e.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]}):null},PF=`
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  
  /* Text Gradient Animation (brand colors) */
  .animated-text {
    /* Rotate through primary (#4CAF50) and secondary (#4A90E2) hues */
    background: linear-gradient(45deg, #2E7D32, #4CAF50, #4A90E2, #305C90);
    background-size: 300% 300%;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradient-shift 4s ease-in-out infinite;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
  }
  
  @keyframes gradient-shift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }
  
  /* Smooth Transitions */
  .smooth-transition {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .animate-fade-in-up {
    animation: fade-in-up 0.8s ease-out forwards;
  }
  
  .animate-fade-in {
    animation: fade-in 1s ease-out forwards;
  }
  
  .delay-300 {
    animation-delay: 300ms;
  }
  
  .shadow-3xl {
    box-shadow: 0 35px 60px -12px rgba(0, 0, 0, 0.25);
  }
`;if(typeof document<"u"){const t=document.createElement("style");t.textContent=PF,document.head.appendChild(t)}const EF=()=>{const t=$a(),[r,s]=f.useState(!1),[a,n]=f.useState(!1),[i,l]=f.useState([]),[c,u]=f.useState(!0),[h,m]=f.useState(!1),[x,g]=f.useState(!1),b=Lt(N=>N.currentUser);f.useEffect(()=>{if(b){const N=String(b.role);if(N==="admin"||N==="staff"||N.startsWith("ssc")){t("/admin",{replace:!0});return}}},[b,t]),f.useEffect(()=>{(async()=>{if(!b){u(!1);return}try{u(!0);const _=await ot.getUserApplications(),S=["draft","submitted","documents_reviewed","interview_scheduled","interview_completed","endorsed_to_ssc","approved","grants_processing","grants_disbursed","on_hold","for_compliance","compliance_documents_submitted"],k=_.some(v=>S.includes(v.status?.toLowerCase()));n(k),console.log("User applications:",_),console.log("Has active application:",k)}catch(_){console.error("Error checking existing applications:",_),n(!1)}finally{u(!1)}})()},[b]),f.useEffect(()=>{(async()=>{try{const _=await ot.getScholarshipCategories();console.log("Fetched scholarship categories:",_),l(_)}catch(_){console.error("Error fetching scholarship categories:",_)}})()},[]),f.useEffect(()=>{console.log("Portal component mounted, checking for directory modal...");const N=localStorage.getItem("hasSeenDirectory");console.log("hasSeenDirectory:",N),s(!0)},[]);const y=()=>{s(!1),localStorage.setItem("hasSeenDirectory","true")},w=()=>{a&&(m(!0),setTimeout(()=>m(!1),5e3))};return console.log("Portal render - showDirectoryModal:",r),e.jsxs("div",{children:[e.jsx(SF,{isOpen:r,onClose:y}),e.jsx("section",{className:"relative h-96 flex items-center justify-center overflow-hidden",style:{backgroundImage:"url(/ll.svg)",backgroundSize:"contain",backgroundPosition:"center top",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}),e.jsxs("section",{className:"py-12 bg-gradient-to-br from-background via-white to-primary-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-primary-200 rounded-full blur-3xl opacity-20"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-secondary-200 rounded-full blur-3xl opacity-20"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-accent-200 rounded-full blur-3xl opacity-10"})]}),e.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsxs("div",{className:"space-y-3 -mt-4",children:[e.jsx("h3",{className:"text-3xl lg:text-5xl font-bold animated-text drop-shadow-lg uppercase",children:"Ready to Begin Your Journey?"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto smooth-transition hover:text-gray-800",children:"Take the first step towards your educational dreams with our comprehensive scholarship program"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 justify-center items-center max-w-6xl mx-auto",children:[e.jsx("div",{className:"bg-gray-100 rounded-xl p-3 sm:p-4 shadow-lg",children:e.jsx(fu,{to:"/scholarship-dashboard",className:"block w-full",children:e.jsx(Aa,{size:"lg",className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white border-0 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 text-sm sm:text-base lg:text-lg font-semibold w-full h-10 sm:h-11 lg:h-12 flex items-center justify-center whitespace-nowrap uppercase tracking-wide",children:"Scholar Dashboard"})})}),e.jsx("div",{className:"bg-gray-100 rounded-xl p-3 sm:p-4 shadow-lg",children:c?e.jsx("div",{className:"w-full h-10 sm:h-11 lg:h-12",children:e.jsx(Ut,{variant:"rectangular",height:"100%"})}):a?e.jsx(Aa,{size:"lg",onClick:w,className:"bg-gray-400 text-white border-0 shadow-md hover:bg-gray-500 px-4 sm:px-6 lg:px-8 py-3 sm:py-4 text-sm sm:text-base lg:text-lg font-semibold w-full h-12 sm:h-14 lg:h-16 flex items-center justify-center whitespace-nowrap uppercase tracking-wide transition-colors",children:"New Application"}):e.jsx(Aa,{size:"lg",onClick:()=>g(!0),className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white border-0 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 text-sm sm:text-base lg:text-lg font-semibold w-full h-10 sm:h-11 lg:h-12 flex items-center justify-center whitespace-nowrap uppercase tracking-wide",children:"New Application"})}),e.jsx("div",{className:"bg-gray-100 rounded-xl p-3 sm:p-4 shadow-lg",children:e.jsx(fu,{to:"/renewal",className:"block w-full",children:e.jsx(Aa,{size:"lg",className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white border-0 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 text-sm sm:text-base lg:text-lg font-semibold w-full h-10 sm:h-11 lg:h-12 flex items-center justify-center whitespace-nowrap uppercase tracking-wide",children:"Renewal Application"})})}),e.jsx("div",{className:"bg-gray-100 rounded-xl p-3 sm:p-4 shadow-lg",children:e.jsx(Aa,{size:"lg",className:"bg-gradient-to-r from-secondary-500 to-secondary-600 text-white border-0 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 px-4 sm:px-5 lg:px-6 py-2.5 sm:py-3 text-sm sm:text-base lg:text-lg font-semibold w-full h-10 sm:h-11 lg:h-12 flex items-center justify-center whitespace-nowrap uppercase tracking-wide",children:"Tertiary Portal"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/50 hover:shadow-2xl transition-all duration-300",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2 smooth-transition hover:text-orange-600",children:"Quick Application"}),e.jsx("p",{className:"text-gray-600 smooth-transition hover:text-gray-800",children:"Complete your application in just a few minutes"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/50 hover:shadow-2xl transition-all duration-300",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2 smooth-transition hover:text-orange-600",children:"Track Progress"}),e.jsx("p",{className:"text-gray-600 smooth-transition hover:text-gray-800",children:"Monitor your application status in real-time"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-white/50 hover:shadow-2xl transition-all duration-300",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2 smooth-transition hover:text-orange-600",children:"Get Support"}),e.jsx("p",{className:"text-gray-600 smooth-transition hover:text-gray-800",children:"Access our comprehensive directory and support"})]})]}),e.jsxs("div",{className:"mt-16 mb-8",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h3",{className:"text-2xl lg:text-4xl font-bold text-gray-800 mb-4 drop-shadow-sm",children:"Available Scholarship Programs"}),e.jsx("div",{className:"h-1 w-24 bg-primary-500 mx-auto rounded-full"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.length>0?i.map(N=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 flex flex-col h-full",children:[e.jsx("div",{className:"p-1 bg-gradient-to-r from-primary-400 to-primary-600"}),e.jsxs("div",{className:"p-6 flex-grow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-xl font-bold text-gray-800 line-clamp-2",title:N.name,children:N.name}),e.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 text-xs font-bold uppercase rounded-full border border-blue-100",children:N.type?.replace("_"," ")||"SCHOLARSHIP"})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-6 line-clamp-3 h-14",children:N.description||"No description available for this scholarship program."}),N.subcategories&&N.subcategories.length>0&&e.jsxs("div",{className:"mt-auto",children:[e.jsx("h5",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Available Categories"}),e.jsxs("div",{className:"space-y-2",children:[N.subcategories.slice(0,3).map(_=>e.jsxs("div",{className:"flex items-center text-sm text-gray-700 bg-gray-50 p-2 rounded-lg border border-gray-100 hover:bg-gray-100 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"truncate",children:_.name})]},_.id)),N.subcategories.length>3&&e.jsxs("p",{className:"text-xs text-center text-gray-500 italic mt-1",children:["+",N.subcategories.length-3," more categories"]})]})]})]}),e.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100",children:e.jsx(Aa,{className:"w-full bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-md hover:shadow-lg hover:from-primary-600 hover:to-primary-700 transform hover:-translate-y-0.5 transition-all duration-200 font-bold tracking-wide",onClick:()=>{a?(m(!0),setTimeout(()=>m(!1),5e3)):t("/new-application")},children:"APPLY NOW"})})]},N.id)):[1,2,3].map(N=>e.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg border border-gray-100 h-96",children:e.jsx(Ut,{variant:"rectangular",height:"100%"})},N))})]})]})})]}),e.jsx(CF,{isOpen:x,onClose:()=>g(!1),onVerified:()=>{g(!1),t("/new-application")}}),h&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-fade-in",children:e.jsx("div",{className:"bg-red-500 text-white px-6 py-4 rounded-lg shadow-lg border border-red-600 max-w-sm",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"New Application Restricted"}),e.jsx("p",{className:"text-sm mt-1",children:"You have a pending or active scholarship application. Please complete or wait for the current application to be processed before submitting a new one."})]}),e.jsx("button",{onClick:()=>m(!1),className:"flex-shrink-0 text-white hover:text-red-200 transition-colors",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})})})]})};var Vu=t=>t.type==="checkbox",Jl=t=>t instanceof Date,zs=t=>t==null;const G3=t=>typeof t=="object";var qr=t=>!zs(t)&&!Array.isArray(t)&&G3(t)&&!Jl(t),W3=t=>qr(t)&&t.target?Vu(t.target)?t.target.checked:t.target.value:t,TF=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Y3=(t,r)=>t.has(TF(r)),DF=t=>{const r=t.constructor&&t.constructor.prototype;return qr(r)&&r.hasOwnProperty("isPrototypeOf")},fw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ss(t){let r;const s=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)r=new Date(t);else if(!(fw&&(t instanceof Blob||a))&&(s||qr(t)))if(r=s?[]:Object.create(Object.getPrototypeOf(t)),!s&&!DF(t))r=t;else for(const n in t)t.hasOwnProperty(n)&&(r[n]=ss(t[n]));else return t;return r}var Cx=t=>/^\w*$/.test(t),zr=t=>t===void 0,yw=t=>Array.isArray(t)?t.filter(Boolean):[],bw=t=>yw(t.replace(/["|']|\]/g,"").split(/\.|\[/)),lt=(t,r,s)=>{if(!r||!qr(t))return s;const a=(Cx(r)?[r]:bw(r)).reduce((n,i)=>zs(n)?n:n[i],t);return zr(a)||a===t?zr(t[r])?s:t[r]:a},Sa=t=>typeof t=="boolean",nr=(t,r,s)=>{let a=-1;const n=Cx(r)?[r]:bw(r),i=n.length,l=i-1;for(;++a<i;){const c=n[a];let u=s;if(a!==l){const h=t[c];u=qr(h)||Array.isArray(h)?h:isNaN(+n[a+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=u,t=t[c]}};const vh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Sn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ii={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},K3=De.createContext(null);K3.displayName="HookFormContext";const vw=()=>De.useContext(K3);var J3=(t,r,s,a=!0)=>{const n={defaultValues:r._defaultValues};for(const i in t)Object.defineProperty(n,i,{get:()=>{const l=i;return r._proxyFormState[l]!==Sn.all&&(r._proxyFormState[l]=!a||Sn.all),s&&(s[l]=!0),t[l]}});return n};const ww=typeof window<"u"?De.useLayoutEffect:De.useEffect;function RF(t){const r=vw(),{control:s=r.control,disabled:a,name:n,exact:i}=t||{},[l,c]=De.useState(s._formState),u=De.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ww(()=>s._subscribe({name:n,formState:u.current,exact:i,callback:h=>{!a&&c({...s._formState,...h})}}),[n,a,i]),De.useEffect(()=>{u.current.isValid&&s._setValid(!0)},[s]),De.useMemo(()=>J3(l,s,u.current,!1),[l,s])}var Bn=t=>typeof t=="string",X3=(t,r,s,a,n)=>Bn(t)?(a&&r.watch.add(t),lt(s,t,n)):Array.isArray(t)?t.map(i=>(a&&r.watch.add(i),lt(s,i))):(a&&(r.watchAll=!0),s),Pb=t=>zs(t)||!G3(t);function di(t,r,s=new WeakSet){if(Pb(t)||Pb(r))return t===r;if(Jl(t)&&Jl(r))return t.getTime()===r.getTime();const a=Object.keys(t),n=Object.keys(r);if(a.length!==n.length)return!1;if(s.has(t)||s.has(r))return!0;s.add(t),s.add(r);for(const i of a){const l=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const c=r[i];if(Jl(l)&&Jl(c)||qr(l)&&qr(c)||Array.isArray(l)&&Array.isArray(c)?!di(l,c,s):l!==c)return!1}}return!0}function OF(t){const r=vw(),{control:s=r.control,name:a,defaultValue:n,disabled:i,exact:l,compute:c}=t||{},u=De.useRef(n),h=De.useRef(c),m=De.useRef(void 0);h.current=c;const x=De.useMemo(()=>s._getWatch(a,u.current),[s,a]),[g,b]=De.useState(h.current?h.current(x):x);return ww(()=>s._subscribe({name:a,formState:{values:!0},exact:l,callback:y=>{if(!i){const w=X3(a,s._names,y.values||s._formValues,!1,u.current);if(h.current){const N=h.current(w);di(N,m.current)||(b(N),m.current=N)}else b(w)}}}),[s,i,a,l]),De.useEffect(()=>s._removeUnmounted()),g}function IF(t){const r=vw(),{name:s,disabled:a,control:n=r.control,shouldUnregister:i,defaultValue:l}=t,c=Y3(n._names.array,s),u=De.useMemo(()=>lt(n._formValues,s,lt(n._defaultValues,s,l)),[n,s,l]),h=OF({control:n,name:s,defaultValue:u,exact:!0}),m=RF({control:n,name:s,exact:!0}),x=De.useRef(t),g=De.useRef(n.register(s,{...t.rules,value:h,...Sa(t.disabled)?{disabled:t.disabled}:{}}));x.current=t;const b=De.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!lt(m.errors,s)},isDirty:{enumerable:!0,get:()=>!!lt(m.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!lt(m.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!lt(m.validatingFields,s)},error:{enumerable:!0,get:()=>lt(m.errors,s)}}),[m,s]),y=De.useCallback(S=>g.current.onChange({target:{value:W3(S),name:s},type:vh.CHANGE}),[s]),w=De.useCallback(()=>g.current.onBlur({target:{value:lt(n._formValues,s),name:s},type:vh.BLUR}),[s,n._formValues]),N=De.useCallback(S=>{const k=lt(n._fields,s);k&&S&&(k._f.ref={focus:()=>S.focus&&S.focus(),select:()=>S.select&&S.select(),setCustomValidity:v=>S.setCustomValidity(v),reportValidity:()=>S.reportValidity()})},[n._fields,s]),_=De.useMemo(()=>({name:s,value:h,...Sa(a)||m.disabled?{disabled:m.disabled||a}:{},onChange:y,onBlur:w,ref:N}),[s,a,m.disabled,y,w,N,h]);return De.useEffect(()=>{const S=n._options.shouldUnregister||i;n.register(s,{...x.current.rules,...Sa(x.current.disabled)?{disabled:x.current.disabled}:{}});const k=(v,A)=>{const E=lt(n._fields,v);E&&E._f&&(E._f.mount=A)};if(k(s,!0),S){const v=ss(lt(n._options.defaultValues,s));nr(n._defaultValues,s,v),zr(lt(n._formValues,s))&&nr(n._formValues,s,v)}return!c&&n.register(s),()=>{(c?S&&!n._state.action:S)?n.unregister(s):k(s,!1)}},[s,n,c,i]),De.useEffect(()=>{n._setDisabledField({disabled:a,name:s})},[a,s,n]),De.useMemo(()=>({field:_,formState:m,fieldState:b}),[_,m,b])}const ct=t=>t.render(IF(t));var Z3=(t,r,s,a,n)=>r?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[a]:n||!0}}:{},nu=t=>Array.isArray(t)?t:[t],iS=()=>{let t=[];return{get observers(){return t},next:n=>{for(const i of t)i.next&&i.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(i=>i!==n)}}),unsubscribe:()=>{t=[]}}},sa=t=>qr(t)&&!Object.keys(t).length,jw=t=>t.type==="file",_n=t=>typeof t=="function",wh=t=>{if(!fw)return!1;const r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Q3=t=>t.type==="select-multiple",Nw=t=>t.type==="radio",MF=t=>Nw(t)||Vu(t),uf=t=>wh(t)&&t.isConnected;function LF(t,r){const s=r.slice(0,-1).length;let a=0;for(;a<s;)t=zr(t)?a++:t[r[a++]];return t}function $F(t){for(const r in t)if(t.hasOwnProperty(r)&&!zr(t[r]))return!1;return!0}function Yr(t,r){const s=Array.isArray(r)?r:Cx(r)?[r]:bw(r),a=s.length===1?t:LF(t,s),n=s.length-1,i=s[n];return a&&delete a[i],n!==0&&(qr(a)&&sa(a)||Array.isArray(a)&&$F(a))&&Yr(t,s.slice(0,-1)),t}var eP=t=>{for(const r in t)if(_n(t[r]))return!0;return!1};function jh(t,r={}){const s=Array.isArray(t);if(qr(t)||s)for(const a in t)Array.isArray(t[a])||qr(t[a])&&!eP(t[a])?(r[a]=Array.isArray(t[a])?[]:{},jh(t[a],r[a])):zs(t[a])||(r[a]=!0);return r}function tP(t,r,s){const a=Array.isArray(t);if(qr(t)||a)for(const n in t)Array.isArray(t[n])||qr(t[n])&&!eP(t[n])?zr(r)||Pb(s[n])?s[n]=Array.isArray(t[n])?jh(t[n],[]):{...jh(t[n])}:tP(t[n],zs(r)?{}:r[n],s[n]):s[n]=!di(t[n],r[n]);return s}var Fd=(t,r)=>tP(t,r,jh(r));const lS={value:!1,isValid:!1},oS={value:!0,isValid:!0};var rP=t=>{if(Array.isArray(t)){if(t.length>1){const r=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!zr(t[0].attributes.value)?zr(t[0].value)||t[0].value===""?oS:{value:t[0].value,isValid:!0}:oS:lS}return lS},sP=(t,{valueAsNumber:r,valueAsDate:s,setValueAs:a})=>zr(t)?t:r?t===""?NaN:t&&+t:s&&Bn(t)?new Date(t):a?a(t):t;const cS={isValid:!1,value:null};var aP=t=>Array.isArray(t)?t.reduce((r,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:r,cS):cS;function dS(t){const r=t.ref;return jw(r)?r.files:Nw(r)?aP(t.refs).value:Q3(r)?[...r.selectedOptions].map(({value:s})=>s):Vu(r)?rP(t.refs).value:sP(zr(r.value)?t.ref.value:r.value,t)}var FF=(t,r,s,a)=>{const n={};for(const i of t){const l=lt(r,i);l&&nr(n,i,l._f)}return{criteriaMode:s,names:[...t],fields:n,shouldUseNativeValidation:a}},Nh=t=>t instanceof RegExp,Bd=t=>zr(t)?t:Nh(t)?t.source:qr(t)?Nh(t.value)?t.value.source:t.value:t,uS=t=>({isOnSubmit:!t||t===Sn.onSubmit,isOnBlur:t===Sn.onBlur,isOnChange:t===Sn.onChange,isOnAll:t===Sn.all,isOnTouch:t===Sn.onTouched});const mS="AsyncFunction";var BF=t=>!!t&&!!t.validate&&!!(_n(t.validate)&&t.validate.constructor.name===mS||qr(t.validate)&&Object.values(t.validate).find(r=>r.constructor.name===mS)),UF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),hS=(t,r,s)=>!s&&(r.watchAll||r.watch.has(t)||[...r.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const iu=(t,r,s,a)=>{for(const n of s||Object.keys(t)){const i=lt(t,n);if(i){const{_f:l,...c}=i;if(l){if(l.refs&&l.refs[0]&&r(l.refs[0],n)&&!a)return!0;if(l.ref&&r(l.ref,l.name)&&!a)return!0;if(iu(c,r))break}else if(qr(c)&&iu(c,r))break}}};function xS(t,r,s){const a=lt(t,s);if(a||Cx(s))return{error:a,name:s};const n=s.split(".");for(;n.length;){const i=n.join("."),l=lt(r,i),c=lt(t,i);if(l&&!Array.isArray(l)&&s!==i)return{name:s};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};n.pop()}return{name:s}}var zF=(t,r,s,a)=>{s(t);const{name:n,...i}=t;return sa(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(l=>r[l]===(!a||Sn.all))},VF=(t,r,s)=>!t||!r||t===r||nu(t).some(a=>a&&(s?a===r:a.startsWith(r)||r.startsWith(a))),qF=(t,r,s,a,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(r||t):(s?a.isOnBlur:n.isOnBlur)?!t:(s?a.isOnChange:n.isOnChange)?t:!0,HF=(t,r)=>!yw(lt(t,r)).length&&Yr(t,r),GF=(t,r,s)=>{const a=nu(lt(t,s));return nr(a,"root",r[s]),nr(t,s,a),t},eh=t=>Bn(t);function gS(t,r,s="validate"){if(eh(t)||Array.isArray(t)&&t.every(eh)||Sa(t)&&!t)return{type:s,message:eh(t)?t:"",ref:r}}var rc=t=>qr(t)&&!Nh(t)?t:{value:t,message:""},pS=async(t,r,s,a,n,i)=>{const{ref:l,refs:c,required:u,maxLength:h,minLength:m,min:x,max:g,pattern:b,validate:y,name:w,valueAsNumber:N,mount:_}=t._f,S=lt(s,w);if(!_||r.has(w))return{};const k=c?c[0]:l,v=B=>{n&&k.reportValidity&&(k.setCustomValidity(Sa(B)?"":B||""),k.reportValidity())},A={},E=Nw(l),T=Vu(l),F=E||T,R=(N||jw(l))&&zr(l.value)&&zr(S)||wh(l)&&l.value===""||S===""||Array.isArray(S)&&!S.length,D=Z3.bind(null,w,a,A),$=(B,H,I,L=ii.maxLength,M=ii.minLength)=>{const q=B?H:I;A[w]={type:B?L:M,message:q,ref:l,...D(B?L:M,q)}};if(i?!Array.isArray(S)||!S.length:u&&(!F&&(R||zs(S))||Sa(S)&&!S||T&&!rP(c).isValid||E&&!aP(c).isValid)){const{value:B,message:H}=eh(u)?{value:!!u,message:u}:rc(u);if(B&&(A[w]={type:ii.required,message:H,ref:k,...D(ii.required,H)},!a))return v(H),A}if(!R&&(!zs(x)||!zs(g))){let B,H;const I=rc(g),L=rc(x);if(!zs(S)&&!isNaN(S)){const M=l.valueAsNumber||S&&+S;zs(I.value)||(B=M>I.value),zs(L.value)||(H=M<L.value)}else{const M=l.valueAsDate||new Date(S),q=de=>new Date(new Date().toDateString()+" "+de),Z=l.type=="time",G=l.type=="week";Bn(I.value)&&S&&(B=Z?q(S)>q(I.value):G?S>I.value:M>new Date(I.value)),Bn(L.value)&&S&&(H=Z?q(S)<q(L.value):G?S<L.value:M<new Date(L.value))}if((B||H)&&($(!!B,I.message,L.message,ii.max,ii.min),!a))return v(A[w].message),A}if((h||m)&&!R&&(Bn(S)||i&&Array.isArray(S))){const B=rc(h),H=rc(m),I=!zs(B.value)&&S.length>+B.value,L=!zs(H.value)&&S.length<+H.value;if((I||L)&&($(I,B.message,H.message),!a))return v(A[w].message),A}if(b&&!R&&Bn(S)){const{value:B,message:H}=rc(b);if(Nh(B)&&!S.match(B)&&(A[w]={type:ii.pattern,message:H,ref:l,...D(ii.pattern,H)},!a))return v(H),A}if(y){if(_n(y)){const B=await y(S,s),H=gS(B,k);if(H&&(A[w]={...H,...D(ii.validate,H.message)},!a))return v(H.message),A}else if(qr(y)){let B={};for(const H in y){if(!sa(B)&&!a)break;const I=gS(await y[H](S,s),k,H);I&&(B={...I,...D(H,I.message)},v(I.message),a&&(A[w]=B))}if(!sa(B)&&(A[w]={ref:k,...B},!a))return A}}return v(!0),A};const WF={mode:Sn.onSubmit,reValidateMode:Sn.onChange,shouldFocusError:!0};function YF(t={}){let r={...WF,...t},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:_n(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},a={},n=qr(r.defaultValues)||qr(r.values)?ss(r.defaultValues||r.values)||{}:{},i=r.shouldUnregister?{}:ss(n),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...m};const g={array:iS(),state:iS()},b=r.criteriaMode===Sn.all,y=ee=>he=>{clearTimeout(h),h=setTimeout(ee,he)},w=async ee=>{if(!r.disabled&&(m.isValid||x.isValid||ee)){const he=r.resolver?sa((await T()).errors):await R(a,!0);he!==s.isValid&&g.state.next({isValid:he})}},N=(ee,he)=>{!r.disabled&&(m.isValidating||m.validatingFields||x.isValidating||x.validatingFields)&&((ee||Array.from(c.mount)).forEach(W=>{W&&(he?nr(s.validatingFields,W,he):Yr(s.validatingFields,W))}),g.state.next({validatingFields:s.validatingFields,isValidating:!sa(s.validatingFields)}))},_=(ee,he=[],W,ye,P=!0,V=!0)=>{if(ye&&W&&!r.disabled){if(l.action=!0,V&&Array.isArray(lt(a,ee))){const te=W(lt(a,ee),ye.argA,ye.argB);P&&nr(a,ee,te)}if(V&&Array.isArray(lt(s.errors,ee))){const te=W(lt(s.errors,ee),ye.argA,ye.argB);P&&nr(s.errors,ee,te),HF(s.errors,ee)}if((m.touchedFields||x.touchedFields)&&V&&Array.isArray(lt(s.touchedFields,ee))){const te=W(lt(s.touchedFields,ee),ye.argA,ye.argB);P&&nr(s.touchedFields,ee,te)}(m.dirtyFields||x.dirtyFields)&&(s.dirtyFields=Fd(n,i)),g.state.next({name:ee,isDirty:$(ee,he),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else nr(i,ee,he)},S=(ee,he)=>{nr(s.errors,ee,he),g.state.next({errors:s.errors})},k=ee=>{s.errors=ee,g.state.next({errors:s.errors,isValid:!1})},v=(ee,he,W,ye)=>{const P=lt(a,ee);if(P){const V=lt(i,ee,zr(W)?lt(n,ee):W);zr(V)||ye&&ye.defaultChecked||he?nr(i,ee,he?V:dS(P._f)):I(ee,V),l.mount&&w()}},A=(ee,he,W,ye,P)=>{let V=!1,te=!1;const Ne={name:ee};if(!r.disabled){if(!W||ye){(m.isDirty||x.isDirty)&&(te=s.isDirty,s.isDirty=Ne.isDirty=$(),V=te!==Ne.isDirty);const Se=di(lt(n,ee),he);te=!!lt(s.dirtyFields,ee),Se?Yr(s.dirtyFields,ee):nr(s.dirtyFields,ee,!0),Ne.dirtyFields=s.dirtyFields,V=V||(m.dirtyFields||x.dirtyFields)&&te!==!Se}if(W){const Se=lt(s.touchedFields,ee);Se||(nr(s.touchedFields,ee,W),Ne.touchedFields=s.touchedFields,V=V||(m.touchedFields||x.touchedFields)&&Se!==W)}V&&P&&g.state.next(Ne)}return V?Ne:{}},E=(ee,he,W,ye)=>{const P=lt(s.errors,ee),V=(m.isValid||x.isValid)&&Sa(he)&&s.isValid!==he;if(r.delayError&&W?(u=y(()=>S(ee,W)),u(r.delayError)):(clearTimeout(h),u=null,W?nr(s.errors,ee,W):Yr(s.errors,ee)),(W?!di(P,W):P)||!sa(ye)||V){const te={...ye,...V&&Sa(he)?{isValid:he}:{},errors:s.errors,name:ee};s={...s,...te},g.state.next(te)}},T=async ee=>{N(ee,!0);const he=await r.resolver(i,r.context,FF(ee||c.mount,a,r.criteriaMode,r.shouldUseNativeValidation));return N(ee),he},F=async ee=>{const{errors:he}=await T(ee);if(ee)for(const W of ee){const ye=lt(he,W);ye?nr(s.errors,W,ye):Yr(s.errors,W)}else s.errors=he;return he},R=async(ee,he,W={valid:!0})=>{for(const ye in ee){const P=ee[ye];if(P){const{_f:V,...te}=P;if(V){const Ne=c.array.has(V.name),Se=P._f&&BF(P._f);Se&&m.validatingFields&&N([ye],!0);const at=await pS(P,c.disabled,i,b,r.shouldUseNativeValidation&&!he,Ne);if(Se&&m.validatingFields&&N([ye]),at[V.name]&&(W.valid=!1,he))break;!he&&(lt(at,V.name)?Ne?GF(s.errors,at,V.name):nr(s.errors,V.name,at[V.name]):Yr(s.errors,V.name))}!sa(te)&&await R(te,he,W)}}return W.valid},D=()=>{for(const ee of c.unMount){const he=lt(a,ee);he&&(he._f.refs?he._f.refs.every(W=>!uf(W)):!uf(he._f.ref))&&Ee(ee)}c.unMount=new Set},$=(ee,he)=>!r.disabled&&(ee&&he&&nr(i,ee,he),!di(de(),n)),B=(ee,he,W)=>X3(ee,c,{...l.mount?i:zr(he)?n:Bn(ee)?{[ee]:he}:he},W,he),H=ee=>yw(lt(l.mount?i:n,ee,r.shouldUnregister?lt(n,ee,[]):[])),I=(ee,he,W={})=>{const ye=lt(a,ee);let P=he;if(ye){const V=ye._f;V&&(!V.disabled&&nr(i,ee,sP(he,V)),P=wh(V.ref)&&zs(he)?"":he,Q3(V.ref)?[...V.ref.options].forEach(te=>te.selected=P.includes(te.value)):V.refs?Vu(V.ref)?V.refs.forEach(te=>{(!te.defaultChecked||!te.disabled)&&(Array.isArray(P)?te.checked=!!P.find(Ne=>Ne===te.value):te.checked=P===te.value||!!P)}):V.refs.forEach(te=>te.checked=te.value===P):jw(V.ref)?V.ref.value="":(V.ref.value=P,V.ref.type||g.state.next({name:ee,values:ss(i)})))}(W.shouldDirty||W.shouldTouch)&&A(ee,P,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&G(ee)},L=(ee,he,W)=>{for(const ye in he){if(!he.hasOwnProperty(ye))return;const P=he[ye],V=ee+"."+ye,te=lt(a,V);(c.array.has(ee)||qr(P)||te&&!te._f)&&!Jl(P)?L(V,P,W):I(V,P,W)}},M=(ee,he,W={})=>{const ye=lt(a,ee),P=c.array.has(ee),V=ss(he);nr(i,ee,V),P?(g.array.next({name:ee,values:ss(i)}),(m.isDirty||m.dirtyFields||x.isDirty||x.dirtyFields)&&W.shouldDirty&&g.state.next({name:ee,dirtyFields:Fd(n,i),isDirty:$(ee,V)})):ye&&!ye._f&&!zs(V)?L(ee,V,W):I(ee,V,W),hS(ee,c)&&g.state.next({...s,name:ee}),g.state.next({name:l.mount?ee:void 0,values:ss(i)})},q=async ee=>{l.mount=!0;const he=ee.target;let W=he.name,ye=!0;const P=lt(a,W),V=Se=>{ye=Number.isNaN(Se)||Jl(Se)&&isNaN(Se.getTime())||di(Se,lt(i,W,Se))},te=uS(r.mode),Ne=uS(r.reValidateMode);if(P){let Se,at;const pt=he.type?dS(P._f):W3(ee),se=ee.type===vh.BLUR||ee.type===vh.FOCUS_OUT,He=!UF(P._f)&&!r.resolver&&!lt(s.errors,W)&&!P._f.deps||qF(se,lt(s.touchedFields,W),s.isSubmitted,Ne,te),qe=hS(W,c,se);nr(i,W,pt),se?(!he||!he.readOnly)&&(P._f.onBlur&&P._f.onBlur(ee),u&&u(0)):P._f.onChange&&P._f.onChange(ee);const J=A(W,pt,se),ce=!sa(J)||qe;if(!se&&g.state.next({name:W,type:ee.type,values:ss(i)}),He)return(m.isValid||x.isValid)&&(r.mode==="onBlur"?se&&w():se||w()),ce&&g.state.next({name:W,...qe?{}:J});if(!se&&qe&&g.state.next({...s}),r.resolver){const{errors:$e}=await T([W]);if(V(pt),ye){const nt=xS(s.errors,a,W),qt=xS($e,a,nt.name||W);Se=qt.error,W=qt.name,at=sa($e)}}else N([W],!0),Se=(await pS(P,c.disabled,i,b,r.shouldUseNativeValidation))[W],N([W]),V(pt),ye&&(Se?at=!1:(m.isValid||x.isValid)&&(at=await R(a,!0)));ye&&(P._f.deps&&G(P._f.deps),E(W,at,Se,J))}},Z=(ee,he)=>{if(lt(s.errors,he)&&ee.focus)return ee.focus(),1},G=async(ee,he={})=>{let W,ye;const P=nu(ee);if(r.resolver){const V=await F(zr(ee)?ee:P);W=sa(V),ye=ee?!P.some(te=>lt(V,te)):W}else ee?(ye=(await Promise.all(P.map(async V=>{const te=lt(a,V);return await R(te&&te._f?{[V]:te}:te)}))).every(Boolean),!(!ye&&!s.isValid)&&w()):ye=W=await R(a);return g.state.next({...!Bn(ee)||(m.isValid||x.isValid)&&W!==s.isValid?{}:{name:ee},...r.resolver||!ee?{isValid:W}:{},errors:s.errors}),he.shouldFocus&&!ye&&iu(a,Z,ee?P:c.mount),ye},de=ee=>{const he={...l.mount?i:n};return zr(ee)?he:Bn(ee)?lt(he,ee):ee.map(W=>lt(he,W))},X=(ee,he)=>({invalid:!!lt((he||s).errors,ee),isDirty:!!lt((he||s).dirtyFields,ee),error:lt((he||s).errors,ee),isValidating:!!lt(s.validatingFields,ee),isTouched:!!lt((he||s).touchedFields,ee)}),z=ee=>{ee&&nu(ee).forEach(he=>Yr(s.errors,he)),g.state.next({errors:ee?s.errors:{}})},Ie=(ee,he,W)=>{const ye=(lt(a,ee,{_f:{}})._f||{}).ref,P=lt(s.errors,ee)||{},{ref:V,message:te,type:Ne,...Se}=P;nr(s.errors,ee,{...Se,...he,ref:ye}),g.state.next({name:ee,errors:s.errors,isValid:!1}),W&&W.shouldFocus&&ye&&ye.focus&&ye.focus()},ie=(ee,he)=>_n(ee)?g.state.subscribe({next:W=>"values"in W&&ee(B(void 0,he),W)}):B(ee,he,!0),Pe=ee=>g.state.subscribe({next:he=>{VF(ee.name,he.name,ee.exact)&&zF(he,ee.formState||m,ne,ee.reRenderRoot)&&ee.callback({values:{...i},...s,...he,defaultValues:n})}}).unsubscribe,re=ee=>(l.mount=!0,x={...x,...ee.formState},Pe({...ee,formState:x})),Ee=(ee,he={})=>{for(const W of ee?nu(ee):c.mount)c.mount.delete(W),c.array.delete(W),he.keepValue||(Yr(a,W),Yr(i,W)),!he.keepError&&Yr(s.errors,W),!he.keepDirty&&Yr(s.dirtyFields,W),!he.keepTouched&&Yr(s.touchedFields,W),!he.keepIsValidating&&Yr(s.validatingFields,W),!r.shouldUnregister&&!he.keepDefaultValue&&Yr(n,W);g.state.next({values:ss(i)}),g.state.next({...s,...he.keepDirty?{isDirty:$()}:{}}),!he.keepIsValid&&w()},ke=({disabled:ee,name:he})=>{(Sa(ee)&&l.mount||ee||c.disabled.has(he))&&(ee?c.disabled.add(he):c.disabled.delete(he))},xe=(ee,he={})=>{let W=lt(a,ee);const ye=Sa(he.disabled)||Sa(r.disabled);return nr(a,ee,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:ee}},name:ee,mount:!0,...he}}),c.mount.add(ee),W?ke({disabled:Sa(he.disabled)?he.disabled:r.disabled,name:ee}):v(ee,!0,he.value),{...ye?{disabled:he.disabled||r.disabled}:{},...r.progressive?{required:!!he.required,min:Bd(he.min),max:Bd(he.max),minLength:Bd(he.minLength),maxLength:Bd(he.maxLength),pattern:Bd(he.pattern)}:{},name:ee,onChange:q,onBlur:q,ref:P=>{if(P){xe(ee,he),W=lt(a,ee);const V=zr(P.value)&&P.querySelectorAll&&P.querySelectorAll("input,select,textarea")[0]||P,te=MF(V),Ne=W._f.refs||[];if(te?Ne.find(Se=>Se===V):V===W._f.ref)return;nr(a,ee,{_f:{...W._f,...te?{refs:[...Ne.filter(uf),V,...Array.isArray(lt(n,ee))?[{}]:[]],ref:{type:V.type,name:ee}}:{ref:V}}}),v(ee,!1,void 0,V)}else W=lt(a,ee,{}),W._f&&(W._f.mount=!1),(r.shouldUnregister||he.shouldUnregister)&&!(Y3(c.array,ee)&&l.action)&&c.unMount.add(ee)}}},Q=()=>r.shouldFocusError&&iu(a,Z,c.mount),et=ee=>{Sa(ee)&&(g.state.next({disabled:ee}),iu(a,(he,W)=>{const ye=lt(a,W);ye&&(he.disabled=ye._f.disabled||ee,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(P=>{P.disabled=ye._f.disabled||ee}))},0,!1))},ve=(ee,he)=>async W=>{let ye;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let P=ss(i);if(g.state.next({isSubmitting:!0}),r.resolver){const{errors:V,values:te}=await T();s.errors=V,P=ss(te)}else await R(a);if(c.disabled.size)for(const V of c.disabled)Yr(P,V);if(Yr(s.errors,"root"),sa(s.errors)){g.state.next({errors:{}});try{await ee(P,W)}catch(V){ye=V}}else he&&await he({...s.errors},W),Q(),setTimeout(Q);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:sa(s.errors)&&!ye,submitCount:s.submitCount+1,errors:s.errors}),ye)throw ye},Ze=(ee,he={})=>{lt(a,ee)&&(zr(he.defaultValue)?M(ee,ss(lt(n,ee))):(M(ee,he.defaultValue),nr(n,ee,ss(he.defaultValue))),he.keepTouched||Yr(s.touchedFields,ee),he.keepDirty||(Yr(s.dirtyFields,ee),s.isDirty=he.defaultValue?$(ee,ss(lt(n,ee))):$()),he.keepError||(Yr(s.errors,ee),m.isValid&&w()),g.state.next({...s}))},Qe=(ee,he={})=>{const W=ee?ss(ee):n,ye=ss(W),P=sa(ee),V=P?n:ye;if(he.keepDefaultValues||(n=W),!he.keepValues){if(he.keepDirtyValues){const te=new Set([...c.mount,...Object.keys(Fd(n,i))]);for(const Ne of Array.from(te))lt(s.dirtyFields,Ne)?nr(V,Ne,lt(i,Ne)):M(Ne,lt(V,Ne))}else{if(fw&&zr(ee))for(const te of c.mount){const Ne=lt(a,te);if(Ne&&Ne._f){const Se=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(wh(Se)){const at=Se.closest("form");if(at){at.reset();break}}}}if(he.keepFieldsRef)for(const te of c.mount)M(te,lt(V,te));else a={}}i=r.shouldUnregister?he.keepDefaultValues?ss(n):{}:ss(V),g.array.next({values:{...V}}),g.state.next({values:{...V}})}c={mount:he.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!m.isValid||!!he.keepIsValid||!!he.keepDirtyValues,l.watch=!!r.shouldUnregister,g.state.next({submitCount:he.keepSubmitCount?s.submitCount:0,isDirty:P?!1:he.keepDirty?s.isDirty:!!(he.keepDefaultValues&&!di(ee,n)),isSubmitted:he.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:P?{}:he.keepDirtyValues?he.keepDefaultValues&&i?Fd(n,i):s.dirtyFields:he.keepDefaultValues&&ee?Fd(n,ee):he.keepDirty?s.dirtyFields:{},touchedFields:he.keepTouched?s.touchedFields:{},errors:he.keepErrors?s.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},ht=(ee,he)=>Qe(_n(ee)?ee(i):ee,he),K=(ee,he={})=>{const W=lt(a,ee),ye=W&&W._f;if(ye){const P=ye.refs?ye.refs[0]:ye.ref;P.focus&&(P.focus(),he.shouldSelect&&_n(P.select)&&P.select())}},ne=ee=>{s={...s,...ee}},Xe={control:{register:xe,unregister:Ee,getFieldState:X,handleSubmit:ve,setError:Ie,_subscribe:Pe,_runSchema:T,_focusError:Q,_getWatch:B,_getDirty:$,_setValid:w,_setFieldArray:_,_setDisabledField:ke,_setErrors:k,_getFieldArray:H,_reset:Qe,_resetDefaultValues:()=>_n(r.defaultValues)&&r.defaultValues().then(ee=>{ht(ee,r.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:et,_subjects:g,_proxyFormState:m,get _fields(){return a},get _formValues(){return i},get _state(){return l},set _state(ee){l=ee},get _defaultValues(){return n},get _names(){return c},set _names(ee){c=ee},get _formState(){return s},get _options(){return r},set _options(ee){r={...r,...ee}}},subscribe:re,trigger:G,register:xe,handleSubmit:ve,watch:ie,setValue:M,getValues:de,reset:ht,resetField:Ze,clearErrors:z,unregister:Ee,setError:Ie,setFocus:K,getFieldState:X};return{...Xe,formControl:Xe}}function nP(t={}){const r=De.useRef(void 0),s=De.useRef(void 0),[a,n]=De.useState({isDirty:!1,isValidating:!1,isLoading:_n(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:_n(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:a},t.defaultValues&&!_n(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...c}=YF(t);r.current={...c,formState:a}}const i=r.current.control;return i._options=t,ww(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(c=>({...c,isReady:!0})),i._formState.isReady=!0,l},[i]),De.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),De.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),De.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),De.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),De.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==a.isDirty&&i._subjects.state.next({isDirty:l})}},[i,a.isDirty]),De.useEffect(()=>{t.values&&!di(t.values,s.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),s.current=t.values,n(l=>({...l}))):i._resetDefaultValues()},[i,t.values]),De.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),r.current.formState=J3(a,i),r.current}const fS=(t,r,s)=>{if(t&&"reportValidity"in t){const a=lt(s,r);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},iP=(t,r)=>{for(const s in r.fields){const a=r.fields[s];a&&a.ref&&"reportValidity"in a.ref?fS(a.ref,s,t):a&&a.refs&&a.refs.forEach(n=>fS(n,s,t))}},KF=(t,r)=>{r.shouldUseNativeValidation&&iP(t,r);const s={};for(const a in t){const n=lt(r.fields,a),i=Object.assign(t[a]||{},{ref:n&&n.ref});if(JF(r.names||Object.keys(t),a)){const l=Object.assign({},lt(s,a));nr(l,"root",i),nr(s,a,l)}else nr(s,a,i)}return s},JF=(t,r)=>{const s=yS(r);return t.some(a=>yS(a).match(`^${s}\\.\\d+`))};function yS(t){return t.replace(/\]|\[/g,"")}function XF(t,r,s){return s===void 0&&(s={}),function(a,n,i){try{return Promise.resolve((function(l,c){try{var u=(r?.context,Promise.resolve(t[s.mode==="sync"?"validateSync":"validate"](a,Object.assign({abortEarly:!1},r,{context:n}))).then(function(h){return i.shouldUseNativeValidation&&iP({},i),{values:s.raw?Object.assign({},a):h,errors:{}}}))}catch(h){return c(h)}return u&&u.then?u.then(void 0,c):u})(0,function(l){if(!l.inner)throw l;return{values:{},errors:KF((c=l,u=!i.shouldUseNativeValidation&&i.criteriaMode==="all",(c.inner||[]).reduce(function(h,m){if(h[m.path]||(h[m.path]={message:m.message,type:m.type}),u){var x=h[m.path].types,g=x&&x[m.type];h[m.path]=Z3(m.path,u,h,m.type,g?[].concat(g,m.message):m.message)}return h},{})),i)};var c,u}))}catch(l){return Promise.reject(l)}}}const ts=({label:t,error:r,registration:s,options:a,type:n="text",className:i="",...l})=>{const c="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors duration-200",u=r?"border-red-500 focus:ring-red-500 focus:border-red-500":"",h=()=>n==="select"&&a?e.jsxs("select",{className:`${c} ${u} ${i}`,...s,...l,children:[e.jsxs("option",{value:"",children:["Select ",t.toLowerCase()]}),a.map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))]}):n==="textarea"?e.jsx("textarea",{className:`${c} ${u} ${i} min-h-[100px] resize-vertical`,...s,...l}):e.jsx("input",{type:n,className:`${c} ${u} ${i}`,...s,...l});return e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t,l.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),h(),r&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r})]})},ZF=({type:t,title:r,message:s,onClose:a,className:n=""})=>{const i={success:Le,error:jt,warning:bt,info:Gn},l={success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},c={success:"text-green-400",error:"text-red-400",warning:"text-yellow-400",info:"text-blue-400"},u=i[t];return e.jsx("div",{className:`border rounded-lg p-4 ${l[t]} ${n}`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(u,{className:`w-5 h-5 ${c[t]} flex-shrink-0 mt-0.5`}),e.jsxs("div",{className:"ml-3 flex-1",children:[r&&e.jsx("h3",{className:"text-sm font-medium mb-1",children:r}),e.jsx("p",{className:"text-sm",children:s})]}),a&&e.jsx("button",{onClick:a,className:"ml-3 flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx(wt,{className:"w-4 h-4"})})]})})};var mf,bS;function QF(){if(bS)return mf;bS=1;function t(_){this._maxSize=_,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(_){return this._values[_]},t.prototype.set=function(_,S){return this._size>=this._maxSize&&this.clear(),_ in this._values||this._size++,this._values[_]=S};var r=/[^.^\]^[]+|(?=\[\]|\.\.)/g,s=/^\d+$/,a=/^\d/,n=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,l=512,c=new t(l),u=new t(l),h=new t(l);mf={Cache:t,split:x,normalizePath:m,setter:function(_){var S=m(_);return u.get(_)||u.set(_,function(v,A){for(var E=0,T=S.length,F=v;E<T-1;){var R=S[E];if(R==="__proto__"||R==="constructor"||R==="prototype")return v;F=F[S[E++]]}F[S[E]]=A})},getter:function(_,S){var k=m(_);return h.get(_)||h.set(_,function(A){for(var E=0,T=k.length;E<T;)if(A!=null||!S)A=A[k[E++]];else return;return A})},join:function(_){return _.reduce(function(S,k){return S+(b(k)||s.test(k)?"["+k+"]":(S?".":"")+k)},"")},forEach:function(_,S,k){g(Array.isArray(_)?_:x(_),S,k)}};function m(_){return c.get(_)||c.set(_,x(_).map(function(S){return S.replace(i,"$2")}))}function x(_){return _.match(r)||[""]}function g(_,S,k){var v=_.length,A,E,T,F;for(E=0;E<v;E++)A=_[E],A&&(N(A)&&(A='"'+A+'"'),F=b(A),T=!F&&/^\d+$/.test(A),S.call(k,A,F,T,E,_))}function b(_){return typeof _=="string"&&_&&["'",'"'].indexOf(_.charAt(0))!==-1}function y(_){return _.match(a)&&!_.match(s)}function w(_){return n.test(_)}function N(_){return!b(_)&&(y(_)||w(_))}return mf}var lo=QF(),hf,vS;function e8(){if(vS)return hf;vS=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,r=m=>m.match(t)||[],s=m=>m[0].toUpperCase()+m.slice(1),a=(m,x)=>r(m).join(x).toLowerCase(),n=m=>r(m).reduce((x,g)=>`${x}${x?g[0].toUpperCase()+g.slice(1).toLowerCase():g.toLowerCase()}`,"");return hf={words:r,upperFirst:s,camelCase:n,pascalCase:m=>s(n(m)),snakeCase:m=>a(m,"_"),kebabCase:m=>a(m,"-"),sentenceCase:m=>s(a(m," ")),titleCase:m=>r(m).map(s).join(" ")},hf}var xf=e8(),S0={exports:{}},wS;function t8(){if(wS)return S0.exports;wS=1,S0.exports=function(n){return t(r(n),n)},S0.exports.array=t;function t(n,i){var l=n.length,c=new Array(l),u={},h=l,m=s(i),x=a(n);for(i.forEach(function(b){if(!x.has(b[0])||!x.has(b[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});h--;)u[h]||g(n[h],h,new Set);return c;function g(b,y,w){if(w.has(b)){var N;try{N=", node was:"+JSON.stringify(b)}catch{N=""}throw new Error("Cyclic dependency"+N)}if(!x.has(b))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(b));if(!u[y]){u[y]=!0;var _=m.get(b)||new Set;if(_=Array.from(_),y=_.length){w.add(b);do{var S=_[--y];g(S,x.get(S),w)}while(y);w.delete(b)}c[--l]=b}}}function r(n){for(var i=new Set,l=0,c=n.length;l<c;l++){var u=n[l];i.add(u[0]),i.add(u[1])}return Array.from(i)}function s(n){for(var i=new Map,l=0,c=n.length;l<c;l++){var u=n[l];i.has(u[0])||i.set(u[0],new Set),i.has(u[1])||i.set(u[1],new Set),i.get(u[0]).add(u[1])}return i}function a(n){for(var i=new Map,l=0,c=n.length;l<c;l++)i.set(n[l],l);return i}return S0.exports}var r8=t8();const s8=xn(r8),a8=Object.prototype.toString,n8=Error.prototype.toString,i8=RegExp.prototype.toString,l8=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",o8=/^Symbol\((.*)\)(.*)$/;function c8(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function jS(t,r=!1){if(t==null||t===!0||t===!1)return""+t;const s=typeof t;if(s==="number")return c8(t);if(s==="string")return r?`"${t}"`:t;if(s==="function")return"[Function "+(t.name||"anonymous")+"]";if(s==="symbol")return l8.call(t).replace(o8,"Symbol($1)");const a=a8.call(t).slice(8,-1);return a==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):a==="Error"||t instanceof Error?"["+n8.call(t)+"]":a==="RegExp"?i8.call(t):null}function bi(t,r){let s=jS(t,r);return s!==null?s:JSON.stringify(t,function(a,n){let i=jS(this[a],r);return i!==null?i:n},2)}function lP(t){return t==null?[]:[].concat(t)}let oP,cP,dP,d8=/\$\{\s*(\w+)\s*\}/g;oP=Symbol.toStringTag;class NS{constructor(r,s,a,n){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[oP]="Error",this.name="ValidationError",this.value=s,this.path=a,this.type=n,this.errors=[],this.inner=[],lP(r).forEach(i=>{if(Vs.isError(i)){this.errors.push(...i.errors);const l=i.inner.length?i.inner:[i];this.inner.push(...l)}else this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}cP=Symbol.hasInstance;dP=Symbol.toStringTag;class Vs extends Error{static formatError(r,s){const a=s.label||s.path||"this";return s=Object.assign({},s,{path:a,originalPath:s.path}),typeof r=="string"?r.replace(d8,(n,i)=>bi(s[i])):typeof r=="function"?r(s):r}static isError(r){return r&&r.name==="ValidationError"}constructor(r,s,a,n,i){const l=new NS(r,s,a,n);if(i)return l;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[dP]="Error",this.name=l.name,this.message=l.message,this.type=l.type,this.value=l.value,this.path=l.path,this.errors=l.errors,this.inner=l.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Vs)}static[cP](r){return NS[Symbol.hasInstance](r)||super[Symbol.hasInstance](r)}}let Fn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:r,value:s,originalValue:a})=>{const n=a!=null&&a!==s?` (cast from the value \`${bi(a,!0)}\`).`:".";return r!=="mixed"?`${t} must be a \`${r}\` type, but the final value was: \`${bi(s,!0)}\``+n:`${t} must match the configured type. The validated value was: \`${bi(s,!0)}\``+n}},ra={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},u8={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Eb={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},m8={isValue:"${path} field must be ${value}"},th={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},rh={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},h8={notType:t=>{const{path:r,value:s,spec:a}=t,n=a.types.length;if(Array.isArray(s)){if(s.length<n)return`${r} tuple value has too few items, expected a length of ${n} but got ${s.length} for value: \`${bi(s,!0)}\``;if(s.length>n)return`${r} tuple value has too many items, expected a length of ${n} but got ${s.length} for value: \`${bi(s,!0)}\``}return Vs.formatError(Fn.notType,t)}};Object.assign(Object.create(null),{mixed:Fn,string:ra,number:u8,date:Eb,object:th,array:rh,boolean:m8,tuple:h8});const Px=t=>t&&t.__isYupSchema__;class kh{static fromOptions(r,s){if(!s.then&&!s.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:a,then:n,otherwise:i}=s,l=typeof a=="function"?a:(...c)=>c.every(u=>u===a);return new kh(r,(c,u)=>{var h;let m=l(...c)?n:i;return(h=m?.(u))!=null?h:u})}constructor(r,s){this.fn=void 0,this.refs=r,this.refs=r,this.fn=s}resolve(r,s){let a=this.refs.map(i=>i.getValue(s?.value,s?.parent,s?.context)),n=this.fn(a,r,s);if(n===void 0||n===r)return r;if(!Px(n))throw new TypeError("conditions must return a schema object");return n.resolve(s)}}const _0={context:"$",value:"."};class So{constructor(r,s={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof r!="string")throw new TypeError("ref must be a string, got: "+r);if(this.key=r.trim(),r==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===_0.context,this.isValue=this.key[0]===_0.value,this.isSibling=!this.isContext&&!this.isValue;let a=this.isContext?_0.context:this.isValue?_0.value:"";this.path=this.key.slice(a.length),this.getter=this.path&&lo.getter(this.path,!0),this.map=s.map}getValue(r,s,a){let n=this.isContext?a:this.isValue?r:s;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(r,s){return this.getValue(r,s?.parent,s?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(r){return r&&r.__isYupRef}}So.prototype.__isYupRef=!0;const Xl=t=>t==null;function sc(t){function r({value:s,path:a="",options:n,originalValue:i,schema:l},c,u){const{name:h,test:m,params:x,message:g,skipAbsent:b}=t;let{parent:y,context:w,abortEarly:N=l.spec.abortEarly,disableStackTrace:_=l.spec.disableStackTrace}=n;const S={value:s,parent:y,context:w};function k($={}){const B=uP(Object.assign({value:s,originalValue:i,label:l.spec.label,path:$.path||a,spec:l.spec,disableStackTrace:$.disableStackTrace||_},x,$.params),S),H=new Vs(Vs.formatError($.message||g,B),s,B.path,$.type||h,B.disableStackTrace);return H.params=B,H}const v=N?c:u;let A={path:a,parent:y,type:h,from:n.from,createError:k,resolve($){return mP($,S)},options:n,originalValue:i,schema:l};const E=$=>{Vs.isError($)?v($):$?u(null):v(k())},T=$=>{Vs.isError($)?v($):c($)};if(b&&Xl(s))return E(!0);let R;try{var D;if(R=m.call(A,s,A),typeof((D=R)==null?void 0:D.then)=="function"){if(n.sync)throw new Error(`Validation test of type: "${A.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(R).then(E,T)}}catch($){T($);return}E(R)}return r.OPTIONS=t,r}function uP(t,r){if(!t)return t;for(const s of Object.keys(t))t[s]=mP(t[s],r);return t}function mP(t,r){return So.isRef(t)?t.getValue(r.value,r.parent,r.context):t}function x8(t,r,s,a=s){let n,i,l;return r?(lo.forEach(r,(c,u,h)=>{let m=u?c.slice(1,c.length-1):c;t=t.resolve({context:a,parent:n,value:s});let x=t.type==="tuple",g=h?parseInt(m,10):0;if(t.innerType||x){if(x&&!h)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${l}" must contain an index to the tuple element, e.g. "${l}[0]"`);if(s&&g>=s.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${c}, in the path: ${r}. because there is no value at that index. `);n=s,s=s&&s[g],t=x?t.spec.types[g]:t.innerType}if(!h){if(!t.fields||!t.fields[m])throw new Error(`The schema does not contain the path: ${r}. (failed at: ${l} which is a type: "${t.type}")`);n=s,s=s&&s[m],t=t.fields[m]}i=m,l=u?"["+c+"]":"."+c}),{schema:t,parent:n,parentPath:i}):{parent:n,parentPath:r,schema:t}}class Sh extends Set{describe(){const r=[];for(const s of this.values())r.push(So.isRef(s)?s.describe():s);return r}resolveAll(r){let s=[];for(const a of this.values())s.push(r(a));return s}clone(){return new Sh(this.values())}merge(r,s){const a=this.clone();return r.forEach(n=>a.add(n)),s.forEach(n=>a.delete(n)),a}}function oc(t,r=new Map){if(Px(t)||!t||typeof t!="object")return t;if(r.has(t))return r.get(t);let s;if(t instanceof Date)s=new Date(t.getTime()),r.set(t,s);else if(t instanceof RegExp)s=new RegExp(t),r.set(t,s);else if(Array.isArray(t)){s=new Array(t.length),r.set(t,s);for(let a=0;a<t.length;a++)s[a]=oc(t[a],r)}else if(t instanceof Map){s=new Map,r.set(t,s);for(const[a,n]of t.entries())s.set(a,oc(n,r))}else if(t instanceof Set){s=new Set,r.set(t,s);for(const a of t)s.add(oc(a,r))}else if(t instanceof Object){s={},r.set(t,s);for(const[a,n]of Object.entries(t))s[a]=oc(n,r)}else throw Error(`Unable to clone ${t}`);return s}function g8(t){if(!(t!=null&&t.length))return;const r=[];let s="",a=!1,n=!1;for(let i=0;i<t.length;i++){const l=t[i];if(l==="["&&!n){s&&(r.push(...s.split(".").filter(Boolean)),s=""),a=!0;continue}if(l==="]"&&!n){s&&(/^\d+$/.test(s)?r.push(s):r.push(s.replace(/^"|"$/g,"")),s=""),a=!1;continue}if(l==='"'){n=!n;continue}if(l==="."&&!a&&!n){s&&(r.push(s),s="");continue}s+=l}return s&&r.push(...s.split(".").filter(Boolean)),r}function p8(t,r){const s=r?`${r}.${t.path}`:t.path;return t.errors.map(a=>({message:a,path:g8(s)}))}function hP(t,r){var s;if(!((s=t.inner)!=null&&s.length)&&t.errors.length)return p8(t,r);const a=r?`${r}.${t.path}`:t.path;return t.inner.flatMap(n=>hP(n,a))}class un{constructor(r){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Sh,this._blacklist=new Sh,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Fn.notType)}),this.type=r.type,this._typeCheck=r.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},r?.spec),this.withMutation(s=>{s.nonNullable()})}get _type(){return this.type}clone(r){if(this._mutate)return r&&Object.assign(this.spec,r),this;const s=Object.create(Object.getPrototypeOf(this));return s.type=this.type,s._typeCheck=this._typeCheck,s._whitelist=this._whitelist.clone(),s._blacklist=this._blacklist.clone(),s.internalTests=Object.assign({},this.internalTests),s.exclusiveTests=Object.assign({},this.exclusiveTests),s.deps=[...this.deps],s.conditions=[...this.conditions],s.tests=[...this.tests],s.transforms=[...this.transforms],s.spec=oc(Object.assign({},this.spec,r)),s}label(r){let s=this.clone();return s.spec.label=r,s}meta(...r){if(r.length===0)return this.spec.meta;let s=this.clone();return s.spec.meta=Object.assign(s.spec.meta||{},r[0]),s}withMutation(r){let s=this._mutate;this._mutate=!0;let a=r(this);return this._mutate=s,a}concat(r){if(!r||r===this)return this;if(r.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${r.type}`);let s=this,a=r.clone();const n=Object.assign({},s.spec,a.spec);return a.spec=n,a.internalTests=Object.assign({},s.internalTests,a.internalTests),a._whitelist=s._whitelist.merge(r._whitelist,r._blacklist),a._blacklist=s._blacklist.merge(r._blacklist,r._whitelist),a.tests=s.tests,a.exclusiveTests=s.exclusiveTests,a.withMutation(i=>{r.tests.forEach(l=>{i.test(l.OPTIONS)})}),a.transforms=[...s.transforms,...a.transforms],a}isType(r){return r==null?!!(this.spec.nullable&&r===null||this.spec.optional&&r===void 0):this._typeCheck(r)}resolve(r){let s=this;if(s.conditions.length){let a=s.conditions;s=s.clone(),s.conditions=[],s=a.reduce((n,i)=>i.resolve(n,r),s),s=s.resolve(r)}return s}resolveOptions(r){var s,a,n,i;return Object.assign({},r,{from:r.from||[],strict:(s=r.strict)!=null?s:this.spec.strict,abortEarly:(a=r.abortEarly)!=null?a:this.spec.abortEarly,recursive:(n=r.recursive)!=null?n:this.spec.recursive,disableStackTrace:(i=r.disableStackTrace)!=null?i:this.spec.disableStackTrace})}cast(r,s={}){let a=this.resolve(Object.assign({value:r},s)),n=s.assert==="ignore-optionality",i=a._cast(r,s);if(s.assert!==!1&&!a.isType(i)){if(n&&Xl(i))return i;let l=bi(r),c=bi(i);throw new TypeError(`The value of ${s.path||"field"} could not be cast to a value that satisfies the schema type: "${a.type}". 

attempted value: ${l} 
`+(c!==l?`result of cast: ${c}`:""))}return i}_cast(r,s){let a=r===void 0?r:this.transforms.reduce((n,i)=>i.call(this,n,r,this),r);return a===void 0&&(a=this.getDefault(s)),a}_validate(r,s={},a,n){let{path:i,originalValue:l=r,strict:c=this.spec.strict}=s,u=r;c||(u=this._cast(u,Object.assign({assert:!1},s)));let h=[];for(let m of Object.values(this.internalTests))m&&h.push(m);this.runTests({path:i,value:u,originalValue:l,options:s,tests:h},a,m=>{if(m.length)return n(m,u);this.runTests({path:i,value:u,originalValue:l,options:s,tests:this.tests},a,n)})}runTests(r,s,a){let n=!1,{tests:i,value:l,originalValue:c,path:u,options:h}=r,m=w=>{n||(n=!0,s(w,l))},x=w=>{n||(n=!0,a(w,l))},g=i.length,b=[];if(!g)return x([]);let y={value:l,originalValue:c,path:u,options:h,schema:this};for(let w=0;w<i.length;w++){const N=i[w];N(y,m,function(S){S&&(Array.isArray(S)?b.push(...S):b.push(S)),--g<=0&&x(b)})}}asNestedTest({key:r,index:s,parent:a,parentPath:n,originalParent:i,options:l}){const c=r??s;if(c==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof c=="number";let h=a[c];const m=Object.assign({},l,{strict:!0,parent:a,value:h,originalValue:i[c],key:void 0,[u?"index":"key"]:c,path:u||c.includes(".")?`${n||""}[${u?c:`"${c}"`}]`:(n?`${n}.`:"")+r});return(x,g,b)=>this.resolve(m)._validate(h,m,g,b)}validate(r,s){var a;let n=this.resolve(Object.assign({},s,{value:r})),i=(a=s?.disableStackTrace)!=null?a:n.spec.disableStackTrace;return new Promise((l,c)=>n._validate(r,s,(u,h)=>{Vs.isError(u)&&(u.value=h),c(u)},(u,h)=>{u.length?c(new Vs(u,h,void 0,void 0,i)):l(h)}))}validateSync(r,s){var a;let n=this.resolve(Object.assign({},s,{value:r})),i,l=(a=s?.disableStackTrace)!=null?a:n.spec.disableStackTrace;return n._validate(r,Object.assign({},s,{sync:!0}),(c,u)=>{throw Vs.isError(c)&&(c.value=u),c},(c,u)=>{if(c.length)throw new Vs(c,r,void 0,void 0,l);i=u}),i}isValid(r,s){return this.validate(r,s).then(()=>!0,a=>{if(Vs.isError(a))return!1;throw a})}isValidSync(r,s){try{return this.validateSync(r,s),!0}catch(a){if(Vs.isError(a))return!1;throw a}}_getDefault(r){let s=this.spec.default;return s==null?s:typeof s=="function"?s.call(this,r):oc(s)}getDefault(r){return this.resolve(r||{})._getDefault(r)}default(r){return arguments.length===0?this._getDefault():this.clone({default:r})}strict(r=!0){return this.clone({strict:r})}nullability(r,s){const a=this.clone({nullable:r});return a.internalTests.nullable=sc({message:s,name:"nullable",test(n){return n===null?this.schema.spec.nullable:!0}}),a}optionality(r,s){const a=this.clone({optional:r});return a.internalTests.optionality=sc({message:s,name:"optionality",test(n){return n===void 0?this.schema.spec.optional:!0}}),a}optional(){return this.optionality(!0)}defined(r=Fn.defined){return this.optionality(!1,r)}nullable(){return this.nullability(!0)}nonNullable(r=Fn.notNull){return this.nullability(!1,r)}required(r=Fn.required){return this.clone().withMutation(s=>s.nonNullable(r).defined(r))}notRequired(){return this.clone().withMutation(r=>r.nullable().optional())}transform(r){let s=this.clone();return s.transforms.push(r),s}test(...r){let s;if(r.length===1?typeof r[0]=="function"?s={test:r[0]}:s=r[0]:r.length===2?s={name:r[0],test:r[1]}:s={name:r[0],message:r[1],test:r[2]},s.message===void 0&&(s.message=Fn.default),typeof s.test!="function")throw new TypeError("`test` is a required parameters");let a=this.clone(),n=sc(s),i=s.exclusive||s.name&&a.exclusiveTests[s.name]===!0;if(s.exclusive&&!s.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return s.name&&(a.exclusiveTests[s.name]=!!s.exclusive),a.tests=a.tests.filter(l=>!(l.OPTIONS.name===s.name&&(i||l.OPTIONS.test===n.OPTIONS.test))),a.tests.push(n),a}when(r,s){!Array.isArray(r)&&typeof r!="string"&&(s=r,r=".");let a=this.clone(),n=lP(r).map(i=>new So(i));return n.forEach(i=>{i.isSibling&&a.deps.push(i.key)}),a.conditions.push(typeof s=="function"?new kh(n,s):kh.fromOptions(n,s)),a}typeError(r){let s=this.clone();return s.internalTests.typeError=sc({message:r,name:"typeError",skipAbsent:!0,test(a){return this.schema._typeCheck(a)?!0:this.createError({params:{type:this.schema.type}})}}),s}oneOf(r,s=Fn.oneOf){let a=this.clone();return r.forEach(n=>{a._whitelist.add(n),a._blacklist.delete(n)}),a.internalTests.whiteList=sc({message:s,name:"oneOf",skipAbsent:!0,test(n){let i=this.schema._whitelist,l=i.resolveAll(this.resolve);return l.includes(n)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:l}})}}),a}notOneOf(r,s=Fn.notOneOf){let a=this.clone();return r.forEach(n=>{a._blacklist.add(n),a._whitelist.delete(n)}),a.internalTests.blacklist=sc({message:s,name:"notOneOf",test(n){let i=this.schema._blacklist,l=i.resolveAll(this.resolve);return l.includes(n)?this.createError({params:{values:Array.from(i).join(", "),resolved:l}}):!0}}),a}strip(r=!0){let s=this.clone();return s.spec.strip=r,s}describe(r){const s=(r?this.resolve(r):this).clone(),{label:a,meta:n,optional:i,nullable:l}=s.spec;return{meta:n,label:a,optional:i,nullable:l,default:s.getDefault(r),type:s.type,oneOf:s._whitelist.describe(),notOneOf:s._blacklist.describe(),tests:s.tests.filter((u,h,m)=>m.findIndex(x=>x.OPTIONS.name===u.OPTIONS.name)===h).map(u=>{const h=u.OPTIONS.params&&r?uP(Object.assign({},u.OPTIONS.params),r):u.OPTIONS.params;return{name:u.OPTIONS.name,params:h}})}}get"~standard"(){const r=this;return{version:1,vendor:"yup",async validate(a){try{return{value:await r.validate(a,{abortEarly:!1})}}catch(n){if(n instanceof Vs)return{issues:hP(n)};throw n}}}}}un.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])un.prototype[`${t}At`]=function(r,s,a={}){const{parent:n,parentPath:i,schema:l}=x8(this,r,s,a.context);return l[t](n&&n[i],Object.assign({},a,{parent:n,path:r}))};for(const t of["equals","is"])un.prototype[t]=un.prototype.oneOf;for(const t of["not","nope"])un.prototype[t]=un.prototype.notOneOf;const f8=()=>!0;function xP(t){return new gP(t)}class gP extends un{constructor(r){super(typeof r=="function"?{type:"mixed",check:r}:Object.assign({type:"mixed",check:f8},r))}}xP.prototype=gP.prototype;const y8=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function b8(t){const r=Tb(t);if(!r)return Date.parse?Date.parse(t):Number.NaN;if(r.z===void 0&&r.plusMinus===void 0)return new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond).valueOf();let s=0;return r.z!=="Z"&&r.plusMinus!==void 0&&(s=r.hourOffset*60+r.minuteOffset,r.plusMinus==="+"&&(s=0-s)),Date.UTC(r.year,r.month,r.day,r.hour,r.minute+s,r.second,r.millisecond)}function Tb(t){var r,s;const a=y8.exec(t);return a?{year:li(a[1]),month:li(a[2],1)-1,day:li(a[3],1),hour:li(a[4]),minute:li(a[5]),second:li(a[6]),millisecond:a[7]?li(a[7].substring(0,3)):0,precision:(r=(s=a[7])==null?void 0:s.length)!=null?r:void 0,z:a[8]||void 0,plusMinus:a[9]||void 0,hourOffset:li(a[10]),minuteOffset:li(a[11])}:null}function li(t,r=0){return Number(t)||r}let v8=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,w8=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,j8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,N8="^\\d{4}-\\d{2}-\\d{2}",k8="\\d{2}:\\d{2}:\\d{2}",S8="(([+-]\\d{2}(:?\\d{2})?)|Z)",_8=new RegExp(`${N8}T${k8}(\\.\\d+)?${S8}$`),A8=t=>Xl(t)||t===t.trim(),C8={}.toString();function Bt(){return new pP}class pP extends un{constructor(){super({type:"string",check(r){return r instanceof String&&(r=r.valueOf()),typeof r=="string"}}),this.withMutation(()=>{this.transform((r,s,a)=>{if(!a.spec.coerce||a.isType(r)||Array.isArray(r))return r;const n=r!=null&&r.toString?r.toString():r;return n===C8?r:n})})}required(r){return super.required(r).withMutation(s=>s.test({message:r||Fn.required,name:"required",skipAbsent:!0,test:a=>!!a.length}))}notRequired(){return super.notRequired().withMutation(r=>(r.tests=r.tests.filter(s=>s.OPTIONS.name!=="required"),r))}length(r,s=ra.length){return this.test({message:s,name:"length",exclusive:!0,params:{length:r},skipAbsent:!0,test(a){return a.length===this.resolve(r)}})}min(r,s=ra.min){return this.test({message:s,name:"min",exclusive:!0,params:{min:r},skipAbsent:!0,test(a){return a.length>=this.resolve(r)}})}max(r,s=ra.max){return this.test({name:"max",exclusive:!0,message:s,params:{max:r},skipAbsent:!0,test(a){return a.length<=this.resolve(r)}})}matches(r,s){let a=!1,n,i;return s&&(typeof s=="object"?{excludeEmptyString:a=!1,message:n,name:i}=s:n=s),this.test({name:i||"matches",message:n||ra.matches,params:{regex:r},skipAbsent:!0,test:l=>l===""&&a||l.search(r)!==-1})}email(r=ra.email){return this.matches(v8,{name:"email",message:r,excludeEmptyString:!0})}url(r=ra.url){return this.matches(w8,{name:"url",message:r,excludeEmptyString:!0})}uuid(r=ra.uuid){return this.matches(j8,{name:"uuid",message:r,excludeEmptyString:!1})}datetime(r){let s="",a,n;return r&&(typeof r=="object"?{message:s="",allowOffset:a=!1,precision:n=void 0}=r:s=r),this.matches(_8,{name:"datetime",message:s||ra.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:s||ra.datetime_offset,params:{allowOffset:a},skipAbsent:!0,test:i=>{if(!i||a)return!0;const l=Tb(i);return l?!!l.z:!1}}).test({name:"datetime_precision",message:s||ra.datetime_precision,params:{precision:n},skipAbsent:!0,test:i=>{if(!i||n==null)return!0;const l=Tb(i);return l?l.precision===n:!1}})}ensure(){return this.default("").transform(r=>r===null?"":r)}trim(r=ra.trim){return this.transform(s=>s!=null?s.trim():s).test({message:r,name:"trim",test:A8})}lowercase(r=ra.lowercase){return this.transform(s=>Xl(s)?s:s.toLowerCase()).test({message:r,name:"string_case",exclusive:!0,skipAbsent:!0,test:s=>Xl(s)||s===s.toLowerCase()})}uppercase(r=ra.uppercase){return this.transform(s=>Xl(s)?s:s.toUpperCase()).test({message:r,name:"string_case",exclusive:!0,skipAbsent:!0,test:s=>Xl(s)||s===s.toUpperCase()})}}Bt.prototype=pP.prototype;let P8=new Date(""),E8=t=>Object.prototype.toString.call(t)==="[object Date]";class kw extends un{constructor(){super({type:"date",check(r){return E8(r)&&!isNaN(r.getTime())}}),this.withMutation(()=>{this.transform((r,s,a)=>!a.spec.coerce||a.isType(r)||r===null?r:(r=b8(r),isNaN(r)?kw.INVALID_DATE:new Date(r)))})}prepareParam(r,s){let a;if(So.isRef(r))a=r;else{let n=this.cast(r);if(!this._typeCheck(n))throw new TypeError(`\`${s}\` must be a Date or a value that can be \`cast()\` to a Date`);a=n}return a}min(r,s=Eb.min){let a=this.prepareParam(r,"min");return this.test({message:s,name:"min",exclusive:!0,params:{min:r},skipAbsent:!0,test(n){return n>=this.resolve(a)}})}max(r,s=Eb.max){let a=this.prepareParam(r,"max");return this.test({message:s,name:"max",exclusive:!0,params:{max:r},skipAbsent:!0,test(n){return n<=this.resolve(a)}})}}kw.INVALID_DATE=P8;function T8(t,r=[]){let s=[],a=new Set,n=new Set(r.map(([l,c])=>`${l}-${c}`));function i(l,c){let u=lo.split(l)[0];a.add(u),n.has(`${c}-${u}`)||s.push([c,u])}for(const l of Object.keys(t)){let c=t[l];a.add(l),So.isRef(c)&&c.isSibling?i(c.path,l):Px(c)&&"deps"in c&&c.deps.forEach(u=>i(u,l))}return s8.array(Array.from(a),s).reverse()}function kS(t,r){let s=1/0;return t.some((a,n)=>{var i;if((i=r.path)!=null&&i.includes(a))return s=n,!0}),s}function fP(t){return(r,s)=>kS(t,r)-kS(t,s)}const yP=(t,r,s)=>{if(typeof t!="string")return t;let a=t;try{a=JSON.parse(t)}catch{}return s.isType(a)?a:t};function sh(t){if("fields"in t){const r={};for(const[s,a]of Object.entries(t.fields))r[s]=sh(a);return t.setFields(r)}if(t.type==="array"){const r=t.optional();return r.innerType&&(r.innerType=sh(r.innerType)),r}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(sh)}):"optional"in t?t.optional():t}const D8=(t,r)=>{const s=[...lo.normalizePath(r)];if(s.length===1)return s[0]in t;let a=s.pop(),n=lo.getter(lo.join(s),!0)(t);return!!(n&&a in n)};let SS=t=>Object.prototype.toString.call(t)==="[object Object]";function _S(t,r){let s=Object.keys(t.fields);return Object.keys(r).filter(a=>s.indexOf(a)===-1)}const R8=fP([]);function bP(t){return new vP(t)}class vP extends un{constructor(r){super({type:"object",check(s){return SS(s)||typeof s=="function"}}),this.fields=Object.create(null),this._sortErrors=R8,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{r&&this.shape(r)})}_cast(r,s={}){var a;let n=super._cast(r,s);if(n===void 0)return this.getDefault(s);if(!this._typeCheck(n))return n;let i=this.fields,l=(a=s.stripUnknown)!=null?a:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(n).filter(x=>!this._nodes.includes(x))),u={},h=Object.assign({},s,{parent:u,__validating:s.__validating||!1}),m=!1;for(const x of c){let g=i[x],b=x in n;if(g){let y,w=n[x];h.path=(s.path?`${s.path}.`:"")+x,g=g.resolve({value:w,context:s.context,parent:u});let N=g instanceof un?g.spec:void 0,_=N?.strict;if(N!=null&&N.strip){m=m||x in n;continue}y=!s.__validating||!_?g.cast(n[x],h):n[x],y!==void 0&&(u[x]=y)}else b&&!l&&(u[x]=n[x]);(b!==x in u||u[x]!==n[x])&&(m=!0)}return m?u:n}_validate(r,s={},a,n){let{from:i=[],originalValue:l=r,recursive:c=this.spec.recursive}=s;s.from=[{schema:this,value:l},...i],s.__validating=!0,s.originalValue=l,super._validate(r,s,a,(u,h)=>{if(!c||!SS(h)){n(u,h);return}l=l||h;let m=[];for(let x of this._nodes){let g=this.fields[x];!g||So.isRef(g)||m.push(g.asNestedTest({options:s,key:x,parent:h,parentPath:s.path,originalParent:l}))}this.runTests({tests:m,value:h,originalValue:l,options:s},a,x=>{n(x.sort(this._sortErrors).concat(u),h)})})}clone(r){const s=super.clone(r);return s.fields=Object.assign({},this.fields),s._nodes=this._nodes,s._excludedEdges=this._excludedEdges,s._sortErrors=this._sortErrors,s}concat(r){let s=super.concat(r),a=s.fields;for(let[n,i]of Object.entries(this.fields)){const l=a[n];a[n]=l===void 0?i:l}return s.withMutation(n=>n.setFields(a,[...this._excludedEdges,...r._excludedEdges]))}_getDefault(r){if("default"in this.spec)return super._getDefault(r);if(!this._nodes.length)return;let s={};return this._nodes.forEach(a=>{var n;const i=this.fields[a];let l=r;(n=l)!=null&&n.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[a]})),s[a]=i&&"getDefault"in i?i.getDefault(l):void 0}),s}setFields(r,s){let a=this.clone();return a.fields=r,a._nodes=T8(r,s),a._sortErrors=fP(Object.keys(r)),s&&(a._excludedEdges=s),a}shape(r,s=[]){return this.clone().withMutation(a=>{let n=a._excludedEdges;return s.length&&(Array.isArray(s[0])||(s=[s]),n=[...a._excludedEdges,...s]),a.setFields(Object.assign(a.fields,r),n)})}partial(){const r={};for(const[s,a]of Object.entries(this.fields))r[s]="optional"in a&&a.optional instanceof Function?a.optional():a;return this.setFields(r)}deepPartial(){return sh(this)}pick(r){const s={};for(const a of r)this.fields[a]&&(s[a]=this.fields[a]);return this.setFields(s,this._excludedEdges.filter(([a,n])=>r.includes(a)&&r.includes(n)))}omit(r){const s=[];for(const a of Object.keys(this.fields))r.includes(a)||s.push(a);return this.pick(s)}from(r,s,a){let n=lo.getter(r,!0);return this.transform(i=>{if(!i)return i;let l=i;return D8(i,r)&&(l=Object.assign({},i),a||delete l[r],l[s]=n(i)),l})}json(){return this.transform(yP)}exact(r){return this.test({name:"exact",exclusive:!0,message:r||th.exact,test(s){if(s==null)return!0;const a=_S(this.schema,s);return a.length===0||this.createError({params:{properties:a.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(r=!0,s=th.noUnknown){typeof r!="boolean"&&(s=r,r=!0);let a=this.test({name:"noUnknown",exclusive:!0,message:s,test(n){if(n==null)return!0;const i=_S(this.schema,n);return!r||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return a.spec.noUnknown=r,a}unknown(r=!0,s=th.noUnknown){return this.noUnknown(!r,s)}transformKeys(r){return this.transform(s=>{if(!s)return s;const a={};for(const n of Object.keys(s))a[r(n)]=s[n];return a})}camelCase(){return this.transformKeys(xf.camelCase)}snakeCase(){return this.transformKeys(xf.snakeCase)}constantCase(){return this.transformKeys(r=>xf.snakeCase(r).toUpperCase())}describe(r){const s=(r?this.resolve(r):this).clone(),a=super.describe(r);a.fields={};for(const[i,l]of Object.entries(s.fields)){var n;let c=r;(n=c)!=null&&n.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[i]})),a.fields[i]=l.describe(c)}return a}}bP.prototype=vP.prototype;function Db(t){return new wP(t)}class wP extends un{constructor(r){super({type:"array",spec:{types:r},check(s){return Array.isArray(s)}}),this.innerType=void 0,this.innerType=r}_cast(r,s){const a=super._cast(r,s);if(!this._typeCheck(a)||!this.innerType)return a;let n=!1;const i=a.map((l,c)=>{const u=this.innerType.cast(l,Object.assign({},s,{path:`${s.path||""}[${c}]`}));return u!==l&&(n=!0),u});return n?i:a}_validate(r,s={},a,n){var i;let l=this.innerType,c=(i=s.recursive)!=null?i:this.spec.recursive;s.originalValue!=null&&s.originalValue,super._validate(r,s,a,(u,h)=>{var m;if(!c||!l||!this._typeCheck(h)){n(u,h);return}let x=new Array(h.length);for(let b=0;b<h.length;b++){var g;x[b]=l.asNestedTest({options:s,index:b,parent:h,parentPath:s.path,originalParent:(g=s.originalValue)!=null?g:r})}this.runTests({value:h,tests:x,originalValue:(m=s.originalValue)!=null?m:r,options:s},a,b=>n(b.concat(u),h))})}clone(r){const s=super.clone(r);return s.innerType=this.innerType,s}json(){return this.transform(yP)}concat(r){let s=super.concat(r);return s.innerType=this.innerType,r.innerType&&(s.innerType=s.innerType?s.innerType.concat(r.innerType):r.innerType),s}of(r){let s=this.clone();if(!Px(r))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+bi(r));return s.innerType=r,s.spec=Object.assign({},s.spec,{types:r}),s}length(r,s=rh.length){return this.test({message:s,name:"length",exclusive:!0,params:{length:r},skipAbsent:!0,test(a){return a.length===this.resolve(r)}})}min(r,s){return s=s||rh.min,this.test({message:s,name:"min",exclusive:!0,params:{min:r},skipAbsent:!0,test(a){return a.length>=this.resolve(r)}})}max(r,s){return s=s||rh.max,this.test({message:s,name:"max",exclusive:!0,params:{max:r},skipAbsent:!0,test(a){return a.length<=this.resolve(r)}})}ensure(){return this.default(()=>[]).transform((r,s)=>this._typeCheck(r)?r:s==null?[]:[].concat(s))}compact(r){let s=r?(a,n,i)=>!r(a,n,i):a=>!!a;return this.transform(a=>a!=null?a.filter(s):a)}describe(r){const s=(r?this.resolve(r):this).clone(),a=super.describe(r);if(s.innerType){var n;let i=r;(n=i)!=null&&n.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),a.innerType=s.innerType.describe(i)}return a}}Db.prototype=wP.prototype;const O8=bP({lastName:Bt().required("Last name is required"),firstName:Bt().required("First name is required"),middleName:Bt().required("Middle name is required"),extensionName:Bt().optional().default(""),sex:Bt().required("Sex is required"),civilStatus:Bt().required("Civil status is required"),nationality:Bt().required("Nationality is required"),birthPlace:Bt().required("Birth place is required"),birthDate:Bt().required("Birth date is required"),isPWD:Bt().required("PWD status is required"),pwdSpecification:Bt().optional().default(""),religion:Bt().required("Religion is required"),presentBarangay:Bt().required("Present barangay is required"),presentDistrict:Bt().required("Present district is required"),presentCity:Bt().required("Present city is required"),presentZipCode:Bt().required("Present zip code is required"),permanentBarangay:Bt().required("Permanent barangay is required"),permanentDistrict:Bt().required("Permanent district is required"),permanentCity:Bt().required("Permanent city is required"),permanentZipCode:Bt().required("Permanent zip code is required"),contactNumber:Bt().required("Contact number is required"),emailAddress:Bt().email("Invalid email").required("Email address is required"),isEmployed:Bt().required("Employment status is required"),isJobSeeking:Bt().required("Job seeking status is required"),isCurrentlyEnrolled:Bt().required("Current enrollment status is required"),primaryMarginalizedGroup:Bt().required("Primary marginalized group is required"),secondaryMarginalizedGroups:Db().of(Bt().required()).optional().default([]),hasDigitalWallet:Bt().required("Digital wallet status is required"),digitalWallets:Db().of(Bt().required()).optional().default([]),walletAccountNumber:Bt().optional().default(""),scholarIdNumber:Bt().required("Scholar ID number is required"),scholarshipCategory:Bt().required("Scholarship category is required"),scholarshipSubCategory:Bt().required("Scholarship sub-category is required"),currentEducationalLevel:Bt().required("Current educational level is required"),schoolYear:Bt().required("School year is required"),schoolTerm:Bt().required("School term is required"),isGraduating:Bt().required("Graduation status is required"),currentGPA:Bt().required("Current GPA is required"),reasonForRenewal:Bt().required("Reason for renewal is required"),financialNeed:Bt().required("Financial need description is required"),documents:xP().optional().default(null)}),I8=()=>{const t=Lt(v=>v.currentUser),[r,s]=f.useState(!1),[a,n]=f.useState(!1),[i,l]=f.useState(null),[c,u]=f.useState([]),{register:h,handleSubmit:m,formState:{errors:x}}=nP({resolver:XF(O8),defaultValues:{firstName:t?.firstName||"",lastName:t?.lastName||"",nationality:"Filipino",civilStatus:"Single",isPWD:"No",isEmployed:"No",isJobSeeking:"No",isCurrentlyEnrolled:"Yes",hasDigitalWallet:"Yes",currentEducationalLevel:"Tertiary/College",schoolYear:"2024",schoolTerm:"1ST",isGraduating:"No"}}),g=v=>{if(v.target.files){const A=Array.from(v.target.files);u(E=>[...E,...A])}},b=v=>{u(A=>A.filter(E=>E.name!==v))},y=async v=>{if(s(!0),l(null),c.length===0){l("Please upload at least one required document."),s(!1);return}try{await new Promise(A=>setTimeout(A,2e3)),console.log("Renewal form data:",v),console.log("Uploaded files:",c),n(!0)}catch{l("Failed to submit renewal application. Please try again.")}finally{s(!1)}},w=["I am part of an Indigent Family","My family is Displaced/Relocated within Caloocan City","I am a Person with Disability (PWD)","I have an immediate family member who is a Person with Disability (PWD)","My parent is a Household Helper/Kasambahay","I am an Alternative Learning System (ALS) graduate","I am a solo parent","I have a solo parent","I have a parent who is an Overseas Filipino Worker (OFW)","I have a parent who has been found guilty with finality in criminal case","I am a Youth in Conflict with the Law","I have an immediate family member who is a tricycle driver and/or operator","My family belongs to Indigenous People","Beneficiary of the Pantawid Pamilyang Pilipino Program (4Ps)","Not Applicable"],N=["GCASH","MAYA","SEABANK","CIMB","OTHERS"],_=["Scholarship for Tertiary Students","Scholarship for Senior High School Students","Scholarship for Alternative Learning System (ALS)","Scholarship for Technical Vocational Education"],S=["Academic Excellence Scholarship","Economic Scholarship","Athletic Scholarship","Cultural Scholarship","Leadership Scholarship"],k=["Certificate of Enrollment","Transcript of Records (Latest)","Certificate of Good Moral","Income Certificate","Barangay Certificate","Previous Scholarship Certificate","Valid ID (Government-issued)","Birth Certificate","Proof of Residency"];return a?e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[e.jsx(Le,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Renewal Application Submitted Successfully!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your scholarship renewal application has been received and is being processed. You will receive a confirmation email shortly."}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Application Number:"})," REN-2024-001234"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Submitted Date:"})," ",new Date().toLocaleDateString()]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Aa,{onClick:()=>n(!1),children:"Submit Another Renewal"})})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[e.jsx(gs,{className:"h-8 w-8 text-orange-500"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scholarship Renewal Application"})]}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Complete the form below to renew your scholarship for the next academic period."})]}),e.jsxs("form",{onSubmit:m(y),className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"bg-orange-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-lg font-bold mr-4",children:"I"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"PERSONAL INFORMATION"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-6 italic",children:"Please ensure that the information you provided aligns with your submitted documents."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ts,{label:"Last Name",type:"text",placeholder:"Dela Cruz",registration:h("lastName"),error:x.lastName?.message,required:!0}),e.jsx(ts,{label:"First Name",type:"text",placeholder:"Juan",registration:h("firstName"),error:x.firstName?.message,required:!0}),e.jsx(ts,{label:"Middle Name",type:"text",placeholder:"Santos",registration:h("middleName"),error:x.middleName?.message,required:!0}),e.jsx(ts,{label:"Extension/Name",type:"text",placeholder:"Jr., Sr., III",registration:h("extensionName"),error:x.extensionName?.message}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Sex ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("sex"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select Sex"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]}),x.sex&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.sex.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Civil Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("civilStatus"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select Civil Status"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Married",children:"Married"}),e.jsx("option",{value:"Widowed",children:"Widowed"}),e.jsx("option",{value:"Divorced",children:"Divorced"}),e.jsx("option",{value:"Separated",children:"Separated"})]}),x.civilStatus&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.civilStatus.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nationality ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("nationality"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select Nationality"}),e.jsx("option",{value:"Filipino",children:"Filipino"}),e.jsx("option",{value:"Dual Citizen",children:"Dual Citizen"}),e.jsx("option",{value:"Foreign",children:"Foreign"})]}),x.nationality&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.nationality.message})]}),e.jsx(ts,{label:"Birth Place",type:"text",placeholder:"Caloocan City",registration:h("birthPlace"),error:x.birthPlace?.message,required:!0}),e.jsx(ts,{label:"Date of Birth",type:"date",registration:h("birthDate"),error:x.birthDate?.message,required:!0}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Are you a Person with Disability (PWD)? ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("isPWD"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]}),x.isPWD&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.isPWD.message})]}),e.jsx(ts,{label:"If PWD, Specify",type:"text",placeholder:"Type of disability",registration:h("pwdSpecification"),error:x.pwdSpecification?.message}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Religion ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("religion"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select Religion"}),e.jsx("option",{value:"ROMAN CATHOLIC",children:"Roman Catholic"}),e.jsx("option",{value:"ISLAM",children:"Islam"}),e.jsx("option",{value:"CHRISTIAN",children:"Christian"}),e.jsx("option",{value:"BORN AGAIN",children:"Born Again"}),e.jsx("option",{value:"IGLESIA NI CRISTO (INC)",children:"Iglesia ni Cristo (INC)"}),e.jsx("option",{value:"BIBLE BAPTIST",children:"Bible Baptist"}),e.jsx("option",{value:"7TH DAY ADVENTIST",children:"7th Day Adventist"}),e.jsx("option",{value:"AGLIPAY",children:"Aglipay"}),e.jsx("option",{value:"DATING DAAN",children:"Dating Daan"}),e.jsx("option",{value:"JEHOVA",children:"Jehova"}),e.jsx("option",{value:"OTHERS, PLEASE SPECIFY",children:"Others, please specify"})]}),x.religion&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.religion.message}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Your religion will not affect your scholarship application result"})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ks,{className:"h-5 w-5 text-orange-500 mr-2"}),"Present Address"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ts,{label:"Barangay",type:"text",placeholder:"Bagbag",registration:h("presentBarangay"),error:x.presentBarangay?.message,required:!0}),e.jsx(ts,{label:"District",type:"text",placeholder:"District 5",registration:h("presentDistrict"),error:x.presentDistrict?.message,required:!0}),e.jsx(ts,{label:"City",type:"text",placeholder:"Caloocan City",registration:h("presentCity"),error:x.presentCity?.message,required:!0}),e.jsx(ts,{label:"Zip Code",type:"text",placeholder:"1400",registration:h("presentZipCode"),error:x.presentZipCode?.message,required:!0})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ks,{className:"h-5 w-5 text-orange-500 mr-2"}),"Permanent Address"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(ts,{label:"Barangay",type:"text",placeholder:"Bagbag",registration:h("permanentBarangay"),error:x.permanentBarangay?.message,required:!0}),e.jsx(ts,{label:"District",type:"text",placeholder:"District 5",registration:h("permanentDistrict"),error:x.permanentDistrict?.message,required:!0}),e.jsx(ts,{label:"City",type:"text",placeholder:"Caloocan City",registration:h("permanentCity"),error:x.permanentCity?.message,required:!0}),e.jsx(ts,{label:"Zip Code",type:"text",placeholder:"1400",registration:h("permanentZipCode"),error:x.permanentZipCode?.message,required:!0})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ws,{className:"h-5 w-5 text-orange-500 mr-2"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ts,{label:"Active Contact Number",type:"tel",placeholder:"0912 345 6789",registration:h("contactNumber"),error:x.contactNumber?.message,required:!0}),e.jsx(ts,{label:"Active Email Address",type:"email",placeholder:"juan.delacruz@email.com",registration:h("emailAddress"),error:x.emailAddress?.message,required:!0})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ph,{className:"h-5 w-5 text-orange-500 mr-2"}),"Employment/Job Status"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Are you employed in the past three (3) months? ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("isEmployed"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]}),x.isEmployed&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.isEmployed.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Have you been actively looking for a job in the past three (3) months? ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("isJobSeeking"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]}),x.isJobSeeking&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.isJobSeeking.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Are you enrolled in the last semester/school year? ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("isCurrentlyEnrolled"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]}),x.isCurrentlyEnrolled&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.isCurrentlyEnrolled.message})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Jt,{className:"h-5 w-5 text-orange-500 mr-2"}),"Marginalized Group Information"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Which primary marginalized group do you belong? (Check one) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:w.map((v,A)=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:v,...h("primaryMarginalizedGroup"),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:v})]},A))}),x.primaryMarginalizedGroup&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.primaryMarginalizedGroup.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Which secondary marginalized group do you belong? (Select all that applies)"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:w.map((v,A)=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:v,...h("secondaryMarginalizedGroups"),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:v})]},A))})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(cr,{className:"h-5 w-5 text-orange-500 mr-2"}),"Digital Wallet Information"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Do you have an active digital wallet under your name? ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("hasDigitalWallet"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]}),x.hasDigitalWallet&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.hasDigitalWallet.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Which of the following digital wallets do you have? [Select all that applies]"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2",children:N.map((v,A)=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",value:v,...h("digitalWallets"),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:v})]},A))})]}),e.jsx(ts,{label:"Active Maya/GCash Account Number",type:"text",placeholder:"0912 345 6789",registration:h("walletAccountNumber"),error:x.walletAccountNumber?.message})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"bg-orange-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-lg font-bold mr-4",children:"II"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"SCHOLARSHIP AND ENROLLMENT INFORMATION"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-6 italic",children:"Please ensure that the information you provided aligns with your submitted documents."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(ts,{label:"Scholar's ID Number",type:"text",placeholder:"2024-001234",registration:h("scholarIdNumber"),error:x.scholarIdNumber?.message,required:!0}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Scholarship Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("scholarshipCategory"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select Category"}),_.map((v,A)=>e.jsx("option",{value:v,children:v},A))]}),x.scholarshipCategory&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.scholarshipCategory.message}),e.jsx("p",{className:"mt-1 text-xs text-blue-600",children:e.jsx("a",{href:"#",className:"hover:underline",children:"Click here for Qualifications per Scholarship Category and Sub-Category"})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Scholarship Sub-Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("scholarshipSubCategory"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select Sub-Category"}),S.map((v,A)=>e.jsx("option",{value:v,children:v},A))]}),x.scholarshipSubCategory&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.scholarshipSubCategory.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Current Educational Level ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("currentEducationalLevel"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select Level"}),e.jsx("option",{value:"Senior High School",children:"Senior High School"}),e.jsx("option",{value:"Tertiary/College",children:"Tertiary/College"}),e.jsx("option",{value:"Technical Vocational",children:"Technical Vocational"}),e.jsx("option",{value:"Graduate School",children:"Graduate School"})]}),x.currentEducationalLevel&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.currentEducationalLevel.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["School Year ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("schoolYear"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select Year"}),e.jsx("option",{value:"2024",children:"2024"}),e.jsx("option",{value:"2023",children:"2023"}),e.jsx("option",{value:"2022",children:"2022"}),e.jsx("option",{value:"2021",children:"2021"})]}),x.schoolYear&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.schoolYear.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["School Term/Semester ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("schoolTerm"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"1ST",children:"1ST"}),e.jsx("option",{value:"2ND",children:"2ND"}),e.jsx("option",{value:"SUMMER",children:"SUMMER"})]}),x.schoolTerm&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.schoolTerm.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Are you a graduating student this semester? ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...h("isGraduating"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]}),x.isGraduating&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.isGraduating.message})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(Ia,{className:"h-5 w-5 text-orange-500 mr-2"}),"Required Documents"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload the following documents:"}),e.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 text-sm text-gray-600",children:k.map((v,A)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(ut,{className:"h-4 w-4 text-orange-500 mr-2"}),v]},A))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Upload Documents ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-orange-500 transition-colors duration-200",children:[e.jsx("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:g,className:"hidden",id:"documentUpload"}),e.jsxs("label",{htmlFor:"documentUpload",className:"cursor-pointer",children:[e.jsx(Ia,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"Click to upload documents"}),e.jsx("p",{className:"text-sm text-gray-500",children:"or drag and drop files here"}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Accepted formats: PDF, JPG, PNG. Maximum file size: 5MB per file."})]})]}),x.documents&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:String(x.documents.message)})]}),c.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:["Uploaded Files (",c.length,")"]}),e.jsx("div",{className:"space-y-3",children:c.map((v,A)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-4 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ut,{className:"h-5 w-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(v.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx("button",{type:"button",onClick:()=>b(v.name),className:"text-red-500 hover:text-red-700 p-1",title:"Remove file",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},A))})]}),c.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ut,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No files uploaded yet"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Upload at least one document to continue"})]})]})]}),i&&e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e.jsx(ZF,{type:"error",message:i})}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(Aa,{type:"submit",loading:r,className:"flex-1",size:"lg",children:r?"Submitting Application...":"Submit Renewal Application"}),e.jsx(Aa,{type:"button",variant:"outline",onClick:()=>window.history.back(),className:"flex-1 sm:flex-none",size:"lg",children:"Cancel"})]})})]})]})})},M8={maxSizeMB:10,allowedTypes:["application/pdf","image/jpeg","image/png"],checkSignature:!0,checkPDFSafety:!0},L8=async t=>new Promise(r=>{const s=new FileReader;s.onload=a=>{const n=a.target?.result,i=new Uint8Array(n),l=Array.from(i.slice(0,8)).map(m=>m.toString(16).padStart(2,"0")).join(" ").toUpperCase(),c=t.name.toLowerCase(),u=t.type.toLowerCase();let h=!1;u==="application/pdf"||c.endsWith(".pdf")?h=String.fromCharCode(...i.slice(0,4))==="%PDF":u==="image/png"||c.endsWith(".png")?h=l.startsWith("89 50 4E 47"):u==="image/jpeg"||c.endsWith(".jpg")||c.endsWith(".jpeg")?h=l.startsWith("FF D8 FF"):h=!0,r(h)},s.readAsArrayBuffer(t.slice(0,8))}),$8=async t=>t.type!=="application/pdf"&&!t.name.toLowerCase().endsWith(".pdf")?!0:new Promise(r=>{const s=new FileReader;s.onload=a=>{const n=a.target?.result,i=new Uint8Array(n),l=new TextDecoder("latin1").decode(i),u=["/Launch","/JavaScript","/EmbeddedFile","/OpenAction","/JS","/AcroForm","/XFA"].some(h=>l.includes(h));r(!u)},s.readAsArrayBuffer(t)}),F8=(t,r)=>{const s=r*1024*1024;return t.size<=s},B8=(t,r)=>r.includes(t.type),U8=async(t,r={})=>{const s={...M8,...r},a=[];return F8(t,s.maxSizeMB)?B8(t,s.allowedTypes)?s.checkSignature&&!await L8(t)?{isValid:!1,error:"File signature does not match file extension. File may be corrupted or malicious."}:s.checkPDFSafety&&!await $8(t)?{isValid:!1,error:"PDF contains potentially unsafe content (scripts, embedded files, or auto-launch actions)"}:(t.size>5*1024*1024&&a.push("Large file detected. Upload may take longer."),t.type==="application/pdf"&&t.size<1024&&a.push("PDF file is very small. Please verify it contains the expected content."),{isValid:!0,warnings:a.length>0?a:void 0}):{isValid:!1,error:`File type not allowed. Accepted types: ${s.allowedTypes.join(", ")}`}:{isValid:!1,error:`File size exceeds ${s.maxSizeMB}MB limit`}},z8=t=>{const r=t.type.toLowerCase();return r==="application/pdf"?"":r.startsWith("image/")?"":r.includes("word")?"":r.includes("excel")||r.includes("spreadsheet")?"":""},AS=t=>{if(t===0)return"0 Bytes";const r=1024,s=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,a)).toFixed(2))+" "+s[a]},V8=({documentTypeId:t,documentTypeName:r,studentId:s,applicationId:a,isUploading:n=!1,existingDocument:i,onUploadStart:l,onUploadSuccess:c,onUploadError:u,showRemoveButton:h=!1,onRemove:m,maxSizeMB:x=10,acceptedTypes:g=["application/pdf","image/jpeg","image/png"],className:b=""})=>{const[y,w]=f.useState(!1),[N,_]=f.useState(null),[S,k]=f.useState(null),[v,A]=f.useState(!1),E=f.useRef(null),T=f.useCallback(L=>{L.preventDefault(),L.stopPropagation(),L.type==="dragenter"||L.type==="dragover"?w(!0):L.type==="dragleave"&&w(!1)},[]),F=f.useCallback(L=>{L.preventDefault(),L.stopPropagation(),w(!1);const M=L.dataTransfer.files;M&&M[0]&&R(M[0])},[]),R=async L=>{A(!0),_(L),k(null);try{const M=await U8(L,{maxSizeMB:x,allowedTypes:g,checkSignature:!0,checkPDFSafety:!0});k(M),M.isValid?await D(L):u(M.error||"File validation failed")}catch(M){console.error("File validation error:",M),u("File validation failed. Please try again.")}finally{A(!1)}},D=async L=>{l();try{const M=new FormData;M.append("file",L),M.append("student_id",s.toString()),M.append("application_id",a.toString()),M.append("document_type_id",t.toString());const q=Ca(it.SCHOLARSHIP_SERVICE.ENDPOINTS.FORM_UPLOAD_DOCUMENT),Z=await fetch(q,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:M});if(!Z.ok){const de=await Z.json();throw new Error(de.message||"Upload failed")}const G=await Z.json();c(G.data),_(null),k(null)}catch(M){console.error("Upload error:",M);const q=M instanceof Error?M.message:"Upload failed";q.includes("security")||q.includes("virus")?u(" Security Alert: "+q):u(q)}},$=L=>{const M=L.target.files?.[0];M&&R(M)},B=()=>{_(null),k(null),E.current&&(E.current.value="")},H=()=>v?e.jsx(Nt,{className:"h-4 w-4 text-blue-500 animate-spin"}):S?.isValid?e.jsx(Le,{className:"h-4 w-4 text-green-500"}):S&&!S.isValid?e.jsx(bt,{className:"h-4 w-4 text-red-500"}):e.jsx(Ir,{className:"h-4 w-4 text-gray-400"}),I=()=>v?"border-blue-300 bg-blue-50":S?.isValid?"border-green-300 bg-green-50":S&&!S.isValid?"border-red-300 bg-red-50":"border-gray-300 bg-white";return i?e.jsx("div",{className:`p-3 rounded-lg border ${I()} ${b}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[H(),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i.file_name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[AS(i.file_size||0)," ",new Date(i.created_at).toLocaleDateString()]}),i.verification_notes&&e.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:["Note: ",i.verification_notes]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-semibold ${i.status==="verified"?"bg-green-100 text-green-800":i.status==="rejected"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:i.status==="verified"?" Verified":i.status==="rejected"?" Rejected":" Pending"}),h&&m&&e.jsx("button",{onClick:m,disabled:n,className:"p-1 text-red-500 hover:text-red-700 disabled:opacity-50",title:"Remove document",children:e.jsx(qs,{className:"h-3 w-3"})})]})]})}):e.jsxs("div",{className:`space-y-2 ${b}`,children:[e.jsx("div",{className:`border-2 border-dashed rounded-lg p-4 transition-colors ${y?"border-orange-400 bg-orange-50":"border-gray-300 hover:border-orange-400 hover:bg-orange-50"} ${n?"opacity-50 pointer-events-none":""}`,onDragEnter:T,onDragLeave:T,onDragOver:T,onDrop:F,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:H()}),e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:v?"Validating file...":S?.isValid?"File validated ":S&&!S.isValid?"Validation failed":`Upload ${r}`}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Drag and drop or click to browse"}),N&&e.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx("span",{className:"text-lg",children:z8(N)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:N.name}),e.jsx("p",{className:"text-xs text-gray-500",children:AS(N.size)})]})]}),e.jsx("button",{onClick:B,className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx(wt,{className:"h-4 w-4"})})]})}),e.jsx("input",{ref:E,type:"file",accept:g.map(L=>`.${L.split("/")[1]}`).join(","),onChange:$,className:"hidden",disabled:n}),e.jsxs("button",{onClick:()=>E.current?.click(),disabled:n||v,className:`inline-flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${n||v?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600"}`,children:[e.jsx(Ia,{className:"h-4 w-4 mr-2"}),n?"Uploading...":"Choose File"]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Max ",x,"MB  ",g.join(", ")]})]})}),S?.warnings&&S.warnings.length>0&&e.jsx("div",{className:"p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800",children:S.warnings.map((L,M)=>e.jsxs("p",{children:[" ",L]},M))}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsx(Ir,{className:"h-3 w-3"}),e.jsx("span",{children:"Files are automatically scanned for security threats"})]})]})},q8=({applicationId:t})=>{const[r,s]=f.useState(null),[a,n]=f.useState(!1),[i,l]=f.useState(null),c=f.useCallback(async()=>{try{n(!0);const k=(await ot.getInterviewSchedules()).find(v=>v.application_id===t);s(k||null)}catch(S){console.error("Error fetching interview schedule:",S),l("Failed to load interview schedule")}finally{n(!1)}},[t]);f.useEffect(()=>{c()},[t,c]);const u=S=>{switch(S){case"completed":return e.jsx(Le,{className:"h-5 w-5 text-green-500"});case"cancelled":return e.jsx(jt,{className:"h-5 w-5 text-red-500"});case"no_show":return e.jsx(bt,{className:"h-5 w-5 text-orange-500"});case"rescheduled":return e.jsx(Ot,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(Nt,{className:"h-5 w-5 text-blue-500"})}},h=S=>{switch(S){case"completed":return"text-green-600 bg-green-100";case"cancelled":return"text-red-600 bg-red-100";case"no_show":return"text-orange-600 bg-orange-100";case"rescheduled":return"text-blue-600 bg-blue-100";default:return"text-blue-600 bg-blue-100"}},m=S=>{switch(S){case"completed":return"Completed";case"cancelled":return"Cancelled";case"no_show":return"No Show";case"rescheduled":return"Rescheduled";default:return"Scheduled"}},x=S=>{switch(S){case"online":return e.jsx(ka,{className:"h-5 w-5 text-blue-500"});case"phone":return e.jsx(Ws,{className:"h-5 w-5 text-green-500"});default:return e.jsx(ks,{className:"h-5 w-5 text-purple-500"})}},g=S=>{switch(S){case"online":return"Online Interview";case"phone":return"Phone Interview";default:return"In-Person Interview"}},b=(S,k)=>{if(!S||!k||S==="Invalid Date"||k==="Invalid Date")return{date:"Date not set",time:"Time not set"};let v;return S.includes("T")?v=new Date(S):k.includes(":")?v=new Date(`${S}T${k}`):v=new Date(`${S} ${k}`),isNaN(v.getTime())?{date:"Invalid date format",time:"Invalid time format"}:{date:v.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:v.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}},y=()=>{if(!r||!r.interview_date||!r.interview_time)return;let S;if(r.interview_date.includes("T")?S=new Date(r.interview_date):r.interview_time.includes(":")?S=new Date(`${r.interview_date}T${r.interview_time}`):S=new Date(`${r.interview_date} ${r.interview_time}`),isNaN(S.getTime())){alert("Invalid interview date/time. Cannot add to calendar.");return}const k=new Date(S.getTime()+3600*1e3),v=$=>$.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",A={title:"Scholarship Interview",description:`Interview for scholarship application. ${r.interview_notes||""}`,location:r.interview_type==="online"?r.meeting_link:r.interview_location,start:v(S),end:v(k)},E=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(A.title)}&dates=${A.start}/${A.end}&details=${encodeURIComponent(A.description)}&location=${encodeURIComponent(A.location)}`,T=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Scholarship System//Interview Schedule//EN
BEGIN:VEVENT
UID:${r.id}@scholarship-system.com
DTSTAMP:${v(new Date)}
DTSTART:${A.start}
DTEND:${A.end}
SUMMARY:${A.title}
DESCRIPTION:${A.description}
LOCATION:${A.location}
END:VEVENT
END:VCALENDAR`,F=new Blob([T],{type:"text/calendar"}),R=URL.createObjectURL(F),D=document.createElement("a");D.href=R,D.download=`interview-${r.id}.ics`,D.click(),window.open(E,"_blank")},w=()=>{r?.meeting_link&&window.open(r.meeting_link,"_blank")};if(a)return e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(Ot,{className:"h-5 w-5 animate-spin text-blue-500"}),e.jsx("span",{className:"text-gray-600",children:"Loading interview schedule..."})]})});if(i)return e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(bt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Schedule"}),e.jsx("p",{className:"text-gray-600 mb-4",children:i}),e.jsxs("button",{onClick:c,className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 flex items-center space-x-2 mx-auto",children:[e.jsx(Ot,{className:"h-4 w-4"}),e.jsx("span",{children:"Try Again"})]})]})});if(!r)return e.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(zt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Interview Scheduled"}),e.jsx("p",{className:"text-gray-600",children:"Your interview has not been scheduled yet. You will be notified once a date and time are assigned."})]})});const{date:N,time:_}=b(r.interview_date,r.interview_time);return e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx(zt,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{children:"Interview Schedule"})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${h(r.status)}`,children:e.jsxs("div",{className:"flex items-center space-x-1",children:[u(r.status),e.jsx("span",{children:m(r.status)})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(zt,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Date"}),e.jsx("p",{className:"text-gray-900",children:N})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Nt,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Time"}),e.jsx("p",{className:"text-gray-900",children:_})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[x(r.interview_type),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Type"}),e.jsx("p",{className:"text-gray-900",children:g(r.interview_type)})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[r.interview_type==="online"?e.jsx(ka,{className:"h-5 w-5 text-gray-500"}):e.jsx(ks,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:r.interview_type==="online"?"Meeting Link":"Location"}),e.jsx("p",{className:"text-gray-900",children:r.interview_type==="online"?r.meeting_link||"Link not provided":r.interview_location})]})]})]})}),r.interviewer_name&&e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Jt,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Interviewer"}),e.jsx("p",{className:"text-blue-900",children:r.interviewer_name})]})]})}),r.interview_notes&&e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Interview Notes"}),e.jsx("p",{className:"text-yellow-700",children:r.interview_notes})]}),r.interview_result&&e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"Interview Result"}),e.jsx("p",{className:"text-green-700 capitalize",children:r.interview_result.replace("_"," ")})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[e.jsxs("button",{onClick:y,className:"flex items-center space-x-2 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700",children:[e.jsx(zt,{className:"h-4 w-4"}),e.jsx("span",{children:"Add to Calendar"})]}),r.interview_type==="online"&&r.meeting_link&&e.jsxs("button",{onClick:w,className:"flex items-center space-x-2 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700",children:[e.jsx(ka,{className:"h-4 w-4"}),e.jsx("span",{children:"Join Meeting"}),e.jsx(Nc,{className:"h-3 w-3"})]}),e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700",children:[e.jsx(Ot,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:[e.jsxs("p",{children:["Scheduled ",r.scheduling_type==="automatic"?"automatically":"manually"," on"," ",new Date(r.created_at||"").toLocaleDateString()]}),r.completed_at&&e.jsxs("p",{children:["Completed on ",new Date(r.completed_at).toLocaleDateString()]})]})]})]})},H8=()=>{const t=$a(),r=Lt(se=>se.currentUser),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,c]=f.useState(null),[u,h]=f.useState([]),[m,x]=f.useState([]),[g,b]=f.useState(!1),[y,w]=f.useState(null),[N,_]=f.useState(!1),[S,k]=f.useState(null),[v,A]=f.useState(null),[E,T]=f.useState(!1),[F,R]=f.useState(null),[D,$]=f.useState(!1),[B,H]=f.useState([]),[I,L]=f.useState(!1),[M,q]=f.useState([]),[Z,G]=f.useState(!1),[de,X]=f.useState(0),[z,Ie]=f.useState({personal:!0,family:!0,academic:!0,financial:!0,application:!0,documents:!0}),ie=se=>{Ie(He=>({...He,[se]:!He[se]}))},Pe=f.useCallback(se=>{const He=[],qe=JSON.parse(localStorage.getItem("read_notifications")||"[]");if(se){if(se.submitted_at&&He.push({id:1,type:"info",title:"Application Submitted",message:"Your scholarship application has been successfully submitted and is now under review.",timestamp:new Date(se.submitted_at),isRead:qe.includes(1),priority:"high"}),se.reviewed_at&&He.push({id:2,type:"success",title:"Application Reviewed",message:"Your application has been reviewed by the Student Services Committee.",timestamp:new Date(se.reviewed_at),isRead:qe.includes(2),priority:"high"}),se.interview_completed_at&&He.push({id:6,type:"success",title:"Interview Completed",message:"Your interview has been completed. The results are being reviewed by the committee.",timestamp:new Date(se.interview_completed_at),isRead:qe.includes(6),priority:"high"}),se.approved_at&&He.push({id:3,type:"success",title:"Application Approved!",message:`Congratulations! Your scholarship application has been approved for ${se.approved_amount?.toLocaleString()||"0"}.`,timestamp:new Date(se.approved_at),isRead:qe.includes(3),priority:"urgent"}),se.rejected_at&&He.push({id:7,type:"error",title:"Application Not Approved",message:`Unfortunately, your application was not approved. Reason: ${se.rejection_reason||"Please contact support for details."}`,timestamp:new Date(se.rejected_at),isRead:qe.includes(7),priority:"high"}),se.disbursed_at&&He.push({id:4,type:"success",title:"Grant Disbursed",message:"Your scholarship grant has been disbursed.",timestamp:new Date(se.disbursed_at),isRead:qe.includes(4),priority:"urgent"}),u.length>0){const ce=u.filter(nt=>nt.status==="rejected");ce.length>0&&He.push({id:8,type:"warning",title:"Document Issues",message:`${ce.length} document(s) were rejected and need to be resubmitted.`,timestamp:new Date,isRead:qe.includes(8),priority:"high"});const $e=u.filter(nt=>nt.status==="verified");$e.length>0&&He.push({id:9,type:"success",title:"Documents Verified",message:`${$e.length} document(s) have been successfully verified.`,timestamp:new Date,isRead:qe.includes(9),priority:"medium"})}if(se.compliance_issues&&se.compliance_issues.length>0&&He.push({id:10,type:"warning",title:"Compliance Review Required",message:"Your application has been flagged for compliance review. Please check the details and make necessary corrections.",timestamp:new Date,isRead:qe.includes(10),priority:"urgent"}),se.status==="draft"){const ce=Qe-ht;ce>0&&He.push({id:11,type:"info",title:"Complete Your Application",message:`You have ${ce} required document(s) remaining to complete your application.`,timestamp:new Date,isRead:qe.includes(11),priority:"medium"})}}const J=12;return He.push({id:J,type:"info",title:"System Maintenance",message:"Scheduled maintenance will occur on Sunday, 2:00 AM - 4:00 AM. Some features may be temporarily unavailable.",timestamp:new Date(Date.now()-2880*60*1e3),isRead:qe.includes(J),priority:"low"}),He.sort((ce,$e)=>new Date($e.timestamp).getTime()-new Date(ce.timestamp).getTime())},[u]);f.useEffect(()=>{X(M.filter(se=>!se.isRead).length)},[M]);const re=se=>{q(qe=>qe.map(J=>J.id===se?{...J,isRead:!0}:J));const He=JSON.parse(localStorage.getItem("read_notifications")||"[]");He.includes(se)||localStorage.setItem("read_notifications",JSON.stringify([...He,se]))},Ee=()=>{q(J=>J.map(ce=>({...ce,isRead:!0})));const se=M.map(J=>J.id),He=JSON.parse(localStorage.getItem("read_notifications")||"[]"),qe=[...new Set([...He,...se])];localStorage.setItem("read_notifications",JSON.stringify(qe))},ke=se=>{q(He=>He.filter(qe=>qe.id!==se))};f.useEffect(()=>{const se=He=>{const qe=He.target;Z&&!qe.closest("[data-notification-dropdown]")&&G(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[Z]),f.useEffect(()=>{(async()=>{try{i(!0),c(null);const[He,qe]=await Promise.all([ot.getUserApplications(),ot.getRequiredDocuments()]);if(a(He),x(qe),He.length>0){const $e=He[0];try{const nt=await ot.getDocuments({application_id:$e.id});h(nt.data||[])}catch(nt){console.error("Error fetching documents:",nt)}}const J=He.length>0?He[0]:null,ce=Pe(J);q(ce),X(ce.filter($e=>!$e.isRead).length)}catch(He){console.error("Error fetching data:",He),c("Failed to load application data")}finally{i(!1)}})()},[Pe]);const xe=async()=>{try{i(!0),c(null);const[se,He]=await Promise.all([ot.getUserApplications(),ot.getRequiredDocuments()]);if(a(se),x(He),se.length>0){const qe=se[0];try{const J=await ot.getDocuments({application_id:qe.id});h(J.data||[])}catch(J){console.error("Error refreshing documents:",J)}}}catch(se){console.error("Error refreshing data:",se),c("Failed to refresh application data")}finally{i(!1)}},Q=s.length>0?s[0]:null;f.useEffect(()=>{(async()=>{if(!Q||!Q.id){H([]);return}try{L(!0);const He=await fetch(`${it.AID_SERVICE.BASE_URL}/api/school-aid/disbursements?application_id=${Q.id}`);if(!He.ok)throw new Error("Failed to fetch disbursements");const qe=await He.json();H(Array.isArray(qe)?qe:[])}catch(He){console.error("Error fetching disbursements:",He),H([])}finally{L(!1)}})()},[Q]);const et=[{id:8,name:"Transcript of Records (Latest)",description:"Official transcript showing your latest academic performance and grades",category:"academic",is_required:!0,priority:1},{id:11,name:"Certificate of Good Moral",description:"Certificate from your school confirming your good moral character",category:"academic",is_required:!0,priority:2},{id:12,name:"Income Certificate",description:"Official document showing your family's income status from BIR or barangay",category:"financial",is_required:!0,priority:3},{id:4,name:"Barangay Certificate",description:"Certificate from your barangay confirming your residency",category:"personal",is_required:!0,priority:4},{id:2,name:"Valid ID (Government-issued)",description:"Government-issued identification document (Driver's License, Passport, etc.)",category:"personal",is_required:!0,priority:5},{id:1,name:"Birth Certificate",description:"Official birth certificate from PSA (Philippine Statistics Authority)",category:"personal",is_required:!0,priority:6},{id:10,name:"Certificate of Enrollment",description:"Document proving your current enrollment status",category:"academic",is_required:!0,priority:7}],Ze=(()=>{const se=m.length>0?m:et,He=se.map(qe=>{const J=u.find(ce=>typeof qe.id=="number"?ce.document_type_id===qe.id:typeof qe.id=="string"?ce.document_type?.name?.toLowerCase().includes(qe.name.toLowerCase().split(" ")[0]):!1);return{id:qe.id,name:qe.name,description:qe.description,category:qe.category,isRequired:qe.is_required!==!1,isSubmitted:!!J,status:J?J.status:"missing",submittedAt:J?new Date(J.created_at).toLocaleDateString():null,verifiedAt:J?.verified_at?new Date(J.verified_at).toLocaleDateString():null,verificationNotes:J?.verification_notes||null,fileName:J?.file_name||null,document:J,priority:qe.priority||999}});return u.forEach(qe=>{se.some(ce=>typeof ce.id=="number"?ce.id===qe.document_type_id:typeof ce.id=="string"?qe.document_type?.name?.toLowerCase().includes(ce.name.toLowerCase().split(" ")[0]):!1)||He.push({id:qe.document_type_id,name:qe.document_type?.name||"Unknown Document",description:qe.document_type?.description||"",category:qe.document_type?.category||"other",isRequired:!1,isSubmitted:!0,status:qe.status,submittedAt:new Date(qe.created_at).toLocaleDateString(),verifiedAt:qe.verified_at?new Date(qe.verified_at).toLocaleDateString():null,verificationNotes:qe.verification_notes||null,fileName:qe.file_name||null,document:qe,priority:999})}),He.sort((qe,J)=>qe.isRequired&&!J.isRequired?-1:!qe.isRequired&&J.isRequired?1:(qe.priority||999)-(J.priority||999))})(),Qe=Ze.filter(se=>se.isRequired).length,ht=Ze.filter(se=>se.isRequired&&se.isSubmitted).length,K=Ze.filter(se=>se.isRequired&&se.status==="verified").length,ne=Qe>0?Math.round(ht/Qe*100):0,pe=!!Q&&["draft","for_compliance"].includes(Q.status)&&Qe>0&&ht===Qe,Xe=async()=>{if(Q){if(!(Qe>0&&ht===Qe)){k("Please upload all required documents before submitting your application."),setTimeout(()=>k(null),3e3);return}_(!0),k(null),A(null);try{await ot.submitApplication(Q.id),A("Application submitted successfully."),await xe()}catch(se){console.error("Failed to submit application:",se),k(se instanceof Error?se.message:"Failed to submit application.")}finally{_(!1),setTimeout(()=>A(null),3e3)}}},ee=se=>{R(se),T(!0)},he=async()=>{if(!(!F||!Q)){$(!0);try{await ot.deleteDocument(F.id);const se=await ot.getDocuments({application_id:Q.id});h(se.data||[]),T(!1),R(null)}catch(se){console.error("Error removing document:",se),w(se instanceof Error?se.message:"Failed to remove document")}finally{$(!1)}}},W=se=>{switch(se?.toLowerCase()){case"draft":return"Draft";case"submitted":return"Submitted";case"documents_reviewed":return"Documents Reviewed";case"interview_scheduled":return"Interview Scheduled";case"endorsed_to_ssc":return"Endorsed to SSC";case"approved":return"Approved";case"grants_processing":return"Grants Processing";case"grants_disbursed":return"Grants Disbursed";case"rejected":return"Rejected";case"on_hold":return"On Hold";case"cancelled":return"Cancelled";case"for_compliance":return"For Compliance";case"compliance_documents_submitted":return"Compliance Documents Submitted";default:return se||"Unknown"}},ye=se=>{switch(se?.toLowerCase()){case"draft":return 0;case"submitted":return 0;case"documents_reviewed":return 0;case"interview_scheduled":return 0;case"endorsed_to_ssc":return 1;case"approved":return 2;case"grants_processing":return 3;case"grants_disbursed":return 4;case"rejected":return-1;case"on_hold":return 1;case"cancelled":return-1;case"for_compliance":return 0;case"compliance_documents_submitted":return 0;default:return 0}},P=Q?{referenceNumber:Q.application_number||`APP-${Q.id}`,studentName:`${Q.student?.first_name||""} ${Q.student?.middle_name||""} ${Q.student?.last_name||""}`.trim()||"Not specified",firstName:Q.student?.first_name||"Not specified",middleName:Q.student?.middle_name||"N/A",lastName:Q.student?.last_name||"Not specified",extensionName:Q.student?.extension_name||"N/A",sex:Q.student?.sex||"Not specified",civilStatus:Q.student?.civil_status||"Not specified",dateOfBirth:Q.student?.birth_date?new Date(Q.student.birth_date).toLocaleDateString():"Not specified",nationality:Q.student?.nationality||"Not specified",birthPlace:Q.student?.birth_place||"Not specified",religion:Q.student?.religion||"Not specified",heightCm:Q.student?.height_cm?`${Q.student.height_cm} cm`:"Not specified",weightKg:Q.student?.weight_kg?`${Q.student.weight_kg} kg`:"Not specified",isPwd:Q.student?.is_pwd?"Yes":"No",pwdSpecification:Q.student?.pwd_specification||"N/A",contactNumber:Q.student?.contact_number||"Not specified",emailAddress:Q.student?.email_address||"Not specified",presentAddress:Q.student?.addresses?.[0]&&[Q.student.addresses[0].address_line_1,Q.student.addresses[0].address_line_2].filter(Boolean).join(", ")||"Not specified",addressLine1:Q.student?.addresses?.[0]?.address_line_1||"Not specified",addressLine2:Q.student?.addresses?.[0]?.address_line_2||"Not specified",barangay:Q.student?.addresses?.[0]?.barangay||"Not specified",district:Q.student?.addresses?.[0]?.district||"Not specified",city:Q.student?.addresses?.[0]?.city||"Not specified",province:Q.student?.addresses?.[0]?.province||"Not specified",region:Q.student?.addresses?.[0]?.region||"Not specified",zipCode:Q.student?.addresses?.[0]?.zip_code||"Not specified",familyMembers:Q.student?.family_members||[],numberOfSiblings:Q.student?.financial_information?.number_of_siblings?.toString()||"Not specified",numberOfSiblingsInSchool:Q.student?.financial_information?.siblings_currently_enrolled?.toString()||"Not specified",homeOwnershipStatus:Q.student?.financial_information?.home_ownership_status||"Not specified",isEmployed:Q.student?.is_employed?"Yes":"No",studentOccupation:Q.student?.occupation||"Not specified",studentMonthlyIncome:Q.student?.financial_information?.monthly_income?`${parseFloat(Q.student.financial_information.monthly_income).toLocaleString()}`:"Not specified",totalFamilyMonthlyIncome:Q.student?.financial_information?.family_monthly_income_range?`${Q.student.financial_information.family_monthly_income_range}`:"Not specified",totalAnnualIncome:"Not specified",isSoloParent:Q.student?.is_solo_parent?"Yes":"No",isIndigenousGroup:Q.student?.is_indigenous_group?"Yes":"No",is4PsBeneficiary:Q.student?.financial_information?.is_4ps_beneficiary?"Yes":"No",isPwdBeneficiary:Q.student?.family_information?.is_pwd_beneficiary?"Yes":"No",isRegisteredVoter:Q.student?.is_registered_voter?"Yes":"No",voterNationality:Q.student?.voter_nationality||"N/A",hasPayMayaAccount:Q.student?.has_paymaya_account?"Yes":"No",course:Q.student?.current_academic_record?.track_specialization||Q.student?.current_academic_record?.area_of_specialization||Q.student?.current_academic_record?.program||"Not specified",school:Q.school?.name||"Not specified",schoolAddress:Q.school?.address||"Not specified",schoolType:Q.school?.classification||"Not specified",educationalLevel:Q.student?.current_academic_record?.educational_level||"Not specified",gradeYearLevel:Q.student?.current_academic_record?.year_level||"Not specified",academicYear:Q.student?.current_academic_record?.school_year||"Not specified",semester:Q.student?.current_academic_record?.school_term||"Not specified",unitsEnrolled:Q.student?.current_academic_record?.units_enrolled?.toString()||"Not specified",gwa:Q.student?.current_academic_record?.general_weighted_average?.toString()||"Not specified",isCurrentlyEnrolled:Q.student?.is_currently_enrolled?"Yes":"No",isGraduating:Q.student?.is_graduating?"Yes":"No",scholarshipType:Q.category?.name||"Not specified",scholarshipSubtype:Q.subcategory?.name||"Not specified",amount:Q.approved_amount?`${Q.approved_amount.toLocaleString()}`:Q.requested_amount?`${Q.requested_amount.toLocaleString()}`:"Not specified",requestedAmount:Q.requested_amount?`${Q.requested_amount.toLocaleString()}`:"Not specified",approvedAmount:Q.approved_amount?`${Q.approved_amount.toLocaleString()}`:"Not approved",status:W(Q.status),rawStatus:Q.status,applicationDate:Q.submitted_at?new Date(Q.submitted_at).toLocaleDateString():"Not submitted",approvalDate:Q.approved_at?new Date(Q.approved_at).toLocaleDateString():"Not approved",reviewedDate:Q.reviewed_at?new Date(Q.reviewed_at).toLocaleDateString():"Not reviewed",currentStage:ye(Q.status),type:Q.type==="new"?"New Application":"Renewal Application",reasonForRenewal:Q.reason_for_renewal||"N/A",financialNeedDescription:Q.financial_need_description||"Not provided",rejectionReason:Q.rejection_reason||null,notes:Q.notes||null,complianceIssues:Q.compliance_issues||[],marginalizedGroups:Q.marginalized_groups||[],digitalWallets:Q.digital_wallets||[],walletAccountNumber:Q.wallet_account_number||"Not provided",howDidYouKnow:Q.how_did_you_know||[],isSchoolAtQC:Q.is_school_at_qc||!1,requirements:u.map(se=>({name:se.document_type?.name||"Unknown Document",status:se.status==="verified"?"Verified":se.status==="rejected"?"Rejected":"Pending",date:new Date(se.created_at).toLocaleDateString(),fileName:se.file_name,verificationNotes:se.verification_notes,verifiedAt:se.verified_at?new Date(se.verified_at).toLocaleDateString():null})),disbursements:B.map(se=>({id:se.id,date:se.disbursedAt?new Date(se.disbursedAt).toLocaleDateString():"N/A",amount:`${parseFloat(se.amount||0).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,status:se.disbursement_status||"completed",receiptPath:se.receiptPath,referenceNumber:se.referenceNumber||se.reference_number,providerName:se.providerName||se.provider_name,method:se.method||se.disbursement_method}))}:{referenceNumber:"No Application",studentName:`${r?.first_name||""} ${r?.middle_name||""} ${r?.last_name||""}`.trim()||"Not specified",firstName:r?.first_name||"Not specified",middleName:r?.middle_name||"N/A",lastName:r?.last_name||"Not specified",extensionName:"N/A",sex:"Not specified",civilStatus:"Not specified",dateOfBirth:"Not specified",nationality:"Not specified",birthPlace:"Not specified",religion:"Not specified",heightCm:"Not specified",weightKg:"Not specified",isPwd:"No",pwdSpecification:"N/A",contactNumber:"Not specified",emailAddress:"Not specified",presentAddress:"Not specified",addressLine1:"Not specified",addressLine2:"Not specified",barangay:"Not specified",district:"Not specified",city:"Not specified",province:"Not specified",region:"Not specified",zipCode:"Not specified",familyMembers:[],numberOfSiblings:"Not specified",numberOfSiblingsInSchool:"Not specified",homeOwnershipStatus:"Not specified",isEmployed:"No",studentMonthlyIncome:"Not specified",totalFamilyMonthlyIncome:"Not specified",totalAnnualIncome:"Not specified",isSoloParent:"No",isIndigenousGroup:"No",is4PsBeneficiary:"No",isPwdBeneficiary:"No",isRegisteredVoter:"No",course:"Not specified",school:"Not specified",schoolAddress:"Not specified",schoolType:"Not specified",educationalLevel:"Not specified",gradeYearLevel:"Not specified",academicYear:"Not specified",semester:"Not specified",unitsEnrolled:"Not specified",gwa:"Not specified",isCurrentlyEnrolled:"No",isGraduating:"No",scholarshipType:"Not specified",scholarshipSubtype:"Not specified",amount:"Not specified",requestedAmount:"Not specified",approvedAmount:"Not specified",status:"No Application",rawStatus:"draft",applicationDate:"Not submitted",approvalDate:"Not approved",reviewedDate:"Not reviewed",currentStage:-1,type:"N/A",reasonForRenewal:"N/A",financialNeedDescription:"Not provided",rejectionReason:null,notes:null,walletAccountNumber:"Not provided",complianceIssues:[],disbursements:B.map(se=>({id:se.id,date:se.disbursedAt?new Date(se.disbursedAt).toLocaleDateString():"N/A",amount:`${parseFloat(se.amount||0).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,status:se.disbursement_status||"completed",receiptPath:se.receiptPath,referenceNumber:se.referenceNumber||se.reference_number,providerName:se.providerName||se.provider_name,method:se.method||se.disbursement_method}))},V=({title:se,icon:He,sectionKey:qe,children:J})=>{const ce=z[qe];return e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-4",children:[e.jsxs("button",{onClick:()=>ie(qe),className:"w-full px-6 py-4 flex items-center justify-between bg-gradient-to-r from-orange-50 to-white hover:from-orange-100 hover:to-orange-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:e.jsx(He,{className:"h-5 w-5 text-white"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:se})]}),ce?e.jsx(pi,{className:"h-5 w-5 text-gray-500"}):e.jsx(Ra,{className:"h-5 w-5 text-gray-500"})]}),ce&&e.jsx("div",{className:"px-6 py-4",children:J})]})},te=({label:se,value:He,highlight:qe})=>e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:se}),e.jsx("p",{className:`text-sm ${qe?"font-semibold text-orange-600":"text-gray-900"}`,children:He})]}),Ne=({notification:se})=>{const He=J=>{switch(J){case"success":return e.jsx(yh,{className:"w-5 h-5 text-green-500"});case"error":return e.jsx(Wt,{className:"w-5 h-5 text-red-500"});case"warning":return e.jsx(bt,{className:"w-5 h-5 text-yellow-500"});case"info":default:return e.jsx(Gn,{className:"w-5 h-5 text-blue-500"})}},qe=J=>{switch(J){case"urgent":return"border-l-red-500 bg-red-50";case"high":return"border-l-orange-500 bg-orange-50";case"medium":return"border-l-blue-500 bg-blue-50";case"low":default:return"border-l-gray-500 bg-gray-50"}};return e.jsx("div",{className:`p-4 border-l-4 ${qe(se.priority)} ${se.isRead?"bg-opacity-50":"bg-opacity-100"} hover:bg-opacity-75 transition-all duration-200 cursor-pointer`,onClick:()=>re(se.id),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:He(se.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:`text-sm font-semibold ${se.isRead?"text-gray-600":"text-gray-900"}`,children:se.title}),!se.isRead&&e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})]}),e.jsx("p",{className:`text-sm mt-1 ${se.isRead?"text-gray-500":"text-gray-700"}`,children:se.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(se.timestamp).toLocaleString()})]})]}),e.jsx("button",{onClick:J=>{J.stopPropagation(),ke(se.id)},className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(wt,{className:"w-4 h-4"})})]})})},Se=[{id:0,title:"GENERAL REQUIREMENTS AND INTERVIEW",icon:Q2,description:"Submit requirements and attend interview"},{id:1,title:"ENDORSED TO SSC APPROVAL",icon:yi,description:"Application reviewed by Student Services Committee"},{id:2,title:"APPROVED APPLICATION",icon:pl,description:"Application approved by committee"},{id:3,title:"GRANTS PROCESSING",icon:d9,description:"Processing grant disbursement"},{id:4,title:"GRANTS DISBURSED",icon:bu,description:"Funds released to student"}],at=se=>{switch(se.toLowerCase()){case"approved":case"grants_processing":case"grants_disbursed":return e.jsx(Le,{className:"h-5 w-5 text-green-500"});case"submitted":case"documents_reviewed":case"interview_scheduled":case"endorsed_to_ssc":return e.jsx(Nt,{className:"h-5 w-5 text-blue-500"});case"interview_completed":return e.jsx(Ht,{className:"h-5 w-5 text-indigo-500"});case"draft":return e.jsx(Nt,{className:"h-5 w-5 text-yellow-500"});case"rejected":return e.jsx(bt,{className:"h-5 w-5 text-red-500"});case"on_hold":return e.jsx(bt,{className:"h-5 w-5 text-orange-500"});case"for_compliance":return e.jsx(bt,{className:"h-5 w-5 text-red-500"});case"compliance_documents_submitted":return e.jsx(Nt,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(Nt,{className:"h-5 w-5 text-gray-500"})}},pt=se=>{switch(se.toLowerCase()){case"approved":case"grants_disbursed":return"text-green-600 bg-green-100";case"grants_processing":return"text-purple-600 bg-purple-100";case"submitted":case"documents_reviewed":case"interview_scheduled":case"endorsed_to_ssc":return"text-blue-600 bg-blue-100";case"interview_completed":return"text-indigo-600 bg-indigo-100";case"pending":return"text-yellow-600 bg-yellow-100";case"rejected":return"text-red-600 bg-red-100";case"for_compliance":return"text-red-600 bg-red-100";case"compliance_documents_submitted":return"text-blue-600 bg-blue-100";case"cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}};return n&&s.length===0&&!l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-orange-50 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(AF,{})})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-orange-50 py-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-lg",children:e.jsx(gs,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Scholarship Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Track your application and manage documents"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>G(!Z),className:"relative flex items-center space-x-2 bg-white border border-gray-200 rounded-lg px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all shadow-sm",children:[e.jsx(ki,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Notifications"}),de>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold",children:de>9?"9+":de})]}),Z&&e.jsxs("div",{"data-notification-dropdown":!0,className:"absolute right-0 mt-2 w-72 sm:w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-hidden max-w-[calc(100vw-2rem)]",children:[e.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-200 bg-gradient-to-r from-orange-50 to-orange-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(ki,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-orange-500"}),"Notifications"]}),de>0&&e.jsxs("button",{onClick:Ee,className:"text-xs sm:text-sm text-orange-600 hover:text-orange-700 font-medium",children:[e.jsx("span",{className:"hidden sm:inline",children:"Mark all as read"}),e.jsx("span",{className:"sm:hidden",children:"Clear all"})]})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:M.length>0?M.map(se=>e.jsx(Ne,{notification:se},se.id)):e.jsxs("div",{className:"p-6 sm:p-8 text-center text-gray-500",children:[e.jsx(mw,{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No notifications yet"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"We'll notify you about important updates"})]})})]})]}),Q&&["draft","for_compliance"].includes(P.rawStatus)&&e.jsxs("button",{onClick:()=>t("/new-application"),className:"flex items-center space-x-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg px-4 py-2 text-sm font-medium hover:from-orange-600 hover:to-orange-700 transition-all shadow-md hover:shadow-lg",children:[e.jsx(on,{className:"h-4 w-4"}),e.jsx("span",{children:"Edit Application"})]}),e.jsxs("button",{onClick:xe,disabled:n,className:"flex items-center space-x-2 bg-white border border-gray-200 rounded-lg px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm",children:[e.jsx(Ot,{className:`h-4 w-4 ${n?"animate-spin":""}`}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),l&&e.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bt,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-700",children:l})]})}),!n&&!l&&s.length===0&&e.jsx("div",{className:"mt-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bt,{className:"h-5 w-5 text-yellow-500"}),e.jsx("span",{className:"text-sm text-yellow-700",children:"No applications found. Submit a new application to get started."})]}),e.jsx("button",{onClick:()=>t("/new-application"),className:"bg-orange-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-orange-600 transition-colors",children:"Apply Now"})]})})]}),(P.rawStatus==="for_compliance"||P.complianceIssues&&P.complianceIssues.length>0)&&e.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg animate-in fade-in slide-in-from-top-2",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Wt,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-yellow-800 mb-1",children:"Action Required: Compliance Review"}),e.jsx("p",{className:"text-sm text-yellow-700 mb-2",children:"Your application has been flagged for compliance issues. Please address the following items:"}),P.complianceIssues&&P.complianceIssues.length>0?e.jsx("ul",{className:"list-disc list-inside text-sm text-yellow-700 space-y-1 ml-1",children:P.complianceIssues.map((se,He)=>e.jsxs("li",{children:[e.jsxs("span",{className:"font-medium",children:[se.title||"Issue",":"]})," ",se.description||se.message||JSON.stringify(se)]},He))}):e.jsx("p",{className:"text-sm text-yellow-700 italic",children:"Please review your application details and documents."})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl shadow-lg p-6 mb-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-orange-100 text-sm font-medium mb-1",children:"Reference Number"}),e.jsx("p",{className:"text-3xl font-bold mb-3",children:P.referenceNumber}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-xs mb-1",children:"Scholarship Type"}),e.jsx("p",{className:"text-sm font-medium",children:P.scholarshipType})]}),e.jsx("div",{className:"h-8 w-px bg-orange-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-xs mb-1",children:"Amount"}),e.jsx("p",{className:"text-sm font-medium",children:P.amount})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx("div",{className:`px-4 py-2 rounded-full ${pt(P.status)} shadow-md`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[at(P.status),e.jsx("span",{className:"font-semibold text-sm",children:P.status})]})}),P.rawStatus==="draft"&&e.jsxs("p",{className:"text-xs text-orange-100",children:[ht," of ",Qe," documents uploaded"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(Q2,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{children:"Application Process"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ease-in-out ${P.currentStage===-1?"bg-red-500":"bg-gradient-to-r from-orange-500 to-orange-600"}`,style:{width:P.currentStage===-1?"100%":`${Math.max(0,(P.currentStage+1)/Se.length*100)}%`}})})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Se.map((se,He)=>{const qe=se.icon,J=P.currentStage===-1?!1:He<=P.currentStage,ce=He===P.currentStage,$e=P.currentStage===-1;return e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsx("div",{className:`w-12 h-12 mx-auto rounded-full flex items-center justify-center border-2 transition-all duration-300 ${$e?"bg-red-500 border-red-500 text-white shadow-lg":J?"bg-gradient-to-br from-orange-500 to-orange-600 border-orange-500 text-white shadow-lg":"bg-gray-100 border-gray-300 text-gray-400"}`,children:e.jsx(qe,{className:"w-6 h-6"})}),ce&&!$e&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-orange-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})}),$e&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(bt,{className:"w-3 h-3 text-white"})})]}),e.jsx("h3",{className:`text-[10px] font-bold uppercase mb-1 ${$e?"text-red-600":J?"text-orange-600":"text-gray-400"}`,children:se.title}),e.jsx("p",{className:"text-[9px] text-gray-500 hidden md:block leading-tight",children:se.description})]},se.id)})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs(V,{title:"Personal Information",icon:Ht,sectionKey:"personal",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(te,{label:"First Name",value:P.firstName}),e.jsx(te,{label:"Middle Name",value:P.middleName}),e.jsx(te,{label:"Last Name",value:P.lastName}),e.jsx(te,{label:"Extension Name",value:P.extensionName}),e.jsx(te,{label:"Sex",value:P.sex}),e.jsx(te,{label:"Civil Status",value:P.civilStatus}),e.jsx(te,{label:"Date of Birth",value:P.dateOfBirth}),e.jsx(te,{label:"Nationality",value:P.nationality}),e.jsx(te,{label:"Birth Place",value:P.birthPlace}),e.jsx(te,{label:"Religion",value:P.religion}),e.jsx(te,{label:"Height",value:P.heightCm}),e.jsx(te,{label:"Weight",value:P.weightKg}),e.jsx(te,{label:"PWD",value:P.isPwd}),P.isPwd==="Yes"&&e.jsx("div",{className:"sm:col-span-2",children:e.jsx(te,{label:"PWD Specification",value:P.pwdSpecification})})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(V3,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Address Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"sm:col-span-2 md:col-span-3",children:e.jsx(te,{label:"Present Address",value:P.presentAddress})}),e.jsx(te,{label:"Address Line 1",value:P.addressLine1}),e.jsx(te,{label:"Address Line 2",value:P.addressLine2}),e.jsx(te,{label:"Barangay",value:P.barangay}),e.jsx(te,{label:"District",value:P.district}),e.jsx(te,{label:"City",value:P.city}),e.jsx(te,{label:"Province",value:P.province}),e.jsx(te,{label:"Region",value:P.region}),e.jsx(te,{label:"Zip Code",value:P.zipCode})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(Ws,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Contact Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(te,{label:"Contact Number",value:P.contactNumber}),e.jsx(te,{label:"Email Address",value:P.emailAddress})]})]})]}),e.jsx(V,{title:"Family Information",icon:Nb,sectionKey:"family",children:e.jsxs("div",{className:"space-y-6",children:[P.familyMembers.length>0?P.familyMembers.map((se,He)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[e.jsx("span",{className:"text-orange-500",children:se.relationship==="father"?"":se.relationship==="mother"?"":se.relationship==="guardian"?"":""}),e.jsxs("span",{className:"capitalize",children:[se.relationship,"'s Information"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(te,{label:"First Name",value:se.first_name||"Not specified"}),e.jsx(te,{label:"Middle Name",value:se.middle_name||"N/A"}),e.jsx(te,{label:"Last Name",value:se.last_name||"Not specified"}),e.jsx(te,{label:"Extension Name",value:se.extension_name||"N/A"}),e.jsx(te,{label:"Contact Number",value:se.contact_number||"Not specified"}),e.jsx(te,{label:"Occupation/Employer",value:se.occupation||"Not specified"}),e.jsx(te,{label:"Monthly Income",value:se.monthly_income?`${parseFloat(se.monthly_income).toLocaleString()}`:"Not specified"}),e.jsx(te,{label:"Is Alive",value:se.is_alive?"Yes":"No"}),e.jsx(te,{label:"Is Employed",value:se.is_employed?"Yes":"No"}),e.jsx(te,{label:"Is OFW",value:se.is_ofw?"Yes":"No"}),e.jsx(te,{label:"Is PWD",value:se.is_pwd?"Yes":"No"})]})]},He)):e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(Nb,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"No family members information available"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Household Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(te,{label:"Number of Siblings",value:P.numberOfSiblings}),e.jsx(te,{label:"Siblings in School",value:P.numberOfSiblingsInSchool}),e.jsx(te,{label:"Home Ownership",value:P.homeOwnershipStatus})]})]})]})}),e.jsx(V,{title:"Academic Information",icon:Ls,sectionKey:"academic",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"sm:col-span-2",children:e.jsx(te,{label:"School Name",value:P.school,highlight:!0})}),e.jsx(te,{label:"School Type",value:P.schoolType}),e.jsx("div",{className:"sm:col-span-2 md:col-span-3",children:e.jsx(te,{label:"School Address",value:P.schoolAddress})}),e.jsx(te,{label:"Educational Level",value:P.educationalLevel}),e.jsx(te,{label:"Grade/Year Level",value:P.gradeYearLevel}),e.jsx("div",{className:"sm:col-span-2",children:e.jsx(te,{label:"Track/Specialization",value:P.course})}),e.jsx(te,{label:"Academic Year",value:P.academicYear}),e.jsx(te,{label:"Semester/Term",value:P.semester}),e.jsx(te,{label:"Units Enrolled",value:P.unitsEnrolled}),e.jsx(te,{label:"GWA/GPA",value:P.gwa,highlight:!0}),e.jsx(te,{label:"Currently Enrolled",value:P.isCurrentlyEnrolled}),e.jsx(te,{label:"Graduating Student",value:P.isGraduating})]})}),e.jsx(V,{title:"Financial Information",icon:cr,sectionKey:"financial",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(te,{label:"Requested Amount",value:P.requestedAmount,highlight:!0}),e.jsx(te,{label:"Approved Amount",value:P.approvedAmount,highlight:!0}),e.jsx(te,{label:"Student Employed",value:P.isEmployed}),e.jsx(te,{label:"Student Occupation",value:P.studentOccupation}),e.jsx(te,{label:"Student Income",value:P.studentMonthlyIncome}),e.jsx(te,{label:"Family Monthly Income",value:P.totalFamilyMonthlyIncome,highlight:!0}),e.jsx(te,{label:"Family Annual Income",value:P.totalAnnualIncome,highlight:!0})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Financial Need Description"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-sm text-gray-700",children:P.financialNeedDescription})})]}),P.walletAccountNumber!=="Not provided"&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[e.jsx(fo,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Payment Information"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.jsx(te,{label:"Wallet Account Number",value:P.walletAccountNumber})})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Marginalized Groups & Benefits"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(te,{label:"Solo Parent",value:P.isSoloParent}),e.jsx(te,{label:"Indigenous Group",value:P.isIndigenousGroup}),e.jsx(te,{label:"4Ps Beneficiary",value:P.is4PsBeneficiary}),e.jsx(te,{label:"PWD Beneficiary",value:P.isPwdBeneficiary})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Voter Information"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.jsx(te,{label:"Registered Voter",value:P.isRegisteredVoter})})]})]})}),e.jsx(V,{title:"Application Details",icon:pl,sectionKey:"application",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(te,{label:"Application Type",value:P.type,highlight:!0}),e.jsx(te,{label:"Scholarship Category",value:P.scholarshipType,highlight:!0}),e.jsx(te,{label:"Scholarship Subcategory",value:P.scholarshipSubtype}),e.jsx(te,{label:"Submitted Date",value:P.applicationDate}),e.jsx(te,{label:"Reviewed Date",value:P.reviewedDate}),e.jsx(te,{label:"Approval Date",value:P.approvalDate})]}),P.type==="Renewal Application"&&P.reasonForRenewal!=="N/A"&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Reason for Renewal"}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-sm text-gray-700",children:P.reasonForRenewal})})]}),P.rejectionReason&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-red-700 mb-2",children:"Rejection Reason"}),e.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-300",children:e.jsx("p",{className:"text-sm text-red-900",children:P.rejectionReason})})]}),P.notes&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Additional Notes"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-sm text-gray-700",children:P.notes})})]})]})}),e.jsxs(V,{title:"Documents Checklist",icon:Ia,sectionKey:"documents",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[ht," of ",Qe," required documents submitted"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-2",children:[e.jsx("span",{className:"font-medium",children:"Completion Progress"}),e.jsxs("span",{className:"font-bold text-orange-600",children:[ne,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-500 shadow-sm ${ne===100?"bg-gradient-to-r from-green-500 to-green-600":ne>=75?"bg-gradient-to-r from-blue-500 to-blue-600":ne>=50?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-red-500 to-red-600"}`,style:{width:`${ne}%`}})})]})]}),e.jsx("div",{className:"space-y-4",children:Ze.length>0?(()=>{const se=Ze.reduce((qe,J)=>{const ce=J.category||"other";return qe[ce]||(qe[ce]=[]),qe[ce].push(J),qe},{}),He={academic:" Academic Documents",financial:" Financial Documents",personal:" Personal Documents",other:" Other Documents"};return Object.entries(se).map(([qe,J])=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide border-b border-gray-200 pb-1 mb-2",children:He[qe]||` ${qe.charAt(0).toUpperCase()+qe.slice(1)} Documents`}),J.map((ce,$e)=>e.jsx("div",{className:`p-3 rounded-lg border transition-all hover:shadow-sm ${ce.isRequired?ce.isSubmitted?ce.status==="verified"?"bg-green-50 border-green-300":ce.status==="rejected"?"bg-red-50 border-red-300":"bg-blue-50 border-blue-300":"bg-yellow-50 border-yellow-300":"bg-gray-50 border-gray-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start space-x-2 flex-1 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:ce.isSubmitted?ce.status==="verified"?e.jsx(Le,{className:"h-4 w-4 text-green-500"}):ce.status==="rejected"?e.jsx(bt,{className:"h-4 w-4 text-red-500"}):e.jsx(Nt,{className:"h-4 w-4 text-blue-500"}):e.jsx("div",{className:"h-4 w-4 border-2 border-gray-300 rounded-full"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:ce.name}),ce.isRequired&&e.jsx("span",{className:"px-2 py-0.5 text-[10px] font-medium bg-orange-100 text-orange-800 rounded-full",children:"Required"})]}),ce.description&&e.jsx("p",{className:"text-xs text-gray-600 mt-0.5 line-clamp-1",children:ce.description}),ce.isSubmitted&&e.jsxs("div",{className:"mt-1",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:[ce.submittedAt,ce.fileName&&`  ${ce.fileName}`]}),ce.verificationNotes&&e.jsx("div",{className:"mt-1 p-2 bg-white rounded border border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-700",children:[e.jsx("strong",{children:"Note:"})," ",ce.verificationNotes]})})]})]})]}),e.jsx("div",{className:"flex items-center space-x-1 flex-shrink-0",children:Q?e.jsx(V8,{documentTypeId:ce.id,documentTypeName:ce.name,studentId:Q.student_id,applicationId:Q.id,isUploading:g,existingDocument:ce.document,onUploadStart:()=>b(!0),onUploadSuccess:async()=>{b(!1);const nt=await ot.getDocuments({application_id:Q.id});h(nt.data||[])},onUploadError:nt=>{b(!1),w(nt)},showRemoveButton:ce.isSubmitted&&["draft","for_compliance"].includes(Q.status),onRemove:()=>ee(ce.document),maxSizeMB:10,acceptedTypes:["application/pdf","image/jpeg","image/png"],className:"min-w-0 flex-1"}):e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-semibold whitespace-nowrap ${ce.isSubmitted?ce.status==="verified"?"bg-green-100 text-green-800":ce.status==="rejected"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:ce.isSubmitted?ce.status==="verified"?" Verified":ce.status==="rejected"?" Rejected":" Pending":" Missing"})})]})},$e))]},qe))})():e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(pl,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No document requirements found"}),e.jsx("p",{className:"text-sm",children:"Contact support if you believe this is an error"})]})}),Ze.length>0&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-center",children:[e.jsxs("div",{className:"p-2 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-gray-900",children:Qe}),e.jsx("p",{className:"text-[10px] text-gray-600 uppercase font-medium",children:"Required"})]}),e.jsxs("div",{className:"p-2 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-blue-600",children:ht}),e.jsx("p",{className:"text-[10px] text-blue-600 uppercase font-medium",children:"Submitted"})]}),e.jsxs("div",{className:"p-2 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-green-600",children:K}),e.jsx("p",{className:"text-[10px] text-green-600 uppercase font-medium",children:"Verified"})]}),e.jsxs("div",{className:"p-2 bg-yellow-50 rounded-lg",children:[e.jsx("p",{className:"text-xl font-bold text-yellow-600",children:Qe-ht}),e.jsx("p",{className:"text-[10px] text-yellow-600 uppercase font-medium",children:"Missing"})]})]})}),y&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bt,{className:"h-4 w-4 text-red-500"}),e.jsx("p",{className:"text-sm text-red-700",children:y})]})})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 p-4",children:e.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center space-x-2",children:[e.jsx(cr,{className:"h-5 w-5"}),e.jsx("span",{children:"Summary"})]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-br from-green-50 to-green-100 rounded-lg border border-green-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Amount"}),e.jsx("span",{className:"text-xl font-bold text-green-600",children:P.amount})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Application Date"}),e.jsx("span",{className:"font-medium text-gray-900",children:P.applicationDate})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Reviewed Date"}),e.jsx("span",{className:"font-medium text-gray-900",children:P.reviewedDate})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Approval Date"}),e.jsx("span",{className:"font-medium text-gray-900",children:P.approvalDate})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Documents Status"}),e.jsxs("span",{className:`text-sm font-bold ${ne===100?"text-green-600":"text-orange-600"}`,children:[ht,"/",Qe," Complete"]})]})]})]})]}),Q&&(P.rawStatus==="interview_scheduled"||P.rawStatus==="interview_completed")&&e.jsx(q8,{applicationId:Q.id}),Q&&["draft","for_compliance"].includes(P.rawStatus)&&e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsx("div",{className:`p-4 ${P.rawStatus==="for_compliance"?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-blue-500 to-blue-600"}`,children:e.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center space-x-2",children:[e.jsx(fi,{className:"h-5 w-5"}),e.jsx("span",{children:P.rawStatus==="for_compliance"?"Resubmit Application":"Submit Application"})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-600",children:P.rawStatus==="for_compliance"?"Ready to Resubmit?":"Ready to Submit?"}),e.jsxs("span",{className:`font-bold ${pe?"text-green-600":"text-orange-600"}`,children:[ne,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${pe?"bg-green-500":"bg-orange-500"}`,style:{width:`${ne}%`}})})]}),e.jsx("button",{onClick:Xe,disabled:!pe||N,className:`w-full inline-flex items-center justify-center px-4 py-3 rounded-lg font-medium transition-all ${!pe||N?"bg-gray-300 text-gray-500 cursor-not-allowed":P.rawStatus==="for_compliance"?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white hover:from-yellow-600 hover:to-yellow-700 shadow-md hover:shadow-lg":"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:from-orange-600 hover:to-orange-700 shadow-md hover:shadow-lg"}`,title:pe?P.rawStatus==="for_compliance"?"Resubmit your application":"Submit your application":"Upload all required documents first",children:N?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"h-4 w-4 mr-2 animate-spin"}),P.rawStatus==="for_compliance"?"Resubmitting...":"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(fi,{className:"h-4 w-4 mr-2"}),P.rawStatus==="for_compliance"?"Resubmit Application":"Submit Application"]})}),!pe&&e.jsxs("p",{className:"mt-2 text-xs text-gray-500 text-center",children:["Complete all ",Qe," required documents to ",P.rawStatus==="for_compliance"?"resubmit":"submit"]}),(S||v)&&e.jsx("div",{className:`mt-3 p-3 rounded-lg border ${S?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[S?e.jsx(bt,{className:"h-4 w-4 text-red-500"}):e.jsx(Le,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:`text-xs ${S?"text-red-700":"text-green-700"}`,children:S||v})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-4",children:e.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center space-x-2",children:[e.jsx(bu,{className:"h-5 w-5"}),e.jsx("span",{children:"Disbursements"})]})}),e.jsx("div",{className:"p-4 space-y-3",children:I?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(Ot,{className:"h-5 w-5 text-gray-400 animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading disbursements..."})]}):P.disbursements.length>0?P.disbursements.map((se,He)=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zt,{className:"h-4 w-4 text-gray-500 dark:text-slate-400"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-slate-300",children:se.date})]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-[10px] font-semibold ${pt(se.status)}`,children:se.status==="completed"?"Completed":se.status})]}),e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cr,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:se.amount})]})}),se.referenceNumber&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-400 mb-2",children:["Ref: ",se.referenceNumber]}),se.receiptPath&&e.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-200 dark:border-slate-700",children:[e.jsxs("a",{href:`${it.AID_SERVICE.BASE_URL}/api/school-aid/disbursements/${se.id}/receipt`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium rounded-md bg-blue-50 text-blue-700 hover:bg-blue-100 dark:bg-blue-900/40 dark:text-blue-200 dark:hover:bg-blue-900/60 transition-colors",children:[e.jsx(Ft,{className:"w-3.5 h-3.5"}),"View Receipt"]}),e.jsxs("a",{href:`${it.AID_SERVICE.BASE_URL}/api/school-aid/disbursements/${se.id}/receipt/download`,download:!0,className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium rounded-md bg-green-50 text-green-700 hover:bg-green-100 dark:bg-green-900/40 dark:text-green-200 dark:hover:bg-green-900/60 transition-colors",children:[e.jsx(sr,{className:"w-3.5 h-3.5"}),"Download"]})]})]},se.id||He)):e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 font-medium italic",children:"No record found"})})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl shadow-md p-4 border border-blue-200",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center space-x-2",children:[e.jsx(bt,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{children:"Need Help?"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Contact our support team for assistance with your application."}),e.jsx("button",{className:"w-full bg-white text-gray-700 py-2 px-4 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors border border-gray-200",children:"Contact Support"})]})]})]})]}),E&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Wt,{className:"h-6 w-6 text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Remove Document"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to remove this document?"})]})]}),F&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:F.file_name}),e.jsx("p",{className:"text-xs text-gray-600",children:"This action cannot be undone."})]}),e.jsxs("div",{className:"flex space-x-3 justify-end",children:[e.jsx("button",{onClick:()=>{T(!1),R(null)},disabled:D,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:he,disabled:D,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:D?"Removing...":"Remove Document"})]})]})})})]})},jP=({message:t,type:r="info",duration:s=3e3,onClose:a})=>{const[n,i]=f.useState(!0);f.useEffect(()=>{const h=setTimeout(()=>{i(!1),setTimeout(()=>a(),300)},s);return()=>clearTimeout(h)},[s,a]);const l=()=>{i(!1),setTimeout(()=>a(),300)},c=()=>{switch(r){case"success":return e.jsx(Le,{className:"w-5 h-5 text-green-500"});case"error":return e.jsx(jt,{className:"w-5 h-5 text-red-500"});case"warning":return e.jsx(bt,{className:"w-5 h-5 text-yellow-500"});default:return e.jsx(Gn,{className:"w-5 h-5 text-blue-500"})}},u=()=>{switch(r){case"success":return"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-200";case"error":return"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-200";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-200";default:return"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-200"}};return e.jsx("div",{className:`fixed top-4 right-4 z-50 max-w-sm w-full bg-white dark:bg-gray-800 border rounded-lg shadow-lg transition-all duration-300 ${n?"translate-x-0 opacity-100":"translate-x-full opacity-0"} ${u()}`,children:e.jsxs("div",{className:"flex items-start p-4",children:[e.jsx("div",{className:"flex-shrink-0",children:c()}),e.jsx("div",{className:"ml-3 flex-1",children:e.jsx("p",{className:"text-sm font-medium",children:t})}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx("button",{onClick:l,className:"inline-flex text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none",children:e.jsx(wt,{className:"w-4 h-4"})})})]})})},_h="scholarship_application_form_data",G8=(t,r)=>{try{const s={formData:t,currentStep:r,timestamp:Date.now()};localStorage.setItem(_h,JSON.stringify(s))}catch(s){console.error("Failed to save form data to localStorage:",s)}},CS=()=>{try{const t=localStorage.getItem(_h);if(t){const r=JSON.parse(t);if(Date.now()-r.timestamp<10080*60*1e3)return r;localStorage.removeItem(_h)}}catch(t){console.error("Failed to load form data from localStorage:",t)}return null},A0=()=>{try{localStorage.removeItem(_h)}catch(t){console.error("Failed to clear form data from localStorage:",t)}},W8=()=>{const t=$a(),r=Lt(P=>P.currentUser),[s,a]=f.useState(1),[n,i]=f.useState([]),[l,c]=f.useState([]),[u,h]=f.useState(!1),[m,x]=f.useState(null),[g,b]=f.useState(!1),[y,w]=f.useState(null),[N,_]=f.useState(null),[S,k]=f.useState(null),[v,A]=f.useState(!0),[E,T]=f.useState("percentage"),[F,R]=f.useState("school"),[D,$]=f.useState(!0),[B,H]=f.useState(!1),[I,L]=f.useState(null),[M,q]=f.useState(!1),[Z,G]=f.useState(!1),[de,X]=f.useState(null),{control:z,handleSubmit:Ie,formState:{errors:ie},watch:Pe,trigger:re,clearErrors:Ee,reset:ke,setValue:xe}=nP({mode:"onChange",reValidateMode:"onChange",defaultValues:{lastName:"",firstName:"",middleName:"",extensionName:"",studentId:"",sex:"",civilStatus:"",dateOfBirth:"",religion:"",religionOther:"",nationality:"Filipino",birthPlace:"",heightCm:"",weightKg:"",isPwd:void 0,pwdSpecification:"",presentAddress:"",barangay:"",district:"",city:"QUEZON CITY",zipCode:"",contactNumber:"",emailAddress:"",motherFirstName:"",motherLastName:"",motherMiddleName:"",motherExtensionName:"",motherContactNumber:"",motherOccupation:"",motherMonthlyIncome:"",isMotherAvailable:"",isFatherAvailable:"",fatherFirstName:"",fatherLastName:"",fatherMiddleName:"",fatherExtensionName:"",fatherContactNumber:"",fatherOccupation:"",fatherMonthlyIncome:"",emergencyContactName:"",emergencyContactNumber:"",emergencyContactRelationship:"",isStudentEmployed:"",studentOccupation:"",studentMonthlyIncome:"",totalFamilyMonthlyIncome:"",totalAnnualIncome:"",numberOfSiblings:"",numberOfSiblingsInSchool:"",homeOwnershipStatus:"",isSoloParent:"",isIndigenousGroup:"",indigenousGroupName:"",is4PsBeneficiary:"",isPwdBeneficiary:"",isRegisteredVoter:"",voterNationality:"",paymentMethod:"",accountNumber:"",preferredMobileNumber:"",financialNeedDescription:"",scholarshipCategory:"",scholarshipSubCategory:"",howDidYouKnow:[],educationalLevel:"TERTIARY/COLLEGE",isSchoolAtCaloocan:"YES",schoolName:"",campus:"",unitsEnrolled:"",gradeYearLevel:"1st Year",courseProgram:"",major:"",schoolTerm:"1st Semester",schoolYear:"2024-2025",previousSchool:"",previousSchoolAddress:"",unitsCompleted:"N/A",generalWeightedAverage:"",marginalizedGroups:[],digitalWallets:[],birthCertificate:null,reportCard:null,incomeCertificate:null,barangayCertificate:null,idPicture:null,otherDocuments:null}}),Q=Pe("isPwd"),et=Pe("paymentMethod"),ve=Pe("isMotherAvailable"),Ze=Pe("isFatherAvailable"),Qe=Pe("isIndigenousGroup"),ht=Pe("isStudentEmployed"),K=Pe("educationalLevel"),ne={1:["lastName","firstName","studentId","sex","civilStatus","dateOfBirth","religion","nationality","birthPlace","presentAddress","barangay","district","city","zipCode","contactNumber","emailAddress","isPwd"],2:["motherFirstName","motherLastName","motherContactNumber","motherOccupation","motherMonthlyIncome","isMotherAvailable","isFatherAvailable","emergencyContactName","emergencyContactNumber","emergencyContactRelationship"],3:["isStudentEmployed","totalFamilyMonthlyIncome","numberOfSiblings","numberOfSiblingsInSchool","homeOwnershipStatus","isSoloParent","isIndigenousGroup","is4PsBeneficiary","isRegisteredVoter","paymentMethod","financialNeedDescription"],4:["scholarshipCategory","scholarshipSubCategory","howDidYouKnow","educationalLevel","isSchoolAtCaloocan","schoolName","campus","unitsEnrolled","gradeYearLevel","courseProgram","schoolTerm","schoolYear","previousSchool","unitsCompleted","generalWeightedAverage"]},pe=async P=>{if(M)return await ee(P);let V=ne[P]||[];if(P===1&&Pe("isPwd")===!0&&(V=[...V,"pwdSpecification"]),P===2&&(Pe("isMotherAvailable")==="yes"&&(V=[...V,"motherFirstName","motherLastName","motherContactNumber","motherOccupation","motherMonthlyIncome"]),Pe("isFatherAvailable")==="yes"&&(V=[...V,"fatherFirstName","fatherLastName","fatherContactNumber","fatherOccupation","fatherMonthlyIncome"])),P===3){const at=Pe("paymentMethod"),pt=Pe("isStudentEmployed"),se=Pe("isIndigenousGroup");at&&at!=="Cash"&&(V=[...V,"accountNumber"]),pt==="yes"&&(V=[...V,"studentOccupation","studentMonthlyIncome"]),se==="yes"&&(V=[...V,"indigenousGroupName"])}P===4&&Pe("educationalLevel")==="TERTIARY/COLLEGE"&&(V=[...V,"major"]),console.log(`Validating step ${P} fields:`,V),console.log(`Current step is: ${s}`);const te=[...ne[1],...ne[2],...ne[3],...ne[4]];V.forEach(at=>{te.includes(at)&&Ee(at)}),await new Promise(at=>setTimeout(at,50));const Ne=await re(V);console.log(`Step ${P} validation result:`,Ne);const Se=Pe();return console.log("Current form values:",Se),console.log("Form errors:",ie),console.log("isPwd value:",Pe("isPwd")),console.log("isPwd type:",typeof Pe("isPwd")),P===1&&(console.log("Step 1 field values:"),V.forEach(at=>{const pt=Pe(at);console.log(`${at}:`,pt,typeof pt)})),Ne},Xe=async P=>{if(console.log(`Navigating to step ${P} from step ${s}`),P<s){a(P);return}for(let V=s;V<P;V++)if(!await pe(V)){X({message:`Please complete Step ${V} before proceeding.`,type:"error"});return}a(P)},ee=async P=>{console.log(`Edit mode validation for step ${P}`);let V=[];switch(P){case 1:V=["lastName","firstName","sex","civilStatus","dateOfBirth","contactNumber","emailAddress"];break;case 2:V=["isMotherAvailable","isFatherAvailable"];break;case 3:V=["totalFamilyMonthlyIncome","paymentMethod"];break;case 4:V=["scholarshipCategory","educationalLevel","schoolName","campus"];break}console.log(`Edit mode critical fields for step ${P}:`,V);const te=await re(V);return console.log(`Edit mode validation result for step ${P}:`,te),te},he=P=>{if(!P)return 0;if(P.includes("Below"))return 5e4;if(P.includes("Above"))return 75e4;if(P.includes("-")){const[V,te]=P.split("-").map(Ne=>parseInt(Ne.replace(/[^\d]/g,"")));return(V+te)/2}return parseFloat(P.replace(/[^\d]/g,""))||0},W=P=>{const V=Math.max(0,Math.min(100,P));return V>=96?1:V>=94?1.25:V>=92?1.5:V>=89?1.75:V>=87?2:V>=84?2.25:V>=82?2.5:V>=79?2.75:V>=75?3:5};f.useEffect(()=>{(async()=>{if(!r){$(!1);return}try{$(!0);const V=await ot.getUserApplications(),te=["submitted","documents_reviewed","interview_scheduled","endorsed_to_ssc","approved","grants_processing","grants_disbursed","on_hold","compliance_documents_submitted"],Ne=V.some(se=>te.includes(se.status?.toLowerCase())),Se=V.find(se=>["draft","for_compliance"].includes(se.status?.toLowerCase())),at=!!Se,pt=!Ne;if(H(!pt),Se&&pt)if(q(!0),Se.id&&typeof Se.id=="number")try{const se=await ot.getApplication(Se.id);L(se),console.log("Edit mode detected. Loading full application data:",se)}catch(se){console.error("Failed to fetch full application data:",se),L(Se),console.log("Edit mode detected. Using basic application data:",Se)}else L(Se),console.log("Edit mode detected. Using basic application data (no ID):",Se);console.log("User applications:",V),console.log("Has blocking application:",Ne),console.log("Has editable application:",at),console.log("Should allow access:",pt),console.log("Is edit mode:",!!Se&&pt)}catch(V){console.error("Error checking existing applications:",V),H(!1)}finally{$(!1)}})()},[r]),f.useEffect(()=>{(async()=>{A(!0);try{const[V,te]=await Promise.all([ot.getSchools(),ot.getScholarshipCategories()]);i(Array.isArray(V)?V:[]),c(Array.isArray(te)?te:[]),console.log("Loaded schools:",V),console.log("Loaded categories:",te)}catch(V){console.error("Failed to load reference data:",V),x("Failed to load form data. Please refresh the page."),i([]),c([])}finally{A(!1)}})()},[]),f.useEffect(()=>{const P=CS();P&&!M?(console.log("Loading saved form data:",P),ke(P.formData),a(P.currentStep),_(P.formData.scholarshipCategory?parseInt(P.formData.scholarshipCategory):null),k(P.formData.scholarshipSubCategory?parseInt(P.formData.scholarshipSubCategory):null),w(P.formData.schoolName||null),T(P.formData.gwaInputFormat||"percentage"),R(P.formData.studentIdType||"school"),G(P.formData.religion==="OTHERS, PLEASE SPECIFY")):M&&(console.log("Edit mode detected - starting from step 1 and clearing localStorage"),a(1),A0())},[ke,M]),f.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[s]),f.useEffect(()=>{if(M&&I&&!D){console.log("=== FORM POPULATION DEBUG ==="),console.log("isEditMode:",M),console.log("existingApplication:",I),console.log("existingApplication type:",typeof I),console.log("existingApplication keys:",Object.keys(I||{})),console.log("Student data:",I.student),console.log("Student data keys:",Object.keys(I.student||{})),console.log("Emergency contacts:",I.student?.emergency_contacts);const P={lastName:I.student?.last_name||"",firstName:I.student?.first_name||"",middleName:I.student?.middle_name||"",extensionName:I.student?.extension_name||"",studentId:I.student?.student_id_number||"",sex:I.student?.sex||"",civilStatus:I.student?.civil_status||"",dateOfBirth:I.student?.birth_date?new Date(I.student.birth_date).toISOString().split("T")[0]:"",religion:I.student?.religion||"",nationality:I.student?.nationality||"Filipino",birthPlace:I.student?.birth_place||"",heightCm:I.student?.height_cm?.toString()||"",weightKg:I.student?.weight_kg?.toString()||"",isPwd:I.student?.is_pwd===!0,pwdSpecification:I.student?.pwd_specification||"",presentAddress:I.student?.addresses?.[0]?.address_line_1||"",presentAddressLine2:I.student?.addresses?.[0]?.address_line_2||"",barangay:I.student?.addresses?.[0]?.barangay||"",district:I.student?.addresses?.[0]?.district||"",city:I.student?.addresses?.[0]?.city||"QUEZON CITY",province:I.student?.addresses?.[0]?.province||"",region:I.student?.addresses?.[0]?.region||"",zipCode:I.student?.addresses?.[0]?.zip_code||"",contactNumber:I.student?.contact_number||"",emailAddress:I.student?.email_address||"",motherFirstName:I.student?.family_members?.find(Ne=>Ne.relationship==="mother")?.first_name||"",motherLastName:I.student?.family_members?.find(Ne=>Ne.relationship==="mother")?.last_name||"",motherMiddleName:I.student?.family_members?.find(Ne=>Ne.relationship==="mother")?.middle_name||"",motherExtensionName:I.student?.family_members?.find(Ne=>Ne.relationship==="mother")?.extension_name||"",motherContactNumber:I.student?.family_members?.find(Ne=>Ne.relationship==="mother")?.contact_number||"",motherOccupation:I.student?.family_members?.find(Ne=>Ne.relationship==="mother")?.occupation||"",motherMonthlyIncome:I.student?.family_members?.find(Ne=>Ne.relationship==="mother")?.monthly_income?.toString()||"",isMotherAvailable:I.student?.family_members?.find(Ne=>Ne.relationship==="mother")?"yes":"no",isFatherAvailable:I.student?.family_members?.find(Ne=>Ne.relationship==="father")?"yes":"no",fatherFirstName:I.student?.family_members?.find(Ne=>Ne.relationship==="father")?.first_name||"",fatherLastName:I.student?.family_members?.find(Ne=>Ne.relationship==="father")?.last_name||"",fatherMiddleName:I.student?.family_members?.find(Ne=>Ne.relationship==="father")?.middle_name||"",fatherExtensionName:I.student?.family_members?.find(Ne=>Ne.relationship==="father")?.extension_name||"",fatherContactNumber:I.student?.family_members?.find(Ne=>Ne.relationship==="father")?.contact_number||"",fatherOccupation:I.student?.family_members?.find(Ne=>Ne.relationship==="father")?.occupation||"",fatherMonthlyIncome:I.student?.family_members?.find(Ne=>Ne.relationship==="father")?.monthly_income?.toString()||"",emergencyContactName:I.student?.emergency_contacts?.[0]?.full_name||"",emergencyContactNumber:I.student?.emergency_contacts?.[0]?.contact_number||"",emergencyContactRelationship:I.student?.emergency_contacts?.[0]?.relationship||"",isStudentEmployed:I.student?.is_employed?"yes":"no",studentOccupation:I.student?.occupation||"",studentMonthlyIncome:I.student?.financial_information?.monthly_income?.toString()||"",totalFamilyMonthlyIncome:I.student?.financial_information?.family_monthly_income_range||"",totalAnnualIncome:"",numberOfSiblings:I.student?.financial_information?.number_of_siblings?.toString()||"",numberOfSiblingsInSchool:I.student?.financial_information?.siblings_currently_enrolled?.toString()||"",homeOwnershipStatus:I.student?.financial_information?.home_ownership_status||"",isSoloParent:I.student?.is_solo_parent?"yes":"no",isIndigenousGroup:I.student?.is_indigenous_group?"yes":"no",indigenousGroupName:I.student?.indigenous_group_name||"",is4PsBeneficiary:I.student?.financial_information?.is_4ps_beneficiary?"yes":"no",isPwdBeneficiary:I.student?.family_information?.is_pwd_beneficiary?"yes":"no",isRegisteredVoter:I.student?.is_registered_voter?"yes":"no",voterNationality:I.student?.voter_nationality||"",paymentMethod:I.digital_wallets&&I.digital_wallets.length>0?I.digital_wallets[0]:"",accountNumber:I.wallet_account_number||"",hasPayMayaAccount:I.student?.has_paymaya_account?"yes":"no",preferredMobileNumber:I.student?.preferred_mobile_number||"",scholarshipCategory:I.category_id?.toString()||"",scholarshipSubCategory:I.subcategory_id?.toString()||"",schoolName:I.school?.name||"",howDidYouKnow:I.how_did_you_know||[],financialNeedDescription:I.financial_need_description||"",requestedAmount:I.requested_amount?.toString()||"",marginalizedGroups:I.marginalized_groups||[],digitalWallets:I.digital_wallets||[],walletAccountNumber:I.wallet_account_number||"",isSchoolAtCaloocan:I.is_school_at_caloocan?"yes":"no",educationalLevel:I.student?.current_academic_record?.educational_level||"",courseProgram:I.student?.current_academic_record?.program||"",program:I.student?.current_academic_record?.program||"",major:I.student?.current_academic_record?.major||"",trackSpecialization:I.student?.current_academic_record?.track_specialization||"",currentTrackSpecialization:I.student?.current_academic_record?.track_specialization||"",areaOfSpecialization:I.student?.current_academic_record?.area_of_specialization||"",gradeYearLevel:I.student?.current_academic_record?.year_level||"",yearLevel:I.student?.current_academic_record?.year_level||"",schoolTerm:I.student?.current_academic_record?.school_term||"",schoolYear:I.student?.current_academic_record?.school_year||"",campus:I.school?.campus||"",unitsEnrolled:I.student?.current_academic_record?.units_enrolled?.toString()||"",unitsCompleted:I.student?.current_academic_record?.units_completed?.toString()||"N/A",generalWeightedAverage:I.student?.current_academic_record?.general_weighted_average?.toString()||"",previousSchool:I.student?.current_academic_record?.previous_school||"",previousSchoolAddress:I.student?.current_academic_record?.previous_school_address||"",isCurrentlyEnrolled:I.student?.current_academic_record?.is_currently_enrolled?"yes":"no",isGraduating:I.student?.current_academic_record?.is_graduating?"yes":"no",type:I.type||"new",reasonForRenewal:I.reason_for_renewal||"",parentApplicationId:I.parent_application_id||"",notes:I.notes||""};console.log("Form data to be populated:",P),ke(P),a(1),I.category_id&&_(I.category_id),I.subcategory_id&&k(I.subcategory_id),I.school?.name&&w(I.school.name);const V=I.student?.current_academic_record?.general_weighted_average;V&&(V<=5?T("gwa"):T("percentage"));const te=I.student?.student_id_number;te&&(te.length===12?R("lrn"):R("school")),P.religion==="OTHERS, PLEASE SPECIFY"&&G(!0),console.log("=== FORM POPULATION COMPLETED ==="),console.log("Form populated with existing application data"),console.log("Current step set to:",1),console.log("Selected category ID:",I.category_id),console.log("Selected subcategory ID:",I.subcategory_id),console.log("Selected school:",I.school?.name)}},[M,I,D,ke]),f.useEffect(()=>{(async()=>{if(!r||M||D)return;const V=CS(),te=new URLSearchParams(window.location.search).get("force-populate")==="true";if(V&&!te){console.log("Skipping auto-population - saved form data exists in localStorage"),console.log("To test auto-population, add ?force-populate=true to URL or clear localStorage");return}te&&V&&(console.log("Force auto-population enabled - clearing saved data and populating from user record"),A0()),console.log("Auto-populating form with user data:",r),r.first_name&&xe("firstName",r.first_name),r.last_name&&xe("lastName",r.last_name),r.middle_name&&xe("middleName",r.middle_name),r.extension_name&&xe("extensionName",r.extension_name),r.email&&xe("emailAddress",r.email),r.mobile&&xe("contactNumber",r.mobile),r.birthdate&&xe("dateOfBirth",new Date(r.birthdate).toISOString().split("T")[0]),r.address&&xe("presentAddress",r.address),r.barangay&&xe("barangay",r.barangay);try{const Ne=await ot.getStudents(),Se=Ne.data&&Ne.data.length>0?Ne.data[0]:null;if(Se){if(console.log("Found existing student record, populating additional fields:",Se),Se.contact_number&&xe("contactNumber",Se.contact_number),Se.sex&&xe("sex",Se.sex),Se.civil_status&&xe("civilStatus",Se.civil_status),Se.birth_date&&xe("dateOfBirth",new Date(Se.birth_date).toISOString().split("T")[0]),Se.religion&&xe("religion",Se.religion),Se.nationality&&xe("nationality",Se.nationality),Se.birth_place&&xe("birthPlace",Se.birth_place),Se.height_cm&&xe("heightCm",Se.height_cm.toString()),Se.weight_kg&&xe("weightKg",Se.weight_kg.toString()),Se.is_pwd!==void 0&&xe("isPwd",Se.is_pwd),Se.pwd_specification&&xe("pwdSpecification",Se.pwd_specification),Se.addresses&&Se.addresses.length>0){const at=Se.addresses[0];xe("presentAddress",at.address_line_1||""),xe("presentAddressLine2",at.address_line_2||""),xe("barangay",at.barangay||""),xe("district",at.district||""),xe("city",at.city||"QUEZON CITY"),xe("province",at.province||""),xe("region",at.region||""),xe("zipCode",at.zip_code||"")}Se.is_employed!==void 0&&xe("isStudentEmployed",Se.is_employed?"yes":"no"),Se.occupation&&xe("studentOccupation",Se.occupation),Se.is_solo_parent!==void 0&&xe("isSoloParent",Se.is_solo_parent?"yes":"no"),Se.is_indigenous_group!==void 0&&xe("isIndigenousGroup",Se.is_indigenous_group?"yes":"no"),Se.is_registered_voter!==void 0&&xe("isRegisteredVoter",Se.is_registered_voter?"yes":"no"),Se.voter_nationality&&xe("voterNationality",Se.voter_nationality),Se.has_paymaya_account!==void 0&&xe("hasPayMayaAccount",Se.has_paymaya_account?"yes":"no"),Se.preferred_mobile_number&&xe("preferredMobileNumber",Se.preferred_mobile_number),Se.student_id_number&&xe("studentId",Se.student_id_number)}else console.log("No existing student record found - using only auth user data")}catch(Ne){console.error("Error fetching additional student data (non-critical):",Ne)}})()},[r,M,D,xe]),f.useEffect(()=>{const P=Pe(V=>{const te={...V,gwaInputFormat:E,studentIdType:F};G8(te,s)});return()=>P.unsubscribe()},[Pe,s,E,F]);const ye=async P=>{h(!0),x(null);try{if(!r?.citizen_id){h(!1),x("Your citizen ID is missing. Please log in again or contact support.");return}const V={citizen_id:r.citizen_id,student_id_number:P.studentId||null,first_name:P.firstName||"",last_name:P.lastName||"",middle_name:P.middleName||null,extension_name:P.extensionName||null,sex:P.sex||"Male",civil_status:P.civilStatus||"Single",nationality:P.nationality||"Filipino",birth_place:P.birthPlace||null,birth_date:P.dateOfBirth||null,is_pwd:!!P.isPwd,pwd_specification:P.pwdSpecification||null,religion:P.religion==="OTHERS, PLEASE SPECIFY"?P.religionOther:P.religion||null,height_cm:P.heightCm?parseFloat(P.heightCm):void 0,weight_kg:P.weightKg?parseFloat(P.weightKg):void 0,contact_number:P.contactNumber||null,email_address:P.emailAddress||null,is_employed:P.isStudentEmployed==="yes",occupation:P.studentOccupation||null,is_job_seeking:!1,is_currently_enrolled:!0,is_graduating:!1,is_solo_parent:P.isSoloParent==="yes",is_indigenous_group:P.isIndigenousGroup==="yes",is_registered_voter:P.isRegisteredVoter==="yes",voter_nationality:P.voterNationality||null,has_paymaya_account:P.paymentMethod==="PayMaya",preferred_mobile_number:P.preferredMobileNumber||null,addresses:[{type:"present",address_line_1:P.presentAddress||"",address_line_2:void 0,barangay:P.barangay||void 0,district:P.district||void 0,city:P.city||"Caloocan City",province:"Metro Manila",region:"NCR",zip_code:P.zipCode||void 0}],family_members:[...P.isFatherAvailable==="yes"?[{relationship:"father",first_name:P.fatherFirstName||"",last_name:P.fatherLastName||"",middle_name:P.fatherMiddleName||void 0,extension_name:P.fatherExtensionName||void 0,contact_number:P.fatherContactNumber||void 0,occupation:P.fatherOccupation||void 0,monthly_income:P.fatherMonthlyIncome?he(P.fatherMonthlyIncome):void 0,is_alive:!0,is_employed:!!(P.fatherMonthlyIncome||P.fatherOccupation),is_ofw:!1,is_pwd:!1,pwd_specification:void 0}]:[],...P.isMotherAvailable==="yes"?[{relationship:"mother",first_name:P.motherFirstName||"",last_name:P.motherLastName||"",middle_name:P.motherMiddleName||void 0,extension_name:P.motherExtensionName||void 0,contact_number:P.motherContactNumber||void 0,occupation:P.motherOccupation||void 0,monthly_income:P.motherMonthlyIncome?he(P.motherMonthlyIncome):void 0,is_alive:!0,is_employed:!!(P.motherMonthlyIncome||P.motherOccupation),is_ofw:!1,is_pwd:!1,pwd_specification:void 0}]:[]],emergency_contacts:P.emergencyContactName?[{full_name:P.emergencyContactName||"",contact_number:P.emergencyContactNumber||"",relationship:P.emergencyContactRelationship||"",address:void 0,email:void 0,notes:void 0,is_primary:!0}]:[],financial_information:{family_monthly_income_range:P.totalFamilyMonthlyIncome||null,monthly_income:P.isStudentEmployed==="yes"&&P.studentMonthlyIncome?he(P.studentMonthlyIncome):void 0,number_of_siblings:parseInt(P.numberOfSiblings)||0,siblings_currently_enrolled:parseInt(P.numberOfSiblingsInSchool)||0,home_ownership_status:P.homeOwnershipStatus||null,is_4ps_beneficiary:P.is4PsBeneficiary==="yes"},category_id:N||1,subcategory_id:S||1,school_id:(()=>{if(y&&P.campus&&Array.isArray(n)){const Se=n.find(at=>at.name===y&&at.campus===P.campus);return Se?Se.id:2}return 2})(),type:"new",financial_need_description:P.financialNeedDescription||"Financial assistance needed for education",requested_amount:S&&l.find(Se=>Se.subcategories?.some(at=>at.id===S))?.subcategories?.find(Se=>Se.id===S)?.amount||5e4,marginalized_groups:P.marginalizedGroups||[],digital_wallets:P.paymentMethod&&P.paymentMethod!=="Cash"?[P.paymentMethod]:[],wallet_account_number:P.accountNumber||void 0,how_did_you_know:P.howDidYouKnow||[],is_school_at_caloocan:P.isSchoolAtCaloocan==="YES",academic_record:{educational_level:P.educationalLevel||"TERTIARY/COLLEGE",program:P.courseProgram||null,major:P.major||null,track_specialization:P.courseProgram||null,area_of_specialization:P.major||null,year_level:P.gradeYearLevel||"1st Year",school_year:P.schoolYear||"2024-2025",school_term:P.schoolTerm||"1st Semester",units_enrolled:P.unitsEnrolled?parseInt(P.unitsEnrolled):void 0,units_completed:P.unitsCompleted&&P.unitsCompleted!=="N/A"?parseInt(P.unitsCompleted):void 0,previous_school_address:P.previousSchoolAddress||null,general_weighted_average:P.generalWeightedAverage?(()=>{const Se=parseFloat(P.generalWeightedAverage);let at;return E==="percentage"?(at=W(Se),console.log(`Converting GWA: ${Se}% -> ${at} GWA`)):(at=Se,console.log(`Using GWA directly: ${at}`)),at})():void 0,previous_school:P.previousSchool||null,is_graduating:!1}};console.log("Submitting application data:",V),console.log("Selected IDs:",{selectedCategoryId:N,selectedSubcategoryId:S,selectedSchoolId:y}),console.log("Form data:",P);const te=localStorage.getItem("auth_token");console.log("Auth token present:",!!te),console.log("Auth token value:",te?te.substring(0,20)+"...":"No token");let Ne;try{if(M&&I){console.log("Updating existing application:",I.id);const Se={first_name:V.first_name,last_name:V.last_name,middle_name:V.middle_name,extension_name:V.extension_name,sex:V.sex,civil_status:V.civil_status,nationality:V.nationality,birth_place:V.birth_place,birth_date:V.birth_date,is_pwd:V.is_pwd,pwd_specification:V.pwd_specification,religion:V.religion,height_cm:V.height_cm,weight_kg:V.weight_kg,contact_number:V.contact_number,email_address:V.email_address,is_employed:V.is_employed,occupation:V.occupation,is_job_seeking:V.is_job_seeking,is_currently_enrolled:V.is_currently_enrolled,is_graduating:V.is_graduating,is_solo_parent:V.is_solo_parent,is_indigenous_group:V.is_indigenous_group,is_registered_voter:V.is_registered_voter,voter_nationality:V.voter_nationality,has_paymaya_account:V.has_paymaya_account,preferred_mobile_number:V.preferred_mobile_number,addresses:V.addresses,family_members:V.family_members,emergency_contacts:V.emergency_contacts,financial_information:V.financial_information},at={reason_for_renewal:P.reasonForRenewal||null,financial_need_description:V.financial_need_description,requested_amount:V.requested_amount,marginalized_groups:V.marginalized_groups,digital_wallets:V.digital_wallets,wallet_account_number:V.wallet_account_number,how_did_you_know:V.how_did_you_know,is_school_at_caloocan:V.is_school_at_caloocan,notes:P.notes||null};I.student?.id&&(console.log("Updating student data:",I.student.id),await ot.updateStudent(I.student.id,Se),console.log("Student updated successfully")),Ne=await ot.updateApplication(I.id,at),console.log("Application updated successfully:",Ne)}else Ne=await ot.submitNewApplication(V),console.log("Application saved as draft successfully:",Ne);console.log("Result type:",typeof Ne),console.log("Result keys:",Ne?Object.keys(Ne):"result is null/undefined"),console.log("Student data:",Ne?.student)}catch(Se){console.error("API draft save error:",Se),console.error("Error details:",{message:Se instanceof Error?Se.message:String(Se),stack:Se instanceof Error?Se.stack:void 0,name:Se instanceof Error?Se.name:"Unknown"});const at=Se instanceof Error?Se.message:String(Se);if(at.includes("Duplicate entry")&&at.includes("citizen_id_unique"))throw new Error("A student record with this information already exists. Please contact support if you believe this is an error.");if(at.includes("Integrity constraint violation"))throw new Error("There was a data validation error. Please check your information and try again.");{const pt=M?"update":"save draft";throw new Error(`Failed to ${pt}: ${at}`)}}b(!0),A0()}catch(V){console.error(`Failed to ${M?"update":"save draft"}:`,V);const te=M?"update":"save draft",Ne=V instanceof Error?V.message:`Failed to ${te}. Please try again.`;x(Ne),X({message:`Submission Error: ${Ne}`,type:"error"})}finally{h(!1)}};return D||B?D?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4",children:e.jsx("h1",{className:"text-2xl font-bold text-white",children:"New Scholarship Application"})}),e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b",children:e.jsxs("button",{onClick:()=>t("/portal"),className:"text-gray-500 hover:text-orange-600 transition-colors text-sm flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Portal"]})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(Ut,{variant:"text",height:24,width:300,className:"mx-auto mb-2"}),e.jsx(Ut,{variant:"text",height:16,width:200,className:"mx-auto"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(Ab,{}),e.jsx(Ab,{})]})]})})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Access Restricted"})}),e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b",children:e.jsxs("button",{onClick:()=>t("/portal"),className:"text-gray-500 hover:text-orange-600 transition-colors text-sm flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Portal"]})}),e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-6",children:e.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"New Application Not Available"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"You currently have an active scholarship application that is being processed. Please wait for your current application to be reviewed before submitting a new one. If you have a draft application, you can edit it from your dashboard."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:()=>t("/scholarship-dashboard"),className:"bg-orange-500 text-white px-6 py-3 rounded-lg hover:bg-orange-600 transition-colors font-semibold",children:"View My Dashboard"}),e.jsx("div",{children:e.jsx("button",{onClick:()=>t("/portal"),className:"text-gray-600 hover:text-gray-800 underline",children:"Return to Portal"})})]})]})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[de&&e.jsx(jP,{message:de.message,type:de.type,onClose:()=>X(null)}),e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:M?"Edit Scholarship Application":"New Scholarship Application"}),e.jsx("p",{className:"text-orange-100 mt-1",children:M?"Update your application information and submit when ready":"Complete all sections to submit your application"})]}),e.jsx("button",{type:"button",onClick:()=>{window.confirm("Are you sure you want to clear all form data? This action cannot be undone.")&&(A0(),ke(),a(1),_(null),k(null),w(null),T("percentage"),R("school"),Ee())},className:"px-4 py-2 bg-white bg-opacity-20 text-white rounded-md hover:bg-opacity-30 transition-colors text-sm",children:"Clear Form"})]})}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",s," of 4"]}),e.jsx("div",{className:"w-64 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${s/4*100}%`}})})]}),e.jsx("nav",{className:"flex overflow-x-auto","aria-label":"Progress Steps",children:e.jsxs("ol",{className:"flex items-center space-x-2",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>Xe(1),className:`text-sm whitespace-nowrap transition-colors ${s===1?"text-orange-600 font-semibold":s>1?"text-green-600 font-medium hover:text-green-700":"text-gray-400 hover:text-gray-600"}`,children:"1. Personal Information"})}),e.jsx("li",{children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>Xe(2),className:`text-sm whitespace-nowrap transition-colors ${s===2?"text-orange-600 font-semibold":s>2?"text-green-600 font-medium hover:text-green-700":"text-gray-400 hover:text-gray-600"}`,children:"2. Family Information"})}),e.jsx("li",{children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>Xe(3),className:`text-sm whitespace-nowrap transition-colors ${s===3?"text-orange-600 font-semibold":s>3?"text-green-600 font-medium hover:text-green-700":"text-gray-400 hover:text-gray-600"}`,children:"3. Financial Information"})}),e.jsx("li",{children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>Xe(4),className:`text-sm whitespace-nowrap transition-colors ${s===4?"text-orange-600 font-semibold":s>4?"text-green-600 font-medium hover:text-green-700":"text-gray-400 hover:text-gray-600"}`,children:"4. Academic Information"})})]})})]}),m&&e.jsx("div",{className:"mx-6 mt-4 p-4 bg-red-50 border border-red-200 rounded-md",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:m})})]})]})}),e.jsxs("form",{onSubmit:Ie(ye,P=>{const V=Object.keys(P)[0],te=P[V]?.message||"Please check the form for errors.";X({message:`Validation Error: ${te}`,type:"error"}),console.log("Form validation failed:",P)}),className:"p-6",children:[s===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["PERSONAL INFORMATION ",e.jsx("span",{className:"text-gray-600 text-lg",children:"(Import from CaloocanCitizen ID)"})]}),e.jsx("a",{href:"#",className:"text-blue-600 hover:underline text-sm",children:"edit personal information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx(ct,{name:"lastName",control:z,rules:{required:"Last Name is required"},render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.lastName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx(ct,{name:"firstName",control:z,rules:{required:"First Name is required"},render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.firstName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),e.jsx(ct,{name:"middleName",control:z,render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Extension Name"}),e.jsx(ct,{name:"extensionName",control:z,render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"e.g., Jr., Sr., III",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[F==="school"?"Student ID":"LRN (Learner Reference Number)"," *"]}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"studentIdType",value:"school",checked:F==="school",onChange:()=>R("school"),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"School ID"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"studentIdType",value:"lrn",checked:F==="lrn",onChange:()=>R("lrn"),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"LRN"})]})]})}),e.jsx(ct,{name:"studentId",control:z,rules:{required:`${F==="school"?"Student ID":"LRN"} is required`,minLength:{value:F==="lrn"?10:1,message:F==="lrn"?"LRN must be at least 10 characters":"Student ID is required"}},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:F==="school"?"e.g., 2024-00123":"e.g., 123456789012",maxLength:F==="lrn"?12:void 0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:F==="school"?"Enter your school-issued student ID number":"Enter your 12-digit Learner Reference Number (LRN)"}),ie.studentId&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.studentId.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sex *"}),e.jsx(ct,{name:"sex",control:z,rules:{required:"Sex is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Sex"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})}),ie.sex&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.sex.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Civil Status *"}),e.jsx(ct,{name:"civilStatus",control:z,rules:{required:"Civil Status is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Married",children:"Married"}),e.jsx("option",{value:"Divorced",children:"Divorced"}),e.jsx("option",{value:"Widowed",children:"Widowed"})]})}),ie.civilStatus&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.civilStatus.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth *"}),e.jsx(ct,{name:"dateOfBirth",control:z,rules:{required:"Date of Birth is required"},render:({field:P})=>e.jsx("input",{...P,type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.dateOfBirth&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.dateOfBirth.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Religion *"}),e.jsx(ct,{name:"religion",control:z,rules:{required:"Religion is required"},render:({field:P})=>e.jsxs("select",{...P,onChange:V=>{P.onChange(V),G(V.target.value==="OTHERS, PLEASE SPECIFY")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Religion"}),e.jsx("option",{value:"ROMAN CATHOLIC",children:"Roman Catholic"}),e.jsx("option",{value:"ISLAM",children:"Islam"}),e.jsx("option",{value:"CHRISTIAN",children:"Christian"}),e.jsx("option",{value:"BORN AGAIN",children:"Born Again"}),e.jsx("option",{value:"IGLESIA NI CRISTO (INC)",children:"Iglesia ni Cristo (INC)"}),e.jsx("option",{value:"BIBLE BAPTIST",children:"Bible Baptist"}),e.jsx("option",{value:"7TH DAY ADVENTIST",children:"7th Day Adventist"}),e.jsx("option",{value:"AGLIPAY",children:"Aglipay"}),e.jsx("option",{value:"DATING DAAN",children:"Dating Daan"}),e.jsx("option",{value:"JEHOVA",children:"Jehova"}),e.jsx("option",{value:"OTHERS, PLEASE SPECIFY",children:"Others, please specify"})]})}),Z&&e.jsx(ct,{name:"religionOther",control:z,rules:{required:Z?"Please specify your religion":!1},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"Please specify your religion",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent mt-2"})}),ie.religion&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.religion.message)}),ie.religionOther&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.religionOther.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationality *"}),e.jsx(ct,{name:"nationality",control:z,rules:{required:"Nationality is required"},render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.nationality&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.nationality.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Birth Place *"}),e.jsx(ct,{name:"birthPlace",control:z,rules:{required:"Birth Place is required"},render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.birthPlace&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.birthPlace.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (cm)"}),e.jsx(ct,{name:"heightCm",control:z,render:({field:P})=>e.jsx("input",{...P,type:"number",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),e.jsx(ct,{name:"weightKg",control:z,render:({field:P})=>e.jsx("input",{...P,type:"number",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Are you a Person with Disability (PWD)? *"}),e.jsx("div",{className:"flex space-x-4",children:e.jsx(ct,{name:"isPwd",control:z,rules:{validate:P=>P===!0||P===!1?!0:"Please select PWD status"},render:({field:P})=>e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"isPwd",value:"true",checked:P.value===!0,onChange:()=>{P.onChange(!0),setTimeout(()=>re("isPwd"),10)},className:"mr-2"}),"YES"]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",name:"isPwd",value:"false",checked:P.value===!1,onChange:()=>{P.onChange(!1),setTimeout(()=>re("isPwd"),10)},className:"mr-2"}),"NO"]})]})})}),ie.isPwd&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.isPwd.message)})]}),Q&&e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"If PWD, Specify *"}),e.jsx(ct,{name:"pwdSpecification",control:z,rules:{required:Q?"PWD specification is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"SPECIFY",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.pwdSpecification&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.pwdSpecification.message)})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Present Address *"}),e.jsx(ct,{name:"presentAddress",control:z,rules:{required:"Present Address is required"},render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.presentAddress&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.presentAddress.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Barangay *"}),e.jsx(ct,{name:"barangay",control:z,rules:{required:"Barangay is required"},render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.barangay&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.barangay.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"District *"}),e.jsx(ct,{name:"district",control:z,rules:{required:"District is required"},render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.district&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.district.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),e.jsx(ct,{name:"city",control:z,rules:{required:"City is required"},render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.city&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.city.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zip Code *"}),e.jsx(ct,{name:"zipCode",control:z,rules:{required:"Zip Code is required",maxLength:{value:20,message:"Zip Code must not exceed 20 characters"}},render:({field:P})=>e.jsx("input",{...P,type:"text",maxLength:20,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.zipCode&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.zipCode.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Active Contact Number *"}),e.jsx(ct,{name:"contactNumber",control:z,rules:{required:"Contact Number is required"},render:({field:P})=>e.jsx("input",{...P,type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.contactNumber&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.contactNumber.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Active Email Address *"}),e.jsx(ct,{name:"emailAddress",control:z,rules:{required:"Email Address is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email format"}},render:({field:P})=>e.jsx("input",{...P,type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.emailAddress&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.emailAddress.message)})]})]})]}),s===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"PARENT/GUARDIAN & EMERGENCY CONTACT INFORMATION"}),e.jsx("a",{href:"#",className:"text-blue-600 hover:underline text-sm",children:"edit personal information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"col-span-full",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Mother's Information (Maiden Name)"})}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Status *"}),e.jsx(ct,{name:"isMotherAvailable",control:z,rules:{required:"Please indicate your mother's status"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"yes",children:"Living"}),e.jsx("option",{value:"no",children:"Deceased"}),e.jsx("option",{value:"no_contact",children:"No Contact / Unknown"})]})}),ie.isMotherAvailable&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.isMotherAvailable.message)})]}),ve==="yes"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx(ct,{name:"motherFirstName",control:z,rules:{required:ve==="yes"?"Mother's First Name is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.motherFirstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.motherFirstName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx(ct,{name:"motherLastName",control:z,rules:{required:ve==="yes"?"Mother's Last Name is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.motherLastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.motherLastName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),e.jsx(ct,{name:"motherMiddleName",control:z,render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Extension Name"}),e.jsx(ct,{name:"motherExtensionName",control:z,render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"e.g., Jr., Sr.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number *"}),e.jsx(ct,{name:"motherContactNumber",control:z,rules:{required:ve==="yes"?"Mother's Contact Number is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"tel",placeholder:"e.g., 09171234567",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.motherContactNumber&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.motherContactNumber.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupation *"}),e.jsx(ct,{name:"motherOccupation",control:z,rules:{required:ve==="yes"?"Mother's Occupation is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"e.g., Teacher, Housewife",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.motherOccupation&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.motherOccupation.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Income *"}),e.jsx(ct,{name:"motherMonthlyIncome",control:z,rules:{required:ve==="yes"?"Mother's Monthly Income is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"number",min:"0",step:"0.01",placeholder:"e.g., 15000 (Enter 0 if not applicable)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.motherMonthlyIncome&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.motherMonthlyIncome.message)})]})]}),e.jsx("div",{className:"col-span-full mt-6",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Father's Information"})}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Status *"}),e.jsx(ct,{name:"isFatherAvailable",control:z,rules:{required:"Please indicate your father's status"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"yes",children:"Living"}),e.jsx("option",{value:"no",children:"Deceased"}),e.jsx("option",{value:"no_contact",children:"No Contact / Unknown"})]})}),ie.isFatherAvailable&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.isFatherAvailable.message)})]}),Ze==="yes"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx(ct,{name:"fatherFirstName",control:z,rules:{required:Ze==="yes"?"Father's First Name is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.fatherFirstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.fatherFirstName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx(ct,{name:"fatherLastName",control:z,rules:{required:Ze==="yes"?"Father's Last Name is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.fatherLastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.fatherLastName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Middle Name"}),e.jsx(ct,{name:"fatherMiddleName",control:z,render:({field:P})=>e.jsx("input",{...P,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Extension Name"}),e.jsx(ct,{name:"fatherExtensionName",control:z,render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"e.g., Jr., Sr., III",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number *"}),e.jsx(ct,{name:"fatherContactNumber",control:z,rules:{required:Ze==="yes"?"Father's Contact Number is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"tel",placeholder:"e.g., 09171234567",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.fatherContactNumber&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.fatherContactNumber.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupation *"}),e.jsx(ct,{name:"fatherOccupation",control:z,rules:{required:Ze==="yes"?"Father's Occupation is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"e.g., Driver, Engineer",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.fatherOccupation&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.fatherOccupation.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Income *"}),e.jsx(ct,{name:"fatherMonthlyIncome",control:z,rules:{required:Ze==="yes"?"Father's Monthly Income is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"number",min:"0",step:"0.01",placeholder:"e.g., 20000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.fatherMonthlyIncome&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.fatherMonthlyIncome.message)})]})]}),e.jsxs("div",{className:"col-span-full mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Emergency Contact Information"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Person to contact in case of emergency (if different from parents)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx(ct,{name:"emergencyContactName",control:z,rules:{required:"Emergency Contact Name is required"},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"e.g., Juan Dela Cruz",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.emergencyContactName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.emergencyContactName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number *"}),e.jsx(ct,{name:"emergencyContactNumber",control:z,rules:{required:"Emergency Contact Number is required"},render:({field:P})=>e.jsx("input",{...P,type:"tel",placeholder:"e.g., 09171234567",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.emergencyContactNumber&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.emergencyContactNumber.message)})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relationship to Student *"}),e.jsx(ct,{name:"emergencyContactRelationship",control:z,rules:{required:"Relationship is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Relationship"}),e.jsx("option",{value:"Parent",children:"Parent"}),e.jsx("option",{value:"Sibling",children:"Sibling"}),e.jsx("option",{value:"Aunt/Uncle",children:"Aunt/Uncle"}),e.jsx("option",{value:"Grandparent",children:"Grandparent"}),e.jsx("option",{value:"Guardian",children:"Guardian"}),e.jsx("option",{value:"Other Relative",children:"Other Relative"}),e.jsx("option",{value:"Friend",children:"Friend"})]})}),ie.emergencyContactRelationship&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.emergencyContactRelationship.message)})]})]})]}),s===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Socio-Economic & Financial Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"col-span-full",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Student Employment Status"})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Are you (the student) currently working or employed? *",e.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(Part-time or full-time)"})]}),e.jsx(ct,{name:"isStudentEmployed",control:z,rules:{required:"Student employment status is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Option"}),e.jsx("option",{value:"yes",children:"Yes"}),e.jsx("option",{value:"no",children:"No"})]})}),ie.isStudentEmployed&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.isStudentEmployed.message)})]}),ht==="yes"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Occupation/Job *"}),e.jsx(ct,{name:"studentOccupation",control:z,rules:{required:ht==="yes"?"Student occupation is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"e.g., Sales Associate, Cashier",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.studentOccupation&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.studentOccupation.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Monthly Income *"}),e.jsx(ct,{name:"studentMonthlyIncome",control:z,rules:{required:ht==="yes"?"Student monthly income is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"number",min:"0",step:"0.01",placeholder:"e.g., 5000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.studentMonthlyIncome&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.studentMonthlyIncome.message)})]})]}),e.jsxs("div",{className:"col-span-full mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Family Income"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Combined income of all family members (parents, guardians, etc.)"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Family Monthly Income Range *"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"This will be used if individual family member incomes are not provided above"}),e.jsx(ct,{name:"totalFamilyMonthlyIncome",control:z,rules:{required:"Total family monthly income is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Income Range"}),e.jsx("option",{value:"Below 5,000",children:"Below 5,000"}),e.jsx("option",{value:"5,000-10,000",children:"5,000 - 10,000"}),e.jsx("option",{value:"10,000-15,000",children:"10,000 - 15,000"}),e.jsx("option",{value:"15,000-20,000",children:"15,000 - 20,000"}),e.jsx("option",{value:"20,000-30,000",children:"20,000 - 30,000"}),e.jsx("option",{value:"30,000-50,000",children:"30,000 - 50,000"}),e.jsx("option",{value:"Above 50,000",children:"Above 50,000"})]})}),ie.totalFamilyMonthlyIncome&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.totalFamilyMonthlyIncome.message)})]}),e.jsx("div",{className:"col-span-full mt-6",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Family Information"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Siblings *"}),e.jsx(ct,{name:"numberOfSiblings",control:z,rules:{required:"Number of Siblings is required"},render:({field:P})=>e.jsx("input",{...P,type:"number",min:"0",placeholder:"e.g., 3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.numberOfSiblings&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.numberOfSiblings.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"How many siblings are currently enrolled in school? *"}),e.jsx(ct,{name:"numberOfSiblingsInSchool",control:z,rules:{required:"Number of siblings in school is required"},render:({field:P})=>e.jsx("input",{...P,type:"number",min:"0",placeholder:"e.g., 2",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.numberOfSiblingsInSchool&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.numberOfSiblingsInSchool.message)})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Home Ownership Status *"}),e.jsx(ct,{name:"homeOwnershipStatus",control:z,rules:{required:"Home Ownership Status is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"owned",children:"Owned"}),e.jsx("option",{value:"rented",children:"Rented"}),e.jsx("option",{value:"living_with_relatives",children:"Living with relatives"}),e.jsx("option",{value:"boarding_house",children:"Boarding house"}),e.jsx("option",{value:"informal_settlers",children:"Informal Settlers"}),e.jsx("option",{value:"others",children:"Others"})]})}),ie.homeOwnershipStatus&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.homeOwnershipStatus.message)})]}),e.jsxs("div",{className:"col-span-full mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Marginalized Groups & Government Benefits"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please indicate if you belong to any of the following groups:"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Are you a Solo Parent? *"}),e.jsx(ct,{name:"isSoloParent",control:z,rules:{required:"Solo Parent status is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Option"}),e.jsx("option",{value:"yes",children:"YES"}),e.jsx("option",{value:"no",children:"NO"})]})}),ie.isSoloParent&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.isSoloParent.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Are you a member of an Indigenous Group? *"}),e.jsx(ct,{name:"isIndigenousGroup",control:z,rules:{required:"Indigenous Group status is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Option"}),e.jsx("option",{value:"yes",children:"YES"}),e.jsx("option",{value:"no",children:"NO"})]})}),ie.isIndigenousGroup&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.isIndigenousGroup.message)})]}),Qe==="yes"&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Specify Indigenous Group Name *"}),e.jsx(ct,{name:"indigenousGroupName",control:z,rules:{required:Qe==="yes"?"Indigenous group name is required":!1},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"e.g., Aeta, Igorot, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.indigenousGroupName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.indigenousGroupName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Are you a 4Ps Beneficiary? *"}),e.jsx(ct,{name:"is4PsBeneficiary",control:z,rules:{required:"4Ps beneficiary status is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Option"}),e.jsx("option",{value:"yes",children:"YES"}),e.jsx("option",{value:"no",children:"NO"})]})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pantawid Pamilyang Pilipino Program"}),ie.is4PsBeneficiary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.is4PsBeneficiary.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Are you a registered voter in Quezon City? *"}),e.jsx(ct,{name:"isRegisteredVoter",control:z,rules:{required:"Registered Voter status is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Option"}),e.jsx("option",{value:"yes",children:"YES"}),e.jsx("option",{value:"no",children:"NO"})]})}),ie.isRegisteredVoter&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.isRegisteredVoter.message)})]}),e.jsx("div",{className:"col-span-full mt-6",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Financial Need & Scholarship Amount"})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Describe your financial need *"}),e.jsx(ct,{name:"financialNeedDescription",control:z,rules:{required:"Financial need description is required",minLength:{value:20,message:"Please provide at least 20 characters"},maxLength:{value:500,message:"Description must not exceed 500 characters"}},render:({field:P})=>e.jsx("textarea",{...P,rows:4,placeholder:"Please explain why you need financial assistance for your education. Include details about your family's financial situation, challenges, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Pe("financialNeedDescription")?.length||0," / 500 characters (minimum 20)"]}),ie.financialNeedDescription&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.financialNeedDescription.message)})]}),e.jsxs("div",{className:"col-span-full mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Scholarship Disbursement Method"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"How would you like to receive the scholarship funds?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),e.jsx(ct,{name:"paymentMethod",control:z,rules:{required:"Payment method is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Payment Method"}),e.jsx("option",{value:"GCash",children:"GCash"}),e.jsx("option",{value:"PayMaya",children:"PayMaya"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Cash",children:"Cash (Over-the-counter)"})]})}),ie.paymentMethod&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.paymentMethod.message)})]}),et&&et!=="Cash"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number / Mobile Number *"}),e.jsx(ct,{name:"accountNumber",control:z,rules:{required:et!=="Cash"?"Account number is required":!1,minLength:{value:10,message:"Account number must be at least 10 digits"}},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:et==="Bank Transfer"?"Enter bank account number":"Enter mobile number (09xxxxxxxxx)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.accountNumber&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.accountNumber.message)})]})]})]}),s===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Scholarship and Enrollment Information"}),v&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ut,{variant:"text",height:24,width:250}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Array.from({length:6}).map((P,V)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ut,{variant:"text",height:14,width:100}),e.jsx(Ut,{variant:"rectangular",height:40})]},V))})]}),!v&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"col-span-full",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Scholarship Information"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scholarship Category *"}),e.jsx(ct,{name:"scholarshipCategory",control:z,rules:{required:"Scholarship Category is required"},render:({field:P})=>e.jsxs("select",{...P,onChange:V=>{P.onChange(V);const te=parseInt(V.target.value);_(te),k(null)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Scholarship Category"}),Array.isArray(l)&&l.map(V=>e.jsx("option",{value:V.id,children:V.name},V.id))]})}),ie.scholarshipCategory&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.scholarshipCategory.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scholarship Subcategory *"}),e.jsx(ct,{name:"scholarshipSubCategory",control:z,rules:{required:"Scholarship Subcategory is required"},render:({field:P})=>e.jsxs("select",{...P,onChange:V=>{P.onChange(V);const te=parseInt(V.target.value);k(te)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",disabled:!N,children:[e.jsx("option",{value:"",children:"Select Subcategory"}),N&&Array.isArray(l)&&l.find(V=>V.id===N)?.subcategories?.map(V=>e.jsx("option",{value:V.id,children:V.name},V.id))]})}),ie.scholarshipSubCategory&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.scholarshipSubCategory.message)})]}),S&&e.jsx("div",{className:"col-span-full",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Scholarship Details"}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Amount:"})," ",l.find(P=>P.subcategories?.some(V=>V.id===S))?.subcategories?.find(P=>P.id===S)?.amount?.toLocaleString()||"0"]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"This is the predetermined amount for the selected scholarship subcategory."})]})}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"How did you hear about this scholarship program? *"}),e.jsx(ct,{name:"howDidYouKnow",control:z,rules:{required:"Please select at least one option",validate:P=>Array.isArray(P)&&P.length===0?"Please select at least one option":!0},render:({field:P})=>e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["Social Media","School Announcement","Friend/Family","Barangay Official","Website","Other"].map(V=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",value:V,checked:P.value?.includes(V)||!1,onChange:te=>{const Ne=P.value||[];te.target.checked?P.onChange([...Ne,V]):P.onChange(Ne.filter(Se=>Se!==V))},className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:V})]},V))})}),ie.howDidYouKnow&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.howDidYouKnow.message)})]}),e.jsx("div",{className:"col-span-full mt-6",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Current School Information"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Educational Level *"}),e.jsx(ct,{name:"educationalLevel",control:z,rules:{required:"Educational Level is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"TERTIARY/COLLEGE",children:"TERTIARY/COLLEGE"}),e.jsx("option",{value:"SENIOR HIGH SCHOOL",children:"SENIOR HIGH SCHOOL"}),e.jsx("option",{value:"VOCATIONAL",children:"VOCATIONAL"})]})}),ie.educationalLevel&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.educationalLevel.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Is Current School at Caloocan? *"}),e.jsx(ct,{name:"isSchoolAtCaloocan",control:z,rules:{required:"School location is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"YES",children:"YES"}),e.jsx("option",{value:"NO",children:"NO"})]})}),ie.isSchoolAtCaloocan&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.isSchoolAtCaloocan.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name of School *"}),e.jsx(ct,{name:"schoolName",control:z,rules:{required:"School Name is required"},render:({field:P})=>e.jsxs("select",{...P,onChange:V=>{P.onChange(V);const te=V.target.value;w(te),xe("campus","")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select School"}),Array.isArray(n)&&n.reduce((V,te)=>(V.find(Ne=>Ne.name===te.name)||V.push(te),V),[]).map(V=>e.jsx("option",{value:V.name,children:V.name},V.id))]})}),ie.schoolName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.schoolName.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campus *"}),e.jsx(ct,{name:"campus",control:z,rules:{required:"Campus is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Campus"}),y&&Array.isArray(n)&&n.filter(V=>V.name===y).map((V,te)=>e.jsx("option",{value:V.campus,children:V.campus},`${V.id}-${te}`))]})}),ie.campus&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.campus.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Units Currently Enrolled *"}),e.jsx(ct,{name:"unitsEnrolled",control:z,rules:{required:"Units Enrolled is required"},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"Write N/A if Senior High School Student",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.unitsEnrolled&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.unitsEnrolled.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Grade/Year Level *"}),e.jsx(ct,{name:"gradeYearLevel",control:z,rules:{required:"Grade/Year Level is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Grade/Year Level"}),e.jsx("option",{value:"1st Year",children:"1st Year"}),e.jsx("option",{value:"2nd Year",children:"2nd Year"}),e.jsx("option",{value:"3rd Year",children:"3rd Year"}),e.jsx("option",{value:"4th Year",children:"4th Year"}),e.jsx("option",{value:"5th Year",children:"5th Year"}),e.jsx("option",{value:"Grade 11",children:"Grade 11"}),e.jsx("option",{value:"Grade 12",children:"Grade 12"})]})}),ie.gradeYearLevel&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.gradeYearLevel.message)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[K==="SENIOR HIGH SCHOOL"?"Track/Strand":K==="VOCATIONAL"?"Course/Program":"Degree Program"," *"]}),e.jsx(ct,{name:"courseProgram",control:z,rules:{required:`${K==="SENIOR HIGH SCHOOL"?"Track/Strand":"Degree Program"} is required`},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:K==="SENIOR HIGH SCHOOL"?"e.g., STEM, ABM, HUMSS, etc.":K==="VOCATIONAL"?"e.g., Automotive Servicing, Cookery, etc.":"e.g., BS Computer Science, AB Psychology, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:K==="SENIOR HIGH SCHOOL"?"Enter your SHS track/strand":K==="VOCATIONAL"?"Enter your vocational course":"Enter your college degree program"}),ie.courseProgram&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.courseProgram.message)})]}),K==="TERTIARY/COLLEGE"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Major/Specialization"}),e.jsx(ct,{name:"major",control:z,render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"e.g., Software Engineering, Clinical Psychology (Leave blank if not applicable)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Enter your major or area of specialization if applicable"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Term/Semester *"}),e.jsx(ct,{name:"schoolTerm",control:z,rules:{required:"School Term/Semester is required"},render:({field:P})=>e.jsxs("select",{...P,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Term"}),e.jsx("option",{value:"1st Semester",children:"1st Semester"}),e.jsx("option",{value:"2nd Semester",children:"2nd Semester"}),e.jsx("option",{value:"Summer",children:"Summer"})]})}),ie.schoolTerm&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.schoolTerm.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Year *"}),e.jsx(ct,{name:"schoolYear",control:z,rules:{required:"School Year is required"},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"e.g., 2023-2024",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.schoolYear&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.schoolYear.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Units Completed *"}),e.jsx(ct,{name:"unitsCompleted",control:z,rules:{required:"Units Completed is required",validate:P=>!P||P.trim()===""?"Units Completed is required":P!=="N/A"&&isNaN(parseInt(P))?"Please enter a valid number or N/A":!0},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"Write N/A if Senior High School Student",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.unitsCompleted&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.unitsCompleted.message)})]}),e.jsxs("div",{className:"col-span-full mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Previous School Information"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"For transferees or if different from current school"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Previous School Name *"}),e.jsx(ct,{name:"previousSchool",control:z,rules:{required:"Previous School Name is required"},render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"e.g., ABC High School (Write N/A if not applicable)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter your previous school name, or N/A if not applicable"}),ie.previousSchool&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.previousSchool.message)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Previous School Address"}),e.jsx(ct,{name:"previousSchoolAddress",control:z,render:({field:P})=>e.jsx("input",{...P,type:"text",placeholder:"Optional: City/Municipality where previous school is located",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})})]}),e.jsx("div",{className:"col-span-full mt-6",children:e.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4 border-b pb-2",children:"Academic Performance"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"General Weighted Average *"}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"gwaFormat",value:"percentage",checked:E==="percentage",onChange:()=>T("percentage"),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Percentage (0-100)"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"gwaFormat",value:"gwa",checked:E==="gwa",onChange:()=>T("gwa"),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"GWA (1.00-5.00)"})]})]})}),e.jsx(ct,{name:"generalWeightedAverage",control:z,rules:{required:"General Weighted Average is required",validate:P=>{if(!P)return!0;const V=parseFloat(P);if(isNaN(V))return"Please enter a valid number";if(E==="percentage"){if(V<0||V>100)return"Percentage must be between 0 and 100"}else if(V<1||V>5)return"GWA must be between 1.00 and 5.00";return!0}},render:({field:P})=>e.jsx("input",{...P,type:"number",step:E==="percentage"?"0.01":"0.25",min:E==="percentage"?"0":"1.00",max:E==="percentage"?"100":"5.00",placeholder:E==="percentage"?"e.g., 96":"e.g., 1.25",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})}),ie.generalWeightedAverage&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:String(ie.generalWeightedAverage.message)}),E==="percentage"&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Will be converted to GWA scale (1.00-5.00, where 1.00 is highest)"})]})]})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx("button",{type:"button",onClick:()=>a(Math.max(1,s-1)),disabled:s===1,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s<4?e.jsx("button",{type:"button",onClick:async P=>{P.preventDefault(),P.stopPropagation(),console.log("Next button clicked, current step:",s,"isEditMode:",M);const V=await pe(s);if(console.log("Validation result:",V),V)a(s+1);else{console.log("Validation failed, staying on step:",s);const Ne=(ne[s]||[]).find(at=>ie[at]),Se=Ne?ie[Ne]?.message:"Please check the required fields.";X({message:`Validation Error: ${Se}`,type:"error"})}},className:"px-6 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600",children:"Next"}):e.jsxs("button",{type:"submit",disabled:u,className:`px-6 py-2 text-white rounded-md flex items-center ${u?"bg-gray-400 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600"}`,children:[u&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u?"Saving":"Save Draft"]})]})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-10 mx-auto p-6 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Draft Saved Successfully!"}),e.jsxs("div",{className:"mt-2 px-7 py-3",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Your application has been saved as a draft. Please upload the required documents and submit when ready."}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-md",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800",children:" Important: Upload Required Documents"}),e.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"To complete your application, you need to upload the required documents through your dashboard. Your application will not be processed until all documents are uploaded."}),e.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:[e.jsx("p",{children:e.jsx("strong",{children:"Required documents:"})}),e.jsxs("ul",{className:"mt-1 ml-4 list-disc text-left space-y-1",children:[e.jsx("li",{children:"Birth Certificate (PSA/NSO authenticated copy)"}),e.jsx("li",{children:"Transcript of Records (Latest)"}),e.jsx("li",{children:"Certificate of Good Moral Character"}),e.jsx("li",{children:"Income Certificate"}),e.jsx("li",{children:"Barangay Certificate"}),e.jsx("li",{children:"Valid ID (Government-issued)"}),e.jsx("li",{children:"Proof of Residency"})]})]})]})]})})]}),e.jsx("div",{className:"items-center px-4 py-3",children:e.jsx("button",{onClick:()=>{b(!1),t("/scholarship-dashboard")},className:"px-4 py-2 bg-orange-500 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-300",children:"Go to Dashboard"})})]})})})]})},Y8=()=>{const[t,r]=f.useState({username:"",password:""}),[s,a]=f.useState(!1),{login:n,error:i,clearError:l}=Lt(),c=Lt(y=>y.currentUser),u=Lt(y=>y.isLoading),h=$a(),x=La().state?.from?.pathname;if(f.useEffect(()=>{!u&&c&&(c.role==="admin"||c.role==="staff"||String(c.role).startsWith("ssc")?h("/admin",{replace:!0}):h(x||"/",{replace:!0}))},[c,u,h,x]),u||c)return u?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Ut,{variant:"circular",width:48,height:48,className:"mx-auto mb-4"}),e.jsx(Ut,{variant:"text",height:32,width:200,className:"mx-auto"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(nS,{}),e.jsx(nS,{}),e.jsx(Cb,{width:"100%"})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx(Ut,{variant:"text",height:16,className:"mb-2"}),e.jsx(Ut,{variant:"text",height:16,width:"90%"})]}),e.jsx("div",{className:"text-center",children:e.jsx(Cb,{width:150,className:"mx-auto"})})]})}):null;const g=y=>{const{name:w,value:N}=y.target;r(_=>({..._,[w]:N})),i&&l()},b=async y=>{y.preventDefault(),a(!0),l();const w=await n(t.username,t.password);if(a(!1),!w)return;const N=Lt.getState().currentUser?.role;if(N==="admin"){h("/admin",{replace:!0});return}if(N==="staff"){h("/admin",{replace:!0});return}h(x||"/",{replace:!0})};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(tS,{className:"w-12 h-12 text-orange-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"System Login"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username or Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Jt,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors duration-200",placeholder:"Enter your username or email address",value:t.username,onChange:g})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(kn,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors duration-200",placeholder:"Enter your password",value:t.password,onChange:g})]})]}),i&&e.jsx("p",{className:"text-sm text-red-600",children:i}),e.jsxs(Aa,{type:"submit",className:"w-full",disabled:s,children:[e.jsx(tS,{className:"h-4 w-4 mr-2"}),s?"Signing In...":"Sign In"]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," This login is for system users only. New scholarship applicants should use the public application form."]})}),e.jsx("div",{className:"text-center",children:e.jsx(fu,{to:"/",children:e.jsx(Aa,{variant:"outline",children:"Back to Home"})})})]})})},K8=[{name:"trash",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14z"/></svg>'},{name:"send",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/></svg>'},{name:"home",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><path d="M9 22V12h6v10"/></svg>'},{name:"flag",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" y1="22" x2="4" y2="15"/></svg>'},{name:"lock",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>'},{name:"bell",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>'},{name:"mail",svg:'<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>'}],PS=["#9b87c7","#7fa99b","#c7a87f","#87a7c7","#c79b87"],ES=({isOpen:t,onClose:r,onVerified:s})=>{const[a,n]=f.useState([]),[i,l]=f.useState([]),[c,u]=f.useState([]),[h,m]=f.useState(new Set),[x,g]=f.useState(!1);f.useEffect(()=>{t&&b()},[t]);const b=()=>{u([]),m(new Set),g(!1);const _=[...K8].sort(()=>Math.random()-.5).slice(0,5),S=_.map((A,E)=>({id:E,name:A.name,svg:A.svg,x:10+Math.random()*70,y:10+Math.random()*70,rotation:Math.random()*360}));n(S);const k=3+Math.floor(Math.random()*2),v=[..._].sort(()=>Math.random()-.5).slice(0,k).map(A=>A.name);l(v)},y=N=>{if(h.has(N.id))return;const _=[...c,N.name],S=new Set(h).add(N.id);if(u(_),m(S),!_.every((v,A)=>v===i[A])){g(!0),setTimeout(()=>{b()},1e3);return}_.length===i.length&&setTimeout(()=>{s(),r()},500)},w=N=>({trash:"Trash",send:"Send",home:"Home",flag:"Flag",lock:"Lock",bell:"Bell",mail:"Mail"})[N]||N;return t?e.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 relative",children:[e.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(wt,{size:24})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Security Verification"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-gray-700 font-medium mb-2",children:"Click in order:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:i.map((N,_)=>e.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium transition-all ${c[_]?"bg-green-100 text-green-700 border border-green-300":"bg-gray-100 text-gray-700 border border-gray-300"}`,children:[e.jsxs("span",{className:"font-bold",children:[_+1,"."]}),e.jsx("span",{children:w(N)})]},_))})]})]}),e.jsxs("div",{className:"relative w-full h-64 bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg border-2 border-gray-300 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:'url("data:image/svg+xml,%3Csvg width="100" height="100" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="noise"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" /%3E%3C/filter%3E%3Crect width="100" height="100" filter="url(%23noise)" opacity="0.4"/%3E%3C/svg%3E")'}}),a.map((N,_)=>{const S=h.has(N.id),k=PS[_%PS.length];return e.jsx("button",{onClick:()=>y(N),disabled:S,className:`absolute transition-all duration-300 ${S?"opacity-30 scale-90":"hover:scale-110 cursor-pointer"} ${x&&!S?"animate-shake":""}`,style:{left:`${N.x}%`,top:`${N.y}%`,transform:`translate(-50%, -50%) rotate(${N.rotation}deg)`,color:k,width:"48px",height:"48px"},children:e.jsx("div",{dangerouslySetInnerHTML:{__html:N.svg}})},N.id)})]}),x&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-3 text-center",children:e.jsx("p",{className:"text-sm text-red-600 font-medium",children:" Wrong order! Try again..."})}),e.jsx("button",{onClick:b,className:"mt-4 w-full py-2 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:" Generate New Challenge"})]}),e.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translate(-50%, -50%) translateX(0); }
          25% { transform: translate(-50%, -50%) translateX(-5px); }
          75% { transform: translate(-50%, -50%) translateX(5px); }
        }
        .animate-shake {
          animation: shake 0.3s ease-in-out;
        }
      `})]}):null},J8={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},X8=()=>{const[t,r]=f.useState(""),[s,a]=f.useState(""),[n,i]=f.useState(!1),[l,c]=f.useState(!1),[u,h]=f.useState(!1),[m,x]=f.useState(!1),[g,b]=f.useState(!1),[y,w]=f.useState(!1),[N,_]=f.useState(!1),[S,k]=f.useState(!1),[v,A]=f.useState(null),[E,T]=f.useState({mobile:"",birthdate:"",address:"",houseNumber:"",street:"",barangay:""}),[F,R]=f.useState(600),[D,$]=f.useState(["","","","","",""]),[B,H]=f.useState(""),[I,L]=f.useState("registration"),[M,q]=f.useState(!1),[Z,G]=f.useState(!1),[de,X]=f.useState(!1),[z,Ie]=f.useState(""),[ie,Pe]=f.useState("info"),[re,Ee]=f.useState(!1),[ke,xe]=f.useState({firstName:"",lastName:"",middleName:"",suffix:"",birthdate:"",regEmail:"",mobile:"",address:"",houseNumber:"",street:"",barangay:"",regPassword:"",confirmPassword:"",noMiddleName:!1}),[Q,et]=f.useState({length:!1,upper:!1,lower:!1,number:!1,special:!1}),ve=(ue,ze="info")=>{Ie(ue),Pe(ze),Ee(!0),setTimeout(()=>{Ee(!1)},4e3)},{login:Ze,loginWithOtp:Qe,register:ht,googleLogin:K,googleRegister:ne,error:pe,clearError:Xe}=Lt(),ee=Lt(ue=>ue.currentUser),he=Lt(ue=>ue.isLoading),[W,ye]=f.useState(!1),P=$a(),[V,te]=f.useState(new Date().toLocaleString()),[Ne,Se]=f.useState(!1),[at,pt]=f.useState(!1),[se,He]=f.useState(!1),[qe,J]=f.useState(!1),[ce,$e]=f.useState(!1);if(f.useEffect(()=>{const ue=setInterval(()=>te(new Date().toLocaleString()),1e3);return()=>clearInterval(ue)},[]),f.useEffect(()=>{const ue=()=>{window.google&&Se(!0)};ue();const ze=setInterval(ue,300);return()=>clearInterval(ze)},[]),f.useEffect(()=>{if(!he&&ee){const ue=String(ee.role);ue==="admin"||ue==="staff"||ue.startsWith("ssc")?P("/admin",{replace:!0}):ue==="ps_rep"?P("/partner-school",{replace:!0}):P("/portal",{replace:!0})}},[ee,he,P]),f.useEffect(()=>{pe&&(pe.toLowerCase().includes("password")||pe.toLowerCase().includes("invalid credentials"))&&(ve(pe,"error"),Xe())},[pe,Xe]),he||ee)return e.jsxs("div",{className:"min-h-screen bg-app flex flex-col",children:[e.jsx("header",{className:"py-2 bg-white/90 backdrop-blur sticky top-0 z-20 border-b border-gray-100",children:e.jsx("div",{className:"mx-auto px-6 max-w-7xl",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Ut,{variant:"circular",width:64,height:64}),e.jsx(Ut,{variant:"text",height:36,width:200})]}),e.jsx(Ut,{variant:"text",height:20,width:150})]})})}),e.jsx("main",{className:"mx-auto px-6 pt-4 pb-12 flex-1 max-w-7xl flex items-center justify-center",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 place-items-center text-center lg:text-left w-full",children:[e.jsxs("div",{className:"py-12 px-4 w-full",children:[e.jsx(Ut,{variant:"text",height:48,className:"mb-4"}),e.jsx(Ut,{variant:"text",height:48,width:"80%"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-auto w-full",children:e.jsxs("div",{className:"space-y-5",children:[e.jsx(Ut,{variant:"rectangular",height:48}),e.jsx(Ut,{variant:"rectangular",height:48}),e.jsx(Ut,{variant:"rectangular",height:48}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"OR"})})]}),e.jsx(Ut,{variant:"rectangular",height:48}),e.jsx(Ut,{variant:"text",height:16,className:"text-center"})]})})]})}),e.jsx("footer",{className:"bg-primary-600 text-white py-4 mt-8",children:e.jsx("div",{className:"mx-auto px-6 max-w-7xl",children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center",children:[e.jsxs("div",{className:"text-center lg:text-left mb-2 lg:mb-0 space-y-2",children:[e.jsx(Ut,{variant:"text",height:20,width:300,className:"bg-primary-500"}),e.jsx(Ut,{variant:"text",height:14,width:250,className:"bg-primary-500"})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsx(Ut,{variant:"text",height:14,width:150,className:"bg-primary-500"})})]})})})]});const nt=async ue=>{ue.preventDefault(),i(!0),Xe();const ze=await Ze(t,s,null);if(i(!1),ze)ye(!0),setTimeout(()=>{const fe=String(Lt.getState().currentUser?.role);fe==="admin"||fe==="staff"||fe.startsWith("ssc")?P("/admin",{replace:!0}):fe==="ps_rep"?P("/partner-school",{replace:!0}):P("/portal",{replace:!0})},1500);else{const fe=Lt.getState().error;if(fe&&fe.startsWith("OTP_REQUIRED|")){const[,Ge]=fe.split("|");H(Ge),L("login"),h(!0),Tt(),le("OTP sent to your email. Please verify to complete login.","info")}}},qt=async()=>{try{if(!qe){pt(!0);return}if(console.log("Environment check:",{VITE_GOOGLE_CLIENT_ID:void 0,NODE_ENV:void 0,MODE:"production"}),!window.google){console.error("Google OAuth not loaded");return}if(window.google){const ue="855545694637-gi7vtpce9f672hn7me86ugvv2nc8jp1q.apps.googleusercontent.com";window.google.accounts.oauth2.initCodeClient({client_id:ue,scope:"email profile",ux_mode:"popup",redirect_uri:window.location.origin,callback:Gt}).requestCode()}else console.error("Google OAuth not loaded"),le("Google OAuth not available. Please try again.","error")}catch(ue){console.error("Google login error:",ue),le("Google login failed. Please try again.","error")}},Gt=async ue=>{try{if(console.log("Google OAuth response received:",ue),await K(ue.code,"captcha-verified"))ye(!0),setTimeout(()=>{const fe=String(Lt.getState().currentUser?.role);fe==="admin"||fe==="staff"?P("/admin",{replace:!0}):fe==="ps_rep"?P("/partner-school",{replace:!0}):P("/portal",{replace:!0})},1500);else{const fe=Lt.getState().error;if(fe&&fe.startsWith("NOT_REGISTERED|")){const[,Ge,tt,rt]=fe.split("|");A({email:Ge,firstName:tt,lastName:rt,code:ue.code});const oe=Lt.getState().additionalInfo||{};T({mobile:oe.mobile||"",birthdate:oe.birthdate||"",address:oe.address||"",houseNumber:oe.houseNumber||"",street:oe.street||"",barangay:oe.barangay||""}),k(!0),c(!1),le("Google account not registered. Please complete registration.","info")}else le("Google login failed. Please try again.","error")}}catch(ze){console.error("Google callback error:",ze),le("Google login failed. Please try again.","error")}},Ce=async ue=>{if(ue.preventDefault(),!ce){He(!0);return}const fe=["firstName","lastName","birthdate","regEmail","mobile","address","houseNumber","street","barangay","regPassword","confirmPassword"].filter(Fe=>!ke[Fe]);if(fe.length>0){le(`Please fill in all required fields: ${fe.join(", ")}`,"error");return}if(!Object.values(Q).every(Fe=>Fe)){le("Please meet all password requirements","error");return}if(ke.regPassword!==ke.confirmPassword){le("Passwords do not match","error");return}if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(ke.regEmail)){le("Please enter a valid email address (e.g., user@example.com)","error");return}if(!/^09[0-9]{9}$/.test(ke.mobile)){le("Mobile number must be in format 09XXXXXXXXX (11 digits starting with 09)","error");return}const rt=new Date().toISOString().split("T")[0];if(ke.birthdate>=rt){le("Birthdate must be before today","error");return}console.log("Registration data being sent:",ke),console.log("Required fields check:",{firstName:!!ke.firstName,lastName:!!ke.lastName,birthdate:!!ke.birthdate,regEmail:!!ke.regEmail,mobile:!!ke.mobile,address:!!ke.address,houseNumber:!!ke.houseNumber,street:!!ke.street,barangay:!!ke.barangay,regPassword:!!ke.regPassword,confirmPassword:!!ke.confirmPassword}),i(!0);const oe=await ht(ke,"captcha-verified");i(!1),oe?(le("Registration successful! You are now logged in.","success"),c(!1)):le("Registration failed. Please try again.","error")},Re=async ue=>{if(ue.preventDefault(),!v){le("Google user data not available. Please try again.","error");return}const fe=["mobile","birthdate","address","houseNumber","street","barangay"].filter(rt=>!E[rt]);if(fe.length>0){le(`Please fill in all required fields: ${fe.join(", ")}`,"error");return}if(!/^09[0-9]{9}$/.test(E.mobile)){le("Mobile number must be in format 09XXXXXXXXX (11 digits starting with 09)","error");return}const tt=new Date().toISOString().split("T")[0];if(E.birthdate>=tt){le("Birthdate must be before today","error");return}i(!0);try{const rt="855545694637-gi7vtpce9f672hn7me86ugvv2nc8jp1q.apps.googleusercontent.com";if(!window.google){le("Google OAuth not available. Please try again.","error"),i(!1);return}const oe=await new Promise((Me,Pt)=>{window.google.accounts.oauth2.initCodeClient({client_id:rt,scope:"email profile",ux_mode:"popup",redirect_uri:window.location.origin,callback:Ct=>{Ct.code?Me(Ct.code):Pt(new Error("No code received"))}}).requestCode()});if(await ne(oe,{mobile:E.mobile,birthdate:E.birthdate,address:E.address,houseNumber:E.houseNumber,street:E.street,barangay:E.barangay},"captcha-verified"))le("Registration with Google successful!","success"),k(!1),A(null),T({mobile:"",birthdate:"",address:"",houseNumber:"",street:"",barangay:""}),ye(!0),setTimeout(()=>{const Me=String(Lt.getState().currentUser?.role);Me==="admin"||Me==="staff"?P("/admin",{replace:!0}):Me==="ps_rep"?P("/partner-school",{replace:!0}):P("/portal",{replace:!0})},1500);else{const Me=Lt.getState().error;Me&&(Me.includes("expired")||Me.includes("invalid"))?(le("Google authorization expired. Please try logging in with Google again.","error"),k(!1),A(null),T({mobile:"",birthdate:"",address:"",houseNumber:"",street:"",barangay:""})):le("Google registration failed. Please try again.","error")}}catch(rt){console.error("Error getting fresh Google OAuth code:",rt),le("Failed to get Google authorization. Please try again.","error")}finally{i(!1)}},Ke=ue=>{et({length:ue.length>=10,upper:/[A-Z]/.test(ue),lower:/[a-z]/.test(ue),number:/\d/.test(ue),special:/[^A-Za-z0-9]/.test(ue)})},Tt=()=>{R(600);const ue=setInterval(()=>{R(ze=>ze<=1?(clearInterval(ue),0):ze-1)},1e3)},le=(ue,ze="info")=>{document.querySelectorAll(".notification").forEach(tt=>tt.remove());const Ge=document.createElement("div");switch(Ge.className="notification fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg transform transition-all duration-300 translate-x-full",ze){case"success":Ge.classList.add("bg-green-500","text-white");break;case"error":Ge.classList.add("bg-red-500","text-white");break;case"warning":Ge.classList.add("bg-yellow-500","text-white");break;default:Ge.classList.add("bg-blue-500","text-white")}Ge.innerHTML=`
      <div class="flex items-center space-x-2">
        <span>${ue}</span>
        <button onclick="this.parentElement.parentElement.remove()" class="ml-4 text-white hover:text-gray-200">
          
        </button>
      </div>
    `,document.body.appendChild(Ge),setTimeout(()=>{Ge.classList.remove("translate-x-full")},100),setTimeout(()=>{Ge.parentNode&&(Ge.classList.add("translate-x-full"),setTimeout(()=>{Ge.parentNode&&Ge.remove()},300))},5e3)},Oe=async ue=>{ue.preventDefault();const ze=D.join("");if(ze.length!==6){le("Please enter the complete 6-digit OTP","error");return}if(i(!0),I==="login"){const fe=await Qe(B,ze);i(!1),fe&&(h(!1),$(["","","","","",""]),H(""),ye(!0),setTimeout(()=>{const Ge=String(Lt.getState().currentUser?.role);Ge==="admin"||Ge==="staff"?P("/admin",{replace:!0}):Ge==="ps_rep"?P("/partner-school",{replace:!0}):P("/portal",{replace:!0})},1500))}else try{const fe=await fetch(`${bh("/api/verify-otp")}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:B,otp_code:ze})}),Ge=await fe.json();if(i(!1),fe.ok&&Ge.success){const{user:tt,token:rt}=Ge.data,oe={id:String(tt.id),citizen_id:tt.citizen_id??"",email:tt.email,first_name:tt.first_name,last_name:tt.last_name,middle_name:tt.middle_name,extension_name:tt.extension_name,mobile:tt.mobile,birthdate:tt.birthdate,address:tt.address,house_number:tt.house_number,street:tt.street,barangay:tt.barangay,role:tt.role,is_active:tt.is_active};localStorage.setItem("user_data",JSON.stringify(oe)),localStorage.setItem("auth_token",rt),Lt.setState({currentUser:oe,token:rt,error:null}),h(!1),$(["","","","","",""]),H(""),le("Account verified successfully! You are now logged in.","success"),ye(!0),setTimeout(()=>{const Fe=String(oe.role);Fe==="admin"||Fe==="staff"?P("/admin",{replace:!0}):Fe==="ps_rep"?P("/partner-school",{replace:!0}):P("/portal",{replace:!0})},1500)}else le(Ge.message||"OTP verification failed","error")}catch(fe){console.error("OTP verification error:",fe),le("Network error. Please try again.","error"),i(!1)}},Ue=async()=>{try{const ue=await fetch(`${bh("/api/send-otp")}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:B})}),ze=await ue.json();ue.ok&&ze.success?(Tt(),le("New OTP sent successfully!","success")):le(ze.message||"Failed to resend OTP","error")}catch(ue){console.error("Resend OTP error:",ue),le("Network error. Please try again.","error")}};return console.log(" ENVIRONMENT DEBUG:",{VITE_GOOGLE_CLIENT_ID:void 0,hasGoogleClientId:!1,clientIdLength:0,mode:"production",dev:!1,prod:!0,allViteEnvVars:Object.keys(J8).filter(ue=>ue.startsWith("VITE_"))}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex flex-col",children:[e.jsx("header",{className:"py-3 bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm sticky top-0 z-20 border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"mx-auto px-6 max-w-7xl",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{src:"/GSM_logo.png",alt:"Logo",className:"h-14 w-auto"})}),e.jsxs("h1",{className:"text-2xl font-bold",children:[e.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Go"}),e.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"Serve"}),e.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"PH"})]})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:V})]})})}),e.jsx("main",{className:"mx-auto px-6 pt-4 pb-4 flex-1 max-w-7xl flex items-center justify-center min-h-0",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 place-items-center text-center lg:text-left w-full",children:[e.jsx("div",{className:"py-8 px-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:[e.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"Abot-Kamay mo ang"}),e.jsx("br",{}),e.jsx("span",{className:"text-secondary-600 dark:text-secondary-400",children:"Serbisyong Publiko!"})]}),e.jsx("p",{className:"text-gray-600 dark:text-slate-400 max-w-lg text-base",children:"Access government services with ease. Your gateway to efficient and transparent public service delivery."})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-5 max-w-sm mx-auto w-full border border-gray-100 dark:border-slate-700",children:e.jsxs("form",{onSubmit:nt,className:"space-y-3",children:[e.jsx("div",{children:e.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Email address",className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",required:!0,value:t,onChange:ue=>r(ue.target.value)})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:M?"text":"password",id:"password",name:"password",placeholder:"Password",className:"w-full px-4 py-3 pr-12 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",required:!0,value:s,onChange:ue=>a(ue.target.value)}),e.jsx("button",{type:"button",onClick:()=>q(!M),className:"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 dark:text-slate-500 hover:text-gray-600 dark:hover:text-slate-300 transition-colors",children:M?e.jsx(Fs,{size:18}):e.jsx(Ft,{size:18})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"ml-2 text-gray-600 dark:text-slate-400",children:"Remember me"})]}),e.jsx("button",{type:"button",className:"text-primary-600 dark:text-primary-400 hover:underline",children:"Forgot password?"})]}),pe&&!pe.toLowerCase().includes("password")&&!pe.toLowerCase().includes("invalid credentials")&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:pe})}),e.jsx("button",{type:"submit",className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-3 px-4 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:n,children:n?"Signing In...":"Sign In"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-slate-600"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-gray-500 dark:text-slate-400",children:"OR"})})]}),e.jsxs("button",{type:"button",onClick:qt,disabled:!Ne||!0,className:"w-full py-3 px-4 rounded-lg font-medium flex items-center justify-center transition-colors bg-gray-100 dark:bg-slate-600 border border-gray-200 dark:border-slate-500 text-gray-400 dark:text-slate-500 cursor-not-allowed",children:[e.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsx("div",{className:"text-center pt-2",children:e.jsxs("p",{className:"text-gray-600 dark:text-slate-400 text-sm",children:["No account?"," ",e.jsx("button",{type:"button",onClick:()=>c(!0),className:"text-primary-600 dark:text-primary-400 hover:underline font-medium",children:"Register here"})]})})]})})]})}),e.jsx("footer",{className:"bg-primary-600 text-white py-3 mt-4",children:e.jsx("div",{className:"mx-auto px-6 max-w-7xl",children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center",children:[e.jsxs("div",{className:"text-center lg:text-left mb-1 lg:mb-0",children:[e.jsx("h3",{className:"text-sm font-bold mb-1",children:"Government Services Management System"}),e.jsx("p",{className:"text-xs opacity-90",children:"For any inquiries, please call 122 or email helpdesk@gov.ph"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex space-x-3 text-xs",children:[e.jsx("button",{onClick:()=>x(!0),className:"hover:underline cursor-pointer",children:"TERMS OF SERVICE"}),e.jsx("span",{children:"|"}),e.jsx("button",{onClick:()=>b(!0),className:"hover:underline cursor-pointer",children:"PRIVACY POLICY"})]})})]})})}),l&&e.jsx("div",{className:"fixed inset-0 z-30 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl max-w-3xl w-full max-h-[85vh] overflow-hidden flex flex-col animate-in fade-in-0 zoom-in-95 duration-300",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create Account"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("form",{onSubmit:Ce,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"firstName",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"Enter your first name",value:ke.firstName,onChange:ue=>xe({...ke,firstName:ue.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"lastName",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"Enter your last name",value:ke.lastName,onChange:ue=>xe({...ke,lastName:ue.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Middle Name",e.jsx("span",{className:"text-red-500",style:{display:ke.noMiddleName?"none":"inline"},children:"*"})]}),e.jsx("input",{type:"text",name:"middleName",required:!ke.noMiddleName,disabled:ke.noMiddleName,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400 disabled:bg-gray-100 dark:disabled:bg-slate-600 disabled:text-gray-500",placeholder:"Enter your middle name",value:ke.middleName,onChange:ue=>xe({...ke,middleName:ue.target.value})}),e.jsxs("label",{className:"inline-flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx("input",{type:"checkbox",className:"mr-2 rounded border-gray-300 text-primary-600 focus:ring-primary-500",checked:ke.noMiddleName,onChange:ue=>xe({...ke,noMiddleName:ue.target.checked,middleName:ue.target.checked?"":ke.middleName})}),"I don't have a middle name"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:"Suffix"}),e.jsx("input",{type:"text",name:"suffix",placeholder:"Jr., Sr., III (optional)",className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",value:ke.suffix,onChange:ue=>xe({...ke,suffix:ue.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Birthdate ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"birthdate",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white",value:ke.birthdate,onChange:ue=>xe({...ke,birthdate:ue.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"regEmail",required:!0,pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}",title:"Please enter a valid email address (e.g., user@example.com)",className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"your.email@example.com",value:ke.regEmail,onChange:ue=>xe({...ke,regEmail:ue.target.value})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:" Accepts all email providers (Gmail, Yahoo, Outlook, etc.)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Mobile Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"mobile",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"09XXXXXXXXX",value:ke.mobile,onChange:ue=>xe({...ke,mobile:ue.target.value})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Format: 09XXXXXXXXX (11 digits starting with 09)"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Address Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Complete Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"address",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"Lot/Unit, Building, Subdivision",value:ke.address,onChange:ue=>xe({...ke,address:ue.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["House Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"houseNumber",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"123",value:ke.houseNumber,onChange:ue=>xe({...ke,houseNumber:ue.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Street ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"street",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"Main Street",value:ke.street,onChange:ue=>xe({...ke,street:ue.target.value})})]}),e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Barangay ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"barangay",required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"Barangay Name",value:ke.barangay,onChange:ue=>xe({...ke,barangay:ue.target.value})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Security Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:Z?"text":"password",name:"regPassword",minLength:10,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-xl pr-12 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400",placeholder:"Create a strong password",value:ke.regPassword,onChange:ue=>{xe({...ke,regPassword:ue.target.value}),Ke(ue.target.value)}}),e.jsx("button",{type:"button",onClick:()=>G(!Z),className:"absolute inset-y-0 right-0 px-3 text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300 transition-colors",children:Z?e.jsx(Fs,{size:20}):e.jsx(Ft,{size:20})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-slate-600 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${Object.values(Q).filter(Boolean).length===0?"w-0":Object.values(Q).filter(Boolean).length===1?"w-1/4 bg-red-500":Object.values(Q).filter(Boolean).length===2?"w-2/4 bg-orange-500":Object.values(Q).filter(Boolean).length===3?"w-3/4 bg-yellow-500":Object.values(Q).filter(Boolean).length===4?"w-4/5 bg-blue-500":"w-full bg-green-500"}`})}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-slate-400",children:Object.values(Q).filter(Boolean).length===0?"Very Weak":Object.values(Q).filter(Boolean).length===1?"Weak":Object.values(Q).filter(Boolean).length===2?"Fair":Object.values(Q).filter(Boolean).length===3?"Good":Object.values(Q).filter(Boolean).length===4?"Strong":"Very Strong"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{className:`flex items-center text-xs transition-colors ${Q.length?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-slate-400"}`,children:[Q.length?e.jsx(Le,{size:14,className:"mr-2"}):e.jsx(jt,{size:14,className:"mr-2"}),"At least 10 characters"]}),e.jsxs("div",{className:`flex items-center text-xs transition-colors ${Q.upper?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-slate-400"}`,children:[Q.upper?e.jsx(Le,{size:14,className:"mr-2"}):e.jsx(jt,{size:14,className:"mr-2"}),"Has uppercase letter"]}),e.jsxs("div",{className:`flex items-center text-xs transition-colors ${Q.lower?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-slate-400"}`,children:[Q.lower?e.jsx(Le,{size:14,className:"mr-2"}):e.jsx(jt,{size:14,className:"mr-2"}),"Has lowercase letter"]}),e.jsxs("div",{className:`flex items-center text-xs transition-colors ${Q.number?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-slate-400"}`,children:[Q.number?e.jsx(Le,{size:14,className:"mr-2"}):e.jsx(jt,{size:14,className:"mr-2"}),"Has a number"]}),e.jsxs("div",{className:`flex items-center text-xs transition-colors ${Q.special?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-slate-400"}`,children:[Q.special?e.jsx(Le,{size:14,className:"mr-2"}):e.jsx(jt,{size:14,className:"mr-2"}),"Has a special character"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300",children:["Confirm Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:de?"text":"password",name:"confirmPassword",minLength:10,required:!0,className:`w-full px-4 py-3 border rounded-xl pr-12 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-slate-400 ${ke.confirmPassword&&ke.regPassword!==ke.confirmPassword?"border-red-500 dark:border-red-400":ke.confirmPassword&&ke.regPassword===ke.confirmPassword?"border-green-500 dark:border-green-400":"border-gray-300 dark:border-slate-600"}`,placeholder:"Confirm your password",value:ke.confirmPassword,onChange:ue=>xe({...ke,confirmPassword:ue.target.value})}),e.jsx("button",{type:"button",onClick:()=>X(!de),className:"absolute inset-y-0 right-0 px-3 text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300 transition-colors",children:de?e.jsx(Fs,{size:20}):e.jsx(Ft,{size:20})})]}),ke.confirmPassword&&e.jsx("div",{className:"flex items-center text-xs",children:ke.regPassword===ke.confirmPassword?e.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[e.jsx(Le,{size:14,className:"mr-2"}),"Passwords match"]}):e.jsxs("div",{className:"flex items-center text-red-500 dark:text-red-400",children:[e.jsx(jt,{size:14,className:"mr-2"}),"Passwords do not match"]})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Terms & Privacy"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("label",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",className:"mt-1 rounded border-gray-300 text-primary-600 focus:ring-primary-500",required:!0,checked:y&&N,onChange:ue=>{w(ue.target.checked),_(ue.target.checked)}}),e.jsxs("span",{className:"text-sm text-gray-700 dark:text-slate-300",children:["I agree to the"," ",e.jsx("button",{type:"button",onClick:()=>x(!0),className:"text-primary-600 dark:text-primary-400 hover:underline",children:"Terms of Use"})," ","and"," ",e.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-primary-600 dark:text-primary-400 hover:underline",children:"Privacy Policy"})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-slate-600"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-3 bg-white dark:bg-slate-800 text-gray-500 dark:text-slate-400",children:"OR"})})]}),e.jsxs("button",{type:"button",onClick:qt,disabled:!0,className:"w-full flex justify-center items-center px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-sm font-medium text-gray-700 dark:text-slate-300 hover:bg-gray-50 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Register with Google"]}),e.jsx("div",{className:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsx("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:" Google OAuth is not configured. Please contact support or use the form above."})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-3 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-slate-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n||!y||!N,className:`flex-1 px-4 py-3 rounded-lg font-medium transition-colors ${n||!y||!N?"bg-gray-300 dark:bg-slate-600 text-gray-500 dark:text-slate-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:n?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"})]}),(!y||!N)&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-red-500 dark:text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:"You must read and accept both Terms of Use and Data Privacy Policy to register"})]})})]})})]})}),S&&v&&e.jsx("div",{className:"fixed inset-0 z-30 flex items-start justify-center pt-20 px-4 bg-black/40",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 text-center flex-shrink-0",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-secondary-600",children:"Complete Registration with Google"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Welcome ",v.firstName," ",v.lastName,"! Please provide additional information to complete your registration."]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("form",{onSubmit:Re,className:"space-y-5",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Google Account Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600 font-medium",children:"Name:"})," ",v.firstName," ",v.lastName]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600 font-medium",children:"Email:"})," ",v.email]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1",children:["Mobile Number",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"mobile",required:!0,pattern:"09[0-9]{9}",title:"Mobile number must be in format 09XXXXXXXXX (11 digits starting with 09)",placeholder:"09XXXXXXXXX",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:E.mobile,onChange:ue=>T({...E,mobile:ue.target.value})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 09XXXXXXXXX (11 digits starting with 09)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1",children:["Birthdate",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"birthdate",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:E.birthdate,onChange:ue=>T({...E,birthdate:ue.target.value})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1",children:["Address",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"address",required:!0,placeholder:"Complete address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:E.address,onChange:ue=>T({...E,address:ue.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1",children:["House Number",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"houseNumber",required:!0,placeholder:"123",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:E.houseNumber,onChange:ue=>T({...E,houseNumber:ue.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1",children:["Street",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"street",required:!0,placeholder:"Main Street",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:E.street,onChange:ue=>T({...E,street:ue.target.value})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm mb-1",children:["Barangay",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"barangay",required:!0,placeholder:"Barangay Name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",value:E.barangay,onChange:ue=>T({...E,barangay:ue.target.value})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>{k(!1),A(null),T({mobile:"",birthdate:"",address:"",houseNumber:"",street:"",barangay:""})},className:"bg-red-500 text-white px-4 py-2 rounded-lg",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:`px-4 py-2 rounded-lg transition-colors ${n?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-secondary-500 hover:bg-secondary-600 text-white"}`,children:n?"Registering...":"Complete Registration"})]})]})})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 text-center",children:"Two-Factor Verification"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4 text-center",children:["Please check your registered email for your OTP. You have ",e.jsxs("span",{className:"font-semibold text-secondary-600",children:[Math.floor(F/60),":",(F%60).toString().padStart(2,"0")]})," to enter it."]}),e.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-2 text-center",children:"Enter OTP"}),e.jsx("div",{className:"flex justify-center space-x-2",id:"otpInputs",children:[0,1,2,3,4,5].map(ue=>e.jsx("input",{type:"text",className:"w-12 h-12 text-center border border-gray-300 rounded-lg",maxLength:1,inputMode:"numeric",value:D[ue],onChange:ze=>{const fe=ze.target.value.replace(/\D/g,"").slice(0,1),Ge=[...D];Ge[ue]=fe,$(Ge),fe&&ue<5&&ze.target.parentNode?.children[ue+1]?.focus()},onKeyDown:ze=>{ze.key==="Backspace"&&!ze.currentTarget.value&&ue>0&&ze.currentTarget.parentNode?.children[ue-1]?.focus()}},ue))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 rounded-lg bg-red-500 text-white",children:"Cancel"}),e.jsxs("div",{className:"space-x-2",children:[e.jsx("button",{type:"button",onClick:Ue,disabled:F>0,className:"px-4 py-2 rounded-lg bg-gray-200 text-gray-800 disabled:opacity-50",children:"Resend OTP"}),e.jsx("button",{type:"submit",disabled:F===0,className:"px-4 py-2 rounded-lg bg-secondary-500 text-white disabled:opacity-50",children:"Verify"})]})]})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"GoServePH Terms of Service Agreement"}),e.jsx("button",{type:"button",onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsxs("div",{className:"px-6 py-4 space-y-4 text-sm leading-6",children:[e.jsx("p",{children:e.jsx("strong",{children:"Welcome to GoServePH!"})}),e.jsx("p",{children:'This GoServePH Services Agreement ("Agreement") is a binding legal contract for the use of our software systemswhich handle data input, monitoring, processing, and analytics("Services") between GoServePH ("us," "our," or "we") and you, the registered user ("you" or "user").'}),e.jsx("p",{children:"This Agreement details the terms and conditions for using our Services. By accessing or using any GoServePH Services, you agree to these terms. If you don't understand any part of this Agreement, please contact us at info@goserveph.com."}),e.jsx("h4",{className:"font-semibold",children:"OVERVIEW OF THIS AGREEMENT"}),e.jsx("p",{children:"This document outlines the terms for your use of the GoServePH system:"}),e.jsxs("table",{className:"w-full text-left text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-1 pr-4",children:"Section"}),e.jsx("th",{className:"py-1",children:"Topic"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"Section A"}),e.jsx("td",{className:"py-1",children:"General Account Setup and Use"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"Section B"}),e.jsx("td",{className:"py-1",children:"Technology, Intellectual Property, and Licensing"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"Section C"}),e.jsx("td",{className:"py-1",children:"Payment Terms, Fees, and Billing"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"Section D"}),e.jsx("td",{className:"py-1",children:"Data Usage, Privacy, and Security"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"Section E"}),e.jsx("td",{className:"py-1",children:"Additional Legal Terms and Disclaimers"})]})]})]}),e.jsx("h4",{className:"font-semibold",children:"SECTION A: GENERAL TERMS"}),e.jsx("p",{children:e.jsx("strong",{children:"1. Your Account and Registration"})}),e.jsx("p",{children:"a. Account Creation: To use our Services, you must create an Account. Your representative (Representative) must provide us with required details, including your entity's name, address, contact person, email, phone number, relevant ID/tax number, and the nature of your business/activities."}),e.jsx("p",{children:"b. Review and Approval: We reserve the right to review and approve your application, which typically takes at least two (2) business days. We can deny or reject any application at our discretion."}),e.jsx("p",{children:"c. Eligibility: Only businesses, institutions, and other entities based in the Philippines are eligible to apply for a GoServePH Account."}),e.jsx("p",{children:"d. Representative Authority: You confirm that your Representative has the full authority to provide your information and legally bind your entity to this Agreement. We may ask for proof of this authority."}),e.jsx("p",{children:"e. Validation: We may require additional documentation at any time (e.g., business licenses, IDs) to verify your entity's ownership, control, and the information you provided."}),e.jsx("p",{children:e.jsx("strong",{children:"2. Services and Support"})}),e.jsx("p",{children:'We provide support for general account inquiries and issues that prevent the proper use of the system ("System Errors"). Support includes resources available through our in-app Ticketing System and website documentation ("Documentation"). For further questions, contact us at support@goserveph.com.'}),e.jsx("p",{children:e.jsx("strong",{children:"3. Service Rules and Restrictions"})}),e.jsx("p",{children:'a. Lawful Use: You must use the Services lawfully and comply with all applicable Philippine laws, rules, and regulations ("Laws") regarding your use of the Services and the transactions you facilitate ("Transactions").'}),e.jsx("p",{children:"b. Prohibited Activities: You may not use the Services to facilitate illegal transactions, or for personal/household use. Specifically, you must not, nor allow others to:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Access non-public systems or data."}),e.jsx("li",{children:"Copy, resell, or distribute the Services, Documentation, or system content."}),e.jsx("li",{children:"Use, transfer, or access data you do not own or have no documented rights to use."}),e.jsx("li",{children:"Act as a service agent for the Services."}),e.jsx("li",{children:"Transfer your rights under this Agreement."}),e.jsx("li",{children:"Bypass technical limitations or enable disabled features."}),e.jsx("li",{children:"Reverse engineer the Services (except where legally permitted)."}),e.jsx("li",{children:"Interfere with the normal operation of the Services or impose an unreasonably large load on the system."})]}),e.jsx("p",{children:e.jsx("strong",{children:"4. Electronic Notices and Consent"})}),e.jsx("p",{children:"a. Electronic Consent: By registering, you provide your electronic signature and consent to receive all notices and disclosures from us electronically (via our website, email, or text message), which has the same legal effect as a physical signature."}),e.jsx("p",{children:"b. Delivery: We are not liable for non-receipt of notices due to issues beyond our control (e.g., network outages, incorrect contact details, firewall restrictions). Notices posted or emailed are considered received within 24 hours."}),e.jsx("p",{children:"c. Text Messages: You authorize us to use text messages to verify your account control (like two-step verification) and provide critical updates. Standard carrier charges may apply."}),e.jsx("p",{children:"d. Withdrawing Consent: You can withdraw your consent to electronic notices only by terminating your Account."}),e.jsx("p",{children:e.jsx("strong",{children:"5. Termination"})}),e.jsx("p",{children:"a. Agreement Term: This Agreement starts upon registration and continues until terminated by you or us."}),e.jsx("p",{children:"b. Termination by You: You can terminate by emailing a closure request to info@goserveph.com. Your Account will be closed within 120 business days of receipt."}),e.jsx("p",{children:"c. Termination by Us: We may terminate this Agreement, suspend your Account, or close it at any time, for any reason, by providing you notice. Immediate suspension or termination may occur if:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"You pose a significant fraud or credit risk."}),e.jsx("li",{children:"You use the Services in a prohibited manner or violate this Agreement."}),e.jsx("li",{children:"Law requires us to do so."})]}),e.jsx("p",{children:"d. Effect of Termination: Upon termination:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"All licenses granted to you end."}),e.jsx("li",{children:"We may delete your data and information (though we have no obligation to do so)."}),e.jsx("li",{children:"We are not liable to you for any damages related to the termination, suspension, or data deletion."}),e.jsx("li",{children:"You remain liable for any outstanding fees, fines, or financial obligations incurred before termination."})]}),e.jsx("h4",{className:"font-semibold",children:"SECTION B: TECHNOLOGY"}),e.jsx("p",{children:e.jsx("strong",{children:"1. System Access and Updates"})}),e.jsx("p",{children:'We provide access to the web system and/or mobile application ("Application"). You must only use the Application as described in the Documentation. We will update the Application and Documentation periodically, which may add or remove features, and we will notify you of material changes.'}),e.jsx("p",{children:e.jsx("strong",{children:"2. Ownership of Intellectual Property (IP)"})}),e.jsx("p",{children:"a. Your Data: You retain ownership of all your master data, raw transactional data, and generated reports gathered from the system."}),e.jsx("p",{children:'b. GoServePH IP: We exclusively own all rights, titles, and interests in the patents, copyrights, trademarks, system designs, and documentation ("GoServePH IP"). All rights in GoServePH IP not expressly granted to you are reserved by us.'}),e.jsx("p",{children:'c. Ideas: If you submit comments or ideas for system improvements ("Ideas"), you agree that we are free to use these Ideas without any attribution or compensation to you.'}),e.jsx("p",{children:e.jsx("strong",{children:"3. License Coverage"})}),e.jsx("p",{children:"We grant you a non-exclusive and non-transferable license to electronically access and use the GoServePH IP only as described in this Agreement. We are not selling the IP to you, and you cannot sublicense it. We may revoke this license if you violate the Agreement."}),e.jsx("p",{children:e.jsx("strong",{children:"4. References to Our Relationship"})}),e.jsx("p",{children:"During the term of this Agreement, both you and we may publicly identify the other party as the service provider or client, respectively. If you object to us identifying you as a client, you must notify us at info@goserveph.com. Upon termination, both parties must remove all public references to the relationship."}),e.jsx("h4",{className:"font-semibold",children:"SECTION C: PAYMENT TERMS AND CONDITIONS"}),e.jsx("p",{children:e.jsx("strong",{children:"1. Service Fees"})}),e.jsx("p",{children:"We will charge the Fees for set-up, access, support, penalties, and other transactions as described on the GoServePH website. We may revise the Fees at any time, with at least 30 days' notice before the revisions apply to you."}),e.jsx("p",{children:e.jsx("strong",{children:"2. Payment Terms and Schedule"})}),e.jsx("p",{children:'a. Billing: Your monthly bill for the upcoming month is generated by the system on the 21st day of the current month and is due after 5 days. Billing is based on the number of registered users ("End-User") as of the 20th day.'}),e.jsx("p",{children:"b. Payment Method: All payments must be settled via our third-party Payment System Provider, PayPal. You agree to abide by all of PayPal's terms, and we are not responsible for any issues with their service."}),e.jsx("p",{children:e.jsx("strong",{children:"3. Taxes"})}),e.jsx("p",{children:"Fees exclude applicable taxes. You are solely responsible for remitting all taxes for your business to the appropriate Philippine tax and revenue authorities."}),e.jsx("p",{children:e.jsx("strong",{children:"4. Payment Processing"})}),e.jsx("p",{children:"We are not a bank and do not offer services regulated by the Bangko Sentral ng Pilipinas. We reserve the right to reject your application or terminate your Account if you are ineligible to use PayPal services."}),e.jsx("p",{children:e.jsx("strong",{children:"5. Processing Disputes and Refunds"})}),e.jsx("p",{children:"You must report disputes and refund requests by emailing us at billing@goserveph.com. Disputes will only be investigated if reported within 60 days from the billing date. If a refund is warranted, it will be issued as a credit memo for use on future bills."}),e.jsx("h4",{className:"font-semibold",children:"SECTION D: DATA USAGE, PRIVACY AND SECURITY"}),e.jsx("p",{children:e.jsx("strong",{children:"1. Data Usage Overview"})}),e.jsx("p",{children:"Data security is a top priority. This section outlines our obligations when handling information."}),e.jsx("p",{children:"'PERSONAL DATA' is information that relates to and can identify a person."}),e.jsx("p",{children:"'USER DATA' is information that describes your business, operations, products, or services."}),e.jsx("p",{children:"'GoServePH DATA' is transactional data over our infrastructure, fraud analysis info, aggregated data, and other information originating from the Services."}),e.jsx("p",{children:"'DATA' means all of the above."}),e.jsx("p",{children:"We use Data to provide Services, mitigate fraud, and improve our systems. We do not provide Personal Data to unaffiliated parties for marketing purposes."}),e.jsx("p",{children:e.jsx("strong",{children:"2. Data Protection and Privacy"})}),e.jsx("p",{children:"a. Confidentiality: You will protect all Data received via the Services and only use it in connection with this Agreement. Neither party may use Personal Data for marketing without express consent. We may disclose Data if required by legal instruments (e.g., subpoena)."}),e.jsx("p",{children:"b. Privacy Compliance: You affirm that you comply with all Laws governing the privacy and protection of the Data you provide to or access through the Services. You are responsible for obtaining all necessary consents from End-Users to allow us to collect, use, and disclose their Data."}),e.jsx("p",{children:"c. Data Processing Roles: You shall be the data controller, and we shall be the data intermediary. We will process the Personal Data only according to this Agreement and will implement appropriate measures to protect it."}),e.jsx("p",{children:"d. Data Mining: You may not mine the database or any part of it without our express consent."}),e.jsx("p",{children:e.jsx("strong",{children:"3. Security Controls"})}),e.jsx("p",{children:'We are responsible for protecting your Data using commercially reasonable administrative, technical, and physical security measures. However, no system is impenetrable. You agree that you are responsible for implementing your own firewall, anti-virus, anti-phishing, and other security measures ("Security Controls"). We may suspend your Account to maintain the integrity of the Services, and you waive the right to claim losses that result from such actions.'}),e.jsx("h4",{className:"font-semibold",children:"SECTION E: ADDITIONAL LEGAL TERMS"}),e.jsx("p",{children:e.jsx("strong",{children:"1. Right to Amend"})}),e.jsx("p",{children:"We can change or add to these terms at any time by posting the changes on our website. Your continued use of the Services constitutes your acceptance of the modified Agreement."}),e.jsx("p",{children:e.jsx("strong",{children:"2. Assignment"})}),e.jsx("p",{children:"You cannot assign this Agreement or your Account rights to anyone else without our prior written consent. We can assign this Agreement without your consent."}),e.jsx("p",{children:e.jsx("strong",{children:"3. Force Majeure"})}),e.jsx("p",{children:"Neither party will be liable for delays or non-performance caused by events beyond reasonable control, such as utility failures, acts of nature, or war. This does not excuse your obligation to pay fees."}),e.jsx("p",{children:e.jsx("strong",{children:"4. Representations and Warranties"})}),e.jsx("p",{children:"By agreeing, you warrant that:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"You are eligible to use the Services and have the authority to enter this Agreement."}),e.jsx("li",{children:"All information you provide is accurate and complete."}),e.jsx("li",{children:"You will comply with all Laws."}),e.jsx("li",{children:"You will not use the Services for fraudulent or illegal purposes."})]}),e.jsx("p",{children:e.jsx("strong",{children:"5. No Warranties"})}),e.jsx("p",{children:'We provide the Services and GoServePH IP "AS IS" and "AS AVAILABLE," without any express, implied, or statutory warranties of title, merchantability, fitness for a particular purpose, or non-infringement.'}),e.jsx("p",{children:e.jsx("strong",{children:"6. Limitation of Liability"})}),e.jsx("p",{children:"We shall not be responsible or liable to you for any indirect, punitive, incidental, special, consequential, or exemplary damages resulting from your use or inability to use the Services, lost profits, personal injury, or property damage. We are not liable for damages arising from:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Hacking, tampering, or unauthorized access to your Account."}),e.jsx("li",{children:"Your failure to implement Security Controls."}),e.jsx("li",{children:"Use of the Services inconsistent with the Documentation."}),e.jsx("li",{children:"Bugs, viruses, or interruptions to the Services."})]}),e.jsx("p",{children:"This Agreement and all incorporated policies constitute the entire agreement between you and GoServePH."})]}),e.jsxs("div",{className:"border-t px-6 py-3 flex justify-between items-center",children:[e.jsxs("label",{className:"inline-flex items-center text-sm",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:y,onChange:ue=>w(ue.target.checked)}),e.jsx("span",{children:"I have read and understood the Terms of Use"})]}),e.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 rounded-lg bg-secondary-500 text-white hover:bg-secondary-600",children:y?"Accept & Close":"Close"})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"GoServePH Data Privacy Policy"}),e.jsx("button",{type:"button",onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsxs("div",{className:"px-6 py-4 space-y-4 text-sm leading-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Protecting the information you and your users handle through our system is our highest priority."})," This policy outlines how GoServePH manages, secures, and uses your data."]}),e.jsx("h4",{className:"font-semibold",children:"1. How We Define and Use Data"}),e.jsx("p",{children:"In this policy, we define the types of data that flow through the GoServePH system:"}),e.jsxs("table",{className:"w-full text-left text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-1 pr-4",children:"Term"}),e.jsx("th",{className:"py-1",children:"Definition"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"Personal Data"}),e.jsx("td",{className:"py-1",children:"Any information that can identify a specific person, whether directly or indirectly, shared or accessible through the Services."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"User Data"}),e.jsx("td",{className:"py-1",children:"Information that describes your business operations, services, or internal activities."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"GoServePH Data"}),e.jsx("td",{className:"py-1",children:"Details about transactions and activity on our platform, information used for fraud detection, aggregated data, and any non-personal information generated by our system."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-1 pr-4",children:"DATA"}),e.jsx("td",{className:"py-1",children:"Used broadly to refer to all the above: Personal Data, User Data, and GoServePH Data."})]})]})]}),e.jsx("h4",{className:"font-semibold",children:"Our Commitment to Data Use"}),e.jsx("p",{children:"We analyze and manage data only for the following critical purposes:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"To provide, maintain, and improve the GoServePH Services for you and all other users."}),e.jsx("li",{children:"To detect and mitigate fraud, financial loss, or other harm to you or other users."}),e.jsx("li",{children:"To develop and enhance our products, systems, and tools."})]}),e.jsx("p",{children:"We will not sell or share Personal Data with unaffiliated parties for their marketing purposes. By using our system, you consent to our use of your Data in this manner."}),e.jsx("h4",{className:"font-semibold",children:"2. Data Protection and Compliance"}),e.jsx("p",{children:e.jsx("strong",{children:"Confidentiality"})}),e.jsx("p",{children:"We commit to using Data only as permitted by our agreement or as specifically directed by you. You, in turn, must protect all Data you access through GoServePH and use it only in connection with our Services. Neither party may use Personal Data to market to third parties without explicit consent."}),e.jsx("p",{children:"We will only disclose Data when legally required to do so, such as through a subpoena, court order, or search warrant."}),e.jsx("p",{children:e.jsx("strong",{children:"Privacy Compliance and Responsibilities"})}),e.jsxs("p",{children:[e.jsx("em",{children:"Your Legal Duty:"})," You affirm that you are, and will remain, compliant with all applicable Philippine laws (including the Data Privacy Act of 2012) governing the collection, protection, and use of the Data you provide to us."]}),e.jsxs("p",{children:[e.jsx("em",{children:"Consent:"})," You are responsible for obtaining all necessary rights and consents from your End-Users to allow us to collect, use, and store their Personal Data."]}),e.jsxs("p",{children:[e.jsx("em",{children:"End-User Disclosure:"})," You must clearly inform your End-Users that GoServePH processes transactions for you and may receive their Personal Data as part of that process."]}),e.jsx("p",{children:e.jsx("strong",{children:"Data Processing Roles"})}),e.jsx("p",{children:"When we process Personal Data on your behalf, we operate under the following legal roles:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"You are the Data Controller (you determine why and how the data is processed)."}),e.jsx("li",{children:"We are the Data Intermediary (we process data strictly according to your instructions)."})]}),e.jsx("p",{children:"As the Data Intermediary, we commit to:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Implementing appropriate security measures to protect the Personal Data we process."}),e.jsx("li",{children:"Not retaining Personal Data longer than necessary to fulfill the purposes set out in our agreement."})]}),e.jsx("p",{children:"You acknowledge that we rely entirely on your instructions. Therefore, we are not liable for any claims resulting from our actions that were based directly or indirectly on your instructions."}),e.jsx("p",{children:e.jsx("strong",{children:"Prohibited Activities"})}),e.jsx("p",{children:"You are strictly prohibited from data mining the GoServePH database or any portion of it without our express written permission."}),e.jsx("p",{children:e.jsx("strong",{children:"Breach Notification"})}),e.jsx("p",{children:'If we become aware of an unauthorized acquisition, disclosure, change, or loss of Personal Data on our systems (a "Breach"), we will notify you and provide sufficient information to help you mitigate any negative impact, consistent with our legal obligations.'}),e.jsx("h4",{className:"font-semibold",children:"3. Account Deactivation and Data Deletion"}),e.jsx("p",{children:e.jsx("strong",{children:"Initiating Deactivation"})}),e.jsx("p",{children:"If you wish to remove your personal information from our systems, you must go to your Edit Profile page and click the 'Deactivate Account' button. This action initiates the data deletion and account deactivation process."}),e.jsx("p",{children:e.jsx("strong",{children:"Data Retention"})}),e.jsx("p",{children:"Upon deactivation, all of your Personal Identifying Information will be deleted from our systems."}),e.jsxs("p",{children:[e.jsx("em",{children:"Important Note:"})," Due to the nature of our role as a Government Services Management System, and for legal, accounting, and audit purposes, we are required to retain some of your non-personal account activity history and transactional records. You will receive a confirmation email once your request has been fully processed."]}),e.jsx("h4",{className:"font-semibold",children:"4. Security Controls and Responsibilities"}),e.jsx("p",{children:e.jsx("strong",{children:"Our Security"})}),e.jsx("p",{children:"We are responsible for implementing commercially reasonable administrative, technical, and physical procedures to protect Data from unauthorized access, loss, or modification. We comply with all applicable Laws in handling Data."}),e.jsx("p",{children:e.jsx("strong",{children:"Your Security Controls"})}),e.jsx("p",{children:'You acknowledge that no security system is perfect. You agree to implement your own necessary security measures ("Security Controls"), which must include:'}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Firewall and anti-virus systems."}),e.jsx("li",{children:"Anti-phishing systems."}),e.jsx("li",{children:"End-User and device management policies."}),e.jsx("li",{children:"Data handling protocols."})]}),e.jsx("p",{children:"We reserve the right to suspend your Account or the Services if necessary to maintain system integrity and security, or to prevent harm. You waive any right to claim losses that result from a Breach or any action we take to prevent harm."})]}),e.jsxs("div",{className:"border-t px-6 py-3 flex justify-between items-center",children:[e.jsxs("label",{className:"inline-flex items-center text-sm",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:N,onChange:ue=>_(ue.target.checked)}),e.jsx("span",{children:"I have read and understood the Data Privacy Policy"})]}),e.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 rounded-lg bg-secondary-500 text-white hover:bg-secondary-600",children:N?"Accept & Close":"Close"})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"GoServePH Terms of Service"}),e.jsx("button",{type:"button",onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsxs("div",{className:"px-6 py-4 space-y-4 text-sm leading-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Welcome to GoServePH!"}),' These Terms of Service ("Terms") govern your use of the Government Services Management System and all related services provided by GoServePH.']}),e.jsx("h4",{className:"font-semibold",children:"1. Acceptance of Terms"}),e.jsx("p",{children:"By accessing or using GoServePH, you agree to be bound by these Terms and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing this site."}),e.jsx("h4",{className:"font-semibold",children:"2. Description of Service"}),e.jsx("p",{children:"GoServePH is a comprehensive government services management platform that provides:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Student registration and scholarship management"}),e.jsx("li",{children:"Document processing and verification"}),e.jsx("li",{children:"Payment processing for government services"}),e.jsx("li",{children:"Administrative dashboard for government personnel"}),e.jsx("li",{children:"Secure data management and reporting"})]}),e.jsx("h4",{className:"font-semibold",children:"3. User Accounts and Registration"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Creation:"})," To access certain features, you must create an account by providing accurate, current, and complete information."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Security:"})," You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Types:"})," GoServePH supports different user types including students, government personnel, and administrators, each with specific access levels and permissions."]}),e.jsx("h4",{className:"font-semibold",children:"4. Acceptable Use Policy"}),e.jsx("p",{children:"You agree to use GoServePH only for lawful purposes and in accordance with these Terms. You agree NOT to:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Use the service for any illegal or unauthorized purpose"}),e.jsx("li",{children:"Attempt to gain unauthorized access to any part of the system"}),e.jsx("li",{children:"Interfere with or disrupt the service or servers"}),e.jsx("li",{children:"Submit false, misleading, or fraudulent information"}),e.jsx("li",{children:"Violate any applicable local, national, or international law"}),e.jsx("li",{children:"Harass, abuse, or harm other users"})]}),e.jsx("h4",{className:"font-semibold",children:"5. Privacy and Data Protection"}),e.jsx("p",{children:"Your privacy is important to us. Our collection and use of personal information is governed by our Data Privacy Policy, which is incorporated into these Terms by reference. By using GoServePH, you consent to the collection and use of information as described in our Privacy Policy."}),e.jsx("h4",{className:"font-semibold",children:"6. Intellectual Property Rights"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Our Rights:"})," GoServePH and its original content, features, and functionality are owned by the Government of the Philippines and are protected by international copyright, trademark, patent, trade secret, and other intellectual property laws."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Your Content:"})," You retain ownership of any content you submit to GoServePH, but grant us a license to use, modify, and display such content as necessary to provide our services."]}),e.jsx("h4",{className:"font-semibold",children:"7. Service Availability and Modifications"}),e.jsx("p",{children:"We strive to maintain high service availability but cannot guarantee uninterrupted access. We reserve the right to:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Modify or discontinue the service with reasonable notice"}),e.jsx("li",{children:"Perform maintenance that may temporarily affect service availability"}),e.jsx("li",{children:"Update features and functionality to improve user experience"})]}),e.jsx("h4",{className:"font-semibold",children:"8. Payment Terms"}),e.jsx("p",{children:"Certain services may require payment of fees. All fees are non-refundable unless otherwise specified. Payment processing is handled securely through authorized payment gateways."}),e.jsx("h4",{className:"font-semibold",children:"9. Limitation of Liability"}),e.jsx("p",{children:"To the maximum extent permitted by law, GoServePH shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses resulting from your use of the service."}),e.jsx("h4",{className:"font-semibold",children:"10. Indemnification"}),e.jsx("p",{children:"You agree to defend, indemnify, and hold harmless GoServePH and its officers, directors, employees, and agents from and against any claims, damages, obligations, losses, liabilities, costs, or debt arising from your use of the service or violation of these Terms."}),e.jsx("h4",{className:"font-semibold",children:"11. Termination"}),e.jsx("p",{children:"We may terminate or suspend your account and access to the service immediately, without prior notice, for any reason, including breach of these Terms. Upon termination, your right to use the service will cease immediately."}),e.jsx("h4",{className:"font-semibold",children:"12. Governing Law and Dispute Resolution"}),e.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of the Republic of the Philippines. Any disputes arising from these Terms or your use of GoServePH shall be resolved through the appropriate Philippine courts."}),e.jsx("h4",{className:"font-semibold",children:"13. Changes to Terms"}),e.jsx("p",{children:"We reserve the right to modify these Terms at any time. We will notify users of any material changes through the service or via email. Your continued use of GoServePH after such modifications constitutes acceptance of the updated Terms."}),e.jsx("h4",{className:"font-semibold",children:"14. Contact Information"}),e.jsx("p",{children:"For questions about these Terms of Service, please contact us at:"}),e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:"Email: helpdesk@gov.ph"}),e.jsx("li",{children:"Phone: 122"}),e.jsx("li",{children:"Address: Government Services Management System, Philippines"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Updated:"})," ",new Date().toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"border-t px-6 py-3 flex justify-between items-center",children:[e.jsxs("label",{className:"inline-flex items-center text-sm",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:y,onChange:ue=>w(ue.target.checked)}),e.jsx("span",{children:"I have read and understood the Terms of Service"})]}),e.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 rounded-lg bg-primary-600 text-white hover:bg-primary-700",children:y?"Accept & Close":"Close"})]})]})}),W&&e.jsx("div",{className:"fixed inset-0 z-50 bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:"/splash.svg",alt:"Loading",className:"splash-logo mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Welcome to GoServePH!"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Redirecting you to your dashboard..."})]})}),e.jsx(ES,{isOpen:at,onClose:()=>pt(!1),onVerified:()=>{J(!0),pt(!1),setTimeout(()=>{qt()},100)}}),e.jsx(ES,{isOpen:se,onClose:()=>He(!1),onVerified:()=>{$e(!0),He(!1),setTimeout(()=>{const ue=document.querySelectorAll("form"),ze=Array.from(ue).find(fe=>fe.querySelectorAll('input[name="firstName"]').length>0);ze&&ze.requestSubmit()},100)}}),re&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-right duration-300",children:e.jsx("div",{className:`rounded-lg shadow-lg p-4 max-w-sm ${ie==="error"?"bg-red-500 text-white":ie==="success"?"bg-green-500 text-white":"bg-blue-500 text-white"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium",children:z}),e.jsx("button",{onClick:()=>Ee(!1),className:"ml-3 text-white/80 hover:text-white",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})]})},Z8=()=>{const t=$a(),[r]=I3(),[s,a]=f.useState(!0),[n,i]=f.useState(null);f.useEffect(()=>{r.get("reference")||r.get("checkout_session_id");const c=setTimeout(()=>{a(!1)},2e3);return()=>clearTimeout(c)},[r]);const l=()=>{t("/admin",{state:{activeItem:"school-aid-distribution",activeTab:"applications"}})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 text-center",children:s?e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(Lr,{className:"w-16 h-16 text-green-500 animate-spin"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Processing your payment..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:e.jsx(Le,{className:"w-12 h-12 text-green-600 dark:text-green-400"})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Your scholarship grant payment has been processed successfully."})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6 text-left",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:"Status"}),e.jsx("p",{className:"font-semibold text-green-600 dark:text-green-400",children:"Payment Completed"}),r.get("reference")&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-3 mb-1",children:"Reference Number"}),e.jsx("p",{className:"font-mono text-sm text-slate-800 dark:text-white",children:r.get("reference")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Your application status will be updated automatically. You will receive a confirmation once the disbursement is processed."}),e.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center space-x-2 bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:[e.jsx(dw,{className:"w-4 h-4"}),e.jsx("span",{children:"Back to Applications"})]})]})]})})})},ms=`${it.AID_SERVICE.BASE_URL}/api`;class Q8{buildAuthHeaders(r={}){const s={Accept:"application/json",...r},a=typeof window<"u"?localStorage.getItem("auth_token"):null;if(a){s.Authorization=`Bearer ${a}`;try{const n=localStorage.getItem("user_data");if(n){const i=JSON.parse(n);i?.id!=null&&(s["X-User-ID"]=String(i.id)),i?.role&&(s["X-User-Role"]=String(i.role)),i?.email&&(s["X-User-Email"]=String(i.email)),i?.first_name&&(s["X-User-First-Name"]=String(i.first_name)),i?.last_name&&(s["X-User-Last-Name"]=String(i.last_name))}}catch(n){console.warn("SchoolAidService: failed to parse user_data from localStorage",n)}}return s}async getApplications(r){const s=new URLSearchParams;r?.status&&s.append("status",r.status),r?.search&&s.append("search",r.search),r?.submodule&&s.append("submodule",r.submodule);const a=await fetch(`${ms}/school-aid/applications?${s}`,{headers:this.buildAuthHeaders()});if(!a.ok)throw new Error(`Failed to fetch applications: ${a.statusText}`);return(await a.json()).map(i=>{const l=i.application||i;let c;const u=l.digital_wallets||i.digital_wallets;if(u){let h=u;if(typeof h=="string")try{h.trim().startsWith("[")&&(h=JSON.parse(h))}catch(m){console.warn("Failed to parse digital_wallets",m)}Array.isArray(h)&&h.length>0?c=h[0]:typeof h=="string"&&(c=h)}return console.log("SchoolAidService - Mapping application:",{id:i.id,digital_wallets:u,walletMethod:c,raw_app:i}),{...i,studentName:i.studentName||i.student_name||l.student_name||`${i.first_name||l.first_name||""} ${i.last_name||l.last_name||""}`.trim(),studentId:i.studentId||i.student_id||l.student_id_number||i.student_id_number,paymentMethod:i.paymentMethod||i.payment_method||l.payment_method||c,walletAccountNumber:i.walletAccountNumber||i.wallet_account_number||l.wallet_account_number||i.account_number,schoolYear:i.schoolYear||i.school_year||l.school_year,submittedDate:i.submittedDate||i.submitted_at||l.submitted_at||i.created_at,approvalDate:i.approvalDate||i.approved_at||l.approved_at,digitalWallets:u}})}async updateApplicationStatus(r,s,a){const n=await fetch(`${ms}/school-aid/applications/${r}/status`,{method:"PATCH",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify({status:s,notes:a})});if(!n.ok)throw new Error(`Failed to update application status: ${n.statusText}`)}async processGrant(r){const s=typeof window<"u"?localStorage.getItem("user_data"):null;let a,n;if(s)try{const l=JSON.parse(s);a=l?.id?String(l.id):void 0,n=l?.first_name&&l?.last_name?`${l.first_name} ${l.last_name}`.trim():l?.name||l?.email||void 0}catch(l){console.warn("Failed to parse user data:",l)}const i=await fetch(`${ms}/school-aid/applications/${r}/process-grant`,{method:"POST",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify({user_id:a,user_name:n})});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.message||l.error||`Failed to process grant: ${i.statusText}`)}return await i.json()}async batchUpdateApplications(r,s){const a=await fetch(`${ms}/school-aid/applications/batch-update`,{method:"PATCH",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify({applicationIds:r,status:s})});if(!a.ok)throw new Error(`Failed to batch update applications: ${a.statusText}`)}async revertApplicationOnCancel(r){const s=await fetch(`${ms}/school-aid/applications/revert-on-cancel`,{method:"POST",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify(r)});if(!s.ok){const a=await s.json().catch(()=>({}));throw new Error(a.message||a.error||`Failed to revert application status: ${s.statusText}`)}return await s.json()}async processPayment(r,s){const a=await fetch(`${ms}/school-aid/payments/process`,{method:"POST",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify({applicationId:r,paymentMethod:s})});if(!a.ok)throw new Error(`Failed to process payment: ${a.statusText}`);return await a.json()}async processPaymentWithDetails(r,s,a,n,i,l,c,u){const h=new FormData;h.append("applicationId",r),h.append("method",s),h.append("providerName",a),h.append("referenceNumber",n),h.append("notes",l),c&&h.append("disbursedById",c),u&&h.append("disbursedByName",u),i&&h.append("receiptFile",i);const m=await fetch(`${ms}/school-aid/applications/${r}/disburse`,{method:"POST",headers:this.buildAuthHeaders(),body:h});if(!m.ok)throw new Error(`Failed to process payment with details: ${m.statusText}`);return await m.json()}async retryPayment(r){const s=await fetch(`${ms}/school-aid/payments/${r}/retry`,{method:"POST",headers:this.buildAuthHeaders()});if(!s.ok)throw new Error(`Failed to retry payment: ${s.statusText}`);return await s.json()}async getPaymentRecords(r){const s=new URLSearchParams;r?.status&&s.append("status",r.status);const a=await fetch(`${ms}/school-aid/payments?${s}`,{headers:this.buildAuthHeaders()});if(!a.ok)throw new Error(`Failed to fetch payment records: ${a.statusText}`);return await a.json()}async getDisbursementHistory(r){const s=new URLSearchParams;r?.search&&s.append("search",r.search),r?.method&&s.append("method",r.method),r?.dateFrom&&s.append("date_from",r.dateFrom),r?.dateTo&&s.append("date_to",r.dateTo),r?.sortBy&&s.append("sortBy",r.sortBy),r?.sortDir&&s.append("sortDir",r.sortDir);const a=await fetch(`${ms}/school-aid/disbursements?${s}`,{headers:this.buildAuthHeaders()});if(!a.ok)throw new Error(`Failed to fetch disbursement history: ${a.statusText}`);return await a.json()}async getMetrics(r){const s=new URLSearchParams;r?.school_year&&s.append("school_year",r.school_year);const a=`${ms}/school-aid/metrics${s.toString()?`?${s.toString()}`:""}`,n=await fetch(a,{headers:this.buildAuthHeaders()});if(!n.ok)throw new Error(`Failed to fetch metrics: ${n.statusText}`);return await n.json()}async getAnalyticsData(r,s){const a=await fetch(`${ms}/school-aid/analytics/${r}?range=${s}`,{headers:this.buildAuthHeaders()});if(!a.ok)throw new Error(`Failed to fetch analytics data: ${a.statusText}`);return await a.json()}async getAvailableSchoolYears(){const r=await fetch(`${ms}/school-aid/school-years`,{headers:this.buildAuthHeaders()});if(!r.ok)throw new Error(`Failed to fetch school years: ${r.statusText}`);return(await r.json()).school_years||[]}async getSettings(){const r=await fetch(`${ms}/school-aid/settings`,{headers:this.buildAuthHeaders()});if(!r.ok)throw new Error(`Failed to fetch settings: ${r.statusText}`);return await r.json()}async updateSettings(r){const s=await fetch(`${ms}/school-aid/settings`,{method:"PUT",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify(r)});if(!s.ok)throw new Error(`Failed to update settings: ${s.statusText}`)}async testConfiguration(r){const s=await fetch(`${ms}/school-aid/settings/test/${r}`,{method:"POST",headers:this.buildAuthHeaders()});if(!s.ok)throw new Error(`Failed to test configuration: ${s.statusText}`);return await s.json()}async getBudgets(r){const s=new URLSearchParams;r&&s.append("school_year",r);const a=await fetch(`${ms}/school-aid/budgets?${s.toString()}`,{headers:this.buildAuthHeaders()});if(!a.ok)throw new Error(`Failed to fetch budgets: ${a.statusText}`);return(await a.json()).budgets||[]}async createOrUpdateBudget(r){const s=await fetch(`${ms}/school-aid/budget`,{method:"POST",headers:this.buildAuthHeaders({"Content-Type":"application/json"}),body:JSON.stringify(r)});if(!s.ok){const a=await s.json().catch(()=>({}));throw new Error(a.message||a.error||`Failed to save budget: ${s.statusText}`)}return await s.json()}}const Ds=new Q8,eB=()=>{const t=$a(),[r]=I3(),[s,a]=f.useState(!0),[n,i]=f.useState(!1),[l,c]=f.useState(null);f.useEffect(()=>{(async()=>{try{const x=r.get("application_id"),g=r.get("checkout_session_id"),b=r.get("transaction_id");(x||g||b)&&(await Ds.revertApplicationOnCancel({application_id:x||void 0,checkout_session_id:g||void 0,transaction_id:b||void 0})).success&&i(!0)}catch(x){console.error("Error reverting application status:",x),x.message&&!x.message.includes("not found")&&c(x.message)}finally{a(!1)}})()},[r]);const u=()=>{t("/admin",{state:{activeItem:"school-aid-distribution",activeTab:"applications"}})},h=()=>{const m=r.get("application_id");m?t("/admin",{state:{activeItem:"school-aid-distribution",activeTab:"applications",retryApplicationId:m}}):u()};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8 text-center",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-4",children:e.jsx(jt,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Payment Cancelled"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"The payment process was cancelled. No charges were made."})]}),e.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6",children:s?e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(Lr,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Reverting application status..."})]}):n?e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Your application status has been reverted to ",e.jsx("strong",{children:"approved"}),". You can retry the payment process at any time."]}):l?e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l}):e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["You can retry the payment process at any time. Your application status has been reverted to ",e.jsx("strong",{children:"approved"}),"."]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center space-x-2 bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 px-4 rounded-lg transition-colors",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{children:"Retry Payment"})]}),e.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center space-x-2 bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-800 dark:text-white font-medium py-3 px-4 rounded-lg transition-colors",children:[e.jsx(dw,{className:"w-4 h-4"}),e.jsx("span",{children:"Back to Applications"})]})]})]})})},tB="modulepreload",rB=function(t){return"/"+t},TS={},Cr=function(r,s,a){let n=Promise.resolve();if(s&&s.length>0){let u=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");n=u(s.map(h=>{if(h=rB(h),h in TS)return;TS[h]=!0;const m=h.endsWith(".css"),x=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":tB,m||(g.as="script"),g.crossOrigin="",g.href=h,c&&g.setAttribute("nonce",c),document.head.appendChild(g),m)return new Promise((b,y)=>{g.addEventListener("load",b),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return n.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return r().catch(i)})},Rb={en:{Dashboard:"Dashboard",Home:"Home",Settings:"Settings",Profile:"Profile",Logout:"Logout",Login:"Login",Register:"Register",Save:"Save",Cancel:"Cancel",Delete:"Delete",Edit:"Edit",Add:"Add",Create:"Create",Update:"Update",Submit:"Submit",Reset:"Reset",Search:"Search",Filter:"Filter",Sort:"Sort",Export:"Export",Import:"Import",Download:"Download",Upload:"Upload",View:"View",Details:"Details",Close:"Close",Back:"Back",Next:"Next",Previous:"Previous","Loading...":"Loading...","Saving...":"Saving...","Processing...":"Processing...",Success:"Success",Error:"Error",Warning:"Warning",Info:"Info",Confirm:"Confirm",Yes:"Yes",No:"No",OK:"OK",Apply:"Apply",Clear:"Clear",Refresh:"Refresh",Reload:"Reload",Copy:"Copy",Paste:"Paste",Cut:"Cut",Undo:"Undo",Redo:"Redo","Select All":"Select All","Deselect All":"Deselect All",Select:"Select",Deselect:"Deselect",Enable:"Enable",Disable:"Disable",Active:"Active",Inactive:"Inactive",Online:"Online",Offline:"Offline",Available:"Available",Unavailable:"Unavailable",Public:"Public",Private:"Private",Draft:"Draft",Published:"Published",Archived:"Archived",Pending:"Pending",Approved:"Approved",Rejected:"Rejected",Completed:"Completed","In Progress":"In Progress",Cancelled:"Cancelled",Expired:"Expired",New:"New",Old:"Old",Recent:"Recent",Popular:"Popular",Featured:"Featured",Recommended:"Recommended","Best Seller":"Best Seller","Top Rated":"Top Rated",Latest:"Latest",Oldest:"Oldest",Ascending:"Ascending",Descending:"Descending",Name:"Name",Title:"Title",Description:"Description",Content:"Content",Message:"Message",Note:"Note",Comment:"Comment",Review:"Review",Rating:"Rating",Price:"Price",Cost:"Cost",Amount:"Amount",Quantity:"Quantity",Total:"Total",Subtotal:"Subtotal",Tax:"Tax",Discount:"Discount",Shipping:"Shipping",Date:"Date",Time:"Time","Start Date":"Start Date","End Date":"End Date","Created At":"Created At","Updated At":"Updated At","Last Modified":"Last Modified","First Name":"First Name","Last Name":"Last Name","Middle Name":"Middle Name","Full Name":"Full Name",Email:"Email",Phone:"Phone",Mobile:"Mobile",Address:"Address",City:"City",State:"State",Country:"Country","Zip Code":"Zip Code","Postal Code":"Postal Code",Username:"Username",Password:"Password","Confirm Password":"Confirm Password","Current Password":"Current Password","New Password":"New Password","Old Password":"Old Password","Remember Me":"Remember Me","Forgot Password":"Forgot Password","Reset Password":"Reset Password","Change Password":"Change Password",Account:"Account",User:"User",Users:"Users",Admin:"Admin",Administrator:"Administrator",Manager:"Manager",Staff:"Staff",Employee:"Employee",Customer:"Customer",Client:"Client",Guest:"Guest",Visitor:"Visitor",Member:"Member",Student:"Student",Teacher:"Teacher",Instructor:"Instructor",Professor:"Professor",School:"School",University:"University",College:"College",Department:"Department",Course:"Course",Subject:"Subject",Class:"Class",Grade:"Grade",Score:"Score",Mark:"Mark",Result:"Result",Exam:"Exam",Test:"Test",Quiz:"Quiz",Assignment:"Assignment",Homework:"Homework",Project:"Project",Report:"Report",Document:"Document",File:"File",Folder:"Folder",Directory:"Directory",Path:"Path",URL:"URL",Link:"Link",Image:"Image",Photo:"Photo",Picture:"Picture",Video:"Video",Audio:"Audio",Music:"Music",Sound:"Sound",Text:"Text",Data:"Data",Information:"Information",Details:"Details",Summary:"Summary",Overview:"Overview",Preview:"Preview","Full Screen":"Full Screen",Print:"Print",Share:"Share",Send:"Send",Receive:"Receive",Read:"Read",Unread:"Unread","Mark as Read":"Mark as Read","Mark as Unread":"Mark as Unread",Reply:"Reply",Forward:"Forward",Archive:"Archive",Unarchive:"Unarchive",Star:"Star",Unstar:"Unstar",Favorite:"Favorite",Unfavorite:"Unfavorite",Like:"Like",Unlike:"Unlike",Follow:"Follow",Unfollow:"Unfollow",Subscribe:"Subscribe",Unsubscribe:"Unsubscribe",Join:"Join",Leave:"Leave",Enter:"Enter",Exit:"Exit",Start:"Start",Stop:"Stop",Pause:"Pause",Resume:"Resume",Play:"Play",Record:"Record","Stop Recording":"Stop Recording","Pause Recording":"Pause Recording","Resume Recording":"Resume Recording","Upload File":"Upload File","Choose File":"Choose File",Browse:"Browse","Select File":"Select File","Drop files here":"Drop files here","Drag and drop files here":"Drag and drop files here","File uploaded successfully":"File uploaded successfully","File upload failed":"File upload failed","Invalid file type":"Invalid file type","File too large":"File too large","File not found":"File not found","Access denied":"Access denied","Permission denied":"Permission denied",Unauthorized:"Unauthorized",Forbidden:"Forbidden","Not found":"Not found","Page not found":"Page not found","Server error":"Server error","Network error":"Network error","Connection error":"Connection error",Timeout:"Timeout","Try again":"Try again",Retry:"Retry","Something went wrong":"Something went wrong","An error occurred":"An error occurred","Please try again":"Please try again","Please wait":"Please wait","Please select":"Please select","Please enter":"Please enter","Please fill in":"Please fill in","Required field":"Required field","Optional field":"Optional field","Invalid input":"Invalid input","Invalid format":"Invalid format","Invalid email":"Invalid email","Invalid phone":"Invalid phone","Invalid date":"Invalid date","Invalid time":"Invalid time","Invalid number":"Invalid number","Invalid URL":"Invalid URL","Invalid file":"Invalid file","Field is required":"Field is required","This field is required":"This field is required","Please enter a valid email":"Please enter a valid email","Please enter a valid phone number":"Please enter a valid phone number","Please enter a valid date":"Please enter a valid date","Please enter a valid time":"Please enter a valid time","Please enter a valid number":"Please enter a valid number","Please enter a valid URL":"Please enter a valid URL","Please select a file":"Please select a file","Please select at least one item":"Please select at least one item","Please select at least one option":"Please select at least one option","No data available":"No data available","No results found":"No results found","No items found":"No items found","No files found":"No files found","No records found":"No records found","No matches found":"No matches found","Nothing to display":"Nothing to display",Empty:"Empty",None:"None",All:"All",Any:"Any",Other:"Other",More:"More",Less:"Less","Show More":"Show More","Show Less":"Show Less","Show All":"Show All","Hide All":"Hide All",Expand:"Expand",Collapse:"Collapse",Open:"Open",Close:"Close",Minimize:"Minimize",Maximize:"Maximize",Restore:"Restore",Fullscreen:"Fullscreen","Exit Fullscreen":"Exit Fullscreen","Zoom In":"Zoom In","Zoom Out":"Zoom Out","Reset Zoom":"Reset Zoom","Fit to Screen":"Fit to Screen","Actual Size":"Actual Size",Auto:"Auto",Manual:"Manual",Automatic:"Automatic",Custom:"Custom",Default:"Default",Standard:"Standard",Basic:"Basic",Advanced:"Advanced",Expert:"Expert",Beginner:"Beginner",Intermediate:"Intermediate",Professional:"Professional",Enterprise:"Enterprise",Premium:"Premium",Free:"Free",Paid:"Paid",Trial:"Trial",Demo:"Demo",Beta:"Beta",Alpha:"Alpha",Stable:"Stable",Development:"Development",Production:"Production",Testing:"Testing",Debug:"Debug",Release:"Release",Version:"Version",Update:"Update",Upgrade:"Upgrade",Downgrade:"Downgrade",Install:"Install",Uninstall:"Uninstall",Setup:"Setup",Configure:"Configure",Settings:"Settings",Preferences:"Preferences",Options:"Options",Properties:"Properties",Attributes:"Attributes",Parameters:"Parameters",Variables:"Variables",Constants:"Constants",Functions:"Functions",Methods:"Methods",Classes:"Classes",Objects:"Objects",Arrays:"Arrays",Lists:"Lists",Tables:"Tables",Forms:"Forms",Fields:"Fields",Inputs:"Inputs",Outputs:"Outputs",Results:"Results",Responses:"Responses",Requests:"Requests",Queries:"Queries",Filters:"Filters",Sorting:"Sorting",Grouping:"Grouping",Pagination:"Pagination",Navigation:"Navigation",Menu:"Menu",Submenu:"Submenu",Dropdown:"Dropdown",Toolbar:"Toolbar",Sidebar:"Sidebar",Header:"Header",Footer:"Footer",Content:"Content",Main:"Main",Primary:"Primary",Secondary:"Secondary",Tertiary:"Tertiary","Primary Color":"Primary Color","Secondary Color":"Secondary Color","Accent Color":"Accent Color","Background Color":"Background Color","Text Color":"Text Color","Border Color":"Border Color","Link Color":"Link Color","Hover Color":"Hover Color","Active Color":"Active Color","Disabled Color":"Disabled Color","Success Color":"Success Color","Warning Color":"Warning Color","Error Color":"Error Color","Info Color":"Info Color",Light:"Light",Dark:"Dark",Theme:"Theme",Language:"Language",English:"English",Filipino:"Filipino",Timezone:"Timezone","Date Format":"Date Format","Time Format":"Time Format","12 Hour":"12 Hour","24 Hour":"24 Hour","Items Per Page":"Items Per Page","Save Settings":"Save Settings","System settings updated and applied":"System settings updated and applied","Confirm Settings Update":"Confirm Settings Update","Are you sure you want to save these changes? This will update your settings in the database and apply them immediately.":"Are you sure you want to save these changes? This will update your settings in the database and apply them immediately.","Save Changes":"Save Changes","Current Settings (Debug)":"Current Settings (Debug)",Profile:"Profile",Security:"Security",Notifications:"Notifications",System:"System","Admin Tools":"Admin Tools","Personal Information":"Personal Information","Email Address":"Email Address","Mobile Number":"Mobile Number","Save Profile":"Save Profile","Profile updated successfully":"Profile updated successfully","Change Password":"Change Password","Password changed successfully":"Password changed successfully",Weak:"Weak",Medium:"Medium",Strong:"Strong",Match:"Match","No Match":"No Match","Notification Preferences":"Notification Preferences","Email Notifications":"Email Notifications","SMS Alerts":"SMS Alerts","Push Notifications":"Push Notifications","Weekly Reports":"Weekly Reports","System Updates":"System Updates","Receive notifications via email":"Receive notifications via email","Receive SMS alerts for important updates":"Receive SMS alerts for important updates","Receive push notifications in browser":"Receive push notifications in browser","Receive weekly summary reports":"Receive weekly summary reports","Receive system maintenance notifications":"Receive system maintenance notifications","Save Preferences":"Save Preferences","SSC Management":"SSC Management","My Interviews":"My Interviews","Pending Interviews":"Pending Interviews","All Interviews":"All Interviews","Access Denied":"Access Denied","Logging out...":"Logging out...",Logout:"Logout","School Aid Distribution":"School Aid Distribution","Student Registry":"Student Registry","Active Students":"Active Students","Archived Students":"Archived Students",Scholars:"Scholars","Bulk Operations":"Bulk Operations","Reports & Analytics":"Reports & Analytics","Import/Export":"Import/Export","Partner School Database":"Partner School Database","School Management":"School Management","Student Population":"Student Population","Verification & Accreditation":"Verification & Accreditation","Analytics & Reports":"Analytics & Reports","Education Monitoring":"Education Monitoring","Academic Performance":"Academic Performance","Enrollment Statistics":"Enrollment Statistics","Student Progress":"Student Progress",Analytics:"Analytics","User Management":"User Management","Roles & Permissions":"Roles & Permissions","Activity Logs":"Activity Logs","Audit Logs":"Audit Logs","System Logs":"System Logs","User Activity":"User Activity","Security Events":"Security Events","Security Settings":"Security Settings","Security Monitoring":"Security Monitoring","Archived Data":"Archived Data","Archived Applications":"Archived Applications","Archived Reports":"Archived Reports"},fil:{Dashboard:"Dashboard",Home:"Bahay",Settings:"Mga Setting",Profile:"Profil",Logout:"Mag-logout",Login:"Mag-login",Register:"Mag-register",Save:"I-save",Cancel:"Kanselahin",Delete:"Tanggalin",Edit:"I-edit",Add:"Magdagdag",Create:"Gumawa",Update:"I-update",Submit:"I-submit",Reset:"I-reset",Search:"Maghanap",Filter:"I-filter",Sort:"I-sort",Export:"I-export",Import:"I-import",Download:"I-download",Upload:"I-upload",View:"Tingnan",Details:"Mga Detalye",Close:"Isara",Back:"Bumalik",Next:"Susunod",Previous:"Nakaraan","Loading...":"Naglo-load...","Saving...":"Nagse-save...","Processing...":"Pinoproseso...",Success:"Tagumpay",Error:"Error",Warning:"Babala",Info:"Impormasyon",Confirm:"Kumpirmahin",Yes:"Oo",No:"Hindi",OK:"OK",Apply:"I-apply",Clear:"I-clear",Refresh:"I-refresh",Reload:"I-reload",Copy:"I-copy",Paste:"I-paste",Cut:"I-cut",Undo:"I-undo",Redo:"I-redo","Select All":"Piliin Lahat","Deselect All":"Tanggalin Lahat",Select:"Piliin",Deselect:"Tanggalin",Enable:"I-enable",Disable:"I-disable",Active:"Aktibo",Inactive:"Hindi Aktibo",Online:"Online",Offline:"Offline",Available:"Available",Unavailable:"Hindi Available",Public:"Publiko",Private:"Pribado",Draft:"Draft",Published:"Nai-publish",Archived:"Nai-archive",Pending:"Pending",Approved:"Na-approve",Rejected:"Na-reject",Completed:"Natapos","In Progress":"Ginagawa",Cancelled:"Na-cancel",Expired:"Nag-expire",New:"Bago",Old:"Luma",Recent:"Kamakailan",Popular:"Sikat",Featured:"Featured",Recommended:"Inirerekomenda","Best Seller":"Pinakamabenta","Top Rated":"Pinakamataas na Rating",Latest:"Pinakabago",Oldest:"Pinakaluma",Ascending:"Pataas",Descending:"Pababa",Name:"Pangalan",Title:"Pamagat",Description:"Paglalarawan",Content:"Nilalaman",Message:"Mensahe",Note:"Tala",Comment:"Komento",Review:"Review",Rating:"Rating",Price:"Presyo",Cost:"Gastos",Amount:"Halaga",Quantity:"Dami",Total:"Kabuuan",Subtotal:"Subtotal",Tax:"Buwis",Discount:"Diskuwento",Shipping:"Shipping",Date:"Petsa",Time:"Oras","Start Date":"Simula ng Petsa","End Date":"Katapusan ng Petsa","Created At":"Ginawa Noong","Updated At":"Na-update Noong","Last Modified":"Huling Binago","First Name":"Pangalan","Last Name":"Apelyido","Middle Name":"Gitnang Pangalan","Full Name":"Buong Pangalan",Email:"Email",Phone:"Telepono",Mobile:"Mobile",Address:"Address",City:"Lungsod",State:"Estado",Country:"Bansa","Zip Code":"Zip Code","Postal Code":"Postal Code",Username:"Username",Password:"Password","Confirm Password":"Kumpirmahin ang Password","Current Password":"Kasalukuyang Password","New Password":"Bagong Password","Old Password":"Lumang Password","Remember Me":"Tandaan Ako","Forgot Password":"Nakalimutan ang Password","Reset Password":"I-reset ang Password","Change Password":"Palitan ang Password",Account:"Account",User:"User",Users:"Mga User",Admin:"Admin",Administrator:"Administrator",Manager:"Manager",Staff:"Staff",Employee:"Empleyado",Customer:"Customer",Client:"Client",Guest:"Bisita",Visitor:"Bisita",Member:"Miyembro",Student:"Estudyante",Teacher:"Guro",Instructor:"Instructor",Professor:"Propesor",School:"Paaralan",University:"Unibersidad",College:"Kolehiyo",Department:"Departamento",Course:"Kurso",Subject:"Paksa",Class:"Klase",Grade:"Marka",Score:"Puntos",Mark:"Marka",Result:"Resulta",Exam:"Eksamen",Test:"Test",Quiz:"Quiz",Assignment:"Assignment",Homework:"Takdang Aralin",Project:"Proyekto",Report:"Ulat",Document:"Dokumento",File:"File",Folder:"Folder",Directory:"Directory",Path:"Path",URL:"URL",Link:"Link",Image:"Larawan",Photo:"Larawan",Picture:"Larawan",Video:"Video",Audio:"Audio",Music:"Musika",Sound:"Tunog",Text:"Teksto",Data:"Data",Information:"Impormasyon",Details:"Mga Detalye",Summary:"Buod",Overview:"Pangkalahatang Tingin",Preview:"Preview","Full Screen":"Buong Screen",Print:"I-print",Share:"I-share",Send:"Ipadala",Receive:"Tumanggap",Read:"Basahin",Unread:"Hindi Nabasa","Mark as Read":"Markahan bilang Nabasa","Mark as Unread":"Markahan bilang Hindi Nabasa",Reply:"Sumagot",Forward:"I-forward",Archive:"I-archive",Unarchive:"I-unarchive",Star:"I-star",Unstar:"I-unstar",Favorite:"Paborito",Unfavorite:"I-unfavorite",Like:"I-like",Unlike:"I-unlike",Follow:"I-follow",Unfollow:"I-unfollow",Subscribe:"Mag-subscribe",Unsubscribe:"Mag-unsubscribe",Join:"Sumali",Leave:"Umalis",Enter:"Pumasok",Exit:"Lumabas",Start:"Simula",Stop:"Tigil",Pause:"Pause",Resume:"I-resume",Play:"I-play",Record:"I-record","Stop Recording":"Itigil ang Recording","Pause Recording":"I-pause ang Recording","Resume Recording":"I-resume ang Recording","Upload File":"I-upload ang File","Choose File":"Piliin ang File",Browse:"I-browse","Select File":"Piliin ang File","Drop files here":"I-drop ang mga file dito","Drag and drop files here":"I-drag at i-drop ang mga file dito","File uploaded successfully":"Matagumpay na na-upload ang file","File upload failed":"Nabigo ang pag-upload ng file","Invalid file type":"Hindi wastong uri ng file","File too large":"Masyadong malaki ang file","File not found":"Hindi nahanap ang file","Access denied":"Tinanggihan ang access","Permission denied":"Tinanggihan ang pahintulot",Unauthorized:"Hindi awtorisado",Forbidden:"Bawal","Not found":"Hindi nahanap","Page not found":"Hindi nahanap ang pahina","Server error":"Error ng server","Network error":"Error ng network","Connection error":"Error ng koneksyon",Timeout:"Timeout","Try again":"Subukan ulit",Retry:"I-retry","Something went wrong":"May mali","An error occurred":"May naganap na error","Please try again":"Pakiusap subukan ulit","Please wait":"Pakiusap maghintay","Please select":"Pakiusap piliin","Please enter":"Pakiusap ilagay","Please fill in":"Pakiusap punan","Required field":"Kailangang field","Optional field":"Opsiyonal na field","Invalid input":"Hindi wastong input","Invalid format":"Hindi wastong format","Invalid email":"Hindi wastong email","Invalid phone":"Hindi wastong telepono","Invalid date":"Hindi wastong petsa","Invalid time":"Hindi wastong oras","Invalid number":"Hindi wastong numero","Invalid URL":"Hindi wastong URL","Invalid file":"Hindi wastong file","Field is required":"Kailangan ang field","This field is required":"Kailangan ang field na ito","Please enter a valid email":"Pakiusap maglagay ng wastong email","Please enter a valid phone number":"Pakiusap maglagay ng wastong numero ng telepono","Please enter a valid date":"Pakiusap maglagay ng wastong petsa","Please enter a valid time":"Pakiusap maglagay ng wastong oras","Please enter a valid number":"Pakiusap maglagay ng wastong numero","Please enter a valid URL":"Pakiusap maglagay ng wastong URL","Please select a file":"Pakiusap piliin ang file","Please select at least one item":"Pakiusap piliin ang kahit isang item","Please select at least one option":"Pakiusap piliin ang kahit isang opsiyon","No data available":"Walang available na data","No results found":"Walang nahanap na resulta","No items found":"Walang nahanap na item","No files found":"Walang nahanap na file","No records found":"Walang nahanap na record","No matches found":"Walang nahanap na tugma","Nothing to display":"Walang ipapakita",Empty:"Walang laman",None:"Wala",All:"Lahat",Any:"Kahit ano",Other:"Iba pa",More:"Marami pa",Less:"Konti pa","Show More":"Ipakita ang Marami pa","Show Less":"Ipakita ang Konti pa","Show All":"Ipakita Lahat","Hide All":"Itago Lahat",Expand:"I-expand",Collapse:"I-collapse",Open:"Buksan",Close:"Isara",Minimize:"I-minimize",Maximize:"I-maximize",Restore:"I-restore",Fullscreen:"Buong screen","Exit Fullscreen":"Lumabas sa buong screen","Zoom In":"I-zoom in","Zoom Out":"I-zoom out","Reset Zoom":"I-reset ang zoom","Fit to Screen":"I-fit sa screen","Actual Size":"Aktwal na laki",Auto:"Awtomatiko",Manual:"Manual",Automatic:"Awtomatiko",Custom:"Custom",Default:"Default",Standard:"Standard",Basic:"Basic",Advanced:"Advanced",Expert:"Eksperto",Beginner:"Nagsisimula",Intermediate:"Katamtaman",Professional:"Propesyonal",Enterprise:"Enterprise",Premium:"Premium",Free:"Libre",Paid:"Bayad",Trial:"Trial",Demo:"Demo",Beta:"Beta",Alpha:"Alpha",Stable:"Stable",Development:"Development",Production:"Production",Testing:"Testing",Debug:"Debug",Release:"Release",Version:"Bersyon",Update:"I-update",Upgrade:"I-upgrade",Downgrade:"I-downgrade",Install:"I-install",Uninstall:"I-uninstall",Setup:"I-setup",Configure:"I-configure",Settings:"Mga Setting",Preferences:"Mga Kagustuhan",Options:"Mga Opsiyon",Properties:"Mga Katangian",Attributes:"Mga Katangian",Parameters:"Mga Parameter",Variables:"Mga Variable",Constants:"Mga Constant",Functions:"Mga Function",Methods:"Mga Method",Classes:"Mga Class",Objects:"Mga Object",Arrays:"Mga Array",Lists:"Mga Lista",Tables:"Mga Talaan",Forms:"Mga Form",Fields:"Mga Field",Inputs:"Mga Input",Outputs:"Mga Output",Results:"Mga Resulta",Responses:"Mga Response",Requests:"Mga Request",Queries:"Mga Query",Filters:"Mga Filter",Sorting:"Pag-sort",Grouping:"Pag-grupo",Pagination:"Pagination",Navigation:"Navigation",Menu:"Menu",Submenu:"Submenu",Dropdown:"Dropdown",Toolbar:"Toolbar",Sidebar:"Sidebar",Header:"Header",Footer:"Footer",Content:"Nilalaman",Main:"Pangunahin",Primary:"Primary",Secondary:"Secondary",Tertiary:"Tertiary","Primary Color":"Primary na Kulay","Secondary Color":"Secondary na Kulay","Accent Color":"Accent na Kulay","Background Color":"Kulay ng Background","Text Color":"Kulay ng Text","Border Color":"Kulay ng Border","Link Color":"Kulay ng Link","Hover Color":"Kulay ng Hover","Active Color":"Kulay ng Active","Disabled Color":"Kulay ng Disabled","Success Color":"Kulay ng Success","Warning Color":"Kulay ng Warning","Error Color":"Kulay ng Error","Info Color":"Kulay ng Info",Light:"Maliwanag",Dark:"Madilim",Theme:"Tema",Language:"Wika",English:"Ingles",Filipino:"Filipino",Timezone:"Timezone","Date Format":"Format ng Petsa","Time Format":"Format ng Oras","12 Hour":"12 Oras","24 Hour":"24 Oras","Items Per Page":"Mga Item sa Bawat Pahina","Save Settings":"I-save ang Settings","System settings updated and applied":"Na-update at na-apply ang mga setting ng sistema","Confirm Settings Update":"Kumpirmahin ang Update ng Settings","Are you sure you want to save these changes? This will update your settings in the database and apply them immediately.":"Sigurado ka bang gusto mong i-save ang mga pagbabagong ito? I-uupdate nito ang iyong mga setting sa database at ia-apply agad.","Save Changes":"I-save ang mga Pagbabago","Current Settings (Debug)":"Kasalukuyang Settings (Debug)",Profile:"Profil",Security:"Seguridad",Notifications:"Mga Abiso",System:"Sistema","Admin Tools":"Mga Tool ng Admin","Personal Information":"Impormasyon ng Personal","Email Address":"Email Address","Mobile Number":"Numero ng Mobile","Save Profile":"I-save ang Profil","Profile updated successfully":"Matagumpay na na-update ang profil","Change Password":"Palitan ang Password","Password changed successfully":"Matagumpay na napalitan ang password",Weak:"Mahina",Medium:"Katamtaman",Strong:"Malakas",Match:"Tugma","No Match":"Hindi Tugma","Notification Preferences":"Mga Kagustuhan sa Abiso","Email Notifications":"Mga Abiso sa Email","SMS Alerts":"Mga Alert sa SMS","Push Notifications":"Mga Push Notification","Weekly Reports":"Mga Ulat Lingguhan","System Updates":"Mga Update ng Sistema","Receive notifications via email":"Tumanggap ng mga abiso sa pamamagitan ng email","Receive SMS alerts for important updates":"Tumanggap ng mga alert sa SMS para sa mahahalagang update","Receive push notifications in browser":"Tumanggap ng mga push notification sa browser","Receive weekly summary reports":"Tumanggap ng mga lingguhang ulat","Receive system maintenance notifications":"Tumanggap ng mga abiso sa maintenance ng sistema","Save Preferences":"I-save ang mga Kagustuhan","SSC Management":"Pamahalaan ng SSC","My Interviews":"Aking mga Interview","Pending Interviews":"Mga Pending na Interview","All Interviews":"Lahat ng Interview","Access Denied":"Tinanggihan ang Access","Logging out...":"Naglo-logout...",Logout:"Mag-logout","School Aid Distribution":"Pamamahagi ng Tulong sa Paaralan","Student Registry":"Registry ng Estudyante","Active Students":"Aktibong Estudyante","Archived Students":"Na-archive na Estudyante",Scholars:"Mga Scholar","Bulk Operations":"Mga Bulk na Operasyon","Reports & Analytics":"Mga Ulat at Analytics","Import/Export":"Import/Export","Partner School Database":"Database ng Partner School","School Management":"Pamahalaan ng Paaralan","Student Population":"Populasyon ng Estudyante","Verification & Accreditation":"Verification at Accreditation","Analytics & Reports":"Analytics at Ulat","Education Monitoring":"Monitoring ng Edukasyon","Academic Performance":"Performance sa Akademiko","Enrollment Statistics":"Mga Estadistika ng Enrollment","Student Progress":"Progreso ng Estudyante",Analytics:"Analytics","User Management":"Pamahalaan ng User","Roles & Permissions":"Mga Role at Pahintulot","Activity Logs":"Mga Log ng Aktibidad","Audit Logs":"Mga Log ng Audit","System Logs":"Mga Log ng Sistema","User Activity":"Aktibidad ng User","Security Events":"Mga Event ng Seguridad","Security Settings":"Mga Setting ng Seguridad","Security Monitoring":"Monitoring ng Seguridad","Archived Data":"Na-archive na Data","Archived Applications":"Na-archive na Applications","Archived Reports":"Na-archive na Ulat"}},sB=Object.freeze(Object.defineProperty({__proto__:null,globalTranslations:Rb},Symbol.toStringTag,{value:"Module"})),ac={en:{Dashboard:"Dashboard",Settings:"Settings",Profile:"Profile",Logout:"Logout","SSC Management":"SSC Management","School Aid Distribution":"School Aid Distribution","Student Registry":"Student Registry",Overview:"Overview","Active Students":"Active Students","Archived Students":"Archived Students",Scholars:"Scholars","Bulk Operations":"Bulk Operations","Reports & Analytics":"Reports & Analytics","Import/Export":"Import/Export","Partner School Database":"Partner School Database","School Management":"School Management","Student Population":"Student Population","Verification & Accreditation":"Verification & Accreditation","Analytics & Reports":"Analytics & Reports","Education Monitoring":"Education Monitoring","Academic Performance":"Academic Performance","Enrollment Statistics":"Enrollment Statistics","Student Progress":"Student Progress",Analytics:"Analytics","User Management":"User Management","Audit Logs":"Audit Logs",Security:"Security","Document Security":"Document Security","Threat Monitoring":"Threat Monitoring",Quarantine:"Quarantine","Security Settings":"Security Settings","Archived Data":"Archived Data",Applications:"Applications",Programs:"Programs",Scholarship:"Scholarship"},fil:{Dashboard:"Dashboard",Settings:"Mga Setting",Profile:"Profil",Logout:"Mag-logout","SSC Management":"Pamahalaan ng SSC","School Aid Distribution":"Pamamahagi ng Tulong sa Paaralan","Student Registry":"Registry ng Estudyante",Overview:"Pangkalahatang Tingin","Active Students":"Aktibong Estudyante","Archived Students":"Na-archive na Estudyante",Scholars:"Mga Scholar","Bulk Operations":"Mga Bulk na Operasyon","Reports & Analytics":"Mga Ulat at Analytics","Import/Export":"Import/Export","Partner School Database":"Database ng Partner School","School Management":"Pamahalaan ng Paaralan","Student Population":"Populasyon ng Estudyante","Verification & Accreditation":"Verification at Accreditation","Analytics & Reports":"Analytics at Ulat","Education Monitoring":"Monitoring ng Edukasyon","Academic Performance":"Performance sa Akademiko","Enrollment Statistics":"Mga Estadistika ng Enrollment","Student Progress":"Progreso ng Estudyante",Analytics:"Analytics","User Management":"Pamahalaan ng User","Audit Logs":"Mga Log ng Audit",Security:"Seguridad","Document Security":"Seguridad ng Dokumento","Threat Monitoring":"Monitoring ng Banta",Quarantine:"Quarantine","Security Settings":"Mga Setting ng Seguridad","Archived Data":"Na-archive na Data",Applications:"Mga Application",Programs:"Mga Programa",Scholarship:"Scholarship"}};class aB{constructor(){this.currentLanguage=localStorage.getItem("language")||"en",this.translations=Rb||ac,this.listeners=[],console.log("TranslationService initialized:",{currentLanguage:this.currentLanguage,hasTranslations:!!this.translations,translationKeys:this.translations?Object.keys(this.translations):[]})}t(r,s={}){try{if(this.ensureTranslationsLoaded(),!this.translations||!this.translations[this.currentLanguage])return console.warn("Translations not loaded, using key as fallback:",r),r;const a=this.translations[this.currentLanguage][r]||r;return typeof a=="string"?a.replace(/\{(\w+)\}/g,(n,i)=>s[i]||n):a}catch(a){return console.error("Translation error:",a,"Key:",r),r}}setLanguage(r){this.currentLanguage=r,localStorage.setItem("language",r),document.documentElement.lang=r,this.listeners.forEach(s=>s(r)),window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:r}}))}getCurrentLanguage(){return this.currentLanguage}getAvailableLanguages(){return[{code:"en",name:"English",nativeName:"English"},{code:"fil",name:"Filipino",nativeName:"Filipino"}]}hasTranslation(r){return this.ensureTranslationsLoaded(),this.translations[this.currentLanguage]?.hasOwnProperty(r)||!1}getAllTranslations(){return this.ensureTranslationsLoaded(),this.translations[this.currentLanguage]||{}}getStatus(){return{currentLanguage:this.currentLanguage,hasTranslations:!!this.translations,translationCount:this.translations?Object.keys(this.translations).length:0,currentLanguageTranslations:this.translations?.[this.currentLanguage]?Object.keys(this.translations[this.currentLanguage]).length:0,isUsingFallback:this.translations===ac}}ensureTranslationsLoaded(){(!this.translations||Object.keys(this.translations).length===0)&&(console.warn("Translations not loaded, attempting to reload..."),this.translations=Rb||ac)}reloadTranslations(){try{Cr(async()=>{const{globalTranslations:r}=await Promise.resolve().then(()=>sB);return{globalTranslations:r}},[]).then(({globalTranslations:r})=>{this.translations=r||ac,console.log("Translations reloaded successfully")}).catch(()=>{this.translations=ac,console.log("Using fallback translations")})}catch(r){console.error("Error reloading translations:",r),this.translations=ac}}subscribe(r){return this.listeners.push(r),()=>{this.listeners=this.listeners.filter(s=>s!==r)}}changeLanguage(r){this.setLanguage(r)}}const Ea=new aB,nB=[{id:"dashboard",icon:Kl,label:"Dashboard"},{id:"scholarship",icon:gs,label:"Scholarship",subItems:[{id:"scholarship-applications",label:"Applications"},{id:"scholarship-programs",label:"Programs"},{id:"scholarship-ssc",label:"SSC Management"}]},{id:"sad",icon:bu,label:"School Aid Distribution",subItems:[{id:"sad-overview",label:"Overview"},{id:"sad-disbursement-history",label:"Disbursement History"}]},{id:"studentRegistry",icon:jc,label:"Student Registry",subItems:[{id:"studentRegistry-overview",label:"Overview"},{id:"studentRegistry-directory",label:"Student Directory"},{id:"studentRegistry-reports",label:"Reports & Analytics"},{id:"studentRegistry-tools",label:"Import/Export"}]},{id:"psd",icon:g9,label:"Partner School Database",subItems:[{id:"psd-school-management",label:"School Management"},{id:"psd-student-population",label:"Student Population"},{id:"psd-guidelines",label:"Guidelines"},{id:"psd-applications",label:"Applications"},{id:"psd-analytics",label:"Analytics & Reports"},{id:"psd-settings",label:"Settings"}]},{id:"emr",icon:zu,label:"Education Monitoring",subItems:[{id:"emr-overview",label:"Overview"},{id:"emr-academic-performance",label:"Academic Performance"},{id:"emr-enrollment-statistics",label:"Enrollment Statistics"},{id:"emr-student-progress",label:"Student Progress"},{id:"emr-analytics",label:"Analytics"}]},{id:"user-management",icon:Ht,label:"User Management"},{id:"audit-logs",icon:Ir,label:"Audit Logs"},{id:"security",icon:Sb,label:"Security"},{id:"settings",icon:na,label:"Settings"},{id:"archived",icon:yu,label:"Archived Data"}],NP=(t,r,s=null)=>{if(!s)try{Ea.ensureTranslationsLoaded(),s=Ea.t.bind(Ea);const a=Ea.getStatus();console.log("Sidebar translation status:",a)}catch(a){console.error("Translation service error:",a),s=n=>n}return t==="ssc"||String(t).startsWith("ssc_")?[{id:"dashboard",icon:Kl,label:s("Dashboard")},{id:"scholarship",icon:gs,label:s("Scholarship"),subItems:[{id:"scholarship-ssc",label:s("SSC Management")}]},{id:"settings",icon:na,label:s("Settings")}]:t==="staff"?r?r==="interviewer"?[{id:"dashboard",icon:Kl,label:s("Dashboard")},{id:"interviews",icon:jc,label:s("My Interviews"),subItems:[{id:"interviews-pending",label:s("Pending Interviews")},{id:"interviews-completed",label:s("Completed")},{id:"interviews-all",label:s("All Interviews")}]},{id:"settings",icon:na,label:s("Settings")}]:r==="reviewer"?[{id:"dashboard",icon:Kl,label:s("Dashboard")},{id:"scholarship",icon:gs,label:s("Scholarship"),subItems:[{id:"scholarship-applications",label:s("Applications")}]},{id:"settings",icon:na,label:s("Settings")}]:r==="coordinator"?[{id:"dashboard",icon:Kl,label:s("Dashboard")},{id:"scholarship",icon:gs,label:s("Scholarship"),subItems:[{id:"scholarship-applications",label:s("Applications")},{id:"scholarship-programs",label:s("Programs")}]},{id:"studentRegistry",icon:jc,label:s("Student Registry"),subItems:[{id:"studentRegistry-overview",label:s("Overview")},{id:"studentRegistry-directory",label:s("Student Directory")}]},{id:"settings",icon:na,label:s("Settings")}]:[{id:"dashboard",icon:Kl,label:s("Dashboard")},{id:"settings",icon:na,label:s("Settings")}]:[{id:"access-denied",icon:Ir,label:s("Access Denied")}]:t==="admin"?nB.map(a=>({...a,label:s(a.label),subItems:a.subItems?a.subItems.map(n=>({...n,label:s(n.label)})):void 0})):[{id:"access-denied",icon:Ir,label:s("Access Denied")}]},Sw=f.createContext({});function _w(t){const r=f.useRef(null);return r.current===null&&(r.current=t()),r.current}const Aw=typeof window<"u",kP=Aw?f.useLayoutEffect:f.useEffect,Ex=f.createContext(null);function Cw(t,r){t.indexOf(r)===-1&&t.push(r)}function Pw(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const Si=(t,r,s)=>s>r?r:s<t?t:s;let Ew=()=>{};const _i={},SP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _P(t){return typeof t=="object"&&t!==null}const AP=t=>/^0[^.\s]+$/u.test(t);function Tw(t){let r;return()=>(r===void 0&&(r=t()),r)}const cn=t=>t,iB=(t,r)=>s=>r(t(s)),qu=(...t)=>t.reduce(iB),vu=(t,r,s)=>{const a=r-t;return a===0?1:(s-t)/a};class Dw{constructor(){this.subscriptions=[]}add(r){return Cw(this.subscriptions,r),()=>Pw(this.subscriptions,r)}notify(r,s,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](r,s,a);else for(let i=0;i<n;i++){const l=this.subscriptions[i];l&&l(r,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vn=t=>t*1e3,an=t=>t/1e3;function CP(t,r){return r?t*(1e3/r):0}const PP=(t,r,s)=>(((1-3*s+3*r)*t+(3*s-6*r))*t+3*r)*t,lB=1e-7,oB=12;function cB(t,r,s,a,n){let i,l,c=0;do l=r+(s-r)/2,i=PP(l,a,n)-t,i>0?s=l:r=l;while(Math.abs(i)>lB&&++c<oB);return l}function Hu(t,r,s,a){if(t===r&&s===a)return cn;const n=i=>cB(i,0,1,t,s);return i=>i===0||i===1?i:PP(n(i),r,a)}const EP=t=>r=>r<=.5?t(2*r)/2:(2-t(2*(1-r)))/2,TP=t=>r=>1-t(1-r),DP=Hu(.33,1.53,.69,.99),Rw=TP(DP),RP=EP(Rw),OP=t=>(t*=2)<1?.5*Rw(t):.5*(2-Math.pow(2,-10*(t-1))),Ow=t=>1-Math.sin(Math.acos(t)),IP=TP(Ow),MP=EP(Ow),dB=Hu(.42,0,1,1),uB=Hu(0,0,.58,1),LP=Hu(.42,0,.58,1),mB=t=>Array.isArray(t)&&typeof t[0]!="number",$P=t=>Array.isArray(t)&&typeof t[0]=="number",hB={linear:cn,easeIn:dB,easeInOut:LP,easeOut:uB,circIn:Ow,circInOut:MP,circOut:IP,backIn:Rw,backInOut:RP,backOut:DP,anticipate:OP},xB=t=>typeof t=="string",DS=t=>{if($P(t)){Ew(t.length===4);const[r,s,a,n]=t;return Hu(r,s,a,n)}else if(xB(t))return hB[t];return t},C0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function gB(t,r){let s=new Set,a=new Set,n=!1,i=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(m){l.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,x=!1,g=!1)=>{const y=g&&n?s:a;return x&&l.add(m),y.has(m)||y.add(m),m},cancel:m=>{a.delete(m),l.delete(m)},process:m=>{if(c=m,n){i=!0;return}n=!0,[s,a]=[a,s],s.forEach(u),s.clear(),n=!1,i&&(i=!1,h.process(m))}};return h}const pB=40;function FP(t,r){let s=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,l=C0.reduce((k,v)=>(k[v]=gB(i),k),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:m,update:x,preRender:g,render:b,postRender:y}=l,w=()=>{const k=_i.useManualTiming?n.timestamp:performance.now();s=!1,_i.useManualTiming||(n.delta=a?1e3/60:Math.max(Math.min(k-n.timestamp,pB),1)),n.timestamp=k,n.isProcessing=!0,c.process(n),u.process(n),h.process(n),m.process(n),x.process(n),g.process(n),b.process(n),y.process(n),n.isProcessing=!1,s&&r&&(a=!1,t(w))},N=()=>{s=!0,a=!0,n.isProcessing||t(w)};return{schedule:C0.reduce((k,v)=>{const A=l[v];return k[v]=(E,T=!1,F=!1)=>(s||N(),A.schedule(E,T,F)),k},{}),cancel:k=>{for(let v=0;v<C0.length;v++)l[C0[v]].cancel(k)},state:n,steps:l}}const{schedule:br,cancel:bl,state:ws,steps:gf}=FP(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0);let ah;function fB(){ah=void 0}const oa={now:()=>(ah===void 0&&oa.set(ws.isProcessing||_i.useManualTiming?ws.timestamp:performance.now()),ah),set:t=>{ah=t,queueMicrotask(fB)}},BP=t=>r=>typeof r=="string"&&r.startsWith(t),Iw=BP("--"),yB=BP("var(--"),Mw=t=>yB(t)?bB.test(t.split("/*")[0].trim()):!1,bB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Uc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wu={...Uc,transform:t=>Si(0,1,t)},P0={...Uc,default:1},lu=t=>Math.round(t*1e5)/1e5,Lw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vB(t){return t==null}const wB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$w=(t,r)=>s=>!!(typeof s=="string"&&wB.test(s)&&s.startsWith(t)||r&&!vB(s)&&Object.prototype.hasOwnProperty.call(s,r)),UP=(t,r,s)=>a=>{if(typeof a!="string")return a;const[n,i,l,c]=a.match(Lw);return{[t]:parseFloat(n),[r]:parseFloat(i),[s]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},jB=t=>Si(0,255,t),pf={...Uc,transform:t=>Math.round(jB(t))},Zl={test:$w("rgb","red"),parse:UP("red","green","blue"),transform:({red:t,green:r,blue:s,alpha:a=1})=>"rgba("+pf.transform(t)+", "+pf.transform(r)+", "+pf.transform(s)+", "+lu(wu.transform(a))+")"};function NB(t){let r="",s="",a="",n="";return t.length>5?(r=t.substring(1,3),s=t.substring(3,5),a=t.substring(5,7),n=t.substring(7,9)):(r=t.substring(1,2),s=t.substring(2,3),a=t.substring(3,4),n=t.substring(4,5),r+=r,s+=s,a+=a,n+=n),{red:parseInt(r,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const Ob={test:$w("#"),parse:NB,transform:Zl.transform},Gu=t=>({test:r=>typeof r=="string"&&r.endsWith(t)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${t}`}),dl=Gu("deg"),qn=Gu("%"),It=Gu("px"),kB=Gu("vh"),SB=Gu("vw"),RS={...qn,parse:t=>qn.parse(t)/100,transform:t=>qn.transform(t*100)},cc={test:$w("hsl","hue"),parse:UP("hue","saturation","lightness"),transform:({hue:t,saturation:r,lightness:s,alpha:a=1})=>"hsla("+Math.round(t)+", "+qn.transform(lu(r))+", "+qn.transform(lu(s))+", "+lu(wu.transform(a))+")"},Kr={test:t=>Zl.test(t)||Ob.test(t)||cc.test(t),parse:t=>Zl.test(t)?Zl.parse(t):cc.test(t)?cc.parse(t):Ob.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Zl.transform(t):cc.transform(t),getAnimatableNone:t=>{const r=Kr.parse(t);return r.alpha=0,Kr.transform(r)}},_B=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AB(t){return isNaN(t)&&typeof t=="string"&&(t.match(Lw)?.length||0)+(t.match(_B)?.length||0)>0}const zP="number",VP="color",CB="var",PB="var(",OS="${}",EB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ju(t){const r=t.toString(),s=[],a={color:[],number:[],var:[]},n=[];let i=0;const c=r.replace(EB,u=>(Kr.test(u)?(a.color.push(i),n.push(VP),s.push(Kr.parse(u))):u.startsWith(PB)?(a.var.push(i),n.push(CB),s.push(u)):(a.number.push(i),n.push(zP),s.push(parseFloat(u))),++i,OS)).split(OS);return{values:s,split:c,indexes:a,types:n}}function qP(t){return ju(t).values}function HP(t){const{split:r,types:s}=ju(t),a=r.length;return n=>{let i="";for(let l=0;l<a;l++)if(i+=r[l],n[l]!==void 0){const c=s[l];c===zP?i+=lu(n[l]):c===VP?i+=Kr.transform(n[l]):i+=n[l]}return i}}const TB=t=>typeof t=="number"?0:Kr.test(t)?Kr.getAnimatableNone(t):t;function DB(t){const r=qP(t);return HP(t)(r.map(TB))}const vl={test:AB,parse:qP,createTransformer:HP,getAnimatableNone:DB};function ff(t,r,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(r-t)*6*s:s<1/2?r:s<2/3?t+(r-t)*(2/3-s)*6:t}function RB({hue:t,saturation:r,lightness:s,alpha:a}){t/=360,r/=100,s/=100;let n=0,i=0,l=0;if(!r)n=i=l=s;else{const c=s<.5?s*(1+r):s+r-s*r,u=2*s-c;n=ff(u,c,t+1/3),i=ff(u,c,t),l=ff(u,c,t-1/3)}return{red:Math.round(n*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:a}}function Ah(t,r){return s=>s>0?r:t}const Pr=(t,r,s)=>t+(r-t)*s,yf=(t,r,s)=>{const a=t*t,n=s*(r*r-a)+a;return n<0?0:Math.sqrt(n)},OB=[Ob,Zl,cc],IB=t=>OB.find(r=>r.test(t));function IS(t){const r=IB(t);if(!r)return!1;let s=r.parse(t);return r===cc&&(s=RB(s)),s}const MS=(t,r)=>{const s=IS(t),a=IS(r);if(!s||!a)return Ah(t,r);const n={...s};return i=>(n.red=yf(s.red,a.red,i),n.green=yf(s.green,a.green,i),n.blue=yf(s.blue,a.blue,i),n.alpha=Pr(s.alpha,a.alpha,i),Zl.transform(n))},Ib=new Set(["none","hidden"]);function MB(t,r){return Ib.has(t)?s=>s<=0?t:r:s=>s>=1?r:t}function LB(t,r){return s=>Pr(t,r,s)}function Fw(t){return typeof t=="number"?LB:typeof t=="string"?Mw(t)?Ah:Kr.test(t)?MS:BB:Array.isArray(t)?GP:typeof t=="object"?Kr.test(t)?MS:$B:Ah}function GP(t,r){const s=[...t],a=s.length,n=t.map((i,l)=>Fw(i)(i,r[l]));return i=>{for(let l=0;l<a;l++)s[l]=n[l](i);return s}}function $B(t,r){const s={...t,...r},a={};for(const n in s)t[n]!==void 0&&r[n]!==void 0&&(a[n]=Fw(t[n])(t[n],r[n]));return n=>{for(const i in a)s[i]=a[i](n);return s}}function FB(t,r){const s=[],a={color:0,var:0,number:0};for(let n=0;n<r.values.length;n++){const i=r.types[n],l=t.indexes[i][a[i]],c=t.values[l]??0;s[n]=c,a[i]++}return s}const BB=(t,r)=>{const s=vl.createTransformer(r),a=ju(t),n=ju(r);return a.indexes.var.length===n.indexes.var.length&&a.indexes.color.length===n.indexes.color.length&&a.indexes.number.length>=n.indexes.number.length?Ib.has(t)&&!n.values.length||Ib.has(r)&&!a.values.length?MB(t,r):qu(GP(FB(a,n),n.values),s):Ah(t,r)};function WP(t,r,s){return typeof t=="number"&&typeof r=="number"&&typeof s=="number"?Pr(t,r,s):Fw(t)(t,r)}const UB=t=>{const r=({timestamp:s})=>t(s);return{start:(s=!0)=>br.update(r,s),stop:()=>bl(r),now:()=>ws.isProcessing?ws.timestamp:oa.now()}},YP=(t,r,s=10)=>{let a="";const n=Math.max(Math.round(r/s),2);for(let i=0;i<n;i++)a+=Math.round(t(i/(n-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Ch=2e4;function Bw(t){let r=0;const s=50;let a=t.next(r);for(;!a.done&&r<Ch;)r+=s,a=t.next(r);return r>=Ch?1/0:r}function zB(t,r=100,s){const a=s({...t,keyframes:[0,r]}),n=Math.min(Bw(a),Ch);return{type:"keyframes",ease:i=>a.next(n*i).value/r,duration:an(n)}}const VB=5;function KP(t,r,s){const a=Math.max(r-VB,0);return CP(s-t(a),r-a)}const Or={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bf=.001;function qB({duration:t=Or.duration,bounce:r=Or.bounce,velocity:s=Or.velocity,mass:a=Or.mass}){let n,i,l=1-r;l=Si(Or.minDamping,Or.maxDamping,l),t=Si(Or.minDuration,Or.maxDuration,an(t)),l<1?(n=h=>{const m=h*l,x=m*t,g=m-s,b=Mb(h,l),y=Math.exp(-x);return bf-g/b*y},i=h=>{const x=h*l*t,g=x*s+s,b=Math.pow(l,2)*Math.pow(h,2)*t,y=Math.exp(-x),w=Mb(Math.pow(h,2),l);return(-n(h)+bf>0?-1:1)*((g-b)*y)/w}):(n=h=>{const m=Math.exp(-h*t),x=(h-s)*t+1;return-bf+m*x},i=h=>{const m=Math.exp(-h*t),x=(s-h)*(t*t);return m*x});const c=5/t,u=GB(n,i,c);if(t=Vn(t),isNaN(u))return{stiffness:Or.stiffness,damping:Or.damping,duration:t};{const h=Math.pow(u,2)*a;return{stiffness:h,damping:l*2*Math.sqrt(a*h),duration:t}}}const HB=12;function GB(t,r,s){let a=s;for(let n=1;n<HB;n++)a=a-t(a)/r(a);return a}function Mb(t,r){return t*Math.sqrt(1-r*r)}const WB=["duration","bounce"],YB=["stiffness","damping","mass"];function LS(t,r){return r.some(s=>t[s]!==void 0)}function KB(t){let r={velocity:Or.velocity,stiffness:Or.stiffness,damping:Or.damping,mass:Or.mass,isResolvedFromDuration:!1,...t};if(!LS(t,YB)&&LS(t,WB))if(t.visualDuration){const s=t.visualDuration,a=2*Math.PI/(s*1.2),n=a*a,i=2*Si(.05,1,1-(t.bounce||0))*Math.sqrt(n);r={...r,mass:Or.mass,stiffness:n,damping:i}}else{const s=qB(t);r={...r,...s,mass:Or.mass},r.isResolvedFromDuration=!0}return r}function Ph(t=Or.visualDuration,r=Or.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:r}:t;let{restSpeed:a,restDelta:n}=s;const i=s.keyframes[0],l=s.keyframes[s.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:h,mass:m,duration:x,velocity:g,isResolvedFromDuration:b}=KB({...s,velocity:-an(s.velocity||0)}),y=g||0,w=h/(2*Math.sqrt(u*m)),N=l-i,_=an(Math.sqrt(u/m)),S=Math.abs(N)<5;a||(a=S?Or.restSpeed.granular:Or.restSpeed.default),n||(n=S?Or.restDelta.granular:Or.restDelta.default);let k;if(w<1){const A=Mb(_,w);k=E=>{const T=Math.exp(-w*_*E);return l-T*((y+w*_*N)/A*Math.sin(A*E)+N*Math.cos(A*E))}}else if(w===1)k=A=>l-Math.exp(-_*A)*(N+(y+_*N)*A);else{const A=_*Math.sqrt(w*w-1);k=E=>{const T=Math.exp(-w*_*E),F=Math.min(A*E,300);return l-T*((y+w*_*N)*Math.sinh(F)+A*N*Math.cosh(F))/A}}const v={calculatedDuration:b&&x||null,next:A=>{const E=k(A);if(b)c.done=A>=x;else{let T=A===0?y:0;w<1&&(T=A===0?Vn(y):KP(k,A,E));const F=Math.abs(T)<=a,R=Math.abs(l-E)<=n;c.done=F&&R}return c.value=c.done?l:E,c},toString:()=>{const A=Math.min(Bw(v),Ch),E=YP(T=>v.next(A*T).value,A,30);return A+"ms "+E},toTransition:()=>{}};return v}Ph.applyToOptions=t=>{const r=zB(t,100,Ph);return t.ease=r.ease,t.duration=Vn(r.duration),t.type="keyframes",t};function Lb({keyframes:t,velocity:r=0,power:s=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:i=500,modifyTarget:l,min:c,max:u,restDelta:h=.5,restSpeed:m}){const x=t[0],g={done:!1,value:x},b=F=>c!==void 0&&F<c||u!==void 0&&F>u,y=F=>c===void 0?u:u===void 0||Math.abs(c-F)<Math.abs(u-F)?c:u;let w=s*r;const N=x+w,_=l===void 0?N:l(N);_!==N&&(w=_-x);const S=F=>-w*Math.exp(-F/a),k=F=>_+S(F),v=F=>{const R=S(F),D=k(F);g.done=Math.abs(R)<=h,g.value=g.done?_:D};let A,E;const T=F=>{b(g.value)&&(A=F,E=Ph({keyframes:[g.value,y(g.value)],velocity:KP(k,F,g.value),damping:n,stiffness:i,restDelta:h,restSpeed:m}))};return T(0),{calculatedDuration:null,next:F=>{let R=!1;return!E&&A===void 0&&(R=!0,v(F),T(F)),A!==void 0&&F>=A?E.next(F-A):(!R&&v(F),g)}}}function JB(t,r,s){const a=[],n=s||_i.mix||WP,i=t.length-1;for(let l=0;l<i;l++){let c=n(t[l],t[l+1]);if(r){const u=Array.isArray(r)?r[l]||cn:r;c=qu(u,c)}a.push(c)}return a}function XB(t,r,{clamp:s=!0,ease:a,mixer:n}={}){const i=t.length;if(Ew(i===r.length),i===1)return()=>r[0];if(i===2&&r[0]===r[1])return()=>r[1];const l=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),r=[...r].reverse());const c=JB(r,a,n),u=c.length,h=m=>{if(l&&m<t[0])return r[0];let x=0;if(u>1)for(;x<t.length-2&&!(m<t[x+1]);x++);const g=vu(t[x],t[x+1],m);return c[x](g)};return s?m=>h(Si(t[0],t[i-1],m)):h}function ZB(t,r){const s=t[t.length-1];for(let a=1;a<=r;a++){const n=vu(0,r,a);t.push(Pr(s,1,n))}}function QB(t){const r=[0];return ZB(r,t.length-1),r}function eU(t,r){return t.map(s=>s*r)}function tU(t,r){return t.map(()=>r||LP).splice(0,t.length-1)}function ou({duration:t=300,keyframes:r,times:s,ease:a="easeInOut"}){const n=mB(a)?a.map(DS):DS(a),i={done:!1,value:r[0]},l=eU(s&&s.length===r.length?s:QB(r),t),c=XB(l,r,{ease:Array.isArray(n)?n:tU(r,n)});return{calculatedDuration:t,next:u=>(i.value=c(u),i.done=u>=t,i)}}const rU=t=>t!==null;function Uw(t,{repeat:r,repeatType:s="loop"},a,n=1){const i=t.filter(rU),c=n<0||r&&s!=="loop"&&r%2===1?0:i.length-1;return!c||a===void 0?i[c]:a}const sU={decay:Lb,inertia:Lb,tween:ou,keyframes:ou,spring:Ph};function JP(t){typeof t.type=="string"&&(t.type=sU[t.type])}class zw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(r=>{this.resolve=r})}notifyFinished(){this.resolve()}then(r,s){return this.finished.then(r,s)}}const aU=t=>t/100;class Vw extends zw{constructor(r){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==oa.now()&&this.tick(oa.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=r,this.initAnimation(),this.play(),r.autoplay===!1&&this.pause()}initAnimation(){const{options:r}=this;JP(r);const{type:s=ou,repeat:a=0,repeatDelay:n=0,repeatType:i,velocity:l=0}=r;let{keyframes:c}=r;const u=s||ou;u!==ou&&typeof c[0]!="number"&&(this.mixKeyframes=qu(aU,WP(c[0],c[1])),c=[0,100]);const h=u({...r,keyframes:c});i==="mirror"&&(this.mirroredGenerator=u({...r,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Bw(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+n,this.totalDuration=this.resolvedDuration*(a+1)-n,this.generator=h}updateTime(r){const s=Math.round(r-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(r,s=!1){const{generator:a,totalDuration:n,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return a.next(0);const{delay:h=0,keyframes:m,repeat:x,repeatType:g,repeatDelay:b,type:y,onUpdate:w,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-n/this.speed,this.startTime)),s?this.currentTime=r:this.updateTime(r);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?_<0:_>n;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let k=this.currentTime,v=a;if(x){const F=Math.min(this.currentTime,n)/c;let R=Math.floor(F),D=F%1;!D&&F>=1&&(D=1),D===1&&R--,R=Math.min(R,x+1),!!(R%2)&&(g==="reverse"?(D=1-D,b&&(D-=b/c)):g==="mirror"&&(v=l)),k=Si(0,1,D)*c}const A=S?{done:!1,value:m[0]}:v.next(k);i&&(A.value=i(A.value));let{done:E}=A;!S&&u!==null&&(E=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return T&&y!==Lb&&(A.value=Uw(m,this.options,N,this.speed)),w&&w(A.value),T&&this.finish(),A}then(r,s){return this.finished.then(r,s)}get duration(){return an(this.calculatedDuration)}get iterationDuration(){const{delay:r=0}=this.options||{};return this.duration+an(r)}get time(){return an(this.currentTime)}set time(r){r=Vn(r),this.currentTime=r,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(r){this.updateTime(oa.now());const s=this.playbackSpeed!==r;this.playbackSpeed=r,s&&(this.time=an(this.currentTime))}play(){if(this.isStopped)return;const{driver:r=UB,startTime:s}=this.options;this.driver||(this.driver=r(n=>this.tick(n))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(oa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}attachTimeline(r){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),r.observe(this)}}function nU(t){for(let r=1;r<t.length;r++)t[r]??(t[r]=t[r-1])}const Ql=t=>t*180/Math.PI,$b=t=>{const r=Ql(Math.atan2(t[1],t[0]));return Fb(r)},iU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:$b,rotateZ:$b,skewX:t=>Ql(Math.atan(t[1])),skewY:t=>Ql(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Fb=t=>(t=t%360,t<0&&(t+=360),t),$S=$b,FS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),BS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),lU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:FS,scaleY:BS,scale:t=>(FS(t)+BS(t))/2,rotateX:t=>Fb(Ql(Math.atan2(t[6],t[5]))),rotateY:t=>Fb(Ql(Math.atan2(-t[2],t[0]))),rotateZ:$S,rotate:$S,skewX:t=>Ql(Math.atan(t[4])),skewY:t=>Ql(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Bb(t){return t.includes("scale")?1:0}function Ub(t,r){if(!t||t==="none")return Bb(r);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,n;if(s)a=lU,n=s;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=iU,n=c}if(!n)return Bb(r);const i=a[r],l=n[1].split(",").map(cU);return typeof i=="function"?i(l):l[i]}const oU=(t,r)=>{const{transform:s="none"}=getComputedStyle(t);return Ub(s,r)};function cU(t){return parseFloat(t.trim())}const zc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vc=new Set(zc),US=t=>t===Uc||t===It,dU=new Set(["x","y","z"]),uU=zc.filter(t=>!dU.has(t));function mU(t){const r=[];return uU.forEach(s=>{const a=t.getValue(s);a!==void 0&&(r.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),r}const oo={width:({x:t},{paddingLeft:r="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(r)-parseFloat(s),height:({y:t},{paddingTop:r="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(r)-parseFloat(s),top:(t,{top:r})=>parseFloat(r),left:(t,{left:r})=>parseFloat(r),bottom:({y:t},{top:r})=>parseFloat(r)+(t.max-t.min),right:({x:t},{left:r})=>parseFloat(r)+(t.max-t.min),x:(t,{transform:r})=>Ub(r,"x"),y:(t,{transform:r})=>Ub(r,"y")};oo.translateX=oo.x;oo.translateY=oo.y;const co=new Set;let zb=!1,Vb=!1,qb=!1;function XP(){if(Vb){const t=Array.from(co).filter(a=>a.needsMeasurement),r=new Set(t.map(a=>a.element)),s=new Map;r.forEach(a=>{const n=mU(a);n.length&&(s.set(a,n),a.render())}),t.forEach(a=>a.measureInitialState()),r.forEach(a=>{a.render();const n=s.get(a);n&&n.forEach(([i,l])=>{a.getValue(i)?.set(l)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Vb=!1,zb=!1,co.forEach(t=>t.complete(qb)),co.clear()}function ZP(){co.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Vb=!0)})}function hU(){qb=!0,ZP(),XP(),qb=!1}class qw{constructor(r,s,a,n,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...r],this.onComplete=s,this.name=a,this.motionValue=n,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(co.add(this),zb||(zb=!0,br.read(ZP),br.resolveKeyframes(XP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:s,element:a,motionValue:n}=this;if(r[0]===null){const i=n?.get(),l=r[r.length-1];if(i!==void 0)r[0]=i;else if(a&&s){const c=a.readValue(s,l);c!=null&&(r[0]=c)}r[0]===void 0&&(r[0]=l),n&&i===void 0&&n.set(r[0])}nU(r)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(r=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,r),co.delete(this)}cancel(){this.state==="scheduled"&&(co.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xU=t=>t.startsWith("--");function gU(t,r,s){xU(r)?t.style.setProperty(r,s):t.style[r]=s}const pU=Tw(()=>window.ScrollTimeline!==void 0),fU={};function yU(t,r){const s=Tw(t);return()=>fU[r]??s()}const QP=yU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eu=([t,r,s,a])=>`cubic-bezier(${t}, ${r}, ${s}, ${a})`,zS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eu([0,.65,.55,1]),circOut:eu([.55,0,1,.45]),backIn:eu([.31,.01,.66,-.59]),backOut:eu([.33,1.53,.69,.99])};function e6(t,r){if(t)return typeof t=="function"?QP()?YP(t,r):"ease-out":$P(t)?eu(t):Array.isArray(t)?t.map(s=>e6(s,r)||zS.easeOut):zS[t]}function bU(t,r,s,{delay:a=0,duration:n=300,repeat:i=0,repeatType:l="loop",ease:c="easeOut",times:u}={},h=void 0){const m={[r]:s};u&&(m.offset=u);const x=e6(c,n);Array.isArray(x)&&(m.easing=x);const g={delay:a,duration:n,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(m,g)}function t6(t){return typeof t=="function"&&"applyToOptions"in t}function vU({type:t,...r}){return t6(t)&&QP()?t.applyToOptions(r):(r.duration??(r.duration=300),r.ease??(r.ease="easeOut"),r)}class wU extends zw{constructor(r){if(super(),this.finishedTime=null,this.isStopped=!1,!r)return;const{element:s,name:a,keyframes:n,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:c,onComplete:u}=r;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=r,Ew(typeof r.type!="string");const h=vU(r);this.animation=bU(s,a,n,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=Uw(n,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):gU(s,a,m),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:r}=this;r==="idle"||r==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const r=this.animation.effect?.getComputedTiming?.().duration||0;return an(Number(r))}get iterationDuration(){const{delay:r=0}=this.options||{};return this.duration+an(r)}get time(){return an(Number(this.animation.currentTime)||0)}set time(r){this.finishedTime=null,this.animation.currentTime=Vn(r)}get speed(){return this.animation.playbackRate}set speed(r){r<0&&(this.finishedTime=null),this.animation.playbackRate=r}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(r){this.animation.startTime=r}attachTimeline({timeline:r,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,r&&pU()?(this.animation.timeline=r,cn):s(this)}}const r6={anticipate:OP,backInOut:RP,circInOut:MP};function jU(t){return t in r6}function NU(t){typeof t.ease=="string"&&jU(t.ease)&&(t.ease=r6[t.ease])}const VS=10;class kU extends wU{constructor(r){NU(r),JP(r),super(r),r.startTime&&(this.startTime=r.startTime),this.options=r}updateMotionValue(r){const{motionValue:s,onUpdate:a,onComplete:n,element:i,...l}=this.options;if(!s)return;if(r!==void 0){s.set(r);return}const c=new Vw({...l,autoplay:!1}),u=Vn(this.finishedTime??this.time);s.setWithVelocity(c.sample(u-VS).value,c.sample(u).value,VS),c.stop()}}const qS=(t,r)=>r==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vl.test(t)||t==="0")&&!t.startsWith("url("));function SU(t){const r=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==r)return!0}function _U(t,r,s,a){const n=t[0];if(n===null)return!1;if(r==="display"||r==="visibility")return!0;const i=t[t.length-1],l=qS(n,r),c=qS(i,r);return!l||!c?!1:SU(t)||(s==="spring"||t6(s))&&a}function Hb(t){t.duration=0,t.type="keyframes"}const AU=new Set(["opacity","clipPath","filter","transform"]),CU=Tw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PU(t){const{motionValue:r,name:s,repeatDelay:a,repeatType:n,damping:i,type:l}=t;if(!(r?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=r.owner.getProps();return CU()&&s&&AU.has(s)&&(s!=="transform"||!h)&&!u&&!a&&n!=="mirror"&&i!==0&&l!=="inertia"}const EU=40;class TU extends zw{constructor({autoplay:r=!0,delay:s=0,type:a="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:l="loop",keyframes:c,name:u,motionValue:h,element:m,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=oa.now();const g={autoplay:r,delay:s,type:a,repeat:n,repeatDelay:i,repeatType:l,name:u,motionValue:h,element:m,...x},b=m?.KeyframeResolver||qw;this.keyframeResolver=new b(c,(y,w,N)=>this.onKeyframesResolved(y,w,g,!N),u,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(r,s,a,n){this.keyframeResolver=void 0;const{name:i,type:l,velocity:c,delay:u,isHandoff:h,onUpdate:m}=a;this.resolvedAt=oa.now(),_U(r,i,l,c)||((_i.instantAnimations||!u)&&m?.(Uw(r,a,s)),r[0]=r[r.length-1],Hb(a),a.repeat=0);const g={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>EU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:r},b=!h&&PU(g)?new kU({...g,element:g.motionValue.owner.current}):new Vw(g);b.finished.then(()=>this.notifyFinished()).catch(cn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(r,s){return this.finished.finally(r).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),hU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(r){this.animation.time=r}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(r){this.animation.speed=r}get startTime(){return this.animation.startTime}attachTimeline(r){return this._animation?this.stopTimeline=this.animation.attachTimeline(r):this.pendingTimeline=r,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const DU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RU(t){const r=DU.exec(t);if(!r)return[,];const[,s,a,n]=r;return[`--${s??a}`,n]}function s6(t,r,s=1){const[a,n]=RU(t);if(!a)return;const i=window.getComputedStyle(r).getPropertyValue(a);if(i){const l=i.trim();return SP(l)?parseFloat(l):l}return Mw(n)?s6(n,r,s+1):n}function Hw(t,r){return t?.[r]??t?.default??t}const a6=new Set(["width","height","top","left","right","bottom",...zc]),OU={test:t=>t==="auto",parse:t=>t},n6=t=>r=>r.test(t),i6=[Uc,It,qn,dl,SB,kB,OU],HS=t=>i6.find(n6(t));function IU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||AP(t):!0}const MU=new Set(["brightness","contrast","saturate","opacity"]);function LU(t){const[r,s]=t.slice(0,-1).split("(");if(r==="drop-shadow")return t;const[a]=s.match(Lw)||[];if(!a)return t;const n=s.replace(a,"");let i=MU.has(r)?1:0;return a!==s&&(i*=100),r+"("+i+n+")"}const $U=/\b([a-z-]*)\(.*?\)/gu,Gb={...vl,getAnimatableNone:t=>{const r=t.match($U);return r?r.map(LU).join(" "):t}},GS={...Uc,transform:Math.round},FU={rotate:dl,rotateX:dl,rotateY:dl,rotateZ:dl,scale:P0,scaleX:P0,scaleY:P0,scaleZ:P0,skew:dl,skewX:dl,skewY:dl,distance:It,translateX:It,translateY:It,translateZ:It,x:It,y:It,z:It,perspective:It,transformPerspective:It,opacity:wu,originX:RS,originY:RS,originZ:It},Gw={borderWidth:It,borderTopWidth:It,borderRightWidth:It,borderBottomWidth:It,borderLeftWidth:It,borderRadius:It,radius:It,borderTopLeftRadius:It,borderTopRightRadius:It,borderBottomRightRadius:It,borderBottomLeftRadius:It,width:It,maxWidth:It,height:It,maxHeight:It,top:It,right:It,bottom:It,left:It,padding:It,paddingTop:It,paddingRight:It,paddingBottom:It,paddingLeft:It,margin:It,marginTop:It,marginRight:It,marginBottom:It,marginLeft:It,backgroundPositionX:It,backgroundPositionY:It,...FU,zIndex:GS,fillOpacity:wu,strokeOpacity:wu,numOctaves:GS},BU={...Gw,color:Kr,backgroundColor:Kr,outlineColor:Kr,fill:Kr,stroke:Kr,borderColor:Kr,borderTopColor:Kr,borderRightColor:Kr,borderBottomColor:Kr,borderLeftColor:Kr,filter:Gb,WebkitFilter:Gb},l6=t=>BU[t];function o6(t,r){let s=l6(t);return s!==Gb&&(s=vl),s.getAnimatableNone?s.getAnimatableNone(r):void 0}const UU=new Set(["auto","none","0"]);function zU(t,r,s){let a=0,n;for(;a<t.length&&!n;){const i=t[a];typeof i=="string"&&!UU.has(i)&&ju(i).values.length&&(n=t[a]),a++}if(n&&s)for(const i of r)t[i]=o6(s,n)}class VU extends qw{constructor(r,s,a,n,i){super(r,s,a,n,i,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let u=0;u<r.length;u++){let h=r[u];if(typeof h=="string"&&(h=h.trim(),Mw(h))){const m=s6(h,s.current);m!==void 0&&(r[u]=m),u===r.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!a6.has(a)||r.length!==2)return;const[n,i]=r,l=HS(n),c=HS(i);if(l!==c)if(US(l)&&US(c))for(let u=0;u<r.length;u++){const h=r[u];typeof h=="string"&&(r[u]=parseFloat(h))}else oo[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:s}=this,a=[];for(let n=0;n<r.length;n++)(r[n]===null||IU(r[n]))&&a.push(n);a.length&&zU(r,a,s)}measureInitialState(){const{element:r,unresolvedKeyframes:s,name:a}=this;if(!r||!r.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oo[a](r.measureViewportBox(),window.getComputedStyle(r.current)),s[0]=this.measuredOrigin;const n=s[s.length-1];n!==void 0&&r.getValue(a,n).jump(n,!1)}measureEndState(){const{element:r,name:s,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const n=r.getValue(s);n&&n.jump(this.measuredOrigin,!1);const i=a.length-1,l=a[i];a[i]=oo[s](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function qU(t,r,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const n=s?.[t]??a.querySelectorAll(t);return n?Array.from(n):[]}return Array.from(t)}const c6=(t,r)=>r&&typeof t=="number"?r.transform(t):t;function d6(t){return _P(t)&&"offsetHeight"in t}const WS=30,HU=t=>!isNaN(parseFloat(t));class GU{constructor(r,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const n=oa.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(r),this.owner=s.owner}setCurrent(r){this.current=r,this.updatedAt=oa.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=HU(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,s){this.events[r]||(this.events[r]=new Dw);const a=this.events[r].add(s);return r==="change"?()=>{a(),br.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,s){this.passiveEffect=r,this.stopPassiveEffect=s}set(r){this.passiveEffect?this.passiveEffect(r,this.updateAndNotify):this.updateAndNotify(r)}setWithVelocity(r,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-a}jump(r,s=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(r){this.dependents||(this.dependents=new Set),this.dependents.add(r)}removeDependent(r){this.dependents&&this.dependents.delete(r)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=oa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>WS)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,WS);return CP(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(r){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=r(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kc(t,r){return new GU(t,r)}const{schedule:Ww}=FP(queueMicrotask,!1),Nn={x:!1,y:!1};function u6(){return Nn.x||Nn.y}function WU(t){return t==="x"||t==="y"?Nn[t]?null:(Nn[t]=!0,()=>{Nn[t]=!1}):Nn.x||Nn.y?null:(Nn.x=Nn.y=!0,()=>{Nn.x=Nn.y=!1})}function m6(t,r){const s=qU(t),a=new AbortController,n={passive:!0,...r,signal:a.signal};return[s,n,()=>a.abort()]}function YS(t){return!(t.pointerType==="touch"||u6())}function YU(t,r,s={}){const[a,n,i]=m6(t,s),l=c=>{if(!YS(c))return;const{target:u}=c,h=r(u,c);if(typeof h!="function"||!u)return;const m=x=>{YS(x)&&(h(x),u.removeEventListener("pointerleave",m))};u.addEventListener("pointerleave",m,n)};return a.forEach(c=>{c.addEventListener("pointerenter",l,n)}),i}const h6=(t,r)=>r?t===r?!0:h6(t,r.parentElement):!1,Yw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,KU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JU(t){return KU.has(t.tagName)||t.tabIndex!==-1}const nh=new WeakSet;function KS(t){return r=>{r.key==="Enter"&&t(r)}}function vf(t,r){t.dispatchEvent(new PointerEvent("pointer"+r,{isPrimary:!0,bubbles:!0}))}const XU=(t,r)=>{const s=t.currentTarget;if(!s)return;const a=KS(()=>{if(nh.has(s))return;vf(s,"down");const n=KS(()=>{vf(s,"up")}),i=()=>vf(s,"cancel");s.addEventListener("keyup",n,r),s.addEventListener("blur",i,r)});s.addEventListener("keydown",a,r),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),r)};function JS(t){return Yw(t)&&!u6()}function ZU(t,r,s={}){const[a,n,i]=m6(t,s),l=c=>{const u=c.currentTarget;if(!JS(c))return;nh.add(u);const h=r(u,c),m=(b,y)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",g),nh.has(u)&&nh.delete(u),JS(b)&&typeof h=="function"&&h(b,{success:y})},x=b=>{m(b,u===window||u===document||s.useGlobalTarget||h6(u,b.target))},g=b=>{m(b,!1)};window.addEventListener("pointerup",x,n),window.addEventListener("pointercancel",g,n)};return a.forEach(c=>{(s.useGlobalTarget?window:c).addEventListener("pointerdown",l,n),d6(c)&&(c.addEventListener("focus",h=>XU(h,n)),!JU(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function x6(t){return _P(t)&&"ownerSVGElement"in t}function QU(t){return x6(t)&&t.tagName==="svg"}const $s=t=>!!(t&&t.getVelocity),ez=[...i6,Kr,vl],tz=t=>ez.find(n6(t)),Kw=f.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function XS(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function rz(...t){return r=>{let s=!1;const a=t.map(n=>{const i=XS(n,r);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let n=0;n<a.length;n++){const i=a[n];typeof i=="function"?i():XS(t[n],null)}}}}function sz(...t){return f.useCallback(rz(...t),t)}class az extends f.Component{getSnapshotBeforeUpdate(r){const s=this.props.childRef.current;if(s&&r.isPresent&&!this.props.isPresent){const a=s.offsetParent,n=d6(a)&&a.offsetWidth||0,i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function nz({children:t,isPresent:r,anchorX:s,root:a}){const n=f.useId(),i=f.useRef(null),l=f.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=f.useContext(Kw),u=sz(i,t?.ref);return f.useInsertionEffect(()=>{const{width:h,height:m,top:x,left:g,right:b}=l.current;if(r||!i.current||!h||!m)return;const y=s==="left"?`left: ${g}`:`right: ${b}`;i.current.dataset.motionPopId=n;const w=document.createElement("style");c&&(w.nonce=c);const N=a??document.head;return N.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${y}px !important;
            top: ${x}px !important;
          }
        `),()=>{N.contains(w)&&N.removeChild(w)}},[r]),e.jsx(az,{isPresent:r,childRef:i,sizeRef:l,children:f.cloneElement(t,{ref:u})})}const iz=({children:t,initial:r,isPresent:s,onExitComplete:a,custom:n,presenceAffectsLayout:i,mode:l,anchorX:c,root:u})=>{const h=_w(lz),m=f.useId();let x=!0,g=f.useMemo(()=>(x=!1,{id:m,initial:r,isPresent:s,custom:n,onExitComplete:b=>{h.set(b,!0);for(const y of h.values())if(!y)return;a&&a()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[s,h,a]);return i&&x&&(g={...g}),f.useMemo(()=>{h.forEach((b,y)=>h.set(y,!1))},[s]),f.useEffect(()=>{!s&&!h.size&&a&&a()},[s]),l==="popLayout"&&(t=e.jsx(nz,{isPresent:s,anchorX:c,root:u,children:t})),e.jsx(Ex.Provider,{value:g,children:t})};function lz(){return new Map}function g6(t=!0){const r=f.useContext(Ex);if(r===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:n}=r,i=f.useId();f.useEffect(()=>{if(t)return n(i)},[t]);const l=f.useCallback(()=>t&&a&&a(i),[i,a,t]);return!s&&a?[!1,l]:[!0]}const E0=t=>t.key||"";function ZS(t){const r=[];return f.Children.forEach(t,s=>{f.isValidElement(s)&&r.push(s)}),r}const Ta=({children:t,custom:r,initial:s=!0,onExitComplete:a,presenceAffectsLayout:n=!0,mode:i="sync",propagate:l=!1,anchorX:c="left",root:u})=>{const[h,m]=g6(l),x=f.useMemo(()=>ZS(t),[t]),g=l&&!h?[]:x.map(E0),b=f.useRef(!0),y=f.useRef(x),w=_w(()=>new Map),[N,_]=f.useState(x),[S,k]=f.useState(x);kP(()=>{b.current=!1,y.current=x;for(let E=0;E<S.length;E++){const T=E0(S[E]);g.includes(T)?w.delete(T):w.get(T)!==!0&&w.set(T,!1)}},[S,g.length,g.join("-")]);const v=[];if(x!==N){let E=[...x];for(let T=0;T<S.length;T++){const F=S[T],R=E0(F);g.includes(R)||(E.splice(T,0,F),v.push(F))}return i==="wait"&&v.length&&(E=v),k(ZS(E)),_(x),null}const{forceRender:A}=f.useContext(Sw);return e.jsx(e.Fragment,{children:S.map(E=>{const T=E0(E),F=l&&!h?!1:x===S||g.includes(T),R=()=>{if(w.has(T))w.set(T,!0);else return;let D=!0;w.forEach($=>{$||(D=!1)}),D&&(A?.(),k(y.current),l&&m?.(),a&&a())};return e.jsx(iz,{isPresent:F,initial:!b.current||s?void 0:!1,custom:r,presenceAffectsLayout:n,mode:i,root:u,onExitComplete:F?void 0:R,anchorX:c,children:E},T)})})},p6=f.createContext({strict:!1}),QS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sc={};for(const t in QS)Sc[t]={isEnabled:r=>QS[t].some(s=>!!r[s])};function oz(t){for(const r in t)Sc[r]={...Sc[r],...t[r]}}const cz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Eh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cz.has(t)}let f6=t=>!Eh(t);function dz(t){typeof t=="function"&&(f6=r=>r.startsWith("on")?!Eh(r):t(r))}try{dz(require("@emotion/is-prop-valid").default)}catch{}function uz(t,r,s){const a={};for(const n in t)n==="values"&&typeof t.values=="object"||(f6(n)||s===!0&&Eh(n)||!r&&!Eh(n)||t.draggable&&n.startsWith("onDrag"))&&(a[n]=t[n]);return a}const Tx=f.createContext({});function Dx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Nu(t){return typeof t=="string"||Array.isArray(t)}const Jw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xw=["initial",...Jw];function Rx(t){return Dx(t.animate)||Xw.some(r=>Nu(t[r]))}function y6(t){return!!(Rx(t)||t.variants)}function mz(t,r){if(Rx(t)){const{initial:s,animate:a}=t;return{initial:s===!1||Nu(s)?s:void 0,animate:Nu(a)?a:void 0}}return t.inherit!==!1?r:{}}function hz(t){const{initial:r,animate:s}=mz(t,f.useContext(Tx));return f.useMemo(()=>({initial:r,animate:s}),[e4(r),e4(s)])}function e4(t){return Array.isArray(t)?t.join(" "):t}const ku={};function xz(t){for(const r in t)ku[r]=t[r],Iw(r)&&(ku[r].isCSSVariable=!0)}function b6(t,{layout:r,layoutId:s}){return Vc.has(t)||t.startsWith("origin")||(r||s!==void 0)&&(!!ku[t]||t==="opacity")}const gz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pz=zc.length;function fz(t,r,s){let a="",n=!0;for(let i=0;i<pz;i++){const l=zc[i],c=t[l];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(l.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||s){const h=c6(c,Gw[l]);if(!u){n=!1;const m=gz[l]||l;a+=`${m}(${h}) `}s&&(r[l]=h)}}return a=a.trim(),s?a=s(r,n?"":a):n&&(a="none"),a}function Zw(t,r,s){const{style:a,vars:n,transformOrigin:i}=t;let l=!1,c=!1;for(const u in r){const h=r[u];if(Vc.has(u)){l=!0;continue}else if(Iw(u)){n[u]=h;continue}else{const m=c6(h,Gw[u]);u.startsWith("origin")?(c=!0,i[u]=m):a[u]=m}}if(r.transform||(l||s?a.transform=fz(r,t.transform,s):a.transform&&(a.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:m=0}=i;a.transformOrigin=`${u} ${h} ${m}`}}const Qw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function v6(t,r,s){for(const a in r)!$s(r[a])&&!b6(a,s)&&(t[a]=r[a])}function yz({transformTemplate:t},r){return f.useMemo(()=>{const s=Qw();return Zw(s,r,t),Object.assign({},s.vars,s.style)},[r])}function bz(t,r){const s=t.style||{},a={};return v6(a,s,t),Object.assign(a,yz(t,r)),a}function vz(t,r){const s={},a=bz(t,r);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=a,s}const wz={offset:"stroke-dashoffset",array:"stroke-dasharray"},jz={offset:"strokeDashoffset",array:"strokeDasharray"};function Nz(t,r,s=1,a=0,n=!0){t.pathLength=1;const i=n?wz:jz;t[i.offset]=It.transform(-a);const l=It.transform(r),c=It.transform(s);t[i.array]=`${l} ${c}`}function w6(t,{attrX:r,attrY:s,attrScale:a,pathLength:n,pathSpacing:i=1,pathOffset:l=0,...c},u,h,m){if(Zw(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:g}=t;x.transform&&(g.transform=x.transform,delete x.transform),(g.transform||x.transformOrigin)&&(g.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),g.transform&&(g.transformBox=m?.transformBox??"fill-box",delete x.transformBox),r!==void 0&&(x.x=r),s!==void 0&&(x.y=s),a!==void 0&&(x.scale=a),n!==void 0&&Nz(x,n,i,l,!1)}const j6=()=>({...Qw(),attrs:{}}),N6=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kz(t,r,s,a){const n=f.useMemo(()=>{const i=j6();return w6(i,r,N6(a),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[r]);if(t.style){const i={};v6(i,t.style,t),n.style={...i,...n.style}}return n}const Sz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ej(t){return typeof t!="string"||t.includes("-")?!1:!!(Sz.indexOf(t)>-1||/[A-Z]/u.test(t))}function _z(t,r,s,{latestValues:a},n,i=!1){const c=(ej(t)?kz:vz)(r,a,n,t),u=uz(r,typeof t=="string",i),h=t!==f.Fragment?{...u,...c,ref:s}:{},{children:m}=r,x=f.useMemo(()=>$s(m)?m.get():m,[m]);return f.createElement(t,{...h,children:x})}function t4(t){const r=[{},{}];return t?.values.forEach((s,a)=>{r[0][a]=s.get(),r[1][a]=s.getVelocity()}),r}function tj(t,r,s,a){if(typeof r=="function"){const[n,i]=t4(a);r=r(s!==void 0?s:t.custom,n,i)}if(typeof r=="string"&&(r=t.variants&&t.variants[r]),typeof r=="function"){const[n,i]=t4(a);r=r(s!==void 0?s:t.custom,n,i)}return r}function ih(t){return $s(t)?t.get():t}function Az({scrapeMotionValuesFromProps:t,createRenderState:r},s,a,n){return{latestValues:Cz(s,a,n,t),renderState:r()}}function Cz(t,r,s,a){const n={},i=a(t,{});for(const g in i)n[g]=ih(i[g]);let{initial:l,animate:c}=t;const u=Rx(t),h=y6(t);r&&h&&!u&&t.inherit!==!1&&(l===void 0&&(l=r.initial),c===void 0&&(c=r.animate));let m=s?s.initial===!1:!1;m=m||l===!1;const x=m?c:l;if(x&&typeof x!="boolean"&&!Dx(x)){const g=Array.isArray(x)?x:[x];for(let b=0;b<g.length;b++){const y=tj(t,g[b]);if(y){const{transitionEnd:w,transition:N,..._}=y;for(const S in _){let k=_[S];if(Array.isArray(k)){const v=m?k.length-1:0;k=k[v]}k!==null&&(n[S]=k)}for(const S in w)n[S]=w[S]}}}return n}const k6=t=>(r,s)=>{const a=f.useContext(Tx),n=f.useContext(Ex),i=()=>Az(t,r,a,n);return s?i():_w(i)};function rj(t,r,s){const{style:a}=t,n={};for(const i in a)($s(a[i])||r.style&&$s(r.style[i])||b6(i,t)||s?.getValue(i)?.liveStyle!==void 0)&&(n[i]=a[i]);return n}const Pz=k6({scrapeMotionValuesFromProps:rj,createRenderState:Qw});function S6(t,r,s){const a=rj(t,r,s);for(const n in t)if($s(t[n])||$s(r[n])){const i=zc.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;a[i]=t[n]}return a}const Ez=k6({scrapeMotionValuesFromProps:S6,createRenderState:j6}),Tz=Symbol.for("motionComponentSymbol");function dc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Dz(t,r,s){return f.useCallback(a=>{a&&t.onMount&&t.onMount(a),r&&(a?r.mount(a):r.unmount()),s&&(typeof s=="function"?s(a):dc(s)&&(s.current=a))},[r])}const sj=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Rz="framerAppearId",_6="data-"+sj(Rz),A6=f.createContext({});function Oz(t,r,s,a,n){const{visualElement:i}=f.useContext(Tx),l=f.useContext(p6),c=f.useContext(Ex),u=f.useContext(Kw).reducedMotion,h=f.useRef(null);a=a||l.renderer,!h.current&&a&&(h.current=a(t,{visualState:r,parent:i,props:s,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,x=f.useContext(A6);m&&!m.projection&&n&&(m.type==="html"||m.type==="svg")&&Iz(h.current,s,n,x);const g=f.useRef(!1);f.useInsertionEffect(()=>{m&&g.current&&m.update(s,c)});const b=s[_6],y=f.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return kP(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),y.current&&m.animationState&&m.animationState.animateChanges())}),f.useEffect(()=>{m&&(!y.current&&m.animationState&&m.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),y.current=!1),m.enteringChildren=void 0)}),m}function Iz(t,r,s,a){const{layoutId:n,layout:i,drag:l,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:m}=r;t.projection=new s(t.latestValues,r["data-framer-portal-id"]?void 0:C6(t.parent)),t.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!l||c&&dc(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,crossfade:m,layoutScroll:u,layoutRoot:h})}function C6(t){if(t)return t.options.allowProjection!==!1?t.projection:C6(t.parent)}function wf(t,{forwardMotionProps:r=!1}={},s,a){s&&oz(s);const n=ej(t)?Ez:Pz;function i(c,u){let h;const m={...f.useContext(Kw),...c,layoutId:Mz(c)},{isStatic:x}=m,g=hz(c),b=n(c,x);if(!x&&Aw){Lz();const y=$z(m);h=y.MeasureLayout,g.visualElement=Oz(t,b,m,a,y.ProjectionNode)}return e.jsxs(Tx.Provider,{value:g,children:[h&&g.visualElement?e.jsx(h,{visualElement:g.visualElement,...m}):null,_z(t,c,Dz(b,g.visualElement,u),b,x,r)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=f.forwardRef(i);return l[Tz]=t,l}function Mz({layoutId:t}){const r=f.useContext(Sw).id;return r&&t!==void 0?r+"-"+t:t}function Lz(t,r){f.useContext(p6).strict}function $z(t){const{drag:r,layout:s}=Sc;if(!r&&!s)return{};const a={...r,...s};return{MeasureLayout:r?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Fz(t,r){if(typeof Proxy>"u")return wf;const s=new Map,a=(i,l)=>wf(i,l,t,r),n=(i,l)=>a(i,l);return new Proxy(n,{get:(i,l)=>l==="create"?a:(s.has(l)||s.set(l,wf(l,void 0,t,r)),s.get(l))})}function P6({top:t,left:r,right:s,bottom:a}){return{x:{min:r,max:s},y:{min:t,max:a}}}function Bz({x:t,y:r}){return{top:r.min,right:t.max,bottom:r.max,left:t.min}}function Uz(t,r){if(!r)return t;const s=r({x:t.left,y:t.top}),a=r({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function jf(t){return t===void 0||t===1}function Wb({scale:t,scaleX:r,scaleY:s}){return!jf(t)||!jf(r)||!jf(s)}function Hl(t){return Wb(t)||E6(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function E6(t){return r4(t.x)||r4(t.y)}function r4(t){return t&&t!=="0%"}function Th(t,r,s){const a=t-s,n=r*a;return s+n}function s4(t,r,s,a,n){return n!==void 0&&(t=Th(t,n,a)),Th(t,s,a)+r}function Yb(t,r=0,s=1,a,n){t.min=s4(t.min,r,s,a,n),t.max=s4(t.max,r,s,a,n)}function T6(t,{x:r,y:s}){Yb(t.x,r.translate,r.scale,r.originPoint),Yb(t.y,s.translate,s.scale,s.originPoint)}const a4=.999999999999,n4=1.0000000000001;function zz(t,r,s,a=!1){const n=s.length;if(!n)return;r.x=r.y=1;let i,l;for(let c=0;c<n;c++){i=s[c],l=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&mc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(r.x*=l.x.scale,r.y*=l.y.scale,T6(t,l)),a&&Hl(i.latestValues)&&mc(t,i.latestValues))}r.x<n4&&r.x>a4&&(r.x=1),r.y<n4&&r.y>a4&&(r.y=1)}function uc(t,r){t.min=t.min+r,t.max=t.max+r}function i4(t,r,s,a,n=.5){const i=Pr(t.min,t.max,n);Yb(t,r,s,i,a)}function mc(t,r){i4(t.x,r.x,r.scaleX,r.scale,r.originX),i4(t.y,r.y,r.scaleY,r.scale,r.originY)}function D6(t,r){return P6(Uz(t.getBoundingClientRect(),r))}function Vz(t,r,s){const a=D6(t,s),{scroll:n}=r;return n&&(uc(a.x,n.offset.x),uc(a.y,n.offset.y)),a}const l4=()=>({translate:0,scale:1,origin:0,originPoint:0}),hc=()=>({x:l4(),y:l4()}),o4=()=>({min:0,max:0}),Ur=()=>({x:o4(),y:o4()}),Kb={current:null},R6={current:!1};function qz(){if(R6.current=!0,!!Aw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),r=()=>Kb.current=t.matches;t.addEventListener("change",r),r()}else Kb.current=!1}const Hz=new WeakMap;function Gz(t,r,s){for(const a in r){const n=r[a],i=s[a];if($s(n))t.addValue(a,n);else if($s(i))t.addValue(a,kc(n,{owner:t}));else if(i!==n)if(t.hasValue(a)){const l=t.getValue(a);l.liveStyle===!0?l.jump(n):l.hasAnimated||l.set(n)}else{const l=t.getStaticValue(a);t.addValue(a,kc(l!==void 0?l:n,{owner:t}))}}for(const a in s)r[a]===void 0&&t.removeValue(a);return r}const c4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wz{scrapeMotionValuesFromProps(r,s,a){return{}}constructor({parent:r,props:s,presenceContext:a,reducedMotionConfig:n,blockInitialAnimation:i,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=oa.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,br.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=s.initial?{...u}:{},this.renderState=h,this.parent=r,this.props=s,this.presenceContext=a,this.depth=r?r.depth+1:0,this.reducedMotionConfig=n,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Rx(s),this.isVariantNode=y6(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:m,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const g in x){const b=x[g];u[g]!==void 0&&$s(b)&&b.set(u[g])}}mount(r){this.current=r,Hz.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),R6.current||qz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kb.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bl(this.notifyUpdate),bl(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const s=this.features[r];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(r){this.children.add(r),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(r)}removeChild(r){this.children.delete(r),this.enteringChildren&&this.enteringChildren.delete(r)}bindToMotionValue(r,s){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const a=Vc.has(r);a&&this.onBindTransform&&this.onBindTransform();const n=s.on("change",l=>{this.latestValues[r]=l,this.props.onUpdate&&br.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,r,s)),this.valueSubscriptions.set(r,()=>{n(),i&&i(),s.owner&&s.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in Sc){const s=Sc[r];if(!s)continue;const{isEnabled:a,Feature:n}=s;if(!this.features[r]&&n&&a(this.props)&&(this.features[r]=new n(this)),this.features[r]){const i=this.features[r];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ur()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,s){this.latestValues[r]=s}update(r,s){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<c4.length;a++){const n=c4[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const i="on"+n,l=r[i];l&&(this.propEventSubscriptions[n]=this.on(n,l))}this.prevMotionValues=Gz(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(r),()=>s.variantChildren.delete(r)}addValue(r,s){const a=this.values.get(r);s!==a&&(a&&this.removeValue(r),this.bindToMotionValue(r,s),this.values.set(r,s),this.latestValues[r]=s.get())}removeValue(r){this.values.delete(r);const s=this.valueSubscriptions.get(r);s&&(s(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,s){if(this.props.values&&this.props.values[r])return this.props.values[r];let a=this.values.get(r);return a===void 0&&s!==void 0&&(a=kc(s===null?void 0:s,{owner:this}),this.addValue(r,a)),a}readValue(r,s){let a=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:this.getBaseTargetFromProps(this.props,r)??this.readValueFromInstance(this.current,r,this.options);return a!=null&&(typeof a=="string"&&(SP(a)||AP(a))?a=parseFloat(a):!tz(a)&&vl.test(s)&&(a=o6(r,s)),this.setBaseTarget(r,$s(a)?a.get():a)),$s(a)?a.get():a}setBaseTarget(r,s){this.baseTarget[r]=s}getBaseTarget(r){const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const i=tj(this.props,s,this.presenceContext?.custom);i&&(a=i[r])}if(s&&a!==void 0)return a;const n=this.getBaseTargetFromProps(this.props,r);return n!==void 0&&!$s(n)?n:this.initialValues[r]!==void 0&&a===void 0?void 0:this.baseTarget[r]}on(r,s){return this.events[r]||(this.events[r]=new Dw),this.events[r].add(s)}notify(r,...s){this.events[r]&&this.events[r].notify(...s)}scheduleRenderMicrotask(){Ww.render(this.render)}}class O6 extends Wz{constructor(){super(...arguments),this.KeyframeResolver=VU}sortInstanceNodePosition(r,s){return r.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(r,s){return r.style?r.style[s]:void 0}removeValueFromRenderState(r,{vars:s,style:a}){delete s[r],delete a[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;$s(r)&&(this.childSubscription=r.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function I6(t,{style:r,vars:s},a,n){const i=t.style;let l;for(l in r)i[l]=r[l];n?.applyProjectionStyles(i,a);for(l in s)i.setProperty(l,s[l])}function Yz(t){return window.getComputedStyle(t)}class Kz extends O6{constructor(){super(...arguments),this.type="html",this.renderInstance=I6}readValueFromInstance(r,s){if(Vc.has(s))return this.projection?.isProjecting?Bb(s):oU(r,s);{const a=Yz(r),n=(Iw(s)?a.getPropertyValue(s):a[s])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(r,{transformPagePoint:s}){return D6(r,s)}build(r,s,a){Zw(r,s,a.transformTemplate)}scrapeMotionValuesFromProps(r,s,a){return rj(r,s,a)}}const M6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Jz(t,r,s,a){I6(t,r,void 0,a);for(const n in r.attrs)t.setAttribute(M6.has(n)?n:sj(n),r.attrs[n])}class Xz extends O6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ur}getBaseTargetFromProps(r,s){return r[s]}readValueFromInstance(r,s){if(Vc.has(s)){const a=l6(s);return a&&a.default||0}return s=M6.has(s)?s:sj(s),r.getAttribute(s)}scrapeMotionValuesFromProps(r,s,a){return S6(r,s,a)}build(r,s,a){w6(r,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(r,s,a,n){Jz(r,s,a,n)}mount(r){this.isSVGTag=N6(r.tagName),super.mount(r)}}const Zz=(t,r)=>ej(t)?new Xz(r):new Kz(r,{allowProjection:t!==f.Fragment});function yc(t,r,s){const a=t.getProps();return tj(a,r,s!==void 0?s:a.custom,t)}const Jb=t=>Array.isArray(t);function Qz(t,r,s){t.hasValue(r)?t.getValue(r).set(s):t.addValue(r,kc(s))}function eV(t){return Jb(t)?t[t.length-1]||0:t}function tV(t,r){const s=yc(t,r);let{transitionEnd:a={},transition:n={},...i}=s||{};i={...i,...a};for(const l in i){const c=eV(i[l]);Qz(t,l,c)}}function rV(t){return!!($s(t)&&t.add)}function Xb(t,r){const s=t.getValue("willChange");if(rV(s))return s.add(r);if(!s&&_i.WillChange){const a=new _i.WillChange("auto");t.addValue("willChange",a),a.add(r)}}function L6(t){return t.props[_6]}const sV=t=>t!==null;function aV(t,{repeat:r,repeatType:s="loop"},a){const n=t.filter(sV),i=r&&s!=="loop"&&r%2===1?0:n.length-1;return n[i]}const nV={type:"spring",stiffness:500,damping:25,restSpeed:10},iV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lV={type:"keyframes",duration:.8},oV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cV=(t,{keyframes:r})=>r.length>2?lV:Vc.has(t)?t.startsWith("scale")?iV(r[1]):nV:oV;function dV({when:t,delay:r,delayChildren:s,staggerChildren:a,staggerDirection:n,repeat:i,repeatType:l,repeatDelay:c,from:u,elapsed:h,...m}){return!!Object.keys(m).length}const aj=(t,r,s,a={},n,i)=>l=>{const c=Hw(a,t)||{},u=c.delay||a.delay||0;let{elapsed:h=0}=a;h=h-Vn(u);const m={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:r.getVelocity(),...c,delay:-h,onUpdate:g=>{r.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:r,element:i?void 0:n};dV(c)||Object.assign(m,cV(t,m)),m.duration&&(m.duration=Vn(m.duration)),m.repeatDelay&&(m.repeatDelay=Vn(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let x=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Hb(m),m.delay===0&&(x=!0)),(_i.instantAnimations||_i.skipAnimations)&&(x=!0,Hb(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,x&&!i&&r.get()!==void 0){const g=aV(m.keyframes,c);if(g!==void 0){br.update(()=>{m.onUpdate(g),m.onComplete()});return}}return c.isSync?new Vw(m):new TU(m)};function uV({protectedKeys:t,needsAnimating:r},s){const a=t.hasOwnProperty(s)&&r[s]!==!0;return r[s]=!1,a}function $6(t,r,{delay:s=0,transitionOverride:a,type:n}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:l,...c}=r;a&&(i=a);const u=[],h=n&&t.animationState&&t.animationState.getState()[n];for(const m in c){const x=t.getValue(m,t.latestValues[m]??null),g=c[m];if(g===void 0||h&&uV(h,m))continue;const b={delay:s,...Hw(i||{},m)},y=x.get();if(y!==void 0&&!x.isAnimating&&!Array.isArray(g)&&g===y&&!b.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const _=L6(t);if(_){const S=window.MotionHandoffAnimation(_,m,br);S!==null&&(b.startTime=S,w=!0)}}Xb(t,m),x.start(aj(m,x,g,t.shouldReduceMotion&&a6.has(m)?{type:!1}:b,t,w));const N=x.animation;N&&u.push(N)}return l&&Promise.all(u).then(()=>{br.update(()=>{l&&tV(t,l)})}),u}function F6(t,r,s,a=0,n=1){const i=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(r),l=t.size,c=(l-1)*a;return typeof s=="function"?s(i,l):n===1?i*a:c-i*a}function Zb(t,r,s={}){const a=yc(t,r,s.type==="exit"?t.presenceContext?.custom:void 0);let{transition:n=t.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(n=s.transitionOverride);const i=a?()=>Promise.all($6(t,a,s)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:x}=n;return mV(t,r,u,h,m,x,s)}:()=>Promise.resolve(),{when:c}=n;if(c){const[u,h]=c==="beforeChildren"?[i,l]:[l,i];return u().then(()=>h())}else return Promise.all([i(),l(s.delay)])}function mV(t,r,s=0,a=0,n=0,i=1,l){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",r),c.push(Zb(u,r,{...l,delay:s+(typeof a=="function"?0:a)+F6(t.variantChildren,u,a,n,i)}).then(()=>u.notify("AnimationComplete",r)));return Promise.all(c)}function hV(t,r,s={}){t.notify("AnimationStart",r);let a;if(Array.isArray(r)){const n=r.map(i=>Zb(t,i,s));a=Promise.all(n)}else if(typeof r=="string")a=Zb(t,r,s);else{const n=typeof r=="function"?yc(t,r,s.custom):r;a=Promise.all($6(t,n,s))}return a.then(()=>{t.notify("AnimationComplete",r)})}function B6(t,r){if(!Array.isArray(r))return!1;const s=r.length;if(s!==t.length)return!1;for(let a=0;a<s;a++)if(r[a]!==t[a])return!1;return!0}const xV=Xw.length;function U6(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?U6(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const r={};for(let s=0;s<xV;s++){const a=Xw[s],n=t.props[a];(Nu(n)||n===!1)&&(r[a]=n)}return r}const gV=[...Jw].reverse(),pV=Jw.length;function fV(t){return r=>Promise.all(r.map(({animation:s,options:a})=>hV(t,s,a)))}function yV(t){let r=fV(t),s=d4(),a=!0;const n=u=>(h,m)=>{const x=yc(t,m,u==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:g,transitionEnd:b,...y}=x;h={...h,...y,...b}}return h};function i(u){r=u(t)}function l(u){const{props:h}=t,m=U6(t.parent)||{},x=[],g=new Set;let b={},y=1/0;for(let N=0;N<pV;N++){const _=gV[N],S=s[_],k=h[_]!==void 0?h[_]:m[_],v=Nu(k),A=_===u?S.isActive:null;A===!1&&(y=N);let E=k===m[_]&&k!==h[_]&&v;if(E&&a&&t.manuallyAnimateOnMount&&(E=!1),S.protectedKeys={...b},!S.isActive&&A===null||!k&&!S.prevProp||Dx(k)||typeof k=="boolean")continue;const T=bV(S.prevProp,k);let F=T||_===u&&S.isActive&&!E&&v||N>y&&v,R=!1;const D=Array.isArray(k)?k:[k];let $=D.reduce(n(_),{});A===!1&&($={});const{prevResolvedValues:B={}}=S,H={...B,...$},I=q=>{F=!0,g.has(q)&&(R=!0,g.delete(q)),S.needsAnimating[q]=!0;const Z=t.getValue(q);Z&&(Z.liveStyle=!1)};for(const q in H){const Z=$[q],G=B[q];if(b.hasOwnProperty(q))continue;let de=!1;Jb(Z)&&Jb(G)?de=!B6(Z,G):de=Z!==G,de?Z!=null?I(q):g.add(q):Z!==void 0&&g.has(q)?I(q):S.protectedKeys[q]=!0}S.prevProp=k,S.prevResolvedValues=$,S.isActive&&(b={...b,...$}),a&&t.blockInitialAnimation&&(F=!1);const L=E&&T;F&&(!L||R)&&x.push(...D.map(q=>{const Z={type:_};if(typeof q=="string"&&a&&!L&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,de=yc(G,q);if(G.enteringChildren&&de){const{delayChildren:X}=de.transition||{};Z.delay=F6(G.enteringChildren,t,X)}}return{animation:q,options:Z}}))}if(g.size){const N={};if(typeof h.initial!="boolean"){const _=yc(t,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(N.transition=_.transition)}g.forEach(_=>{const S=t.getBaseTarget(_),k=t.getValue(_);k&&(k.liveStyle=!0),N[_]=S??null}),x.push({animation:N})}let w=!!x.length;return a&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),a=!1,w?r(x):Promise.resolve()}function c(u,h){if(s[u].isActive===h)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(u,h)),s[u].isActive=h;const m=l(u);for(const x in s)s[x].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:i,getState:()=>s,reset:()=>{s=d4()}}}function bV(t,r){return typeof r=="string"?r!==t:Array.isArray(r)?!B6(r,t):!1}function ql(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function d4(){return{animate:ql(!0),whileInView:ql(),whileHover:ql(),whileTap:ql(),whileDrag:ql(),whileFocus:ql(),exit:ql()}}class Sl{constructor(r){this.isMounted=!1,this.node=r}update(){}}class vV extends Sl{constructor(r){super(r),r.animationState||(r.animationState=yV(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();Dx(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:s}=this.node.prevProps||{};r!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wV=0;class jV extends Sl{constructor(){super(...arguments),this.id=wV++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===a)return;const n=this.node.animationState.setActive("exit",!r);s&&!r&&n.then(()=>{s(this.id)})}mount(){const{register:r,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),r&&(this.unmount=r(this.id))}unmount(){}}const NV={animation:{Feature:vV},exit:{Feature:jV}};function Su(t,r,s,a={passive:!0}){return t.addEventListener(r,s,a),()=>t.removeEventListener(r,s)}function Wu(t){return{point:{x:t.pageX,y:t.pageY}}}const kV=t=>r=>Yw(r)&&t(r,Wu(r));function cu(t,r,s,a){return Su(t,r,kV(s),a)}const z6=1e-4,SV=1-z6,_V=1+z6,V6=.01,AV=0-V6,CV=0+V6;function Hs(t){return t.max-t.min}function PV(t,r,s){return Math.abs(t-r)<=s}function u4(t,r,s,a=.5){t.origin=a,t.originPoint=Pr(r.min,r.max,t.origin),t.scale=Hs(s)/Hs(r),t.translate=Pr(s.min,s.max,t.origin)-t.originPoint,(t.scale>=SV&&t.scale<=_V||isNaN(t.scale))&&(t.scale=1),(t.translate>=AV&&t.translate<=CV||isNaN(t.translate))&&(t.translate=0)}function du(t,r,s,a){u4(t.x,r.x,s.x,a?a.originX:void 0),u4(t.y,r.y,s.y,a?a.originY:void 0)}function m4(t,r,s){t.min=s.min+r.min,t.max=t.min+Hs(r)}function EV(t,r,s){m4(t.x,r.x,s.x),m4(t.y,r.y,s.y)}function h4(t,r,s){t.min=r.min-s.min,t.max=t.min+Hs(r)}function uu(t,r,s){h4(t.x,r.x,s.x),h4(t.y,r.y,s.y)}function tn(t){return[t("x"),t("y")]}const q6=({current:t})=>t?t.ownerDocument.defaultView:null,x4=(t,r)=>Math.abs(t-r);function TV(t,r){const s=x4(t.x,r.x),a=x4(t.y,r.y);return Math.sqrt(s**2+a**2)}class H6{constructor(r,s,{transformPagePoint:a,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=kf(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,y=TV(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!y)return;const{point:w}=g,{timestamp:N}=ws;this.history.push({...w,timestamp:N});const{onStart:_,onMove:S}=this.handlers;b||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Nf(b,this.transformPagePoint),br.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=kf(g.type==="pointercancel"?this.lastMoveEventInfo:Nf(b,this.transformPagePoint),this.history);this.startEvent&&y&&y(g,_),w&&w(g,_)},!Yw(r))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=l,this.contextWindow=n||window;const c=Wu(r),u=Nf(c,this.transformPagePoint),{point:h}=u,{timestamp:m}=ws;this.history=[{...h,timestamp:m}];const{onSessionStart:x}=s;x&&x(r,kf(u,this.history)),this.removeListeners=qu(cu(this.contextWindow,"pointermove",this.handlePointerMove),cu(this.contextWindow,"pointerup",this.handlePointerUp),cu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),bl(this.updatePoint)}}function Nf(t,r){return r?{point:r(t.point)}:t}function g4(t,r){return{x:t.x-r.x,y:t.y-r.y}}function kf({point:t},r){return{point:t,delta:g4(t,G6(r)),offset:g4(t,DV(r)),velocity:RV(r,.1)}}function DV(t){return t[0]}function G6(t){return t[t.length-1]}function RV(t,r){if(t.length<2)return{x:0,y:0};let s=t.length-1,a=null;const n=G6(t);for(;s>=0&&(a=t[s],!(n.timestamp-a.timestamp>Vn(r)));)s--;if(!a)return{x:0,y:0};const i=an(n.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const l={x:(n.x-a.x)/i,y:(n.y-a.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function OV(t,{min:r,max:s},a){return r!==void 0&&t<r?t=a?Pr(r,t,a.min):Math.max(t,r):s!==void 0&&t>s&&(t=a?Pr(s,t,a.max):Math.min(t,s)),t}function p4(t,r,s){return{min:r!==void 0?t.min+r:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function IV(t,{top:r,left:s,bottom:a,right:n}){return{x:p4(t.x,s,n),y:p4(t.y,r,a)}}function f4(t,r){let s=r.min-t.min,a=r.max-t.max;return r.max-r.min<t.max-t.min&&([s,a]=[a,s]),{min:s,max:a}}function MV(t,r){return{x:f4(t.x,r.x),y:f4(t.y,r.y)}}function LV(t,r){let s=.5;const a=Hs(t),n=Hs(r);return n>a?s=vu(r.min,r.max-a,t.min):a>n&&(s=vu(t.min,t.max-n,r.min)),Si(0,1,s)}function $V(t,r){const s={};return r.min!==void 0&&(s.min=r.min-t.min),r.max!==void 0&&(s.max=r.max-t.min),s}const Qb=.35;function FV(t=Qb){return t===!1?t=0:t===!0&&(t=Qb),{x:y4(t,"left","right"),y:y4(t,"top","bottom")}}function y4(t,r,s){return{min:b4(t,r),max:b4(t,s)}}function b4(t,r){return typeof t=="number"?t:t[r]||0}const BV=new WeakMap;class UV{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ur(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=r}start(r,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=x=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Wu(x).point)},l=(x,g)=>{const{drag:b,dragPropagation:y,onDragStart:w}=this.getProps();if(b&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WU(b),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tn(_=>{let S=this.getAxisMotionValue(_).get()||0;if(qn.test(S)){const{projection:k}=this.visualElement;if(k&&k.layout){const v=k.layout.layoutBox[_];v&&(S=Hs(v)*(parseFloat(S)/100))}}this.originPoint[_]=S}),w&&br.postRender(()=>w(x,g)),Xb(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(x,g)=>{this.latestPointerEvent=x,this.latestPanInfo=g;const{dragPropagation:b,dragDirectionLock:y,onDirectionLock:w,onDrag:N}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:_}=g;if(y&&this.currentDirection===null){this.currentDirection=zV(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),N&&N(x,g)},u=(x,g)=>{this.latestPointerEvent=x,this.latestPanInfo=g,this.stop(x,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>tn(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new H6(r,{onSessionStart:i,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:a,contextWindow:q6(this.visualElement)})}stop(r,s){const a=r||this.latestPointerEvent,n=s||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!a)return;const{velocity:l}=n;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&br.postRender(()=>c(a,n))}cancel(){this.isDragging=!1;const{projection:r,animationState:s}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(r,s,a){const{drag:n}=this.getProps();if(!a||!T0(r,n,this.currentDirection))return;const i=this.getAxisMotionValue(r);let l=this.originPoint[r]+a[r];this.constraints&&this.constraints[r]&&(l=OV(l,this.constraints[r],this.elastic[r])),i.set(l)}resolveConstraints(){const{dragConstraints:r,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;r&&dc(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=IV(a.layoutBox,r):this.constraints=!1,this.elastic=FV(s),n!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&tn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=$V(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:s}=this.getProps();if(!r||!dc(r))return!1;const a=r.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const i=Vz(a,n.root,this.visualElement.getTransformPagePoint());let l=MV(n.layout.layoutBox,i);if(s){const c=s(Bz(l));this.hasMutatedConstraints=!!c,c&&(l=P6(c))}return l}startAnimation(r){const{drag:s,dragMomentum:a,dragElastic:n,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=tn(m=>{if(!T0(m,s,this.currentDirection))return;let x=u&&u[m]||{};l&&(x={min:0,max:0});const g=n?200:1e6,b=n?40:1e7,y={type:"inertia",velocity:a?r[m]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...i,...x};return this.startAxisValueAnimation(m,y)});return Promise.all(h).then(c)}startAxisValueAnimation(r,s){const a=this.getAxisMotionValue(r);return Xb(this.visualElement,r),a.start(aj(r,a,0,s,this.visualElement,!1))}stopAnimation(){tn(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){tn(r=>this.getAxisMotionValue(r).animation?.pause())}getAnimationState(r){return this.getAxisMotionValue(r).animation?.state}getAxisMotionValue(r){const s=`_drag${r.toUpperCase()}`,a=this.visualElement.getProps(),n=a[s];return n||this.visualElement.getValue(r,(a.initial?a.initial[r]:void 0)||0)}snapToCursor(r){tn(s=>{const{drag:a}=this.getProps();if(!T0(s,a,this.currentDirection))return;const{projection:n}=this.visualElement,i=this.getAxisMotionValue(s);if(n&&n.layout){const{min:l,max:c}=n.layout.layoutBox[s];i.set(r[s]-Pr(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!dc(s)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};tn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const u=c.get();n[l]=LV({min:u,max:u},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),tn(l=>{if(!T0(l,r,null))return;const c=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];c.set(Pr(u,h,n[l]))})}addListeners(){if(!this.visualElement.current)return;BV.set(this.visualElement,this);const r=this.visualElement.current,s=cu(r,"pointerdown",u=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(u)}),a=()=>{const{dragConstraints:u}=this.getProps();dc(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),br.read(a);const l=Su(window,"resize",()=>this.scalePositionWithinConstraints()),c=n.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(tn(m=>{const x=this.getAxisMotionValue(m);x&&(this.originPoint[m]+=u[m].translate,x.set(x.get()+u[m].translate))}),this.visualElement.render())}));return()=>{l(),s(),i(),c&&c()}}getProps(){const r=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:l=Qb,dragMomentum:c=!0}=r;return{...r,drag:s,dragDirectionLock:a,dragPropagation:n,dragConstraints:i,dragElastic:l,dragMomentum:c}}}function T0(t,r,s){return(r===!0||r===t)&&(s===null||s===t)}function zV(t,r=10){let s=null;return Math.abs(t.y)>r?s="y":Math.abs(t.x)>r&&(s="x"),s}class VV extends Sl{constructor(r){super(r),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new UV(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const v4=t=>(r,s)=>{t&&br.postRender(()=>t(r,s))};class qV extends Sl{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(r){this.session=new H6(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q6(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:s,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:v4(r),onStart:v4(s),onMove:a,onEnd:(i,l)=>{delete this.session,n&&br.postRender(()=>n(i,l))}}}mount(){this.removePointerDownListener=cu(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function w4(t,r){return r.max===r.min?0:t/(r.max-r.min)*100}const Ud={correct:(t,r)=>{if(!r.target)return t;if(typeof t=="string")if(It.test(t))t=parseFloat(t);else return t;const s=w4(t,r.target.x),a=w4(t,r.target.y);return`${s}% ${a}%`}},HV={correct:(t,{treeScale:r,projectionDelta:s})=>{const a=t,n=vl.parse(t);if(n.length>5)return a;const i=vl.createTransformer(t),l=typeof n[0]!="number"?1:0,c=s.x.scale*r.x,u=s.y.scale*r.y;n[0+l]/=c,n[1+l]/=u;const h=Pr(c,u,.5);return typeof n[2+l]=="number"&&(n[2+l]/=h),typeof n[3+l]=="number"&&(n[3+l]/=h),i(n)}};let Sf=!1;class GV extends f.Component{componentDidMount(){const{visualElement:r,layoutGroup:s,switchLayoutGroup:a,layoutId:n}=this.props,{projection:i}=r;xz(WV),i&&(s.group&&s.group.add(i),a&&a.register&&n&&a.register(i),Sf&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),lh.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:s,visualElement:a,drag:n,isPresent:i}=this.props,{projection:l}=a;return l&&(l.isPresent=i,Sf=!0,n||r.layoutDependency!==s||s===void 0||r.isPresent!==i?l.willUpdate():this.safeToRemove(),r.isPresent!==i&&(i?l.promote():l.relegate()||br.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),Ww.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:n}=r;Sf=!0,n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function W6(t){const[r,s]=g6(),a=f.useContext(Sw);return e.jsx(GV,{...t,layoutGroup:a,switchLayoutGroup:f.useContext(A6),isPresent:r,safeToRemove:s})}const WV={borderRadius:{...Ud,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ud,borderTopRightRadius:Ud,borderBottomLeftRadius:Ud,borderBottomRightRadius:Ud,boxShadow:HV};function YV(t,r,s){const a=$s(t)?t:kc(t);return a.start(aj("",a,r,s)),a.animation}const KV=(t,r)=>t.depth-r.depth;class JV{constructor(){this.children=[],this.isDirty=!1}add(r){Cw(this.children,r),this.isDirty=!0}remove(r){Pw(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(KV),this.isDirty=!1,this.children.forEach(r)}}function XV(t,r){const s=oa.now(),a=({timestamp:n})=>{const i=n-s;i>=r&&(bl(a),t(i-r))};return br.setup(a,!0),()=>bl(a)}const Y6=["TopLeft","TopRight","BottomLeft","BottomRight"],ZV=Y6.length,j4=t=>typeof t=="string"?parseFloat(t):t,N4=t=>typeof t=="number"||It.test(t);function QV(t,r,s,a,n,i){n?(t.opacity=Pr(0,s.opacity??1,eq(a)),t.opacityExit=Pr(r.opacity??1,0,tq(a))):i&&(t.opacity=Pr(r.opacity??1,s.opacity??1,a));for(let l=0;l<ZV;l++){const c=`border${Y6[l]}Radius`;let u=k4(r,c),h=k4(s,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||N4(u)===N4(h)?(t[c]=Math.max(Pr(j4(u),j4(h),a),0),(qn.test(h)||qn.test(u))&&(t[c]+="%")):t[c]=h}(r.rotate||s.rotate)&&(t.rotate=Pr(r.rotate||0,s.rotate||0,a))}function k4(t,r){return t[r]!==void 0?t[r]:t.borderRadius}const eq=K6(0,.5,IP),tq=K6(.5,.95,cn);function K6(t,r,s){return a=>a<t?0:a>r?1:s(vu(t,r,a))}function S4(t,r){t.min=r.min,t.max=r.max}function Ka(t,r){S4(t.x,r.x),S4(t.y,r.y)}function _4(t,r){t.translate=r.translate,t.scale=r.scale,t.originPoint=r.originPoint,t.origin=r.origin}function A4(t,r,s,a,n){return t-=r,t=Th(t,1/s,a),n!==void 0&&(t=Th(t,1/n,a)),t}function rq(t,r=0,s=1,a=.5,n,i=t,l=t){if(qn.test(r)&&(r=parseFloat(r),r=Pr(l.min,l.max,r/100)-l.min),typeof r!="number")return;let c=Pr(i.min,i.max,a);t===i&&(c-=r),t.min=A4(t.min,r,s,c,n),t.max=A4(t.max,r,s,c,n)}function C4(t,r,[s,a,n],i,l){rq(t,r[s],r[a],r[n],r.scale,i,l)}const sq=["x","scaleX","originX"],aq=["y","scaleY","originY"];function P4(t,r,s,a){C4(t.x,r,sq,s?s.x:void 0,a?a.x:void 0),C4(t.y,r,aq,s?s.y:void 0,a?a.y:void 0)}function E4(t){return t.translate===0&&t.scale===1}function J6(t){return E4(t.x)&&E4(t.y)}function T4(t,r){return t.min===r.min&&t.max===r.max}function nq(t,r){return T4(t.x,r.x)&&T4(t.y,r.y)}function D4(t,r){return Math.round(t.min)===Math.round(r.min)&&Math.round(t.max)===Math.round(r.max)}function X6(t,r){return D4(t.x,r.x)&&D4(t.y,r.y)}function R4(t){return Hs(t.x)/Hs(t.y)}function O4(t,r){return t.translate===r.translate&&t.scale===r.scale&&t.originPoint===r.originPoint}class iq{constructor(){this.members=[]}add(r){Cw(this.members,r),r.scheduleRender()}remove(r){if(Pw(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(r){const s=this.members.findIndex(n=>r===n);if(s===0)return!1;let a;for(let n=s;n>=0;n--){const i=this.members[n];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(r,s){const a=this.lead;if(r!==a&&(this.prevLead=a,this.lead=r,r.show(),a)){a.instance&&a.scheduleRender(),r.scheduleRender(),r.resumeFrom=a,s&&(r.resumeFrom.preserveOpacity=!0),a.snapshot&&(r.snapshot=a.snapshot,r.snapshot.latestValues=a.animationValues||a.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:n}=r.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:s,resumingFrom:a}=r;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lq(t,r,s){let a="";const n=t.x.translate/r.x,i=t.y.translate/r.y,l=s?.z||0;if((n||i||l)&&(a=`translate3d(${n}px, ${i}px, ${l}px) `),(r.x!==1||r.y!==1)&&(a+=`scale(${1/r.x}, ${1/r.y}) `),s){const{transformPerspective:h,rotate:m,rotateX:x,rotateY:g,skewX:b,skewY:y}=s;h&&(a=`perspective(${h}px) ${a}`),m&&(a+=`rotate(${m}deg) `),x&&(a+=`rotateX(${x}deg) `),g&&(a+=`rotateY(${g}deg) `),b&&(a+=`skewX(${b}deg) `),y&&(a+=`skewY(${y}deg) `)}const c=t.x.scale*r.x,u=t.y.scale*r.y;return(c!==1||u!==1)&&(a+=`scale(${c}, ${u})`),a||"none"}const _f=["","X","Y","Z"],oq=1e3;let cq=0;function Af(t,r,s,a){const{latestValues:n}=r;n[t]&&(s[t]=n[t],r.setStaticValue(t,0),a&&(a[t]=0))}function Z6(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:r}=t.options;if(!r)return;const s=L6(r);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:n,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",br,!(n||i))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&Z6(a)}function Q6({attachResizeListener:t,defaultParent:r,measureScroll:s,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(l={},c=r?.()){this.id=cq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mq),this.nodes.forEach(pq),this.nodes.forEach(fq),this.nodes.forEach(hq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new JV)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Dw),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=x6(l)&&!QU(l),this.instance=l;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let m,x=0;const g=()=>this.root.updateBlockedByResize=!1;br.read(()=>{x=window.innerWidth}),t(l,()=>{const b=window.innerWidth;b!==x&&(x=b,this.root.updateBlockedByResize=!0,m&&m(),m=XV(g,250),lh.hasAnimatedSinceResize&&(lh.hasAnimatedSinceResize=!1,this.nodes.forEach(L4)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:x,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||h.getDefaultTransition()||jq,{onLayoutAnimationStart:w,onLayoutAnimationComplete:N}=h.getProps(),_=!this.targetLayout||!X6(this.targetLayout,b),S=!x&&g;if(this.options.layoutRoot||this.resumeFrom||S||x&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Hw(y,"layout"),onPlay:w,onComplete:N};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,S)}else x||L4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yq),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Z6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const x=this.path[m];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(M4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gq),this.nodes.forEach(dq),this.nodes.forEach(uq)):this.nodes.forEach(M4),this.clearAllSnapshots();const c=oa.now();ws.delta=Si(0,1e3/60,c-ws.timestamp),ws.timestamp=c,ws.isProcessing=!0,gf.update.process(ws),gf.preRender.process(ws),gf.render.process(ws),ws.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ww.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xq),this.sharedNodes.forEach(bq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,br.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){br.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Hs(this.snapshot.measuredBox.x)&&!Hs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ur(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const u=a(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!n)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!J6(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||Hl(this.latestValues)||m)&&(n(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),Nq(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ur();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(kq))){const{scroll:h}=this.root;h&&(uc(c.x,h.offset.x),uc(c.y,h.offset.y))}return c}removeElementScroll(l){const c=Ur();if(Ka(c,l),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:m,options:x}=h;h!==this.root&&m&&x.layoutScroll&&(m.wasRoot&&Ka(c,l),uc(c.x,m.offset.x),uc(c.y,m.offset.y))}return c}applyTransform(l,c=!1){const u=Ur();Ka(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&mc(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Hl(m.latestValues)&&mc(u,m.latestValues)}return Hl(this.latestValues)&&mc(u,this.latestValues),u}removeTransform(l){const c=Ur();Ka(c,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Hl(h.latestValues))continue;Wb(h.latestValues)&&h.updateSnapshot();const m=Ur(),x=h.measurePageBox();Ka(m,x),P4(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Hl(this.latestValues)&&P4(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ws.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:x}=this.options;if(!(!this.layout||!(m||x))){if(this.resolvedRelativeTargetAt=ws.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),uu(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ka(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ur(),this.targetWithTransforms=Ur()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ka(this.target,this.layout.layoutBox),T6(this.target,this.targetDelta)):Ka(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),uu(this.relativeTargetOrigin,this.target,g.target),Ka(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wb(this.parent.latestValues)||E6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ws.timestamp&&(u=!1),u)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Ka(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,g=this.treeScale.y;zz(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ur());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_4(this.prevProjectionDelta.x,this.projectionDelta.x),_4(this.prevProjectionDelta.y,this.projectionDelta.y)),du(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==g||!O4(this.projectionDelta.x,this.prevProjectionDelta.x)||!O4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hc(),this.projectionDelta=hc(),this.projectionDeltaWithTransform=hc()}setAnimationOrigin(l,c=!1){const u=this.snapshot,h=u?u.latestValues:{},m={...this.latestValues},x=hc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Ur(),b=u?u.source:void 0,y=this.layout?this.layout.source:void 0,w=b!==y,N=this.getStack(),_=!N||N.members.length<=1,S=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(wq));this.animationProgress=0;let k;this.mixTargetDelta=v=>{const A=v/1e3;$4(x.x,l.x,A),$4(x.y,l.y,A),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uu(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vq(this.relativeTarget,this.relativeTargetOrigin,g,A),k&&nq(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Ur()),Ka(k,this.relativeTarget)),w&&(this.animationValues=m,QV(m,h,this.latestValues,A,S,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(bl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=br.update(()=>{lh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=kc(0)),this.currentAnimation=YV(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:m}=l;if(!(!c||!u||!h)){if(this!==l&&this.layout&&h&&eE(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Ur();const x=Hs(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+x;const g=Hs(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+g}Ka(c,u),mc(c,m),du(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new iq),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&Af("z",l,h,this.animationValues);for(let m=0;m<_f.length;m++)Af(`rotate${_f[m]}`,l,h,this.animationValues),Af(`skew${_f[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=ih(c?.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=ih(c?.pointerEvents)||""),this.hasProjected&&!Hl(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let x=lq(this.projectionDeltaWithTransform,this.treeScale,m);u&&(x=u(m,x)),l.transform=x;const{x:g,y:b}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in ku){if(m[y]===void 0)continue;const{correct:w,applyTo:N,isCSSVariable:_}=ku[y],S=x==="none"?m[y]:w(m[y],h);if(N){const k=N.length;for(let v=0;v<k;v++)l[N[v]]=S}else _?this.options.visualElement.renderState.vars[y]=S:l[y]=S}this.options.layoutId&&(l.pointerEvents=h===this?ih(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(I4),this.root.sharedNodes.clear()}}}function dq(t){t.updateLayout()}function uq(t){const r=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:n}=t.options,i=r.source!==t.layout.source;n==="size"?tn(m=>{const x=i?r.measuredBox[m]:r.layoutBox[m],g=Hs(x);x.min=s[m].min,x.max=x.min+g}):eE(n,r.layoutBox,s)&&tn(m=>{const x=i?r.measuredBox[m]:r.layoutBox[m],g=Hs(s[m]);x.max=x.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+g)});const l=hc();du(l,s,r.layoutBox);const c=hc();i?du(c,t.applyTransform(a,!0),r.measuredBox):du(c,s,r.layoutBox);const u=!J6(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:g}=m;if(x&&g){const b=Ur();uu(b,r.layoutBox,x.layoutBox);const y=Ur();uu(y,s,g.layoutBox),X6(b,y)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=b,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function mq(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xq(t){t.clearSnapshot()}function I4(t){t.clearMeasurements()}function M4(t){t.isLayoutDirty=!1}function gq(t){const{visualElement:r}=t.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),t.resetTransform()}function L4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pq(t){t.resolveTargetDelta()}function fq(t){t.calcProjection()}function yq(t){t.resetSkewAndRotation()}function bq(t){t.removeLeadSnapshot()}function $4(t,r,s){t.translate=Pr(r.translate,0,s),t.scale=Pr(r.scale,1,s),t.origin=r.origin,t.originPoint=r.originPoint}function F4(t,r,s,a){t.min=Pr(r.min,s.min,a),t.max=Pr(r.max,s.max,a)}function vq(t,r,s,a){F4(t.x,r.x,s.x,a),F4(t.y,r.y,s.y,a)}function wq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jq={duration:.45,ease:[.4,0,.1,1]},B4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),U4=B4("applewebkit/")&&!B4("chrome/")?Math.round:cn;function z4(t){t.min=U4(t.min),t.max=U4(t.max)}function Nq(t){z4(t.x),z4(t.y)}function eE(t,r,s){return t==="position"||t==="preserve-aspect"&&!PV(R4(r),R4(s),.2)}function kq(t){return t!==t.root&&t.scroll?.wasRoot}const Sq=Q6({attachResizeListener:(t,r)=>Su(t,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cf={current:void 0},tE=Q6({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cf.current){const t=new Sq({});t.mount(window),t.setOptions({layoutScroll:!0}),Cf.current=t}return Cf.current},resetTransform:(t,r)=>{t.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_q={pan:{Feature:qV},drag:{Feature:VV,ProjectionNode:tE,MeasureLayout:W6}};function V4(t,r,s){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",s==="Start");const n="onHover"+s,i=a[n];i&&br.postRender(()=>i(r,Wu(r)))}class Aq extends Sl{mount(){const{current:r}=this.node;r&&(this.unmount=YU(r,(s,a)=>(V4(this.node,a,"Start"),n=>V4(this.node,n,"End"))))}unmount(){}}class Cq extends Sl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qu(Su(this.node.current,"focus",()=>this.onFocus()),Su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function q4(t,r,s){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",s==="Start");const n="onTap"+(s==="End"?"":s),i=a[n];i&&br.postRender(()=>i(r,Wu(r)))}class Pq extends Sl{mount(){const{current:r}=this.node;r&&(this.unmount=ZU(r,(s,a)=>(q4(this.node,a,"Start"),(n,{success:i})=>q4(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ev=new WeakMap,Pf=new WeakMap,Eq=t=>{const r=ev.get(t.target);r&&r(t)},Tq=t=>{t.forEach(Eq)};function Dq({root:t,...r}){const s=t||document;Pf.has(s)||Pf.set(s,{});const a=Pf.get(s),n=JSON.stringify(r);return a[n]||(a[n]=new IntersectionObserver(Tq,{root:t,...r})),a[n]}function Rq(t,r,s){const a=Dq(r);return ev.set(t,s),a.observe(t),()=>{ev.delete(t),a.unobserve(t)}}const Oq={some:0,all:1};class Iq extends Sl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:s,margin:a,amount:n="some",once:i}=r,l={root:s?s.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:Oq[n]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:x}=this.node.getProps(),g=h?m:x;g&&g(u)};return Rq(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:s}=this.node;["amount","margin","root"].some(Mq(r,s))&&this.startObserver()}unmount(){}}function Mq({viewport:t={}},{viewport:r={}}={}){return s=>t[s]!==r[s]}const Lq={inView:{Feature:Iq},tap:{Feature:Pq},focus:{Feature:Cq},hover:{Feature:Aq}},$q={layout:{ProjectionNode:tE,MeasureLayout:W6}},Fq={...NV,...Lq,..._q,...$q},Et=Fz(Fq,Zz);class Bq{constructor(){this.listeners=new Map,this.notificationQueue=[],this.isProcessing=!1}subscribe(r,s){this.listeners.has(r)||this.listeners.set(r,new Set),this.listeners.get(r).add(s)}unsubscribe(r,s){this.listeners.has(r)&&this.listeners.get(r).delete(s)}emit(r,s){this.listeners.has(r)&&this.listeners.get(r).forEach(a=>{try{a(s)}catch(n){console.error("Error in notification callback:",n)}})}createNotification(r,s,a,n={}){return{id:`notif_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:r,title:s,message:a,timestamp:new Date().toISOString(),read:!1,metadata:n,priority:n.priority||"normal"}}addToQueue(r){this.notificationQueue.push(r),this.processQueue()}async processQueue(){if(!(this.isProcessing||this.notificationQueue.length===0)){for(this.isProcessing=!0;this.notificationQueue.length>0;){const r=this.notificationQueue.shift();await this.processNotification(r)}this.isProcessing=!1}}async processNotification(r){try{this.storeNotification(r),this.emit("notification",r),this.emit(r.type,r),Notification.permission==="granted"&&this.showBrowserNotification(r),console.log("Notification processed:",r)}catch(s){console.error("Error processing notification:",s)}}storeNotification(r){try{const s=JSON.parse(localStorage.getItem("admin_notifications")||"[]");s.unshift(r),s.length>100&&s.splice(100),localStorage.setItem("admin_notifications",JSON.stringify(s))}catch(s){console.error("Error storing notification:",s)}}getStoredNotifications(){try{return JSON.parse(localStorage.getItem("admin_notifications")||"[]")}catch(r){return console.error("Error getting stored notifications:",r),[]}}markAsRead(r){try{const s=this.getStoredNotifications(),a=s.find(n=>n.id===r);a&&(a.read=!0,localStorage.setItem("admin_notifications",JSON.stringify(s)),this.emit("notificationRead",{id:r}))}catch(s){console.error("Error marking notification as read:",s)}}markAllAsRead(){try{const r=this.getStoredNotifications();r.forEach(s=>{s.read=!0}),localStorage.setItem("admin_notifications",JSON.stringify(r)),this.emit("allNotificationsRead",{})}catch(r){console.error("Error marking all notifications as read:",r)}}clearAll(){try{localStorage.removeItem("admin_notifications"),this.emit("notificationsCleared",{})}catch(r){console.error("Error clearing notifications:",r)}}showBrowserNotification(r){try{new Notification(r.title,{body:r.message,icon:"/favicon.ico",badge:"/favicon.ico",tag:r.id,requireInteraction:r.priority==="high",silent:r.priority==="low"})}catch(s){console.error("Error showing browser notification:",s)}}async requestPermission(){try{return Notification.permission==="default"?await Notification.requestPermission()==="granted":Notification.permission==="granted"}catch(r){return console.error("Error requesting notification permission:",r),!1}}notifyNewApplication(r){const s=this.createNotification("scholarship_new_application","New Scholarship Application",`New application from ${r.student_name} for ${r.scholarship_category}`,{priority:"high",applicationId:r.id,studentId:r.student_id,category:r.scholarship_category,level:r.education_level});this.addToQueue(s)}notifyApplicationReview(r,s){let a,n;switch(s){case"reviewed":a="Application Reviewed",n=`Application from ${r.student_name} has been reviewed and approved`;break;case"rejected":a="Application Rejected",n=`Application from ${r.student_name} has been rejected`;break;case"compliance":a="Application Flagged for Compliance",n=`Application from ${r.student_name} has been flagged for compliance review`;break;default:a="Application Status Updated",n=`Application from ${r.student_name} status has been updated`}const i=this.createNotification("scholarship_application_review",a,n,{priority:"normal",applicationId:r.id,studentId:r.student_id,action:s,category:r.scholarship_category});this.addToQueue(i)}notifyInterviewScheduled(r){const s=this.createNotification("scholarship_interview_scheduled","Interview Scheduled",`Interview scheduled for ${r.student_name} on ${new Date(r.scheduled_date).toLocaleDateString()}`,{priority:"normal",applicationId:r.application_id,studentId:r.student_id,interviewId:r.id,scheduledDate:r.scheduled_date});this.addToQueue(s)}notifyInterviewCompleted(r,s){const a=this.createNotification("scholarship_interview_completed","Interview Completed",`Interview for ${r.student_name} has been completed - ${s}`,{priority:"normal",applicationId:r.application_id,studentId:r.student_id,interviewId:r.id,result:s});this.addToQueue(a)}notifyFinalApproval(r){const s=this.createNotification("scholarship_final_approval","Scholarship Approved",`Scholarship application from ${r.student_name} has been finally approved`,{priority:"high",applicationId:r.id,studentId:r.student_id,category:r.scholarship_category,level:r.education_level});this.addToQueue(s)}notifyBulkAction(r,s){let a,n;switch(r){case"reviewed":a="Bulk Review Complete",n=`${s} application(s) have been marked as reviewed`;break;case"rejected":a="Bulk Rejection Complete",n=`${s} application(s) have been rejected`;break;case"compliance":a="Bulk Compliance Complete",n=`${s} application(s) have been flagged for compliance`;break;default:a="Bulk Action Complete",n=`${s} application(s) have been processed`}const i=this.createNotification("scholarship_bulk_action",a,n,{priority:"normal",action:r,count:s});this.addToQueue(i)}notifySystemEvent(r,s,a={}){const n=this.createNotification("system_event","System Event",s,{priority:"low",event:r,...a});this.addToQueue(n)}}const ir=new Bq;function rE(t,r){return function(){return t.apply(r,arguments)}}const{toString:Uq}=Object.prototype,{getPrototypeOf:nj}=Object,{iterator:Ox,toStringTag:sE}=Symbol,Ix=(t=>r=>{const s=Uq.call(r);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Tn=t=>(t=t.toLowerCase(),r=>Ix(r)===t),Mx=t=>r=>typeof r===t,{isArray:qc}=Array,_u=Mx("undefined");function Yu(t){return t!==null&&!_u(t)&&t.constructor!==null&&!_u(t.constructor)&&ua(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const aE=Tn("ArrayBuffer");function zq(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&aE(t.buffer),r}const Vq=Mx("string"),ua=Mx("function"),nE=Mx("number"),Ku=t=>t!==null&&typeof t=="object",qq=t=>t===!0||t===!1,oh=t=>{if(Ix(t)!=="object")return!1;const r=nj(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(sE in t)&&!(Ox in t)},Hq=t=>{if(!Ku(t)||Yu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Gq=Tn("Date"),Wq=Tn("File"),Yq=Tn("Blob"),Kq=Tn("FileList"),Jq=t=>Ku(t)&&ua(t.pipe),Xq=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||ua(t.append)&&((r=Ix(t))==="formdata"||r==="object"&&ua(t.toString)&&t.toString()==="[object FormData]"))},Zq=Tn("URLSearchParams"),[Qq,eH,tH,rH]=["ReadableStream","Request","Response","Headers"].map(Tn),sH=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ju(t,r,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),qc(t))for(a=0,n=t.length;a<n;a++)r.call(null,t[a],a,t);else{if(Yu(t))return;const i=s?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let c;for(a=0;a<l;a++)c=i[a],r.call(null,t[c],c,t)}}function iE(t,r){if(Yu(t))return null;r=r.toLowerCase();const s=Object.keys(t);let a=s.length,n;for(;a-- >0;)if(n=s[a],r===n.toLowerCase())return n;return null}const eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lE=t=>!_u(t)&&t!==eo;function tv(){const{caseless:t}=lE(this)&&this||{},r={},s=(a,n)=>{const i=t&&iE(r,n)||n;oh(r[i])&&oh(a)?r[i]=tv(r[i],a):oh(a)?r[i]=tv({},a):qc(a)?r[i]=a.slice():r[i]=a};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&Ju(arguments[a],s);return r}const aH=(t,r,s,{allOwnKeys:a}={})=>(Ju(r,(n,i)=>{s&&ua(n)?t[i]=rE(n,s):t[i]=n},{allOwnKeys:a}),t),nH=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),iH=(t,r,s,a)=>{t.prototype=Object.create(r.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),s&&Object.assign(t.prototype,s)},lH=(t,r,s,a)=>{let n,i,l;const c={};if(r=r||{},t==null)return r;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)l=n[i],(!a||a(l,t,r))&&!c[l]&&(r[l]=t[l],c[l]=!0);t=s!==!1&&nj(t)}while(t&&(!s||s(t,r))&&t!==Object.prototype);return r},oH=(t,r,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=r.length;const a=t.indexOf(r,s);return a!==-1&&a===s},cH=t=>{if(!t)return null;if(qc(t))return t;let r=t.length;if(!nE(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=t[r];return s},dH=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&nj(Uint8Array)),uH=(t,r)=>{const a=(t&&t[Ox]).call(t);let n;for(;(n=a.next())&&!n.done;){const i=n.value;r.call(t,i[0],i[1])}},mH=(t,r)=>{let s;const a=[];for(;(s=t.exec(r))!==null;)a.push(s);return a},hH=Tn("HTMLFormElement"),xH=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),H4=(({hasOwnProperty:t})=>(r,s)=>t.call(r,s))(Object.prototype),gH=Tn("RegExp"),oE=(t,r)=>{const s=Object.getOwnPropertyDescriptors(t),a={};Ju(s,(n,i)=>{let l;(l=r(n,i,t))!==!1&&(a[i]=l||n)}),Object.defineProperties(t,a)},pH=t=>{oE(t,(r,s)=>{if(ua(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=t[s];if(ua(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},fH=(t,r)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return qc(t)?a(t):a(String(t).split(r)),s},yH=()=>{},bH=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function vH(t){return!!(t&&ua(t.append)&&t[sE]==="FormData"&&t[Ox])}const wH=t=>{const r=new Array(10),s=(a,n)=>{if(Ku(a)){if(r.indexOf(a)>=0)return;if(Yu(a))return a;if(!("toJSON"in a)){r[n]=a;const i=qc(a)?[]:{};return Ju(a,(l,c)=>{const u=s(l,n+1);!_u(u)&&(i[c]=u)}),r[n]=void 0,i}}return a};return s(t,0)},jH=Tn("AsyncFunction"),NH=t=>t&&(Ku(t)||ua(t))&&ua(t.then)&&ua(t.catch),cE=((t,r)=>t?setImmediate:r?((s,a)=>(eo.addEventListener("message",({source:n,data:i})=>{n===eo&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),eo.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ua(eo.postMessage)),kH=typeof queueMicrotask<"u"?queueMicrotask.bind(eo):typeof process<"u"&&process.nextTick||cE,SH=t=>t!=null&&ua(t[Ox]),Te={isArray:qc,isArrayBuffer:aE,isBuffer:Yu,isFormData:Xq,isArrayBufferView:zq,isString:Vq,isNumber:nE,isBoolean:qq,isObject:Ku,isPlainObject:oh,isEmptyObject:Hq,isReadableStream:Qq,isRequest:eH,isResponse:tH,isHeaders:rH,isUndefined:_u,isDate:Gq,isFile:Wq,isBlob:Yq,isRegExp:gH,isFunction:ua,isStream:Jq,isURLSearchParams:Zq,isTypedArray:dH,isFileList:Kq,forEach:Ju,merge:tv,extend:aH,trim:sH,stripBOM:nH,inherits:iH,toFlatObject:lH,kindOf:Ix,kindOfTest:Tn,endsWith:oH,toArray:cH,forEachEntry:uH,matchAll:mH,isHTMLForm:hH,hasOwnProperty:H4,hasOwnProp:H4,reduceDescriptors:oE,freezeMethods:pH,toObjectSet:fH,toCamelCase:xH,noop:yH,toFiniteNumber:bH,findKey:iE,global:eo,isContextDefined:lE,isSpecCompliantForm:vH,toJSONObject:wH,isAsyncFn:jH,isThenable:NH,setImmediate:cE,asap:kH,isIterable:SH};function $t(t,r,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}Te.inherits($t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const dE=$t.prototype,uE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uE[t]={value:t}});Object.defineProperties($t,uE);Object.defineProperty(dE,"isAxiosError",{value:!0});$t.from=(t,r,s,a,n,i)=>{const l=Object.create(dE);return Te.toFlatObject(t,l,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),$t.call(l,t.message,r,s,a,n),l.cause=t,l.name=t.name,i&&Object.assign(l,i),l};const _H=null;function rv(t){return Te.isPlainObject(t)||Te.isArray(t)}function mE(t){return Te.endsWith(t,"[]")?t.slice(0,-2):t}function G4(t,r,s){return t?t.concat(r).map(function(n,i){return n=mE(n),!s&&i?"["+n+"]":n}).join(s?".":""):r}function AH(t){return Te.isArray(t)&&!t.some(rv)}const CH=Te.toFlatObject(Te,{},null,function(r){return/^is[A-Z]/.test(r)});function Lx(t,r,s){if(!Te.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,s=Te.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,N){return!Te.isUndefined(N[w])});const a=s.metaTokens,n=s.visitor||m,i=s.dots,l=s.indexes,u=(s.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(r);if(!Te.isFunction(n))throw new TypeError("visitor must be a function");function h(y){if(y===null)return"";if(Te.isDate(y))return y.toISOString();if(Te.isBoolean(y))return y.toString();if(!u&&Te.isBlob(y))throw new $t("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(y)||Te.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,w,N){let _=y;if(y&&!N&&typeof y=="object"){if(Te.endsWith(w,"{}"))w=a?w:w.slice(0,-2),y=JSON.stringify(y);else if(Te.isArray(y)&&AH(y)||(Te.isFileList(y)||Te.endsWith(w,"[]"))&&(_=Te.toArray(y)))return w=mE(w),_.forEach(function(k,v){!(Te.isUndefined(k)||k===null)&&r.append(l===!0?G4([w],v,i):l===null?w:w+"[]",h(k))}),!1}return rv(y)?!0:(r.append(G4(N,w,i),h(y)),!1)}const x=[],g=Object.assign(CH,{defaultVisitor:m,convertValue:h,isVisitable:rv});function b(y,w){if(!Te.isUndefined(y)){if(x.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));x.push(y),Te.forEach(y,function(_,S){(!(Te.isUndefined(_)||_===null)&&n.call(r,_,Te.isString(S)?S.trim():S,w,g))===!0&&b(_,w?w.concat(S):[S])}),x.pop()}}if(!Te.isObject(t))throw new TypeError("data must be an object");return b(t),r}function W4(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function ij(t,r){this._pairs=[],t&&Lx(t,this,r)}const hE=ij.prototype;hE.append=function(r,s){this._pairs.push([r,s])};hE.toString=function(r){const s=r?function(a){return r.call(this,a,W4)}:W4;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function PH(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xE(t,r,s){if(!r)return t;const a=s&&s.encode||PH;Te.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(r,s):i=Te.isURLSearchParams(r)?r.toString():new ij(r,s).toString(a),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Y4{constructor(){this.handlers=[]}use(r,s,a){return this.handlers.push({fulfilled:r,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Te.forEach(this.handlers,function(a){a!==null&&r(a)})}}const gE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},EH=typeof URLSearchParams<"u"?URLSearchParams:ij,TH=typeof FormData<"u"?FormData:null,DH=typeof Blob<"u"?Blob:null,RH={isBrowser:!0,classes:{URLSearchParams:EH,FormData:TH,Blob:DH},protocols:["http","https","file","blob","url","data"]},lj=typeof window<"u"&&typeof document<"u",sv=typeof navigator=="object"&&navigator||void 0,OH=lj&&(!sv||["ReactNative","NativeScript","NS"].indexOf(sv.product)<0),IH=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",MH=lj&&window.location.href||"http://localhost",LH=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lj,hasStandardBrowserEnv:OH,hasStandardBrowserWebWorkerEnv:IH,navigator:sv,origin:MH},Symbol.toStringTag,{value:"Module"})),Ms={...LH,...RH};function $H(t,r){return Lx(t,new Ms.classes.URLSearchParams,{visitor:function(s,a,n,i){return Ms.isNode&&Te.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function FH(t){return Te.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function BH(t){const r={},s=Object.keys(t);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],r[i]=t[i];return r}function pE(t){function r(s,a,n,i){let l=s[i++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),u=i>=s.length;return l=!l&&Te.isArray(n)?n.length:l,u?(Te.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!c):((!n[l]||!Te.isObject(n[l]))&&(n[l]=[]),r(s,a,n[l],i)&&Te.isArray(n[l])&&(n[l]=BH(n[l])),!c)}if(Te.isFormData(t)&&Te.isFunction(t.entries)){const s={};return Te.forEachEntry(t,(a,n)=>{r(FH(a),n,s,0)}),s}return null}function UH(t,r,s){if(Te.isString(t))try{return(r||JSON.parse)(t),Te.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(t)}const Xu={transitional:gE,adapter:["xhr","http","fetch"],transformRequest:[function(r,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=Te.isObject(r);if(i&&Te.isHTMLForm(r)&&(r=new FormData(r)),Te.isFormData(r))return n?JSON.stringify(pE(r)):r;if(Te.isArrayBuffer(r)||Te.isBuffer(r)||Te.isStream(r)||Te.isFile(r)||Te.isBlob(r)||Te.isReadableStream(r))return r;if(Te.isArrayBufferView(r))return r.buffer;if(Te.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let c;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return $H(r,this.formSerializer).toString();if((c=Te.isFileList(r))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Lx(c?{"files[]":r}:r,u&&new u,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),UH(r)):r}],transformResponse:[function(r){const s=this.transitional||Xu.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(Te.isResponse(r)||Te.isReadableStream(r))return r;if(r&&Te.isString(r)&&(a&&!this.responseType||n)){const l=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(r)}catch(c){if(l)throw c.name==="SyntaxError"?$t.from(c,$t.ERR_BAD_RESPONSE,this,null,this.response):c}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ms.classes.FormData,Blob:Ms.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],t=>{Xu.headers[t]={}});const zH=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VH=t=>{const r={};let s,a,n;return t&&t.split(`
`).forEach(function(l){n=l.indexOf(":"),s=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!s||r[s]&&zH[s])&&(s==="set-cookie"?r[s]?r[s].push(a):r[s]=[a]:r[s]=r[s]?r[s]+", "+a:a)}),r},K4=Symbol("internals");function zd(t){return t&&String(t).trim().toLowerCase()}function ch(t){return t===!1||t==null?t:Te.isArray(t)?t.map(ch):String(t)}function qH(t){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(t);)r[a[1]]=a[2];return r}const HH=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ef(t,r,s,a,n){if(Te.isFunction(a))return a.call(this,r,s);if(n&&(r=s),!!Te.isString(r)){if(Te.isString(a))return r.indexOf(a)!==-1;if(Te.isRegExp(a))return a.test(r)}}function GH(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,a)=>s.toUpperCase()+a)}function WH(t,r){const s=Te.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+s,{value:function(n,i,l){return this[a].call(this,r,n,i,l)},configurable:!0})})}let ma=class{constructor(r){r&&this.set(r)}set(r,s,a){const n=this;function i(c,u,h){const m=zd(u);if(!m)throw new Error("header name must be a non-empty string");const x=Te.findKey(n,m);(!x||n[x]===void 0||h===!0||h===void 0&&n[x]!==!1)&&(n[x||u]=ch(c))}const l=(c,u)=>Te.forEach(c,(h,m)=>i(h,m,u));if(Te.isPlainObject(r)||r instanceof this.constructor)l(r,s);else if(Te.isString(r)&&(r=r.trim())&&!HH(r))l(VH(r),s);else if(Te.isObject(r)&&Te.isIterable(r)){let c={},u,h;for(const m of r){if(!Te.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(u=c[h])?Te.isArray(u)?[...u,m[1]]:[u,m[1]]:m[1]}l(c,s)}else r!=null&&i(s,r,a);return this}get(r,s){if(r=zd(r),r){const a=Te.findKey(this,r);if(a){const n=this[a];if(!s)return n;if(s===!0)return qH(n);if(Te.isFunction(s))return s.call(this,n,a);if(Te.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=zd(r),r){const a=Te.findKey(this,r);return!!(a&&this[a]!==void 0&&(!s||Ef(this,this[a],a,s)))}return!1}delete(r,s){const a=this;let n=!1;function i(l){if(l=zd(l),l){const c=Te.findKey(a,l);c&&(!s||Ef(a,a[c],c,s))&&(delete a[c],n=!0)}}return Te.isArray(r)?r.forEach(i):i(r),n}clear(r){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!r||Ef(this,this[i],i,r,!0))&&(delete this[i],n=!0)}return n}normalize(r){const s=this,a={};return Te.forEach(this,(n,i)=>{const l=Te.findKey(a,i);if(l){s[l]=ch(n),delete s[i];return}const c=r?GH(i):String(i).trim();c!==i&&delete s[i],s[c]=ch(n),a[c]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return Te.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=r&&Te.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const a=new this(r);return s.forEach(n=>a.set(n)),a}static accessor(r){const a=(this[K4]=this[K4]={accessors:{}}).accessors,n=this.prototype;function i(l){const c=zd(l);a[c]||(WH(n,l),a[c]=!0)}return Te.isArray(r)?r.forEach(i):i(r),this}};ma.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(ma.prototype,({value:t},r)=>{let s=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(a){this[s]=a}}});Te.freezeMethods(ma);function Tf(t,r){const s=this||Xu,a=r||s,n=ma.from(a.headers);let i=a.data;return Te.forEach(t,function(c){i=c.call(s,i,n.normalize(),r?r.status:void 0)}),n.normalize(),i}function fE(t){return!!(t&&t.__CANCEL__)}function Hc(t,r,s){$t.call(this,t??"canceled",$t.ERR_CANCELED,r,s),this.name="CanceledError"}Te.inherits(Hc,$t,{__CANCEL__:!0});function yE(t,r,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?t(s):r(new $t("Request failed with status code "+s.status,[$t.ERR_BAD_REQUEST,$t.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function YH(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function KH(t,r){t=t||10;const s=new Array(t),a=new Array(t);let n=0,i=0,l;return r=r!==void 0?r:1e3,function(u){const h=Date.now(),m=a[i];l||(l=h),s[n]=u,a[n]=h;let x=i,g=0;for(;x!==n;)g+=s[x++],x=x%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),h-l<r)return;const b=m&&h-m;return b?Math.round(g*1e3/b):void 0}}function JH(t,r){let s=0,a=1e3/r,n,i;const l=(h,m=Date.now())=>{s=m,n=null,i&&(clearTimeout(i),i=null),t(...h)};return[(...h)=>{const m=Date.now(),x=m-s;x>=a?l(h,m):(n=h,i||(i=setTimeout(()=>{i=null,l(n)},a-x)))},()=>n&&l(n)]}const Dh=(t,r,s=3)=>{let a=0;const n=KH(50,250);return JH(i=>{const l=i.loaded,c=i.lengthComputable?i.total:void 0,u=l-a,h=n(u),m=l<=c;a=l;const x={loaded:l,total:c,progress:c?l/c:void 0,bytes:u,rate:h||void 0,estimated:h&&c&&m?(c-l)/h:void 0,event:i,lengthComputable:c!=null,[r?"download":"upload"]:!0};t(x)},s)},J4=(t,r)=>{const s=t!=null;return[a=>r[0]({lengthComputable:s,total:t,loaded:a}),r[1]]},X4=t=>(...r)=>Te.asap(()=>t(...r)),XH=Ms.hasStandardBrowserEnv?((t,r)=>s=>(s=new URL(s,Ms.origin),t.protocol===s.protocol&&t.host===s.host&&(r||t.port===s.port)))(new URL(Ms.origin),Ms.navigator&&/(msie|trident)/i.test(Ms.navigator.userAgent)):()=>!0,ZH=Ms.hasStandardBrowserEnv?{write(t,r,s,a,n,i){const l=[t+"="+encodeURIComponent(r)];Te.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),Te.isString(a)&&l.push("path="+a),Te.isString(n)&&l.push("domain="+n),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function eG(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function bE(t,r,s){let a=!QH(r);return t&&(a||s==!1)?eG(t,r):r}const Z4=t=>t instanceof ma?{...t}:t;function yo(t,r){r=r||{};const s={};function a(h,m,x,g){return Te.isPlainObject(h)&&Te.isPlainObject(m)?Te.merge.call({caseless:g},h,m):Te.isPlainObject(m)?Te.merge({},m):Te.isArray(m)?m.slice():m}function n(h,m,x,g){if(Te.isUndefined(m)){if(!Te.isUndefined(h))return a(void 0,h,x,g)}else return a(h,m,x,g)}function i(h,m){if(!Te.isUndefined(m))return a(void 0,m)}function l(h,m){if(Te.isUndefined(m)){if(!Te.isUndefined(h))return a(void 0,h)}else return a(void 0,m)}function c(h,m,x){if(x in r)return a(h,m);if(x in t)return a(void 0,h)}const u={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,m,x)=>n(Z4(h),Z4(m),x,!0)};return Te.forEach(Object.keys({...t,...r}),function(m){const x=u[m]||n,g=x(t[m],r[m],m);Te.isUndefined(g)&&x!==c||(s[m]=g)}),s}const vE=t=>{const r=yo({},t);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:c}=r;r.headers=l=ma.from(l),r.url=xE(bE(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(Te.isFormData(s)){if(Ms.hasStandardBrowserEnv||Ms.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[h,...m]=u?u.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...m].join("; "))}}if(Ms.hasStandardBrowserEnv&&(a&&Te.isFunction(a)&&(a=a(r)),a||a!==!1&&XH(r.url))){const h=n&&i&&ZH.read(i);h&&l.set(n,h)}return r},tG=typeof XMLHttpRequest<"u",rG=tG&&function(t){return new Promise(function(s,a){const n=vE(t);let i=n.data;const l=ma.from(n.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:h}=n,m,x,g,b,y;function w(){b&&b(),y&&y(),n.cancelToken&&n.cancelToken.unsubscribe(m),n.signal&&n.signal.removeEventListener("abort",m)}let N=new XMLHttpRequest;N.open(n.method.toUpperCase(),n.url,!0),N.timeout=n.timeout;function _(){if(!N)return;const k=ma.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),A={data:!c||c==="text"||c==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:k,config:t,request:N};yE(function(T){s(T),w()},function(T){a(T),w()},A),N=null}"onloadend"in N?N.onloadend=_:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(_)},N.onabort=function(){N&&(a(new $t("Request aborted",$t.ECONNABORTED,t,N)),N=null)},N.onerror=function(){a(new $t("Network Error",$t.ERR_NETWORK,t,N)),N=null},N.ontimeout=function(){let v=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const A=n.transitional||gE;n.timeoutErrorMessage&&(v=n.timeoutErrorMessage),a(new $t(v,A.clarifyTimeoutError?$t.ETIMEDOUT:$t.ECONNABORTED,t,N)),N=null},i===void 0&&l.setContentType(null),"setRequestHeader"in N&&Te.forEach(l.toJSON(),function(v,A){N.setRequestHeader(A,v)}),Te.isUndefined(n.withCredentials)||(N.withCredentials=!!n.withCredentials),c&&c!=="json"&&(N.responseType=n.responseType),h&&([g,y]=Dh(h,!0),N.addEventListener("progress",g)),u&&N.upload&&([x,b]=Dh(u),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",b)),(n.cancelToken||n.signal)&&(m=k=>{N&&(a(!k||k.type?new Hc(null,t,N):k),N.abort(),N=null)},n.cancelToken&&n.cancelToken.subscribe(m),n.signal&&(n.signal.aborted?m():n.signal.addEventListener("abort",m)));const S=YH(n.url);if(S&&Ms.protocols.indexOf(S)===-1){a(new $t("Unsupported protocol "+S+":",$t.ERR_BAD_REQUEST,t));return}N.send(i||null)})},sG=(t,r)=>{const{length:s}=t=t?t.filter(Boolean):[];if(r||s){let a=new AbortController,n;const i=function(h){if(!n){n=!0,c();const m=h instanceof Error?h:this.reason;a.abort(m instanceof $t?m:new Hc(m instanceof Error?m.message:m))}};let l=r&&setTimeout(()=>{l=null,i(new $t(`timeout ${r} of ms exceeded`,$t.ETIMEDOUT))},r);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:u}=a;return u.unsubscribe=()=>Te.asap(c),u}},aG=function*(t,r){let s=t.byteLength;if(s<r){yield t;return}let a=0,n;for(;a<s;)n=a+r,yield t.slice(a,n),a=n},nG=async function*(t,r){for await(const s of iG(t))yield*aG(s,r)},iG=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:s,value:a}=await r.read();if(s)break;yield a}}finally{await r.cancel()}},Q4=(t,r,s,a)=>{const n=nG(t,r);let i=0,l,c=u=>{l||(l=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:h,value:m}=await n.next();if(h){c(),u.close();return}let x=m.byteLength;if(s){let g=i+=x;s(g)}u.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(u){return c(u),n.return()}},{highWaterMark:2})},$x=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wE=$x&&typeof ReadableStream=="function",lG=$x&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),jE=(t,...r)=>{try{return!!t(...r)}catch{return!1}},oG=wE&&jE(()=>{let t=!1;const r=new Request(Ms.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),e_=64*1024,av=wE&&jE(()=>Te.isReadableStream(new Response("").body)),Rh={stream:av&&(t=>t.body)};$x&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!Rh[r]&&(Rh[r]=Te.isFunction(t[r])?s=>s[r]():(s,a)=>{throw new $t(`Response type '${r}' is not supported`,$t.ERR_NOT_SUPPORT,a)})})})(new Response);const cG=async t=>{if(t==null)return 0;if(Te.isBlob(t))return t.size;if(Te.isSpecCompliantForm(t))return(await new Request(Ms.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(t)||Te.isArrayBuffer(t))return t.byteLength;if(Te.isURLSearchParams(t)&&(t=t+""),Te.isString(t))return(await lG(t)).byteLength},dG=async(t,r)=>{const s=Te.toFiniteNumber(t.getContentLength());return s??cG(r)},uG=$x&&(async t=>{let{url:r,method:s,data:a,signal:n,cancelToken:i,timeout:l,onDownloadProgress:c,onUploadProgress:u,responseType:h,headers:m,withCredentials:x="same-origin",fetchOptions:g}=vE(t);h=h?(h+"").toLowerCase():"text";let b=sG([n,i&&i.toAbortSignal()],l),y;const w=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let N;try{if(u&&oG&&s!=="get"&&s!=="head"&&(N=await dG(m,a))!==0){let A=new Request(r,{method:"POST",body:a,duplex:"half"}),E;if(Te.isFormData(a)&&(E=A.headers.get("content-type"))&&m.setContentType(E),A.body){const[T,F]=J4(N,Dh(X4(u)));a=Q4(A.body,e_,T,F)}}Te.isString(x)||(x=x?"include":"omit");const _="credentials"in Request.prototype;y=new Request(r,{...g,signal:b,method:s.toUpperCase(),headers:m.normalize().toJSON(),body:a,duplex:"half",credentials:_?x:void 0});let S=await fetch(y,g);const k=av&&(h==="stream"||h==="response");if(av&&(c||k&&w)){const A={};["status","statusText","headers"].forEach(R=>{A[R]=S[R]});const E=Te.toFiniteNumber(S.headers.get("content-length")),[T,F]=c&&J4(E,Dh(X4(c),!0))||[];S=new Response(Q4(S.body,e_,T,()=>{F&&F(),w&&w()}),A)}h=h||"text";let v=await Rh[Te.findKey(Rh,h)||"text"](S,t);return!k&&w&&w(),await new Promise((A,E)=>{yE(A,E,{data:v,headers:ma.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:y})})}catch(_){throw w&&w(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new $t("Network Error",$t.ERR_NETWORK,t,y),{cause:_.cause||_}):$t.from(_,_&&_.code,t,y)}}),nv={http:_H,xhr:rG,fetch:uG};Te.forEach(nv,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const t_=t=>`- ${t}`,mG=t=>Te.isFunction(t)||t===null||t===!1,NE={getAdapter:t=>{t=Te.isArray(t)?t:[t];const{length:r}=t;let s,a;const n={};for(let i=0;i<r;i++){s=t[i];let l;if(a=s,!mG(s)&&(a=nv[(l=String(s)).toLowerCase()],a===void 0))throw new $t(`Unknown adapter '${l}'`);if(a)break;n[l||"#"+i]=a}if(!a){const i=Object.entries(n).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(t_).join(`
`):" "+t_(i[0]):"as no adapter specified";throw new $t("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a},adapters:nv};function Df(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hc(null,t)}function r_(t){return Df(t),t.headers=ma.from(t.headers),t.data=Tf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),NE.getAdapter(t.adapter||Xu.adapter)(t).then(function(a){return Df(t),a.data=Tf.call(t,t.transformResponse,a),a.headers=ma.from(a.headers),a},function(a){return fE(a)||(Df(t),a&&a.response&&(a.response.data=Tf.call(t,t.transformResponse,a.response),a.response.headers=ma.from(a.response.headers))),Promise.reject(a)})}const kE="1.11.0",Fx={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{Fx[t]=function(a){return typeof a===t||"a"+(r<1?"n ":" ")+t}});const s_={};Fx.transitional=function(r,s,a){function n(i,l){return"[Axios v"+kE+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,c)=>{if(r===!1)throw new $t(n(l," has been removed"+(s?" in "+s:"")),$t.ERR_DEPRECATED);return s&&!s_[l]&&(s_[l]=!0,console.warn(n(l," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(i,l,c):!0}};Fx.spelling=function(r){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function hG(t,r,s){if(typeof t!="object")throw new $t("options must be an object",$t.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const i=a[n],l=r[i];if(l){const c=t[i],u=c===void 0||l(c,i,t);if(u!==!0)throw new $t("option "+i+" must be "+u,$t.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new $t("Unknown option "+i,$t.ERR_BAD_OPTION)}}const dh={assertOptions:hG,validators:Fx},$n=dh.validators;let uo=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Y4,response:new Y4}}async request(r,s){try{return await this._request(r,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=yo(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&dh.assertOptions(a,{silentJSONParsing:$n.transitional($n.boolean),forcedJSONParsing:$n.transitional($n.boolean),clarifyTimeoutError:$n.transitional($n.boolean)},!1),n!=null&&(Te.isFunction(n)?s.paramsSerializer={serialize:n}:dh.assertOptions(n,{encode:$n.function,serialize:$n.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),dh.assertOptions(s,{baseUrl:$n.spelling("baseURL"),withXsrfToken:$n.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=i&&Te.merge(i.common,i[s.method]);i&&Te.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),s.headers=ma.concat(l,i);const c=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(s)===!1||(u=u&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let m,x=0,g;if(!u){const y=[r_.bind(this),void 0];for(y.unshift(...c),y.push(...h),g=y.length,m=Promise.resolve(s);x<g;)m=m.then(y[x++],y[x++]);return m}g=c.length;let b=s;for(x=0;x<g;){const y=c[x++],w=c[x++];try{b=y(b)}catch(N){w.call(this,N);break}}try{m=r_.call(this,b)}catch(y){return Promise.reject(y)}for(x=0,g=h.length;x<g;)m=m.then(h[x++],h[x++]);return m}getUri(r){r=yo(this.defaults,r);const s=bE(r.baseURL,r.url,r.allowAbsoluteUrls);return xE(s,r.params,r.paramsSerializer)}};Te.forEach(["delete","get","head","options"],function(r){uo.prototype[r]=function(s,a){return this.request(yo(a||{},{method:r,url:s,data:(a||{}).data}))}});Te.forEach(["post","put","patch"],function(r){function s(a){return function(i,l,c){return this.request(yo(c||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}uo.prototype[r]=s(),uo.prototype[r+"Form"]=s(!0)});let xG=class SE{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(c=>{a.subscribe(c),i=c}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},r(function(i,l,c){a.reason||(a.reason=new Hc(i,l,c),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const r=new AbortController,s=a=>{r.abort(a)};return this.subscribe(s),r.signal.unsubscribe=()=>this.unsubscribe(s),r.signal}static source(){let r;return{token:new SE(function(n){r=n}),cancel:r}}};function gG(t){return function(s){return t.apply(null,s)}}function pG(t){return Te.isObject(t)&&t.isAxiosError===!0}const iv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iv).forEach(([t,r])=>{iv[r]=t});function _E(t){const r=new uo(t),s=rE(uo.prototype.request,r);return Te.extend(s,uo.prototype,r,{allOwnKeys:!0}),Te.extend(s,r,null,{allOwnKeys:!0}),s.create=function(n){return _E(yo(t,n))},s}const yt=_E(Xu);yt.Axios=uo;yt.CanceledError=Hc;yt.CancelToken=xG;yt.isCancel=fE;yt.VERSION=kE;yt.toFormData=Lx;yt.AxiosError=$t;yt.Cancel=yt.CanceledError;yt.all=function(r){return Promise.all(r)};yt.spread=gG;yt.isAxiosError=pG;yt.mergeConfig=yo;yt.AxiosHeaders=ma;yt.formToJSON=t=>pE(Te.isHTMLForm(t)?new FormData(t):t);yt.getAdapter=NE.getAdapter;yt.HttpStatusCode=iv;yt.default=yt;const{Axios:hme,AxiosError:xme,CanceledError:gme,isCancel:pme,CancelToken:fme,VERSION:yme,all:bme,Cancel:vme,isAxiosError:wme,spread:jme,toFormData:Nme,AxiosHeaders:kme,HttpStatusCode:Sme,formToJSON:_me,getAdapter:Ame,mergeConfig:Cme}=yt,AE=f.createContext(void 0),oj=()=>{const t=f.useContext(AE);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},fG=({children:t})=>{const[r,s]=f.useState({scholarship:{applications:0,total:0},schoolAid:{applications:0,total:0},studentRegistry:{newStudents:0,total:0},auditLogs:{newLogs:0,total:0},security:{threats:0,total:0}}),[a,n]=f.useState(!1),i=async()=>{n(!0);try{const x=Ca("/api");let g=0;try{const _=await fetch(`${x}/applications/counts`);_.ok&&(g=(await _.json()).data?.submitted||0)}catch(_){console.warn("Scholarship API not available:",_)}let b=0;try{const _=await yt.get(`${x}/users`);if(_.data.success){const S=_.data.data;let k=[];Array.isArray(S)?k=S:k=[...S.citizens||[],...S.staff||[],...S.admins||[],...S.ps_reps||[]];const v=new Date;v.setDate(v.getDate()-1),b=k.filter(A=>new Date(A.created_at||A.createdAt)>v).length}}catch(_){console.warn("Users API not available:",_)}const y=0,w=0,N=0;s({scholarship:{applications:g,total:g},schoolAid:{applications:y,total:y},studentRegistry:{newStudents:b,total:b},auditLogs:{newLogs:w,total:w},security:{threats:N,total:N}})}catch(x){console.error("Error fetching notification counts:",x)}finally{n(!1)}},l=async()=>{await i()},c=(x,g)=>{s(b=>{const y={...b};g?x==="scholarship"&&g==="applications"?y.scholarship.applications=0:x==="schoolAid"&&g==="applications"?y.schoolAid.applications=0:x==="studentRegistry"&&g==="newStudents"?y.studentRegistry.newStudents=0:x==="auditLogs"&&g==="newLogs"?y.auditLogs.newLogs=0:x==="security"&&g==="threats"&&(y.security.threats=0):y[x]={...y[x],total:0};const w=y[x];return typeof w=="object"&&"applications"in w&&(w.total=Object.values(w).reduce((N,_)=>typeof _=="number"?N+_:N,0)),y})},u=(x,g)=>{console.log(`Triggering notification for ${x}${g?`/${g}`:""}`),s(b=>{const y={...b};g?x==="scholarship"&&g==="applications"?y.scholarship.applications+=1:x==="schoolAid"&&g==="applications"?y.schoolAid.applications+=1:x==="studentRegistry"&&g==="newStudents"?y.studentRegistry.newStudents+=1:x==="auditLogs"&&g==="newLogs"?y.auditLogs.newLogs+=1:x==="security"&&g==="threats"&&(y.security.threats+=1):x==="scholarship"?y.scholarship.applications+=1:x==="schoolAid"?y.schoolAid.applications+=1:x==="studentRegistry"?y.studentRegistry.newStudents+=1:x==="auditLogs"?y.auditLogs.newLogs+=1:x==="security"&&(y.security.threats+=1);const w=y[x];return typeof w=="object"&&"applications"in w&&(w.total=Object.values(w).reduce((N,_)=>typeof _=="number"?N+_:N,0)),console.log("Updated notification counts:",y),y})};f.useEffect(()=>{i();const x=setInterval(i,3e4),g=()=>{u("studentRegistry","newStudents")};return window.addEventListener("userRegistered",g),()=>{clearInterval(x),window.removeEventListener("userRegistered",g)}},[]),f.useEffect(()=>{ir.requestPermission();const x=g=>{g.type.startsWith("scholarship_")&&u("scholarship","applications")};return ir.subscribe("scholarship_new_application",x),ir.subscribe("scholarship_application_review",x),ir.subscribe("scholarship_interview_scheduled",x),ir.subscribe("scholarship_interview_completed",x),ir.subscribe("scholarship_final_approval",x),ir.subscribe("scholarship_bulk_action",x),()=>{ir.unsubscribe("scholarship_new_application",x),ir.unsubscribe("scholarship_application_review",x),ir.unsubscribe("scholarship_interview_scheduled",x),ir.unsubscribe("scholarship_interview_completed",x),ir.unsubscribe("scholarship_final_approval",x),ir.unsubscribe("scholarship_bulk_action",x)}},[]);const m={notificationCounts:r,refreshNotifications:l,markAsRead:c,triggerNotification:u,triggerScholarshipNotification:(x,g)=>{switch(x){case"new_application":ir.notifyNewApplication(g);break;case"application_review":ir.notifyApplicationReview(g.application,g.action);break;case"interview_scheduled":ir.notifyInterviewScheduled(g);break;case"interview_completed":ir.notifyInterviewCompleted(g.interview,g.result);break;case"final_approval":ir.notifyFinalApproval(g);break;case"bulk_action":ir.notifyBulkAction(g.action,g.count);break;default:console.warn("Unknown scholarship notification type:",x)}},isLoading:a};return e.jsx(AE.Provider,{value:m,children:t})},a_=({count:t,className:r="",size:s="md",showZero:a=!1})=>{const n={sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4"};return t===0&&!a?null:e.jsx(Ta,{children:e.jsx(Et.div,{className:`
          ${n[s]} 
          bg-red-500 
          rounded-full 
          shadow-lg
          border-2 border-white
          absolute top-0 right-0
          z-10
          ${r}
        `,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:30,duration:.3},whileHover:{scale:1.1},title:`${t} new notifications`})})},CE=f.createContext(),PE=()=>{const t=f.useContext(CE);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},yG=({children:t})=>{const[r,s]=f.useState(Ea.getCurrentLanguage()),[a,n]=f.useState(!1);f.useEffect(()=>{const h=localStorage.getItem("language")||"en";s(h),Ea.setLanguage(h)},[]),f.useEffect(()=>{const h=m=>{s(m.detail.language)};return window.addEventListener("languageChanged",h),()=>window.removeEventListener("languageChanged",h)},[]);const u={language:r,changeLanguage:async h=>{n(!0);try{Ea.setLanguage(h),s(h),localStorage.setItem("language",h),document.documentElement.lang=h,window.dispatchEvent(new CustomEvent("globalLanguageChanged",{detail:{language:h}})),console.log(`Global language changed to: ${h}`)}catch(m){console.error("Error changing language:",m)}finally{n(!1)}},t:(h,m={})=>Ea.t(h,m),getAvailableLanguages:()=>Ea.getAvailableLanguages(),isLoading:a};return e.jsx(CE.Provider,{value:u,children:t})};function bG({collapsed:t,onPageChange:r,activeItem:s}){const[a,n]=De.useState(new Set([""])),[i,l]=De.useState(null),[c,u]=De.useState(!1),h=$a(),{logout:m,isLoggingOut:x,currentUser:g}=Lt(),{notificationCounts:b,markAsRead:y}=oj(),{t:w}=PE(),N=NP(g?.role,g?.system_role,w),_=E=>{switch(E){case"scholarship":return b.scholarship.total;case"sad":return b.schoolAid.total;case"studentRegistry":return b.studentRegistry.total;case"audit-logs":return b.auditLogs.total;case"security":return b.security.total;default:return 0}},S=(E,T)=>{switch(E){case"scholarship":if(T==="scholarship-applications")return b.scholarship.applications;break;case"sad":if(T==="sad-applications")return b.schoolAid.applications;break;case"studentRegistry":if(T==="studentRegistry-overview")return b.studentRegistry.newStudents;break;case"security":if(T==="security-threats")return b.security.threats;break}return 0};De.useEffect(()=>{const E=()=>{u(window.innerWidth<768)};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const k=E=>{const T=new Set(a);T.has(E)?T.delete(E):(T.clear(),T.add(E)),n(T)},v=async()=>{try{await m(),h("/",{replace:!0})}catch{h("/",{replace:!0})}},A=t&&!c;return e.jsx("div",{className:"flex",children:e.jsxs(Et.div,{className:"bg-white border-r border-slate-200/50 flex flex-col dark:bg-slate-900 dark:border-slate-700 h-screen min-h-screen shadow-lg md:shadow-none",animate:{width:A?64:256},transition:{type:"spring",damping:25,stiffness:200,duration:.3},children:[e.jsx(Et.div,{className:"flex-shrink-0",animate:{padding:A?12:24},transition:{type:"spring",damping:25,stiffness:200,duration:.3},children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"w-10 h-10 flex items-center justify-center text-white text-xl font-bold flex-shrink-0",children:[e.jsx("img",{src:"/GSM_logo.png",alt:"GSM Logo",className:"w-full h-full object-contain",onError:E=>{const T=E.target;T.style.display="none";const F=T.parentElement?.querySelector(".logo-fallback");F&&(F.style.display="block")}}),e.jsx("span",{className:"logo-fallback hidden text-white font-bold text-lg",children:"GSM"})]}),e.jsx(Ta,{children:!A&&e.jsxs(Et.div,{className:"min-w-0",initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2,ease:"easeInOut"},children:[e.jsx("h1",{className:"text-lg md:text-xl font-bold dark:text-white truncate",children:"GSM"}),e.jsx("p",{className:"text-xs text-slate-500 truncate",children:"Admin Dashboard"})]})})]})}),e.jsx("hr",{className:"border-slate-200 dark:border-slate-700 mx-2 flex-shrink-0"}),e.jsx("nav",{className:"flex-1 p-2 md:p-4 space-y-1 md:space-y-2 overflow-y-auto",children:N.map((E,T)=>e.jsxs(Et.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1,duration:.3,ease:"easeOut"},children:[e.jsxs(Et.button,{className:`w-full flex justify-between items-center p-2 md:p-2 rounded-xl transition-all duration-300 text-left ${A?"px-2":"px-3"} relative overflow-hidden group`,style:{background:s===E.id||E.subItems&&E.subItems.some(F=>F.id===i)?"linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(34, 197, 94, 0.05) 100%)":"transparent"},onClick:()=>{E.subItems?(k(E.id),E.subItems.length>0&&(l(E.subItems[0].id),r&&r(E.subItems[0].id))):(l(null),r&&r(E.id),y(E.id))},whileHover:{scale:1.02,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.98,transition:{duration:.1,ease:"easeInOut"}},initial:{opacity:0,x:-20},animate:{opacity:1,x:0,transition:{delay:T*.1,duration:.3,ease:"easeOut"}},exit:{opacity:0,x:-20,transition:{duration:.2,ease:"easeIn"}},children:[e.jsx(Et.div,{className:"absolute inset-0 bg-gradient-to-r from-green-500/20 via-green-400/10 to-transparent rounded-xl opacity-0",initial:{opacity:0,scaleX:0,x:"100%"},whileHover:{opacity:1,scaleX:1,x:0,transition:{duration:.4,ease:"easeOut"}},style:{background:"linear-gradient(90deg, rgba(34, 197, 94, 0.2) 0%, rgba(34, 197, 94, 0.1) 50%, transparent 100%)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"}}),e.jsx(Et.div,{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-white/10 to-transparent rounded-xl opacity-0",initial:{opacity:0,scaleX:0,x:"100%"},whileHover:{opacity:1,scaleX:1,x:0,transition:{duration:.3,ease:"easeOut",delay:.1}}}),e.jsxs("div",{className:"flex items-center space-x-3 min-w-0 relative z-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx(E.icon,{className:`w-5 h-5 flex-shrink-0 transition-colors duration-300 ${s===E.id||E.subItems&&E.subItems.some(F=>F.id===i)?"text-green-600 dark:text-green-400":"text-slate-600 dark:text-slate-400 group-hover:text-green-500 dark:group-hover:text-green-400"}`}),_(E.id)>0&&e.jsx(a_,{count:_(E.id),size:"sm",className:"-top-1 -right-1"})]}),e.jsx(Ta,{children:!A&&e.jsx(Et.div,{className:"flex items-center space-x-2 min-w-0 flex-1",initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2,ease:"easeInOut"},children:e.jsx("span",{className:`text-sm font-medium truncate transition-colors duration-300 ${s===E.id||E.subItems&&E.subItems.some(F=>F.id===i)?"text-green-700 dark:text-green-300 font-semibold":"text-slate-600 dark:text-slate-400 group-hover:text-green-600 dark:group-hover:text-green-400"}`,children:E.label})})})]}),e.jsx(Ta,{children:!A&&E.subItems&&e.jsx(Et.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:-90},transition:{duration:.2,ease:"easeInOut"},children:e.jsx(Ra,{className:`${a.has(E.id)?"rotate-180":""} w-4 h-4 text-slate-500 transition-transform duration-200 flex-shrink-0`})})})]}),e.jsx(Ta,{children:!A&&E.subItems&&a.has(E.id)&&e.jsx(Et.div,{className:"ml-6 md:ml-8 mt-2 space-y-1 border-l border-slate-300 pl-2",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},children:E.subItems.map((F,R)=>{const D=S(E.id,F.id);return e.jsxs(Et.button,{className:`w-full text-sm text-left p-2 rounded-lg transition-all duration-300 relative overflow-hidden group ${i===F.id?"bg-green-100/50 dark:bg-green-900/20":""}`,style:{background:i===F.id?"linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(34, 197, 94, 0.05) 100%)":"transparent"},onClick:()=>{l(F.id),r&&r(F.id),y(E.id,F.id)},initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:R*.05,duration:.2,ease:"easeOut"},whileHover:{scale:1.02,transition:{duration:.2,ease:"easeOut"}},whileTap:{scale:.98,transition:{duration:.1,ease:"easeInOut"}},exit:{opacity:0,x:-10,transition:{duration:.15,ease:"easeIn"}},children:[e.jsx(Et.div,{className:"absolute inset-0 bg-gradient-to-r from-green-500/15 via-green-400/8 to-transparent rounded-lg opacity-0",initial:{opacity:0,scaleX:0,x:"100%"},whileHover:{opacity:1,scaleX:1,x:0,transition:{duration:.3,ease:"easeOut"}},style:{background:"linear-gradient(90deg, rgba(34, 197, 94, 0.15) 0%, rgba(34, 197, 94, 0.08) 50%, transparent 100%)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"}}),e.jsxs("div",{className:"relative flex items-center z-10",children:[e.jsx("span",{className:`truncate block flex-1 transition-colors duration-300 ${i===F.id?"text-green-700 dark:text-green-300 font-semibold":"text-slate-700 dark:text-slate-500 group-hover:text-green-600 dark:group-hover:text-green-400"}`,children:F.label}),D>0&&e.jsx(a_,{count:D,size:"sm",className:"-top-1 -right-1"})]})]},F.id)})})})]},E.id))}),e.jsx(Et.div,{className:"flex-shrink-0 border-t border-slate-200 dark:border-slate-700",animate:{padding:A?8:16},transition:{type:"spring",damping:25,stiffness:200,duration:.3},children:e.jsxs(Et.button,{onClick:v,disabled:x,className:`w-full flex items-center space-x-3 p-2 md:p-3 rounded-xl transition-all duration-200 text-left ${A?"px-2 justify-center":"px-3"} text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 disabled:opacity-50 disabled:cursor-not-allowed`,whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N.length*.1+.2,duration:.3,ease:"easeOut"},children:[e.jsx(_x,{className:"w-5 h-5 flex-shrink-0"}),e.jsx(Ta,{children:!A&&e.jsx(Et.span,{className:"text-sm font-medium",initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},transition:{duration:.2,ease:"easeInOut"},children:w(x?"Logging out...":"Logout")})})]})})]})})}const vG=()=>{const[t,r]=f.useState(!1),[s,a]=f.useState([]),[n,i]=f.useState(0),{triggerNotification:l}=oj(),c=f.useRef(null);f.useEffect(()=>{(()=>{const S=ir.getStoredNotifications();a(S),i(S.filter(k=>!k.read).length)})();const w=S=>{a(k=>[S,...k]),i(k=>k+1),l("scholarship","applications")},N=({id:S})=>{a(k=>k.map(v=>v.id===S?{...v,read:!0}:v)),i(k=>Math.max(0,k-1))},_=()=>{a(S=>S.map(k=>({...k,read:!0}))),i(0)};return ir.subscribe("notification",w),ir.subscribe("notificationRead",N),ir.subscribe("allNotificationsRead",_),()=>{ir.unsubscribe("notification",w),ir.unsubscribe("notificationRead",N),ir.unsubscribe("allNotificationsRead",_)}},[l]),f.useEffect(()=>{const y=w=>{c.current&&!c.current.contains(w.target)&&r(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const u=y=>{ir.markAsRead(y)},h=()=>{ir.markAllAsRead()},m=()=>{ir.clearAll(),a([]),i(0)},x=(y,w)=>{if(w==="high")return e.jsx(bt,{className:"w-4 h-4 text-red-500"});switch(y){case"scholarship_new_application":return e.jsx(Le,{className:"w-4 h-4 text-green-500"});case"scholarship_application_review":return e.jsx(w$,{className:"w-4 h-4 text-blue-500"});case"scholarship_interview_scheduled":case"scholarship_interview_completed":return e.jsx(Nt,{className:"w-4 h-4 text-purple-500"});case"scholarship_final_approval":return e.jsx(Le,{className:"w-4 h-4 text-green-600"});case"scholarship_bulk_action":return e.jsx(b$,{className:"w-4 h-4 text-orange-500"});case"system_event":return e.jsx(Gn,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(Gn,{className:"w-4 h-4 text-gray-500"})}},g=y=>{switch(y){case"high":return"border-l-red-500 bg-red-50 dark:bg-red-900/20";case"normal":return"border-l-blue-500 bg-blue-50 dark:bg-blue-900/20";case"low":return"border-l-gray-500 bg-gray-50 dark:bg-gray-900/20";default:return"border-l-gray-500 bg-gray-50 dark:bg-gray-900/20"}},b=y=>{const w=new Date(y),_=Math.floor((new Date().getTime()-w.getTime())/(1e3*60));return _<1?"Just now":_<60?`${_}m ago`:_<1440?`${Math.floor(_/60)}h ago`:w.toLocaleDateString()};return e.jsxs("div",{className:"relative",ref:c,children:[e.jsxs("button",{onClick:()=>r(!t),className:"relative p-1.5 sm:p-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 transition-colors",children:[e.jsx(ki,{className:"w-5 h-5 sm:w-6 sm:h-6"}),n>0&&e.jsx(Et.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center font-bold",children:n>9?"9+":n})]}),e.jsx(Ta,{children:t&&e.jsxs(Et.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-72 sm:w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50 max-w-[calc(100vw-2rem)]",children:[e.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[n>0&&e.jsxs("button",{onClick:h,className:"text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:[e.jsx("span",{className:"hidden sm:inline",children:"Mark all read"}),e.jsx("span",{className:"sm:hidden",children:"Read"})]}),e.jsx("button",{onClick:m,className:"text-xs text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"Clear all"})]})]})}),e.jsx("div",{className:"max-h-80 sm:max-h-96 overflow-y-auto",children:s.length===0?e.jsxs("div",{className:"p-6 sm:p-8 text-center text-gray-500 dark:text-gray-400",children:[e.jsx(ki,{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm sm:text-base",children:"No notifications yet"})]}):s.map(y=>e.jsx(Et.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`p-3 sm:p-4 border-l-4 ${g(y.priority)} ${y.read?"bg-opacity-50":"bg-opacity-100"} hover:bg-opacity-75 transition-all duration-200`,children:e.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:x(y.type,y.priority)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm font-medium ${y.read?"text-gray-600 dark:text-gray-400":"text-gray-900 dark:text-white"}`,children:y.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",children:y.message}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:b(y.timestamp)})]}),!y.read&&e.jsx("button",{onClick:()=>u(y.id),className:"ml-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(wt,{className:"w-3 h-3"})})]})})]})},y.id))}),s.length>0&&e.jsx("div",{className:"p-3 sm:p-4 border-t border-gray-200 dark:border-gray-700",children:e.jsx("button",{onClick:()=>r(!1),className:"w-full text-center text-xs sm:text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"View all notifications"})})]})})]})};function wG({onToggleSidebar:t,breadcrumb:r=["Dashboard"]}){const[s,a]=De.useState(""),{currentUser:n}=Lt();De.useEffect(()=>{const l=localStorage.getItem("theme");if(l)a(l),document.documentElement.classList.toggle("dark",l==="dark");else{const c=window.matchMedia("(prefers-color-scheme: dark)").matches;a(c?"dark":"light"),document.documentElement.classList.toggle("dark",c)}},[]);const i=()=>{const l=s==="dark"?"light":"dark";a(l),localStorage.setItem("theme",l),document.documentElement.classList.toggle("dark",l==="dark")};return e.jsx("div",{className:"bg-white/-80 backdrop-blur-xl border-b border-slate-200 px-6 py-4 dark:bg-slate-800 dark:border-slate-700/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"p-2 rounded-lg text-slate-500 hover:bg-slate-200 transition-colors duration-200",onClick:t,children:e.jsx(q3,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"hidden md:flex items-center space-x-1",children:e.jsx("h1",{className:"text-md font-bold dark:text-white",children:"EDUCATION & SCHOLARSHIP MANAGEMENT"})}),e.jsx("div",{children:e.jsx("span",{className:"text-xs text-slate-500 font-bold",children:r.join(" > ")})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(Jt,{className:"w-4 h-4"}),e.jsx("span",{children:n?pw(n):""}),e.jsx("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded-full",children:n?.role?.startsWith("ssc")?"SSC":n?.role})]}),e.jsx(vG,{}),e.jsx("button",{className:"ml-2 rounded-xl p-2 bg-slate-300 text-slate-600 hover:bg-slate-400 dark:bg-slate-700 dark:text-yellow-400 dark:hover:bg-slate-900 transition-colors cursor-pointer",onClick:i,"aria-label":"Toggle dark mode",children:s==="dark"?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("path",{stroke:"currentColor",strokeWidth:"2",d:"M12 1v2m0 18v2m11-11h-2M3 12H1m16.95 7.07l-1.41-1.41M6.46 6.46L5.05 5.05m13.9 0l-1.41 1.41M6.46 17.54l-1.41 1.41"})]}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{stroke:"currentColor",strokeWidth:"2",d:"M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z"})})})]})]})})}const jG=({label:t,value:r,subtext:s,status:a="neutral",trend:n=null,icon:i})=>{const l=()=>{switch(a){case"good":return"text-green-600 bg-green-50 border-green-200";case"warning":return"text-amber-600 bg-amber-50 border-amber-200";case"critical":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-white border-gray-200"}},c=()=>n?n>0?e.jsx(F3,{className:"w-4 h-4 text-green-500"}):n<0?e.jsx($3,{className:"w-4 h-4 text-red-500"}):e.jsx(hw,{className:"w-4 h-4 text-gray-400"}):null;return e.jsxs("div",{className:`p-4 rounded-xl border transition-all duration-200 ${l()} flex flex-col justify-between h-32`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm font-medium opacity-80 uppercase tracking-wide",children:t}),i&&e.jsx(i,{className:"w-5 h-5 opacity-60"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-3xl font-bold tracking-tight",children:r}),(s||n)&&e.jsxs("div",{className:"flex items-center mt-1 space-x-2 text-sm opacity-80",children:[c(),e.jsx("span",{children:s})]})]})]})},NG=({items:t=[]})=>{t.filter(s=>s.priority==="high"||s.status==="critical").slice(0,5);const r=s=>{switch(s){case"stale_application":return e.jsx(Nt,{className:"w-5 h-5 text-amber-500"});case"payment_failed":return e.jsx(X$,{className:"w-5 h-5 text-red-500"});case"verification_needed":return e.jsx(bt,{className:"w-5 h-5 text-blue-500"});default:return e.jsx(bt,{className:"w-5 h-5 text-gray-400"})}};return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm h-full flex flex-col",children:[e.jsxs("div",{className:"p-5 border-b border-gray-100 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Requires Attention"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Items that need immediate resolution"})]}),e.jsxs("span",{className:"bg-red-100 text-red-700 text-xs font-bold px-2 py-1 rounded-full",children:[t.length," Pending"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-gray-400",children:[e.jsx(Le,{className:"w-12 h-12 mb-2 opacity-20"}),e.jsx("p",{children:"All caught up! No critical issues."})]}):e.jsx("div",{className:"space-y-1",children:t.map((s,a)=>e.jsxs("div",{className:"group flex items-center p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors border border-transparent hover:border-gray-100",children:[e.jsx("div",{className:"flex-shrink-0 mr-4 bg-white p-2 rounded-lg border border-gray-100 shadow-sm",children:r(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:s.title}),e.jsx("span",{className:"text-xs text-gray-400",children:s.timeAgo})]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:s.description})]}),e.jsx(Uu,{className:"w-4 h-4 text-gray-300 group-hover:text-gray-500 ml-2"})]},a))})}),e.jsx("div",{className:"p-3 border-t border-gray-50 bg-gray-50/50 rounded-b-xl",children:e.jsx("button",{className:"w-full py-2 text-sm text-blue-600 font-medium hover:bg-blue-50 rounded-lg transition-colors",children:"View All Action Items"})})]})};function EE(t){var r,s,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(s=EE(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}function tr(){for(var t,r,s=0,a="",n=arguments.length;s<n;s++)(t=arguments[s])&&(r=EE(t))&&(a&&(a+=" "),a+=r);return a}var Rf={},Of={},n_;function kG(){return n_||(n_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return s==="__proto__"}t.isUnsafeProperty=r})(Of)),Of}var If={},i_;function TE(){return i_||(i_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){switch(typeof s){case"number":case"symbol":return!1;case"string":return s.includes(".")||s.includes("[")||s.includes("]")}}t.isDeepKey=r})(If)),If}var Mf={},l_;function DE(){return l_||(l_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="string"||typeof s=="symbol"?s:Object.is(s?.valueOf?.(),-0)?"-0":String(s)}t.toKey=r})(Mf)),Mf}var Lf={},o_;function cj(){return o_||(o_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){const a=[],n=s.length;if(n===0)return a;let i=0,l="",c="",u=!1;for(s.charCodeAt(0)===46&&(a.push(""),i++);i<n;){const h=s[i];c?h==="\\"&&i+1<n?(i++,l+=s[i]):h===c?c="":l+=h:u?h==='"'||h==="'"?c=h:h==="]"?(u=!1,a.push(l),l=""):l+=h:h==="["?(u=!0,l&&(a.push(l),l="")):h==="."?l&&(a.push(l),l=""):l+=h,i++}return l&&a.push(l),a}t.toPath=r})(Lf)),Lf}var c_;function dj(){return c_||(c_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=kG(),s=TE(),a=DE(),n=cj();function i(c,u,h){if(c==null)return h;switch(typeof u){case"string":{if(r.isUnsafeProperty(u))return h;const m=c[u];return m===void 0?s.isDeepKey(u)?i(c,n.toPath(u),h):h:m}case"number":case"symbol":{typeof u=="number"&&(u=a.toKey(u));const m=c[u];return m===void 0?h:m}default:{if(Array.isArray(u))return l(c,u,h);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),r.isUnsafeProperty(u))return h;const m=c[u];return m===void 0?h:m}}}function l(c,u,h){if(u.length===0)return h;let m=c;for(let x=0;x<u.length;x++){if(m==null||r.isUnsafeProperty(u[x]))return h;m=m[u[x]]}return m===void 0?h:m}t.get=i})(Rf)),Rf}var $f,d_;function SG(){return d_||(d_=1,$f=dj().get),$f}var _G=SG();const wl=xn(_G);var Ff={exports:{}},or={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function AG(){if(u_)return or;u_=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function y(w){if(typeof w=="object"&&w!==null){var N=w.$$typeof;switch(N){case t:switch(w=w.type,w){case s:case n:case a:case u:case h:case g:return w;default:switch(w=w&&w.$$typeof,w){case l:case c:case x:case m:return w;case i:return w;default:return N}}case r:return N}}}return or.ContextConsumer=i,or.ContextProvider=l,or.Element=t,or.ForwardRef=c,or.Fragment=s,or.Lazy=x,or.Memo=m,or.Portal=r,or.Profiler=n,or.StrictMode=a,or.Suspense=u,or.SuspenseList=h,or.isContextConsumer=function(w){return y(w)===i},or.isContextProvider=function(w){return y(w)===l},or.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},or.isForwardRef=function(w){return y(w)===c},or.isFragment=function(w){return y(w)===s},or.isLazy=function(w){return y(w)===x},or.isMemo=function(w){return y(w)===m},or.isPortal=function(w){return y(w)===r},or.isProfiler=function(w){return y(w)===n},or.isStrictMode=function(w){return y(w)===a},or.isSuspense=function(w){return y(w)===u},or.isSuspenseList=function(w){return y(w)===h},or.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===s||w===n||w===a||w===u||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===x||w.$$typeof===m||w.$$typeof===l||w.$$typeof===i||w.$$typeof===c||w.$$typeof===b||w.getModuleId!==void 0)},or.typeOf=y,or}var m_;function CG(){return m_||(m_=1,Ff.exports=AG()),Ff.exports}var PG=CG(),xs=t=>t===0?0:t>0?1:-1,ha=t=>typeof t=="number"&&t!=+t,to=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,dt=t=>(typeof t=="number"||t instanceof Number)&&!ha(t),Yn=t=>dt(t)||typeof t=="string",EG=0,Au=t=>{var r=++EG;return"".concat(t||"").concat(r)},Ys=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!dt(r)&&typeof r!="string")return a;var i;if(to(r)){if(s==null)return a;var l=r.indexOf("%");i=s*parseFloat(r.slice(0,l))/100}else i=+r;return ha(i)&&(i=a),n&&s!=null&&i>s&&(i=s),i},RE=t=>{if(!Array.isArray(t))return!1;for(var r=t.length,s={},a=0;a<r;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},h_=(t,r)=>dt(t)&&dt(r)?s=>t+s*(r-t):()=>r;function rn(t,r,s){return dt(t)&&dt(r)?t+s*(r-t):r}function OE(t,r,s){if(!(!t||!t.length))return t.find(a=>a&&(typeof r=="function"?r(a):wl(a,r))===s)}var jr=t=>t===null||typeof t>"u",Zu=t=>jr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),TG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function uj(t){if(typeof t!="string")return!1;var r=TG;return r.includes(t)}var DG=["viewBox","children"],x_=["points","pathLength"],Bf={svg:DG,polygon:x_,polyline:x_},mj=(t,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(f.isValidElement(t)&&(s=t.props),typeof s!="object"&&typeof s!="function")return null;var a={};return Object.keys(s).forEach(n=>{uj(n)&&(a[n]=(i=>s[n](s,i)))}),a},RG=(t,r,s)=>a=>(t(r,s,a),null),Qu=(t,r,s)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var a=null;return Object.keys(t).forEach(n=>{var i=t[n];uj(n)&&typeof i=="function"&&(a||(a={}),a[n]=RG(i,r,s))}),a},OG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function IE(t){if(typeof t!="string")return!1;var r=OG;return r.includes(t)}function Jn(t){var r=Object.entries(t).filter(s=>{var[a]=s;return IE(a)});return Object.fromEntries(r)}var g_=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",p_=null,Uf=null,ME=t=>{if(t===p_&&Array.isArray(Uf))return Uf;var r=[];return f.Children.forEach(t,s=>{jr(s)||(PG.isFragment(s)?r=r.concat(ME(s.props.children)):r.push(s))}),Uf=r,p_=t,r};function em(t,r){var s=[],a=[];return Array.isArray(r)?a=r.map(n=>g_(n)):a=[g_(r)],ME(t).forEach(n=>{var i=wl(n,"type.displayName")||wl(n,"type.name");a.indexOf(i)!==-1&&s.push(n)}),s}var LE=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,IG=(t,r,s,a)=>{var n;if(typeof r=="symbol"||typeof r=="number")return!0;var i=(n=a&&Bf?.[a])!==null&&n!==void 0?n:[],l=r.startsWith("data-"),c=typeof t!="function"&&(!!a&&i.includes(r)||IE(r)),u=!!s&&uj(r);return l||c||u},Er=(t,r,s)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(f.isValidElement(t)&&(a=t.props),typeof a!="object"&&typeof a!="function")return null;var n={};return Object.keys(a).forEach(i=>{var l;IG((l=a)===null||l===void 0?void 0:l[i],i,r,s)&&(n[i]=a[i])}),n},MG=["children","width","height","viewBox","className","style","title","desc"];function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},lv.apply(null,arguments)}function LG(t,r){if(t==null)return{};var s,a,n=$G(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function $G(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}var hj=f.forwardRef((t,r)=>{var{children:s,width:a,height:n,viewBox:i,className:l,style:c,title:u,desc:h}=t,m=LG(t,MG),x=i||{width:a,height:n,x:0,y:0},g=tr("recharts-surface",l);return f.createElement("svg",lv({},Er(m,!0,"svg"),{className:g,width:a,height:n,style:c,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:r}),f.createElement("title",null,u),f.createElement("desc",null,h),s)}),FG=["children","className"];function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},ov.apply(null,arguments)}function BG(t,r){if(t==null)return{};var s,a,n=UG(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function UG(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}var as=f.forwardRef((t,r)=>{var{children:s,className:a}=t,n=BG(t,FG),i=tr("recharts-layer",a);return f.createElement("g",ov({className:i},Er(n,!0),{ref:r}),s)}),$E=f.createContext(null),zG=()=>f.useContext($E);function hr(t){return function(){return t}}const FE=Math.cos,Oh=Math.sin,Dn=Math.sqrt,Ih=Math.PI,Bx=2*Ih,cv=Math.PI,dv=2*cv,Gl=1e-6,VG=dv-Gl;function BE(t){this._+=t[0];for(let r=1,s=t.length;r<s;++r)this._+=arguments[r]+t[r]}function qG(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return BE;const s=10**r;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class HG{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?BE:qG(r)}moveTo(r,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,s){this._append`L${this._x1=+r},${this._y1=+s}`}quadraticCurveTo(r,s,a,n){this._append`Q${+r},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(r,s,a,n,i,l){this._append`C${+r},${+s},${+a},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(r,s,a,n,i){if(r=+r,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,c=this._y1,u=a-r,h=n-s,m=l-r,x=c-s,g=m*m+x*x;if(this._x1===null)this._append`M${this._x1=r},${this._y1=s}`;else if(g>Gl)if(!(Math.abs(x*u-h*m)>Gl)||!i)this._append`L${this._x1=r},${this._y1=s}`;else{let b=a-l,y=n-c,w=u*u+h*h,N=b*b+y*y,_=Math.sqrt(w),S=Math.sqrt(g),k=i*Math.tan((cv-Math.acos((w+g-N)/(2*_*S)))/2),v=k/S,A=k/_;Math.abs(v-1)>Gl&&this._append`L${r+v*m},${s+v*x}`,this._append`A${i},${i},0,0,${+(x*b>m*y)},${this._x1=r+A*u},${this._y1=s+A*h}`}}arc(r,s,a,n,i,l){if(r=+r,s=+s,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let c=a*Math.cos(n),u=a*Math.sin(n),h=r+c,m=s+u,x=1^l,g=l?n-i:i-n;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Gl||Math.abs(this._y1-m)>Gl)&&this._append`L${h},${m}`,a&&(g<0&&(g=g%dv+dv),g>VG?this._append`A${a},${a},0,1,${x},${r-c},${s-u}A${a},${a},0,1,${x},${this._x1=h},${this._y1=m}`:g>Gl&&this._append`A${a},${a},0,${+(g>=cv)},${x},${this._x1=r+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(r,s,a,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function xj(t){let r=3;return t.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);r=a}return t},()=>new HG(r)}function gj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function UE(t){this._context=t}UE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function Ux(t){return new UE(t)}function zE(t){return t[0]}function VE(t){return t[1]}function qE(t,r){var s=hr(!0),a=null,n=Ux,i=null,l=xj(c);t=typeof t=="function"?t:t===void 0?zE:hr(t),r=typeof r=="function"?r:r===void 0?VE:hr(r);function c(u){var h,m=(u=gj(u)).length,x,g=!1,b;for(a==null&&(i=n(b=l())),h=0;h<=m;++h)!(h<m&&s(x=u[h],h,u))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+t(x,h,u),+r(x,h,u));if(b)return i=null,b+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:hr(+u),c):t},c.y=function(u){return arguments.length?(r=typeof u=="function"?u:hr(+u),c):r},c.defined=function(u){return arguments.length?(s=typeof u=="function"?u:hr(!!u),c):s},c.curve=function(u){return arguments.length?(n=u,a!=null&&(i=n(a)),c):n},c.context=function(u){return arguments.length?(u==null?a=i=null:i=n(a=u),c):a},c}function D0(t,r,s){var a=null,n=hr(!0),i=null,l=Ux,c=null,u=xj(h);t=typeof t=="function"?t:t===void 0?zE:hr(+t),r=typeof r=="function"?r:hr(r===void 0?0:+r),s=typeof s=="function"?s:s===void 0?VE:hr(+s);function h(x){var g,b,y,w=(x=gj(x)).length,N,_=!1,S,k=new Array(w),v=new Array(w);for(i==null&&(c=l(S=u())),g=0;g<=w;++g){if(!(g<w&&n(N=x[g],g,x))===_)if(_=!_)b=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),y=g-1;y>=b;--y)c.point(k[y],v[y]);c.lineEnd(),c.areaEnd()}_&&(k[g]=+t(N,g,x),v[g]=+r(N,g,x),c.point(a?+a(N,g,x):k[g],s?+s(N,g,x):v[g]))}if(S)return c=null,S+""||null}function m(){return qE().defined(n).curve(l).context(i)}return h.x=function(x){return arguments.length?(t=typeof x=="function"?x:hr(+x),a=null,h):t},h.x0=function(x){return arguments.length?(t=typeof x=="function"?x:hr(+x),h):t},h.x1=function(x){return arguments.length?(a=x==null?null:typeof x=="function"?x:hr(+x),h):a},h.y=function(x){return arguments.length?(r=typeof x=="function"?x:hr(+x),s=null,h):r},h.y0=function(x){return arguments.length?(r=typeof x=="function"?x:hr(+x),h):r},h.y1=function(x){return arguments.length?(s=x==null?null:typeof x=="function"?x:hr(+x),h):s},h.lineX0=h.lineY0=function(){return m().x(t).y(r)},h.lineY1=function(){return m().x(t).y(s)},h.lineX1=function(){return m().x(a).y(r)},h.defined=function(x){return arguments.length?(n=typeof x=="function"?x:hr(!!x),h):n},h.curve=function(x){return arguments.length?(l=x,i!=null&&(c=l(i)),h):l},h.context=function(x){return arguments.length?(x==null?i=c=null:c=l(i=x),h):i},h}class HE{constructor(r,s){this._context=r,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,s){switch(r=+r,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,s,r,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,r,this._y0,r,s);break}}this._x0=r,this._y0=s}}function GG(t){return new HE(t,!0)}function WG(t){return new HE(t,!1)}const pj={draw(t,r){const s=Dn(r/Ih);t.moveTo(s,0),t.arc(0,0,s,0,Bx)}},YG={draw(t,r){const s=Dn(r/5)/2;t.moveTo(-3*s,-s),t.lineTo(-s,-s),t.lineTo(-s,-3*s),t.lineTo(s,-3*s),t.lineTo(s,-s),t.lineTo(3*s,-s),t.lineTo(3*s,s),t.lineTo(s,s),t.lineTo(s,3*s),t.lineTo(-s,3*s),t.lineTo(-s,s),t.lineTo(-3*s,s),t.closePath()}},GE=Dn(1/3),KG=GE*2,JG={draw(t,r){const s=Dn(r/KG),a=s*GE;t.moveTo(0,-s),t.lineTo(a,0),t.lineTo(0,s),t.lineTo(-a,0),t.closePath()}},XG={draw(t,r){const s=Dn(r),a=-s/2;t.rect(a,a,s,s)}},ZG=.8908130915292852,WE=Oh(Ih/10)/Oh(7*Ih/10),QG=Oh(Bx/10)*WE,eW=-FE(Bx/10)*WE,tW={draw(t,r){const s=Dn(r*ZG),a=QG*s,n=eW*s;t.moveTo(0,-s),t.lineTo(a,n);for(let i=1;i<5;++i){const l=Bx*i/5,c=FE(l),u=Oh(l);t.lineTo(u*s,-c*s),t.lineTo(c*a-u*n,u*a+c*n)}t.closePath()}},zf=Dn(3),rW={draw(t,r){const s=-Dn(r/(zf*3));t.moveTo(0,s*2),t.lineTo(-zf*s,-s),t.lineTo(zf*s,-s),t.closePath()}},Ja=-.5,Xa=Dn(3)/2,uv=1/Dn(12),sW=(uv/2+1)*3,aW={draw(t,r){const s=Dn(r/sW),a=s/2,n=s*uv,i=a,l=s*uv+s,c=-i,u=l;t.moveTo(a,n),t.lineTo(i,l),t.lineTo(c,u),t.lineTo(Ja*a-Xa*n,Xa*a+Ja*n),t.lineTo(Ja*i-Xa*l,Xa*i+Ja*l),t.lineTo(Ja*c-Xa*u,Xa*c+Ja*u),t.lineTo(Ja*a+Xa*n,Ja*n-Xa*a),t.lineTo(Ja*i+Xa*l,Ja*l-Xa*i),t.lineTo(Ja*c+Xa*u,Ja*u-Xa*c),t.closePath()}};function nW(t,r){let s=null,a=xj(n);t=typeof t=="function"?t:hr(t||pj),r=typeof r=="function"?r:hr(r===void 0?64:+r);function n(){let i;if(s||(s=i=a()),t.apply(this,arguments).draw(s,+r.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(t=typeof i=="function"?i:hr(i),n):t},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:hr(+i),n):r},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function Mh(){}function Lh(t,r,s){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+r)/6,(t._y0+4*t._y1+s)/6)}function YE(t){this._context=t}YE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lh(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function iW(t){return new YE(t)}function KE(t){this._context=t}KE.prototype={areaStart:Mh,areaEnd:Mh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x2=t,this._y2=r;break;case 1:this._point=2,this._x3=t,this._y3=r;break;case 2:this._point=3,this._x4=t,this._y4=r,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+r)/6);break;default:Lh(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function lW(t){return new KE(t)}function JE(t){this._context=t}JE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+t)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:Lh(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function oW(t){return new JE(t)}function XE(t){this._context=t}XE.prototype={areaStart:Mh,areaEnd:Mh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,r){t=+t,r=+r,this._point?this._context.lineTo(t,r):(this._point=1,this._context.moveTo(t,r))}};function cW(t){return new XE(t)}function f_(t){return t<0?-1:1}function y_(t,r,s){var a=t._x1-t._x0,n=r-t._x1,i=(t._y1-t._y0)/(a||n<0&&-0),l=(s-t._y1)/(n||a<0&&-0),c=(i*n+l*a)/(a+n);return(f_(i)+f_(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(c))||0}function b_(t,r){var s=t._x1-t._x0;return s?(3*(t._y1-t._y0)/s-r)/2:r}function Vf(t,r,s){var a=t._x0,n=t._y0,i=t._x1,l=t._y1,c=(i-a)/3;t._context.bezierCurveTo(a+c,n+c*r,i-c,l-c*s,i,l)}function $h(t){this._context=t}$h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vf(this,this._t0,b_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){var s=NaN;if(t=+t,r=+r,!(t===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,Vf(this,b_(this,s=y_(this,t,r)),s);break;default:Vf(this,this._t0,s=y_(this,t,r));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r,this._t0=s}}};function ZE(t){this._context=new QE(t)}(ZE.prototype=Object.create($h.prototype)).point=function(t,r){$h.prototype.point.call(this,r,t)};function QE(t){this._context=t}QE.prototype={moveTo:function(t,r){this._context.moveTo(r,t)},closePath:function(){this._context.closePath()},lineTo:function(t,r){this._context.lineTo(r,t)},bezierCurveTo:function(t,r,s,a,n,i){this._context.bezierCurveTo(r,t,a,s,i,n)}};function dW(t){return new $h(t)}function uW(t){return new ZE(t)}function eT(t){this._context=t}eT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,r=this._y,s=t.length;if(s)if(this._line?this._context.lineTo(t[0],r[0]):this._context.moveTo(t[0],r[0]),s===2)this._context.lineTo(t[1],r[1]);else for(var a=v_(t),n=v_(r),i=0,l=1;l<s;++i,++l)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],t[l],r[l]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,r){this._x.push(+t),this._y.push(+r)}};function v_(t){var r,s=t.length-1,a,n=new Array(s),i=new Array(s),l=new Array(s);for(n[0]=0,i[0]=2,l[0]=t[0]+2*t[1],r=1;r<s-1;++r)n[r]=1,i[r]=4,l[r]=4*t[r]+2*t[r+1];for(n[s-1]=2,i[s-1]=7,l[s-1]=8*t[s-1]+t[s],r=1;r<s;++r)a=n[r]/i[r-1],i[r]-=a,l[r]-=a*l[r-1];for(n[s-1]=l[s-1]/i[s-1],r=s-2;r>=0;--r)n[r]=(l[r]-n[r+1])/i[r];for(i[s-1]=(t[s]+n[s-1])/2,r=0;r<s-1;++r)i[r]=2*t[r+1]-n[r+1];return[n,i]}function mW(t){return new eT(t)}function zx(t,r){this._context=t,this._t=r}zx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(t,r);else{var s=this._x*(1-this._t)+t*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,r)}break}}this._x=t,this._y=r}};function hW(t){return new zx(t,.5)}function xW(t){return new zx(t,0)}function gW(t){return new zx(t,1)}function _c(t,r){if((l=t.length)>1)for(var s=1,a,n,i=t[r[0]],l,c=i.length;s<l;++s)for(n=i,i=t[r[s]],a=0;a<c;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function mv(t){for(var r=t.length,s=new Array(r);--r>=0;)s[r]=r;return s}function pW(t,r){return t[r]}function fW(t){const r=[];return r.key=t,r}function yW(){var t=hr([]),r=mv,s=_c,a=pW;function n(i){var l=Array.from(t.apply(this,arguments),fW),c,u=l.length,h=-1,m;for(const x of i)for(c=0,++h;c<u;++c)(l[c][h]=[0,+a(x,l[c].key,h,i)]).data=x;for(c=0,m=gj(r(l));c<u;++c)l[m[c]].index=c;return s(l,m),l}return n.keys=function(i){return arguments.length?(t=typeof i=="function"?i:hr(Array.from(i)),n):t},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:hr(+i),n):a},n.order=function(i){return arguments.length?(r=i==null?mv:typeof i=="function"?i:hr(Array.from(i)),n):r},n.offset=function(i){return arguments.length?(s=i??_c,n):s},n}function bW(t,r){if((a=t.length)>0){for(var s,a,n=0,i=t[0].length,l;n<i;++n){for(l=s=0;s<a;++s)l+=t[s][n][1]||0;if(l)for(s=0;s<a;++s)t[s][n][1]/=l}_c(t,r)}}function vW(t,r){if((n=t.length)>0){for(var s=0,a=t[r[0]],n,i=a.length;s<i;++s){for(var l=0,c=0;l<n;++l)c+=t[l][s][1]||0;a[s][1]+=a[s][0]=-c/2}_c(t,r)}}function wW(t,r){if(!(!((l=t.length)>0)||!((i=(n=t[r[0]]).length)>0))){for(var s=0,a=1,n,i,l;a<i;++a){for(var c=0,u=0,h=0;c<l;++c){for(var m=t[r[c]],x=m[a][1]||0,g=m[a-1][1]||0,b=(x-g)/2,y=0;y<c;++y){var w=t[r[y]],N=w[a][1]||0,_=w[a-1][1]||0;b+=N-_}u+=x,h+=b*x}n[a-1][1]+=n[a-1][0]=s,u&&(s-=h/u)}n[a-1][1]+=n[a-1][0]=s,_c(t,r)}}var jW=["type","size","sizeType"];function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},hv.apply(null,arguments)}function w_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function j_(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?w_(Object(s),!0).forEach(function(a){NW(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):w_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function NW(t,r,s){return(r=kW(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function kW(t){var r=SW(t,"string");return typeof r=="symbol"?r:r+""}function SW(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function _W(t,r){if(t==null)return{};var s,a,n=AW(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function AW(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}var tT={symbolCircle:pj,symbolCross:YG,symbolDiamond:JG,symbolSquare:XG,symbolStar:tW,symbolTriangle:rW,symbolWye:aW},CW=Math.PI/180,PW=t=>{var r="symbol".concat(Zu(t));return tT[r]||pj},EW=(t,r,s)=>{if(r==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*CW;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},TW=(t,r)=>{tT["symbol".concat(Zu(t))]=r},fj=t=>{var{type:r="circle",size:s=64,sizeType:a="area"}=t,n=_W(t,jW),i=j_(j_({},n),{},{type:r,size:s,sizeType:a}),l=()=>{var x=PW(r),g=nW().type(x).size(EW(s,a,r));return g()},{className:c,cx:u,cy:h}=i,m=Er(i,!0);return u===+u&&h===+h&&s===+s?f.createElement("path",hv({},m,{className:tr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(h,")"),d:l()})):null};fj.registerSymbol=TW;function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},xv.apply(null,arguments)}function N_(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function DW(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?N_(Object(s),!0).forEach(function(a){yj(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):N_(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function yj(t,r,s){return(r=RW(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function RW(t){var r=OW(t,"string");return typeof r=="symbol"?r:r+""}function OW(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Za=32;class bj extends f.PureComponent{renderIcon(r,s){var{inactiveColor:a}=this.props,n=Za/2,i=Za/6,l=Za/3,c=r.inactive?a:r.color,u=s??r.type;if(u==="none")return null;if(u==="plainline")return f.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:n,x2:Za,y2:n,className:"recharts-legend-icon"});if(u==="line")return f.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(n,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(n,`
            H`).concat(Za,"M").concat(2*l,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(n),className:"recharts-legend-icon"});if(u==="rect")return f.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Za/8,"h").concat(Za,"v").concat(Za*3/4,"h").concat(-Za,"z"),className:"recharts-legend-icon"});if(f.isValidElement(r.legendIcon)){var h=DW({},r);return delete h.legendIcon,f.cloneElement(r.legendIcon,h)}return f.createElement(fj,{fill:c,cx:n,cy:n,size:Za,sizeType:"diameter",type:u})}renderItems(){var{payload:r,iconSize:s,layout:a,formatter:n,inactiveColor:i,iconType:l}=this.props,c={x:0,y:0,width:Za,height:Za},u={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((m,x)=>{var g=m.formatter||n,b=tr({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:m.inactive});if(m.type==="none")return null;var y=m.inactive?i:m.color,w=g?g(m.value,m,x):m.value;return f.createElement("li",xv({className:b,style:u,key:"legend-item-".concat(x)},Qu(this.props,m,x)),f.createElement(hj,{width:s,height:s,viewBox:c,style:h,"aria-label":"".concat(w," legend icon")},this.renderIcon(m,l)),f.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},w))})}render(){var{payload:r,layout:s,align:a}=this.props;if(!r||!r.length)return null;var n={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return f.createElement("ul",{className:"recharts-default-legend",style:n},this.renderItems())}}yj(bj,"displayName","Legend");yj(bj,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var qf={},Hf={},k_;function IW(){return k_||(k_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s,a){const n=new Map;for(let i=0;i<s.length;i++){const l=s[i],c=a(l);n.has(c)||n.set(c,l)}return Array.from(n.values())}t.uniqBy=r})(Hf)),Hf}var Gf={},S_;function rT(){return S_||(S_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return s}t.identity=r})(Gf)),Gf}var Wf={},Yf={},Kf={},__;function MW(){return __||(__=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return Number.isSafeInteger(s)&&s>=0}t.isLength=r})(Kf)),Kf}var A_;function vj(){return A_||(A_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=MW();function s(a){return a!=null&&typeof a!="function"&&r.isLength(a.length)}t.isArrayLike=s})(Yf)),Yf}var Jf={},C_;function LW(){return C_||(C_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="object"&&s!==null}t.isObjectLike=r})(Jf)),Jf}var P_;function $W(){return P_||(P_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=vj(),s=LW();function a(n){return s.isObjectLike(n)&&r.isArrayLike(n)}t.isArrayLikeObject=a})(Wf)),Wf}var Xf={},Zf={},E_;function FW(){return E_||(E_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=dj();function s(a){return function(n){return r.get(n,a)}}t.property=s})(Zf)),Zf}var Qf={},ey={},ty={},ry={},T_;function sT(){return T_||(T_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return s!==null&&(typeof s=="object"||typeof s=="function")}t.isObject=r})(ry)),ry}var sy={},D_;function aT(){return D_||(D_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return s==null||typeof s!="object"&&typeof s!="function"}t.isPrimitive=r})(sy)),sy}var ay={},R_;function wj(){return R_||(R_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s,a){return s===a||Number.isNaN(s)&&Number.isNaN(a)}t.eq=r})(ay)),ay}var O_;function BW(){return O_||(O_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=jj(),s=sT(),a=aT(),n=wj();function i(x,g,b){return typeof b!="function"?r.isMatch(x,g):l(x,g,function y(w,N,_,S,k,v){const A=b(w,N,_,S,k,v);return A!==void 0?!!A:l(w,N,y,v)},new Map)}function l(x,g,b,y){if(g===x)return!0;switch(typeof g){case"object":return c(x,g,b,y);case"function":return Object.keys(g).length>0?l(x,{...g},b,y):n.eq(x,g);default:return s.isObject(x)?typeof g=="string"?g==="":!0:n.eq(x,g)}}function c(x,g,b,y){if(g==null)return!0;if(Array.isArray(g))return h(x,g,b,y);if(g instanceof Map)return u(x,g,b,y);if(g instanceof Set)return m(x,g,b,y);const w=Object.keys(g);if(x==null)return w.length===0;if(w.length===0)return!0;if(y&&y.has(g))return y.get(g)===x;y&&y.set(g,x);try{for(let N=0;N<w.length;N++){const _=w[N];if(!a.isPrimitive(x)&&!(_ in x)||g[_]===void 0&&x[_]!==void 0||g[_]===null&&x[_]!==null||!b(x[_],g[_],_,x,g,y))return!1}return!0}finally{y&&y.delete(g)}}function u(x,g,b,y){if(g.size===0)return!0;if(!(x instanceof Map))return!1;for(const[w,N]of g.entries()){const _=x.get(w);if(b(_,N,w,x,g,y)===!1)return!1}return!0}function h(x,g,b,y){if(g.length===0)return!0;if(!Array.isArray(x))return!1;const w=new Set;for(let N=0;N<g.length;N++){const _=g[N];let S=!1;for(let k=0;k<x.length;k++){if(w.has(k))continue;const v=x[k];let A=!1;if(b(v,_,N,x,g,y)&&(A=!0),A){w.add(k),S=!0;break}}if(!S)return!1}return!0}function m(x,g,b,y){return g.size===0?!0:x instanceof Set?h([...x],[...g],b,y):!1}t.isMatchWith=i,t.isSetMatch=m})(ty)),ty}var I_;function jj(){return I_||(I_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=BW();function s(a,n){return r.isMatchWith(a,n,()=>{})}t.isMatch=s})(ey)),ey}var ny={},iy={},ly={},M_;function nT(){return M_||(M_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return Object.getOwnPropertySymbols(s).filter(a=>Object.prototype.propertyIsEnumerable.call(s,a))}t.getSymbols=r})(ly)),ly}var oy={},L_;function Nj(){return L_||(L_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}t.getTag=r})(oy)),oy}var cy={},$_;function kj(){return $_||($_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",s="[object String]",a="[object Number]",n="[object Boolean]",i="[object Arguments]",l="[object Symbol]",c="[object Date]",u="[object Map]",h="[object Set]",m="[object Array]",x="[object Function]",g="[object ArrayBuffer]",b="[object Object]",y="[object Error]",w="[object DataView]",N="[object Uint8Array]",_="[object Uint8ClampedArray]",S="[object Uint16Array]",k="[object Uint32Array]",v="[object BigUint64Array]",A="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",F="[object BigInt64Array]",R="[object Float32Array]",D="[object Float64Array]";t.argumentsTag=i,t.arrayBufferTag=g,t.arrayTag=m,t.bigInt64ArrayTag=F,t.bigUint64ArrayTag=v,t.booleanTag=n,t.dataViewTag=w,t.dateTag=c,t.errorTag=y,t.float32ArrayTag=R,t.float64ArrayTag=D,t.functionTag=x,t.int16ArrayTag=E,t.int32ArrayTag=T,t.int8ArrayTag=A,t.mapTag=u,t.numberTag=a,t.objectTag=b,t.regexpTag=r,t.setTag=h,t.stringTag=s,t.symbolTag=l,t.uint16ArrayTag=S,t.uint32ArrayTag=k,t.uint8ArrayTag=N,t.uint8ClampedArrayTag=_})(cy)),cy}var dy={},F_;function UW(){return F_||(F_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}t.isTypedArray=r})(dy)),dy}var B_;function iT(){return B_||(B_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=nT(),s=Nj(),a=kj(),n=aT(),i=UW();function l(m,x){return c(m,void 0,m,new Map,x)}function c(m,x,g,b=new Map,y=void 0){const w=y?.(m,x,g,b);if(w!==void 0)return w;if(n.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const N=new Array(m.length);b.set(m,N);for(let _=0;_<m.length;_++)N[_]=c(m[_],_,g,b,y);return Object.hasOwn(m,"index")&&(N.index=m.index),Object.hasOwn(m,"input")&&(N.input=m.input),N}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const N=new RegExp(m.source,m.flags);return N.lastIndex=m.lastIndex,N}if(m instanceof Map){const N=new Map;b.set(m,N);for(const[_,S]of m)N.set(_,c(S,_,g,b,y));return N}if(m instanceof Set){const N=new Set;b.set(m,N);for(const _ of m)N.add(c(_,void 0,g,b,y));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(i.isTypedArray(m)){const N=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,N);for(let _=0;_<m.length;_++)N[_]=c(m[_],_,g,b,y);return N}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const N=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,N),u(N,m,g,b,y),N}if(typeof File<"u"&&m instanceof File){const N=new File([m],m.name,{type:m.type});return b.set(m,N),u(N,m,g,b,y),N}if(m instanceof Blob){const N=new Blob([m],{type:m.type});return b.set(m,N),u(N,m,g,b,y),N}if(m instanceof Error){const N=new m.constructor;return b.set(m,N),N.message=m.message,N.name=m.name,N.stack=m.stack,N.cause=m.cause,u(N,m,g,b,y),N}if(typeof m=="object"&&h(m)){const N=Object.create(Object.getPrototypeOf(m));return b.set(m,N),u(N,m,g,b,y),N}return m}function u(m,x,g=m,b,y){const w=[...Object.keys(x),...r.getSymbols(x)];for(let N=0;N<w.length;N++){const _=w[N],S=Object.getOwnPropertyDescriptor(m,_);(S==null||S.writable)&&(m[_]=c(x[_],_,g,b,y))}}function h(m){switch(s.getTag(m)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=u})(iy)),iy}var U_;function zW(){return U_||(U_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=iT();function s(a){return r.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}t.cloneDeep=s})(ny)),ny}var z_;function VW(){return z_||(z_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=jj(),s=zW();function a(n){return n=s.cloneDeep(n),i=>r.isMatch(i,n)}t.matches=a})(Qf)),Qf}var uy={},my={},hy={},V_;function qW(){return V_||(V_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=iT(),s=kj();function a(n,i){return r.cloneDeepWith(n,(l,c,u,h)=>{const m=i?.(l,c,u,h);if(m!==void 0)return m;if(typeof n=="object")switch(Object.prototype.toString.call(n)){case s.numberTag:case s.stringTag:case s.booleanTag:{const x=new n.constructor(n?.valueOf());return r.copyProperties(x,n),x}case s.argumentsTag:{const x={};return r.copyProperties(x,n),x.length=n.length,x[Symbol.iterator]=n[Symbol.iterator],x}default:return}})}t.cloneDeepWith=a})(hy)),hy}var q_;function HW(){return q_||(q_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=qW();function s(a){return r.cloneDeepWith(a)}t.cloneDeep=s})(my)),my}var xy={},gy={},H_;function lT(){return H_||(H_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function s(a,n=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<n;case"symbol":return!1;case"string":return r.test(a)}}t.isIndex=s})(gy)),gy}var py={},G_;function GW(){return G_||(G_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=Nj();function s(a){return a!==null&&typeof a=="object"&&r.getTag(a)==="[object Arguments]"}t.isArguments=s})(py)),py}var W_;function WW(){return W_||(W_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=TE(),s=lT(),a=GW(),n=cj();function i(l,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&r.isDeepKey(c)&&l?.[c]==null?u=n.toPath(c):u=[c],u.length===0)return!1;let h=l;for(let m=0;m<u.length;m++){const x=u[m];if((h==null||!Object.hasOwn(h,x))&&!((Array.isArray(h)||a.isArguments(h))&&s.isIndex(x)&&x<h.length))return!1;h=h[x]}return!0}t.has=i})(xy)),xy}var Y_;function YW(){return Y_||(Y_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=jj(),s=DE(),a=HW(),n=dj(),i=WW();function l(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=s.toKey(c);break}}return u=a.cloneDeep(u),function(h){const m=n.get(h,c);return m===void 0?i.has(h,c):u===void 0?m===void 0:r.isMatch(m,u)}}t.matchesProperty=l})(uy)),uy}var K_;function KW(){return K_||(K_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=rT(),s=FW(),a=VW(),n=YW();function i(l){if(l==null)return r.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?n.matchesProperty(l[0],l[1]):a.matches(l);case"string":case"symbol":case"number":return s.property(l)}}t.iteratee=i})(Xf)),Xf}var J_;function JW(){return J_||(J_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=IW(),s=rT(),a=$W(),n=KW();function i(l,c=s.identity){return a.isArrayLikeObject(l)?r.uniqBy(Array.from(l),n.iteratee(c)):[]}t.uniqBy=i})(qf)),qf}var fy,X_;function XW(){return X_||(X_=1,fy=JW().uniqBy),fy}var ZW=XW();const Z_=xn(ZW);function oT(t,r,s){return r===!0?Z_(t,s):typeof r=="function"?Z_(t,r):t}var yy={exports:{}},by={},vy={exports:{}},wy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function QW(){if(Q_)return wy;Q_=1;var t=Lc();function r(x,g){return x===g&&(x!==0||1/x===1/g)||x!==x&&g!==g}var s=typeof Object.is=="function"?Object.is:r,a=t.useState,n=t.useEffect,i=t.useLayoutEffect,l=t.useDebugValue;function c(x,g){var b=g(),y=a({inst:{value:b,getSnapshot:g}}),w=y[0].inst,N=y[1];return i(function(){w.value=b,w.getSnapshot=g,u(w)&&N({inst:w})},[x,b,g]),n(function(){return u(w)&&N({inst:w}),x(function(){u(w)&&N({inst:w})})},[x]),l(b),b}function u(x){var g=x.getSnapshot;x=x.value;try{var b=g();return!s(x,b)}catch{return!0}}function h(x,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return wy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,wy}var eA;function eY(){return eA||(eA=1,vy.exports=QW()),vy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tA;function tY(){if(tA)return by;tA=1;var t=Lc(),r=eY();function s(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var a=typeof Object.is=="function"?Object.is:s,n=r.useSyncExternalStore,i=t.useRef,l=t.useEffect,c=t.useMemo,u=t.useDebugValue;return by.useSyncExternalStoreWithSelector=function(h,m,x,g,b){var y=i(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=c(function(){function _(E){if(!S){if(S=!0,k=E,E=g(E),b!==void 0&&w.hasValue){var T=w.value;if(b(T,E))return v=T}return v=E}if(T=v,a(k,E))return T;var F=g(E);return b!==void 0&&b(T,F)?(k=E,T):(k=E,v=F)}var S=!1,k,v,A=x===void 0?null:x;return[function(){return _(m())},A===null?void 0:function(){return _(A())}]},[m,x,g,b]);var N=n(h,y[0],y[1]);return l(function(){w.hasValue=!0,w.value=N},[N]),u(N),N},by}var rA;function rY(){return rA||(rA=1,yy.exports=tY()),yy.exports}var sY=rY(),Sj=f.createContext(null),aY=t=>t,Tr=()=>{var t=f.useContext(Sj);return t?t.store.dispatch:aY},uh=()=>{},nY=()=>uh,iY=(t,r)=>t===r;function kt(t){var r=f.useContext(Sj);return sY.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:nY,r?r.store.getState:uh,r?r.store.getState:uh,r?t:uh,iY)}function lY(t,r=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(r)}function oY(t,r=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(r)}function cY(t,r="expected all items to be functions, instead received the following types: "){if(!t.every(s=>typeof s=="function")){const s=t.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${r}[${s}]`)}}var sA=t=>Array.isArray(t)?t:[t];function dY(t){const r=Array.isArray(t[0])?t[0]:t;return cY(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function uY(t,r){const s=[],{length:a}=t;for(let n=0;n<a;n++)s.push(t[n].apply(null,r));return s}var mY=class{constructor(t){this.value=t}deref(){return this.value}},hY=typeof WeakRef<"u"?WeakRef:mY,xY=0,aA=1;function R0(){return{s:xY,v:void 0,o:null,p:null}}function cT(t,r={}){let s=R0();const{resultEqualityCheck:a}=r;let n,i=0;function l(){let c=s;const{length:u}=arguments;for(let x=0,g=u;x<g;x++){const b=arguments[x];if(typeof b=="function"||typeof b=="object"&&b!==null){let y=c.o;y===null&&(c.o=y=new WeakMap);const w=y.get(b);w===void 0?(c=R0(),y.set(b,c)):c=w}else{let y=c.p;y===null&&(c.p=y=new Map);const w=y.get(b);w===void 0?(c=R0(),y.set(b,c)):c=w}}const h=c;let m;if(c.s===aA)m=c.v;else if(m=t.apply(null,arguments),i++,a){const x=n?.deref?.()??n;x!=null&&a(x,m)&&(m=x,i!==0&&i--),n=typeof m=="object"&&m!==null||typeof m=="function"?new hY(m):m}return h.s=aA,h.v=m,m}return l.clearCache=()=>{s=R0(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function gY(t,...r){const s=typeof t=="function"?{memoize:t,memoizeOptions:r}:t,a=(...n)=>{let i=0,l=0,c,u={},h=n.pop();typeof h=="object"&&(u=h,h=n.pop()),lY(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...s,...u},{memoize:x,memoizeOptions:g=[],argsMemoize:b=cT,argsMemoizeOptions:y=[]}=m,w=sA(g),N=sA(y),_=dY(n),S=x(function(){return i++,h.apply(null,arguments)},...w),k=b(function(){l++;const A=uY(_,arguments);return c=S.apply(null,A),c},...N);return Object.assign(k,{resultFunc:h,memoizedResultFunc:S,dependencies:_,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:x,argsMemoize:b})};return Object.assign(a,{withTypes:()=>a}),a}var _e=gY(cT),pY=Object.assign((t,r=_e)=>{oY(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const s=Object.keys(t),a=s.map(i=>t[i]);return r(a,(...i)=>i.reduce((l,c,u)=>(l[s[u]]=c,l),{}))},{withTypes:()=>pY}),jy={},Ny={},ky={},nA;function fY(){return nA||(nA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const s=(a,n,i)=>{if(a!==n){const l=r(a),c=r(n);if(l===c&&l===0){if(a<n)return i==="desc"?1:-1;if(a>n)return i==="desc"?-1:1}return i==="desc"?c-l:l-c}return 0};t.compareValues=s})(ky)),ky}var Sy={},_y={},iA;function dT(){return iA||(iA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="symbol"||s instanceof Symbol}t.isSymbol=r})(_y)),_y}var lA;function yY(){return lA||(lA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=dT(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||r.isSymbol(i)?!0:typeof i=="string"&&(a.test(i)||!s.test(i))||l!=null&&Object.hasOwn(l,i)}t.isKey=n})(Sy)),Sy}var oA;function bY(){return oA||(oA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=fY(),s=yY(),a=cj();function n(i,l,c,u){if(i==null)return[];c=u?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const h=(b,y)=>{let w=b;for(let N=0;N<y.length&&w!=null;++N)w=w[y[N]];return w},m=(b,y)=>y==null||b==null?y:typeof b=="object"&&"key"in b?Object.hasOwn(y,b.key)?y[b.key]:h(y,b.path):typeof b=="function"?b(y):Array.isArray(b)?h(y,b):typeof y=="object"?y[b]:y,x=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||s.isKey(b)?b:{key:b,path:a.toPath(b)}));return i.map(b=>({original:b,criteria:x.map(y=>m(y,b))})).slice().sort((b,y)=>{for(let w=0;w<x.length;w++){const N=r.compareValues(b.criteria[w],y.criteria[w],c[w]);if(N!==0)return N}return 0}).map(b=>b.original)}t.orderBy=n})(Ny)),Ny}var Ay={},cA;function vY(){return cA||(cA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s,a=1){const n=[],i=Math.floor(a),l=(c,u)=>{for(let h=0;h<c.length;h++){const m=c[h];Array.isArray(m)&&u<i?l(m,u+1):n.push(m)}};return l(s,0),n}t.flatten=r})(Ay)),Ay}var Cy={},dA;function uT(){return dA||(dA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=lT(),s=vj(),a=sT(),n=wj();function i(l,c,u){return a.isObject(u)&&(typeof c=="number"&&s.isArrayLike(u)&&r.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?n.eq(u[c],l):!1}t.isIterateeCall=i})(Cy)),Cy}var uA;function wY(){return uA||(uA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=bY(),s=vY(),a=uT();function n(i,...l){const c=l.length;return c>1&&a.isIterateeCall(i,l[0],l[1])?l=[]:c>2&&a.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),r.orderBy(i,s.flatten(l),["asc"])}t.sortBy=n})(jy)),jy}var Py,mA;function jY(){return mA||(mA=1,Py=wY().sortBy),Py}var NY=jY();const Vx=xn(NY);var mT=t=>t.legend.settings,kY=t=>t.legend.size,SY=t=>t.legend.payload,_Y=_e([SY,mT],(t,r)=>{var{itemSorter:s}=r,a=t.flat(1);return s?Vx(a,s):a});function AY(){return kt(_Y)}var O0=1;function hT(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,s]=f.useState({height:0,left:0,top:0,width:0}),a=f.useCallback(n=>{if(n!=null){var i=n.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-r.height)>O0||Math.abs(l.left-r.left)>O0||Math.abs(l.top-r.top)>O0||Math.abs(l.width-r.width)>O0)&&s({height:l.height,left:l.left,top:l.top,width:l.width})}},[r.width,r.height,r.top,r.left,...t]);return[r,a]}function vs(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var CY=typeof Symbol=="function"&&Symbol.observable||"@@observable",hA=CY,Ey=()=>Math.random().toString(36).substring(7).split("").join("."),PY={INIT:`@@redux/INIT${Ey()}`,REPLACE:`@@redux/REPLACE${Ey()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ey()}`},Fh=PY;function _j(t){if(typeof t!="object"||t===null)return!1;let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r||Object.getPrototypeOf(t)===null}function xT(t,r,s){if(typeof t!="function")throw new Error(vs(2));if(typeof r=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(vs(0));if(typeof r=="function"&&typeof s>"u"&&(s=r,r=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(vs(1));return s(xT)(t,r)}let a=t,n=r,i=new Map,l=i,c=0,u=!1;function h(){l===i&&(l=new Map,i.forEach((N,_)=>{l.set(_,N)}))}function m(){if(u)throw new Error(vs(3));return n}function x(N){if(typeof N!="function")throw new Error(vs(4));if(u)throw new Error(vs(5));let _=!0;h();const S=c++;return l.set(S,N),function(){if(_){if(u)throw new Error(vs(6));_=!1,h(),l.delete(S),i=null}}}function g(N){if(!_j(N))throw new Error(vs(7));if(typeof N.type>"u")throw new Error(vs(8));if(typeof N.type!="string")throw new Error(vs(17));if(u)throw new Error(vs(9));try{u=!0,n=a(n,N)}finally{u=!1}return(i=l).forEach(S=>{S()}),N}function b(N){if(typeof N!="function")throw new Error(vs(10));a=N,g({type:Fh.REPLACE})}function y(){const N=x;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(vs(11));function S(){const v=_;v.next&&v.next(m())}return S(),{unsubscribe:N(S)}},[hA](){return this}}}return g({type:Fh.INIT}),{dispatch:g,subscribe:x,getState:m,replaceReducer:b,[hA]:y}}function EY(t){Object.keys(t).forEach(r=>{const s=t[r];if(typeof s(void 0,{type:Fh.INIT})>"u")throw new Error(vs(12));if(typeof s(void 0,{type:Fh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vs(13))})}function gT(t){const r=Object.keys(t),s={};for(let i=0;i<r.length;i++){const l=r[i];typeof t[l]=="function"&&(s[l]=t[l])}const a=Object.keys(s);let n;try{EY(s)}catch(i){n=i}return function(l={},c){if(n)throw n;let u=!1;const h={};for(let m=0;m<a.length;m++){const x=a[m],g=s[x],b=l[x],y=g(b,c);if(typeof y>"u")throw c&&c.type,new Error(vs(14));h[x]=y,u=u||y!==b}return u=u||a.length!==Object.keys(l).length,u?h:l}}function Bh(...t){return t.length===0?r=>r:t.length===1?t[0]:t.reduce((r,s)=>(...a)=>r(s(...a)))}function TY(...t){return r=>(s,a)=>{const n=r(s,a);let i=()=>{throw new Error(vs(15))};const l={getState:n.getState,dispatch:(u,...h)=>i(u,...h)},c=t.map(u=>u(l));return i=Bh(...c)(n.dispatch),{...n,dispatch:i}}}function pT(t){return _j(t)&&"type"in t&&typeof t.type=="string"}var fT=Symbol.for("immer-nothing"),xA=Symbol.for("immer-draftable"),Ma=Symbol.for("immer-state");function An(t,...r){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ac=Object.getPrototypeOf;function bo(t){return!!t&&!!t[Ma]}function Ai(t){return t?yT(t)||Array.isArray(t)||!!t[xA]||!!t.constructor?.[xA]||tm(t)||Hx(t):!1}var DY=Object.prototype.constructor.toString();function yT(t){if(!t||typeof t!="object")return!1;const r=Ac(t);if(r===null)return!0;const s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===DY}function Uh(t,r){qx(t)===0?Reflect.ownKeys(t).forEach(s=>{r(s,t[s],t)}):t.forEach((s,a)=>r(a,s,t))}function qx(t){const r=t[Ma];return r?r.type_:Array.isArray(t)?1:tm(t)?2:Hx(t)?3:0}function gv(t,r){return qx(t)===2?t.has(r):Object.prototype.hasOwnProperty.call(t,r)}function bT(t,r,s){const a=qx(t);a===2?t.set(r,s):a===3?t.add(s):t[r]=s}function RY(t,r){return t===r?t!==0||1/t===1/r:t!==t&&r!==r}function tm(t){return t instanceof Map}function Hx(t){return t instanceof Set}function Wl(t){return t.copy_||t.base_}function pv(t,r){if(tm(t))return new Map(t);if(Hx(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const s=yT(t);if(r===!0||r==="class_only"&&!s){const a=Object.getOwnPropertyDescriptors(t);delete a[Ma];let n=Reflect.ownKeys(a);for(let i=0;i<n.length;i++){const l=n[i],c=a[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(a[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(Ac(t),a)}else{const a=Ac(t);if(a!==null&&s)return{...t};const n=Object.create(a);return Object.assign(n,t)}}function Aj(t,r=!1){return Gx(t)||bo(t)||!Ai(t)||(qx(t)>1&&Object.defineProperties(t,{set:{value:I0},add:{value:I0},clear:{value:I0},delete:{value:I0}}),Object.freeze(t),r&&Object.values(t).forEach(s=>Aj(s,!0))),t}function I0(){An(2)}function Gx(t){return Object.isFrozen(t)}var OY={};function vo(t){const r=OY[t];return r||An(0,t),r}var Cu;function vT(){return Cu}function IY(t,r){return{drafts_:[],parent_:t,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gA(t,r){r&&(vo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=r)}function fv(t){yv(t),t.drafts_.forEach(MY),t.drafts_=null}function yv(t){t===Cu&&(Cu=t.parent_)}function pA(t){return Cu=IY(Cu,t)}function MY(t){const r=t[Ma];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function fA(t,r){r.unfinalizedDrafts_=r.drafts_.length;const s=r.drafts_[0];return t!==void 0&&t!==s?(s[Ma].modified_&&(fv(r),An(4)),Ai(t)&&(t=zh(r,t),r.parent_||Vh(r,t)),r.patches_&&vo("Patches").generateReplacementPatches_(s[Ma].base_,t,r.patches_,r.inversePatches_)):t=zh(r,s,[]),fv(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),t!==fT?t:void 0}function zh(t,r,s){if(Gx(r))return r;const a=r[Ma];if(!a)return Uh(r,(n,i)=>yA(t,a,r,n,i,s)),r;if(a.scope_!==t)return r;if(!a.modified_)return Vh(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const n=a.copy_;let i=n,l=!1;a.type_===3&&(i=new Set(n),n.clear(),l=!0),Uh(i,(c,u)=>yA(t,a,n,c,u,s,l)),Vh(t,n,!1),s&&t.patches_&&vo("Patches").generatePatches_(a,s,t.patches_,t.inversePatches_)}return a.copy_}function yA(t,r,s,a,n,i,l){if(bo(n)){const c=i&&r&&r.type_!==3&&!gv(r.assigned_,a)?i.concat(a):void 0,u=zh(t,n,c);if(bT(s,a,u),bo(u))t.canAutoFreeze_=!1;else return}else l&&s.add(n);if(Ai(n)&&!Gx(n)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;zh(t,n),(!r||!r.scope_.parent_)&&typeof a!="symbol"&&(tm(s)?s.has(a):Object.prototype.propertyIsEnumerable.call(s,a))&&Vh(t,n)}}function Vh(t,r,s=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Aj(r,s)}function LY(t,r){const s=Array.isArray(t),a={type_:s?1:0,scope_:r?r.scope_:vT(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,i=Cj;s&&(n=[a],i=Pu);const{revoke:l,proxy:c}=Proxy.revocable(n,i);return a.draft_=c,a.revoke_=l,c}var Cj={get(t,r){if(r===Ma)return t;const s=Wl(t);if(!gv(s,r))return $Y(t,s,r);const a=s[r];return t.finalized_||!Ai(a)?a:a===Ty(t.base_,r)?(Dy(t),t.copy_[r]=vv(a,t)):a},has(t,r){return r in Wl(t)},ownKeys(t){return Reflect.ownKeys(Wl(t))},set(t,r,s){const a=wT(Wl(t),r);if(a?.set)return a.set.call(t.draft_,s),!0;if(!t.modified_){const n=Ty(Wl(t),r),i=n?.[Ma];if(i&&i.base_===s)return t.copy_[r]=s,t.assigned_[r]=!1,!0;if(RY(s,n)&&(s!==void 0||gv(t.base_,r)))return!0;Dy(t),bv(t)}return t.copy_[r]===s&&(s!==void 0||r in t.copy_)||Number.isNaN(s)&&Number.isNaN(t.copy_[r])||(t.copy_[r]=s,t.assigned_[r]=!0),!0},deleteProperty(t,r){return Ty(t.base_,r)!==void 0||r in t.base_?(t.assigned_[r]=!1,Dy(t),bv(t)):delete t.assigned_[r],t.copy_&&delete t.copy_[r],!0},getOwnPropertyDescriptor(t,r){const s=Wl(t),a=Reflect.getOwnPropertyDescriptor(s,r);return a&&{writable:!0,configurable:t.type_!==1||r!=="length",enumerable:a.enumerable,value:s[r]}},defineProperty(){An(11)},getPrototypeOf(t){return Ac(t.base_)},setPrototypeOf(){An(12)}},Pu={};Uh(Cj,(t,r)=>{Pu[t]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});Pu.deleteProperty=function(t,r){return Pu.set.call(this,t,r,void 0)};Pu.set=function(t,r,s){return Cj.set.call(this,t[0],r,s,t[0])};function Ty(t,r){const s=t[Ma];return(s?Wl(s):t)[r]}function $Y(t,r,s){const a=wT(r,s);return a?"value"in a?a.value:a.get?.call(t.draft_):void 0}function wT(t,r){if(!(r in t))return;let s=Ac(t);for(;s;){const a=Object.getOwnPropertyDescriptor(s,r);if(a)return a;s=Ac(s)}}function bv(t){t.modified_||(t.modified_=!0,t.parent_&&bv(t.parent_))}function Dy(t){t.copy_||(t.copy_=pv(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var FY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,s,a)=>{if(typeof r=="function"&&typeof s!="function"){const i=s;s=r;const l=this;return function(u=i,...h){return l.produce(u,m=>s.call(this,m,...h))}}typeof s!="function"&&An(6),a!==void 0&&typeof a!="function"&&An(7);let n;if(Ai(r)){const i=pA(this),l=vv(r,void 0);let c=!0;try{n=s(l),c=!1}finally{c?fv(i):yv(i)}return gA(i,a),fA(n,i)}else if(!r||typeof r!="object"){if(n=s(r),n===void 0&&(n=r),n===fT&&(n=void 0),this.autoFreeze_&&Aj(n,!0),a){const i=[],l=[];vo("Patches").generateReplacementPatches_(r,n,i,l),a(i,l)}return n}else An(1,r)},this.produceWithPatches=(r,s)=>{if(typeof r=="function")return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let a,n;return[this.produce(r,s,(l,c)=>{a=l,n=c}),a,n]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ai(t)||An(8),bo(t)&&(t=vi(t));const r=pA(this),s=vv(t,void 0);return s[Ma].isManual_=!0,yv(r),s}finishDraft(t,r){const s=t&&t[Ma];(!s||!s.isManual_)&&An(9);const{scope_:a}=s;return gA(a,r),fA(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,r){let s;for(s=r.length-1;s>=0;s--){const n=r[s];if(n.path.length===0&&n.op==="replace"){t=n.value;break}}s>-1&&(r=r.slice(s+1));const a=vo("Patches").applyPatches_;return bo(t)?a(t,r):this.produce(t,n=>a(n,r))}};function vv(t,r){const s=tm(t)?vo("MapSet").proxyMap_(t,r):Hx(t)?vo("MapSet").proxySet_(t,r):LY(t,r);return(r?r.scope_:vT()).drafts_.push(s),s}function vi(t){return bo(t)||An(10,t),jT(t)}function jT(t){if(!Ai(t)||Gx(t))return t;const r=t[Ma];let s;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,s=pv(t,r.scope_.immer_.useStrictShallowCopy_)}else s=pv(t,!0);return Uh(s,(a,n)=>{bT(s,a,jT(n))}),r&&(r.finalized_=!1),s}var BY=new FY,NT=BY.produce;function kT(t){return({dispatch:s,getState:a})=>n=>i=>typeof i=="function"?i(s,a,t):n(i)}var UY=kT(),zY=kT,VY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bh:Bh.apply(null,arguments)};function mn(t,r){function s(...a){if(r){let n=r(...a);if(!n)throw new Error(Oa(0));return{type:t,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:t,payload:a[0]}}return s.toString=()=>`${t}`,s.type=t,s.match=a=>pT(a)&&a.type===t,s}var ST=class tu extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,tu.prototype)}static get[Symbol.species](){return tu}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new tu(...r[0].concat(this)):new tu(...r.concat(this))}};function bA(t){return Ai(t)?NT(t,()=>{}):t}function M0(t,r,s){return t.has(r)?t.get(r):t.set(r,s(r)).get(r)}function qY(t){return typeof t=="boolean"}var HY=()=>function(r){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=r??{};let l=new ST;return s&&(qY(s)?l.push(UY):l.push(zY(s.extraArgument))),l},GY="RTK_autoBatch",vA=t=>r=>{setTimeout(r,t)},WY=(t={type:"raf"})=>r=>(...s)=>{const a=r(...s);let n=!0,i=!1,l=!1;const c=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:vA(10):t.type==="callback"?t.queueNotification:vA(t.timeout),h=()=>{l=!1,i&&(i=!1,c.forEach(m=>m()))};return Object.assign({},a,{subscribe(m){const x=()=>n&&m(),g=a.subscribe(x);return c.add(m),()=>{g(),c.delete(m)}},dispatch(m){try{return n=!m?.meta?.[GY],i=!n,i&&(l||(l=!0,u(h))),a.dispatch(m)}finally{n=!0}}})},YY=t=>function(s){const{autoBatch:a=!0}=s??{};let n=new ST(t);return a&&n.push(WY(typeof a=="object"?a:void 0)),n};function KY(t){const r=HY(),{reducer:s=void 0,middleware:a,devTools:n=!0,preloadedState:i=void 0,enhancers:l=void 0}=t||{};let c;if(typeof s=="function")c=s;else if(_j(s))c=gT(s);else throw new Error(Oa(1));let u;typeof a=="function"?u=a(r):u=r();let h=Bh;n&&(h=VY({trace:!1,...typeof n=="object"&&n}));const m=TY(...u),x=YY(m);let g=typeof l=="function"?l(x):x();const b=h(...g);return xT(c,i,b)}function _T(t){const r={},s=[];let a;const n={addCase(i,l){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(Oa(28));if(c in r)throw new Error(Oa(29));return r[c]=l,n},addAsyncThunk(i,l){return l.pending&&(r[i.pending.type]=l.pending),l.rejected&&(r[i.rejected.type]=l.rejected),l.fulfilled&&(r[i.fulfilled.type]=l.fulfilled),l.settled&&s.push({matcher:i.settled,reducer:l.settled}),n},addMatcher(i,l){return s.push({matcher:i,reducer:l}),n},addDefaultCase(i){return a=i,n}};return t(n),[r,s,a]}function JY(t){return typeof t=="function"}function XY(t,r){let[s,a,n]=_T(r),i;if(JY(t))i=()=>bA(t());else{const c=bA(t);i=()=>c}function l(c=i(),u){let h=[s[u.type],...a.filter(({matcher:m})=>m(u)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[n]),h.reduce((m,x)=>{if(x)if(bo(m)){const b=x(m,u);return b===void 0?m:b}else{if(Ai(m))return NT(m,g=>x(g,u));{const g=x(m,u);if(g===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return m},c)}return l.getInitialState=i,l}var ZY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",QY=(t=21)=>{let r="",s=t;for(;s--;)r+=ZY[Math.random()*64|0];return r},eK=Symbol.for("rtk-slice-createasyncthunk");function tK(t,r){return`${t}/${r}`}function rK({creators:t}={}){const r=t?.asyncThunk?.[eK];return function(a){const{name:n,reducerPath:i=n}=a;if(!n)throw new Error(Oa(11));const l=(typeof a.reducers=="function"?a.reducers(aK()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(k,v){const A=typeof k=="string"?k:k.type;if(!A)throw new Error(Oa(12));if(A in u.sliceCaseReducersByType)throw new Error(Oa(13));return u.sliceCaseReducersByType[A]=v,h},addMatcher(k,v){return u.sliceMatchers.push({matcher:k,reducer:v}),h},exposeAction(k,v){return u.actionCreators[k]=v,h},exposeCaseReducer(k,v){return u.sliceCaseReducersByName[k]=v,h}};c.forEach(k=>{const v=l[k],A={reducerName:k,type:tK(n,k),createNotation:typeof a.reducers=="function"};iK(v)?oK(A,v,h,r):nK(A,v,h)});function m(){const[k={},v=[],A=void 0]=typeof a.extraReducers=="function"?_T(a.extraReducers):[a.extraReducers],E={...k,...u.sliceCaseReducersByType};return XY(a.initialState,T=>{for(let F in E)T.addCase(F,E[F]);for(let F of u.sliceMatchers)T.addMatcher(F.matcher,F.reducer);for(let F of v)T.addMatcher(F.matcher,F.reducer);A&&T.addDefaultCase(A)})}const x=k=>k,g=new Map,b=new WeakMap;let y;function w(k,v){return y||(y=m()),y(k,v)}function N(){return y||(y=m()),y.getInitialState()}function _(k,v=!1){function A(T){let F=T[k];return typeof F>"u"&&v&&(F=M0(b,A,N)),F}function E(T=x){const F=M0(g,v,()=>new WeakMap);return M0(F,T,()=>{const R={};for(const[D,$]of Object.entries(a.selectors??{}))R[D]=sK($,T,()=>M0(b,T,N),v);return R})}return{reducerPath:k,getSelectors:E,get selectors(){return E(A)},selectSlice:A}}const S={name:n,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:N,..._(i),injectInto(k,{reducerPath:v,...A}={}){const E=v??i;return k.inject({reducerPath:E,reducer:w},A),{...S,..._(E,!0)}}};return S}}function sK(t,r,s,a){function n(i,...l){let c=r(i);return typeof c>"u"&&a&&(c=s()),t(c,...l)}return n.unwrapped=t,n}var Ba=rK();function aK(){function t(r,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...s}}return t.withTypes=()=>t,{reducer(r){return Object.assign({[r.name](...s){return r(...s)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:s}},asyncThunk:t}}function nK({type:t,reducerName:r,createNotation:s},a,n){let i,l;if("reducer"in a){if(s&&!lK(a))throw new Error(Oa(17));i=a.reducer,l=a.prepare}else i=a;n.addCase(t,i).exposeCaseReducer(r,i).exposeAction(r,l?mn(t,l):mn(t))}function iK(t){return t._reducerDefinitionType==="asyncThunk"}function lK(t){return t._reducerDefinitionType==="reducerWithPrepare"}function oK({type:t,reducerName:r},s,a,n){if(!n)throw new Error(Oa(18));const{payloadCreator:i,fulfilled:l,pending:c,rejected:u,settled:h,options:m}=s,x=n(t,i,m);a.exposeAction(r,x),l&&a.addCase(x.fulfilled,l),c&&a.addCase(x.pending,c),u&&a.addCase(x.rejected,u),h&&a.addMatcher(x.settled,h),a.exposeCaseReducer(r,{fulfilled:l||L0,pending:c||L0,rejected:u||L0,settled:h||L0})}function L0(){}var cK="task",AT="listener",CT="completed",Pj="cancelled",dK=`task-${Pj}`,uK=`task-${CT}`,wv=`${AT}-${Pj}`,mK=`${AT}-${CT}`,Wx=class{constructor(t){this.code=t,this.message=`${cK} ${Pj} (reason: ${t})`}name="TaskAbortError";message},Ej=(t,r)=>{if(typeof t!="function")throw new TypeError(Oa(32))},qh=()=>{},PT=(t,r=qh)=>(t.catch(r),t),ET=(t,r)=>(t.addEventListener("abort",r,{once:!0}),()=>t.removeEventListener("abort",r)),mo=(t,r)=>{const s=t.signal;s.aborted||("reason"in s||Object.defineProperty(s,"reason",{enumerable:!0,value:r,configurable:!0,writable:!0}),t.abort(r))},ho=t=>{if(t.aborted){const{reason:r}=t;throw new Wx(r)}};function TT(t,r){let s=qh;return new Promise((a,n)=>{const i=()=>n(new Wx(t.reason));if(t.aborted){i();return}s=ET(t,i),r.finally(()=>s()).then(a,n)}).finally(()=>{s=qh})}var hK=async(t,r)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(s){return{status:s instanceof Wx?"cancelled":"rejected",error:s}}finally{r?.()}},Hh=t=>r=>PT(TT(t,r).then(s=>(ho(t),s))),DT=t=>{const r=Hh(t);return s=>r(new Promise(a=>setTimeout(a,s)))},{assign:bc}=Object,wA={},Yx="listenerMiddleware",xK=(t,r)=>{const s=a=>ET(t,()=>mo(a,t.reason));return(a,n)=>{Ej(a);const i=new AbortController;s(i);const l=hK(async()=>{ho(t),ho(i.signal);const c=await a({pause:Hh(i.signal),delay:DT(i.signal),signal:i.signal});return ho(i.signal),c},()=>mo(i,uK));return n?.autoJoin&&r.push(l.catch(qh)),{result:Hh(t)(l),cancel(){mo(i,dK)}}}},gK=(t,r)=>{const s=async(a,n)=>{ho(r);let i=()=>{};const c=[new Promise((u,h)=>{let m=t({predicate:a,effect:(x,g)=>{g.unsubscribe(),u([x,g.getState(),g.getOriginalState()])}});i=()=>{m(),h()}})];n!=null&&c.push(new Promise(u=>setTimeout(u,n,null)));try{const u=await TT(r,Promise.race(c));return ho(r),u}finally{i()}};return(a,n)=>PT(s(a,n))},RT=t=>{let{type:r,actionCreator:s,matcher:a,predicate:n,effect:i}=t;if(r)n=mn(r).match;else if(s)r=s.type,n=s.match;else if(a)n=a;else if(!n)throw new Error(Oa(21));return Ej(i),{predicate:n,type:r,effect:i}},OT=bc(t=>{const{type:r,predicate:s,effect:a}=RT(t);return{id:QY(),effect:a,type:r,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(Oa(22))}}},{withTypes:()=>OT}),jA=(t,r)=>{const{type:s,effect:a,predicate:n}=RT(r);return Array.from(t.values()).find(i=>(typeof s=="string"?i.type===s:i.predicate===n)&&i.effect===a)},jv=t=>{t.pending.forEach(r=>{mo(r,wv)})},pK=t=>()=>{t.forEach(jv),t.clear()},NA=(t,r,s)=>{try{t(r,s)}catch(a){setTimeout(()=>{throw a},0)}},IT=bc(mn(`${Yx}/add`),{withTypes:()=>IT}),fK=mn(`${Yx}/removeAll`),MT=bc(mn(`${Yx}/remove`),{withTypes:()=>MT}),yK=(...t)=>{console.error(`${Yx}/error`,...t)},rm=(t={})=>{const r=new Map,{extra:s,onError:a=yK}=t;Ej(a);const n=m=>(m.unsubscribe=()=>r.delete(m.id),r.set(m.id,m),x=>{m.unsubscribe(),x?.cancelActive&&jv(m)}),i=m=>{const x=jA(r,m)??OT(m);return n(x)};bc(i,{withTypes:()=>i});const l=m=>{const x=jA(r,m);return x&&(x.unsubscribe(),m.cancelActive&&jv(x)),!!x};bc(l,{withTypes:()=>l});const c=async(m,x,g,b)=>{const y=new AbortController,w=gK(i,y.signal),N=[];try{m.pending.add(y),await Promise.resolve(m.effect(x,bc({},g,{getOriginalState:b,condition:(_,S)=>w(_,S).then(Boolean),take:w,delay:DT(y.signal),pause:Hh(y.signal),extra:s,signal:y.signal,fork:xK(y.signal,N),unsubscribe:m.unsubscribe,subscribe:()=>{r.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,S,k)=>{_!==y&&(mo(_,wv),k.delete(_))})},cancel:()=>{mo(y,wv),m.pending.delete(y)},throwIfCancelled:()=>{ho(y.signal)}})))}catch(_){_ instanceof Wx||NA(a,_,{raisedBy:"effect"})}finally{await Promise.all(N),mo(y,mK),m.pending.delete(y)}},u=pK(r);return{middleware:m=>x=>g=>{if(!pT(g))return x(g);if(IT.match(g))return i(g.payload);if(fK.match(g)){u();return}if(MT.match(g))return l(g.payload);let b=m.getState();const y=()=>{if(b===wA)throw new Error(Oa(23));return b};let w;try{if(w=x(g),r.size>0){const N=m.getState(),_=Array.from(r.values());for(const S of _){let k=!1;try{k=S.predicate(g,N,b)}catch(v){k=!1,NA(a,v,{raisedBy:"predicate"})}k&&c(S,g,m,y)}}}finally{b=wA}return w},startListening:i,stopListening:l,clearListeners:u}};function Oa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var bK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},LT=Ba({name:"chartLayout",initialState:bK,reducers:{setLayout(t,r){t.layoutType=r.payload},setChartSize(t,r){t.width=r.payload.width,t.height=r.payload.height},setMargin(t,r){t.margin.top=r.payload.top,t.margin.right=r.payload.right,t.margin.bottom=r.payload.bottom,t.margin.left=r.payload.left},setScale(t,r){t.scale=r.payload}}}),{setMargin:vK,setLayout:wK,setChartSize:jK,setScale:NK}=LT.actions,kK=LT.reducer;function kA(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function SA(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?kA(Object(s),!0).forEach(function(a){SK(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):kA(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function SK(t,r,s){return(r=_K(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function _K(t){var r=AK(t,"string");return typeof r=="symbol"?r:r+""}function AK(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Gh=Math.PI/180,CK=t=>t*180/Math.PI,Jr=(t,r,s,a)=>({x:t+Math.cos(-Gh*a)*s,y:r+Math.sin(-Gh*a)*s}),$T=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},PK=(t,r)=>{var{x:s,y:a}=t,{x:n,y:i}=r;return Math.sqrt((s-n)**2+(a-i)**2)},EK=(t,r)=>{var{x:s,y:a}=t,{cx:n,cy:i}=r,l=PK({x:s,y:a},{x:n,y:i});if(l<=0)return{radius:l,angle:0};var c=(s-n)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:CK(u),angleInRadian:u}},TK=t=>{var{startAngle:r,endAngle:s}=t,a=Math.floor(r/360),n=Math.floor(s/360),i=Math.min(a,n);return{startAngle:r-i*360,endAngle:s-i*360}},DK=(t,r)=>{var{startAngle:s,endAngle:a}=r,n=Math.floor(s/360),i=Math.floor(a/360),l=Math.min(n,i);return t+l*360},RK=(t,r)=>{var{x:s,y:a}=t,{radius:n,angle:i}=EK({x:s,y:a},r),{innerRadius:l,outerRadius:c}=r;if(n<l||n>c||n===0)return null;var{startAngle:u,endAngle:h}=TK(r),m=i,x;if(u<=h){for(;m>h;)m-=360;for(;m<u;)m+=360;x=m>=u&&m<=h}else{for(;m>u;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=u}return x?SA(SA({},r),{},{radius:n,angle:DK(m,r)}):null};function FT(t,r,s){return Array.isArray(t)&&t&&r+s!==0?t.slice(r,s+1):t}function _A(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function sn(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?_A(Object(s),!0).forEach(function(a){OK(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_A(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function OK(t,r,s){return(r=IK(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function IK(t){var r=MK(t,"string");return typeof r=="symbol"?r:r+""}function MK(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function dr(t,r,s){return jr(t)||jr(r)?s:Yn(r)?wl(t,r,s):typeof r=="function"?r(t):s}var LK=(t,r,s,a,n)=>{var i,l=-1,c=(i=r?.length)!==null&&i!==void 0?i:0;if(c<=1||t==null)return 0;if(a==="angleAxis"&&n!=null&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var u=0;u<c;u++){var h=u>0?s[u-1].coordinate:s[c-1].coordinate,m=s[u].coordinate,x=u>=c-1?s[0].coordinate:s[u+1].coordinate,g=void 0;if(xs(m-h)!==xs(x-m)){var b=[];if(xs(x-m)===xs(n[1]-n[0])){g=x;var y=m+n[1]-n[0];b[0]=Math.min(y,(y+h)/2),b[1]=Math.max(y,(y+h)/2)}else{g=h;var w=x+n[1]-n[0];b[0]=Math.min(m,(w+m)/2),b[1]=Math.max(m,(w+m)/2)}var N=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(t>N[0]&&t<=N[1]||t>=b[0]&&t<=b[1]){({index:l}=s[u]);break}}else{var _=Math.min(h,x),S=Math.max(h,x);if(t>(_+m)/2&&t<=(S+m)/2){({index:l}=s[u]);break}}}else if(r){for(var k=0;k<c;k++)if(k===0&&t<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<c-1&&t>(r[k].coordinate+r[k-1].coordinate)/2&&t<=(r[k].coordinate+r[k+1].coordinate)/2||k===c-1&&t>(r[k].coordinate+r[k-1].coordinate)/2){({index:l}=r[k]);break}}return l},$K=(t,r,s)=>{if(r&&s){var{width:a,height:n}=s,{align:i,verticalAlign:l,layout:c}=r;if((c==="vertical"||c==="horizontal"&&l==="middle")&&i!=="center"&&dt(t[i]))return sn(sn({},t),{},{[i]:t[i]+(a||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&l!=="middle"&&dt(t[l]))return sn(sn({},t),{},{[l]:t[l]+(n||0)})}return t},Di=(t,r)=>t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis",BT=(t,r,s,a)=>{if(a)return t.map(c=>c.coordinate);var n,i,l=t.map(c=>(c.coordinate===r&&(n=!0),c.coordinate===s&&(i=!0),c.coordinate));return n||l.push(r),i||l.push(s),l},UT=(t,r,s)=>{if(!t)return null;var{duplicateDomain:a,type:n,range:i,scale:l,realScaleType:c,isCategorical:u,categoricalDomain:h,tickCount:m,ticks:x,niceTicks:g,axisType:b}=t;if(!l)return null;var y=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=n==="category"&&l.bandwidth?l.bandwidth()/y:0;if(w=b==="angleAxis"&&i&&i.length>=2?xs(i[0]-i[1])*2*w:w,x||g){var N=(x||g||[]).map((_,S)=>{var k=a?a.indexOf(_):_;return{coordinate:l(k)+w,value:_,offset:w,index:S}});return N.filter(_=>!ha(_.coordinate))}return u&&h?h.map((_,S)=>({coordinate:l(_)+w,value:_,index:S,offset:w})):l.ticks&&m!=null?l.ticks(m).map((_,S)=>({coordinate:l(_)+w,value:_,offset:w,index:S})):l.domain().map((_,S)=>({coordinate:l(_)+w,value:a?a[_]:_,index:S,offset:w}))},AA=1e-4,FK=t=>{var r=t.domain();if(!(!r||r.length<=2)){var s=r.length,a=t.range(),n=Math.min(a[0],a[1])-AA,i=Math.max(a[0],a[1])+AA,l=t(r[0]),c=t(r[s-1]);(l<n||l>i||c<n||c>i)&&t.domain([r[0],r[s-1]])}},BK=(t,r)=>{if(!r||r.length!==2||!dt(r[0])||!dt(r[1]))return t;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),n=[t[0],t[1]];return(!dt(t[0])||t[0]<s)&&(n[0]=s),(!dt(t[1])||t[1]>a)&&(n[1]=a),n[0]>a&&(n[0]=a),n[1]<s&&(n[1]=s),n},UK=t=>{var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var n=0,i=0,l=0;l<r;++l){var c=ha(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=n,t[l][s][1]=n+c,n=t[l][s][1]):(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1])}},zK=t=>{var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var n=0,i=0;i<r;++i){var l=ha(t[i][s][1])?t[i][s][0]:t[i][s][1];l>=0?(t[i][s][0]=n,t[i][s][1]=n+l,n=t[i][s][1]):(t[i][s][0]=0,t[i][s][1]=0)}},VK={sign:UK,expand:bW,none:_c,silhouette:vW,wiggle:wW,positive:zK},qK=(t,r,s)=>{var a=VK[s],n=yW().keys(r).value((i,l)=>+dr(i,l,0)).order(mv).offset(a);return n(t)};function zT(t){return t==null?void 0:String(t)}function CA(t){var{axis:r,ticks:s,bandSize:a,entry:n,index:i,dataKey:l}=t;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!jr(n[r.dataKey])){var c=OE(s,"value",n[r.dataKey]);if(c)return c.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var u=dr(n,jr(l)?r.dataKey:l);return jr(u)?null:r.scale(u)}var PA=t=>{var{axis:r,ticks:s,offset:a,bandSize:n,entry:i,index:l}=t;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=dr(i,r.dataKey,r.scale.domain()[l]);return jr(c)?null:r.scale(c)-n/2+a},HK=t=>{var{numericAxis:r}=t,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]);return a<=0&&n>=0?0:n<0?n:a}return s[0]},GK=t=>{var r=t.flat(2).filter(dt);return[Math.min(...r),Math.max(...r)]},WK=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],YK=(t,r,s)=>{if(t!=null)return WK(Object.keys(t).reduce((a,n)=>{var i=t[n],{stackedData:l}=i,c=l.reduce((u,h)=>{var m=FT(h,r,s),x=GK(m);return[Math.min(u[0],x[0]),Math.max(u[1],x[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]))},EA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Eu=(t,r,s)=>{if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&r&&r.length>=2){for(var n=Vx(r,m=>m.coordinate),i=1/0,l=1,c=n.length;l<c;l++){var u=n[l],h=n[l-1];i=Math.min((u.coordinate||0)-(h.coordinate||0),i)}return i===1/0?0:i}return s?void 0:0};function DA(t){var{tooltipEntrySettings:r,dataKey:s,payload:a,value:n,name:i}=t;return sn(sn({},r),{},{dataKey:s,payload:a,value:n,name:i})}function Gc(t,r){if(t)return String(t);if(typeof r=="string")return r}function KK(t,r,s,a,n){if(s==="horizontal"||s==="vertical"){var i=t>=n.left&&t<=n.left+n.width&&r>=n.top&&r<=n.top+n.height;return i?{x:t,y:r}:null}return a?RK({x:t,y:r},a):null}var JK=(t,r,s,a)=>{var n=r.find(h=>h&&h.index===s);if(n){if(t==="horizontal")return{x:n.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:n.coordinate};if(t==="centric"){var i=n.coordinate,{radius:l}=a;return sn(sn(sn({},a),Jr(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=n.coordinate,{angle:u}=a;return sn(sn(sn({},a),Jr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return{x:0,y:0}},XK=(t,r)=>r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius,Ri=t=>t.layout.width,Oi=t=>t.layout.height,ZK=t=>t.layout.scale,VT=t=>t.layout.margin,Tj=_e(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Dj=_e(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),qT="data-recharts-item-index",HT="data-recharts-item-data-key",Kx=60;function RA(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function ll(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?RA(Object(s),!0).forEach(function(a){QK(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):RA(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function QK(t,r,s){return(r=eJ(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function eJ(t){var r=tJ(t,"string");return typeof r=="symbol"?r:r+""}function tJ(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var rJ=t=>t.brush.height,ns=_e([Ri,Oi,VT,rJ,Tj,Dj,mT,kY],(t,r,s,a,n,i,l,c)=>{var u=i.reduce((y,w)=>{var{orientation:N}=w;if(!w.mirror&&!w.hide){var _=typeof w.width=="number"?w.width:Kx;return ll(ll({},y),{},{[N]:y[N]+_})}return y},{left:s.left||0,right:s.right||0}),h=n.reduce((y,w)=>{var{orientation:N}=w;return!w.mirror&&!w.hide?ll(ll({},y),{},{[N]:wl(y,"".concat(N))+w.height}):y},{top:s.top||0,bottom:s.bottom||0}),m=ll(ll({},h),u),x=m.bottom;m.bottom+=a,m=$K(m,l,c);var g=t-m.left-m.right,b=r-m.top-m.bottom;return ll(ll({brushBottom:x},m),{},{width:Math.max(g,0),height:Math.max(b,0)})}),sJ=_e(ns,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),GT=_e(Ri,Oi,(t,r)=>({x:0,y:0,width:t,height:r})),aJ=f.createContext(null),xa=()=>f.useContext(aJ)!=null,Jx=t=>t.brush,Xx=_e([Jx,ns,VT],(t,r,s)=>({height:t.height,x:dt(t.x)?t.x:r.left,y:dt(t.y)?t.y:r.top+r.height+r.brushBottom-(s?.bottom||0),width:dt(t.width)?t.width:r.width})),Rj=()=>{var t,r=xa(),s=kt(sJ),a=kt(Xx),n=(t=kt(Jx))===null||t===void 0?void 0:t.padding;return!r||!a||!n?s:{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}},nJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},WT=()=>{var t;return(t=kt(ns))!==null&&t!==void 0?t:nJ},Oj=()=>kt(Ri),Ij=()=>kt(Oi),iJ={top:0,right:0,bottom:0,left:0},lJ=()=>{var t;return(t=kt(r=>r.layout.margin))!==null&&t!==void 0?t:iJ},Yt=t=>t.layout.layoutType,Zx=()=>kt(Yt),oJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YT=Ba({name:"legend",initialState:oJ,reducers:{setLegendSize(t,r){t.size.width=r.payload.width,t.size.height=r.payload.height},setLegendSettings(t,r){t.settings.align=r.payload.align,t.settings.layout=r.payload.layout,t.settings.verticalAlign=r.payload.verticalAlign,t.settings.itemSorter=r.payload.itemSorter},addLegendPayload(t,r){t.payload.push(r.payload)},removeLegendPayload(t,r){var s=vi(t).payload.indexOf(r.payload);s>-1&&t.payload.splice(s,1)}}}),{setLegendSize:OA,setLegendSettings:cJ,addLegendPayload:KT,removeLegendPayload:JT}=YT.actions,dJ=YT.reducer,uJ=["contextPayload"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Nv.apply(null,arguments)}function IA(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Cc(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?IA(Object(s),!0).forEach(function(a){Mj(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):IA(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Mj(t,r,s){return(r=mJ(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function mJ(t){var r=hJ(t,"string");return typeof r=="symbol"?r:r+""}function hJ(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function xJ(t,r){if(t==null)return{};var s,a,n=gJ(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function gJ(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}function pJ(t){return t.value}function fJ(t){var{contextPayload:r}=t,s=xJ(t,uJ),a=oT(r,t.payloadUniqBy,pJ),n=Cc(Cc({},s),{},{payload:a});return f.isValidElement(t.content)?f.cloneElement(t.content,n):typeof t.content=="function"?f.createElement(t.content,n):f.createElement(bj,n)}function yJ(t,r,s,a,n,i){var{layout:l,align:c,verticalAlign:u}=r,h,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&l==="vertical"?h={left:((a||0)-i.width)/2}:h=c==="right"?{right:s&&s.right||0}:{left:s&&s.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?m={top:((n||0)-i.height)/2}:m=u==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Cc(Cc({},h),m)}function bJ(t){var r=Tr();return f.useEffect(()=>{r(cJ(t))},[r,t]),null}function vJ(t){var r=Tr();return f.useEffect(()=>(r(OA(t)),()=>{r(OA({width:0,height:0}))}),[r,t]),null}function wJ(t){var r=AY(),s=zG(),a=lJ(),{width:n,height:i,wrapperStyle:l,portal:c}=t,[u,h]=hT([r]),m=Oj(),x=Ij(),g=m-(a.left||0)-(a.right||0),b=Pc.getWidthOrHeight(t.layout,i,n,g),y=c?l:Cc(Cc({position:"absolute",width:b?.width||n||"auto",height:b?.height||i||"auto"},yJ(l,t,a,m,x,u)),l),w=c??s;if(w==null)return null;var N=f.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:h},f.createElement(bJ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),f.createElement(vJ,{width:u.width,height:u.height}),f.createElement(fJ,Nv({},t,b,{margin:a,chartWidth:m,chartHeight:x,contextPayload:r})));return M3.createPortal(N,w)}class Pc extends f.PureComponent{static getWidthOrHeight(r,s,a,n){return r==="vertical"&&dt(s)?{height:s}:r==="horizontal"?{width:a||n}:null}render(){return f.createElement(wJ,this.props)}}Mj(Pc,"displayName","Legend");Mj(Pc,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},kv.apply(null,arguments)}function MA(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Ry(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?MA(Object(s),!0).forEach(function(a){jJ(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):MA(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function jJ(t,r,s){return(r=NJ(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function NJ(t){var r=kJ(t,"string");return typeof r=="symbol"?r:r+""}function kJ(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function SJ(t){return Array.isArray(t)&&Yn(t[0])&&Yn(t[1])?t.join(" ~ "):t}var _J=t=>{var{separator:r=" : ",contentStyle:s={},itemStyle:a={},labelStyle:n={},payload:i,formatter:l,itemSorter:c,wrapperClassName:u,labelClassName:h,label:m,labelFormatter:x,accessibilityLayer:g=!1}=t,b=()=>{if(i&&i.length){var A={padding:0,margin:0},E=(c?Vx(i,c):i).map((T,F)=>{if(T.type==="none")return null;var R=T.formatter||l||SJ,{value:D,name:$}=T,B=D,H=$;if(R){var I=R(D,$,T,F,i);if(Array.isArray(I))[B,H]=I;else if(I!=null)B=I;else return null}var L=Ry({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},a);return f.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:L},Yn(H)?f.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Yn(H)?f.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,f.createElement("span",{className:"recharts-tooltip-item-value"},B),f.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return f.createElement("ul",{className:"recharts-tooltip-item-list",style:A},E)}return null},y=Ry({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),w=Ry({margin:0},n),N=!jr(m),_=N?m:"",S=tr("recharts-default-tooltip",u),k=tr("recharts-tooltip-label",h);N&&x&&i!==void 0&&i!==null&&(_=x(m,i));var v=g?{role:"status","aria-live":"assertive"}:{};return f.createElement("div",kv({className:S,style:y},v),f.createElement("p",{className:k,style:w},f.isValidElement(_)?_:"".concat(_)),b())},Vd="recharts-tooltip-wrapper",AJ={visibility:"hidden"};function CJ(t){var{coordinate:r,translateX:s,translateY:a}=t;return tr(Vd,{["".concat(Vd,"-right")]:dt(s)&&r&&dt(r.x)&&s>=r.x,["".concat(Vd,"-left")]:dt(s)&&r&&dt(r.x)&&s<r.x,["".concat(Vd,"-bottom")]:dt(a)&&r&&dt(r.y)&&a>=r.y,["".concat(Vd,"-top")]:dt(a)&&r&&dt(r.y)&&a<r.y})}function LA(t){var{allowEscapeViewBox:r,coordinate:s,key:a,offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:c,viewBox:u,viewBoxDimension:h}=t;if(i&&dt(i[a]))return i[a];var m=s[a]-c-(n>0?n:0),x=s[a]+n;if(r[a])return l[a]?m:x;var g=u[a];if(g==null)return 0;if(l[a]){var b=m,y=g;return b<y?Math.max(x,g):Math.max(m,g)}if(h==null)return 0;var w=x+c,N=g+h;return w>N?Math.max(m,g):Math.max(x,g)}function PJ(t){var{translateX:r,translateY:s,useTranslate3d:a}=t;return{transform:a?"translate3d(".concat(r,"px, ").concat(s,"px, 0)"):"translate(".concat(r,"px, ").concat(s,"px)")}}function EJ(t){var{allowEscapeViewBox:r,coordinate:s,offsetTopLeft:a,position:n,reverseDirection:i,tooltipBox:l,useTranslate3d:c,viewBox:u}=t,h,m,x;return l.height>0&&l.width>0&&s?(m=LA({allowEscapeViewBox:r,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),x=LA({allowEscapeViewBox:r,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),h=PJ({translateX:m,translateY:x,useTranslate3d:c})):h=AJ,{cssProperties:h,cssClasses:CJ({translateX:m,translateY:x,coordinate:s})}}function $A(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function $0(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?$A(Object(s),!0).forEach(function(a){Sv(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):$A(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Sv(t,r,s){return(r=TJ(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function TJ(t){var r=DJ(t,"string");return typeof r=="symbol"?r:r+""}function DJ(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class RJ extends f.PureComponent{constructor(){super(...arguments),Sv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Sv(this,"handleKeyDown",r=>{if(r.key==="Escape"){var s,a,n,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&s!==void 0?s:0,y:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&n!==void 0?n:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,s;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:s,animationDuration:a,animationEasing:n,children:i,coordinate:l,hasPayload:c,isAnimationActive:u,offset:h,position:m,reverseDirection:x,useTranslate3d:g,viewBox:b,wrapperStyle:y,lastBoundingBox:w,innerRef:N,hasPortalFromProps:_}=this.props,{cssClasses:S,cssProperties:k}=EJ({allowEscapeViewBox:s,coordinate:l,offsetTopLeft:h,position:m,reverseDirection:x,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:b}),v=_?{}:$0($0({transition:u&&r?"transform ".concat(a,"ms ").concat(n):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0}),A=$0($0({},v),{},{visibility:!this.state.dismissed&&r&&c?"visible":"hidden"},y);return f.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:A,ref:N},i)}}var OJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),_o={isSsr:OJ()},XT=()=>kt(t=>t.rootProps.accessibilityLayer);function Ss(t){return Number.isFinite(t)}function Ec(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},_v.apply(null,arguments)}function FA(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function BA(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?FA(Object(s),!0).forEach(function(a){IJ(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):FA(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function IJ(t,r,s){return(r=MJ(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function MJ(t){var r=LJ(t,"string");return typeof r=="symbol"?r:r+""}function LJ(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var UA={curveBasisClosed:lW,curveBasisOpen:oW,curveBasis:iW,curveBumpX:GG,curveBumpY:WG,curveLinearClosed:cW,curveLinear:Ux,curveMonotoneX:dW,curveMonotoneY:uW,curveNatural:mW,curveStep:hW,curveStepAfter:gW,curveStepBefore:xW},F0=t=>Ss(t.x)&&Ss(t.y),qd=t=>t.x,Hd=t=>t.y,$J=(t,r)=>{if(typeof t=="function")return t;var s="curve".concat(Zu(t));return(s==="curveMonotone"||s==="curveBump")&&r?UA["".concat(s).concat(r==="vertical"?"Y":"X")]:UA[s]||Ux},FJ=t=>{var{type:r="linear",points:s=[],baseLine:a,layout:n,connectNulls:i=!1}=t,l=$J(r,n),c=i?s.filter(F0):s,u;if(Array.isArray(a)){var h=i?a.filter(x=>F0(x)):a,m=c.map((x,g)=>BA(BA({},x),{},{base:h[g]}));return n==="vertical"?u=D0().y(Hd).x1(qd).x0(x=>x.base.x):u=D0().x(qd).y1(Hd).y0(x=>x.base.y),u.defined(F0).curve(l),u(m)}return n==="vertical"&&dt(a)?u=D0().y(Hd).x1(qd).x0(a):dt(a)?u=D0().x(qd).y1(Hd).y0(a):u=qE().x(qd).y(Hd),u.defined(F0).curve(l),u(c)},mu=t=>{var{className:r,points:s,path:a,pathRef:n}=t;if((!s||!s.length)&&!a)return null;var i=s&&s.length?FJ(t):a;return f.createElement("path",_v({},Jn(t),mj(t),{className:tr("recharts-curve",r),d:i===null?void 0:i,ref:n}))},BJ=["x","y","top","left","width","height","className"];function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Av.apply(null,arguments)}function zA(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function UJ(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?zA(Object(s),!0).forEach(function(a){zJ(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):zA(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function zJ(t,r,s){return(r=VJ(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function VJ(t){var r=qJ(t,"string");return typeof r=="symbol"?r:r+""}function qJ(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function HJ(t,r){if(t==null)return{};var s,a,n=GJ(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function GJ(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}var WJ=(t,r,s,a,n,i)=>"M".concat(t,",").concat(n,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(s),YJ=t=>{var{x:r=0,y:s=0,top:a=0,left:n=0,width:i=0,height:l=0,className:c}=t,u=HJ(t,BJ),h=UJ({x:r,y:s,top:a,left:n,width:i,height:l},u);return!dt(r)||!dt(s)||!dt(i)||!dt(l)||!dt(a)||!dt(n)?null:f.createElement("path",Av({},Er(h,!0),{className:tr("recharts-cross",c),d:WJ(r,s,i,l,a,n)}))};function KJ(t,r,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?r.x-n:s.left+.5,y:t==="horizontal"?s.top+.5:r.y-n,width:t==="horizontal"?a:s.width-1,height:t==="horizontal"?s.height-1:a}}function VA(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function JJ(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?VA(Object(s),!0).forEach(function(a){XJ(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):VA(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function XJ(t,r,s){return(r=ZJ(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function ZJ(t){var r=QJ(t,"string");return typeof r=="symbol"?r:r+""}function QJ(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ua(t,r){var s=JJ({},t),a=r,n=Object.keys(r),i=n.reduce((l,c)=>(l[c]===void 0&&a[c]!==void 0&&(l[c]=a[c]),l),s);return i}var Oy={},Iy={},My={},qA;function eX(){return qA||(qA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){if(!s||typeof s!="object")return!1;const a=Object.getPrototypeOf(s);return a===null||a===Object.prototype||Object.getPrototypeOf(a)===null?Object.prototype.toString.call(s)==="[object Object]":!1}t.isPlainObject=r})(My)),My}var HA;function tX(){return HA||(HA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=eX(),s=nT(),a=Nj(),n=kj(),i=wj();function l(h,m,x){return c(h,m,void 0,void 0,void 0,void 0,x)}function c(h,m,x,g,b,y,w){const N=w(h,m,x,g,b,y);if(N!==void 0)return N;if(typeof h==typeof m)switch(typeof h){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return h===m;case"number":return h===m||Object.is(h,m);case"function":return h===m;case"object":return u(h,m,y,w)}return u(h,m,y,w)}function u(h,m,x,g){if(Object.is(h,m))return!0;let b=a.getTag(h),y=a.getTag(m);if(b===n.argumentsTag&&(b=n.objectTag),y===n.argumentsTag&&(y=n.objectTag),b!==y)return!1;switch(b){case n.stringTag:return h.toString()===m.toString();case n.numberTag:{const _=h.valueOf(),S=m.valueOf();return i.eq(_,S)}case n.booleanTag:case n.dateTag:case n.symbolTag:return Object.is(h.valueOf(),m.valueOf());case n.regexpTag:return h.source===m.source&&h.flags===m.flags;case n.functionTag:return h===m}x=x??new Map;const w=x.get(h),N=x.get(m);if(w!=null&&N!=null)return w===m;x.set(h,m),x.set(m,h);try{switch(b){case n.mapTag:{if(h.size!==m.size)return!1;for(const[_,S]of h.entries())if(!m.has(_)||!c(S,m.get(_),_,h,m,x,g))return!1;return!0}case n.setTag:{if(h.size!==m.size)return!1;const _=Array.from(h.values()),S=Array.from(m.values());for(let k=0;k<_.length;k++){const v=_[k],A=S.findIndex(E=>c(v,E,void 0,h,m,x,g));if(A===-1)return!1;S.splice(A,1)}return!0}case n.arrayTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:case n.bigUint64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.bigInt64ArrayTag:case n.float32ArrayTag:case n.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(h)!==Buffer.isBuffer(m)||h.length!==m.length)return!1;for(let _=0;_<h.length;_++)if(!c(h[_],m[_],_,h,m,x,g))return!1;return!0}case n.arrayBufferTag:return h.byteLength!==m.byteLength?!1:u(new Uint8Array(h),new Uint8Array(m),x,g);case n.dataViewTag:return h.byteLength!==m.byteLength||h.byteOffset!==m.byteOffset?!1:u(new Uint8Array(h),new Uint8Array(m),x,g);case n.errorTag:return h.name===m.name&&h.message===m.message;case n.objectTag:{if(!(u(h.constructor,m.constructor,x,g)||r.isPlainObject(h)&&r.isPlainObject(m)))return!1;const S=[...Object.keys(h),...s.getSymbols(h)],k=[...Object.keys(m),...s.getSymbols(m)];if(S.length!==k.length)return!1;for(let v=0;v<S.length;v++){const A=S[v],E=h[A];if(!Object.hasOwn(m,A))return!1;const T=m[A];if(!c(E,T,A,h,m,x,g))return!1}return!0}default:return!1}}finally{x.delete(h),x.delete(m)}}t.isEqualWith=l})(Iy)),Iy}var Ly={},GA;function rX(){return GA||(GA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(){}t.noop=r})(Ly)),Ly}var WA;function sX(){return WA||(WA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=tX(),s=rX();function a(n,i){return r.isEqualWith(n,i,s.noop)}t.isEqual=a})(Oy)),Oy}var $y,YA;function aX(){return YA||(YA=1,$y=sX().isEqual),$y}var nX=aX();const iX=xn(nX);var Wh=1e-4,ZT=(t,r)=>[0,3*t,3*r-6*t,3*t-3*r+1],QT=(t,r)=>t.map((s,a)=>s*r**a).reduce((s,a)=>s+a),KA=(t,r)=>s=>{var a=ZT(t,r);return QT(a,s)},lX=(t,r)=>s=>{var a=ZT(t,r),n=[...a.map((i,l)=>i*l).slice(1),0];return QT(n,s)},JA=function(){for(var r,s,a,n,i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[r,a,s,n]=[0,0,1,1];break;case"ease":[r,a,s,n]=[.25,.1,.25,1];break;case"ease-in":[r,a,s,n]=[.42,0,1,1];break;case"ease-out":[r,a,s,n]=[.42,0,.58,1];break;case"ease-in-out":[r,a,s,n]=[0,0,.58,1];break;default:{var u=l[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([r,a,s,n]=u[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else l.length===4&&([r,a,s,n]=l);var h=KA(r,s),m=KA(a,n),x=lX(r,s),g=y=>y>1?1:y<0?0:y,b=y=>{for(var w=y>1?1:y,N=w,_=0;_<8;++_){var S=h(N)-w,k=x(N);if(Math.abs(S-w)<Wh||k<Wh)return m(N);N=g(N-S/k)}return m(N)};return b.isStepper=!1,b},oX=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:s=100,damping:a=8,dt:n=17}=r,i=(l,c,u)=>{var h=-(l-c)*s,m=u*a,x=u+(h-m)*n/1e3,g=u*n/1e3+l;return Math.abs(g-c)<Wh&&Math.abs(x)<Wh?[c,0]:[g,x]};return i.isStepper=!0,i.dt=n,i},eD=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return JA(t);case"spring":return oX();default:if(t.split("(")[0]==="cubic-bezier")return JA(t)}return typeof t=="function"?t:null};function XA(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function ZA(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?XA(Object(s),!0).forEach(function(a){cX(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):XA(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function cX(t,r,s){return(r=dX(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function dX(t){var r=uX(t,"string");return typeof r=="symbol"?r:r+""}function uX(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var mX=t=>t.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),hX=(t,r,s)=>t.map(a=>"".concat(mX(a)," ").concat(r,"ms ").concat(s)).join(","),xX=(t,r)=>[Object.keys(t),Object.keys(r)].reduce((s,a)=>s.filter(n=>a.includes(n))),Tu=(t,r)=>Object.keys(r).reduce((s,a)=>ZA(ZA({},s),{},{[a]:t(a,r[a])}),{});function QA(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function js(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?QA(Object(s),!0).forEach(function(a){gX(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):QA(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function gX(t,r,s){return(r=pX(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function pX(t){var r=fX(t,"string");return typeof r=="symbol"?r:r+""}function fX(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Yh=(t,r,s)=>t+(r-t)*s,Cv=t=>{var{from:r,to:s}=t;return r!==s},tD=(t,r,s)=>{var a=Tu((n,i)=>{if(Cv(i)){var[l,c]=t(i.from,i.to,i.velocity);return js(js({},i),{},{from:l,velocity:c})}return i},r);return s<1?Tu((n,i)=>Cv(i)?js(js({},i),{},{velocity:Yh(i.velocity,a[n].velocity,s),from:Yh(i.from,a[n].from,s)}):i,r):tD(t,a,s-1)};function yX(t,r,s,a,n,i){var l,c=a.reduce((g,b)=>js(js({},g),{},{[b]:{from:t[b],velocity:0,to:r[b]}}),{}),u=()=>Tu((g,b)=>b.from,c),h=()=>!Object.values(c).filter(Cv).length,m=null,x=g=>{l||(l=g);var b=g-l,y=b/s.dt;c=tD(s,c,y),n(js(js(js({},t),r),u())),l=g,h()||(m=i.setTimeout(x))};return()=>(m=i.setTimeout(x),()=>{m()})}function bX(t,r,s,a,n,i,l){var c=null,u=n.reduce((x,g)=>js(js({},x),{},{[g]:[t[g],r[g]]}),{}),h,m=x=>{h||(h=x);var g=(x-h)/a,b=Tu((w,N)=>Yh(...N,s(g)),u);if(i(js(js(js({},t),r),b)),g<1)c=l.setTimeout(m);else{var y=Tu((w,N)=>Yh(...N,s(1)),u);i(js(js(js({},t),r),y))}};return()=>(c=l.setTimeout(m),()=>{c()})}const rD=(t,r,s,a,n,i)=>{var l=xX(t,r);return s.isStepper===!0?yX(t,r,s,l,n,i):bX(t,r,s,a,l,n,i)};function vX(t){var r,s=()=>null,a=!1,n=null,i=l=>{if(!a){if(Array.isArray(l)){if(!l.length)return;var c=l,[u,...h]=c;if(typeof u=="number"){n=t.setTimeout(i.bind(null,h),u);return}i(u),n=t.setTimeout(i.bind(null,h));return}typeof l=="string"&&(r=l,s(r)),typeof l=="object"&&(r=l,s(r)),typeof l=="function"&&l()}};return{stop:()=>{a=!0},start:l=>{a=!1,n&&(n(),n=null),i(l)},subscribe:l=>(s=l,()=>{s=()=>null}),getTimeoutController:()=>t}}class wX{setTimeout(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),n=null,i=l=>{l-a>=s?r(l):typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{cancelAnimationFrame(n)}}}function jX(){return vX(new wX)}var NX=f.createContext(jX);function sD(t,r){var s=f.useContext(NX);return f.useMemo(()=>r??s(t),[t,r,s])}var kX=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Pv.apply(null,arguments)}function SX(t,r){if(t==null)return{};var s,a,n=_X(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function _X(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}function e5(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function ol(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?e5(Object(s),!0).forEach(function(a){ro(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):e5(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function ro(t,r,s){return(r=AX(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function AX(t){var r=CX(t,"string");return typeof r=="symbol"?r:r+""}function CX(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class Lj extends f.PureComponent{constructor(r,s){super(r,s),ro(this,"mounted",!1),ro(this,"manager",void 0),ro(this,"stopJSAnimation",null),ro(this,"unSubscribe",null);var{isActive:a,attributeName:n,from:i,to:l,children:c,duration:u,animationManager:h}=this.props;if(this.manager=h,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!a||u<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:l});return}if(i){if(typeof c=="function"){this.state={style:i};return}this.state={style:n?{[n]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:r,canBegin:s}=this.props;this.mounted=!0,!(!r||!s)&&this.runAnimation(this.props)}componentDidUpdate(r){var{isActive:s,canBegin:a,attributeName:n,shouldReAnimate:i,to:l,from:c}=this.props,{style:u}=this.state;if(a){if(!s){var h={style:n?{[n]:l}:l};this.state&&u&&(n&&u[n]!==l||!n&&u!==l)&&this.setState(h);return}if(!(iX(r.to,l)&&r.canBegin&&r.isActive)){var m=!r.canBegin||!r.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=m||i?c:r.to;if(this.state&&u){var g={style:n?{[n]:x}:x};(n&&u[n]!==x||!n&&u!==x)&&this.setState(g)}this.runAnimation(ol(ol({},this.props),{},{from:x,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:r}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),r&&r()}handleStyleChange(r){this.changeStyle(r)}changeStyle(r){this.mounted&&this.setState({style:r})}runJSAnimation(r){var{from:s,to:a,duration:n,easing:i,begin:l,onAnimationEnd:c,onAnimationStart:u}=r,h=rD(s,a,eD(i),n,this.changeStyle,this.manager.getTimeoutController()),m=()=>{this.stopJSAnimation=h()};this.manager.start([u,l,m,n,c])}runAnimation(r){var{begin:s,duration:a,attributeName:n,to:i,easing:l,onAnimationStart:c,onAnimationEnd:u,children:h}=r;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof h=="function"||l==="spring"){this.runJSAnimation(r);return}var m=n?{[n]:i}:i,x=hX(Object.keys(m),a,l);this.manager.start([c,s,ol(ol({},m),{},{transition:x}),a,u])}render(){var r=this.props,{children:s,begin:a,duration:n,attributeName:i,easing:l,isActive:c,from:u,to:h,canBegin:m,onAnimationEnd:x,shouldReAnimate:g,onAnimationReStart:b,animationManager:y}=r,w=SX(r,kX),N=f.Children.count(s),_=this.state.style;if(typeof s=="function")return s(_);if(!c||N===0||n<=0)return s;var S=k=>{var{style:v={},className:A}=k.props,E=f.cloneElement(k,ol(ol({},w),{},{style:ol(ol({},v),_),className:A}));return E};return N===1?S(f.Children.only(s)):f.createElement("div",null,f.Children.map(s,k=>S(k)))}}ro(Lj,"displayName","Animate");ro(Lj,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Kh(t){var r,s=sD((r=t.attributeName)!==null&&r!==void 0?r:Object.keys(t.to).join(","),t.animationManager);return f.createElement(Lj,Pv({},t,{animationManager:s}))}function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Jh.apply(null,arguments)}var t5=(t,r,s,a,n)=>{var i=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,u=a>=0&&s>=0||a<0&&s<0?1:0,h;if(i>0&&n instanceof Array){for(var m=[0,0,0,0],x=0,g=4;x<g;x++)m[x]=n[x]>i?i:n[x];h="M".concat(t,",").concat(r+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(t+c*m[0],",").concat(r)),h+="L ".concat(t+s-c*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(t+s,",").concat(r+l*m[1])),h+="L ".concat(t+s,",").concat(r+a-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(t+s-c*m[2],",").concat(r+a)),h+="L ".concat(t+c*m[3],",").concat(r+a),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*m[3])),h+="Z"}else if(i>0&&n===+n&&n>0){var b=Math.min(i,n);h="M ".concat(t,",").concat(r+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+c*b,",").concat(r,`
            L `).concat(t+s-c*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+s,",").concat(r+l*b,`
            L `).concat(t+s,",").concat(r+a-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+s-c*b,",").concat(r+a,`
            L `).concat(t+c*b,",").concat(r+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*b," Z")}else h="M ".concat(t,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return h},PX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aD=t=>{var r=Ua(t,PX),s=f.useRef(null),[a,n]=f.useState(-1);f.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var _=s.current.getTotalLength();_&&n(_)}catch{}},[]);var{x:i,y:l,width:c,height:u,radius:h,className:m}=r,{animationEasing:x,animationDuration:g,animationBegin:b,isAnimationActive:y,isUpdateAnimationActive:w}=r;if(i!==+i||l!==+l||c!==+c||u!==+u||c===0||u===0)return null;var N=tr("recharts-rectangle",m);return w?f.createElement(Kh,{canBegin:a>0,from:{width:c,height:u,x:i,y:l},to:{width:c,height:u,x:i,y:l},duration:g,animationEasing:x,isActive:w},_=>{var{width:S,height:k,x:v,y:A}=_;return f.createElement(Kh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:y,easing:x},f.createElement("path",Jh({},Er(r,!0),{className:N,d:t5(v,A,S,k,h),ref:s})))}):f.createElement("path",Jh({},Er(r,!0),{className:N,d:t5(i,l,c,u,h)}))};function nD(t){var{cx:r,cy:s,radius:a,startAngle:n,endAngle:i}=t,l=Jr(r,s,a,n),c=Jr(r,s,a,i);return{points:[l,c],cx:r,cy:s,radius:a,startAngle:n,endAngle:i}}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Ev.apply(null,arguments)}var EX=(t,r)=>{var s=xs(r-t),a=Math.min(Math.abs(r-t),359.999);return s*a},B0=t=>{var{cx:r,cy:s,radius:a,angle:n,sign:i,isExternal:l,cornerRadius:c,cornerIsExternal:u}=t,h=c*(l?1:-1)+a,m=Math.asin(c/h)/Gh,x=u?n:n+i*m,g=Jr(r,s,h,x),b=Jr(r,s,a,x),y=u?n-i*m:n,w=Jr(r,s,h*Math.cos(m*Gh),y);return{center:g,circleTangency:b,lineTangency:w,theta:m}},iD=t=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:i,endAngle:l}=t,c=EX(i,l),u=i+c,h=Jr(r,s,n,i),m=Jr(r,s,n,u),x="M ".concat(h.x,",").concat(h.y,`
    A `).concat(n,",").concat(n,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var g=Jr(r,s,a,i),b=Jr(r,s,a,u);x+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else x+="L ".concat(r,",").concat(s," Z");return x},TX=t=>{var{cx:r,cy:s,innerRadius:a,outerRadius:n,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h}=t,m=xs(h-u),{circleTangency:x,lineTangency:g,theta:b}=B0({cx:r,cy:s,radius:n,angle:u,sign:m,cornerRadius:i,cornerIsExternal:c}),{circleTangency:y,lineTangency:w,theta:N}=B0({cx:r,cy:s,radius:n,angle:h,sign:-m,cornerRadius:i,cornerIsExternal:c}),_=c?Math.abs(u-h):Math.abs(u-h)-b-N;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):iD({cx:r,cy:s,innerRadius:a,outerRadius:n,startAngle:u,endAngle:h});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(n,",").concat(n,",0,").concat(+(_>180),",").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var{circleTangency:k,lineTangency:v,theta:A}=B0({cx:r,cy:s,radius:a,angle:u,sign:m,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:E,lineTangency:T,theta:F}=B0({cx:r,cy:s,radius:a,angle:h,sign:-m,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),R=c?Math.abs(u-h):Math.abs(u-h)-A-F;if(R<0&&i===0)return"".concat(S,"L").concat(r,",").concat(s,"Z");S+="L".concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(m>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,"Z")}else S+="L".concat(r,",").concat(s,"Z");return S},DX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lD=t=>{var r=Ua(t,DX),{cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:m,className:x}=r;if(i<n||h===m)return null;var g=tr("recharts-sector",x),b=i-n,y=Ys(l,b,0,!0),w;return y>0&&Math.abs(h-m)<360?w=TX({cx:s,cy:a,innerRadius:n,outerRadius:i,cornerRadius:Math.min(y,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:m}):w=iD({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:h,endAngle:m}),f.createElement("path",Ev({},Er(r,!0),{className:g,d:w}))};function RX(t,r,s){var a,n,i,l;if(t==="horizontal")a=r.x,i=a,n=s.top,l=s.top+s.height;else if(t==="vertical")n=r.y,l=n,a=s.left,i=s.left+s.width;else if(r.cx!=null&&r.cy!=null)if(t==="centric"){var{cx:c,cy:u,innerRadius:h,outerRadius:m,angle:x}=r,g=Jr(c,u,h,x),b=Jr(c,u,m,x);a=g.x,n=g.y,i=b.x,l=b.y}else return nD(r);return[{x:a,y:n},{x:i,y:l}]}var Fy={},By={},Uy={},r5;function OX(){return r5||(r5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=dT();function s(a){return r.isSymbol(a)?NaN:Number(a)}t.toNumber=s})(Uy)),Uy}var s5;function IX(){return s5||(s5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=OX();function s(a){return a?(a=r.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}t.toFinite=s})(By)),By}var a5;function MX(){return a5||(a5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=uT(),s=IX();function a(n,i,l){l&&typeof l!="number"&&r.isIterateeCall(n,i,l)&&(i=l=void 0),n=s.toFinite(n),i===void 0?(i=n,n=0):i=s.toFinite(i),l=l===void 0?n<i?1:-1:s.toFinite(l);const c=Math.max(Math.ceil((i-n)/(l||1)),0),u=new Array(c);for(let h=0;h<c;h++)u[h]=n,n+=l;return u}t.range=a})(Fy)),Fy}var zy,n5;function LX(){return n5||(n5=1,zy=MX().range),zy}var $X=LX();const oD=xn($X);function fl(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function FX(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function $j(t){let r,s,a;t.length!==2?(r=fl,s=(c,u)=>fl(t(c),u),a=(c,u)=>t(c)-u):(r=t===fl||t===FX?t:BX,s=t,a=t);function n(c,u,h=0,m=c.length){if(h<m){if(r(u,u)!==0)return m;do{const x=h+m>>>1;s(c[x],u)<0?h=x+1:m=x}while(h<m)}return h}function i(c,u,h=0,m=c.length){if(h<m){if(r(u,u)!==0)return m;do{const x=h+m>>>1;s(c[x],u)<=0?h=x+1:m=x}while(h<m)}return h}function l(c,u,h=0,m=c.length){const x=n(c,u,h,m-1);return x>h&&a(c[x-1],u)>-a(c[x],u)?x-1:x}return{left:n,center:l,right:i}}function BX(){return 0}function cD(t){return t===null?NaN:+t}function*UX(t,r){for(let s of t)s!=null&&(s=+s)>=s&&(yield s)}const zX=$j(fl),sm=zX.right;$j(cD).center;class i5 extends Map{constructor(r,s=HX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),r!=null)for(const[a,n]of r)this.set(a,n)}get(r){return super.get(l5(this,r))}has(r){return super.has(l5(this,r))}set(r,s){return super.set(VX(this,r),s)}delete(r){return super.delete(qX(this,r))}}function l5({_intern:t,_key:r},s){const a=r(s);return t.has(a)?t.get(a):s}function VX({_intern:t,_key:r},s){const a=r(s);return t.has(a)?t.get(a):(t.set(a,s),s)}function qX({_intern:t,_key:r},s){const a=r(s);return t.has(a)&&(s=t.get(a),t.delete(a)),s}function HX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function GX(t=fl){if(t===fl)return dD;if(typeof t!="function")throw new TypeError("compare is not a function");return(r,s)=>{const a=t(r,s);return a||a===0?a:(t(s,s)===0)-(t(r,r)===0)}}function dD(t,r){return(t==null||!(t>=t))-(r==null||!(r>=r))||(t<r?-1:t>r?1:0)}const WX=Math.sqrt(50),YX=Math.sqrt(10),KX=Math.sqrt(2);function Xh(t,r,s){const a=(r-t)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),l=i>=WX?10:i>=YX?5:i>=KX?2:1;let c,u,h;return n<0?(h=Math.pow(10,-n)/l,c=Math.round(t*h),u=Math.round(r*h),c/h<t&&++c,u/h>r&&--u,h=-h):(h=Math.pow(10,n)*l,c=Math.round(t/h),u=Math.round(r/h),c*h<t&&++c,u*h>r&&--u),u<c&&.5<=s&&s<2?Xh(t,r,s*2):[c,u,h]}function Tv(t,r,s){if(r=+r,t=+t,s=+s,!(s>0))return[];if(t===r)return[t];const a=r<t,[n,i,l]=a?Xh(r,t,s):Xh(t,r,s);if(!(i>=n))return[];const c=i-n+1,u=new Array(c);if(a)if(l<0)for(let h=0;h<c;++h)u[h]=(i-h)/-l;else for(let h=0;h<c;++h)u[h]=(i-h)*l;else if(l<0)for(let h=0;h<c;++h)u[h]=(n+h)/-l;else for(let h=0;h<c;++h)u[h]=(n+h)*l;return u}function Dv(t,r,s){return r=+r,t=+t,s=+s,Xh(t,r,s)[2]}function Rv(t,r,s){r=+r,t=+t,s=+s;const a=r<t,n=a?Dv(r,t,s):Dv(t,r,s);return(a?-1:1)*(n<0?1/-n:n)}function o5(t,r){let s;for(const a of t)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function c5(t,r){let s;for(const a of t)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function uD(t,r,s=0,a=1/0,n){if(r=Math.floor(r),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(t.length-1,a)),!(s<=r&&r<=a))return t;for(n=n===void 0?dD:GX(n);a>s;){if(a-s>600){const u=a-s+1,h=r-s+1,m=Math.log(u),x=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*x*(u-x)/u)*(h-u/2<0?-1:1),b=Math.max(s,Math.floor(r-h*x/u+g)),y=Math.min(a,Math.floor(r+(u-h)*x/u+g));uD(t,r,b,y,n)}const i=t[r];let l=s,c=a;for(Gd(t,s,r),n(t[a],i)>0&&Gd(t,s,a);l<c;){for(Gd(t,l,c),++l,--c;n(t[l],i)<0;)++l;for(;n(t[c],i)>0;)--c}n(t[s],i)===0?Gd(t,s,c):(++c,Gd(t,c,a)),c<=r&&(s=c+1),r<=c&&(a=c-1)}return t}function Gd(t,r,s){const a=t[r];t[r]=t[s],t[s]=a}function JX(t,r,s){if(t=Float64Array.from(UX(t)),!(!(a=t.length)||isNaN(r=+r))){if(r<=0||a<2)return c5(t);if(r>=1)return o5(t);var a,n=(a-1)*r,i=Math.floor(n),l=o5(uD(t,i).subarray(0,i+1)),c=c5(t.subarray(i+1));return l+(c-l)*(n-i)}}function XX(t,r,s=cD){if(!(!(a=t.length)||isNaN(r=+r))){if(r<=0||a<2)return+s(t[0],0,t);if(r>=1)return+s(t[a-1],a-1,t);var a,n=(a-1)*r,i=Math.floor(n),l=+s(t[i],i,t),c=+s(t[i+1],i+1,t);return l+(c-l)*(n-i)}}function ZX(t,r,s){t=+t,r=+r,s=(n=arguments.length)<2?(r=t,t=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((r-t)/s))|0,i=new Array(n);++a<n;)i[a]=t+a*s;return i}function gn(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function Ii(t,r){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const Ov=Symbol("implicit");function Fj(){var t=new i5,r=[],s=[],a=Ov;function n(i){let l=t.get(i);if(l===void 0){if(a!==Ov)return a;t.set(i,l=r.push(i)-1)}return s[l%s.length]}return n.domain=function(i){if(!arguments.length)return r.slice();r=[],t=new i5;for(const l of i)t.has(l)||t.set(l,r.push(l)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return Fj(r,s).unknown(a)},gn.apply(n,arguments),n}function Bj(){var t=Fj().unknown(void 0),r=t.domain,s=t.range,a=0,n=1,i,l,c=!1,u=0,h=0,m=.5;delete t.unknown;function x(){var g=r().length,b=n<a,y=b?n:a,w=b?a:n;i=(w-y)/Math.max(1,g-u+h*2),c&&(i=Math.floor(i)),y+=(w-y-i*(g-u))*m,l=i*(1-u),c&&(y=Math.round(y),l=Math.round(l));var N=ZX(g).map(function(_){return y+i*_});return s(b?N.reverse():N)}return t.domain=function(g){return arguments.length?(r(g),x()):r()},t.range=function(g){return arguments.length?([a,n]=g,a=+a,n=+n,x()):[a,n]},t.rangeRound=function(g){return[a,n]=g,a=+a,n=+n,c=!0,x()},t.bandwidth=function(){return l},t.step=function(){return i},t.round=function(g){return arguments.length?(c=!!g,x()):c},t.padding=function(g){return arguments.length?(u=Math.min(1,h=+g),x()):u},t.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),x()):u},t.paddingOuter=function(g){return arguments.length?(h=+g,x()):h},t.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),x()):m},t.copy=function(){return Bj(r(),[a,n]).round(c).paddingInner(u).paddingOuter(h).align(m)},gn.apply(x(),arguments)}function mD(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return mD(r())},t}function QX(){return mD(Bj.apply(null,arguments).paddingInner(1))}function Uj(t,r,s){t.prototype=r.prototype=s,s.constructor=t}function hD(t,r){var s=Object.create(t.prototype);for(var a in r)s[a]=r[a];return s}function am(){}var Du=.7,Zh=1/Du,vc="\\s*([+-]?\\d+)\\s*",Ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eZ=/^#([0-9a-f]{3,8})$/,tZ=new RegExp(`^rgb\\(${vc},${vc},${vc}\\)$`),rZ=new RegExp(`^rgb\\(${Hn},${Hn},${Hn}\\)$`),sZ=new RegExp(`^rgba\\(${vc},${vc},${vc},${Ru}\\)$`),aZ=new RegExp(`^rgba\\(${Hn},${Hn},${Hn},${Ru}\\)$`),nZ=new RegExp(`^hsl\\(${Ru},${Hn},${Hn}\\)$`),iZ=new RegExp(`^hsla\\(${Ru},${Hn},${Hn},${Ru}\\)$`),d5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Uj(am,Ou,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:u5,formatHex:u5,formatHex8:lZ,formatHsl:oZ,formatRgb:m5,toString:m5});function u5(){return this.rgb().formatHex()}function lZ(){return this.rgb().formatHex8()}function oZ(){return xD(this).formatHsl()}function m5(){return this.rgb().formatRgb()}function Ou(t){var r,s;return t=(t+"").trim().toLowerCase(),(r=eZ.exec(t))?(s=r[1].length,r=parseInt(r[1],16),s===6?h5(r):s===3?new ca(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?U0(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?U0(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=tZ.exec(t))?new ca(r[1],r[2],r[3],1):(r=rZ.exec(t))?new ca(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=sZ.exec(t))?U0(r[1],r[2],r[3],r[4]):(r=aZ.exec(t))?U0(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=nZ.exec(t))?p5(r[1],r[2]/100,r[3]/100,1):(r=iZ.exec(t))?p5(r[1],r[2]/100,r[3]/100,r[4]):d5.hasOwnProperty(t)?h5(d5[t]):t==="transparent"?new ca(NaN,NaN,NaN,0):null}function h5(t){return new ca(t>>16&255,t>>8&255,t&255,1)}function U0(t,r,s,a){return a<=0&&(t=r=s=NaN),new ca(t,r,s,a)}function cZ(t){return t instanceof am||(t=Ou(t)),t?(t=t.rgb(),new ca(t.r,t.g,t.b,t.opacity)):new ca}function Iv(t,r,s,a){return arguments.length===1?cZ(t):new ca(t,r,s,a??1)}function ca(t,r,s,a){this.r=+t,this.g=+r,this.b=+s,this.opacity=+a}Uj(ca,Iv,hD(am,{brighter(t){return t=t==null?Zh:Math.pow(Zh,t),new ca(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Du:Math.pow(Du,t),new ca(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ca(xo(this.r),xo(this.g),xo(this.b),Qh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:x5,formatHex:x5,formatHex8:dZ,formatRgb:g5,toString:g5}));function x5(){return`#${so(this.r)}${so(this.g)}${so(this.b)}`}function dZ(){return`#${so(this.r)}${so(this.g)}${so(this.b)}${so((isNaN(this.opacity)?1:this.opacity)*255)}`}function g5(){const t=Qh(this.opacity);return`${t===1?"rgb(":"rgba("}${xo(this.r)}, ${xo(this.g)}, ${xo(this.b)}${t===1?")":`, ${t})`}`}function Qh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function so(t){return t=xo(t),(t<16?"0":"")+t.toString(16)}function p5(t,r,s,a){return a<=0?t=r=s=NaN:s<=0||s>=1?t=r=NaN:r<=0&&(t=NaN),new Cn(t,r,s,a)}function xD(t){if(t instanceof Cn)return new Cn(t.h,t.s,t.l,t.opacity);if(t instanceof am||(t=Ou(t)),!t)return new Cn;if(t instanceof Cn)return t;t=t.rgb();var r=t.r/255,s=t.g/255,a=t.b/255,n=Math.min(r,s,a),i=Math.max(r,s,a),l=NaN,c=i-n,u=(i+n)/2;return c?(r===i?l=(s-a)/c+(s<a)*6:s===i?l=(a-r)/c+2:l=(r-s)/c+4,c/=u<.5?i+n:2-i-n,l*=60):c=u>0&&u<1?0:l,new Cn(l,c,u,t.opacity)}function uZ(t,r,s,a){return arguments.length===1?xD(t):new Cn(t,r,s,a??1)}function Cn(t,r,s,a){this.h=+t,this.s=+r,this.l=+s,this.opacity=+a}Uj(Cn,uZ,hD(am,{brighter(t){return t=t==null?Zh:Math.pow(Zh,t),new Cn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Du:Math.pow(Du,t),new Cn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*r,n=2*s-a;return new ca(Vy(t>=240?t-240:t+120,n,a),Vy(t,n,a),Vy(t<120?t+240:t-120,n,a),this.opacity)},clamp(){return new Cn(f5(this.h),z0(this.s),z0(this.l),Qh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qh(this.opacity);return`${t===1?"hsl(":"hsla("}${f5(this.h)}, ${z0(this.s)*100}%, ${z0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function f5(t){return t=(t||0)%360,t<0?t+360:t}function z0(t){return Math.max(0,Math.min(1,t||0))}function Vy(t,r,s){return(t<60?r+(s-r)*t/60:t<180?s:t<240?r+(s-r)*(240-t)/60:r)*255}const zj=t=>()=>t;function mZ(t,r){return function(s){return t+s*r}}function hZ(t,r,s){return t=Math.pow(t,s),r=Math.pow(r,s)-t,s=1/s,function(a){return Math.pow(t+a*r,s)}}function xZ(t){return(t=+t)==1?gD:function(r,s){return s-r?hZ(r,s,t):zj(isNaN(r)?s:r)}}function gD(t,r){var s=r-t;return s?mZ(t,s):zj(isNaN(t)?r:t)}const y5=(function t(r){var s=xZ(r);function a(n,i){var l=s((n=Iv(n)).r,(i=Iv(i)).r),c=s(n.g,i.g),u=s(n.b,i.b),h=gD(n.opacity,i.opacity);return function(m){return n.r=l(m),n.g=c(m),n.b=u(m),n.opacity=h(m),n+""}}return a.gamma=t,a})(1);function gZ(t,r){r||(r=[]);var s=t?Math.min(r.length,t.length):0,a=r.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=t[n]*(1-i)+r[n]*i;return a}}function pZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fZ(t,r){var s=r?r.length:0,a=t?Math.min(s,t.length):0,n=new Array(a),i=new Array(s),l;for(l=0;l<a;++l)n[l]=Wc(t[l],r[l]);for(;l<s;++l)i[l]=r[l];return function(c){for(l=0;l<a;++l)i[l]=n[l](c);return i}}function yZ(t,r){var s=new Date;return t=+t,r=+r,function(a){return s.setTime(t*(1-a)+r*a),s}}function ex(t,r){return t=+t,r=+r,function(s){return t*(1-s)+r*s}}function bZ(t,r){var s={},a={},n;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in t?s[n]=Wc(t[n],r[n]):a[n]=r[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var Mv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qy=new RegExp(Mv.source,"g");function vZ(t){return function(){return t}}function wZ(t){return function(r){return t(r)+""}}function jZ(t,r){var s=Mv.lastIndex=qy.lastIndex=0,a,n,i,l=-1,c=[],u=[];for(t=t+"",r=r+"";(a=Mv.exec(t))&&(n=qy.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),c[l]?c[l]+=i:c[++l]=i),(a=a[0])===(n=n[0])?c[l]?c[l]+=n:c[++l]=n:(c[++l]=null,u.push({i:l,x:ex(a,n)})),s=qy.lastIndex;return s<r.length&&(i=r.slice(s),c[l]?c[l]+=i:c[++l]=i),c.length<2?u[0]?wZ(u[0].x):vZ(r):(r=u.length,function(h){for(var m=0,x;m<r;++m)c[(x=u[m]).i]=x.x(h);return c.join("")})}function Wc(t,r){var s=typeof r,a;return r==null||s==="boolean"?zj(r):(s==="number"?ex:s==="string"?(a=Ou(r))?(r=a,y5):jZ:r instanceof Ou?y5:r instanceof Date?yZ:pZ(r)?gZ:Array.isArray(r)?fZ:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?bZ:ex)(t,r)}function Vj(t,r){return t=+t,r=+r,function(s){return Math.round(t*(1-s)+r*s)}}function NZ(t,r){r===void 0&&(r=t,t=Wc);for(var s=0,a=r.length-1,n=r[0],i=new Array(a<0?0:a);s<a;)i[s]=t(n,n=r[++s]);return function(l){var c=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[c](l-c)}}function kZ(t){return function(){return t}}function tx(t){return+t}var b5=[0,1];function Gs(t){return t}function Lv(t,r){return(r-=t=+t)?function(s){return(s-t)/r}:kZ(isNaN(r)?NaN:.5)}function SZ(t,r){var s;return t>r&&(s=t,t=r,r=s),function(a){return Math.max(t,Math.min(r,a))}}function _Z(t,r,s){var a=t[0],n=t[1],i=r[0],l=r[1];return n<a?(a=Lv(n,a),i=s(l,i)):(a=Lv(a,n),i=s(i,l)),function(c){return i(a(c))}}function AZ(t,r,s){var a=Math.min(t.length,r.length)-1,n=new Array(a),i=new Array(a),l=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++l<a;)n[l]=Lv(t[l],t[l+1]),i[l]=s(r[l],r[l+1]);return function(c){var u=sm(t,c,1,a)-1;return i[u](n[u](c))}}function nm(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qx(){var t=b5,r=b5,s=Wc,a,n,i,l=Gs,c,u,h;function m(){var g=Math.min(t.length,r.length);return l!==Gs&&(l=SZ(t[0],t[g-1])),c=g>2?AZ:_Z,u=h=null,x}function x(g){return g==null||isNaN(g=+g)?i:(u||(u=c(t.map(a),r,s)))(a(l(g)))}return x.invert=function(g){return l(n((h||(h=c(r,t.map(a),ex)))(g)))},x.domain=function(g){return arguments.length?(t=Array.from(g,tx),m()):t.slice()},x.range=function(g){return arguments.length?(r=Array.from(g),m()):r.slice()},x.rangeRound=function(g){return r=Array.from(g),s=Vj,m()},x.clamp=function(g){return arguments.length?(l=g?!0:Gs,m()):l!==Gs},x.interpolate=function(g){return arguments.length?(s=g,m()):s},x.unknown=function(g){return arguments.length?(i=g,x):i},function(g,b){return a=g,n=b,m()}}function qj(){return Qx()(Gs,Gs)}function CZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rx(t,r){if((s=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var s,a=t.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+t.slice(s+1)]}function Tc(t){return t=rx(Math.abs(t)),t?t[1]:NaN}function PZ(t,r){return function(s,a){for(var n=s.length,i=[],l=0,c=t[0],u=0;n>0&&c>0&&(u+c+1>a&&(c=Math.max(1,a-u)),i.push(s.substring(n-=c,n+c)),!((u+=c+1)>a));)c=t[l=(l+1)%t.length];return i.reverse().join(r)}}function EZ(t){return function(r){return r.replace(/[0-9]/g,function(s){return t[+s]})}}var TZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Iu(t){if(!(r=TZ.exec(t)))throw new Error("invalid format: "+t);var r;return new Hj({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Iu.prototype=Hj.prototype;function Hj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Hj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DZ(t){e:for(var r=t.length,s=1,a=-1,n;s<r;++s)switch(t[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+t[s])break e;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(n+1):t}var pD;function RZ(t,r){var s=rx(t,r);if(!s)return t+"";var a=s[0],n=s[1],i=n-(pD=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+rx(t,Math.max(0,r+i-1))[0]}function v5(t,r){var s=rx(t,r);if(!s)return t+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const w5={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:CZ,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>v5(t*100,r),r:v5,s:RZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function j5(t){return t}var N5=Array.prototype.map,k5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OZ(t){var r=t.grouping===void 0||t.thousands===void 0?j5:PZ(N5.call(t.grouping,Number),t.thousands+""),s=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?j5:EZ(N5.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function h(x){x=Iu(x);var g=x.fill,b=x.align,y=x.sign,w=x.symbol,N=x.zero,_=x.width,S=x.comma,k=x.precision,v=x.trim,A=x.type;A==="n"?(S=!0,A="g"):w5[A]||(k===void 0&&(k=12),v=!0,A="g"),(N||g==="0"&&b==="=")&&(N=!0,g="0",b="=");var E=w==="$"?s:w==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",T=w==="$"?a:/[%p]/.test(A)?l:"",F=w5[A],R=/[defgprs%]/.test(A);k=k===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function D($){var B=E,H=T,I,L,M;if(A==="c")H=F($)+H,$="";else{$=+$;var q=$<0||1/$<0;if($=isNaN($)?u:F(Math.abs($),k),v&&($=DZ($)),q&&+$==0&&y!=="+"&&(q=!1),B=(q?y==="("?y:c:y==="-"||y==="("?"":y)+B,H=(A==="s"?k5[8+pD/3]:"")+H+(q&&y==="("?")":""),R){for(I=-1,L=$.length;++I<L;)if(M=$.charCodeAt(I),48>M||M>57){H=(M===46?n+$.slice(I+1):$.slice(I))+H,$=$.slice(0,I);break}}}S&&!N&&($=r($,1/0));var Z=B.length+$.length+H.length,G=Z<_?new Array(_-Z+1).join(g):"";switch(S&&N&&($=r(G+$,G.length?_-H.length:1/0),G=""),b){case"<":$=B+$+H+G;break;case"=":$=B+G+$+H;break;case"^":$=G.slice(0,Z=G.length>>1)+B+$+H+G.slice(Z);break;default:$=G+B+$+H;break}return i($)}return D.toString=function(){return x+""},D}function m(x,g){var b=h((x=Iu(x),x.type="f",x)),y=Math.max(-8,Math.min(8,Math.floor(Tc(g)/3)))*3,w=Math.pow(10,-y),N=k5[8+y/3];return function(_){return b(w*_)+N}}return{format:h,formatPrefix:m}}var V0,Gj,fD;IZ({thousands:",",grouping:[3],currency:["$",""]});function IZ(t){return V0=OZ(t),Gj=V0.format,fD=V0.formatPrefix,V0}function MZ(t){return Math.max(0,-Tc(Math.abs(t)))}function LZ(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tc(r)/3)))*3-Tc(Math.abs(t)))}function $Z(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,Tc(r)-Tc(t))+1}function yD(t,r,s,a){var n=Rv(t,r,s),i;switch(a=Iu(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(r));return a.precision==null&&!isNaN(i=LZ(n,l))&&(a.precision=i),fD(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=$Z(n,Math.max(Math.abs(t),Math.abs(r))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=MZ(n))&&(a.precision=i-(a.type==="%")*2);break}}return Gj(a)}function _l(t){var r=t.domain;return t.ticks=function(s){var a=r();return Tv(a[0],a[a.length-1],s??10)},t.tickFormat=function(s,a){var n=r();return yD(n[0],n[n.length-1],s??10,a)},t.nice=function(s){s==null&&(s=10);var a=r(),n=0,i=a.length-1,l=a[n],c=a[i],u,h,m=10;for(c<l&&(h=l,l=c,c=h,h=n,n=i,i=h);m-- >0;){if(h=Dv(l,c,s),h===u)return a[n]=l,a[i]=c,r(a);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;u=h}return t},t}function bD(){var t=qj();return t.copy=function(){return nm(t,bD())},gn.apply(t,arguments),_l(t)}function vD(t){var r;function s(a){return a==null||isNaN(a=+a)?r:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(t=Array.from(a,tx),s):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return vD(t).unknown(r)},t=arguments.length?Array.from(t,tx):[0,1],_l(s)}function wD(t,r){t=t.slice();var s=0,a=t.length-1,n=t[s],i=t[a],l;return i<n&&(l=s,s=a,a=l,l=n,n=i,i=l),t[s]=r.floor(n),t[a]=r.ceil(i),t}function S5(t){return Math.log(t)}function _5(t){return Math.exp(t)}function FZ(t){return-Math.log(-t)}function BZ(t){return-Math.exp(-t)}function UZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zZ(t){return t===10?UZ:t===Math.E?Math.exp:r=>Math.pow(t,r)}function VZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),r=>Math.log(r)/t)}function A5(t){return(r,s)=>-t(-r,s)}function Wj(t){const r=t(S5,_5),s=r.domain;let a=10,n,i;function l(){return n=VZ(a),i=zZ(a),s()[0]<0?(n=A5(n),i=A5(i),t(FZ,BZ)):t(S5,_5),r}return r.base=function(c){return arguments.length?(a=+c,l()):a},r.domain=function(c){return arguments.length?(s(c),l()):s()},r.ticks=c=>{const u=s();let h=u[0],m=u[u.length-1];const x=m<h;x&&([h,m]=[m,h]);let g=n(h),b=n(m),y,w;const N=c==null?10:+c;let _=[];if(!(a%1)&&b-g<N){if(g=Math.floor(g),b=Math.ceil(b),h>0){for(;g<=b;++g)for(y=1;y<a;++y)if(w=g<0?y/i(-g):y*i(g),!(w<h)){if(w>m)break;_.push(w)}}else for(;g<=b;++g)for(y=a-1;y>=1;--y)if(w=g>0?y/i(-g):y*i(g),!(w<h)){if(w>m)break;_.push(w)}_.length*2<N&&(_=Tv(h,m,N))}else _=Tv(g,b,Math.min(b-g,N)).map(i);return x?_.reverse():_},r.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=Iu(u)).precision==null&&(u.trim=!0),u=Gj(u)),c===1/0)return u;const h=Math.max(1,a*c/r.ticks().length);return m=>{let x=m/i(Math.round(n(m)));return x*a<a-.5&&(x*=a),x<=h?u(m):""}},r.nice=()=>s(wD(s(),{floor:c=>i(Math.floor(n(c))),ceil:c=>i(Math.ceil(n(c)))})),r}function jD(){const t=Wj(Qx()).domain([1,10]);return t.copy=()=>nm(t,jD()).base(t.base()),gn.apply(t,arguments),t}function C5(t){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/t))}}function P5(t){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*t}}function Yj(t){var r=1,s=t(C5(r),P5(r));return s.constant=function(a){return arguments.length?t(C5(r=+a),P5(r)):r},_l(s)}function ND(){var t=Yj(Qx());return t.copy=function(){return nm(t,ND()).constant(t.constant())},gn.apply(t,arguments)}function E5(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function qZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function HZ(t){return t<0?-t*t:t*t}function Kj(t){var r=t(Gs,Gs),s=1;function a(){return s===1?t(Gs,Gs):s===.5?t(qZ,HZ):t(E5(s),E5(1/s))}return r.exponent=function(n){return arguments.length?(s=+n,a()):s},_l(r)}function Jj(){var t=Kj(Qx());return t.copy=function(){return nm(t,Jj()).exponent(t.exponent())},gn.apply(t,arguments),t}function GZ(){return Jj.apply(null,arguments).exponent(.5)}function T5(t){return Math.sign(t)*t*t}function WZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function kD(){var t=qj(),r=[0,1],s=!1,a;function n(i){var l=WZ(t(i));return isNaN(l)?a:s?Math.round(l):l}return n.invert=function(i){return t.invert(T5(i))},n.domain=function(i){return arguments.length?(t.domain(i),n):t.domain()},n.range=function(i){return arguments.length?(t.range((r=Array.from(i,tx)).map(T5)),n):r.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(t.clamp(i),n):t.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return kD(t.domain(),r).round(s).clamp(t.clamp()).unknown(a)},gn.apply(n,arguments),_l(n)}function SD(){var t=[],r=[],s=[],a;function n(){var l=0,c=Math.max(1,r.length);for(s=new Array(c-1);++l<c;)s[l-1]=XX(t,l/c);return i}function i(l){return l==null||isNaN(l=+l)?a:r[sm(s,l)]}return i.invertExtent=function(l){var c=r.indexOf(l);return c<0?[NaN,NaN]:[c>0?s[c-1]:t[0],c<s.length?s[c]:t[t.length-1]]},i.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(fl),n()},i.range=function(l){return arguments.length?(r=Array.from(l),n()):r.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return SD().domain(t).range(r).unknown(a)},gn.apply(i,arguments)}function _D(){var t=0,r=1,s=1,a=[.5],n=[0,1],i;function l(u){return u!=null&&u<=u?n[sm(a,u,0,s)]:i}function c(){var u=-1;for(a=new Array(s);++u<s;)a[u]=((u+1)*r-(u-s)*t)/(s+1);return l}return l.domain=function(u){return arguments.length?([t,r]=u,t=+t,r=+r,c()):[t,r]},l.range=function(u){return arguments.length?(s=(n=Array.from(u)).length-1,c()):n.slice()},l.invertExtent=function(u){var h=n.indexOf(u);return h<0?[NaN,NaN]:h<1?[t,a[0]]:h>=s?[a[s-1],r]:[a[h-1],a[h]]},l.unknown=function(u){return arguments.length&&(i=u),l},l.thresholds=function(){return a.slice()},l.copy=function(){return _D().domain([t,r]).range(n).unknown(i)},gn.apply(_l(l),arguments)}function AD(){var t=[.5],r=[0,1],s,a=1;function n(i){return i!=null&&i<=i?r[sm(t,i,0,a)]:s}return n.domain=function(i){return arguments.length?(t=Array.from(i),a=Math.min(t.length,r.length-1),n):t.slice()},n.range=function(i){return arguments.length?(r=Array.from(i),a=Math.min(t.length,r.length-1),n):r.slice()},n.invertExtent=function(i){var l=r.indexOf(i);return[t[l-1],t[l]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return AD().domain(t).range(r).unknown(s)},gn.apply(n,arguments)}const Hy=new Date,Gy=new Date;function is(t,r,s,a){function n(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(t(i=new Date(+i)),i),n.ceil=i=>(t(i=new Date(i-1)),r(i,1),t(i),i),n.round=i=>{const l=n(i),c=n.ceil(i);return i-l<c-i?l:c},n.offset=(i,l)=>(r(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,c)=>{const u=[];if(i=n.ceil(i),c=c==null?1:Math.floor(c),!(i<l)||!(c>0))return u;let h;do u.push(h=new Date(+i)),r(i,c),t(i);while(h<i&&i<l);return u},n.filter=i=>is(l=>{if(l>=l)for(;t(l),!i(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;r(l,-1),!i(l););else for(;--c>=0;)for(;r(l,1),!i(l););}),s&&(n.count=(i,l)=>(Hy.setTime(+i),Gy.setTime(+l),t(Hy),t(Gy),Math.floor(s(Hy,Gy))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?l=>a(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const sx=is(()=>{},(t,r)=>{t.setTime(+t+r)},(t,r)=>r-t);sx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?is(r=>{r.setTime(Math.floor(r/t)*t)},(r,s)=>{r.setTime(+r+s*t)},(r,s)=>(s-r)/t):sx);sx.range;const hi=1e3,nn=hi*60,xi=nn*60,Ci=xi*24,Xj=Ci*7,D5=Ci*30,Wy=Ci*365,ao=is(t=>{t.setTime(t-t.getMilliseconds())},(t,r)=>{t.setTime(+t+r*hi)},(t,r)=>(r-t)/hi,t=>t.getUTCSeconds());ao.range;const Zj=is(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hi)},(t,r)=>{t.setTime(+t+r*nn)},(t,r)=>(r-t)/nn,t=>t.getMinutes());Zj.range;const Qj=is(t=>{t.setUTCSeconds(0,0)},(t,r)=>{t.setTime(+t+r*nn)},(t,r)=>(r-t)/nn,t=>t.getUTCMinutes());Qj.range;const eN=is(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hi-t.getMinutes()*nn)},(t,r)=>{t.setTime(+t+r*xi)},(t,r)=>(r-t)/xi,t=>t.getHours());eN.range;const tN=is(t=>{t.setUTCMinutes(0,0,0)},(t,r)=>{t.setTime(+t+r*xi)},(t,r)=>(r-t)/xi,t=>t.getUTCHours());tN.range;const im=is(t=>t.setHours(0,0,0,0),(t,r)=>t.setDate(t.getDate()+r),(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*nn)/Ci,t=>t.getDate()-1);im.range;const eg=is(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Ci,t=>t.getUTCDate()-1);eg.range;const CD=is(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Ci,t=>Math.floor(t/Ci));CD.range;function Ao(t){return is(r=>{r.setDate(r.getDate()-(r.getDay()+7-t)%7),r.setHours(0,0,0,0)},(r,s)=>{r.setDate(r.getDate()+s*7)},(r,s)=>(s-r-(s.getTimezoneOffset()-r.getTimezoneOffset())*nn)/Xj)}const tg=Ao(0),ax=Ao(1),YZ=Ao(2),KZ=Ao(3),Dc=Ao(4),JZ=Ao(5),XZ=Ao(6);tg.range;ax.range;YZ.range;KZ.range;Dc.range;JZ.range;XZ.range;function Co(t){return is(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-t)%7),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCDate(r.getUTCDate()+s*7)},(r,s)=>(s-r)/Xj)}const rg=Co(0),nx=Co(1),ZZ=Co(2),QZ=Co(3),Rc=Co(4),eQ=Co(5),tQ=Co(6);rg.range;nx.range;ZZ.range;QZ.range;Rc.range;eQ.range;tQ.range;const rN=is(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,r)=>{t.setMonth(t.getMonth()+r)},(t,r)=>r.getMonth()-t.getMonth()+(r.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rN.range;const sN=is(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCMonth(t.getUTCMonth()+r)},(t,r)=>r.getUTCMonth()-t.getUTCMonth()+(r.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());sN.range;const Pi=is(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r)},(t,r)=>r.getFullYear()-t.getFullYear(),t=>t.getFullYear());Pi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:is(r=>{r.setFullYear(Math.floor(r.getFullYear()/t)*t),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,s)=>{r.setFullYear(r.getFullYear()+s*t)});Pi.range;const Ei=is(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r)},(t,r)=>r.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ei.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:is(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/t)*t),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCFullYear(r.getUTCFullYear()+s*t)});Ei.range;function PD(t,r,s,a,n,i){const l=[[ao,1,hi],[ao,5,5*hi],[ao,15,15*hi],[ao,30,30*hi],[i,1,nn],[i,5,5*nn],[i,15,15*nn],[i,30,30*nn],[n,1,xi],[n,3,3*xi],[n,6,6*xi],[n,12,12*xi],[a,1,Ci],[a,2,2*Ci],[s,1,Xj],[r,1,D5],[r,3,3*D5],[t,1,Wy]];function c(h,m,x){const g=m<h;g&&([h,m]=[m,h]);const b=x&&typeof x.range=="function"?x:u(h,m,x),y=b?b.range(h,+m+1):[];return g?y.reverse():y}function u(h,m,x){const g=Math.abs(m-h)/x,b=$j(([,,N])=>N).right(l,g);if(b===l.length)return t.every(Rv(h/Wy,m/Wy,x));if(b===0)return sx.every(Math.max(Rv(h,m,x),1));const[y,w]=l[g/l[b-1][2]<l[b][2]/g?b-1:b];return y.every(w)}return[c,u]}const[rQ,sQ]=PD(Ei,sN,rg,CD,tN,Qj),[aQ,nQ]=PD(Pi,rN,tg,im,eN,Zj);function Yy(t){if(0<=t.y&&t.y<100){var r=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return r.setFullYear(t.y),r}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ky(t){if(0<=t.y&&t.y<100){var r=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return r.setUTCFullYear(t.y),r}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wd(t,r,s){return{y:t,m:r,d:s,H:0,M:0,S:0,L:0}}function iQ(t){var r=t.dateTime,s=t.date,a=t.time,n=t.periods,i=t.days,l=t.shortDays,c=t.months,u=t.shortMonths,h=Yd(n),m=Kd(n),x=Yd(i),g=Kd(i),b=Yd(l),y=Kd(l),w=Yd(c),N=Kd(c),_=Yd(u),S=Kd(u),k={a:q,A:Z,b:G,B:de,c:null,d:$5,e:$5,f:PQ,g:FQ,G:UQ,H:_Q,I:AQ,j:CQ,L:ED,m:EQ,M:TQ,p:X,q:z,Q:U5,s:z5,S:DQ,u:RQ,U:OQ,V:IQ,w:MQ,W:LQ,x:null,X:null,y:$Q,Y:BQ,Z:zQ,"%":B5},v={a:Ie,A:ie,b:Pe,B:re,c:null,d:F5,e:F5,f:GQ,g:ree,G:aee,H:VQ,I:qQ,j:HQ,L:DD,m:WQ,M:YQ,p:Ee,q:ke,Q:U5,s:z5,S:KQ,u:JQ,U:XQ,V:ZQ,w:QQ,W:eee,x:null,X:null,y:tee,Y:see,Z:nee,"%":B5},A={a:D,A:$,b:B,B:H,c:I,d:M5,e:M5,f:jQ,g:I5,G:O5,H:L5,I:L5,j:yQ,L:wQ,m:fQ,M:bQ,p:R,q:pQ,Q:kQ,s:SQ,S:vQ,u:uQ,U:mQ,V:hQ,w:dQ,W:xQ,x:L,X:M,y:I5,Y:O5,Z:gQ,"%":NQ};k.x=E(s,k),k.X=E(a,k),k.c=E(r,k),v.x=E(s,v),v.X=E(a,v),v.c=E(r,v);function E(xe,Q){return function(et){var ve=[],Ze=-1,Qe=0,ht=xe.length,K,ne,pe;for(et instanceof Date||(et=new Date(+et));++Ze<ht;)xe.charCodeAt(Ze)===37&&(ve.push(xe.slice(Qe,Ze)),(ne=R5[K=xe.charAt(++Ze)])!=null?K=xe.charAt(++Ze):ne=K==="e"?" ":"0",(pe=Q[K])&&(K=pe(et,ne)),ve.push(K),Qe=Ze+1);return ve.push(xe.slice(Qe,Ze)),ve.join("")}}function T(xe,Q){return function(et){var ve=Wd(1900,void 0,1),Ze=F(ve,xe,et+="",0),Qe,ht;if(Ze!=et.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Q&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Qe=Ky(Wd(ve.y,0,1)),ht=Qe.getUTCDay(),Qe=ht>4||ht===0?nx.ceil(Qe):nx(Qe),Qe=eg.offset(Qe,(ve.V-1)*7),ve.y=Qe.getUTCFullYear(),ve.m=Qe.getUTCMonth(),ve.d=Qe.getUTCDate()+(ve.w+6)%7):(Qe=Yy(Wd(ve.y,0,1)),ht=Qe.getDay(),Qe=ht>4||ht===0?ax.ceil(Qe):ax(Qe),Qe=im.offset(Qe,(ve.V-1)*7),ve.y=Qe.getFullYear(),ve.m=Qe.getMonth(),ve.d=Qe.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),ht="Z"in ve?Ky(Wd(ve.y,0,1)).getUTCDay():Yy(Wd(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(ht+5)%7:ve.w+ve.U*7-(ht+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,Ky(ve)):Yy(ve)}}function F(xe,Q,et,ve){for(var Ze=0,Qe=Q.length,ht=et.length,K,ne;Ze<Qe;){if(ve>=ht)return-1;if(K=Q.charCodeAt(Ze++),K===37){if(K=Q.charAt(Ze++),ne=A[K in R5?Q.charAt(Ze++):K],!ne||(ve=ne(xe,et,ve))<0)return-1}else if(K!=et.charCodeAt(ve++))return-1}return ve}function R(xe,Q,et){var ve=h.exec(Q.slice(et));return ve?(xe.p=m.get(ve[0].toLowerCase()),et+ve[0].length):-1}function D(xe,Q,et){var ve=b.exec(Q.slice(et));return ve?(xe.w=y.get(ve[0].toLowerCase()),et+ve[0].length):-1}function $(xe,Q,et){var ve=x.exec(Q.slice(et));return ve?(xe.w=g.get(ve[0].toLowerCase()),et+ve[0].length):-1}function B(xe,Q,et){var ve=_.exec(Q.slice(et));return ve?(xe.m=S.get(ve[0].toLowerCase()),et+ve[0].length):-1}function H(xe,Q,et){var ve=w.exec(Q.slice(et));return ve?(xe.m=N.get(ve[0].toLowerCase()),et+ve[0].length):-1}function I(xe,Q,et){return F(xe,r,Q,et)}function L(xe,Q,et){return F(xe,s,Q,et)}function M(xe,Q,et){return F(xe,a,Q,et)}function q(xe){return l[xe.getDay()]}function Z(xe){return i[xe.getDay()]}function G(xe){return u[xe.getMonth()]}function de(xe){return c[xe.getMonth()]}function X(xe){return n[+(xe.getHours()>=12)]}function z(xe){return 1+~~(xe.getMonth()/3)}function Ie(xe){return l[xe.getUTCDay()]}function ie(xe){return i[xe.getUTCDay()]}function Pe(xe){return u[xe.getUTCMonth()]}function re(xe){return c[xe.getUTCMonth()]}function Ee(xe){return n[+(xe.getUTCHours()>=12)]}function ke(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var Q=E(xe+="",k);return Q.toString=function(){return xe},Q},parse:function(xe){var Q=T(xe+="",!1);return Q.toString=function(){return xe},Q},utcFormat:function(xe){var Q=E(xe+="",v);return Q.toString=function(){return xe},Q},utcParse:function(xe){var Q=T(xe+="",!0);return Q.toString=function(){return xe},Q}}}var R5={"-":"",_:" ",0:"0"},ps=/^\s*\d+/,lQ=/^%/,oQ=/[\\^$*+?|[\]().{}]/g;function rr(t,r,s){var a=t<0?"-":"",n=(a?-t:t)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(r)+n:n)}function cQ(t){return t.replace(oQ,"\\$&")}function Yd(t){return new RegExp("^(?:"+t.map(cQ).join("|")+")","i")}function Kd(t){return new Map(t.map((r,s)=>[r.toLowerCase(),s]))}function dQ(t,r,s){var a=ps.exec(r.slice(s,s+1));return a?(t.w=+a[0],s+a[0].length):-1}function uQ(t,r,s){var a=ps.exec(r.slice(s,s+1));return a?(t.u=+a[0],s+a[0].length):-1}function mQ(t,r,s){var a=ps.exec(r.slice(s,s+2));return a?(t.U=+a[0],s+a[0].length):-1}function hQ(t,r,s){var a=ps.exec(r.slice(s,s+2));return a?(t.V=+a[0],s+a[0].length):-1}function xQ(t,r,s){var a=ps.exec(r.slice(s,s+2));return a?(t.W=+a[0],s+a[0].length):-1}function O5(t,r,s){var a=ps.exec(r.slice(s,s+4));return a?(t.y=+a[0],s+a[0].length):-1}function I5(t,r,s){var a=ps.exec(r.slice(s,s+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function gQ(t,r,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(s,s+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function pQ(t,r,s){var a=ps.exec(r.slice(s,s+1));return a?(t.q=a[0]*3-3,s+a[0].length):-1}function fQ(t,r,s){var a=ps.exec(r.slice(s,s+2));return a?(t.m=a[0]-1,s+a[0].length):-1}function M5(t,r,s){var a=ps.exec(r.slice(s,s+2));return a?(t.d=+a[0],s+a[0].length):-1}function yQ(t,r,s){var a=ps.exec(r.slice(s,s+3));return a?(t.m=0,t.d=+a[0],s+a[0].length):-1}function L5(t,r,s){var a=ps.exec(r.slice(s,s+2));return a?(t.H=+a[0],s+a[0].length):-1}function bQ(t,r,s){var a=ps.exec(r.slice(s,s+2));return a?(t.M=+a[0],s+a[0].length):-1}function vQ(t,r,s){var a=ps.exec(r.slice(s,s+2));return a?(t.S=+a[0],s+a[0].length):-1}function wQ(t,r,s){var a=ps.exec(r.slice(s,s+3));return a?(t.L=+a[0],s+a[0].length):-1}function jQ(t,r,s){var a=ps.exec(r.slice(s,s+6));return a?(t.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function NQ(t,r,s){var a=lQ.exec(r.slice(s,s+1));return a?s+a[0].length:-1}function kQ(t,r,s){var a=ps.exec(r.slice(s));return a?(t.Q=+a[0],s+a[0].length):-1}function SQ(t,r,s){var a=ps.exec(r.slice(s));return a?(t.s=+a[0],s+a[0].length):-1}function $5(t,r){return rr(t.getDate(),r,2)}function _Q(t,r){return rr(t.getHours(),r,2)}function AQ(t,r){return rr(t.getHours()%12||12,r,2)}function CQ(t,r){return rr(1+im.count(Pi(t),t),r,3)}function ED(t,r){return rr(t.getMilliseconds(),r,3)}function PQ(t,r){return ED(t,r)+"000"}function EQ(t,r){return rr(t.getMonth()+1,r,2)}function TQ(t,r){return rr(t.getMinutes(),r,2)}function DQ(t,r){return rr(t.getSeconds(),r,2)}function RQ(t){var r=t.getDay();return r===0?7:r}function OQ(t,r){return rr(tg.count(Pi(t)-1,t),r,2)}function TD(t){var r=t.getDay();return r>=4||r===0?Dc(t):Dc.ceil(t)}function IQ(t,r){return t=TD(t),rr(Dc.count(Pi(t),t)+(Pi(t).getDay()===4),r,2)}function MQ(t){return t.getDay()}function LQ(t,r){return rr(ax.count(Pi(t)-1,t),r,2)}function $Q(t,r){return rr(t.getFullYear()%100,r,2)}function FQ(t,r){return t=TD(t),rr(t.getFullYear()%100,r,2)}function BQ(t,r){return rr(t.getFullYear()%1e4,r,4)}function UQ(t,r){var s=t.getDay();return t=s>=4||s===0?Dc(t):Dc.ceil(t),rr(t.getFullYear()%1e4,r,4)}function zQ(t){var r=t.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+rr(r/60|0,"0",2)+rr(r%60,"0",2)}function F5(t,r){return rr(t.getUTCDate(),r,2)}function VQ(t,r){return rr(t.getUTCHours(),r,2)}function qQ(t,r){return rr(t.getUTCHours()%12||12,r,2)}function HQ(t,r){return rr(1+eg.count(Ei(t),t),r,3)}function DD(t,r){return rr(t.getUTCMilliseconds(),r,3)}function GQ(t,r){return DD(t,r)+"000"}function WQ(t,r){return rr(t.getUTCMonth()+1,r,2)}function YQ(t,r){return rr(t.getUTCMinutes(),r,2)}function KQ(t,r){return rr(t.getUTCSeconds(),r,2)}function JQ(t){var r=t.getUTCDay();return r===0?7:r}function XQ(t,r){return rr(rg.count(Ei(t)-1,t),r,2)}function RD(t){var r=t.getUTCDay();return r>=4||r===0?Rc(t):Rc.ceil(t)}function ZQ(t,r){return t=RD(t),rr(Rc.count(Ei(t),t)+(Ei(t).getUTCDay()===4),r,2)}function QQ(t){return t.getUTCDay()}function eee(t,r){return rr(nx.count(Ei(t)-1,t),r,2)}function tee(t,r){return rr(t.getUTCFullYear()%100,r,2)}function ree(t,r){return t=RD(t),rr(t.getUTCFullYear()%100,r,2)}function see(t,r){return rr(t.getUTCFullYear()%1e4,r,4)}function aee(t,r){var s=t.getUTCDay();return t=s>=4||s===0?Rc(t):Rc.ceil(t),rr(t.getUTCFullYear()%1e4,r,4)}function nee(){return"+0000"}function B5(){return"%"}function U5(t){return+t}function z5(t){return Math.floor(+t/1e3)}var nc,OD,ID;iee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iee(t){return nc=iQ(t),OD=nc.format,nc.parse,ID=nc.utcFormat,nc.utcParse,nc}function lee(t){return new Date(t)}function oee(t){return t instanceof Date?+t:+new Date(+t)}function aN(t,r,s,a,n,i,l,c,u,h){var m=qj(),x=m.invert,g=m.domain,b=h(".%L"),y=h(":%S"),w=h("%I:%M"),N=h("%I %p"),_=h("%a %d"),S=h("%b %d"),k=h("%B"),v=h("%Y");function A(E){return(u(E)<E?b:c(E)<E?y:l(E)<E?w:i(E)<E?N:a(E)<E?n(E)<E?_:S:s(E)<E?k:v)(E)}return m.invert=function(E){return new Date(x(E))},m.domain=function(E){return arguments.length?g(Array.from(E,oee)):g().map(lee)},m.ticks=function(E){var T=g();return t(T[0],T[T.length-1],E??10)},m.tickFormat=function(E,T){return T==null?A:h(T)},m.nice=function(E){var T=g();return(!E||typeof E.range!="function")&&(E=r(T[0],T[T.length-1],E??10)),E?g(wD(T,E)):m},m.copy=function(){return nm(m,aN(t,r,s,a,n,i,l,c,u,h))},m}function cee(){return gn.apply(aN(aQ,nQ,Pi,rN,tg,im,eN,Zj,ao,OD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dee(){return gn.apply(aN(rQ,sQ,Ei,sN,rg,eg,tN,Qj,ao,ID).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sg(){var t=0,r=1,s,a,n,i,l=Gs,c=!1,u;function h(x){return x==null||isNaN(x=+x)?u:l(n===0?.5:(x=(i(x)-s)*n,c?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([t,r]=x,s=i(t=+t),a=i(r=+r),n=s===a?0:1/(a-s),h):[t,r]},h.clamp=function(x){return arguments.length?(c=!!x,h):c},h.interpolator=function(x){return arguments.length?(l=x,h):l};function m(x){return function(g){var b,y;return arguments.length?([b,y]=g,l=x(b,y),h):[l(0),l(1)]}}return h.range=m(Wc),h.rangeRound=m(Vj),h.unknown=function(x){return arguments.length?(u=x,h):u},function(x){return i=x,s=x(t),a=x(r),n=s===a?0:1/(a-s),h}}function Al(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function MD(){var t=_l(sg()(Gs));return t.copy=function(){return Al(t,MD())},Ii.apply(t,arguments)}function LD(){var t=Wj(sg()).domain([1,10]);return t.copy=function(){return Al(t,LD()).base(t.base())},Ii.apply(t,arguments)}function $D(){var t=Yj(sg());return t.copy=function(){return Al(t,$D()).constant(t.constant())},Ii.apply(t,arguments)}function nN(){var t=Kj(sg());return t.copy=function(){return Al(t,nN()).exponent(t.exponent())},Ii.apply(t,arguments)}function uee(){return nN.apply(null,arguments).exponent(.5)}function FD(){var t=[],r=Gs;function s(a){if(a!=null&&!isNaN(a=+a))return r((sm(t,a,1)-1)/(t.length-1))}return s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let n of a)n!=null&&!isNaN(n=+n)&&t.push(n);return t.sort(fl),s},s.interpolator=function(a){return arguments.length?(r=a,s):r},s.range=function(){return t.map((a,n)=>r(n/(t.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>JX(t,i/a))},s.copy=function(){return FD(r).domain(t)},Ii.apply(s,arguments)}function ag(){var t=0,r=.5,s=1,a=1,n,i,l,c,u,h=Gs,m,x=!1,g;function b(w){return isNaN(w=+w)?g:(w=.5+((w=+m(w))-i)*(a*w<a*i?c:u),h(x?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([t,r,s]=w,n=m(t=+t),i=m(r=+r),l=m(s=+s),c=n===i?0:.5/(i-n),u=i===l?0:.5/(l-i),a=i<n?-1:1,b):[t,r,s]},b.clamp=function(w){return arguments.length?(x=!!w,b):x},b.interpolator=function(w){return arguments.length?(h=w,b):h};function y(w){return function(N){var _,S,k;return arguments.length?([_,S,k]=N,h=NZ(w,[_,S,k]),b):[h(0),h(.5),h(1)]}}return b.range=y(Wc),b.rangeRound=y(Vj),b.unknown=function(w){return arguments.length?(g=w,b):g},function(w){return m=w,n=w(t),i=w(r),l=w(s),c=n===i?0:.5/(i-n),u=i===l?0:.5/(l-i),a=i<n?-1:1,b}}function BD(){var t=_l(ag()(Gs));return t.copy=function(){return Al(t,BD())},Ii.apply(t,arguments)}function UD(){var t=Wj(ag()).domain([.1,1,10]);return t.copy=function(){return Al(t,UD()).base(t.base())},Ii.apply(t,arguments)}function zD(){var t=Yj(ag());return t.copy=function(){return Al(t,zD()).constant(t.constant())},Ii.apply(t,arguments)}function iN(){var t=Kj(ag());return t.copy=function(){return Al(t,iN()).exponent(t.exponent())},Ii.apply(t,arguments)}function mee(){return iN.apply(null,arguments).exponent(.5)}const ru=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bj,scaleDiverging:BD,scaleDivergingLog:UD,scaleDivergingPow:iN,scaleDivergingSqrt:mee,scaleDivergingSymlog:zD,scaleIdentity:vD,scaleImplicit:Ov,scaleLinear:bD,scaleLog:jD,scaleOrdinal:Fj,scalePoint:QX,scalePow:Jj,scaleQuantile:SD,scaleQuantize:_D,scaleRadial:kD,scaleSequential:MD,scaleSequentialLog:LD,scaleSequentialPow:nN,scaleSequentialQuantile:FD,scaleSequentialSqrt:uee,scaleSequentialSymlog:$D,scaleSqrt:GZ,scaleSymlog:ND,scaleThreshold:AD,scaleTime:cee,scaleUtc:dee,tickFormat:yD},Symbol.toStringTag,{value:"Module"}));var Cl=t=>t.chartData,lN=_e([Cl],t=>{var r=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:r,dataStartIndex:0}}),ng=(t,r,s,a)=>a?lN(t):Cl(t);function Oc(t){if(Array.isArray(t)&&t.length===2){var[r,s]=t;if(Ss(r)&&Ss(s))return!0}return!1}function V5(t,r,s){return s?t:[Math.min(t[0],r[0]),Math.max(t[1],r[1])]}function hee(t,r){if(r&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[s,a]=t,n,i;if(Ss(s))n=s;else if(typeof s=="function")return;if(Ss(a))i=a;else if(typeof a=="function")return;var l=[n,i];if(Oc(l))return l}}function xee(t,r,s){if(!(!s&&r==null)){if(typeof t=="function"&&r!=null)try{var a=t(r,s);if(Oc(a))return V5(a,r,s)}catch{}if(Array.isArray(t)&&t.length===2){var[n,i]=t,l,c;if(n==="auto")r!=null&&(l=Math.min(...r));else if(dt(n))l=n;else if(typeof n=="function")try{r!=null&&(l=n(r?.[0]))}catch{}else if(typeof n=="string"&&EA.test(n)){var u=EA.exec(n);if(u==null||r==null)l=void 0;else{var h=+u[1];l=r[0]-h}}else l=r?.[0];if(i==="auto")r!=null&&(c=Math.max(...r));else if(dt(i))c=i;else if(typeof i=="function")try{r!=null&&(c=i(r?.[1]))}catch{}else if(typeof i=="string"&&TA.test(i)){var m=TA.exec(i);if(m==null||r==null)c=void 0;else{var x=+m[1];c=r[1]+x}}else c=r?.[1];var g=[l,c];if(Oc(g))return r==null?g:V5(g,r,s)}}}var Yc=1e9,gee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cN,vr=!0,hn="[DecimalError] ",go=hn+"Invalid argument: ",oN=hn+"Exponent out of range: ",Kc=Math.floor,Yl=Math.pow,pee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Da,hs=1e7,fr=7,VD=9007199254740991,ix=Kc(VD/fr),gt={};gt.absoluteValue=gt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};gt.comparedTo=gt.cmp=function(t){var r,s,a,n,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(a=i.d.length,n=t.d.length,r=0,s=a<n?a:n;r<s;++r)if(i.d[r]!==t.d[r])return i.d[r]>t.d[r]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};gt.decimalPlaces=gt.dp=function(){var t=this,r=t.d.length-1,s=(r-t.e)*fr;if(r=t.d[r],r)for(;r%10==0;r/=10)s--;return s<0?0:s};gt.dividedBy=gt.div=function(t){return wi(this,new this.constructor(t))};gt.dividedToIntegerBy=gt.idiv=function(t){var r=this,s=r.constructor;return ur(wi(r,new s(t),0,1),s.precision)};gt.equals=gt.eq=function(t){return!this.cmp(t)};gt.exponent=function(){return Xr(this)};gt.greaterThan=gt.gt=function(t){return this.cmp(t)>0};gt.greaterThanOrEqualTo=gt.gte=function(t){return this.cmp(t)>=0};gt.isInteger=gt.isint=function(){return this.e>this.d.length-2};gt.isNegative=gt.isneg=function(){return this.s<0};gt.isPositive=gt.ispos=function(){return this.s>0};gt.isZero=function(){return this.s===0};gt.lessThan=gt.lt=function(t){return this.cmp(t)<0};gt.lessThanOrEqualTo=gt.lte=function(t){return this.cmp(t)<1};gt.logarithm=gt.log=function(t){var r,s=this,a=s.constructor,n=a.precision,i=n+5;if(t===void 0)t=new a(10);else if(t=new a(t),t.s<1||t.eq(Da))throw Error(hn+"NaN");if(s.s<1)throw Error(hn+(s.s?"NaN":"-Infinity"));return s.eq(Da)?new a(0):(vr=!1,r=wi(Mu(s,i),Mu(t,i),i),vr=!0,ur(r,n))};gt.minus=gt.sub=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?GD(r,t):qD(r,(t.s=-t.s,t))};gt.modulo=gt.mod=function(t){var r,s=this,a=s.constructor,n=a.precision;if(t=new a(t),!t.s)throw Error(hn+"NaN");return s.s?(vr=!1,r=wi(s,t,0,1).times(t),vr=!0,s.minus(r)):ur(new a(s),n)};gt.naturalExponential=gt.exp=function(){return HD(this)};gt.naturalLogarithm=gt.ln=function(){return Mu(this)};gt.negated=gt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};gt.plus=gt.add=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?qD(r,t):GD(r,(t.s=-t.s,t))};gt.precision=gt.sd=function(t){var r,s,a,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(go+t);if(r=Xr(n)+1,a=n.d.length-1,s=a*fr+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return t&&r>s?r:s};gt.squareRoot=gt.sqrt=function(){var t,r,s,a,n,i,l,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(hn+"NaN")}for(t=Xr(c),vr=!1,n=Math.sqrt(+c),n==0||n==1/0?(r=Un(c.d),(r.length+t)%2==0&&(r+="0"),n=Math.sqrt(r),t=Kc((t+1)/2)-(t<0||t%2),n==1/0?r="5e"+t:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),a=new u(r)):a=new u(n.toString()),s=u.precision,n=l=s+3;;)if(i=a,a=i.plus(wi(c,i,l+2)).times(.5),Un(i.d).slice(0,l)===(r=Un(a.d)).slice(0,l)){if(r=r.slice(l-3,l+1),n==l&&r=="4999"){if(ur(i,s+1,0),i.times(i).eq(c)){a=i;break}}else if(r!="9999")break;l+=4}return vr=!0,ur(a,s)};gt.times=gt.mul=function(t){var r,s,a,n,i,l,c,u,h,m=this,x=m.constructor,g=m.d,b=(t=new x(t)).d;if(!m.s||!t.s)return new x(0);for(t.s*=m.s,s=m.e+t.e,u=g.length,h=b.length,u<h&&(i=g,g=b,b=i,l=u,u=h,h=l),i=[],l=u+h,a=l;a--;)i.push(0);for(a=h;--a>=0;){for(r=0,n=u+a;n>a;)c=i[n]+b[a]*g[n-a-1]+r,i[n--]=c%hs|0,r=c/hs|0;i[n]=(i[n]+r)%hs|0}for(;!i[--l];)i.pop();return r?++s:i.shift(),t.d=i,t.e=s,vr?ur(t,x.precision):t};gt.toDecimalPlaces=gt.todp=function(t,r){var s=this,a=s.constructor;return s=new a(s),t===void 0?s:(Kn(t,0,Yc),r===void 0?r=a.rounding:Kn(r,0,8),ur(s,t+Xr(s)+1,r))};gt.toExponential=function(t,r){var s,a=this,n=a.constructor;return t===void 0?s=wo(a,!0):(Kn(t,0,Yc),r===void 0?r=n.rounding:Kn(r,0,8),a=ur(new n(a),t+1,r),s=wo(a,!0,t+1)),s};gt.toFixed=function(t,r){var s,a,n=this,i=n.constructor;return t===void 0?wo(n):(Kn(t,0,Yc),r===void 0?r=i.rounding:Kn(r,0,8),a=ur(new i(n),t+Xr(n)+1,r),s=wo(a.abs(),!1,t+Xr(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};gt.toInteger=gt.toint=function(){var t=this,r=t.constructor;return ur(new r(t),Xr(t)+1,r.rounding)};gt.toNumber=function(){return+this};gt.toPower=gt.pow=function(t){var r,s,a,n,i,l,c=this,u=c.constructor,h=12,m=+(t=new u(t));if(!t.s)return new u(Da);if(c=new u(c),!c.s){if(t.s<1)throw Error(hn+"Infinity");return c}if(c.eq(Da))return c;if(a=u.precision,t.eq(Da))return ur(c,a);if(r=t.e,s=t.d.length-1,l=r>=s,i=c.s,l){if((s=m<0?-m:m)<=VD){for(n=new u(Da),r=Math.ceil(a/fr+4),vr=!1;s%2&&(n=n.times(c),H5(n.d,r)),s=Kc(s/2),s!==0;)c=c.times(c),H5(c.d,r);return vr=!0,t.s<0?new u(Da).div(n):ur(n,a)}}else if(i<0)throw Error(hn+"NaN");return i=i<0&&t.d[Math.max(r,s)]&1?-1:1,c.s=1,vr=!1,n=t.times(Mu(c,a+h)),vr=!0,n=HD(n),n.s=i,n};gt.toPrecision=function(t,r){var s,a,n=this,i=n.constructor;return t===void 0?(s=Xr(n),a=wo(n,s<=i.toExpNeg||s>=i.toExpPos)):(Kn(t,1,Yc),r===void 0?r=i.rounding:Kn(r,0,8),n=ur(new i(n),t,r),s=Xr(n),a=wo(n,t<=s||s<=i.toExpNeg,t)),a};gt.toSignificantDigits=gt.tosd=function(t,r){var s=this,a=s.constructor;return t===void 0?(t=a.precision,r=a.rounding):(Kn(t,1,Yc),r===void 0?r=a.rounding:Kn(r,0,8)),ur(new a(s),t,r)};gt.toString=gt.valueOf=gt.val=gt.toJSON=gt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,r=Xr(t),s=t.constructor;return wo(t,r<=s.toExpNeg||r>=s.toExpPos)};function qD(t,r){var s,a,n,i,l,c,u,h,m=t.constructor,x=m.precision;if(!t.s||!r.s)return r.s||(r=new m(t)),vr?ur(r,x):r;if(u=t.d,h=r.d,l=t.e,n=r.e,u=u.slice(),i=l-n,i){for(i<0?(a=u,i=-i,c=h.length):(a=h,n=l,c=u.length),l=Math.ceil(x/fr),c=l>c?l+1:c+1,i>c&&(i=c,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(c=u.length,i=h.length,c-i<0&&(i=c,a=h,h=u,u=a),s=0;i;)s=(u[--i]=u[i]+h[i]+s)/hs|0,u[i]%=hs;for(s&&(u.unshift(s),++n),c=u.length;u[--c]==0;)u.pop();return r.d=u,r.e=n,vr?ur(r,x):r}function Kn(t,r,s){if(t!==~~t||t<r||t>s)throw Error(go+t)}function Un(t){var r,s,a,n=t.length-1,i="",l=t[0];if(n>0){for(i+=l,r=1;r<n;r++)a=t[r]+"",s=fr-a.length,s&&(i+=ml(s)),i+=a;l=t[r],a=l+"",s=fr-a.length,s&&(i+=ml(s))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var wi=(function(){function t(a,n){var i,l=0,c=a.length;for(a=a.slice();c--;)i=a[c]*n+l,a[c]=i%hs|0,l=i/hs|0;return l&&a.unshift(l),a}function r(a,n,i,l){var c,u;if(i!=l)u=i>l?1:-1;else for(c=u=0;c<i;c++)if(a[c]!=n[c]){u=a[c]>n[c]?1:-1;break}return u}function s(a,n,i){for(var l=0;i--;)a[i]-=l,l=a[i]<n[i]?1:0,a[i]=l*hs+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,l){var c,u,h,m,x,g,b,y,w,N,_,S,k,v,A,E,T,F,R=a.constructor,D=a.s==n.s?1:-1,$=a.d,B=n.d;if(!a.s)return new R(a);if(!n.s)throw Error(hn+"Division by zero");for(u=a.e-n.e,T=B.length,A=$.length,b=new R(D),y=b.d=[],h=0;B[h]==($[h]||0);)++h;if(B[h]>($[h]||0)&&--u,i==null?S=i=R.precision:l?S=i+(Xr(a)-Xr(n))+1:S=i,S<0)return new R(0);if(S=S/fr+2|0,h=0,T==1)for(m=0,B=B[0],S++;(h<A||m)&&S--;h++)k=m*hs+($[h]||0),y[h]=k/B|0,m=k%B|0;else{for(m=hs/(B[0]+1)|0,m>1&&(B=t(B,m),$=t($,m),T=B.length,A=$.length),v=T,w=$.slice(0,T),N=w.length;N<T;)w[N++]=0;F=B.slice(),F.unshift(0),E=B[0],B[1]>=hs/2&&++E;do m=0,c=r(B,w,T,N),c<0?(_=w[0],T!=N&&(_=_*hs+(w[1]||0)),m=_/E|0,m>1?(m>=hs&&(m=hs-1),x=t(B,m),g=x.length,N=w.length,c=r(x,w,g,N),c==1&&(m--,s(x,T<g?F:B,g))):(m==0&&(c=m=1),x=B.slice()),g=x.length,g<N&&x.unshift(0),s(w,x,N),c==-1&&(N=w.length,c=r(B,w,T,N),c<1&&(m++,s(w,T<N?F:B,N))),N=w.length):c===0&&(m++,w=[0]),y[h++]=m,c&&w[0]?w[N++]=$[v]||0:(w=[$[v]],N=1);while((v++<A||w[0]!==void 0)&&S--)}return y[0]||y.shift(),b.e=u,ur(b,l?i+Xr(b)+1:i)}})();function HD(t,r){var s,a,n,i,l,c,u=0,h=0,m=t.constructor,x=m.precision;if(Xr(t)>16)throw Error(oN+Xr(t));if(!t.s)return new m(Da);for(vr=!1,c=x,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(a=Math.log(Yl(2,h))/Math.LN10*2+5|0,c+=a,s=n=i=new m(Da),m.precision=c;;){if(n=ur(n.times(t),c),s=s.times(++u),l=i.plus(wi(n,s,c)),Un(l.d).slice(0,c)===Un(i.d).slice(0,c)){for(;h--;)i=ur(i.times(i),c);return m.precision=x,r==null?(vr=!0,ur(i,x)):i}i=l}}function Xr(t){for(var r=t.e*fr,s=t.d[0];s>=10;s/=10)r++;return r}function Jy(t,r,s){if(r>t.LN10.sd())throw vr=!0,s&&(t.precision=s),Error(hn+"LN10 precision limit exceeded");return ur(new t(t.LN10),r)}function ml(t){for(var r="";t--;)r+="0";return r}function Mu(t,r){var s,a,n,i,l,c,u,h,m,x=1,g=10,b=t,y=b.d,w=b.constructor,N=w.precision;if(b.s<1)throw Error(hn+(b.s?"NaN":"-Infinity"));if(b.eq(Da))return new w(0);if(r==null?(vr=!1,h=N):h=r,b.eq(10))return r==null&&(vr=!0),Jy(w,h);if(h+=g,w.precision=h,s=Un(y),a=s.charAt(0),i=Xr(b),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)b=b.times(t),s=Un(b.d),a=s.charAt(0),x++;i=Xr(b),a>1?(b=new w("0."+s),i++):b=new w(a+"."+s.slice(1))}else return u=Jy(w,h+2,N).times(i+""),b=Mu(new w(a+"."+s.slice(1)),h-g).plus(u),w.precision=N,r==null?(vr=!0,ur(b,N)):b;for(c=l=b=wi(b.minus(Da),b.plus(Da),h),m=ur(b.times(b),h),n=3;;){if(l=ur(l.times(m),h),u=c.plus(wi(l,new w(n),h)),Un(u.d).slice(0,h)===Un(c.d).slice(0,h))return c=c.times(2),i!==0&&(c=c.plus(Jy(w,h+2,N).times(i+""))),c=wi(c,new w(x),h),w.precision=N,r==null?(vr=!0,ur(c,N)):c;c=u,n+=2}}function q5(t,r){var s,a,n;for((s=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(s<0&&(s=a),s+=+r.slice(a+1),r=r.substring(0,a)):s<0&&(s=r.length),a=0;r.charCodeAt(a)===48;)++a;for(n=r.length;r.charCodeAt(n-1)===48;)--n;if(r=r.slice(a,n),r){if(n-=a,s=s-a-1,t.e=Kc(s/fr),t.d=[],a=(s+1)%fr,s<0&&(a+=fr),a<n){for(a&&t.d.push(+r.slice(0,a)),n-=fr;a<n;)t.d.push(+r.slice(a,a+=fr));r=r.slice(a),a=fr-r.length}else a-=n;for(;a--;)r+="0";if(t.d.push(+r),vr&&(t.e>ix||t.e<-ix))throw Error(oN+s)}else t.s=0,t.e=0,t.d=[0];return t}function ur(t,r,s){var a,n,i,l,c,u,h,m,x=t.d;for(l=1,i=x[0];i>=10;i/=10)l++;if(a=r-l,a<0)a+=fr,n=r,h=x[m=0];else{if(m=Math.ceil((a+1)/fr),i=x.length,m>=i)return t;for(h=i=x[m],l=1;i>=10;i/=10)l++;a%=fr,n=a-fr+l}if(s!==void 0&&(i=Yl(10,l-n-1),c=h/i%10|0,u=r<0||x[m+1]!==void 0||h%i,u=s<4?(c||u)&&(s==0||s==(t.s<0?3:2)):c>5||c==5&&(s==4||u||s==6&&(a>0?n>0?h/Yl(10,l-n):0:x[m-1])%10&1||s==(t.s<0?8:7))),r<1||!x[0])return u?(i=Xr(t),x.length=1,r=r-i-1,x[0]=Yl(10,(fr-r%fr)%fr),t.e=Kc(-r/fr)||0):(x.length=1,x[0]=t.e=t.s=0),t;if(a==0?(x.length=m,i=1,m--):(x.length=m+1,i=Yl(10,fr-a),x[m]=n>0?(h/Yl(10,l-n)%Yl(10,n)|0)*i:0),u)for(;;)if(m==0){(x[0]+=i)==hs&&(x[0]=1,++t.e);break}else{if(x[m]+=i,x[m]!=hs)break;x[m--]=0,i=1}for(a=x.length;x[--a]===0;)x.pop();if(vr&&(t.e>ix||t.e<-ix))throw Error(oN+Xr(t));return t}function GD(t,r){var s,a,n,i,l,c,u,h,m,x,g=t.constructor,b=g.precision;if(!t.s||!r.s)return r.s?r.s=-r.s:r=new g(t),vr?ur(r,b):r;if(u=t.d,x=r.d,a=r.e,h=t.e,u=u.slice(),l=h-a,l){for(m=l<0,m?(s=u,l=-l,c=x.length):(s=x,a=h,c=u.length),n=Math.max(Math.ceil(b/fr),c)+2,l>n&&(l=n,s.length=1),s.reverse(),n=l;n--;)s.push(0);s.reverse()}else{for(n=u.length,c=x.length,m=n<c,m&&(c=n),n=0;n<c;n++)if(u[n]!=x[n]){m=u[n]<x[n];break}l=0}for(m&&(s=u,u=x,x=s,r.s=-r.s),c=u.length,n=x.length-c;n>0;--n)u[c++]=0;for(n=x.length;n>l;){if(u[--n]<x[n]){for(i=n;i&&u[--i]===0;)u[i]=hs-1;--u[i],u[n]+=hs}u[n]-=x[n]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(r.d=u,r.e=a,vr?ur(r,b):r):new g(0)}function wo(t,r,s){var a,n=Xr(t),i=Un(t.d),l=i.length;return r?(s&&(a=s-l)>0?i=i.charAt(0)+"."+i.slice(1)+ml(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+ml(-n-1)+i,s&&(a=s-l)>0&&(i+=ml(a))):n>=l?(i+=ml(n+1-l),s&&(a=s-n-1)>0&&(i=i+"."+ml(a))):((a=n+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-l)>0&&(n+1===l&&(i+="."),i+=ml(a))),t.s<0?"-"+i:i}function H5(t,r){if(t.length>r)return t.length=r,!0}function WD(t){var r,s,a;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(go+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return q5(l,i.toString())}else if(typeof i!="string")throw Error(go+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,pee.test(i))q5(l,i);else throw Error(go+i)}if(n.prototype=gt,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=WD,n.config=n.set=fee,t===void 0&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(s=a[r++])||(t[s]=this[s]);return n.config(t),n}function fee(t){if(!t||typeof t!="object")throw Error(hn+"Object expected");var r,s,a,n=["precision",1,Yc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<n.length;r+=3)if((a=t[s=n[r]])!==void 0)if(Kc(a)===a&&a>=n[r+1]&&a<=n[r+2])this[s]=a;else throw Error(go+s+": "+a);if((a=t[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(go+s+": "+a);return this}var cN=WD(gee);Da=new cN(1);const lr=cN;var yee=t=>t,YD={},KD=t=>t===YD,G5=t=>function r(){return arguments.length===0||arguments.length===1&&KD(arguments.length<=0?void 0:arguments[0])?r:t(...arguments)},JD=(t,r)=>t===1?r:G5(function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];var i=a.filter(l=>l!==YD).length;return i>=t?r(...a):JD(t-i,G5(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var h=a.map(m=>KD(m)?c.shift():m);return r(...h,...c)}))}),ig=t=>JD(t.length,t),$v=(t,r)=>{for(var s=[],a=t;a<r;++a)s[a-t]=a;return s},bee=ig((t,r)=>Array.isArray(r)?r.map(t):Object.keys(r).map(s=>r[s]).map(t)),vee=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];if(!s.length)return yee;var n=s.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce((c,u)=>u(c),i(...arguments))}},Fv=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),XD=t=>{var r=null,s=null;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r&&n.every((l,c)=>{var u;return l===((u=r)===null||u===void 0?void 0:u[c])})||(r=n,s=t(...n)),s}};function ZD(t){var r;return t===0?r=1:r=Math.floor(new lr(t).abs().log(10).toNumber())+1,r}function QD(t,r,s){for(var a=new lr(t),n=0,i=[];a.lt(r)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}ig((t,r,s)=>{var a=+t,n=+r;return a+s*(n-a)});ig((t,r,s)=>{var a=r-+t;return a=a||1/0,(s-t)/a});ig((t,r,s)=>{var a=r-+t;return a=a||1/0,Math.max(0,Math.min(1,(s-t)/a))});var eR=t=>{var[r,s]=t,[a,n]=[r,s];return r>s&&([a,n]=[s,r]),[a,n]},tR=(t,r,s)=>{if(t.lte(0))return new lr(0);var a=ZD(t.toNumber()),n=new lr(10).pow(a),i=t.div(n),l=a!==1?.05:.1,c=new lr(Math.ceil(i.div(l).toNumber())).add(s).mul(l),u=c.mul(n);return r?new lr(u.toNumber()):new lr(Math.ceil(u.toNumber()))},wee=(t,r,s)=>{var a=new lr(1),n=new lr(t);if(!n.isint()&&s){var i=Math.abs(t);i<1?(a=new lr(10).pow(ZD(t)-1),n=new lr(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new lr(Math.floor(t)))}else t===0?n=new lr(Math.floor((r-1)/2)):s||(n=new lr(Math.floor(t)));var l=Math.floor((r-1)/2),c=vee(bee(u=>n.add(new lr(u-l).mul(a)).toNumber()),$v);return c(0,r)},rR=function(r,s,a,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-r)/(a-1)))return{step:new lr(0),tickMin:new lr(0),tickMax:new lr(0)};var l=tR(new lr(s).sub(r).div(a-1),n,i),c;r<=0&&s>=0?c=new lr(0):(c=new lr(r).add(s).div(2),c=c.sub(new lr(c).mod(l)));var u=Math.ceil(c.sub(r).div(l).toNumber()),h=Math.ceil(new lr(s).sub(c).div(l).toNumber()),m=u+h+1;return m>a?rR(r,s,a,n,i+1):(m<a&&(h=s>0?h+(a-m):h,u=s>0?u:u+(a-m)),{step:l,tickMin:c.sub(new lr(u).mul(l)),tickMax:c.add(new lr(h).mul(l))})};function jee(t){var[r,s]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[l,c]=eR([r,s]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...$v(0,a-1).map(()=>1/0)]:[...$v(0,a-1).map(()=>-1/0),c];return r>s?Fv(u):u}if(l===c)return wee(l,a,n);var{step:h,tickMin:m,tickMax:x}=rR(l,c,i,n,0),g=QD(m,x.add(new lr(.1).mul(h)),h);return r>s?Fv(g):g}function Nee(t,r){var[s,a]=t,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=eR([s,a]);if(i===-1/0||l===1/0)return[s,a];if(i===l)return[i];var c=Math.max(r,2),u=tR(new lr(l).sub(i).div(c-1),n,0),h=[...QD(new lr(i),new lr(l),u),l];return n===!1&&(h=h.map(m=>Math.round(m))),s>a?Fv(h):h}var kee=XD(jee),See=XD(Nee),sR=t=>t.rootProps.maxBarSize,_ee=t=>t.rootProps.barGap,aR=t=>t.rootProps.barCategoryGap,Aee=t=>t.rootProps.barSize,lm=t=>t.rootProps.stackOffset,dN=t=>t.options.chartName,uN=t=>t.rootProps.syncId,nR=t=>t.rootProps.syncMethod,mN=t=>t.options.eventEmitter,ui={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},_a={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},lg=(t,r)=>{if(!(!t||!r))return t!=null&&t.reversed?[r[1],r[0]]:r},Cee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ui.angleAxisId,includeHidden:!1,name:void 0,reversed:ui.reversed,scale:ui.scale,tick:ui.tick,tickCount:void 0,ticks:void 0,type:ui.type,unit:void 0},Pee={allowDataOverflow:_a.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_a.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_a.scale,tick:_a.tick,tickCount:_a.tickCount,ticks:void 0,type:_a.type,unit:void 0},Eee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ui.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ui.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ui.scale,tick:ui.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Tee={allowDataOverflow:_a.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_a.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_a.scale,tick:_a.tick,tickCount:_a.tickCount,ticks:void 0,type:"category",unit:void 0},hN=(t,r)=>t.polarAxis.angleAxis[r]!=null?t.polarAxis.angleAxis[r]:t.layout.layoutType==="radial"?Eee:Cee,xN=(t,r)=>t.polarAxis.radiusAxis[r]!=null?t.polarAxis.radiusAxis[r]:t.layout.layoutType==="radial"?Tee:Pee,og=t=>t.polarOptions,gN=_e([Ri,Oi,ns],$T),iR=_e([og,gN],(t,r)=>{if(t!=null)return Ys(t.innerRadius,r,0)}),lR=_e([og,gN],(t,r)=>{if(t!=null)return Ys(t.outerRadius,r,r*.8)}),Dee=t=>{if(t==null)return[0,0];var{startAngle:r,endAngle:s}=t;return[r,s]},oR=_e([og],Dee);_e([hN,oR],lg);var cR=_e([gN,iR,lR],(t,r,s)=>{if(!(t==null||r==null||s==null))return[r,s]});_e([xN,cR],lg);var dR=_e([Yt,og,iR,lR,Ri,Oi],(t,r,s,a,n,i)=>{if(!(t!=="centric"&&t!=="radial"||r==null||s==null||a==null)){var{cx:l,cy:c,startAngle:u,endAngle:h}=r;return{cx:Ys(l,n,n/2),cy:Ys(c,i,i/2),innerRadius:s,outerRadius:a,startAngle:u,endAngle:h,clockWise:!1}}}),Nr=(t,r)=>r,om=(t,r,s)=>s;function cg(t){return t?.id}var ls=t=>{var r=Yt(t);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},Jc=t=>t.tooltip.settings.axisId,os=t=>{var r=ls(t),s=Jc(t);return cm(t,r,s)};function uR(t,r,s){var{chartData:a=[]}=r,n=s?.dataKey,i=new Map;return t.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:a;if(!(u==null||u.length===0)){var h=cg(l);u.forEach((m,x)=>{var g=n==null?x:String(dr(m,n,null)),b=dr(m,l.dataKey,0),y;i.has(g)?y=i.get(g):y={},Object.assign(y,{[h]:b}),i.set(g,y)})}}),Array.from(i.values())}function dg(t){return t.stackId!=null&&t.dataKey!=null}function W5(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function lx(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?W5(Object(s),!0).forEach(function(a){Ree(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):W5(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Ree(t,r,s){return(r=Oee(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Oee(t){var r=Iee(t,"string");return typeof r=="symbol"?r:r+""}function Iee(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Bv=[0,"auto"],ja={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Mi=(t,r)=>{var s=t.cartesianAxis.xAxis[r];return s??ja},Na={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Bv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Kx},Pl=(t,r)=>{var s=t.cartesianAxis.yAxis[r];return s??Na},Mee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},pN=(t,r)=>{var s=t.cartesianAxis.zAxis[r];return s??Mee},Hr=(t,r,s)=>{switch(r){case"xAxis":return Mi(t,s);case"yAxis":return Pl(t,s);case"zAxis":return pN(t,s);case"angleAxis":return hN(t,s);case"radiusAxis":return xN(t,s);default:throw new Error("Unexpected axis type: ".concat(r))}},Lee=(t,r,s)=>{switch(r){case"xAxis":return Mi(t,s);case"yAxis":return Pl(t,s);default:throw new Error("Unexpected axis type: ".concat(r))}},cm=(t,r,s)=>{switch(r){case"xAxis":return Mi(t,s);case"yAxis":return Pl(t,s);case"angleAxis":return hN(t,s);case"radiusAxis":return xN(t,s);default:throw new Error("Unexpected axis type: ".concat(r))}},mR=t=>t.graphicalItems.cartesianItems.some(r=>r.type==="bar")||t.graphicalItems.polarItems.some(r=>r.type==="radialBar");function fN(t,r){return s=>{switch(t){case"xAxis":return"xAxisId"in s&&s.xAxisId===r;case"yAxis":return"yAxisId"in s&&s.yAxisId===r;case"zAxis":return"zAxisId"in s&&s.zAxisId===r;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===r;default:return!1}}}var ug=t=>t.graphicalItems.cartesianItems,$ee=_e([Nr,om],fN),yN=(t,r,s)=>t.filter(s).filter(a=>r?.includeHidden===!0?!0:!a.hide),dm=_e([ug,Hr,$ee],yN),hR=_e([dm],t=>t.filter(r=>r.type==="area"||r.type==="bar").filter(dg)),xR=t=>t.filter(r=>!("stackId"in r)||r.stackId===void 0),gR=_e([dm],xR),bN=t=>t.map(r=>r.data).filter(Boolean).flat(1),Fee=_e([dm],bN),vN=(t,r)=>{var{chartData:s=[],dataStartIndex:a,dataEndIndex:n}=r;return t.length>0?t:s.slice(a,n+1)},wN=_e([Fee,ng],vN),jN=(t,r,s)=>r?.dataKey!=null?t.map(a=>({value:dr(a,r.dataKey)})):s.length>0?s.map(a=>a.dataKey).flatMap(a=>t.map(n=>({value:dr(n,a)}))):t.map(a=>({value:a})),mg=_e([wN,Hr,dm],jN);function pR(t,r){switch(t){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function Po(t){return t.filter(r=>Yn(r)||r instanceof Date).map(Number).filter(r=>ha(r)===!1)}function Bee(t,r,s){return!s||typeof r!="number"||ha(r)?[]:s.length?Po(s.flatMap(a=>{var n=dr(t,a.dataKey),i,l;if(Array.isArray(n)?[i,l]=n:i=l=n,!(!Ss(i)||!Ss(l)))return[r-i,r+l]})):[]}var Uee=_e([hR,ng,os],uR),fR=(t,r,s)=>{var a={},n=r.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),a);return Object.fromEntries(Object.entries(n).map(i=>{var[l,c]=i,u=c.map(cg);return[l,{stackedData:qK(t,u,s),graphicalItems:c}]}))},Lu=_e([Uee,hR,lm],fR),yR=(t,r,s)=>{var{dataStartIndex:a,dataEndIndex:n}=r;if(s!=="zAxis"){var i=YK(t,a,n);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},zee=_e([Lu,Cl,Nr],yR),bR=(t,r,s,a,n)=>s.length>0?t.flatMap(i=>s.flatMap(l=>{var c,u,h=(c=a[l.id])===null||c===void 0?void 0:c.filter(x=>pR(n,x)),m=dr(i,(u=r.dataKey)!==null&&u!==void 0?u:l.dataKey);return{value:m,errorDomain:Bee(i,m,h)}})).filter(Boolean):r?.dataKey!=null?t.map(i=>({value:dr(i,r.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),hg=t=>t.errorBars,vR=(t,r,s)=>t.flatMap(a=>r[a.id]).filter(Boolean).filter(a=>pR(s,a));_e([gR,hg,Nr],vR);var Vee=_e([wN,Hr,gR,hg,Nr],bR);function qee(t){var{value:r}=t;if(Yn(r)||r instanceof Date)return r}var Y5=t=>{var r=t.flatMap(a=>[a.value,a.errorDomain]).flat(1),s=Po(r);if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Hee=(t,r,s)=>{var a=t.map(qee).filter(n=>n!=null);return s&&(r.dataKey==null||r.allowDuplicatedCategory&&RE(a))?oD(0,t.length):r.allowDuplicatedCategory?a:Array.from(new Set(a))},NN=t=>{var r;if(t==null||!("domain"in t))return Bv;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var s=Po(t.ticks);return[Math.min(...s),Math.max(...s)]}if(t.type==="category")return t.ticks.map(String)}return(r=t?.domain)!==null&&r!==void 0?r:Bv},ox=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var n=s.filter(Boolean);if(n.length!==0){var i=n.flat(),l=Math.min(...i),c=Math.max(...i);return[l,c]}},wR=t=>t.referenceElements.dots,Xc=(t,r,s)=>t.filter(a=>a.ifOverflow==="extendDomain").filter(a=>r==="xAxis"?a.xAxisId===s:a.yAxisId===s),Gee=_e([wR,Nr,om],Xc),jR=t=>t.referenceElements.areas,Wee=_e([jR,Nr,om],Xc),NR=t=>t.referenceElements.lines,Yee=_e([NR,Nr,om],Xc),kR=(t,r)=>{var s=Po(t.map(a=>r==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Kee=_e(Gee,Nr,kR),SR=(t,r)=>{var s=Po(t.flatMap(a=>[r==="xAxis"?a.x1:a.y1,r==="xAxis"?a.x2:a.y2]));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Jee=_e([Wee,Nr],SR),_R=(t,r)=>{var s=Po(t.map(a=>r==="xAxis"?a.x:a.y));if(s.length!==0)return[Math.min(...s),Math.max(...s)]},Xee=_e(Yee,Nr,_R),Zee=_e(Kee,Xee,Jee,(t,r,s)=>ox(t,s,r)),AR=_e([Hr],NN),kN=(t,r,s,a,n,i,l)=>{var c=hee(r,t.allowDataOverflow);if(c!=null)return c;var u=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",h=u?ox(s,n,Y5(a)):ox(n,Y5(a));return xee(r,h,t.allowDataOverflow)},Qee=_e([Hr,AR,zee,Vee,Zee,Yt,Nr],kN),ete=[0,1],SN=(t,r,s,a,n,i,l)=>{if(!((t==null||s==null||s.length===0)&&l===void 0)){var{dataKey:c,type:u}=t,h=Di(r,i);return h&&c==null?oD(0,s.length):u==="category"?Hee(a,t,h):n==="expand"?ete:l}},_N=_e([Hr,Yt,wN,mg,lm,Nr,Qee],SN),CR=(t,r,s,a,n)=>{if(t!=null){var{scale:i,type:l}=t;if(i==="auto")return r==="radial"&&n==="radiusAxis"?"band":r==="radial"&&n==="angleAxis"?"linear":l==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!s)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(Zu(i));return c in ru?c:"point"}}},Zc=_e([Hr,Yt,mR,dN,Nr],CR);function tte(t){if(t!=null){if(t in ru)return ru[t]();var r="scale".concat(Zu(t));if(r in ru)return ru[r]()}}function AN(t,r,s,a){if(!(s==null||a==null)){if(typeof t.scale=="function")return t.scale.copy().domain(s).range(a);var n=tte(r);if(n!=null){var i=n.domain(s).range(a);return FK(i),i}}}var CN=(t,r,s)=>{var a=NN(r);if(!(s!=="auto"&&s!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Oc(t))return kee(t,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&Oc(t))return See(t,r.tickCount,r.allowDecimals)}},PN=_e([_N,cm,Zc],CN),EN=(t,r,s,a)=>{if(a!=="angleAxis"&&t?.type==="number"&&Oc(r)&&Array.isArray(s)&&s.length>0){var n=r[0],i=s[0],l=r[1],c=s[s.length-1];return[Math.min(n,i),Math.max(l,c)]}return r},rte=_e([Hr,_N,PN,Nr],EN),ste=_e(mg,Hr,(t,r)=>{if(!(!r||r.type!=="number")){var s=1/0,a=Array.from(Po(t.map(c=>c.value))).sort((c,u)=>c-u);if(a.length<2)return 1/0;var n=a[a.length-1]-a[0];if(n===0)return 1/0;for(var i=0;i<a.length-1;i++){var l=a[i+1]-a[i];s=Math.min(s,l)}return s/n}}),PR=_e(ste,Yt,aR,ns,(t,r,s,a)=>a,(t,r,s,a,n)=>{if(!Ss(t))return 0;var i=r==="vertical"?a.height:a.width;if(n==="gap")return t*i/2;if(n==="no-gap"){var l=Ys(s,t*i),c=t*i/2;return c-l-(c-l)/i*l}return 0}),ate=(t,r)=>{var s=Mi(t,r);return s==null||typeof s.padding!="string"?0:PR(t,"xAxis",r,s.padding)},nte=(t,r)=>{var s=Pl(t,r);return s==null||typeof s.padding!="string"?0:PR(t,"yAxis",r,s.padding)},ite=_e(Mi,ate,(t,r)=>{var s,a;if(t==null)return{left:0,right:0};var{padding:n}=t;return typeof n=="string"?{left:r,right:r}:{left:((s=n.left)!==null&&s!==void 0?s:0)+r,right:((a=n.right)!==null&&a!==void 0?a:0)+r}}),lte=_e(Pl,nte,(t,r)=>{var s,a;if(t==null)return{top:0,bottom:0};var{padding:n}=t;return typeof n=="string"?{top:r,bottom:r}:{top:((s=n.top)!==null&&s!==void 0?s:0)+r,bottom:((a=n.bottom)!==null&&a!==void 0?a:0)+r}}),ote=_e([ns,ite,Xx,Jx,(t,r,s)=>s],(t,r,s,a,n)=>{var{padding:i}=a;return n?[i.left,s.width-i.right]:[t.left+r.left,t.left+t.width-r.right]}),cte=_e([ns,Yt,lte,Xx,Jx,(t,r,s)=>s],(t,r,s,a,n,i)=>{var{padding:l}=n;return i?[a.height-l.bottom,l.top]:r==="horizontal"?[t.top+t.height-s.bottom,t.top+s.top]:[t.top+s.top,t.top+t.height-s.bottom]}),um=(t,r,s,a)=>{var n;switch(r){case"xAxis":return ote(t,s,a);case"yAxis":return cte(t,s,a);case"zAxis":return(n=pN(t,s))===null||n===void 0?void 0:n.range;case"angleAxis":return oR(t);case"radiusAxis":return cR(t,s);default:return}},ER=_e([Hr,um],lg),Qc=_e([Hr,Zc,rte,ER],AN);_e([dm,hg,Nr],vR);function TR(t,r){return t.id<r.id?-1:t.id>r.id?1:0}var xg=(t,r)=>r,gg=(t,r,s)=>s,dte=_e(Tj,xg,gg,(t,r,s)=>t.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(TR)),ute=_e(Dj,xg,gg,(t,r,s)=>t.filter(a=>a.orientation===r).filter(a=>a.mirror===s).sort(TR)),DR=(t,r)=>({width:t.width,height:r.height}),mte=(t,r)=>{var s=typeof r.width=="number"?r.width:Kx;return{width:s,height:t.height}},RR=_e(ns,Mi,DR),hte=(t,r,s)=>{switch(r){case"top":return t.top;case"bottom":return s-t.bottom;default:return 0}},xte=(t,r,s)=>{switch(r){case"left":return t.left;case"right":return s-t.right;default:return 0}},gte=_e(Oi,ns,dte,xg,gg,(t,r,s,a,n)=>{var i={},l;return s.forEach(c=>{var u=DR(r,c);l==null&&(l=hte(r,a,t));var h=a==="top"&&!n||a==="bottom"&&n;i[c.id]=l-Number(h)*u.height,l+=(h?-1:1)*u.height}),i}),pte=_e(Ri,ns,ute,xg,gg,(t,r,s,a,n)=>{var i={},l;return s.forEach(c=>{var u=mte(r,c);l==null&&(l=xte(r,a,t));var h=a==="left"&&!n||a==="right"&&n;i[c.id]=l-Number(h)*u.width,l+=(h?-1:1)*u.width}),i}),fte=(t,r)=>{var s=ns(t),a=Mi(t,r);if(a!=null){var n=gte(t,a.orientation,a.mirror),i=n[r];return i==null?{x:s.left,y:0}:{x:s.left,y:i}}},yte=(t,r)=>{var s=ns(t),a=Pl(t,r);if(a!=null){var n=pte(t,a.orientation,a.mirror),i=n[r];return i==null?{x:0,y:s.top}:{x:i,y:s.top}}},OR=_e(ns,Pl,(t,r)=>{var s=typeof r.width=="number"?r.width:Kx;return{width:s,height:t.height}}),K5=(t,r,s)=>{switch(r){case"xAxis":return RR(t,s).width;case"yAxis":return OR(t,s).height;default:return}},IR=(t,r,s,a)=>{if(s!=null){var{allowDuplicatedCategory:n,type:i,dataKey:l}=s,c=Di(t,a),u=r.map(h=>h.value);if(l&&c&&i==="category"&&n&&RE(u))return u}},TN=_e([Yt,mg,Hr,Nr],IR),MR=(t,r,s,a)=>{if(!(s==null||s.dataKey==null)){var{type:n,scale:i}=s,l=Di(t,a);if(l&&(n==="number"||i!=="auto"))return r.map(c=>c.value)}},DN=_e([Yt,mg,cm,Nr],MR),J5=_e([Yt,Lee,Zc,Qc,TN,DN,um,PN,Nr],(t,r,s,a,n,i,l,c,u)=>{if(r==null)return null;var h=Di(t,u);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:u,categoricalDomain:i,duplicateDomain:n,isCategorical:h,niceTicks:c,range:l,realScaleType:s,scale:a}}),bte=(t,r,s,a,n,i,l,c,u)=>{if(!(r==null||a==null)){var h=Di(t,u),{type:m,ticks:x,tickCount:g}=r,b=s==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,y=m==="category"&&a.bandwidth?a.bandwidth()/b:0;y=u==="angleAxis"&&i!=null&&i.length>=2?xs(i[0]-i[1])*2*y:y;var w=x||n;if(w){var N=w.map((_,S)=>{var k=l?l.indexOf(_):_;return{index:S,coordinate:a(k)+y,value:_,offset:y}});return N.filter(_=>!ha(_.coordinate))}return h&&c?c.map((_,S)=>({coordinate:a(_)+y,value:_,index:S,offset:y})):a.ticks?a.ticks(g).map(_=>({coordinate:a(_)+y,value:_,offset:y})):a.domain().map((_,S)=>({coordinate:a(_)+y,value:l?l[_]:_,index:S,offset:y}))}},LR=_e([Yt,cm,Zc,Qc,PN,um,TN,DN,Nr],bte),vte=(t,r,s,a,n,i,l)=>{if(!(r==null||s==null||a==null||a[0]===a[1])){var c=Di(t,l),{tickCount:u}=r,h=0;return h=l==="angleAxis"&&a?.length>=2?xs(a[0]-a[1])*2*h:h,c&&i?i.map((m,x)=>({coordinate:s(m)+h,value:m,index:x,offset:h})):s.ticks?s.ticks(u).map(m=>({coordinate:s(m)+h,value:m,offset:h})):s.domain().map((m,x)=>({coordinate:s(m)+h,value:n?n[m]:m,index:x,offset:h}))}},jl=_e([Yt,cm,Qc,um,TN,DN,Nr],vte),Nl=_e(Hr,Qc,(t,r)=>{if(!(t==null||r==null))return lx(lx({},t),{},{scale:r})}),wte=_e([Hr,Zc,_N,ER],AN);_e((t,r,s)=>pN(t,s),wte,(t,r)=>{if(!(t==null||r==null))return lx(lx({},t),{},{scale:r})});var jte=_e([Yt,Tj,Dj],(t,r,s)=>{switch(t){case"horizontal":return r.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$R=t=>t.options.defaultTooltipEventType,FR=t=>t.options.validateTooltipEventTypes;function BR(t,r,s){if(t==null)return r;var a=t?"axis":"item";return s==null?r:s.includes(a)?a:r}function RN(t,r){var s=$R(t),a=FR(t);return BR(r,s,a)}function Nte(t){return kt(r=>RN(r,t))}var UR=(t,r)=>{var s,a=Number(r);if(!(ha(a)||r==null))return a>=0?t==null||(s=t[a])===null||s===void 0?void 0:s.value:void 0},kte=t=>t.tooltip.settings,hl={active:!1,index:null,dataKey:void 0,coordinate:void 0},Ste={itemInteraction:{click:hl,hover:hl},axisInteraction:{click:hl,hover:hl},keyboardInteraction:hl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zR=Ba({name:"tooltip",initialState:Ste,reducers:{addTooltipEntrySettings(t,r){t.tooltipItemPayloads.push(r.payload)},removeTooltipEntrySettings(t,r){var s=vi(t).tooltipItemPayloads.indexOf(r.payload);s>-1&&t.tooltipItemPayloads.splice(s,1)},setTooltipSettingsState(t,r){t.settings=r.payload},setActiveMouseOverItemIndex(t,r){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=r.payload.activeIndex,t.itemInteraction.hover.dataKey=r.payload.activeDataKey,t.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,r){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=r.payload.activeIndex,t.itemInteraction.click.dataKey=r.payload.activeDataKey,t.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(t,r){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=r.payload.activeIndex,t.axisInteraction.hover.dataKey=r.payload.activeDataKey,t.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(t,r){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=r.payload.activeIndex,t.axisInteraction.click.dataKey=r.payload.activeDataKey,t.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(t,r){t.syncInteraction=r.payload},setKeyboardInteraction(t,r){t.keyboardInteraction.active=r.payload.active,t.keyboardInteraction.index=r.payload.activeIndex,t.keyboardInteraction.coordinate=r.payload.activeCoordinate,t.keyboardInteraction.dataKey=r.payload.activeDataKey}}}),{addTooltipEntrySettings:_te,removeTooltipEntrySettings:Ate,setTooltipSettingsState:Cte,setActiveMouseOverItemIndex:VR,mouseLeaveItem:Pte,mouseLeaveChart:qR,setActiveClickItemIndex:Ete,setMouseOverAxisIndex:HR,setMouseClickAxisIndex:Tte,setSyncInteraction:Uv,setKeyboardInteraction:zv}=zR.actions,Dte=zR.reducer;function X5(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function q0(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?X5(Object(s),!0).forEach(function(a){Rte(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):X5(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Rte(t,r,s){return(r=Ote(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Ote(t){var r=Ite(t,"string");return typeof r=="symbol"?r:r+""}function Ite(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Mte(t,r,s){return r==="axis"?s==="click"?t.axisInteraction.click:t.axisInteraction.hover:s==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Lte(t){return t.index!=null}var GR=(t,r,s,a)=>{if(r==null)return hl;var n=Mte(t,r,s);if(n==null)return hl;if(n.active)return n;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var i=t.settings.active===!0;if(Lte(n)){if(i)return q0(q0({},n),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return q0(q0({},hl),{},{coordinate:n.coordinate})},ON=(t,r)=>{var s=t?.index;if(s==null)return null;var a=Number(s);if(!Ss(a))return s;var n=0,i=1/0;return r.length>0&&(i=r.length-1),String(Math.max(n,Math.min(a,i)))},WR=(t,r,s,a,n,i,l,c)=>{if(!(i==null||c==null)){var u=l[0],h=u==null?void 0:c(u.positions,i);if(h!=null)return h;var m=n?.[Number(i)];if(m)switch(s){case"horizontal":return{x:m.coordinate,y:(a.top+r)/2};default:return{x:(a.left+t)/2,y:m.coordinate}}}},YR=(t,r,s,a)=>{if(r==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var n;return s==="hover"?n=t.itemInteraction.hover.dataKey:n=t.itemInteraction.click.dataKey,n==null&&a!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===n})},mm=t=>t.options.tooltipPayloadSearcher,ed=t=>t.tooltip;function Z5(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Q5(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Z5(Object(s),!0).forEach(function(a){$te(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Z5(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function $te(t,r,s){return(r=Fte(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Fte(t){var r=Bte(t,"string");return typeof r=="symbol"?r:r+""}function Bte(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ute(t,r){return t??r}var KR=(t,r,s,a,n,i,l)=>{if(!(r==null||i==null)){var{chartData:c,computedData:u,dataStartIndex:h,dataEndIndex:m}=s,x=[];return t.reduce((g,b)=>{var y,{dataDefinedOnItem:w,settings:N}=b,_=Ute(w,c),S=Array.isArray(_)?FT(_,h,m):_,k=(y=N?.dataKey)!==null&&y!==void 0?y:a?.dataKey,v=N?.nameKey,A;if(a!=null&&a.dataKey&&Array.isArray(S)&&!Array.isArray(S[0])&&l==="axis"?A=OE(S,a.dataKey,n):A=i(S,r,u,v),Array.isArray(A))A.forEach(T=>{var F=Q5(Q5({},N),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});g.push(DA({tooltipEntrySettings:F,dataKey:T.dataKey,payload:T.payload,value:dr(T.payload,T.dataKey),name:T.name}))});else{var E;g.push(DA({tooltipEntrySettings:N,dataKey:k,payload:A,value:dr(A,k),name:(E=dr(A,v))!==null&&E!==void 0?E:N?.name}))}return g},x)}},IN=_e([os,Yt,mR,dN,ls],CR),zte=_e([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,r)=>[...t,...r]),Vte=_e([ls,Jc],fN),hm=_e([zte,os,Vte],yN),qte=_e([hm],t=>t.filter(dg)),Hte=_e([hm],bN),td=_e([Hte,Cl],vN),Gte=_e([qte,Cl,os],uR),MN=_e([td,os,hm],jN),Wte=_e([os],NN),Yte=_e([hm],t=>t.filter(dg)),Kte=_e([Gte,Yte,lm],fR),Jte=_e([Kte,Cl,ls],yR),Xte=_e([hm],xR),Zte=_e([td,os,Xte,hg,ls],bR),Qte=_e([wR,ls,Jc],Xc),ere=_e([Qte,ls],kR),tre=_e([jR,ls,Jc],Xc),rre=_e([tre,ls],SR),sre=_e([NR,ls,Jc],Xc),are=_e([sre,ls],_R),nre=_e([ere,are,rre],ox),ire=_e([os,Wte,Jte,Zte,nre,Yt,ls],kN),JR=_e([os,Yt,td,MN,lm,ls,ire],SN),lre=_e([JR,os,IN],CN),ore=_e([os,JR,lre,ls],EN),XR=t=>{var r=ls(t),s=Jc(t),a=!1;return um(t,r,s,a)},ZR=_e([os,XR],lg),QR=_e([os,IN,ore,ZR],AN),cre=_e([Yt,MN,os,ls],IR),dre=_e([Yt,MN,os,ls],MR),ure=(t,r,s,a,n,i,l,c)=>{if(r){var{type:u}=r,h=Di(t,c);if(a){var m=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=u==="category"&&a.bandwidth?a.bandwidth()/m:0;return x=c==="angleAxis"&&n!=null&&n?.length>=2?xs(n[0]-n[1])*2*x:x,h&&l?l.map((g,b)=>({coordinate:a(g)+x,value:g,index:b,offset:x})):a.domain().map((g,b)=>({coordinate:a(g)+x,value:i?i[g]:g,index:b,offset:x}))}}},Li=_e([Yt,os,IN,QR,XR,cre,dre,ls],ure),LN=_e([$R,FR,kte],(t,r,s)=>BR(s.shared,t,r)),eO=t=>t.tooltip.settings.trigger,$N=t=>t.tooltip.settings.defaultIndex,pg=_e([ed,LN,eO,$N],GR),kl=_e([pg,td],ON),tO=_e([Li,kl],UR),rO=_e([pg],t=>{if(t)return t.dataKey}),sO=_e([ed,LN,eO,$N],YR),mre=_e([Ri,Oi,Yt,ns,Li,$N,sO,mm],WR),hre=_e([pg,mre],(t,r)=>t!=null&&t.coordinate?t.coordinate:r),xre=_e([pg],t=>t.active),gre=_e([sO,kl,Cl,os,tO,mm,LN],KR),pre=_e([gre],t=>{if(t!=null){var r=t.map(s=>s.payload).filter(s=>s!=null);return Array.from(new Set(r))}});function eC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function tC(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?eC(Object(s),!0).forEach(function(a){fre(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):eC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function fre(t,r,s){return(r=yre(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function yre(t){var r=bre(t,"string");return typeof r=="symbol"?r:r+""}function bre(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var vre=()=>kt(os),wre=()=>{var t=vre(),r=kt(Li),s=kt(QR);return Eu(tC(tC({},t),{},{scale:s}),r)},aO=()=>kt(dN),FN=(t,r)=>r,nO=(t,r,s)=>s,BN=(t,r,s,a)=>a,jre=_e(Li,t=>Vx(t,r=>r.coordinate)),UN=_e([ed,FN,nO,BN],GR),iO=_e([UN,td],ON),Nre=(t,r,s)=>{if(r!=null){var a=ed(t);return r==="axis"?s==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:s==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},lO=_e([ed,FN,nO,BN],YR),cx=_e([Ri,Oi,Yt,ns,Li,BN,lO,mm],WR),kre=_e([UN,cx],(t,r)=>{var s;return(s=t.coordinate)!==null&&s!==void 0?s:r}),oO=_e(Li,iO,UR),Sre=_e([lO,iO,Cl,os,oO,mm,FN],KR),_re=_e([UN],t=>({isActive:t.active,activeIndex:t.index})),Are=(t,r,s,a,n,i,l,c)=>{if(!(!t||!r||!a||!n||!i)){var u=KK(t.chartX,t.chartY,r,s,c);if(u){var h=XK(u,r),m=LK(h,l,i,a,n),x=JK(r,i,m,u);return{activeIndex:String(m),activeCoordinate:x}}}};function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Vv.apply(null,arguments)}function rC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function H0(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?rC(Object(s),!0).forEach(function(a){Cre(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):rC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Cre(t,r,s){return(r=Pre(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Pre(t){var r=Ere(t,"string");return typeof r=="symbol"?r:r+""}function Ere(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Tre(t){var{coordinate:r,payload:s,index:a,offset:n,tooltipAxisBandSize:i,layout:l,cursor:c,tooltipEventType:u,chartName:h}=t,m=r,x=s,g=a;if(!c||!m||h!=="ScatterChart"&&u!=="axis")return null;var b,y;if(h==="ScatterChart")b=m,y=YJ;else if(h==="BarChart")b=KJ(l,m,n,i),y=aD;else if(l==="radial"){var{cx:w,cy:N,radius:_,startAngle:S,endAngle:k}=nD(m);b={cx:w,cy:N,startAngle:S,endAngle:k,innerRadius:_,outerRadius:_},y=lD}else b={points:RX(l,m,n)},y=mu;var v=typeof c=="object"&&"className"in c?c.className:void 0,A=H0(H0(H0(H0({stroke:"#ccc",pointerEvents:"none"},n),b),Er(c,!1)),{},{payload:x,payloadIndex:g,className:tr("recharts-tooltip-cursor",v)});return f.isValidElement(c)?f.cloneElement(c,A):f.createElement(y,A)}function Dre(t){var r=wre(),s=WT(),a=Zx(),n=aO();return f.createElement(Tre,Vv({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:s,layout:a,tooltipAxisBandSize:r,chartName:n}))}var cO=f.createContext(null),Rre=()=>f.useContext(cO),Xy={exports:{}},sC;function Ore(){return sC||(sC=1,(function(t){var r=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(u,h,m){this.fn=u,this.context=h,this.once=m||!1}function i(u,h,m,x,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new n(m,x||u,g),y=s?s+h:h;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],b]:u._events[y].push(b):(u._events[y]=b,u._eventsCount++),u}function l(u,h){--u._eventsCount===0?u._events=new a:delete u._events[h]}function c(){this._events=new a,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],m,x;if(this._eventsCount===0)return h;for(x in m=this._events)r.call(m,x)&&h.push(s?x.slice(1):x);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},c.prototype.listeners=function(h){var m=s?s+h:h,x=this._events[m];if(!x)return[];if(x.fn)return[x.fn];for(var g=0,b=x.length,y=new Array(b);g<b;g++)y[g]=x[g].fn;return y},c.prototype.listenerCount=function(h){var m=s?s+h:h,x=this._events[m];return x?x.fn?1:x.length:0},c.prototype.emit=function(h,m,x,g,b,y){var w=s?s+h:h;if(!this._events[w])return!1;var N=this._events[w],_=arguments.length,S,k;if(N.fn){switch(N.once&&this.removeListener(h,N.fn,void 0,!0),_){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,m),!0;case 3:return N.fn.call(N.context,m,x),!0;case 4:return N.fn.call(N.context,m,x,g),!0;case 5:return N.fn.call(N.context,m,x,g,b),!0;case 6:return N.fn.call(N.context,m,x,g,b,y),!0}for(k=1,S=new Array(_-1);k<_;k++)S[k-1]=arguments[k];N.fn.apply(N.context,S)}else{var v=N.length,A;for(k=0;k<v;k++)switch(N[k].once&&this.removeListener(h,N[k].fn,void 0,!0),_){case 1:N[k].fn.call(N[k].context);break;case 2:N[k].fn.call(N[k].context,m);break;case 3:N[k].fn.call(N[k].context,m,x);break;case 4:N[k].fn.call(N[k].context,m,x,g);break;default:if(!S)for(A=1,S=new Array(_-1);A<_;A++)S[A-1]=arguments[A];N[k].fn.apply(N[k].context,S)}}return!0},c.prototype.on=function(h,m,x){return i(this,h,m,x,!1)},c.prototype.once=function(h,m,x){return i(this,h,m,x,!0)},c.prototype.removeListener=function(h,m,x,g){var b=s?s+h:h;if(!this._events[b])return this;if(!m)return l(this,b),this;var y=this._events[b];if(y.fn)y.fn===m&&(!g||y.once)&&(!x||y.context===x)&&l(this,b);else{for(var w=0,N=[],_=y.length;w<_;w++)(y[w].fn!==m||g&&!y[w].once||x&&y[w].context!==x)&&N.push(y[w]);N.length?this._events[b]=N.length===1?N[0]:N:l(this,b)}return this},c.prototype.removeAllListeners=function(h){var m;return h?(m=s?s+h:h,this._events[m]&&l(this,m)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=s,c.EventEmitter=c,t.exports=c})(Xy)),Xy.exports}var Ire=Ore();const Mre=xn(Ire);var $u=new Mre,qv="recharts.syncEvent.tooltip",aC="recharts.syncEvent.brush";function zN(t,r){if(r){var s=Number.parseInt(r,10);if(!ha(s))return t?.[s]}}var Lre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},dO=Ba({name:"options",initialState:Lre,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$re=dO.reducer,{createEventEmitter:Fre}=dO.actions;function Bre(t){return t.tooltip.syncInteraction}var Ure={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},uO=Ba({name:"chartData",initialState:Ure,reducers:{setChartData(t,r){if(t.chartData=r.payload,r.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}r.payload.length>0&&t.dataEndIndex!==r.payload.length-1&&(t.dataEndIndex=r.payload.length-1)},setComputedData(t,r){t.computedData=r.payload},setDataStartEndIndexes(t,r){var{startIndex:s,endIndex:a}=r.payload;s!=null&&(t.dataStartIndex=s),a!=null&&(t.dataEndIndex=a)}}}),{setChartData:nC,setDataStartEndIndexes:zre,setComputedData:Pme}=uO.actions,Vre=uO.reducer,mO=()=>{};function qre(){var t=kt(uN),r=kt(mN),s=Tr(),a=kt(nR),n=kt(Li),i=Zx(),l=Rj(),c=kt(u=>u.rootProps.className);f.useEffect(()=>{if(t==null)return mO;var u=(h,m,x)=>{if(r!==x&&t===h){if(a==="index"){s(m);return}if(n!=null){var g;if(typeof a=="function"){var b={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},y=a(n,b);g=n[y]}else a==="value"&&(g=n.find(E=>String(E.value)===m.payload.label));var{coordinate:w}=m.payload;if(g==null||m.payload.active===!1||w==null||l==null){s(Uv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:N,y:_}=w,S=Math.min(N,l.x+l.width),k=Math.min(_,l.y+l.height),v={x:i==="horizontal"?g.coordinate:S,y:i==="horizontal"?k:g.coordinate},A=Uv({active:m.payload.active,coordinate:v,dataKey:m.payload.dataKey,index:String(g.index),label:m.payload.label});s(A)}}};return $u.on(qv,u),()=>{$u.off(qv,u)}},[c,s,r,t,a,n,i,l])}function Hre(){var t=kt(uN),r=kt(mN),s=Tr();f.useEffect(()=>{if(t==null)return mO;var a=(n,i,l)=>{r!==l&&t===n&&s(zre(i))};return $u.on(aC,a),()=>{$u.off(aC,a)}},[s,r,t])}function Gre(){var t=Tr();f.useEffect(()=>{t(Fre())},[t]),qre(),Hre()}function Wre(t,r,s,a,n,i){var l=kt(g=>Nre(g,t,r)),c=kt(mN),u=kt(uN),h=kt(nR),m=kt(Bre),x=m?.active;f.useEffect(()=>{if(!x&&u!=null&&c!=null){var g=Uv({active:i,coordinate:s,dataKey:l,index:n,label:typeof a=="number"?String(a):a});$u.emit(qv,u,g,c)}},[x,s,l,n,a,c,u,h,i])}function iC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function lC(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?iC(Object(s),!0).forEach(function(a){Yre(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):iC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Yre(t,r,s){return(r=Kre(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Kre(t){var r=Jre(t,"string");return typeof r=="symbol"?r:r+""}function Jre(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Xre(t){return t.dataKey}function Zre(t,r){return f.isValidElement(t)?f.cloneElement(t,r):typeof t=="function"?f.createElement(t,r):f.createElement(_J,r)}var oC=[],Qre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!_o.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xl(t){var r=Ua(t,Qre),{active:s,allowEscapeViewBox:a,animationDuration:n,animationEasing:i,content:l,filterNull:c,isAnimationActive:u,offset:h,payloadUniqBy:m,position:x,reverseDirection:g,useTranslate3d:b,wrapperStyle:y,cursor:w,shared:N,trigger:_,defaultIndex:S,portal:k,axisId:v}=r,A=Tr(),E=typeof S=="number"?String(S):S;f.useEffect(()=>{A(Cte({shared:N,trigger:_,axisId:v,active:s,defaultIndex:E}))},[A,N,_,v,s,E]);var T=Rj(),F=XT(),R=Nte(N),{activeIndex:D,isActive:$}=kt(Pe=>_re(Pe,R,_,E)),B=kt(Pe=>Sre(Pe,R,_,E)),H=kt(Pe=>oO(Pe,R,_,E)),I=kt(Pe=>kre(Pe,R,_,E)),L=B,M=Rre(),q=s??$,[Z,G]=hT([L,q]),de=R==="axis"?H:void 0;Wre(R,_,I,de,D,q);var X=k??M;if(X==null)return null;var z=L??oC;q||(z=oC),c&&z.length&&(z=oT(L.filter(Pe=>Pe.value!=null&&(Pe.hide!==!0||r.includeHidden)),m,Xre));var Ie=z.length>0,ie=f.createElement(RJ,{allowEscapeViewBox:a,animationDuration:n,animationEasing:i,isAnimationActive:u,active:q,coordinate:I,hasPayload:Ie,offset:h,position:x,reverseDirection:g,useTranslate3d:b,viewBox:T,wrapperStyle:y,lastBoundingBox:Z,innerRef:G,hasPortalFromProps:!!k},Zre(l,lC(lC({},r),{},{payload:z,label:de,active:q,coordinate:I,accessibilityLayer:F})));return f.createElement(f.Fragment,null,M3.createPortal(ie,X),q&&f.createElement(Dre,{cursor:w,tooltipEventType:R,coordinate:I,payload:L,index:D}))}var Zy={},Qy={},eb={},cC;function ese(){return cC||(cC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s,a,{signal:n,edges:i}={}){let l,c=null;const u=i!=null&&i.includes("leading"),h=i==null||i.includes("trailing"),m=()=>{c!==null&&(s.apply(l,c),l=void 0,c=null)},x=()=>{h&&m(),w()};let g=null;const b=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,x()},a)},y=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{y(),l=void 0,c=null},N=()=>{m()},_=function(...S){if(n?.aborted)return;l=this,c=S;const k=g==null;b(),u&&k&&m()};return _.schedule=b,_.cancel=w,_.flush=N,n?.addEventListener("abort",w,{once:!0}),_}t.debounce=r})(eb)),eb}var dC;function tse(){return dC||(dC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=ese();function s(a,n=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:c=!0,maxWait:u}=i,h=Array(2);l&&(h[0]="leading"),c&&(h[1]="trailing");let m,x=null;const g=r.debounce(function(...w){m=a.apply(this,w),x=null},n,{edges:h}),b=function(...w){return u!=null&&(x===null&&(x=Date.now()),Date.now()-x>=u)?(m=a.apply(this,w),x=Date.now(),g.cancel(),g.schedule(),m):(g.apply(this,w),m)},y=()=>(g.flush(),m);return b.cancel=g.cancel,b.flush=y,b}t.debounce=s})(Qy)),Qy}var uC;function rse(){return uC||(uC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=tse();function s(a,n=0,i={}){const{leading:l=!0,trailing:c=!0}=i;return r.debounce(a,n,{leading:l,maxWait:n,trailing:c})}t.throttle=s})(Zy)),Zy}var tb,mC;function sse(){return mC||(mC=1,tb=rse().throttle),tb}var ase=sse();const nse=xn(ase);var hu=function(r,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]};function hC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function rb(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?hC(Object(s),!0).forEach(function(a){ise(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):hC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function ise(t,r,s){return(r=lse(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function lse(t){var r=ose(t,"string");return typeof r=="symbol"?r:r+""}function ose(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var gl=f.forwardRef((t,r)=>{var{aspect:s,initialDimension:a={width:-1,height:-1},width:n="100%",height:i="100%",minWidth:l=0,minHeight:c,maxHeight:u,children:h,debounce:m=0,id:x,className:g,onResize:b,style:y={}}=t,w=f.useRef(null),N=f.useRef();N.current=b,f.useImperativeHandle(r,()=>w.current);var[_,S]=f.useState({containerWidth:a.width,containerHeight:a.height}),k=f.useCallback((A,E)=>{S(T=>{var F=Math.round(A),R=Math.round(E);return T.containerWidth===F&&T.containerHeight===R?T:{containerWidth:F,containerHeight:R}})},[]);f.useEffect(()=>{var A=R=>{var D,{width:$,height:B}=R[0].contentRect;k($,B),(D=N.current)===null||D===void 0||D.call(N,$,B)};m>0&&(A=nse(A,m,{trailing:!0,leading:!1}));var E=new ResizeObserver(A),{width:T,height:F}=w.current.getBoundingClientRect();return k(T,F),E.observe(w.current),()=>{E.disconnect()}},[k,m]);var v=f.useMemo(()=>{var{containerWidth:A,containerHeight:E}=_;if(A<0||E<0)return null;hu(to(n)||to(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,n,i),hu(!s||s>0,"The aspect(%s) must be greater than zero.",s);var T=to(n)?A:n,F=to(i)?E:i;return s&&s>0&&(T?F=T/s:F&&(T=F*s),u&&F>u&&(F=u)),hu(T>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,F,n,i,l,c,s),f.Children.map(h,R=>f.cloneElement(R,{width:T,height:F,style:rb({width:T,height:F},R.props.style)}))},[s,h,i,u,c,l,_,n]);return f.createElement("div",{id:x?"".concat(x):void 0,className:tr("recharts-responsive-container",g),style:rb(rb({},y),{},{width:n,height:i,minWidth:l,minHeight:c,maxHeight:u}),ref:w},f.createElement("div",{style:{width:0,height:0,overflow:"visible"}},v))}),jo=t=>null;jo.displayName="Cell";function cse(t,r,s){return(r=dse(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function dse(t){var r=use(t,"string");return typeof r=="symbol"?r:r+""}function use(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class mse{constructor(r){cse(this,"cache",new Map),this.maxSize=r}get(r){var s=this.cache.get(r);return s!==void 0&&(this.cache.delete(r),this.cache.set(r,s)),s}set(r,s){if(this.cache.has(r))this.cache.delete(r);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;this.cache.delete(a)}this.cache.set(r,s)}clear(){this.cache.clear()}size(){return this.cache.size}}function xC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function hse(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?xC(Object(s),!0).forEach(function(a){xse(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):xC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function xse(t,r,s){return(r=gse(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function gse(t){var r=pse(t,"string");return typeof r=="symbol"?r:r+""}function pse(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var fse={cacheSize:2e3,enableCache:!0},hO=hse({},fse),gC=new mse(hO.cacheSize),yse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pC="recharts_measurement_span";function bse(t,r){var s=r.fontSize||"",a=r.fontFamily||"",n=r.fontWeight||"",i=r.fontStyle||"",l=r.letterSpacing||"",c=r.textTransform||"";return"".concat(t,"|").concat(s,"|").concat(a,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(c)}var fC=(t,r)=>{try{var s=document.getElementById(pC);s||(s=document.createElement("span"),s.setAttribute("id",pC),s.setAttribute("aria-hidden","true"),document.body.appendChild(s)),Object.assign(s.style,yse,r),s.textContent="".concat(t);var a=s.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},xu=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||_o.isSsr)return{width:0,height:0};if(!hO.enableCache)return fC(r,s);var a=bse(r,s),n=gC.get(a);if(n)return n;var i=fC(r,s);return gC.set(a,i),i},yC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jse=Object.keys(xO),xc="NaN";function Nse(t,r){return t*xO[r]}class aa{static parse(r){var s,[,a,n]=(s=wse.exec(r))!==null&&s!==void 0?s:[];return new aa(parseFloat(a),n??"")}constructor(r,s){this.num=r,this.unit=s,this.num=r,this.unit=s,ha(r)&&(this.unit=""),s!==""&&!vse.test(s)&&(this.num=NaN,this.unit=""),jse.includes(s)&&(this.num=Nse(r,s),this.unit="px")}add(r){return this.unit!==r.unit?new aa(NaN,""):new aa(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new aa(NaN,""):new aa(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new aa(NaN,""):new aa(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new aa(NaN,""):new aa(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ha(this.num)}}function gO(t){if(t.includes(xc))return xc;for(var r=t;r.includes("*")||r.includes("/");){var s,[,a,n,i]=(s=yC.exec(r))!==null&&s!==void 0?s:[],l=aa.parse(a??""),c=aa.parse(i??""),u=n==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return xc;r=r.replace(yC,u.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var h,[,m,x,g]=(h=bC.exec(r))!==null&&h!==void 0?h:[],b=aa.parse(m??""),y=aa.parse(g??""),w=x==="+"?b.add(y):b.subtract(y);if(w.isNaN())return xc;r=r.replace(bC,w.toString())}return r}var vC=/\(([^()]*)\)/;function kse(t){for(var r=t,s;(s=vC.exec(r))!=null;){var[,a]=s;r=r.replace(vC,gO(a))}return r}function Sse(t){var r=t.replace(/\s+/g,"");return r=kse(r),r=gO(r),r}function _se(t){try{return Sse(t)}catch{return xc}}function sb(t){var r=_se(t.slice(5,-1));return r===xc?"":r}var Ase=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Cse=["dx","dy","angle","className","breakAll"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Hv.apply(null,arguments)}function wC(t,r){if(t==null)return{};var s,a,n=Pse(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Pse(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}var pO=/[ \f\n\r\t\v\u2028\u2029]+/,fO=t=>{var{children:r,breakAll:s,style:a}=t;try{var n=[];jr(r)||(s?n=r.toString().split(""):n=r.toString().split(pO));var i=n.map(c=>({word:c,width:xu(c,a).width})),l=s?0:xu("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},Ese=(t,r,s,a,n)=>{var{maxLines:i,children:l,style:c,breakAll:u}=t,h=dt(i),m=l,x=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce((B,H)=>{var{word:I,width:L}=H,M=B[B.length-1];if(M&&(a==null||n||M.width+L+s<Number(a)))M.words.push(I),M.width+=L+s;else{var q={words:[I],width:L};B.push(q)}return B},[])},g=x(r),b=D=>D.reduce(($,B)=>$.width>B.width?$:B);if(!h||n)return g;var y=g.length>i||b(g).width>Number(a);if(!y)return g;for(var w="",N=D=>{var $=m.slice(0,D),B=fO({breakAll:u,style:c,children:$+w}).wordsWithComputedWidth,H=x(B),I=H.length>i||b(H).width>Number(a);return[I,H]},_=0,S=m.length-1,k=0,v;_<=S&&k<=m.length-1;){var A=Math.floor((_+S)/2),E=A-1,[T,F]=N(E),[R]=N(A);if(!T&&!R&&(_=A+1),T&&R&&(S=A-1),!T&&R){v=F;break}k++}return v||g},jC=t=>{var r=jr(t)?[]:t.toString().split(pO);return[{words:r}]},Tse=t=>{var{width:r,scaleToFit:s,children:a,style:n,breakAll:i,maxLines:l}=t;if((r||s)&&!_o.isSsr){var c,u,h=fO({breakAll:i,children:a,style:n});if(h){var{wordsWithComputedWidth:m,spaceWidth:x}=h;c=m,u=x}else return jC(a);return Ese({breakAll:i,children:a,maxLines:l,style:n},c,u,r,s)}return jC(a)},NC="#808080",fg=f.forwardRef((t,r)=>{var{x:s=0,y:a=0,lineHeight:n="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:u="end",fill:h=NC}=t,m=wC(t,Ase),x=f.useMemo(()=>Tse({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:g,dy:b,angle:y,className:w,breakAll:N}=m,_=wC(m,Cse);if(!Yn(s)||!Yn(a))return null;var S=s+(dt(g)?g:0),k=a+(dt(b)?b:0),v;switch(u){case"start":v=sb("calc(".concat(i,")"));break;case"middle":v=sb("calc(".concat((x.length-1)/2," * -").concat(n," + (").concat(i," / 2))"));break;default:v=sb("calc(".concat(x.length-1," * -").concat(n,")"));break}var A=[];if(l){var E=x[0].width,{width:T}=m;A.push("scale(".concat(dt(T)?T/E:1,")"))}return y&&A.push("rotate(".concat(y,", ").concat(S,", ").concat(k,")")),A.length&&(_.transform=A.join(" ")),f.createElement("text",Hv({},Er(_,!0),{ref:r,x:S,y:k,className:tr("recharts-text",w),textAnchor:c,fill:h.includes("url")?NC:h}),x.map((F,R)=>{var D=F.words.join(N?"":" ");return f.createElement("tspan",{x:S,dy:R===0?v:n,key:"".concat(D,"-").concat(R)},D)}))});fg.displayName="Text";var Dse=["offset"],Rse=["labelRef"];function kC(t,r){if(t==null)return{};var s,a,n=Ose(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Ose(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}function SC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Rr(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?SC(Object(s),!0).forEach(function(a){Ise(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):SC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Ise(t,r,s){return(r=Mse(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Mse(t){var r=Lse(t,"string");return typeof r=="symbol"?r:r+""}function Lse(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function mi(){return mi=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},mi.apply(null,arguments)}var $se=t=>{var{value:r,formatter:s}=t,a=jr(t.children)?r:t.children;return typeof s=="function"?s(a):a},VN=t=>t!=null&&typeof t=="function",Fse=(t,r)=>{var s=xs(r-t),a=Math.min(Math.abs(r-t),360);return s*a},Bse=(t,r,s,a)=>{var{position:n,offset:i,className:l}=t,{cx:c,cy:u,innerRadius:h,outerRadius:m,startAngle:x,endAngle:g,clockWise:b}=a,y=(h+m)/2,w=Fse(x,g),N=w>=0?1:-1,_,S;n==="insideStart"?(_=x+N*i,S=b):n==="insideEnd"?(_=g-N*i,S=!b):n==="end"&&(_=g+N*i,S=b),S=w<=0?S:!S;var k=Jr(c,u,y,_),v=Jr(c,u,y,_+(S?1:-1)*359),A="M".concat(k.x,",").concat(k.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(v.x,",").concat(v.y),E=jr(t.id)?Au("recharts-radial-line-"):t.id;return f.createElement("text",mi({},s,{dominantBaseline:"central",className:tr("recharts-radial-bar-label",l)}),f.createElement("defs",null,f.createElement("path",{id:E,d:A})),f.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Use=(t,r,s)=>{var{cx:a,cy:n,innerRadius:i,outerRadius:l,startAngle:c,endAngle:u}=t,h=(c+u)/2;if(s==="outside"){var{x:m,y:x}=Jr(a,n,l+r,h);return{x:m,y:x,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var g=(i+l)/2,{x:b,y}=Jr(a,n,g,h);return{x:b,y,textAnchor:"middle",verticalAnchor:"middle"}},zse=(t,r)=>{var{parentViewBox:s,offset:a,position:n}=t,{x:i,y:l,width:c,height:u}=r,h=u>=0?1:-1,m=h*a,x=h>0?"end":"start",g=h>0?"start":"end",b=c>=0?1:-1,y=b*a,w=b>0?"end":"start",N=b>0?"start":"end";if(n==="top"){var _={x:i+c/2,y:l-h*a,textAnchor:"middle",verticalAnchor:x};return Rr(Rr({},_),s?{height:Math.max(l-s.y,0),width:c}:{})}if(n==="bottom"){var S={x:i+c/2,y:l+u+m,textAnchor:"middle",verticalAnchor:g};return Rr(Rr({},S),s?{height:Math.max(s.y+s.height-(l+u),0),width:c}:{})}if(n==="left"){var k={x:i-y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Rr(Rr({},k),s?{width:Math.max(k.x-s.x,0),height:u}:{})}if(n==="right"){var v={x:i+c+y,y:l+u/2,textAnchor:N,verticalAnchor:"middle"};return Rr(Rr({},v),s?{width:Math.max(s.x+s.width-v.x,0),height:u}:{})}var A=s?{width:c,height:u}:{};return n==="insideLeft"?Rr({x:i+y,y:l+u/2,textAnchor:N,verticalAnchor:"middle"},A):n==="insideRight"?Rr({x:i+c-y,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},A):n==="insideTop"?Rr({x:i+c/2,y:l+m,textAnchor:"middle",verticalAnchor:g},A):n==="insideBottom"?Rr({x:i+c/2,y:l+u-m,textAnchor:"middle",verticalAnchor:x},A):n==="insideTopLeft"?Rr({x:i+y,y:l+m,textAnchor:N,verticalAnchor:g},A):n==="insideTopRight"?Rr({x:i+c-y,y:l+m,textAnchor:w,verticalAnchor:g},A):n==="insideBottomLeft"?Rr({x:i+y,y:l+u-m,textAnchor:N,verticalAnchor:x},A):n==="insideBottomRight"?Rr({x:i+c-y,y:l+u-m,textAnchor:w,verticalAnchor:x},A):n&&typeof n=="object"&&(dt(n.x)||to(n.x))&&(dt(n.y)||to(n.y))?Rr({x:i+Ys(n.x,c),y:l+Ys(n.y,u),textAnchor:"end",verticalAnchor:"end"},A):Rr({x:i+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Vse=t=>"cx"in t&&dt(t.cx);function Pa(t){var{offset:r=5}=t,s=kC(t,Dse),a=Rr({offset:r},s),{viewBox:n,position:i,value:l,children:c,content:u,className:h="",textBreakAll:m,labelRef:x}=a,g=kt(dR),b=Rj(),y=i==="center"?b:g??b,w=n||y;if(!w||jr(l)&&jr(c)&&!f.isValidElement(u)&&typeof u!="function")return null;var N=Rr(Rr({},a),{},{viewBox:w});if(f.isValidElement(u)){var{labelRef:_}=N,S=kC(N,Rse);return f.cloneElement(u,S)}var k;if(typeof u=="function"){if(k=f.createElement(u,N),f.isValidElement(k))return k}else k=$se(a);var v=Vse(w),A=Er(a,!0);if(v&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Bse(a,k,A,w);var E=v?Use(w,a.offset,a.position):zse(a,w);return f.createElement(fg,mi({ref:x,className:tr("recharts-label",h)},A,E,{breakAll:m}),k)}Pa.displayName="Label";var yO=t=>{var{cx:r,cy:s,angle:a,startAngle:n,endAngle:i,r:l,radius:c,innerRadius:u,outerRadius:h,x:m,y:x,top:g,left:b,width:y,height:w,clockWise:N,labelViewBox:_}=t;if(_)return _;if(dt(y)&&dt(w)){if(dt(m)&&dt(x))return{x:m,y:x,width:y,height:w};if(dt(g)&&dt(b))return{x:g,y:b,width:y,height:w}}if(dt(m)&&dt(x))return{x:m,y:x,width:0,height:0};if(dt(r)&&dt(s))return{cx:r,cy:s,startAngle:n||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:h||c||l||0,clockWise:N};if(t.viewBox)return t.viewBox},qse=(t,r,s)=>{if(!t)return null;var a={viewBox:r,labelRef:s};return t===!0?f.createElement(Pa,mi({key:"label-implicit"},a)):Yn(t)?f.createElement(Pa,mi({key:"label-implicit",value:t},a)):f.isValidElement(t)?t.type===Pa?f.cloneElement(t,Rr({key:"label-implicit"},a)):f.createElement(Pa,mi({key:"label-implicit",content:t},a)):VN(t)?f.createElement(Pa,mi({key:"label-implicit",content:t},a)):t&&typeof t=="object"?f.createElement(Pa,mi({},t,{key:"label-implicit"},a)):null},Hse=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&a&&!r.label)return null;var{children:n,labelRef:i}=r,l=yO(r),c=em(n,Pa).map((h,m)=>f.cloneElement(h,{viewBox:s||l,key:"label-".concat(m)}));if(!a)return c;var u=qse(r.label,s||l,i);return[u,...c]};Pa.parseViewBox=yO;Pa.renderCallByParent=Hse;var ab={},nb={},_C;function Gse(){return _C||(_C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return s[s.length-1]}t.last=r})(nb)),nb}var ib={},AC;function Wse(){return AC||(AC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){return Array.isArray(s)?s:Array.from(s)}t.toArray=r})(ib)),ib}var CC;function Yse(){return CC||(CC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=Gse(),s=Wse(),a=vj();function n(i){if(a.isArrayLike(i))return r.last(s.toArray(i))}t.last=n})(ab)),ab}var lb,PC;function Kse(){return PC||(PC=1,lb=Yse().last),lb}var Jse=Kse();const Xse=xn(Jse);var Zse=["valueAccessor"],Qse=["data","dataKey","clockWise","id","textBreakAll"];function dx(){return dx=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},dx.apply(null,arguments)}function EC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function TC(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?EC(Object(s),!0).forEach(function(a){eae(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):EC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function eae(t,r,s){return(r=tae(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function tae(t){var r=rae(t,"string");return typeof r=="symbol"?r:r+""}function rae(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function DC(t,r){if(t==null)return{};var s,a,n=sae(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function sae(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}var aae=t=>Array.isArray(t.value)?Xse(t.value):t.value;function yl(t){var{valueAccessor:r=aae}=t,s=DC(t,Zse),{data:a,dataKey:n,clockWise:i,id:l,textBreakAll:c}=s,u=DC(s,Qse);return!a||!a.length?null:f.createElement(as,{className:"recharts-label-list"},a.map((h,m)=>{var x=jr(n)?r(h,m):dr(h&&h.payload,n),g=jr(l)?{}:{id:"".concat(l,"-").concat(m)};return f.createElement(Pa,dx({},Er(h,!0),u,g,{parentViewBox:h.parentViewBox,value:x,textBreakAll:c,viewBox:Pa.parseViewBox(jr(i)?h:TC(TC({},h),{},{clockWise:i})),key:"label-".concat(m),index:m}))}))}yl.displayName="LabelList";function nae(t,r){return t?t===!0?f.createElement(yl,{key:"labelList-implicit",data:r}):f.isValidElement(t)||VN(t)?f.createElement(yl,{key:"labelList-implicit",data:r,content:t}):typeof t=="object"?f.createElement(yl,dx({data:r},t,{key:"labelList-implicit"})):null:null}function iae(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var{children:a}=t,n=em(a,yl).map((l,c)=>f.cloneElement(l,{data:r,key:"labelList-".concat(c)}));if(!s)return n;var i=nae(t.label,r);return[i,...n]}yl.renderCallByParent=iae;function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Gv.apply(null,arguments)}var bO=t=>{var{cx:r,cy:s,r:a,className:n}=t,i=tr("recharts-dot",n);return r===+r&&s===+s&&a===+a?f.createElement("circle",Gv({},Jn(t),mj(t),{className:i,cx:r,cy:s,r:a})):null},vO=t=>t.graphicalItems.polarItems,lae=_e([Nr,om],fN),qN=_e([vO,Hr,lae],yN),oae=_e([qN],bN),HN=_e([oae,lN],vN),cae=_e([HN,Hr,qN],jN),dae=_e([HN,Hr,qN],(t,r,s)=>s.length>0?t.flatMap(a=>s.flatMap(n=>{var i,l=dr(a,(i=r.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):r?.dataKey!=null?t.map(a=>({value:dr(a,r.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]}))),RC=()=>{},uae=_e([Hr,AR,RC,dae,RC,Yt,Nr],kN),wO=_e([Hr,Yt,HN,cae,lm,Nr,uae],SN),mae=_e([wO,Hr,Zc],CN);_e([Hr,wO,mae,Nr],EN);var hae={radiusAxis:{},angleAxis:{}},jO=Ba({name:"polarAxis",initialState:hae,reducers:{addRadiusAxis(t,r){t.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(t,r){delete t.radiusAxis[r.payload.id]},addAngleAxis(t,r){t.angleAxis[r.payload.id]=r.payload},removeAngleAxis(t,r){delete t.angleAxis[r.payload.id]}}}),{addRadiusAxis:Eme,removeRadiusAxis:Tme,addAngleAxis:Dme,removeAngleAxis:Rme}=jO.actions,xae=jO.reducer;function OC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function IC(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?OC(Object(s),!0).forEach(function(a){gae(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):OC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function gae(t,r,s){return(r=pae(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function pae(t){var r=fae(t,"string");return typeof r=="symbol"?r:r+""}function fae(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var yae=(t,r)=>r,GN=_e([vO,yae],(t,r)=>t.filter(s=>s.type==="pie").find(s=>s.id===r)),bae=[],WN=(t,r,s)=>s?.length===0?bae:s,NO=_e([lN,GN,WN],(t,r,s)=>{var{chartData:a}=t;if(r!=null){var n;if(r?.data!=null&&r.data.length>0?n=r.data:n=a,(!n||!n.length)&&s!=null&&(n=s.map(i=>IC(IC({},r.presentationProps),i.props))),n!=null)return n}}),vae=_e([NO,GN,WN],(t,r,s)=>{if(!(t==null||r==null))return t.map((a,n)=>{var i,l=dr(a,r.nameKey,r.name),c;return s!=null&&(i=s[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=s[n].props.fill:typeof a=="object"&&a!=null&&"fill"in a?c=a.fill:c=r.fill,{value:Gc(l,r.dataKey),color:c,payload:a,type:r.legendType}})}),wae=_e([NO,GN,WN,ns],(t,r,s,a)=>{if(!(r==null||t==null))return xne({offset:a,pieSettings:r,displayedData:t,cells:s})}),ob={},MC;function jae(){return MC||(MC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function r(s){if(typeof s!="object"||s==null)return!1;if(Object.getPrototypeOf(s)===null)return!0;if(Object.prototype.toString.call(s)!=="[object Object]"){const n=s[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(s,Symbol.toStringTag)?.writable?!1:s.toString()===`[object ${n}]`}let a=s;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(s)===a}t.isPlainObject=r})(ob)),ob}var cb,LC;function Nae(){return LC||(LC=1,cb=jae().isPlainObject),cb}var kae=Nae();const Sae=xn(kae);function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},ux.apply(null,arguments)}var $C=(t,r,s,a,n)=>{var i=s-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+s,",").concat(r),l+="L ".concat(t+s-i/2,",").concat(r+n),l+="L ".concat(t+s-i/2-a,",").concat(r+n),l+="L ".concat(t,",").concat(r," Z"),l},_ae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Aae=t=>{var r=Ua(t,_ae),s=f.useRef(),[a,n]=f.useState(-1);f.useEffect(()=>{if(s.current&&s.current.getTotalLength)try{var N=s.current.getTotalLength();N&&n(N)}catch{}},[]);var{x:i,y:l,upperWidth:c,lowerWidth:u,height:h,className:m}=r,{animationEasing:x,animationDuration:g,animationBegin:b,isUpdateAnimationActive:y}=r;if(i!==+i||l!==+l||c!==+c||u!==+u||h!==+h||c===0&&u===0||h===0)return null;var w=tr("recharts-trapezoid",m);return y?f.createElement(Kh,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:i,y:l},to:{upperWidth:c,lowerWidth:u,height:h,x:i,y:l},duration:g,animationEasing:x,isActive:y},N=>{var{upperWidth:_,lowerWidth:S,height:k,x:v,y:A}=N;return f.createElement(Kh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:x},f.createElement("path",ux({},Er(r,!0),{className:w,d:$C(v,A,_,S,k),ref:s})))}):f.createElement("g",null,f.createElement("path",ux({},Er(r,!0),{className:w,d:$C(i,l,c,u,h)})))},Cae=["option","shapeType","propTransformer","activeClassName","isActive"];function Pae(t,r){if(t==null)return{};var s,a,n=Eae(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Eae(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}function FC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function mx(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?FC(Object(s),!0).forEach(function(a){Tae(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):FC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Tae(t,r,s){return(r=Dae(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Dae(t){var r=Rae(t,"string");return typeof r=="symbol"?r:r+""}function Rae(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Oae(t,r){return mx(mx({},r),t)}function Iae(t,r){return t==="symbols"}function BC(t){var{shapeType:r,elementProps:s}=t;switch(r){case"rectangle":return f.createElement(aD,s);case"trapezoid":return f.createElement(Aae,s);case"sector":return f.createElement(lD,s);case"symbols":if(Iae(r))return f.createElement(fj,s);break;default:return null}}function Mae(t){return f.isValidElement(t)?t.props:t}function kO(t){var{option:r,shapeType:s,propTransformer:a=Oae,activeClassName:n="recharts-active-shape",isActive:i}=t,l=Pae(t,Cae),c;if(f.isValidElement(r))c=f.cloneElement(r,mx(mx({},l),Mae(r)));else if(typeof r=="function")c=r(l);else if(Sae(r)&&typeof r!="boolean"){var u=a(r,l);c=f.createElement(BC,{shapeType:s,elementProps:u})}else{var h=l;c=f.createElement(BC,{shapeType:s,elementProps:h})}return i?f.createElement(as,{className:n},c):c}var YN=(t,r)=>{var s=Tr();return(a,n)=>i=>{t?.(a,n,i),s(VR({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}},KN=t=>{var r=Tr();return(s,a)=>n=>{t?.(s,a,n),r(Pte())}},JN=(t,r)=>{var s=Tr();return(a,n)=>i=>{t?.(a,n,i),s(Ete({activeIndex:String(n),activeDataKey:r,activeCoordinate:a.tooltipPosition}))}};function XN(t){var{fn:r,args:s}=t,a=Tr(),n=xa();return f.useEffect(()=>{if(!n){var i=r(s);return a(_te(i)),()=>{a(Ate(i))}}},[r,s,a,n]),null}var SO=()=>{};function _O(t){var{legendPayload:r}=t,s=Tr(),a=xa();return f.useEffect(()=>a?SO:(s(KT(r)),()=>{s(JT(r))}),[s,a,r]),null}function Lae(t){var{legendPayload:r}=t,s=Tr(),a=kt(Yt);return f.useEffect(()=>a!=="centric"&&a!=="radial"?SO:(s(KT(r)),()=>{s(JT(r))}),[s,a,r]),null}function ZN(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",s=f.useRef(Au(r)),a=f.useRef(t);return a.current!==t&&(s.current=Au(r),a.current=t),s.current}var db,$ae=()=>{var[t]=f.useState(()=>Au("uid-"));return t},Fae=(db=d7.useId)!==null&&db!==void 0?db:$ae;function Bae(t,r){var s=Fae();return r||(t?"".concat(t,"-").concat(s):s)}var Uae=f.createContext(void 0),QN=t=>{var{id:r,type:s,children:a}=t,n=Bae("recharts-".concat(s),r);return f.createElement(Uae.Provider,{value:n},a(n))},zae={cartesianItems:[],polarItems:[]},AO=Ba({name:"graphicalItems",initialState:zae,reducers:{addCartesianGraphicalItem(t,r){t.cartesianItems.push(r.payload)},replaceCartesianGraphicalItem(t,r){var{prev:s,next:a}=r.payload,n=vi(t).cartesianItems.indexOf(s);n>-1&&(t.cartesianItems[n]=a)},removeCartesianGraphicalItem(t,r){var s=vi(t).cartesianItems.indexOf(r.payload);s>-1&&t.cartesianItems.splice(s,1)},addPolarGraphicalItem(t,r){t.polarItems.push(r.payload)},removePolarGraphicalItem(t,r){var s=vi(t).polarItems.indexOf(r.payload);s>-1&&t.polarItems.splice(s,1)}}}),{addCartesianGraphicalItem:Vae,replaceCartesianGraphicalItem:qae,removeCartesianGraphicalItem:Hae,addPolarGraphicalItem:Gae,removePolarGraphicalItem:Wae}=AO.actions,Yae=AO.reducer;function CO(t){var r=Tr(),s=f.useRef(null);return f.useEffect(()=>{s.current===null?r(Vae(t)):s.current!==t&&r(qae({prev:s.current,next:t})),s.current=t},[r,t]),f.useEffect(()=>()=>{s.current&&(r(Hae(s.current)),s.current=null)},[r]),null}function Kae(t){var r=Tr();return f.useEffect(()=>(r(Gae(t)),()=>{r(Wae(t))}),[r,t]),null}function Jae(){}var Xae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},UC={t:0},ub={t:1};function ek(t){var r=Ua(t,Xae),{isActive:s,canBegin:a,duration:n,easing:i,begin:l,onAnimationEnd:c,onAnimationStart:u,children:h}=r,m=sD("JavascriptAnimate",r.animationManager),[x,g]=f.useState(s?UC:ub),b=f.useRef(null);return f.useEffect(()=>{s||g(ub)},[s]),f.useEffect(()=>{if(!s||!a)return Jae;var y=rD(UC,ub,eD(i),n,g,m.getTimeoutController()),w=()=>{b.current=y()};return m.start([u,l,w,n,c]),()=>{m.stop(),b.current&&b.current(),c()}},[s,a,n,i,l,u,c,m]),h(x.t)}var Zae=["onMouseEnter","onClick","onMouseLeave"],Qae=["id"],ene=["id"];function tk(t,r){if(t==null)return{};var s,a,n=tne(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function tne(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}function zC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Mr(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?zC(Object(s),!0).forEach(function(a){rne(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):zC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function rne(t,r,s){return(r=sne(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function sne(t){var r=ane(t,"string");return typeof r=="symbol"?r:r+""}function ane(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ti(){return Ti=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Ti.apply(null,arguments)}function nne(t){var r=f.useMemo(()=>em(t.children,jo),[t.children]),s=kt(a=>vae(a,t.id,r));return s==null?null:f.createElement(Lae,{legendPayload:s})}function ine(t){var{dataKey:r,nameKey:s,sectors:a,stroke:n,strokeWidth:i,fill:l,name:c,hide:u,tooltipType:h}=t;return{dataDefinedOnItem:a?.map(m=>m.tooltipPayload),positions:a?.map(m=>m.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:l,dataKey:r,nameKey:s,name:Gc(c,r),hide:u,type:h,color:l,unit:""}}}var lne=(t,r)=>t>r?"start":t<r?"end":"middle",one=(t,r,s)=>typeof r=="function"?r(t):Ys(r,s,s*.8),cne=(t,r,s)=>{var{top:a,left:n,width:i,height:l}=r,c=$T(i,l),u=n+Ys(t.cx,i,i/2),h=a+Ys(t.cy,l,l/2),m=Ys(t.innerRadius,c,0),x=one(s,t.outerRadius,c),g=t.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:u,cy:h,innerRadius:m,outerRadius:x,maxRadius:g}},dne=(t,r)=>{var s=xs(r-t),a=Math.min(Math.abs(r-t),360);return s*a},une=(t,r)=>{if(f.isValidElement(t))return f.cloneElement(t,r);if(typeof t=="function")return t(r);var s=tr("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return f.createElement(mu,Ti({},r,{type:"linear",className:s}))},mne=(t,r,s)=>{if(f.isValidElement(t))return f.cloneElement(t,r);var a=s;if(typeof t=="function"&&(a=t(r),f.isValidElement(a)))return a;var n=tr("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return f.createElement(fg,Ti({},r,{alignmentBaseline:"middle",className:n}),a)};function hne(t){var{sectors:r,props:s,showLabels:a}=t,{label:n,labelLine:i,dataKey:l}=s;if(!a||!n||!r)return null;var c=Jn(s),u=Er(n,!1),h=Er(i,!1),m=typeof n=="object"&&"offsetRadius"in n&&n.offsetRadius||20,x=r.map((g,b)=>{var y=(g.startAngle+g.endAngle)/2,w=Jr(g.cx,g.cy,g.outerRadius+m,y),N=Mr(Mr(Mr(Mr({},c),g),{},{stroke:"none"},u),{},{index:b,textAnchor:lne(w.x,g.cx)},w),_=Mr(Mr(Mr(Mr({},c),g),{},{fill:"none",stroke:g.fill},h),{},{index:b,points:[Jr(g.cx,g.cy,g.outerRadius,y),w],key:"line"});return f.createElement(as,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},i&&une(i,_),mne(n,N,dr(g,l)))});return f.createElement(as,{className:"recharts-pie-labels"},x)}function PO(t){var{sectors:r,activeShape:s,inactiveShape:a,allOtherPieProps:n,showLabels:i}=t,l=kt(kl),{onMouseEnter:c,onClick:u,onMouseLeave:h}=n,m=tk(n,Zae),x=YN(c,n.dataKey),g=KN(h),b=JN(u,n.dataKey);return r==null?null:f.createElement(f.Fragment,null,r.map((y,w)=>{if(y?.startAngle===0&&y?.endAngle===0&&r.length!==1)return null;var N=s&&String(w)===l,_=l?a:null,S=N?s:_,k=Mr(Mr({},y),{},{stroke:y.stroke,tabIndex:-1,[qT]:w,[HT]:n.dataKey});return f.createElement(as,Ti({tabIndex:-1,className:"recharts-pie-sector"},Qu(m,y,w),{onMouseEnter:x(y,w),onMouseLeave:g(y,w),onClick:b(y,w),key:"sector-".concat(y?.startAngle,"-").concat(y?.endAngle,"-").concat(y.midAngle,"-").concat(w)}),f.createElement(kO,Ti({option:S,isActive:N,shapeType:"sector"},k)))}),f.createElement(hne,{sectors:r,props:n,showLabels:i}))}function xne(t){var r,{pieSettings:s,displayedData:a,cells:n,offset:i}=t,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:h,nameKey:m,tooltipType:x}=s,g=Math.abs(s.minAngle),b=dne(c,u),y=Math.abs(b),w=a.length<=1?0:(r=s.paddingAngle)!==null&&r!==void 0?r:0,N=a.filter(E=>dr(E,h,0)!==0).length,_=(y>=360?N:N-1)*w,S=y-N*g-_,k=a.reduce((E,T)=>{var F=dr(T,h,0);return E+(dt(F)?F:0)},0),v;if(k>0){var A;v=a.map((E,T)=>{var F=dr(E,h,0),R=dr(E,m,T),D=cne(s,i,E),$=(dt(F)?F:0)/k,B,H=Mr(Mr({},E),n&&n[T]&&n[T].props);T?B=A.endAngle+xs(b)*w*(F!==0?1:0):B=c;var I=B+xs(b)*((F!==0?g:0)+$*S),L=(B+I)/2,M=(D.innerRadius+D.outerRadius)/2,q=[{name:R,value:F,payload:H,dataKey:h,type:x}],Z=Jr(D.cx,D.cy,M,L);return A=Mr(Mr(Mr(Mr({},s.presentationProps),{},{percent:$,cornerRadius:l,name:R,tooltipPayload:q,midAngle:L,middleRadius:M,tooltipPosition:Z},H),D),{},{value:dr(E,h),startAngle:B,endAngle:I,payload:H,paddingAngle:xs(b)*w}),A})}return v}function gne(t){var{props:r,previousSectorsRef:s}=t,{sectors:a,isAnimationActive:n,animationBegin:i,animationDuration:l,animationEasing:c,activeShape:u,inactiveShape:h,onAnimationStart:m,onAnimationEnd:x}=r,g=ZN(r,"recharts-pie-"),b=s.current,[y,w]=f.useState(!0),N=f.useCallback(()=>{typeof x=="function"&&x(),w(!1)},[x]),_=f.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return f.createElement(ek,{begin:i,duration:l,isActive:n,easing:c,onAnimationStart:_,onAnimationEnd:N,key:g},S=>{var k=[],v=a&&a[0],A=v.startAngle;return a.forEach((E,T)=>{var F=b&&b[T],R=T>0?wl(E,"paddingAngle",0):0;if(F){var D=h_(F.endAngle-F.startAngle,E.endAngle-E.startAngle),$=Mr(Mr({},E),{},{startAngle:A+R,endAngle:A+D(S)+R});k.push($),A=$.endAngle}else{var{endAngle:B,startAngle:H}=E,I=h_(0,B-H),L=I(S),M=Mr(Mr({},E),{},{startAngle:A+R,endAngle:A+L+R});k.push(M),A=M.endAngle}}),s.current=k,f.createElement(as,null,f.createElement(PO,{sectors:k,activeShape:u,inactiveShape:h,allOtherPieProps:r,showLabels:!y}))})}function pne(t){var{sectors:r,isAnimationActive:s,activeShape:a,inactiveShape:n}=t,i=f.useRef(null),l=i.current;return s&&r&&r.length&&(!l||l!==r)?f.createElement(gne,{props:t,previousSectorsRef:i}):f.createElement(PO,{sectors:r,activeShape:a,inactiveShape:n,allOtherPieProps:t,showLabels:!0})}function fne(t){var{hide:r,className:s,rootTabIndex:a}=t,n=tr("recharts-pie",s);return r?null:f.createElement(as,{tabIndex:a,className:n},f.createElement(pne,t))}var yne={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!_o.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function bne(t){var{id:r}=t,s=tk(t,Qae),a=f.useMemo(()=>em(t.children,jo),[t.children]),n=kt(i=>wae(i,r,a));return f.createElement(f.Fragment,null,f.createElement(XN,{fn:ine,args:Mr(Mr({},t),{},{sectors:n})}),f.createElement(fne,Ti({},s,{sectors:n})))}function hx(t){var r=Ua(t,yne),{id:s}=r,a=tk(r,ene),n=Jn(a);return f.createElement(QN,{id:s,type:"pie"},i=>f.createElement(f.Fragment,null,f.createElement(Kae,{type:"pie",id:i,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n}),f.createElement(nne,Ti({},a,{id:i})),f.createElement(bne,Ti({},a,{id:i})),a.children))}hx.displayName="Pie";var vne=_e([ns],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),wne=_e([vne,Ri,Oi],(t,r,s)=>{if(!(!t||r==null||s==null))return{x:t.left,y:t.top,width:Math.max(0,r-t.left-t.right),height:Math.max(0,s-t.top-t.bottom)}}),rk=()=>kt(wne),jne=()=>kt(pre);function VC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function qC(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?VC(Object(s),!0).forEach(function(a){Nne(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):VC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Nne(t,r,s){return(r=kne(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function kne(t){var r=Sne(t,"string");return typeof r=="symbol"?r:r+""}function Sne(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var _ne=t=>{var{point:r,childIndex:s,mainColor:a,activeDot:n,dataKey:i}=t;if(n===!1||r.x==null||r.y==null)return null;var l=qC(qC({index:s,dataKey:i,cx:r.x,cy:r.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Er(n,!1)),mj(n)),c;return f.isValidElement(n)?c=f.cloneElement(n,l):typeof n=="function"?c=n(l):c=f.createElement(bO,l),f.createElement(as,{className:"recharts-active-dot"},c)};function HC(t){var{points:r,mainColor:s,activeDot:a,itemDataKey:n}=t,i=kt(kl),l=jne();if(r==null||l==null)return null;var c=r.find(u=>l.includes(u.payload));return jr(c)?null:_ne({point:c,childIndex:Number(i),mainColor:s,dataKey:n,activeDot:a})}var Ane="Invariant failed";function Cne(t,r){throw new Error(Ane)}var Pne=["x","y"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Wv.apply(null,arguments)}function GC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Jd(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?GC(Object(s),!0).forEach(function(a){Ene(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):GC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Ene(t,r,s){return(r=Tne(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Tne(t){var r=Dne(t,"string");return typeof r=="symbol"?r:r+""}function Dne(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Rne(t,r){if(t==null)return{};var s,a,n=One(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function One(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}function Ine(t,r){var{x:s,y:a}=t,n=Rne(t,Pne),i="".concat(s),l=parseInt(i,10),c="".concat(a),u=parseInt(c,10),h="".concat(r.height||n.height),m=parseInt(h,10),x="".concat(r.width||n.width),g=parseInt(x,10);return Jd(Jd(Jd(Jd(Jd({},r),n),l?{x:l}:{}),u?{y:u}:{}),{},{height:m,width:g,name:r.name,radius:r.radius})}function EO(t){return f.createElement(kO,Wv({shapeType:"rectangle",propTransformer:Ine,activeClassName:"recharts-active-bar"},t))}var Mne=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(dt(r))return r;var i=dt(a)||jr(a);return i?r(a,n):(i||Cne(),s)}},Lne={},TO=Ba({name:"errorBars",initialState:Lne,reducers:{addErrorBar:(t,r)=>{var{itemId:s,errorBar:a}=r.payload;t[s]||(t[s]=[]),t[s].push(a)},removeErrorBar:(t,r)=>{var{itemId:s,errorBar:a}=r.payload;t[s]&&(t[s]=t[s].filter(n=>n.dataKey!==a.dataKey||n.direction!==a.direction))}}}),{addErrorBar:Ome,removeErrorBar:Ime}=TO.actions,$ne=TO.reducer,Fne=["children"];function Bne(t,r){if(t==null)return{};var s,a,n=Une(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Une(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}var zne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Vne=f.createContext(zne);function qne(t){var{children:r}=t,s=Bne(t,Fne);return f.createElement(Vne.Provider,{value:s},r)}function sk(t,r){var s,a,n=kt(h=>Mi(h,t)),i=kt(h=>Pl(h,r)),l=(s=n?.allowDataOverflow)!==null&&s!==void 0?s:ja.allowDataOverflow,c=(a=i?.allowDataOverflow)!==null&&a!==void 0?a:Na.allowDataOverflow,u=l||c;return{needClip:u,needClipX:l,needClipY:c}}function DO(t){var{xAxisId:r,yAxisId:s,clipPathId:a}=t,n=rk(),{needClipX:i,needClipY:l,needClip:c}=sk(r,s);if(!c)return null;var{x:u,y:h,width:m,height:x}=n;return f.createElement("clipPath",{id:"clipPath-".concat(a)},f.createElement("rect",{x:i?u:u-m/2,y:l?h:h-x/2,width:i?m:m*2,height:l?x:x*2}))}var Hne=["onMouseEnter","onMouseLeave","onClick"],Gne=["value","background","tooltipPosition"],Wne=["id"],Yne=["onMouseEnter","onClick","onMouseLeave"];function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Ic.apply(null,arguments)}function WC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Os(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?WC(Object(s),!0).forEach(function(a){Kne(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):WC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Kne(t,r,s){return(r=Jne(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Jne(t){var r=Xne(t,"string");return typeof r=="symbol"?r:r+""}function Xne(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function xx(t,r){if(t==null)return{};var s,a,n=Zne(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Zne(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}var Qne=t=>{var{dataKey:r,name:s,fill:a,legendType:n,hide:i}=t;return[{inactive:i,dataKey:r,type:n,color:a,value:Gc(s,r),payload:t}]};function eie(t){var{dataKey:r,stroke:s,strokeWidth:a,fill:n,name:i,hide:l,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:a,fill:n,dataKey:r,nameKey:void 0,name:Gc(i,r),hide:l,type:t.tooltipType,color:t.fill,unit:c}}}function tie(t){var r=kt(kl),{data:s,dataKey:a,background:n,allOtherBarProps:i}=t,{onMouseEnter:l,onMouseLeave:c,onClick:u}=i,h=xx(i,Hne),m=YN(l,a),x=KN(c),g=JN(u,a);if(!n||s==null)return null;var b=Er(n,!1);return f.createElement(f.Fragment,null,s.map((y,w)=>{var{value:N,background:_,tooltipPosition:S}=y,k=xx(y,Gne);if(!_)return null;var v=m(y,w),A=x(y,w),E=g(y,w),T=Os(Os(Os(Os(Os({option:n,isActive:String(w)===r},k),{},{fill:"#eee"},_),b),Qu(h,y,w)),{},{onMouseEnter:v,onMouseLeave:A,onClick:E,dataKey:a,index:w,className:"recharts-bar-background-rectangle"});return f.createElement(EO,Ic({key:"background-bar-".concat(w)},T))}))}function RO(t){var{data:r,props:s,showLabels:a}=t,n=Jn(s),{id:i}=n,l=xx(n,Wne),{shape:c,dataKey:u,activeBar:h}=s,m=kt(kl),x=kt(rO),{onMouseEnter:g,onClick:b,onMouseLeave:y}=s,w=xx(s,Yne),N=YN(g,u),_=KN(y),S=JN(b,u);return r?f.createElement(f.Fragment,null,r.map((k,v)=>{var A=h&&String(v)===m&&(x==null||u===x),E=A?h:c,T=Os(Os(Os({},l),k),{},{isActive:A,option:E,index:v,dataKey:u});return f.createElement(as,Ic({className:"recharts-bar-rectangle"},Qu(w,k,v),{onMouseEnter:N(k,v),onMouseLeave:_(k,v),onClick:S(k,v),key:"rectangle-".concat(k?.x,"-").concat(k?.y,"-").concat(k?.value,"-").concat(v)}),f.createElement(EO,T))}),a&&yl.renderCallByParent(s,r)):null}function rie(t){var{props:r,previousRectanglesRef:s}=t,{data:a,layout:n,isAnimationActive:i,animationBegin:l,animationDuration:c,animationEasing:u,onAnimationEnd:h,onAnimationStart:m}=r,x=s.current,g=ZN(r,"recharts-bar-"),[b,y]=f.useState(!1),w=f.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),N=f.useCallback(()=>{typeof m=="function"&&m(),y(!0)},[m]);return f.createElement(ek,{begin:l,duration:c,isActive:i,easing:u,onAnimationEnd:w,onAnimationStart:N,key:g},_=>{var S=_===1?a:a?.map((k,v)=>{var A=x&&x[v];if(A)return Os(Os({},k),{},{x:rn(A.x,k.x,_),y:rn(A.y,k.y,_),width:rn(A.width,k.width,_),height:rn(A.height,k.height,_)});if(n==="horizontal"){var E=rn(0,k.height,_);return Os(Os({},k),{},{y:k.y+k.height-E,height:E})}var T=rn(0,k.width,_);return Os(Os({},k),{},{width:T})});return _>0&&(s.current=S??null),S==null?null:f.createElement(as,null,f.createElement(RO,{props:r,data:S,showLabels:!b}))})}function sie(t){var{data:r,isAnimationActive:s}=t,a=f.useRef(null);return s&&r&&r.length&&(a.current==null||a.current!==r)?f.createElement(rie,{previousRectanglesRef:a,props:t}):f.createElement(RO,{props:t,data:r,showLabels:!0})}var OO=0,aie=(t,r)=>{var s=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:s,errorVal:dr(t,r)}};class nie extends f.PureComponent{render(){var{hide:r,data:s,dataKey:a,className:n,xAxisId:i,yAxisId:l,needClip:c,background:u,id:h}=this.props;if(r)return null;var m=tr("recharts-bar",n),x=h;return f.createElement(as,{className:m,id:h},c&&f.createElement("defs",null,f.createElement(DO,{clipPathId:x,xAxisId:i,yAxisId:l})),f.createElement(as,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(x,")"):void 0},f.createElement(tie,{data:s,dataKey:a,background:u,allOtherBarProps:this.props}),f.createElement(sie,this.props)),this.props.children)}}var iie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!_o.isSsr,legendType:"rect",minPointSize:OO,xAxisId:0,yAxisId:0};function lie(t){var{xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:h,isAnimationActive:m}=t,{needClip:x}=sk(r,s),g=Zx(),b=xa(),y=em(t.children,jo),w=kt(S=>Oie(S,r,s,b,t.id,y));if(g!=="vertical"&&g!=="horizontal")return null;var N,_=w?.[0];return _==null||_.height==null||_.width==null?N=0:N=g==="vertical"?_.height/2:_.width/2,f.createElement(qne,{xAxisId:r,yAxisId:s,data:w,dataPointFormatter:aie,errorBarOffset:N},f.createElement(nie,Ic({},t,{layout:g,needClip:x,data:w,xAxisId:r,yAxisId:s,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:h,isAnimationActive:m})))}function oie(t){var{layout:r,barSettings:{dataKey:s,minPointSize:a},pos:n,bandSize:i,xAxis:l,yAxis:c,xAxisTicks:u,yAxisTicks:h,stackedData:m,displayedData:x,offset:g,cells:b}=t,y=r==="horizontal"?c:l,w=m?y.scale.domain():null,N=HK({numericAxis:y});return x.map((_,S)=>{var k,v,A,E,T,F;m?k=BK(m[S],w):(k=dr(_,s),Array.isArray(k)||(k=[N,k]));var R=Mne(a,OO)(k[1],S);if(r==="horizontal"){var D,[$,B]=[c.scale(k[0]),c.scale(k[1])];v=PA({axis:l,ticks:u,bandSize:i,offset:n.offset,entry:_,index:S}),A=(D=B??$)!==null&&D!==void 0?D:void 0,E=n.size;var H=$-B;if(T=ha(H)?0:H,F={x:v,y:g.top,width:E,height:g.height},Math.abs(R)>0&&Math.abs(T)<Math.abs(R)){var I=xs(T||R)*(Math.abs(R)-Math.abs(T));A-=I,T+=I}}else{var[L,M]=[l.scale(k[0]),l.scale(k[1])];if(v=L,A=PA({axis:c,ticks:h,bandSize:i,offset:n.offset,entry:_,index:S}),E=M-L,T=n.size,F={x:g.left,y:A,width:g.width,height:T},Math.abs(R)>0&&Math.abs(E)<Math.abs(R)){var q=xs(E||R)*(Math.abs(R)-Math.abs(E));E+=q}}if(v==null||A==null||E==null||T==null)return null;var Z=Os(Os({},_),{},{x:v,y:A,width:E,height:T,value:m?k:k[1],payload:_,background:F,tooltipPosition:{x:v+E/2,y:A+T/2}},b&&b[S]&&b[S].props);return Z}).filter(Boolean)}function Mc(t){var r=Ua(t,iie),s=xa();return f.createElement(QN,{id:r.id,type:"bar"},a=>f.createElement(f.Fragment,null,f.createElement(_O,{legendPayload:Qne(r)}),f.createElement(XN,{fn:eie,args:r}),f.createElement(CO,{type:"bar",id:a,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:zT(r.stackId),hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:s}),f.createElement(lie,Ic({},r,{id:a}))))}Mc.displayName="Bar";function YC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function G0(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?YC(Object(s),!0).forEach(function(a){cie(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):YC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function cie(t,r,s){return(r=die(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function die(t){var r=uie(t,"string");return typeof r=="symbol"?r:r+""}function uie(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var mie=(t,r)=>r,hie=(t,r,s)=>s,xie=(t,r,s,a)=>a,gie=(t,r,s,a,n)=>n,xm=_e([ug,gie],(t,r)=>t.filter(s=>s.type==="bar").find(s=>s.id===r)),pie=_e([xm],t=>t?.maxBarSize),fie=(t,r,s,a,n,i)=>i,KC=(t,r,s)=>{var a=s??t;if(!jr(a))return Ys(a,r,0)},yie=_e([Yt,ug,mie,hie,xie],(t,r,s,a,n)=>r.filter(i=>t==="horizontal"?i.xAxisId===s:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),bie=(t,r,s,a)=>{var n=Yt(t);return n==="horizontal"?Lu(t,"yAxis",s,a):Lu(t,"xAxis",r,a)},vie=(t,r,s)=>{var a=Yt(t);return a==="horizontal"?K5(t,"xAxis",r):K5(t,"yAxis",s)},wie=(t,r,s)=>{var a={},n=t.filter(dg),i=t.filter(h=>h.stackId==null),l=n.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),a),c=Object.entries(l).map(h=>{var[m,x]=h,g=x.map(y=>y.dataKey),b=KC(r,s,x[0].barSize);return{stackId:m,dataKeys:g,barSize:b}}),u=i.map(h=>{var m=[h.dataKey].filter(g=>g!=null),x=KC(r,s,h.barSize);return{stackId:void 0,dataKeys:m,barSize:x}});return[...c,...u]},jie=_e([yie,Aee,vie],wie),Nie=(t,r,s,a,n)=>{var i,l,c=xm(t,r,s,a,n);if(c!=null){var u=Yt(t),h=sR(t),{maxBarSize:m}=c,x=jr(m)?h:m,g,b;return u==="horizontal"?(g=Nl(t,"xAxis",r,a),b=jl(t,"xAxis",r,a)):(g=Nl(t,"yAxis",s,a),b=jl(t,"yAxis",s,a)),(i=(l=Eu(g,b,!0))!==null&&l!==void 0?l:x)!==null&&i!==void 0?i:0}},IO=(t,r,s,a)=>{var n=Yt(t),i,l;return n==="horizontal"?(i=Nl(t,"xAxis",r,a),l=jl(t,"xAxis",r,a)):(i=Nl(t,"yAxis",s,a),l=jl(t,"yAxis",s,a)),Eu(i,l)};function kie(t,r,s,a,n){var i=a.length;if(!(i<1)){var l=Ys(t,s,0,!0),c,u=[];if(Ss(a[0].barSize)){var h=!1,m=s/i,x=a.reduce((_,S)=>_+(S.barSize||0),0);x+=(i-1)*l,x>=s&&(x-=(i-1)*l,l=0),x>=s&&m>0&&(h=!0,m*=.9,x=i*m);var g=(s-x)/2>>0,b={offset:g-l,size:0};c=a.reduce((_,S)=>{var k,v={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:b.offset+b.size+l,size:h?m:(k=S.barSize)!==null&&k!==void 0?k:0}},A=[..._,v];return b=A[A.length-1].position,A},u)}else{var y=Ys(r,s,0,!0);s-2*y-(i-1)*l<=0&&(l=0);var w=(s-2*y-(i-1)*l)/i;w>1&&(w>>=0);var N=Ss(n)?Math.min(w,n):w;c=a.reduce((_,S,k)=>[..._,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:y+(w+l)*k+(w-N)/2,size:N}}],u)}return c}}var Sie=(t,r,s,a,n,i,l)=>{var c=jr(l)?r:l,u=kie(s,a,n!==i?n:i,t,c);return n!==i&&u!=null&&(u=u.map(h=>G0(G0({},h),{},{position:G0(G0({},h.position),{},{offset:h.position.offset-n/2})}))),u},_ie=_e([jie,sR,_ee,aR,Nie,IO,pie],Sie),Aie=(t,r,s,a)=>Nl(t,"xAxis",r,a),Cie=(t,r,s,a)=>Nl(t,"yAxis",s,a),Pie=(t,r,s,a)=>jl(t,"xAxis",r,a),Eie=(t,r,s,a)=>jl(t,"yAxis",s,a),Tie=_e([_ie,xm],(t,r)=>{if(!(t==null||r==null)){var s=t.find(a=>a.stackId===r.stackId&&r.dataKey!=null&&a.dataKeys.includes(r.dataKey));if(s!=null)return s.position}}),Die=(t,r)=>{var s=cg(r);if(!(!t||s==null||r==null)){var{stackId:a}=r;if(a!=null){var n=t[a];if(n){var{stackedData:i}=n;if(i)return i.find(l=>l.key===s)}}}},Rie=_e([bie,xm],Die),Oie=_e([ns,Aie,Cie,Pie,Eie,Tie,Yt,ng,IO,Rie,xm,fie],(t,r,s,a,n,i,l,c,u,h,m,x)=>{var{chartData:g,dataStartIndex:b,dataEndIndex:y}=c;if(!(m==null||i==null||l!=="horizontal"&&l!=="vertical"||r==null||s==null||a==null||n==null||u==null)){var{data:w}=m,N;if(w!=null&&w.length>0?N=w:N=g?.slice(b,y+1),N!=null)return oie({layout:l,barSettings:m,pos:i,bandSize:u,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,stackedData:h,displayedData:N,offset:t,cells:x})}}),MO=t=>{var{chartData:r}=t,s=Tr(),a=xa();return f.useEffect(()=>a?()=>{}:(s(nC(r)),()=>{s(nC(void 0))}),[r,s,a]),null},JC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},LO=Ba({name:"brush",initialState:JC,reducers:{setBrushSettings(t,r){return r.payload==null?JC:r.payload}}}),{setBrushSettings:Mme}=LO.actions,Iie=LO.reducer;function Mie(t,r,s){return(r=Lie(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Lie(t){var r=$ie(t,"string");return typeof r=="symbol"?r:r+""}function $ie(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class ak{static create(r){return new ak(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:s,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+n}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(r)+i}default:return this.scale(r)}if(s){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}isInRange(r){var s=this.range(),a=s[0],n=s[s.length-1];return a<=n?r>=a&&r<=n:r>=n&&r<=a}}Mie(ak,"EPS",1e-4);function Fie(t){return(t%180+180)%180}var Bie=function(r){var{width:s,height:a}=r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Fie(n),l=i*Math.PI/180,c=Math.atan(a/s),u=l>c&&l<Math.PI-c?a/Math.sin(l):s/Math.cos(l);return Math.abs(u)},Uie={dots:[],areas:[],lines:[]},$O=Ba({name:"referenceElements",initialState:Uie,reducers:{addDot:(t,r)=>{t.dots.push(r.payload)},removeDot:(t,r)=>{var s=vi(t).dots.findIndex(a=>a===r.payload);s!==-1&&t.dots.splice(s,1)},addArea:(t,r)=>{t.areas.push(r.payload)},removeArea:(t,r)=>{var s=vi(t).areas.findIndex(a=>a===r.payload);s!==-1&&t.areas.splice(s,1)},addLine:(t,r)=>{t.lines.push(r.payload)},removeLine:(t,r)=>{var s=vi(t).lines.findIndex(a=>a===r.payload);s!==-1&&t.lines.splice(s,1)}}}),{addDot:Lme,removeDot:$me,addArea:Fme,removeArea:Bme,addLine:Ume,removeLine:zme}=$O.actions,zie=$O.reducer,Vie=f.createContext(void 0),qie=t=>{var{children:r}=t,[s]=f.useState("".concat(Au("recharts"),"-clip")),a=rk();if(a==null)return null;var{x:n,y:i,width:l,height:c}=a;return f.createElement(Vie.Provider,{value:s},f.createElement("defs",null,f.createElement("clipPath",{id:s},f.createElement("rect",{x:n,y:i,height:c,width:l}))),r)};function mb(t,r){for(var s in t)if({}.hasOwnProperty.call(t,s)&&(!{}.hasOwnProperty.call(r,s)||t[s]!==r[s]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(t,a))return!1;return!0}function FO(t,r,s){if(r<1)return[];if(r===1&&s===void 0)return t;for(var a=[],n=0;n<t.length;n+=r)a.push(t[n]);return a}function Hie(t,r,s){var a={width:t.width+r.width,height:t.height+r.height};return Bie(a,s)}function Gie(t,r,s){var a=s==="width",{x:n,y:i,width:l,height:c}=t;return r===1?{start:a?n:i,end:a?n+l:i+c}:{start:a?n+l:i+c,end:a?n:i}}function gx(t,r,s,a,n){if(t*r<t*a||t*r>t*n)return!1;var i=s();return t*(r-t*i/2-a)>=0&&t*(r+t*i/2-n)<=0}function Wie(t,r){return FO(t,r+1)}function Yie(t,r,s,a,n){for(var i=(a||[]).slice(),{start:l,end:c}=r,u=0,h=1,m=l,x=function(){var y=a?.[u];if(y===void 0)return{v:FO(a,h)};var w=u,N,_=()=>(N===void 0&&(N=s(y,w)),N),S=y.coordinate,k=u===0||gx(t,S,_,m,c);k||(u=0,m=l,h+=1),k&&(m=S+t*(_()/2+n),u+=h)},g;h<=i.length;)if(g=x(),g)return g.v;return[]}function XC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Ts(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?XC(Object(s),!0).forEach(function(a){Kie(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):XC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Kie(t,r,s){return(r=Jie(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Jie(t){var r=Xie(t,"string");return typeof r=="symbol"?r:r+""}function Xie(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Zie(t,r,s,a,n){for(var i=(a||[]).slice(),l=i.length,{start:c}=r,{end:u}=r,h=function(g){var b=i[g],y,w=()=>(y===void 0&&(y=s(b,g)),y);if(g===l-1){var N=t*(b.coordinate+t*w()/2-u);i[g]=b=Ts(Ts({},b),{},{tickCoord:N>0?b.coordinate-N*t:b.coordinate})}else i[g]=b=Ts(Ts({},b),{},{tickCoord:b.coordinate});var _=gx(t,b.tickCoord,w,c,u);_&&(u=b.tickCoord-t*(w()/2+n),i[g]=Ts(Ts({},b),{},{isShow:!0}))},m=l-1;m>=0;m--)h(m);return i}function Qie(t,r,s,a,n,i){var l=(a||[]).slice(),c=l.length,{start:u,end:h}=r;if(i){var m=a[c-1],x=s(m,c-1),g=t*(m.coordinate+t*x/2-h);l[c-1]=m=Ts(Ts({},m),{},{tickCoord:g>0?m.coordinate-g*t:m.coordinate});var b=gx(t,m.tickCoord,()=>x,u,h);b&&(h=m.tickCoord-t*(x/2+n),l[c-1]=Ts(Ts({},m),{},{isShow:!0}))}for(var y=i?c-1:c,w=function(S){var k=l[S],v,A=()=>(v===void 0&&(v=s(k,S)),v);if(S===0){var E=t*(k.coordinate-t*A()/2-u);l[S]=k=Ts(Ts({},k),{},{tickCoord:E<0?k.coordinate-E*t:k.coordinate})}else l[S]=k=Ts(Ts({},k),{},{tickCoord:k.coordinate});var T=gx(t,k.tickCoord,A,u,h);T&&(u=k.tickCoord+t*(A()/2+n),l[S]=Ts(Ts({},k),{},{isShow:!0}))},N=0;N<y;N++)w(N);return l}function nk(t,r,s){var{tick:a,ticks:n,viewBox:i,minTickGap:l,orientation:c,interval:u,tickFormatter:h,unit:m,angle:x}=t;if(!n||!n.length||!a)return[];if(dt(u)||_o.isSsr){var g;return(g=Wie(n,dt(u)?u:0))!==null&&g!==void 0?g:[]}var b=[],y=c==="top"||c==="bottom"?"width":"height",w=m&&y==="width"?xu(m,{fontSize:r,letterSpacing:s}):{width:0,height:0},N=(k,v)=>{var A=typeof h=="function"?h(k.value,v):k.value;return y==="width"?Hie(xu(A,{fontSize:r,letterSpacing:s}),w,x):xu(A,{fontSize:r,letterSpacing:s})[y]},_=n.length>=2?xs(n[1].coordinate-n[0].coordinate):1,S=Gie(i,_,y);return u==="equidistantPreserveStart"?Yie(_,S,N,n,l):(u==="preserveStart"||u==="preserveStartEnd"?b=Qie(_,S,N,n,l,u==="preserveStartEnd"):b=Zie(_,S,N,n,l),b.filter(k=>k.isShow))}var ele=["viewBox"],tle=["viewBox"];function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},gc.apply(null,arguments)}function ZC(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function rs(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ZC(Object(s),!0).forEach(function(a){ik(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ZC(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function QC(t,r){if(t==null)return{};var s,a,n=rle(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function rle(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}function ik(t,r,s){return(r=sle(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function sle(t){var r=ale(t,"string");return typeof r=="symbol"?r:r+""}function ale(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}class El extends f.Component{constructor(r){super(r),this.tickRefs=f.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(r,s){var{viewBox:a}=r,n=QC(r,ele),i=this.props,{viewBox:l}=i,c=QC(i,tle);return!mb(a,l)||!mb(n,c)||!mb(s,this.state)}getTickLineCoord(r){var{x:s,y:a,width:n,height:i,orientation:l,tickSize:c,mirror:u,tickMargin:h}=this.props,m,x,g,b,y,w,N=u?-1:1,_=r.tickSize||c,S=dt(r.tickCoord)?r.tickCoord:r.coordinate;switch(l){case"top":m=x=r.coordinate,b=a+ +!u*i,g=b-N*_,w=g-N*h,y=S;break;case"left":g=b=r.coordinate,x=s+ +!u*n,m=x-N*_,y=m-N*h,w=S;break;case"right":g=b=r.coordinate,x=s+ +u*n,m=x+N*_,y=m+N*h,w=S;break;default:m=x=r.coordinate,b=a+ +u*i,g=b+N*_,w=g+N*h,y=S;break}return{line:{x1:m,y1:g,x2:x,y2:b},tick:{x:y,y:w}}}getTickTextAnchor(){var{orientation:r,mirror:s}=this.props,a;switch(r){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}getTickVerticalAnchor(){var{orientation:r,mirror:s}=this.props;switch(r){case"left":case"right":return"middle";case"top":return s?"start":"end";default:return s?"end":"start"}}renderAxisLine(){var{x:r,y:s,width:a,height:n,orientation:i,mirror:l,axisLine:c}=this.props,u=rs(rs(rs({},Er(this.props,!1)),Er(c,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!l||i==="bottom"&&l);u=rs(rs({},u),{},{x1:r,y1:s+h*n,x2:r+a,y2:s+h*n})}else{var m=+(i==="left"&&!l||i==="right"&&l);u=rs(rs({},u),{},{x1:r+m*a,y1:s,x2:r+m*a,y2:s+n})}return f.createElement("line",gc({},u,{className:tr("recharts-cartesian-axis-line",wl(c,"className"))}))}static renderTickItem(r,s,a){var n,i=tr(s.className,"recharts-cartesian-axis-tick-value");if(f.isValidElement(r))n=f.cloneElement(r,rs(rs({},s),{},{className:i}));else if(typeof r=="function")n=r(rs(rs({},s),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(l=tr(l,r.className)),n=f.createElement(fg,gc({},s,{className:l}),a)}return n}renderTicks(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:n,stroke:i,tick:l,tickFormatter:c,unit:u,padding:h}=this.props,m=nk(rs(rs({},this.props),{},{ticks:a}),r,s),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=Jn(this.props),y=Er(l,!1),w=rs(rs({},b),{},{fill:"none"},Er(n,!1)),N=m.map((_,S)=>{var{line:k,tick:v}=this.getTickLineCoord(_),A=rs(rs(rs(rs({textAnchor:x,verticalAnchor:g},b),{},{stroke:"none",fill:i},y),v),{},{index:S,payload:_,visibleTicksCount:m.length,tickFormatter:c,padding:h});return f.createElement(as,gc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Qu(this.props,_,S)),n&&f.createElement("line",gc({},w,k,{className:tr("recharts-cartesian-axis-tick-line",wl(n,"className"))})),l&&El.renderTickItem(l,A,"".concat(typeof c=="function"?c(_.value,S):_.value).concat(u||"")))});return N.length>0?f.createElement("g",{className:"recharts-cartesian-axis-ticks"},N):null}render(){var{axisLine:r,width:s,height:a,className:n,hide:i}=this.props;if(i)return null;var{ticks:l}=this.props;return s!=null&&s<=0||a!=null&&a<=0?null:f.createElement(as,{className:tr("recharts-cartesian-axis",n),ref:c=>{if(c){var u=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(u);var h=u[0];if(h){var m=window.getComputedStyle(h).fontSize,x=window.getComputedStyle(h).letterSpacing;(m!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},r&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),Pa.renderCallByParent(this.props))}}ik(El,"displayName","CartesianAxis");ik(El,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nle=["x1","y1","x2","y2","key"],ile=["offset"],lle=["xAxisId","yAxisId"],ole=["xAxisId","yAxisId"];function e3(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Is(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?e3(Object(s),!0).forEach(function(a){cle(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):e3(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function cle(t,r,s){return(r=dle(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function dle(t){var r=ule(t,"string");return typeof r=="symbol"?r:r+""}function ule(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},no.apply(null,arguments)}function px(t,r){if(t==null)return{};var s,a,n=mle(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function mle(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}var hle=t=>{var{fill:r}=t;if(!r||r==="none")return null;var{fillOpacity:s,x:a,y:n,width:i,height:l,ry:c}=t;return f.createElement("rect",{x:a,y:n,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function BO(t,r){var s;if(f.isValidElement(t))s=f.cloneElement(t,r);else if(typeof t=="function")s=t(r);else{var{x1:a,y1:n,x2:i,y2:l,key:c}=r,u=px(r,nle),h=Jn(u),{offset:m}=h,x=px(h,ile);s=f.createElement("line",no({},x,{x1:a,y1:n,x2:i,y2:l,fill:"none",key:c}))}return s}function xle(t){var{x:r,width:s,horizontal:a=!0,horizontalPoints:n}=t;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=t,c=px(t,lle),u=n.map((h,m)=>{var x=Is(Is({},c),{},{x1:r,y1:h,x2:r+s,y2:h,key:"line-".concat(m),index:m});return BO(a,x)});return f.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function gle(t){var{y:r,height:s,vertical:a=!0,verticalPoints:n}=t;if(!a||!n||!n.length)return null;var{xAxisId:i,yAxisId:l}=t,c=px(t,ole),u=n.map((h,m)=>{var x=Is(Is({},c),{},{x1:h,y1:r,x2:h,y2:r+s,key:"line-".concat(m),index:m});return BO(a,x)});return f.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function ple(t){var{horizontalFill:r,fillOpacity:s,x:a,y:n,width:i,height:l,horizontalPoints:c,horizontal:u=!0}=t;if(!u||!r||!r.length)return null;var h=c.map(x=>Math.round(x+n-n)).sort((x,g)=>x-g);n!==h[0]&&h.unshift(0);var m=h.map((x,g)=>{var b=!h[g+1],y=b?n+l-x:h[g+1]-x;if(y<=0)return null;var w=g%r.length;return f.createElement("rect",{key:"react-".concat(g),y:x,x:a,height:y,width:i,stroke:"none",fill:r[w],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function fle(t){var{vertical:r=!0,verticalFill:s,fillOpacity:a,x:n,y:i,width:l,height:c,verticalPoints:u}=t;if(!r||!s||!s.length)return null;var h=u.map(x=>Math.round(x+n-n)).sort((x,g)=>x-g);n!==h[0]&&h.unshift(0);var m=h.map((x,g)=>{var b=!h[g+1],y=b?n+l-x:h[g+1]-x;if(y<=0)return null;var w=g%s.length;return f.createElement("rect",{key:"react-".concat(g),x,y:i,width:y,height:c,stroke:"none",fill:s[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var yle=(t,r)=>{var{xAxis:s,width:a,height:n,offset:i}=t;return BT(nk(Is(Is(Is({},El.defaultProps),s),{},{ticks:UT(s),viewBox:{x:0,y:0,width:a,height:n}})),i.left,i.left+i.width,r)},ble=(t,r)=>{var{yAxis:s,width:a,height:n,offset:i}=t;return BT(nk(Is(Is(Is({},El.defaultProps),s),{},{ticks:UT(s),viewBox:{x:0,y:0,width:a,height:n}})),i.top,i.top+i.height,r)},vle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function gu(t){var r=Oj(),s=Ij(),a=WT(),n=Is(Is({},Ua(t,vle)),{},{x:dt(t.x)?t.x:a.left,y:dt(t.y)?t.y:a.top,width:dt(t.width)?t.width:a.width,height:dt(t.height)?t.height:a.height}),{xAxisId:i,yAxisId:l,x:c,y:u,width:h,height:m,syncWithTicks:x,horizontalValues:g,verticalValues:b}=n,y=xa(),w=kt(R=>J5(R,"xAxis",i,y)),N=kt(R=>J5(R,"yAxis",l,y));if(!dt(h)||h<=0||!dt(m)||m<=0||!dt(c)||c!==+c||!dt(u)||u!==+u)return null;var _=n.verticalCoordinatesGenerator||yle,S=n.horizontalCoordinatesGenerator||ble,{horizontalPoints:k,verticalPoints:v}=n;if((!k||!k.length)&&typeof S=="function"){var A=g&&g.length,E=S({yAxis:N?Is(Is({},N),{},{ticks:A?g:N.ticks}):void 0,width:r,height:s,offset:a},A?!0:x);hu(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(k=E)}if((!v||!v.length)&&typeof _=="function"){var T=b&&b.length,F=_({xAxis:w?Is(Is({},w),{},{ticks:T?b:w.ticks}):void 0,width:r,height:s,offset:a},T?!0:x);hu(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(v=F)}return f.createElement("g",{className:"recharts-cartesian-grid"},f.createElement(hle,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),f.createElement(ple,no({},n,{horizontalPoints:k})),f.createElement(fle,no({},n,{verticalPoints:v})),f.createElement(xle,no({},n,{offset:a,horizontalPoints:k,xAxis:w,yAxis:N})),f.createElement(gle,no({},n,{offset:a,verticalPoints:v,xAxis:w,yAxis:N})))}gu.displayName="CartesianGrid";var UO=(t,r,s,a)=>Nl(t,"xAxis",r,a),zO=(t,r,s,a)=>jl(t,"xAxis",r,a),VO=(t,r,s,a)=>Nl(t,"yAxis",s,a),qO=(t,r,s,a)=>jl(t,"yAxis",s,a),wle=_e([Yt,UO,VO,zO,qO],(t,r,s,a,n)=>Di(t,"xAxis")?Eu(r,a,!1):Eu(s,n,!1)),jle=(t,r,s,a,n)=>n,HO=_e([ug,jle],(t,r)=>t.filter(s=>s.type==="area").find(s=>s.id===r)),Nle=(t,r,s,a,n)=>{var i,l=HO(t,r,s,a,n);if(l!=null){var c=Yt(t),u=Di(c,"xAxis"),h;if(u?h=Lu(t,"yAxis",s,a):h=Lu(t,"xAxis",r,a),h!=null){var{stackId:m}=l,x=cg(l);if(!(m==null||x==null)){var g=(i=h[m])===null||i===void 0?void 0:i.stackedData;return g?.find(b=>b.key===x)}}}},kle=_e([Yt,UO,VO,zO,qO,Nle,ng,wle,HO],(t,r,s,a,n,i,l,c,u)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:x}=l;if(!(u==null||t!=="horizontal"&&t!=="vertical"||r==null||s==null||a==null||n==null||a.length===0||n.length===0||c==null)){var{data:g}=u,b;if(g&&g.length>0?b=g:b=h?.slice(m,x+1),b!=null){var y=void 0;return qle({layout:t,xAxis:r,yAxis:s,xAxisTicks:a,yAxisTicks:n,dataStartIndex:m,areaSettings:u,stackedData:i,displayedData:b,chartBaseValue:y,bandSize:c})}}}),Sle=["id"],_le=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function GO(t,r){if(t==null)return{};var s,a,n=Ale(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Ale(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}function t3(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function io(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?t3(Object(s),!0).forEach(function(a){Cle(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):t3(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Cle(t,r,s){return(r=Ple(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Ple(t){var r=Ele(t,"string");return typeof r=="symbol"?r:r+""}function Ele(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function ji(){return ji=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},ji.apply(null,arguments)}function fx(t,r){return t&&t!=="none"?t:r}var Tle=t=>{var{dataKey:r,name:s,stroke:a,fill:n,legendType:i,hide:l}=t;return[{inactive:l,dataKey:r,type:i,color:fx(a,n),value:Gc(s,r),payload:t}]};function Dle(t){var{dataKey:r,data:s,stroke:a,strokeWidth:n,fill:i,name:l,hide:c,unit:u}=t;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:r,nameKey:void 0,name:Gc(l,r),hide:c,type:t.tooltipType,color:fx(a,i),unit:u}}}var Rle=(t,r)=>{var s;if(f.isValidElement(t))s=f.cloneElement(t,r);else if(typeof t=="function")s=t(r);else{var a=tr("recharts-area-dot",typeof t!="boolean"?t.className:"");s=f.createElement(bO,ji({},r,{className:a}))}return s};function Ole(t,r){return t==null?!1:r?!0:t.length===1}function Ile(t){var{clipPathId:r,points:s,props:a}=t,{needClip:n,dot:i,dataKey:l}=a;if(!Ole(s,i))return null;var c=LE(i),u=Jn(a),h=Er(i,!0),m=s.map((g,b)=>{var y=io(io(io({key:"dot-".concat(b),r:3},u),h),{},{index:b,cx:g.x,cy:g.y,dataKey:l,value:g.value,payload:g.payload,points:s});return Rle(i,y)}),x={clipPath:n?"url(#clipPath-".concat(c?"":"dots-").concat(r,")"):void 0};return f.createElement(as,ji({className:"recharts-area-dots"},x),m)}function Yv(t){var{points:r,baseLine:s,needClip:a,clipPathId:n,props:i,showLabels:l}=t,{layout:c,type:u,stroke:h,connectNulls:m,isRange:x}=i,{id:g}=i,b=GO(i,Sle),y=Jn(b);return f.createElement(f.Fragment,null,r?.length>1&&f.createElement(as,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},f.createElement(mu,ji({},y,{id:g,points:r,connectNulls:m,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&f.createElement(mu,ji({},y,{className:"recharts-area-curve",layout:c,type:u,connectNulls:m,fill:"none",points:r})),h!=="none"&&x&&f.createElement(mu,ji({},y,{className:"recharts-area-curve",layout:c,type:u,connectNulls:m,fill:"none",points:s}))),f.createElement(Ile,{points:r,props:b,clipPathId:n}),l&&yl.renderCallByParent(b,r))}function Mle(t){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=t,i=a[0].y,l=a[a.length-1].y;if(!Ss(i)||!Ss(l))return null;var c=r*Math.abs(i-l),u=Math.max(...a.map(h=>h.x||0));return dt(s)?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(...s.map(h=>h.x||0),u)),dt(u)?f.createElement("rect",{x:0,y:i<l?i:i-c,width:u+(n?parseInt("".concat(n),10):1),height:Math.floor(c)}):null}function Lle(t){var{alpha:r,baseLine:s,points:a,strokeWidth:n}=t,i=a[0].x,l=a[a.length-1].x;if(!Ss(i)||!Ss(l))return null;var c=r*Math.abs(i-l),u=Math.max(...a.map(h=>h.y||0));return dt(s)?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(...s.map(h=>h.y||0),u)),dt(u)?f.createElement("rect",{x:i<l?i:i-c,y:0,width:c,height:Math.floor(u+(n?parseInt("".concat(n),10):1))}):null}function $le(t){var{alpha:r,layout:s,points:a,baseLine:n,strokeWidth:i}=t;return s==="vertical"?f.createElement(Mle,{alpha:r,points:a,baseLine:n,strokeWidth:i}):f.createElement(Lle,{alpha:r,points:a,baseLine:n,strokeWidth:i})}function Fle(t){var{needClip:r,clipPathId:s,props:a,previousPointsRef:n,previousBaselineRef:i}=t,{points:l,baseLine:c,isAnimationActive:u,animationBegin:h,animationDuration:m,animationEasing:x,onAnimationStart:g,onAnimationEnd:b}=a,y=ZN(a,"recharts-area-"),[w,N]=f.useState(!0),_=f.useCallback(()=>{typeof b=="function"&&b(),N(!1)},[b]),S=f.useCallback(()=>{typeof g=="function"&&g(),N(!0)},[g]),k=n.current,v=i.current;return f.createElement(ek,{begin:h,duration:m,isActive:u,easing:x,onAnimationEnd:_,onAnimationStart:S,key:y},A=>{if(k){var E=k.length/l.length,T=A===1?l:l.map((R,D)=>{var $=Math.floor(D*E);if(k[$]){var B=k[$];return io(io({},R),{},{x:rn(B.x,R.x,A),y:rn(B.y,R.y,A)})}return R}),F;return dt(c)?F=rn(v,c,A):jr(c)||ha(c)?F=rn(v,0,A):F=c.map((R,D)=>{var $=Math.floor(D*E);if(Array.isArray(v)&&v[$]){var B=v[$];return io(io({},R),{},{x:rn(B.x,R.x,A),y:rn(B.y,R.y,A)})}return R}),A>0&&(n.current=T,i.current=F),f.createElement(Yv,{points:T,baseLine:F,needClip:r,clipPathId:s,props:a,showLabels:!w})}return A>0&&(n.current=l,i.current=c),f.createElement(as,null,f.createElement("defs",null,f.createElement("clipPath",{id:"animationClipPath-".concat(s)},f.createElement($le,{alpha:A,points:l,baseLine:c,layout:a.layout,strokeWidth:a.strokeWidth}))),f.createElement(as,{clipPath:"url(#animationClipPath-".concat(s,")")},f.createElement(Yv,{points:l,baseLine:c,needClip:r,clipPathId:s,props:a,showLabels:!0})))})}function Ble(t){var{needClip:r,clipPathId:s,props:a}=t,{points:n,baseLine:i,isAnimationActive:l}=a,c=f.useRef(null),u=f.useRef(),h=c.current,m=u.current;return l&&n&&n.length&&(h!==n||m!==i)?f.createElement(Fle,{needClip:r,clipPathId:s,props:a,previousPointsRef:c,previousBaselineRef:u}):f.createElement(Yv,{points:n,baseLine:i,needClip:r,clipPathId:s,props:a,showLabels:!0})}class Ule extends f.PureComponent{render(){var r,{hide:s,dot:a,points:n,className:i,top:l,left:c,needClip:u,xAxisId:h,yAxisId:m,width:x,height:g,id:b,baseLine:y}=this.props;if(s)return null;var w=tr("recharts-area",i),N=b,{r:_=3,strokeWidth:S=2}=(r=Er(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=LE(a),v=_*2+S;return f.createElement(f.Fragment,null,f.createElement(as,{className:w},u&&f.createElement("defs",null,f.createElement(DO,{clipPathId:N,xAxisId:h,yAxisId:m}),!k&&f.createElement("clipPath",{id:"clipPath-dots-".concat(N)},f.createElement("rect",{x:c-v/2,y:l-v/2,width:x+v,height:g+v}))),f.createElement(Ble,{needClip:u,clipPathId:N,props:this.props})),f.createElement(HC,{points:n,mainColor:fx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(y)&&f.createElement(HC,{points:y,mainColor:fx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var WO={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!_o.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function zle(t){var r,s=Ua(t,WO),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:c,dot:u,fill:h,fillOpacity:m,hide:x,isAnimationActive:g,legendType:b,stroke:y,xAxisId:w,yAxisId:N}=s,_=GO(s,_le),S=Zx(),k=aO(),{needClip:v}=sk(w,N),A=xa(),{points:E,isRange:T,baseLine:F}=(r=kt(I=>kle(I,w,N,A,t.id)))!==null&&r!==void 0?r:{},R=rk();if(S!=="horizontal"&&S!=="vertical"||R==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:D,width:$,x:B,y:H}=R;return!E||!E.length?null:f.createElement(Ule,ji({},_,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,baseLine:F,connectNulls:c,dot:u,fill:h,fillOpacity:m,height:D,hide:x,layout:S,isAnimationActive:g,isRange:T,legendType:b,needClip:v,points:E,stroke:y,width:$,left:B,top:H,xAxisId:w,yAxisId:N}))}var Vle=(t,r,s,a,n)=>{var i=s??r;if(dt(i))return i;var l=t==="horizontal"?n:a,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),h=Math.min(c[0],c[1]);return i==="dataMin"?h:i==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return i==="dataMin"?c[0]:i==="dataMax"?c[1]:c[0]};function qle(t){var{areaSettings:{connectNulls:r,baseValue:s,dataKey:a},stackedData:n,layout:i,chartBaseValue:l,xAxis:c,yAxis:u,displayedData:h,dataStartIndex:m,xAxisTicks:x,yAxisTicks:g,bandSize:b}=t,y=n&&n.length,w=Vle(i,l,s,c,u),N=i==="horizontal",_=!1,S=h.map((v,A)=>{var E;y?E=n[m+A]:(E=dr(v,a),Array.isArray(E)?_=!0:E=[w,E]);var T=E[1]==null||y&&!r&&dr(v,a)==null;return N?{x:CA({axis:c,ticks:x,bandSize:b,entry:v,index:A}),y:T?null:u.scale(E[1]),value:E,payload:v}:{x:T?null:c.scale(E[1]),y:CA({axis:u,ticks:g,bandSize:b,entry:v,index:A}),value:E,payload:v}}),k;return y||_?k=S.map(v=>{var A=Array.isArray(v.value)?v.value[0]:null;return N?{x:v.x,y:A!=null&&v.y!=null?u.scale(A):null,payload:v.payload}:{x:A!=null?c.scale(A):null,y:v.y,payload:v.payload}}):k=N?u.scale(w):c.scale(w),{points:S,baseLine:k,isRange:_}}function YO(t){var r=Ua(t,WO),s=xa();return f.createElement(QN,{id:r.id,type:"area"},a=>f.createElement(f.Fragment,null,f.createElement(_O,{legendPayload:Tle(r)}),f.createElement(XN,{fn:Dle,args:r}),f.createElement(CO,{type:"area",id:a,data:r.data,dataKey:r.dataKey,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,stackId:zT(r.stackId),hide:r.hide,barSize:void 0,baseValue:r.baseValue,isPanorama:s,connectNulls:r.connectNulls}),f.createElement(zle,ji({},r,{id:a}))))}YO.displayName="Area";function r3(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function s3(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?r3(Object(s),!0).forEach(function(a){Hle(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r3(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Hle(t,r,s){return(r=Gle(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Gle(t){var r=Wle(t,"string");return typeof r=="symbol"?r:r+""}function Wle(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Yle={xAxis:{},yAxis:{},zAxis:{}},KO=Ba({name:"cartesianAxis",initialState:Yle,reducers:{addXAxis(t,r){t.xAxis[r.payload.id]=r.payload},removeXAxis(t,r){delete t.xAxis[r.payload.id]},addYAxis(t,r){t.yAxis[r.payload.id]=r.payload},removeYAxis(t,r){delete t.yAxis[r.payload.id]},addZAxis(t,r){t.zAxis[r.payload.id]=r.payload},removeZAxis(t,r){delete t.zAxis[r.payload.id]},updateYAxisWidth(t,r){var{id:s,width:a}=r.payload;t.yAxis[s]&&(t.yAxis[s]=s3(s3({},t.yAxis[s]),{},{width:a}))}}}),{addXAxis:Kle,removeXAxis:Jle,addYAxis:Xle,removeYAxis:Zle,addZAxis:Vme,removeZAxis:qme,updateYAxisWidth:Qle}=KO.actions,eoe=KO.reducer,toe=["children"],roe=["dangerouslySetInnerHTML","ticks"];function JO(t,r,s){return(r=soe(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function soe(t){var r=aoe(t,"string");return typeof r=="symbol"?r:r+""}function aoe(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Kv.apply(null,arguments)}function XO(t,r){if(t==null)return{};var s,a,n=noe(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function noe(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}function ioe(t){var r=Tr(),s=f.useMemo(()=>{var{children:i}=t,l=XO(t,toe);return l},[t]),a=kt(i=>Mi(i,s.id)),n=s===a;return f.useEffect(()=>(r(Kle(s)),()=>{r(Jle(s))}),[s,r]),n?t.children:null}var loe=t=>{var{xAxisId:r,className:s}=t,a=kt(GT),n=xa(),i="xAxis",l=kt(b=>Qc(b,i,r,n)),c=kt(b=>LR(b,i,r,n)),u=kt(b=>RR(b,r)),h=kt(b=>fte(b,r));if(u==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:x}=t,g=XO(t,roe);return f.createElement(El,Kv({},g,{scale:l,x:h.x,y:h.y,width:u.width,height:u.height,className:tr("recharts-".concat(i," ").concat(i),s),viewBox:a,ticks:c}))},ooe=t=>{var r,s,a,n,i;return f.createElement(ioe,{interval:(r=t.interval)!==null&&r!==void 0?r:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(s=t.includeHidden)!==null&&s!==void 0?s:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(a=t.angle)!==null&&a!==void 0?a:0,minTickGap:(n=t.minTickGap)!==null&&n!==void 0?n:5,tick:(i=t.tick)!==null&&i!==void 0?i:!0,tickFormatter:t.tickFormatter},f.createElement(loe,t))};class po extends f.Component{render(){return f.createElement(ooe,this.props)}}JO(po,"displayName","XAxis");JO(po,"defaultProps",{allowDataOverflow:ja.allowDataOverflow,allowDecimals:ja.allowDecimals,allowDuplicatedCategory:ja.allowDuplicatedCategory,height:ja.height,hide:!1,mirror:ja.mirror,orientation:ja.orientation,padding:ja.padding,reversed:ja.reversed,scale:ja.scale,tickCount:ja.tickCount,type:ja.type,xAxisId:0});var coe=t=>{var{ticks:r,label:s,labelGapWithTick:a=5,tickSize:n=0,tickMargin:i=0}=t,l=0;if(r){r.forEach(m=>{if(m){var x=m.getBoundingClientRect();x.width>l&&(l=x.width)}});var c=s?s.getBoundingClientRect().width:0,u=n+i,h=l+u+c+(s?a:0);return Math.round(h)}return 0},doe=["dangerouslySetInnerHTML","ticks"];function ZO(t,r,s){return(r=uoe(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function uoe(t){var r=moe(t,"string");return typeof r=="symbol"?r:r+""}function moe(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Jv.apply(null,arguments)}function hoe(t,r){if(t==null)return{};var s,a,n=xoe(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function xoe(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}function goe(t){var r=Tr();return f.useEffect(()=>(r(Xle(t)),()=>{r(Zle(t))}),[t,r]),null}var poe=t=>{var r,{yAxisId:s,className:a,width:n,label:i}=t,l=f.useRef(null),c=f.useRef(null),u=kt(GT),h=xa(),m=Tr(),x="yAxis",g=kt(k=>Qc(k,x,s,h)),b=kt(k=>OR(k,s)),y=kt(k=>yte(k,s)),w=kt(k=>LR(k,x,s,h));if(f.useLayoutEffect(()=>{var k;if(!(n!=="auto"||!b||VN(i)||f.isValidElement(i))){var v=l.current,A=v==null||(k=v.tickRefs)===null||k===void 0?void 0:k.current,{tickSize:E,tickMargin:T}=v.props,F=coe({ticks:A,label:c.current,labelGapWithTick:5,tickSize:E,tickMargin:T});Math.round(b.width)!==Math.round(F)&&m(Qle({id:s,width:F}))}},[l,l==null||(r=l.current)===null||r===void 0||(r=r.tickRefs)===null||r===void 0?void 0:r.current,b?.width,b,m,i,s,n]),b==null||y==null)return null;var{dangerouslySetInnerHTML:N,ticks:_}=t,S=hoe(t,doe);return f.createElement(El,Jv({},S,{ref:l,labelRef:c,scale:g,x:y.x,y:y.y,width:b.width,height:b.height,className:tr("recharts-".concat(x," ").concat(x),a),viewBox:u,ticks:w}))},foe=t=>{var r,s,a,n,i;return f.createElement(f.Fragment,null,f.createElement(goe,{interval:(r=t.interval)!==null&&r!==void 0?r:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(s=t.includeHidden)!==null&&s!==void 0?s:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(a=t.angle)!==null&&a!==void 0?a:0,minTickGap:(n=t.minTickGap)!==null&&n!==void 0?n:5,tick:(i=t.tick)!==null&&i!==void 0?i:!0,tickFormatter:t.tickFormatter}),f.createElement(poe,t))},yoe={allowDataOverflow:Na.allowDataOverflow,allowDecimals:Na.allowDecimals,allowDuplicatedCategory:Na.allowDuplicatedCategory,hide:!1,mirror:Na.mirror,orientation:Na.orientation,padding:Na.padding,reversed:Na.reversed,scale:Na.scale,tickCount:Na.tickCount,type:Na.type,width:Na.width,yAxisId:0};class wc extends f.Component{render(){return f.createElement(foe,this.props)}}ZO(wc,"displayName","YAxis");ZO(wc,"defaultProps",yoe);var hb={exports:{}},xb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3;function boe(){if(a3)return xb;a3=1;var t=Lc();function r(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var s=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,n=t.useRef,i=t.useEffect,l=t.useMemo,c=t.useDebugValue;return xb.useSyncExternalStoreWithSelector=function(u,h,m,x,g){var b=n(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=l(function(){function N(A){if(!_){if(_=!0,S=A,A=x(A),g!==void 0&&y.hasValue){var E=y.value;if(g(E,A))return k=E}return k=A}if(E=k,s(S,A))return E;var T=x(A);return g!==void 0&&g(E,T)?(S=A,E):(S=A,k=T)}var _=!1,S,k,v=m===void 0?null:m;return[function(){return N(h())},v===null?void 0:function(){return N(v())}]},[h,m,x,g]);var w=a(u,b[0],b[1]);return i(function(){y.hasValue=!0,y.value=w},[w]),c(w),w},xb}var n3;function voe(){return n3||(n3=1,hb.exports=boe()),hb.exports}voe();function woe(t){t()}function joe(){let t=null,r=null;return{clear(){t=null,r=null},notify(){woe(()=>{let s=t;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=t;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const n=r={callback:s,next:null,prev:r};return n.prev?n.prev.next=n:t=n,function(){!a||t===null||(a=!1,n.next?n.next.prev=n.prev:r=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}var i3={notify(){},get:()=>[]};function Noe(t,r){let s,a=i3,n=0,i=!1;function l(w){m();const N=a.subscribe(w);let _=!1;return()=>{_||(_=!0,N(),x())}}function c(){a.notify()}function u(){y.onStateChange&&y.onStateChange()}function h(){return i}function m(){n++,s||(s=t.subscribe(u),a=joe())}function x(){n--,s&&n===0&&(s(),s=void 0,a.clear(),a=i3)}function g(){i||(i=!0,m())}function b(){i&&(i=!1,x())}const y={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:h,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>a};return y}var koe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Soe=koe(),_oe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Aoe=_oe(),Coe=()=>Soe||Aoe?f.useLayoutEffect:f.useEffect,Poe=Coe(),Eoe=Symbol.for("react-redux-context"),Toe=typeof globalThis<"u"?globalThis:{};function Doe(){if(!f.createContext)return{};const t=Toe[Eoe]??=new Map;let r=t.get(f.createContext);return r||(r=f.createContext(null),t.set(f.createContext,r)),r}var Roe=Doe();function Ooe(t){const{children:r,context:s,serverState:a,store:n}=t,i=f.useMemo(()=>{const u=Noe(n);return{store:n,subscription:u,getServerState:a?()=>a:void 0}},[n,a]),l=f.useMemo(()=>n.getState(),[n]);Poe(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==n.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,l]);const c=s||Roe;return f.createElement(c.Provider,{value:i},r)}var Ioe=Ooe,Moe=(t,r)=>r,lk=_e([Moe,Yt,dR,ls,ZR,Li,jre,ns],Are),ok=t=>{var r=t.currentTarget.getBoundingClientRect(),s=r.width/t.currentTarget.offsetWidth,a=r.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-r.left)/s),chartY:Math.round((t.clientY-r.top)/a)}},QO=mn("mouseClick"),eI=rm();eI.startListening({actionCreator:QO,effect:(t,r)=>{var s=t.payload,a=lk(r.getState(),ok(s));a?.activeIndex!=null&&r.dispatch(Tte({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var Xv=mn("mouseMove"),tI=rm();tI.startListening({actionCreator:Xv,effect:(t,r)=>{var s=t.payload,a=r.getState(),n=RN(a,a.tooltip.settings.shared),i=lk(a,ok(s));n==="axis"&&(i?.activeIndex!=null?r.dispatch(HR({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):r.dispatch(qR()))}});function Loe(t,r){return r instanceof HTMLElement?"HTMLElement <".concat(r.tagName,' class="').concat(r.className,'">'):r===window?"global.window":r}var l3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rI=Ba({name:"rootProps",initialState:l3,reducers:{updateOptions:(t,r)=>{var s;t.accessibilityLayer=r.payload.accessibilityLayer,t.barCategoryGap=r.payload.barCategoryGap,t.barGap=(s=r.payload.barGap)!==null&&s!==void 0?s:l3.barGap,t.barSize=r.payload.barSize,t.maxBarSize=r.payload.maxBarSize,t.stackOffset=r.payload.stackOffset,t.syncId=r.payload.syncId,t.syncMethod=r.payload.syncMethod,t.className=r.payload.className}}}),$oe=rI.reducer,{updateOptions:Foe}=rI.actions,sI=Ba({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,r)=>r.payload}}),{updatePolarOptions:Boe}=sI.actions,Uoe=sI.reducer,aI=mn("keyDown"),nI=mn("focus"),ck=rm();ck.startListening({actionCreator:aI,effect:(t,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip,i=t.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(ON(n,td(s))),c=Li(s);if(i==="Enter"){var u=cx(s,"axis","hover",String(n.index));r.dispatch(zv({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:u}));return}var h=jte(s),m=h==="left-to-right"?1:-1,x=i==="ArrowRight"?1:-1,g=l+x*m;if(!(c==null||g>=c.length||g<0)){var b=cx(s,"axis","hover",String(g));r.dispatch(zv({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});ck.startListening({actionCreator:nI,effect:(t,r)=>{var s=r.getState(),a=s.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:n}=s.tooltip;if(!n.active&&n.index==null){var i="0",l=cx(s,"axis","hover",String(i));r.dispatch(zv({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var en=mn("externalEvent"),iI=rm();iI.startListening({actionCreator:en,effect:(t,r)=>{if(t.payload.handler!=null){var s=r.getState(),a={activeCoordinate:hre(s),activeDataKey:rO(s),activeIndex:kl(s),activeLabel:tO(s),activeTooltipIndex:kl(s),isTooltipActive:xre(s)};t.payload.handler(a,t.payload.reactEvent)}}});var zoe=_e([ed],t=>t.tooltipItemPayloads),Voe=_e([zoe,mm,(t,r,s)=>r,(t,r,s)=>s],(t,r,s,a)=>{var n=t.find(c=>c.settings.dataKey===a);if(n!=null){var{positions:i}=n;if(i!=null){var l=r(i,s);return l}}}),lI=mn("touchMove"),oI=rm();oI.startListening({actionCreator:lI,effect:(t,r)=>{var s=t.payload,a=r.getState(),n=RN(a,a.tooltip.settings.shared);if(n==="axis"){var i=lk(a,ok({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,currentTarget:s.currentTarget}));i?.activeIndex!=null&&r.dispatch(HR({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(n==="item"){var l,c=s.touches[0],u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var h=u.getAttribute(qT),m=(l=u.getAttribute(HT))!==null&&l!==void 0?l:void 0,x=Voe(r.getState(),h,m);r.dispatch(VR({activeDataKey:m,activeIndex:h,activeCoordinate:x}))}}});var qoe=gT({brush:Iie,cartesianAxis:eoe,chartData:Vre,errorBars:$ne,graphicalItems:Yae,layout:kK,legend:dJ,options:$re,polarAxis:xae,polarOptions:Uoe,referenceElements:zie,rootProps:$oe,tooltip:Dte}),Hoe=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return KY({reducer:qoe,preloadedState:r,middleware:a=>a({serializableCheck:!1}).concat([eI.middleware,tI.middleware,ck.middleware,iI.middleware,oI.middleware]),devTools:{serialize:{replacer:Loe},name:"recharts-".concat(s)}})};function cI(t){var{preloadedState:r,children:s,reduxStoreName:a}=t,n=xa(),i=f.useRef(null);if(n)return s;i.current==null&&(i.current=Hoe(r,a));var l=Sj;return f.createElement(Ioe,{context:l,store:i.current},s)}function dI(t){var{layout:r,width:s,height:a,margin:n}=t,i=Tr(),l=xa();return f.useEffect(()=>{l||(i(wK(r)),i(jK({width:s,height:a})),i(vK(n)))},[i,l,r,s,a,n]),null}function uI(t){var r=Tr();return f.useEffect(()=>{r(Foe(t))},[r,t]),null}var Goe=["children"];function Woe(t,r){if(t==null)return{};var s,a,n=Yoe(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Yoe(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}function yx(){return yx=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},yx.apply(null,arguments)}var Koe={width:"100%",height:"100%"},Joe=f.forwardRef((t,r)=>{var s=Oj(),a=Ij(),n=XT();if(!Ec(s)||!Ec(a))return null;var{children:i,otherAttributes:l,title:c,desc:u}=t,h,m;return typeof l.tabIndex=="number"?h=l.tabIndex:h=n?0:void 0,typeof l.role=="string"?m=l.role:m=n?"application":void 0,f.createElement(hj,yx({},l,{title:c,desc:u,role:m,tabIndex:h,width:s,height:a,style:Koe,ref:r}),i)}),Xoe=t=>{var{children:r}=t,s=kt(Xx);if(!s)return null;var{width:a,height:n,y:i,x:l}=s;return f.createElement(hj,{width:a,height:n,x:l,y:i},r)},o3=f.forwardRef((t,r)=>{var{children:s}=t,a=Woe(t,Goe),n=xa();return n?f.createElement(Xoe,null,s):f.createElement(Joe,yx({ref:r},a),s)});function Zoe(){var t=Tr(),[r,s]=f.useState(null),a=kt(ZK);return f.useEffect(()=>{if(r!=null){var n=r.getBoundingClientRect(),i=n.width/r.offsetWidth;Ss(i)&&i!==a&&t(NK(i))}},[r,t,a]),s}function c3(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Qoe(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?c3(Object(s),!0).forEach(function(a){ece(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):c3(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function ece(t,r,s){return(r=tce(r))in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function tce(t){var r=rce(t,"string");return typeof r=="symbol"?r:r+""}function rce(t,r){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var sce=f.forwardRef((t,r)=>{var{children:s,className:a,height:n,onClick:i,onContextMenu:l,onDoubleClick:c,onMouseDown:u,onMouseEnter:h,onMouseLeave:m,onMouseMove:x,onMouseUp:g,onTouchEnd:b,onTouchMove:y,onTouchStart:w,style:N,width:_}=t,S=Tr(),[k,v]=f.useState(null),[A,E]=f.useState(null);Gre();var T=Zoe(),F=f.useCallback(z=>{T(z),typeof r=="function"&&r(z),v(z),E(z)},[T,r,v,E]),R=f.useCallback(z=>{S(QO(z)),S(en({handler:i,reactEvent:z}))},[S,i]),D=f.useCallback(z=>{S(Xv(z)),S(en({handler:h,reactEvent:z}))},[S,h]),$=f.useCallback(z=>{S(qR()),S(en({handler:m,reactEvent:z}))},[S,m]),B=f.useCallback(z=>{S(Xv(z)),S(en({handler:x,reactEvent:z}))},[S,x]),H=f.useCallback(()=>{S(nI())},[S]),I=f.useCallback(z=>{S(aI(z.key))},[S]),L=f.useCallback(z=>{S(en({handler:l,reactEvent:z}))},[S,l]),M=f.useCallback(z=>{S(en({handler:c,reactEvent:z}))},[S,c]),q=f.useCallback(z=>{S(en({handler:u,reactEvent:z}))},[S,u]),Z=f.useCallback(z=>{S(en({handler:g,reactEvent:z}))},[S,g]),G=f.useCallback(z=>{S(en({handler:w,reactEvent:z}))},[S,w]),de=f.useCallback(z=>{S(lI(z)),S(en({handler:y,reactEvent:z}))},[S,y]),X=f.useCallback(z=>{S(en({handler:b,reactEvent:z}))},[S,b]);return f.createElement(cO.Provider,{value:k},f.createElement($E.Provider,{value:A},f.createElement("div",{className:tr("recharts-wrapper",a),style:Qoe({position:"relative",cursor:"default",width:_,height:n},N),onClick:R,onContextMenu:L,onDoubleClick:M,onFocus:H,onKeyDown:I,onMouseDown:q,onMouseEnter:D,onMouseLeave:$,onMouseMove:B,onMouseUp:Z,onTouchEnd:X,onTouchMove:de,onTouchStart:G,ref:F},s)))}),ace=["children","className","width","height","style","compact","title","desc"];function nce(t,r){if(t==null)return{};var s,a,n=ice(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function ice(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}var mI=f.forwardRef((t,r)=>{var{children:s,className:a,width:n,height:i,style:l,compact:c,title:u,desc:h}=t,m=nce(t,ace),x=Jn(m);return c?f.createElement(o3,{otherAttributes:x,title:u,desc:h},s):f.createElement(sce,{className:a,style:l,width:n,height:i,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},f.createElement(o3,{otherAttributes:x,title:u,desc:h,ref:r},f.createElement(qie,null,s)))}),lce=["width","height"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Zv.apply(null,arguments)}function oce(t,r){if(t==null)return{};var s,a,n=cce(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function cce(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}var dce={top:5,right:5,bottom:5,left:5},uce={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dce,reverseStackOrder:!1,syncMethod:"index"},hI=f.forwardRef(function(r,s){var a,n=Ua(r.categoricalChartProps,uce),{width:i,height:l}=n,c=oce(n,lce);if(!Ec(i)||!Ec(l))return null;var{chartName:u,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:x,categoricalChartProps:g}=r,b={chartName:u,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:x,eventEmitter:void 0};return f.createElement(cI,{preloadedState:{options:b},reduxStoreName:(a=g.id)!==null&&a!==void 0?a:u},f.createElement(MO,{chartData:g.data}),f.createElement(dI,{width:i,height:l,layout:n.layout,margin:n.margin}),f.createElement(uI,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),f.createElement(mI,Zv({},c,{width:i,height:l,ref:s})))}),mce=["axis","item"],bx=f.forwardRef((t,r)=>f.createElement(hI,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mce,tooltipPayloadSearcher:zN,categoricalChartProps:t,ref:r}));function hce(t){var r=Tr();return f.useEffect(()=>{r(Boe(t))},[r,t]),null}var xce=["width","height","layout"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)({}).hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Qv.apply(null,arguments)}function gce(t,r){if(t==null)return{};var s,a,n=pce(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],r.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function pce(t,r){if(t==null)return{};var s={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;s[a]=t[a]}return s}var fce={top:5,right:5,bottom:5,left:5},yce={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:fce,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},bce=f.forwardRef(function(r,s){var a,n=Ua(r.categoricalChartProps,yce),{width:i,height:l,layout:c}=n,u=gce(n,xce);if(!Ec(i)||!Ec(l))return null;var{chartName:h,defaultTooltipEventType:m,validateTooltipEventTypes:x,tooltipPayloadSearcher:g}=r,b={chartName:h,defaultTooltipEventType:m,validateTooltipEventTypes:x,tooltipPayloadSearcher:g,eventEmitter:void 0};return f.createElement(cI,{preloadedState:{options:b},reduxStoreName:(a=n.id)!==null&&a!==void 0?a:h},f.createElement(MO,{chartData:n.data}),f.createElement(dI,{width:i,height:l,layout:c,margin:n.margin}),f.createElement(uI,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),f.createElement(hce,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),f.createElement(mI,Qv({width:i,height:l},u,{ref:s})))}),vce=["item"],wce={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ew=f.forwardRef((t,r)=>{var s=Ua(t,wce);return f.createElement(bce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:vce,tooltipPayloadSearcher:zN,categoricalChartProps:s,ref:r})}),jce=["axis"],Nce=f.forwardRef((t,r)=>f.createElement(hI,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jce,tooltipPayloadSearcher:zN,categoricalChartProps:t,ref:r}));const kce=({weeklyData:t,upcomingInterviews:r})=>{const s=t.labels.map((a,n)=>({day:a,New:t.new[n],Approved:t.approved[n]}));return e.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex-1 flex flex-col",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Weekly Flow"}),e.jsx("div",{className:"flex-1 w-full min-h-[100px]",children:e.jsx(gl,{width:"100%",height:"100%",children:e.jsxs(bx,{data:s,barCategoryGap:2,children:[e.jsx(po,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#9ca3af"}}),e.jsx(xl,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),e.jsx(Mc,{dataKey:"New",fill:"#3b82f6",radius:[4,4,0,0]}),e.jsx(Mc,{dataKey:"Approved",fill:"#22c55e",radius:[4,4,0,0]})]})})}),e.jsxs("div",{className:"flex justify-center space-x-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1"})," New"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 mr-1"})," Approved"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Upcoming Interviews"}),e.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full",children:[r.length," today"]})]}),e.jsxs("div",{className:"space-y-3",children:[r.slice(0,3).map((a,n)=>e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("div",{className:"w-10 text-center font-bold text-gray-500 mr-3 shrink-0",children:e.jsx("div",{className:"text-xs uppercase",children:a.time})}),e.jsxs("div",{className:"flex-1 bg-gray-50 p-2 rounded border border-gray-100",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate",children:a.candidate}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:a.type})]})]},n)),r.length===0&&e.jsx("p",{className:"text-xs text-center text-gray-400 py-4",children:"No interviews scheduled"})]})]})]})},ic=it.SCHOLARSHIP_SERVICE.BASE_URL,Sce=it.AID_SERVICE.BASE_URL;class _ce{constructor(){this.cache=new Map,this.cacheExpiry=300*1e3}async getDashboardOverview(){try{const r=localStorage.getItem("auth_token"),s=await fetch(`${ic}/api/stats/overview`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(s.ok){const a=await s.json();if(a.success){const n=a.data;return{totalApplications:n.total_applications||0,approvedApplications:n.approved_applications||0,pendingReview:n.pending_applications||0,rejectedApplications:n.rejected_applications||0,activeStudents:n.total_students||0,partnerSchools:45,sscReviews:n.pending_applications||0,interviewsScheduled:0,processingSpeed:n.avg_processing_days||3.2,actionable_count:n.actionable_count||0,critical_count:n.critical_count||0}}}}catch{console.warn("Scholarship overview API not available, using fallback data")}return{totalApplications:1247,approvedApplications:892,pendingReview:234,rejectedApplications:121,totalBudget:452e5,disbursedAmount:321e5,remainingBudget:131e5,activeStudents:892,partnerSchools:45,sscReviews:156,interviewsScheduled:89,processingSpeed:3.2}}async getDisbursementMetrics(){try{const r=localStorage.getItem("auth_token"),s=await fetch(`${Sce}/api/school-aid/metrics`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(s.ok){const a=await s.json();return{totalBudget:a.total_budget||452e5,disbursedAmount:a.total_disbursed||321e5,remainingBudget:a.remaining_budget||131e5,utilizationRate:a.utilization_rate||71,disbursedCount:a.disbursed_applications||0}}}catch{console.warn("Aid service metrics not available")}return{totalBudget:452e5,disbursedAmount:321e5,remainingBudget:131e5,utilizationRate:71}}async getApplicationTrends(r="monthly"){try{const s=localStorage.getItem("auth_token"),a=await fetch(`${ic}/api/stats/applications/trends`,{method:"GET",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"}});if(a.ok){const n=await a.json();if(n.success)return n.data}}catch(s){console.warn("Application trends API not available",s)}return{monthly:[{month:"Jan",applications:0,approved:0},{month:"Feb",applications:0,approved:0},{month:"Mar",applications:0,approved:0},{month:"Apr",applications:0,approved:0},{month:"May",applications:0,approved:0},{month:"Jun",applications:0,approved:0}]}}async getStatusDistribution(){try{const r=localStorage.getItem("auth_token"),s=await fetch(`${ic}/api/stats/applications/by-status`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(s.ok){const a=await s.json();if(a.success){const n=a.data;return{approved:n.approved||0,pending:n.submitted||0,rejected:n.rejected||0,underReview:n.under_review||0}}}}catch{console.warn("Status distribution API not available")}return{approved:45,pending:30,rejected:15,underReview:10}}async getSSCWorkflow(){return{documentVerification:45,financialReview:32,academicReview:28,finalApproval:15}}async getScholarshipCategories(){try{const r=localStorage.getItem("auth_token"),s=await fetch(`${ic}/api/stats/applications/by-subcategory`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(s.ok){const a=await s.json();if(a.success)return a.data}}catch{console.warn("Scholarship categories API not available")}return{"Merit Scholarship":456,"Need-Based Scholarship":321,"Special Program":234,Renewal:236}}async getTopSchools(){try{const r=localStorage.getItem("auth_token"),s=await fetch(`${ic}/api/schools`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(s.ok){const a=await s.json(),n=a.data?.data||(Array.isArray(a.data)?a.data:[]);if(a.success&&Array.isArray(n))return n.slice(0,4).map(i=>({name:i.name,applications:i.applications_count||0,approved:i.approved_count||0}))}}catch(r){console.warn("Top schools API fetch failed:",r)}return[{name:"University of the Philippines",applications:156,approved:98},{name:"Ateneo de Manila University",applications:134,approved:89},{name:"De La Salle University",applications:98,approved:67},{name:"University of Santo Tomas",applications:87,approved:54}]}async getAllDashboardData(){try{const[r,s,a,n,i,l,c]=await Promise.all([this.getDashboardOverview(),this.getDisbursementMetrics(),this.getApplicationTrends(),this.getStatusDistribution(),this.getSSCWorkflow(),this.getScholarshipCategories(),this.getTopSchools()]);return{overview:{...r,...s},applicationTrends:a,statusDistribution:n,sscWorkflow:i,scholarshipCategories:l,topSchools:c,lastUpdated:new Date().toISOString()}}catch(r){throw console.error("Error fetching dashboard data:",r),r}}async exportDashboardReport(r="csv"){try{const s=localStorage.getItem("auth_token"),a=await fetch(`${ic}/api/dashboard/export?format=${r}`,{method:"POST",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"}});if(a.ok){const n=await a.blob(),i=window.URL.createObjectURL(n),l=document.createElement("a");return l.href=i,l.download=`dashboard-report-${new Date().toISOString().split("T")[0]}.${r}`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(i),document.body.removeChild(l),!0}}catch{console.warn("Export dashboard report API not available")}return!1}async generatePDFReport(r,s){console.log(`Generating ${r} report...`);const{jsPDF:a}=await Cr(async()=>{const{jsPDF:h}=await import("./jspdf.es.min-BF-9XIb2.js").then(m=>m.j);return{jsPDF:h}},[]),n=(await Cr(async()=>{const{default:h}=await import("./jspdf.plugin.autotable-DZlIrCiz.js");return{default:h}},[])).default,i=new a,l=s?.overview||{},c=new Date().toLocaleString();switch(i.setFontSize(20),i.setTextColor(40),i.text("GovServePH: Scholarship & Aid Report",14,22),i.setFontSize(10),i.setTextColor(100),i.text(`Generated on: ${c}`,14,30),i.text(`Report Type: ${r.toUpperCase()}`,14,35),i.setLineWidth(.5),i.line(14,40,196,40),r){case"general":i.setFontSize(14),i.text("Executive Summary",14,50),n(i,{startY:55,head:[["Metric","Value","Status"]],body:[["Total Applications",(l.totalApplications||1247).toLocaleString(),"Active"],["Approved Applications",(l.approvedApplications||892).toLocaleString(),"Completed"],["Actionable Backlog",(l.actionable_count||0).toLocaleString(),"Pending"],["Critical Issues",(l.critical_count||0).toLocaleString(),"Requires Attention"],["Avg. Processing Speed",`${l.processingSpeed||"3.2"} Days`,"Stable"],["Total Disbursed",`Php ${(l.disbursedAmount||0).toLocaleString()}`,"Current Cycle"]],theme:"striped",headStyles:{fillColor:[63,81,181]}});break;case"applications":i.setFontSize(14),i.text("Application Status Breakdown",14,50);const m=(s?.applicationTrends?.monthly||[]).map(b=>[b.month,b.applications,b.approved]);n(i,{startY:55,head:[["Month","New Applications","Approved"]],body:m.length>0?m:[["Sept 2023","245","180"],["Oct 2023","310","210"],["Nov 2023","280","225"]],theme:"grid"});break;case"disbursements":i.setFontSize(14),i.text("Financial Aid & Disbursements",14,50),n(i,{startY:55,head:[["Description","Amount"]],body:[["Total Disbursed Amount",`Php ${(l.disbursedAmount||0).toLocaleString()}`],["Total Recipients",`${l.disbursedCount||0}`],["Avg. Grant Size",`Php ${l.disbursedCount>0?(l.disbursedAmount/l.disbursedCount).toLocaleString():"0"}`]],theme:"plain"});break;case"schools":i.setFontSize(14),i.text("Partner Institution Distribution",14,50);const g=(s?.topSchools||[]).map(b=>[b.name,b.scholar_count||b.active_scholars||0]);n(i,{startY:55,head:[["Institution Name","Active Scholars"]],body:g.length>0?g:[["University of the Philippines","450"],["Ateneo de Manila University","320"],["De La Salle University","280"]],headStyles:{fillColor:[46,125,50]}});break;default:i.text("Details for this report type are currently unavailable.",14,50)}const u=i.internal.getNumberOfPages();for(let h=1;h<=u;h++)i.setPage(h),i.setFontSize(8),i.text(`Page ${h} of ${u}`,14,285),i.text("Confidential - GovServePH Internal Use Only",200,285,{align:"right"});return i.save(`GSM_Report_${r}_${new Date().getTime()}.pdf`),!0}}const tw=new _ce,Ace=({onPageChange:t})=>{const[r,s]=f.useState(!0),[a,n]=f.useState(null),[i,l]=f.useState(null),[c,u]=f.useState(!1),[h,m]=f.useState(!1);f.useEffect(()=>{x()},[]);const x=async()=>{s(!0);try{const k=await tw.getAllDashboardData();n(k),l(null)}catch(k){console.error("Dashboard load failed",k),l("Using offline mode")}finally{s(!1)}},g=async k=>{m(!0);try{await tw.generatePDFReport(k,a),u(!1)}catch(v){console.error("Report generation failed",v)}finally{m(!1)}},b=a?.overview||{},y=a?.applicationTrends?.monthly||[],w=[{label:"Actionable Backlog",value:b.actionable_count||0,subtext:"Applications in workflow",status:b.actionable_count>50?"warning":"good",icon:Nt},{label:"Critical Issues",value:b.critical_count||0,subtext:"Require resolution",status:b.critical_count>0?"critical":"good",icon:Wt},{label:"Processing Speed",value:`${b.processingSpeed||0} Days`,subtext:"Avg time to approve",status:"good",trend:1,icon:ln},{label:"Disbursed (Cycle)",value:(b.disbursedAmount||0)>=1e6?`${((b.disbursedAmount||0)/1e6).toFixed(1)}M`:`${((b.disbursedAmount||0)/1e3).toFixed(1)}K`,subtext:`${b.disbursedCount||0} accounts disbursed`,status:"neutral",icon:fi}],N=[];(b.pendingReview>0||b.actionable_count>0)&&N.push({title:"Review Backlog",description:`${b.actionable_count||b.pendingReview||0} applications pending next workflow steps`,timeAgo:"Live",type:"stale_application",priority:"high"}),b.critical_count>0&&N.push({title:"Critical Resolution Needed",description:`${b.critical_count} applications flagged for compliance or rejection review`,timeAgo:"Urgent",type:"payment_failed",priority:"high"});const _={labels:y.map(k=>k.month),new:y.map(k=>k.applications),approved:y.map(k=>k.approved)},S=Array(Math.min(b.interviewsScheduled||0,3)).fill(null).map((k,v)=>({time:"Upcoming",candidate:`Scheduled Application ${v+1}`,type:"Interview"}));return r&&!a?e.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50/50 p-6 space-y-6 relative",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Dashboard"}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Status: ",e.jsx("span",{className:"text-green-600 font-medium lowercase",children:" connected to services"}),"  ",new Date().toLocaleTimeString()]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:x,className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors bg-white border border-gray-200 shadow-sm",children:e.jsx(Ot,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors bg-white border border-gray-200 shadow-sm",children:e.jsx(na,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map((k,v)=>e.jsx(jG,{...k},v))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(NG,{items:N})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(kce,{weeklyData:_,upcomingInterviews:S})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Functional Controls"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>t("scholarship-applications","applications"),className:"flex items-center space-x-3 p-4 bg-blue-50 text-blue-700 rounded-xl hover:bg-blue-100 transition-all border border-blue-100 group",children:[e.jsx("div",{className:"p-2 bg-blue-600 text-white rounded-lg group-hover:scale-110 transition-transform",children:e.jsx(ut,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold text-sm",children:"Review Applications"})]}),e.jsxs("button",{onClick:()=>t("sad-overview"),className:"flex items-center space-x-3 p-4 bg-purple-50 text-purple-700 rounded-xl hover:bg-purple-100 transition-all border border-purple-100 group",children:[e.jsx("div",{className:"p-2 bg-purple-600 text-white rounded-lg group-hover:scale-110 transition-transform",children:e.jsx(cr,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold text-sm",children:"Process Grants"})]}),e.jsxs("button",{onClick:()=>t("scholarship-programs"),className:"flex items-center space-x-3 p-4 bg-emerald-50 text-emerald-700 rounded-xl hover:bg-emerald-100 transition-all border border-emerald-100 group",children:[e.jsx("div",{className:"p-2 bg-emerald-600 text-white rounded-lg group-hover:scale-110 transition-transform",children:e.jsx(ln,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold text-sm",children:"Manage Categories"})]}),e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-3 p-4 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-all border border-gray-100 group",children:[e.jsx("div",{className:"p-2 bg-gray-600 text-white rounded-lg group-hover:scale-110 transition-transform",children:e.jsx(fi,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold text-sm",children:"Generate Reports"})]})]})]}),e.jsx(Ta,{children:c&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm",children:e.jsxs(Et.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl border border-slate-200 w-full max-w-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[e.jsx(ut,{className:"w-5 h-5 text-blue-600"}),"Generate Report"]}),e.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-slate-200 rounded-full transition-colors",children:e.jsx(wt,{className:"w-5 h-5 text-slate-500"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("p",{className:"text-slate-500 text-sm",children:"Select the type of report you'd like to generate. All reports will be exported as PDF."}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:[{id:"general",title:"General Overview",desc:"Summary of all key metrics and performance.",icon:ln,color:"blue"},{id:"applications",title:"Applications Report",desc:"Detailed breakdown of application statuses.",icon:ut,color:"purple"},{id:"disbursements",title:"Financial Aid Report",desc:"Summary of budget utilization and grants.",icon:cr,color:"emerald"},{id:"schools",title:"Partner Schools Report",desc:"Distribution of scholars across institutions.",icon:Ht,color:"orange"}].map(k=>e.jsxs("button",{onClick:()=>g(k.id),disabled:h,className:"flex items-center gap-4 p-4 text-left rounded-xl border border-slate-200 hover:border-blue-400 hover:bg-blue-50/50 transition-all group disabled:opacity-50",children:[e.jsx("div",{className:`p-3 bg-${k.color}-100 text-${k.color}-600 rounded-lg group-hover:scale-110 transition-transform`,children:e.jsx(k.icon,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-slate-900",children:k.title}),e.jsx("p",{className:"text-xs text-slate-500",children:k.desc})]}),e.jsx(sr,{className:"w-4 h-4 text-slate-300 group-hover:text-blue-500"})]},k.id))})]}),h&&e.jsxs("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] flex flex-col items-center justify-center space-y-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-sm font-bold text-slate-700",children:"Preparing your PDF..."})]})]})})})]})};function Cce({onPageChange:t}){return e.jsx(Ace,{onPageChange:t})}const xI=({tabs:t,activeTab:r,onTabChange:s,className:a="",layoutId:n="activeTab",showUnderline:i=!0,variant:l="default"})=>{const c=()=>{switch(l){case"compact":return"py-2 px-2 sm:px-3 text-xs sm:text-sm";case"large":return"py-3 sm:py-4 px-2 sm:px-3 text-sm sm:text-base";default:return"py-2 sm:py-3 px-2 sm:px-3 text-xs sm:text-sm"}};return e.jsx("div",{className:`border-b border-gray-200 dark:border-slate-700 ${a}`,children:e.jsx("nav",{className:"-mb-px flex space-x-4 sm:space-x-6 lg:space-x-8 overflow-x-auto relative",children:t.map((u,h)=>e.jsxs(Et.button,{onClick:()=>s(u.id),className:`${c()} font-medium whitespace-nowrap transition-colors relative ${r===u.id?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:h*.1,duration:.3,ease:"easeOut"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[u.label,i&&r===u.id&&e.jsx(Et.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-orange-500",layoutId:n,initial:{scaleX:0},animate:{scaleX:1},transition:{type:"spring",stiffness:300,damping:30,duration:.3}})]},u.id))})})},gI=({activeTab:t,children:r,className:s=""})=>e.jsx(Ta,{mode:"wait",children:e.jsx(Et.div,{className:s,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeInOut"},children:r},t)}),rw={page:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeOut"}},card:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeOut"}},cardStagger:{delays:{0:.1,1:.2,2:.3,3:.4,4:.5,5:.6,6:.7,7:.8}},modal:{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2,ease:"easeOut"}},modalBackdrop:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},listItem:{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,ease:"easeOut"}},listStagger:{container:{},item:{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,ease:"easeOut"}}},button:{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.1}},icon:{whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9},transition:{duration:.2}},fade:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},slideUp:{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeOut"}},slideDown:{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,ease:"easeOut"}},slideLeft:{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,ease:"easeOut"}},slideRight:{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:"easeOut"}},scale:{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,ease:"easeOut"}},tab:{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"}},notification:{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.9},transition:{duration:.3,ease:"easeOut"}},loading:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},tableRow:{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"}},formField:{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"}}},Pce=t=>rw.cardStagger.delays[t]||.1,Ece=(t=.1)=>({initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:t}},exit:{opacity:0,transition:{staggerChildren:t,staggerDirection:-1}}}),yg=({children:t,variant:r="page",stagger:s=!1,staggerDelay:a=.1,className:n="",...i})=>{const c=s?Ece(a):rw[r]||rw.page;return e.jsx(Et.div,{variants:c,initial:"initial",animate:"animate",exit:"exit",className:n,...i,children:t})},Tce=({children:t,columns:r=4,gap:s=6,staggerDelay:a=.1,className:n="",...i})=>{const l={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4",5:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",6:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6"};return e.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:a}},exit:{opacity:0,transition:{staggerChildren:a,staggerDirection:-1}},className:`grid ${l[r]||l[4]} gap-${s} ${n}`,...i,children:t})},Dce=({size:t="md",className:r=""})=>{const s={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};return e.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:`flex items-center justify-center ${r}`,children:e.jsx(Lr,{className:`${s[t]} animate-spin text-orange-500`})})},pI=({className:t=""})=>e.jsx(Et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},className:`bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 ${t}`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-700 rounded w-1/3"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-slate-700 rounded"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-slate-700 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-700 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-700 rounded w-1/4"})]})]})}),Rce=({columns:t=4})=>e.jsx(Et.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,ease:"easeOut"},className:"animate-pulse",children:Array.from({length:t}).map((r,s)=>e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-700 rounded w-full"})},s))}),Oce=({className:t=""})=>e.jsx(Et.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2,ease:"easeOut"},className:`p-4 border-b border-gray-200 dark:border-slate-700 ${t}`,children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-slate-700 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-700 rounded w-1/3"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-slate-700 rounded w-1/2"})]}),e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-slate-700 rounded w-16"})]})})}),Ice=({module:t,message:r="Loading..."})=>{const a=(n=>{switch(n){case"students":return Ht;case"applications":return ut;case"reports":return da;case"settings":return na;case"archived":return yu;default:return Sx}})(t);return e.jsxs(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"flex flex-col items-center justify-center min-h-[400px] space-y-4",children:[e.jsxs(Et.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"relative",children:[e.jsx(a,{className:"w-16 h-16 text-orange-500"}),e.jsx(Et.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:e.jsx(Lr,{className:"w-6 h-6 text-orange-400"})})]}),e.jsxs(Et.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:r}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we load the data..."})]}),e.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"flex space-x-1",children:[0,1,2].map(n=>e.jsx(Et.div,{animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:n*.2},className:"w-2 h-2 bg-orange-500 rounded-full"},n))})]})},Mce=({columns:t=4,rows:r=3,className:s=""})=>e.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-${t} gap-6 ${s}`,children:Array.from({length:t*r}).map((a,n)=>e.jsx(pI,{},n))}),Lce=({columns:t=5,rows:r=5,className:s=""})=>e.jsxs(Et.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:`bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden ${s}`,children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-slate-700 rounded w-1/4"})})}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:Array.from({length:r}).map((a,n)=>e.jsx(Rce,{columns:t},n))})]}),$ce=({items:t=5,className:r=""})=>e.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:`bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden ${r}`,children:Array.from({length:t}).map((s,a)=>e.jsx(Oce,{},a))}),dk=({variant:t="module",module:r="default",message:s="Loading...",size:a="md",className:n="",columns:i=4,rows:l=3,items:c=5})=>{switch(t){case"spinner":return e.jsx(Dce,{size:a,className:n});case"card":return e.jsx(pI,{className:n});case"grid":return e.jsx(Mce,{columns:i,rows:l,className:n});case"table":return e.jsx(Lce,{columns:i,rows:l,className:n});case"list":return e.jsx($ce,{items:c,className:n});case"module":default:return e.jsx(Ice,{module:r,message:s})}},uk=({message:t="Loading...",size:r="default",className:s="",showIcon:a=!0})=>{const i=(()=>{switch(r){case"small":return{container:"h-32",icon:"w-6 h-6",text:"text-sm"};case"large":return{container:"h-96",icon:"w-12 h-12",text:"text-lg"};default:return{container:"h-64",icon:"w-8 h-8",text:"text-base"}}})();return e.jsx("div",{className:`flex items-center justify-center ${i.container} ${s}`,children:e.jsxs("div",{className:"text-center",children:[a&&e.jsx(Et.div,{className:"flex justify-center mb-4",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3},children:e.jsx(Et.div,{className:`${i.icon} text-gray-500`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(Ot,{className:"w-full h-full"})})}),e.jsx(Et.p,{className:`${i.text} text-gray-500 font-medium`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:t})]})})},Fce=({className:t=""})=>e.jsx(uk,{message:"Loading users...",className:t}),Bce=({className:t=""})=>e.jsx(uk,{message:"Loading dashboard...",className:t}),Uce=({className:t=""})=>e.jsx(uk,{message:"Loading applications...",className:t}),bg=({className:t="",module:r="default"})=>e.jsx(dk,{variant:"module",module:r,message:"Loading data...",className:t}),zce=({children:t,index:r=0,delay:s=null,className:a="",hover:n=!0,clickable:i=!1,onClick:l=null,...c})=>{const u=s!==null?s:Pce(r),h={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut",delay:u}},exit:{opacity:0,y:-20,transition:{duration:.2}},hover:n?{scale:1.02,y:-2,transition:{duration:.2}}:{},tap:i?{scale:.98,transition:{duration:.1}}:{}},b=`bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 transition-shadow duration-200 ${n?"hover:shadow-xl dark:hover:shadow-2xl":""} ${i?"cursor-pointer":""} ${a}`.trim();return e.jsx(Et.div,{variants:h,initial:"initial",animate:"animate",exit:"exit",whileHover:n?"hover":void 0,whileTap:i?"tap":void 0,className:b,onClick:l,...c,children:t})},cl=({title:t,value:r,icon:s,color:a="blue",trend:n=null,index:i=0,className:l="",...c})=>{const u={blue:"text-blue-500",green:"text-green-500",orange:"text-orange-500",purple:"text-purple-500",red:"text-red-500",yellow:"text-yellow-500"};return e.jsx(zce,{index:i,className:l,...c,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:t}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r}),n&&e.jsxs("div",{className:`flex items-center mt-2 text-sm ${n.direction==="up"?"text-green-600":n.direction==="down"?"text-red-600":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:n.value}),e.jsx("span",{className:"ml-1",children:n.label})]})]}),s&&e.jsx("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-slate-700",children:e.jsx(s,{className:`w-6 h-6 ${u[a]||u.blue}`})})]})})};let Vce=0;const qce=()=>{const[t,r]=f.useState([]),s=f.useCallback((u,h="success",m=3e3)=>{const x=Vce++,g={id:x,message:u,type:h,duration:m};return r(b=>[...b,g]),x},[]),a=f.useCallback(u=>{r(h=>h.filter(m=>m.id!==u))},[]),n=f.useCallback((u,h)=>s(u,"success",h),[s]),i=f.useCallback((u,h)=>s(u,"error",h),[s]),l=f.useCallback((u,h)=>s(u,"warning",h),[s]),c=f.useCallback((u,h)=>s(u,"info",h),[s]);return{toasts:t,showToast:s,hideToast:a,success:n,error:i,warning:l,info:c}},Hce=({toasts:t,removeToast:r})=>e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(s=>e.jsx(jP,{message:s.message,type:s.type,duration:s.duration,onClose:()=>r(s.id)},s.id))}),fI=f.createContext(),Zt=()=>{const t=f.useContext(fI);if(!t)throw new Error("useToastContext must be used within a ToastProvider");return t},yI=({children:t})=>{const r=qce();return e.jsxs(fI.Provider,{value:r,children:[t,e.jsx(Hce,{toasts:r.toasts,removeToast:r.hideToast})]})};function d3(){const{showSuccess:t,showError:r}=Zt(),[s,a]=f.useState({totalApplications:0,pendingReview:0,underReview:0,approved:0,rejected:0,verifiedStudents:0,scheduledInterviews:0,endorsedToSSC:0}),[n,i]=f.useState(!0),[l,c]=f.useState([]),[u,h]=f.useState(!1);f.useEffect(()=>{m()},[]);const m=async()=>{try{i(!0);const y=await ot.getDashboardOverview();a({totalApplications:y.stats.totalApplications||0,pendingReview:y.stats.pendingReview||0,underReview:y.stats.underReview||0,approved:y.stats.approved||0,rejected:y.stats.rejected||0,verifiedStudents:y.stats.verifiedStudents||0,scheduledInterviews:y.stats.scheduledInterviews||0,endorsedToSSC:y.stats.endorsedToSSC||0}),c(y.recentActivities||[])}catch(y){console.error("Failed to fetch overview data:",y),r("Failed to load dashboard data")}finally{i(!1)}},x=async()=>{try{h(!0);const y=await ot.getApplicationsReportData();if(!y||y.length===0){r("No applications found to export");return}const{jsPDF:w}=await Cr(async()=>{const{jsPDF:A}=await import("./jspdf.es.min-BF-9XIb2.js").then(E=>E.j);return{jsPDF:A}},[]),N=(await Cr(async()=>{const{default:A}=await import("./jspdf.plugin.autotable-DZlIrCiz.js");return{default:A}},[])).default,_=new w("landscape"),S=new Date().toLocaleString();_.setFontSize(18),_.setTextColor(40),_.text("Scholarship Applications Report",14,20),_.setFontSize(10),_.setTextColor(100),_.text(`Generated on: ${S}`,14,28),_.text(`Total Records: ${y.length}`,14,33),_.setLineWidth(.5),_.line(14,38,283,38);const k=y.map(A=>[A.application_number||"N/A",A.student?`${A.student.first_name} ${A.student.last_name}`:"N/A",A.school?A.school.name:"N/A",A.category?A.category.name:"N/A",A.subcategory?A.subcategory.name:"N/A",A.status.replace(/_/g," ").toUpperCase(),new Date(A.created_at).toLocaleDateString()]);N(_,{startY:45,head:[["App #","Student Name","School","Category","Subcategory","Status","Date Applied"]],body:k,theme:"striped",headStyles:{fillColor:[37,99,235]},styles:{fontSize:8},columnStyles:{1:{cellWidth:"auto"},2:{cellWidth:"auto"}}});const v=_.internal.getNumberOfPages();for(let A=1;A<=v;A++)_.setPage(A),_.setFontSize(8),_.text(`Page ${A} of ${v}`,14,200),_.text("Confidential - Scholarship Management System",283,200,{align:"right"});_.save(`scholarship_report_${new Date().toISOString().split("T")[0]}.pdf`),t("PDF report generated successfully")}catch(y){console.error("Failed to export report:",y),r("Failed to generate PDF report")}finally{h(!1)}},g=y=>{switch(y){case"application":return e.jsx(ut,{className:"w-4 h-4 text-blue-500"});case"approval":return e.jsx(Le,{className:"w-4 h-4 text-green-500"});case"interview":return e.jsx(zt,{className:"w-4 h-4 text-purple-500"});case"endorsement":return e.jsx(xr,{className:"w-4 h-4 text-orange-500"});case"rejection":return e.jsx(Wt,{className:"w-4 h-4 text-red-500"});default:return e.jsx(ut,{className:"w-4 h-4 text-gray-500"})}},b=y=>{switch(y){case"pending":case"draft":case"submitted":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"approved":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"interview_scheduled":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"endorsed_to_ssc":case"ssc_final_approval":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}};return n?e.jsx(dk,{variant:"module",module:"applications",message:"Loading applications..."}):e.jsxs(yg,{variant:"page",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Application Management Overview"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Monitor and manage scholarship applications across all stages"})]}),e.jsxs("div",{className:"flex items-center space-x-3 mt-4 lg:mt-0",children:[e.jsxs("button",{onClick:m,className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors flex items-center",children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e.jsxs("button",{onClick:x,disabled:u,className:"bg-blue-600 text-white border border-transparent px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(sr,{className:"w-4 h-4 mr-2"}),u?"Exporting...":"Export Report"]})]})]}),e.jsxs(Tce,{columns:4,staggerDelay:.1,children:[e.jsx(cl,{title:"Total Applications",value:s.totalApplications.toLocaleString(),icon:Ht,color:"blue",index:0}),e.jsx(cl,{title:"Pending Review",value:s.pendingReview.toLocaleString(),icon:Nt,color:"yellow",index:1}),e.jsx(cl,{title:"Under Review",value:s.underReview.toLocaleString(),icon:ut,color:"blue",index:2}),e.jsx(cl,{title:"Approved",value:s.approved.toLocaleString(),icon:Le,color:"green",index:3}),e.jsx(cl,{title:"Verified Students",value:s.verifiedStudents.toLocaleString(),icon:Ls,color:"purple",index:4}),e.jsx(cl,{title:"Scheduled Interviews",value:s.scheduledInterviews.toLocaleString(),icon:zt,color:"indigo",index:5}),e.jsx(cl,{title:"Endorsed to SSC",value:s.endorsedToSSC.toLocaleString(),icon:xr,color:"orange",index:6}),e.jsx(cl,{title:"Rejected",value:s.rejected.toLocaleString(),icon:Wt,color:"red",index:7})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activities"})}),l.length>0?e.jsx("div",{className:"space-y-4",children:l.map(y=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:g(y.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:y.message}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:y.time}),e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${b(y.status)}`,children:y.status.replace(/_/g," ")})]})]})]},y.id))}):e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No recent activities found"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("button",{className:"p-4 text-left rounded-lg border border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-100 dark:bg-blue-900/30",children:e.jsx(ut,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Review Applications"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Process pending applications"})]})]})}),e.jsx("button",{className:"p-4 text-left rounded-lg border border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-purple-100 dark:bg-purple-900/30",children:e.jsx(Ls,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Verify Students"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Check enrollment status"})]})]})}),e.jsx("button",{className:"p-4 text-left rounded-lg border border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-indigo-100 dark:bg-indigo-900/30",children:e.jsx(zt,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Schedule Interviews"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Set up interview sessions"})]})]})}),e.jsx("button",{className:"p-4 text-left rounded-lg border border-gray-200 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-orange-100 dark:bg-orange-900/30",children:e.jsx(xr,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Endorse to SSC"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Forward approved applications"})]})]})})]})]})]})}function Gce(){const{success:t,error:r,warning:s,info:a}=Zt(),n=(oe,Fe)=>t(Fe?`${oe}: ${Fe}`:oe),i=(oe,Fe)=>r(Fe?`${oe}: ${Fe}`:oe),l=(oe,Fe)=>s(Fe?`${oe}: ${Fe}`:oe),c=(oe,Fe)=>a(Fe?`${oe}: ${Fe}`:oe),{triggerScholarshipNotification:u}=oj(),[h,m]=f.useState([]),[x,g]=f.useState(!0),[b,y]=f.useState(""),[w,N]=f.useState(""),[_,S]=f.useState({status:"submitted",category:"all",level:"all",school:"all",dateFrom:"",dateTo:"",minGwa:"",maxGwa:"",priority:"all"}),[k,v]=f.useState("grid"),[A,E]=f.useState("date"),[T,F]=f.useState("desc"),[R,D]=f.useState([]),[$,B]=f.useState(!1),[H,I]=f.useState(!1),[L,M]=f.useState(!1),[q,Z]=f.useState(null),[G,de]=f.useState(!1),[X,z]=f.useState(""),[Ie,ie]=f.useState(""),[Pe,re]=f.useState(!1),[Ee,ke]=f.useState(""),[xe,Q]=f.useState(""),[et,ve]=f.useState(!1),[Ze,Qe]=f.useState(""),[ht,K]=f.useState(""),[ne,pe]=f.useState(null),[Xe,ee]=f.useState("reviewed"),[he,W]=f.useState(""),[ye,P]=f.useState(null),[V,te]=f.useState({total:0,submitted:0,forCompliance:0,approved:0,rejected:0});f.useEffect(()=>{Ne()},[_,w]);const Ne=async()=>{try{g(!0),y("");const oe={};_.status!=="all"&&(oe.status=_.status),w&&(oe.search=w);const Fe=await ot.getApplications(oe),Pt=(Array.isArray(Fe.data)?Fe.data:[]).map(Ct=>({...Ct,name:`${Ct.student?.first_name??""} ${Ct.student?.last_name??""}`.trim()||"Unknown",studentId:Ct.student?.student_id_number||Ct.student_id||"",email:Ct.student?.email_address||"",phone:Ct.student?.contact_number||"",scholarIdNumber:Ct.application_number||"",schoolName:Ct.school?.name||"",gradeYearLevel:Ct.student?.current_academic_record?.year_level||"",generalWeightedAverage:Ct.student?.current_academic_record?.general_weighted_average||Ct.student?.current_academic_record?.gpa||"",scholarshipCategory:Ct.category?.name||"",scholarshipSubCategory:Ct.subcategory?.name||"",currentEducationalLevel:Ct.student?.current_academic_record?.educational_level||"",schoolYear:Ct.student?.current_academic_record?.school_year||"",schoolTerm:Ct.student?.current_academic_record?.school_term||"",submittedDate:Ct.submitted_at||Ct.created_at,requestedAmount:Ct.requested_amount||0,approvedAmount:Ct.approved_amount||0,priority:Ct.priority||"normal",status:Ct.status||"unknown"}));m(Pt),Se(Pt)}catch{y("Failed to load applications")}finally{g(!1)}},Se=oe=>{const Fe={total:oe.length,submitted:oe.filter(Me=>Me.status==="submitted").length,forCompliance:oe.filter(Me=>Me.status==="for_compliance").length,approved:oe.filter(Me=>Me.status==="approved").length,rejected:oe.filter(Me=>Me.status==="rejected").length};te(Fe)},pt=[...h.filter(oe=>{if(!["draft","submitted","for_compliance"].includes(oe.status))return!1;const Fe=_.status==="all"||oe.status===_.status,Me=_.category==="all"||(oe.scholarshipCategory||"").toLowerCase().includes(_.category.toLowerCase()),Pt=_.level==="all"||(oe.currentEducationalLevel||"").toLowerCase().includes(_.level.toLowerCase()),Ct=_.school==="all"||(oe.schoolName||"").toLowerCase().includes(_.school.toLowerCase()),Ks=_.priority==="all"||oe.priority===_.priority,Gr=oe.name.toLowerCase().includes(w.toLowerCase())||oe.studentId.toLowerCase().includes(w.toLowerCase())||(oe.schoolName||"").toLowerCase().includes(w.toLowerCase())||(oe.scholarshipCategory||"").toLowerCase().includes(w.toLowerCase()),ga=new Date(oe.submittedDate),fs=!_.dateFrom||ga>=new Date(_.dateFrom),pn=!_.dateTo||ga<=new Date(_.dateTo),Tl=parseFloat(oe.generalWeightedAverage||0),Rn=!_.minGwa||Tl>=parseFloat(_.minGwa),Eo=!_.maxGwa||Tl<=parseFloat(_.maxGwa);return Fe&&Me&&Pt&&Ct&&Ks&&Gr&&fs&&pn&&Rn&&Eo})].sort((oe,Fe)=>{let Me,Pt;switch(A){case"name":Me=oe.name.toLowerCase(),Pt=Fe.name.toLowerCase();break;case"gwa":Me=parseFloat(oe.generalWeightedAverage||0),Pt=parseFloat(Fe.generalWeightedAverage||0);break;case"amount":Me=parseFloat(oe.requestedAmount||0),Pt=parseFloat(Fe.requestedAmount||0);break;case"date":default:Me=new Date(oe.submittedDate),Pt=new Date(Fe.submittedDate);break}return T==="asc"?Me>Pt?1:-1:Me<Pt?1:-1}),se=oe=>{switch(oe){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"approved":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"interview_scheduled":case"interview_completed":case"endorsed_to_ssc":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"grants_processing":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"grants_disbursed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"on_hold":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"cancelled":return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";case"for_compliance":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"compliance_documents_submitted":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"unknown":return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},He=oe=>{if(!oe)return"Unknown";switch(oe){case"draft":return"Draft";case"submitted":return"Submitted";case"interview_scheduled":return"Interview Scheduled";case"interview_completed":return"Interview Completed";case"endorsed_to_ssc":return"Endorsed to SSC";case"approved":return"Approved";case"grants_processing":return"Grants Processing";case"grants_disbursed":return"Grants Disbursed";case"rejected":return"Rejected";case"on_hold":return"On Hold";case"cancelled":return"Cancelled";case"for_compliance":return"For Compliance";case"compliance_documents_submitted":return"Compliance Documents Submitted";case"unknown":return"Unknown Status";default:return oe.replace("_"," ").replace(/\b\w/g,Fe=>Fe.toUpperCase())}},qe=oe=>{switch(oe){case"pending":return e.jsx(Nt,{className:"w-4 h-4"});case"approved":return e.jsx(Le,{className:"w-4 h-4"});case"rejected":return e.jsx(jt,{className:"w-4 h-4"});case"interview_scheduled":case"interview_completed":case"endorsed_to_ssc":return e.jsx(Ht,{className:"w-4 h-4"});case"grants_processing":case"grants_disbursed":return e.jsx(Le,{className:"w-4 h-4"});case"unknown":return e.jsx(ut,{className:"w-4 h-4"});default:return e.jsx(ut,{className:"w-4 h-4"})}},J=oe=>{switch(oe){case"high":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},ce=oe=>{D(Fe=>Fe.includes(oe)?Fe.filter(Me=>Me!==oe):[...Fe,oe])},$e=(oe,Fe)=>{S(Me=>({...Me,[oe]:Fe}))},nt=()=>Object.entries(_).some(([oe,Fe])=>oe==="status"?Fe!=="submitted"&&Fe!=="all":Fe!=="all"&&Fe!=="")||w,qt=async oe=>{try{if(console.log("Opening review modal for application:",oe),M(!0),ee("reviewed"),!oe||!oe.id){console.error("Invalid application object:",oe),Z(null);return}try{const Fe=await ot.getApplication(oe.id);Z(Fe)}catch(Fe){console.error("Failed to fetch detailed application data:",Fe),Z(oe)}z(""),ie(""),W("")}catch(Fe){console.error("Error opening review modal:",Fe),Z(null)}},Gt=async()=>{if(q){if(q.status!=="submitted"){i("Invalid Status",'Application must be in "Submitted" status to be marked as reviewed.');return}if(he!=="REVIEWED"){l("Confirmation Required",'Please type "REVIEWED" to confirm this action.');return}de(!0);try{await ot.markAsReviewed(q.id),await Ne(),M(!1),W(""),n("Application Reviewed","Application has been reviewed and approved. Student is now ready for interview scheduling."),u("application_review",{application:q,action:"reviewed"})}catch(oe){console.error("Mark as reviewed failed",oe);const Fe=oe.message||"Failed to mark as reviewed. Please try again.";i("Review Failed",Fe)}finally{de(!1)}}},Ce=async()=>{if(q){if(!X?.trim()){l("Rejection Reason Required","Please enter a rejection reason.");return}de(!0);try{await ot.rejectApplication(q.id,X.trim()),await Ne(),M(!1),n("Application Rejected","Application has been successfully rejected."),u("application_review",{application:q,action:"rejected"})}catch(oe){console.error("Reject failed",oe),i("Rejection Failed","Failed to reject application. Please try again.")}finally{de(!1)}}},Re=async()=>{if(q){if(!Ie?.trim()){l("Compliance Reason Required","Please enter a compliance reason.");return}de(!0);try{await ot.flagForCompliance(q.id,Ie.trim()),await Ne(),M(!1),n("Application Flagged for Compliance","Application has been flagged for compliance review. Student will be notified to correct the information."),u("application_review",{application:q,action:"compliance"})}catch(oe){console.error("Compliance flagging failed",oe),i("Compliance Flagging Failed","Failed to flag application for compliance. Please try again.")}finally{de(!1)}}},Ke=async(oe,Fe)=>{try{console.log("Viewing document:",oe,Fe);const Me=await ot.viewDocument(oe);if(!window.open(Me,"_blank")){l("Popup Blocked","Please allow popups for this site to view documents.");return}c("Document Viewer",`Opening document: ${Fe}`)}catch(Me){console.error("Failed to view document:",Me),i("View Failed",`Failed to view document: ${Fe}. ${Me.message}`)}},Tt=async oe=>{if(!oe)return;if(oe.status!=="submitted"){i("Invalid Status",`Application must be in "Submitted" status to be marked as reviewed. Current status: ${oe.status}`);return}if(console.log("Quick review action triggered for application:",oe.id),!!confirm(`Mark application ${oe.applicationNumber} as reviewed?`)){de(!0);try{console.log("Calling markAsReviewed API for application:",oe.id),await ot.markAsReviewed(oe.id),console.log("API call successful, refreshing applications list"),await Ne(),n("Application Reviewed","Application has been successfully marked as reviewed.")}catch(Me){console.error("Quick review failed",Me);const Pt=Me.message||"Failed to mark as reviewed. Please try again.";i("Review Failed",Pt)}finally{de(!1)}}},le=async oe=>{oe&&(Qe("compliance"),K(""),pe(oe),ve(!0))},Oe=async oe=>{oe&&(Qe("reject"),K(""),pe(oe),ve(!0))},Ue=async()=>{if(ne){de(!0),ve(!1);try{switch(Ze){case"compliance":if(!ht?.trim()){l("Compliance Reason Required","Please enter a compliance reason."),de(!1);return}await ot.flagForCompliance(ne.id,ht.trim()),await Ne(),n("Application Flagged for Compliance","Application has been flagged for compliance review.");break;case"reject":if(!ht?.trim()){l("Rejection Reason Required","Please enter a rejection reason."),de(!1);return}await ot.rejectApplication(ne.id,ht.trim()),await Ne(),n("Application Rejected","Application has been successfully rejected.");break;default:throw new Error("Invalid quick action type")}}catch(oe){console.error("Quick action failed",oe);const Fe=Ze==="reject"?"reject":"flag for compliance";i(`${Fe.charAt(0).toUpperCase()+Fe.slice(1)} Failed`,`Failed to ${Fe} application. Please try again.`)}finally{de(!1),K(""),Qe(""),pe(null)}}},ue=async()=>{R.length!==0&&(ke("reviewed"),Q(""),re(!0))},ze=async()=>{R.length!==0&&(ke("compliance"),Q(""),re(!0))},fe=async()=>{R.length!==0&&(ke("reject"),Q(""),re(!0))},Ge=async()=>{if(R.length===0)return;const oe=R.length;de(!0),re(!1);try{let Fe=[];switch(Ee){case"reviewed":Fe=R.map(Me=>ot.markAsReviewed(Me));break;case"compliance":if(!xe?.trim()){l("Compliance Reason Required","Please enter a compliance reason."),de(!1);return}Fe=R.map(Me=>ot.flagForCompliance(Me,xe.trim()));break;case"reject":if(!xe?.trim()){l("Rejection Reason Required","Please enter a rejection reason."),de(!1);return}Fe=R.map(Me=>ot.rejectApplication(Me,xe.trim()));break;default:throw new Error("Invalid bulk action type")}switch(await Promise.all(Fe),await Ne(),D([]),u("bulk_action",{action:Ee,count:oe}),Ee){case"reviewed":n("Bulk Review Complete",`${oe} application(s) have been marked as reviewed.`);break;case"compliance":n("Bulk Compliance Complete",`${oe} application(s) have been flagged for compliance.`);break;case"reject":n("Bulk Rejection Complete",`${oe} application(s) have been rejected.`);break}}catch(Fe){console.error("Bulk action failed",Fe);const Me=Ee==="reviewed"?"review":Ee;i(`Bulk ${Me.charAt(0).toUpperCase()+Me.slice(1)} Failed`,`Failed to ${Me} applications. Please try again.`)}finally{de(!1),Q(""),ke("")}},tt=async(oe,Fe)=>{P(oe);try{console.log("Downloading document:",oe,Fe);const Me=await ot.downloadDocument(oe),Pt=window.URL.createObjectURL(Me),Ct=document.createElement("a");Ct.href=Pt,Ct.download=Fe,document.body.appendChild(Ct),Ct.click(),document.body.removeChild(Ct),window.URL.revokeObjectURL(Pt),n("Download Complete",`Successfully downloaded: ${Fe}`)}catch(Me){console.error("Download failed:",Me),i("Download Failed",`Failed to download document: ${Fe}. ${Me.message}`)}finally{P(null)}},rt=({application:oe})=>e.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 hover:shadow-md transition-all duration-200 group ${k==="list"?"rounded-lg":"rounded-xl"}`,children:e.jsxs("div",{className:k==="list"?"p-3 sm:p-4":"p-4 sm:p-6",children:[e.jsxs("div",{className:`flex flex-col space-y-3 sm:flex-row sm:items-start sm:justify-between sm:space-y-0 ${k==="list"?"mb-3":"mb-4"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx("input",{type:"checkbox",checked:R.includes(oe.id),onChange:()=>ce(oe.id),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"})}),e.jsx("div",{className:`flex-shrink-0 ${k==="list"?"h-8 w-8":"h-10 w-10 sm:h-12 sm:w-12"}`,children:e.jsx("div",{className:`${k==="list"?"h-8 w-8":"h-10 w-10 sm:h-12 sm:w-12"} rounded-full bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 flex items-center justify-center`,children:e.jsx(Jt,{className:`${k==="list"?"h-4 w-4":"h-5 w-5 sm:h-6 sm:w-6"} text-orange-600 dark:text-orange-400`})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:`${k==="list"?"text-sm sm:text-base font-semibold":"text-base sm:text-lg font-semibold"} text-gray-900 dark:text-white truncate`,children:oe.name}),e.jsx("p",{className:`${k==="list"?"text-xs":"text-xs sm:text-sm"} text-gray-500 dark:text-gray-400 truncate`,children:oe.studentId})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${se(oe.status)}`,children:[qe(oe.status),e.jsx("span",{className:"ml-1",children:He(oe.status)})]}),oe.priority!=="normal"&&e.jsxs("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium ${J(oe.priority)}`,children:[e.jsx(Ar,{className:"w-3 h-3 mr-1"}),oe.priority]})]})]}),e.jsxs("div",{className:k==="list"?"space-y-2":"space-y-4",children:[e.jsxs("div",{className:`flex items-center space-x-2 ${k==="list"?"text-xs":"text-sm"} text-gray-600 dark:text-gray-400`,children:[e.jsx(Ls,{className:`${k==="list"?"w-3 h-3":"w-4 h-4"} flex-shrink-0`}),e.jsx("span",{className:"truncate",children:oe.schoolName||"No school specified"})]}),e.jsxs("div",{className:`grid gap-3 ${k==="list"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4":"grid-cols-1 sm:grid-cols-2"}`,children:[e.jsxs("div",{className:`flex items-center space-x-2 ${k==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(gs,{className:`${k==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"GWA:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:oe.generalWeightedAverage||"N/A"})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${k==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(Rs,{className:`${k==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Level:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:oe.currentEducationalLevel||"N/A"})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${k==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(xr,{className:`${k==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Category:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:oe.scholarshipCategory||"N/A"})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${k==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(H3,{className:`${k==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Amount:"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:["",parseFloat(oe.requestedAmount||0).toLocaleString()]})]})]}),k==="list"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(zt,{className:"w-3 h-3 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Submitted: ",new Date(oe.submittedDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(pl,{className:"w-3 h-3 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[oe.documents?.length||0," documents"]})]})]}),k==="grid"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(zt,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Submitted: ",new Date(oe.submittedDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(pl,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[oe.documents?.length||0," documents uploaded"]})]})]})]}),e.jsx("div",{className:`${k==="list"?"mt-3 pt-3":"mt-6 pt-4"} border-t border-gray-200 dark:border-slate-700`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsxs("button",{onClick:()=>qt(oe),className:`flex items-center space-x-2 ${k==="list"?"px-4 py-2 text-sm font-semibold":"px-3 py-1.5 text-sm"} bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(Ft,{className:"w-4 h-4"}),e.jsx("span",{children:"Review"})]})}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[console.log("Application status for quick actions:",oe.status,"Application ID:",oe.id),oe.status==="submitted"&&e.jsx("button",{onClick:()=>Tt(oe),className:`${k==="list"?"p-2":"p-1.5"} bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md`,title:"Mark as Reviewed",children:e.jsx(Le,{className:`${k==="list"?"w-5 h-5":"w-4 h-4"}`})}),oe.status==="for_compliance"&&e.jsx("button",{onClick:()=>le(oe),className:`${k==="list"?"p-2":"p-1.5"} bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md`,title:"Flag for Compliance",children:e.jsx(eS,{className:`${k==="list"?"w-5 h-5":"w-4 h-4"}`})}),oe.status==="rejected"&&e.jsx("button",{onClick:()=>qt(oe),className:`${k==="list"?"p-2":"p-1.5"} bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md`,title:"View Details",children:e.jsx(Ft,{className:`${k==="list"?"w-5 h-5":"w-4 h-4"}`})}),oe.status!=="rejected"&&e.jsx("button",{onClick:()=>Oe(oe),className:`${k==="list"?"p-2":"p-1.5"} bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md`,title:"Reject",children:e.jsx(jt,{className:`${k==="list"?"w-5 h-5":"w-4 h-4"}`})})]})]})})]})});return e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Scholarship Applications"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-2",children:"Review and manage scholarship applications"})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 px-3 sm:px-4 py-2 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors flex items-center justify-center text-sm sm:text-base",children:[e.jsx(sr,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Export"}),e.jsx("span",{className:"sm:hidden",children:"Export"})]}),e.jsxs("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base",children:[e.jsx("span",{className:"hidden sm:inline",children:"Review Selected"}),e.jsx("span",{className:"sm:hidden",children:"Review"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Applications"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:V.total})]}),e.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/30",children:e.jsx(Ht,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Submitted"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:V.submitted})]}),e.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/30",children:e.jsx(ut,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"For Compliance"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:V.forCompliance})]}),e.jsx("div",{className:"p-3 rounded-full bg-orange-100 dark:bg-orange-900/30",children:e.jsx(Wt,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:V.approved})]}),e.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900/30",children:e.jsx(Le,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Rejected"}),e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:V.rejected})]}),e.jsx("div",{className:"p-3 rounded-full bg-red-100 dark:bg-red-900/30",children:e.jsx(jt,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative flex-1 w-full sm:min-w-64",children:[e.jsx(Zr,{className:"w-4 h-4 sm:w-5 sm:h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search applications...",value:w,onChange:oe=>N(oe.target.value),className:"w-full pl-9 sm:pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base"})]}),e.jsxs("select",{value:_.status,onChange:oe=>$e("status",oe.target.value),className:"w-full sm:w-auto px-3 sm:px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"submitted",children:"Submitted"}),e.jsx("option",{value:"for_compliance",children:"For Compliance"})]})]}),e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{onClick:()=>B(!$),className:`flex items-center justify-center space-x-2 px-3 sm:px-4 py-2 rounded-lg border transition-colors text-sm sm:text-base ${$?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[e.jsx(Fa,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Advanced"}),e.jsx("span",{className:"sm:hidden",children:"Filter"})]}),e.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-slate-600 rounded-lg",children:[e.jsx("button",{onClick:()=>v("grid"),className:`p-2 ${k==="grid"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-l-lg transition-colors`,children:e.jsx(No,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v("list"),className:`p-2 ${k==="list"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-r-lg transition-colors`,children:e.jsx(ko,{className:"w-4 h-4"})})]}),e.jsxs("select",{value:A,onChange:oe=>E(oe.target.value),className:"w-full sm:w-auto px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base",children:[e.jsx("option",{value:"date",children:"Sort by Date"}),e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"gwa",children:"Sort by GWA"}),e.jsx("option",{value:"amount",children:"Sort by Amount"})]}),e.jsx("button",{onClick:()=>F(T==="asc"?"desc":"asc"),className:"p-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",children:T==="asc"?e.jsx(kx,{className:"w-4 h-4"}):e.jsx(jx,{className:"w-4 h-4"})})]})]}),$&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs("select",{value:_.category,onChange:oe=>$e("category",oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"tertiary",children:"Tertiary Students"}),e.jsx("option",{value:"senior high",children:"Senior High School"}),e.jsx("option",{value:"technical",children:"Technical Vocational"}),e.jsx("option",{value:"als",children:"Alternative Learning System"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Level"}),e.jsxs("select",{value:_.level,onChange:oe=>$e("level",oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"senior high school",children:"Senior High School"}),e.jsx("option",{value:"tertiary",children:"Tertiary/College"}),e.jsx("option",{value:"technical",children:"Technical Vocational"}),e.jsx("option",{value:"graduate",children:"Graduate School"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),e.jsxs("select",{value:_.priority,onChange:oe=>$e("priority",oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Priorities"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"normal",children:"Normal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"School"}),e.jsxs("select",{value:_.school,onChange:oe=>$e("school",oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Schools"}),e.jsx("option",{value:"university",children:"University"}),e.jsx("option",{value:"college",children:"College"}),e.jsx("option",{value:"high school",children:"High School"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date From"}),e.jsx("input",{type:"date",value:_.dateFrom,onChange:oe=>$e("dateFrom",oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date To"}),e.jsx("input",{type:"date",value:_.dateTo,onChange:oe=>$e("dateTo",oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Min GWA"}),e.jsx("input",{type:"number",step:"0.01",min:"0",max:"4",value:_.minGwa,onChange:oe=>$e("minGwa",oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max GWA"}),e.jsx("input",{type:"number",step:"0.01",min:"0",max:"4",value:_.maxGwa,onChange:oe=>$e("maxGwa",oe.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]})]}),nt()&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[_.status!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",children:["Status: ",_.status,e.jsx("button",{onClick:()=>$e("status","all"),className:"ml-1 hover:text-orange-600 dark:hover:text-orange-200",children:e.jsx(wt,{className:"w-3 h-3"})})]}),_.category!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:["Category: ",_.category,e.jsx("button",{onClick:()=>$e("category","all"),className:"ml-1 hover:text-blue-600 dark:hover:text-blue-200",children:e.jsx(wt,{className:"w-3 h-3"})})]}),_.level!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:["Level: ",_.level,e.jsx("button",{onClick:()=>$e("level","all"),className:"ml-1 hover:text-green-600 dark:hover:text-green-200",children:e.jsx(wt,{className:"w-3 h-3"})})]}),w&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:['Search: "',w,'"',e.jsx("button",{onClick:()=>N(""),className:"ml-1 hover:text-purple-600 dark:hover:text-purple-200",children:e.jsx(wt,{className:"w-3 h-3"})})]})]}),R.length>0&&e.jsx("div",{className:"mt-4 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:[R.length," application(s) selected"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:ue,disabled:G,className:"bg-blue-500 hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:G?"Processing...":"Reviewed"}),e.jsx("button",{onClick:ze,disabled:G,className:"bg-yellow-500 hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:G?"Processing...":"Compliance"}),e.jsx("button",{onClick:fe,disabled:G,className:"bg-red-500 hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:G?"Processing...":"Reject"})]})]})})]}),x?e.jsx(Uce,{}):b?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 sm:p-6 text-center",children:[e.jsx(Wt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-red-700 dark:text-red-300",children:b})]}):pt.length===0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-6 sm:p-12 text-center",children:[e.jsx(ut,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No applications found"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Try adjusting your filters or search terms."})]}):e.jsx("div",{className:k==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6":"space-y-3",children:pt.map(oe=>e.jsx(rt,{application:oe},oe.id))}),L&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>M(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-7xl h-[95vh] sm:h-[90vh] bg-white dark:bg-slate-800 rounded-xl shadow-2xl flex flex-col lg:flex-row overflow-hidden",children:[e.jsxs("div",{className:"w-full lg:w-80 bg-gray-50 dark:bg-slate-900 border-r-0 lg:border-r border-b lg:border-b-0 border-gray-200 dark:border-slate-700 flex flex-col flex-shrink-0 max-h-80 sm:max-h-96 lg:max-h-none overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Review Application"}),e.jsx("button",{onClick:()=>M(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-4 lg:p-6 space-y-2 lg:space-y-3",children:[e.jsx("button",{onClick:()=>ee("reviewed"),className:`w-full p-3 lg:p-4 rounded-lg border-2 transition-all ${Xe==="reviewed"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:border-blue-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[e.jsx(Le,{className:"w-4 h-4 lg:w-5 lg:h-5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm lg:text-base",children:"Reviewed"}),e.jsx("div",{className:"text-xs lg:text-sm opacity-75",children:"Mark this application as reviewed"})]})]})}),e.jsx("button",{onClick:()=>ee("compliance"),className:`w-full p-3 lg:p-4 rounded-lg border-2 transition-all ${Xe==="compliance"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300":"border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:border-orange-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[e.jsx(eS,{className:"w-4 h-4 lg:w-5 lg:h-5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm lg:text-base",children:"Compliance"}),e.jsx("div",{className:"text-xs lg:text-sm opacity-75",children:"Flag for compliance issues"})]})]})}),e.jsx("button",{onClick:()=>ee("reject"),className:`w-full p-3 lg:p-4 rounded-lg border-2 transition-all ${Xe==="reject"?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300":"border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 hover:border-red-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[e.jsx(jt,{className:"w-4 h-4 lg:w-5 lg:h-5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm lg:text-base",children:"Reject"}),e.jsx("div",{className:"text-xs lg:text-sm opacity-75",children:"Reject this application"})]})]})})]}),e.jsxs("div",{className:"flex-1 p-4 lg:p-6",children:[Xe==="reviewed"&&e.jsxs("div",{className:"space-y-4",children:[q?.status!=="submitted"&&e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(bt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:"Invalid Status"}),e.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:["This application is currently in ",e.jsx("span",{className:"font-semibold",children:He(q?.status)})," status. Applications must be in ",e.jsx("span",{className:"font-semibold",children:"Submitted"})," status to be marked as reviewed."]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:'Type "REVIEWED" to confirm'}),e.jsx("input",{type:"text",value:he,onChange:oe=>W(oe.target.value),placeholder:"Type REVIEWED to confirm",disabled:q?.status!=="submitted",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"})]}),e.jsx("button",{onClick:Gt,disabled:G||he!=="REVIEWED"||q?.status!=="submitted",className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-3 px-4 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:G?"Processing...":"Mark as Reviewed"})]}),Xe==="compliance"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Detailed Reason"}),e.jsx("textarea",{value:Ie,onChange:oe=>ie(oe.target.value),placeholder:"Please provide specific details about the compliance issue...",rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 resize-none"})]}),e.jsx("button",{onClick:Re,disabled:G||!Ie.trim(),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:G?"Processing...":"Flag for Compliance"})]}),Xe==="reject"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rejection Reason"}),e.jsx("textarea",{value:X,onChange:oe=>z(oe.target.value),placeholder:"Please provide a detailed reason for rejection...",rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none"})]}),e.jsx("button",{onClick:Ce,disabled:G||!X.trim(),className:"w-full bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:G?"Processing...":"Reject Application"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-white dark:bg-slate-800 min-h-0",children:e.jsxs("div",{className:"p-4 lg:p-6",children:[G&&e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ot,{className:"w-8 h-8 animate-spin text-gray-500 mx-auto mb-4"}),e.jsx("div",{className:"text-gray-500",children:"Loading application details..."})]})}),!G&&q?e.jsxs("div",{className:"space-y-8",children:[console.log("Rendering application details for:",q),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[q.student?.first_name||"N/A"," ",q.student?.last_name||"N/A"]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[q.student?.student_id_number||"N/A","  ",q.student?.email_address||"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["Application #",q.application_number||q.id||"N/A"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${se(q.status||"pending")}`,children:[qe(q.status||"pending"),e.jsx("span",{className:"ml-2",children:He(q.status||"pending")})]})})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Jt,{className:"w-5 h-5 mr-2 text-blue-500"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Full Name"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[q.student?.first_name," ",q.student?.middle_name," ",q.student?.last_name]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date of Birth"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.birth_date?new Date(q.student.birth_date).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Contact Number"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.contact_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Address"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.addresses?.[0]?.address_line_1||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"City"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.addresses?.[0]?.city||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Province"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.addresses?.[0]?.province||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(Ls,{className:"w-5 h-5 mr-2 text-green-500"}),"Academic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"School"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.school?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Educational Level"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.current_academic_record?.educational_level||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Year Level"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.current_academic_record?.year_level||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"GWA/GPA"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.current_academic_record?.general_weighted_average||q.student?.current_academic_record?.gpa||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"School Year"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.current_academic_record?.school_year||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Semester"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.current_academic_record?.school_term||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Financial Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Requested Amount"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["",q.requested_amount?parseFloat(q.requested_amount).toLocaleString():"N/A"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Approved Amount"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["",q.approved_amount?parseFloat(q.approved_amount).toLocaleString():"N/A"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Family Income"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.financial_information?.family_monthly_income_range||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Student Employed"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.is_employed?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"4Ps Beneficiary"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.financial_information?.is_4ps_beneficiary?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-500 dark:text-gray-400",children:"PWD"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:q.student?.is_pwd?"Yes":"No"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(pl,{className:"w-5 h-5 mr-2 text-purple-500"}),"Documents"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"File"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:[(q.documents||[]).length===0&&e.jsx("tr",{children:e.jsx("td",{className:"px-4 py-3 text-gray-500 dark:text-gray-400",colSpan:4,children:"No documents uploaded."})}),(q.documents||[]).map(oe=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 font-medium text-gray-900 dark:text-white",children:oe.document_type?.name||""}),e.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:oe.file_name}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${oe.status==="verified"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":oe.status==="rejected"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:oe.status})}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>Ke(oe.id,oe.file_name),className:"p-1.5 rounded border border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-600 dark:text-gray-400",title:"View",children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>tt(oe.id,oe.file_name),className:"p-1.5 rounded border border-gray-300 dark:border-slate-600 hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-600 dark:text-gray-400",disabled:ye===oe.id,title:"Download",children:e.jsx(sr,{className:"w-4 h-4"})})]})})]},oe.id))]})]})})]})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(bt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Application Not Found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Unable to load application details. Please try again."}),e.jsx("button",{onClick:()=>M(!1),className:"mt-4 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:"Close Modal"})]})})]})})]})]}),Pe&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>re(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[Ee==="reviewed"&&"Mark as Reviewed",Ee==="compliance"&&"Flag for Compliance",Ee==="reject"&&"Reject Applications"]}),e.jsx("button",{onClick:()=>re(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(wt,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["This action will be applied to ",e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[R.length," application(s)"]}),"."]})}),(Ee==="compliance"||Ee==="reject")&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Ee==="compliance"?"Compliance Reason":"Rejection Reason"}),e.jsx("textarea",{value:xe,onChange:oe=>Q(oe.target.value),placeholder:`Enter ${Ee==="compliance"?"compliance":"rejection"} reason...`,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),Ee==="reviewed"&&e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This will mark all selected applications as reviewed. This action cannot be undone."})})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>re(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Ge,disabled:G||Ee!=="reviewed"&&!xe?.trim(),className:`px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${Ee==="reviewed"?"bg-blue-500 hover:bg-blue-600":Ee==="compliance"?"bg-yellow-500 hover:bg-yellow-600":"bg-red-500 hover:bg-red-600"}`,children:G?"Processing...":Ee==="reviewed"?"Mark as Reviewed":Ee==="compliance"?"Flag for Compliance":"Reject Applications"})]})]})]}),et&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>ve(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[Ze==="reject"&&"Reject Application",Ze==="compliance"&&"Flag for Compliance"]}),e.jsx("button",{onClick:()=>ve(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(wt,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Ze==="reject"&&"This will reject the application and cannot be undone.",Ze==="compliance"&&"This will flag the application for compliance review."]}),ne&&e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white mt-2",children:["Application: ",ne.applicationNumber||ne.id]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:Ze==="reject"?"Rejection Reason":"Compliance Reason"}),e.jsx("textarea",{value:ht,onChange:oe=>K(oe.target.value),placeholder:`Enter ${Ze==="reject"?"rejection":"compliance"} reason...`,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>ve(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Ue,disabled:G||!ht?.trim(),className:`px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${Ze==="reject"?"bg-red-500 hover:bg-red-600":"bg-yellow-500 hover:bg-yellow-600"}`,children:G?"Processing...":Ze==="reject"?"Reject Application":"Flag for Compliance"})]})]})]})]})}function Wce(){const{success:t,error:r,warning:s,info:a}=Zt(),[n,i]=f.useState([]),[l,c]=f.useState([]),[u,h]=f.useState([]),[m,x]=f.useState([]),[g,b]=f.useState(!0),[y,w]=f.useState(""),[N,_]=f.useState(""),[S,k]=f.useState({status:"pending",interviewer:"all",dateFrom:"",dateTo:""}),[v,A]=f.useState("grid"),[E,T]=f.useState("date"),[F,R]=f.useState("asc"),[D,$]=f.useState([]),[B,H]=f.useState(!1),[I,L]=f.useState(!1),[M,q]=f.useState(!1),[Z,G]=f.useState(!1),[de,X]=f.useState(!1),[z,Ie]=f.useState(!1),[ie,Pe]=f.useState(!1),[re,Ee]=f.useState(null),[ke,xe]=f.useState(!1),[Q,et]=f.useState({interviewType:"online",platform:"zoom",meetingLink:"",studentId:"",interviewDate:"",interviewTime:"",duration:"30",staffId:"",notes:""}),[ve,Ze]=f.useState({}),[Qe,ht]=f.useState(!1),[K,ne]=f.useState({interviewType:"online",platform:"zoom",meetingLink:"",interviewDate:"",interviewTime:"",duration:"30",gapTime:"15",staffId:"",notes:""}),[pe,Xe]=f.useState({}),[ee,he]=f.useState(!1),[W,ye]=f.useState({applicantId:"",applicationId:"",interviewerName:"",interviewDate:"",academicMotivationScore:"",leadershipInvolvementScore:"",financialNeedScore:"",characterValuesScore:"",overallRecommendation:"",remarks:""}),[P,V]=f.useState({}),[te,Ne]=f.useState(!1);f.useEffect(()=>{pt(),Se(),at(),se()},[]);const Se=async()=>{try{const Y=await ot.getApplications({status:"documents_reviewed",per_page:100,with:"student,category,subcategory"});c(Y.data||[])}catch(Y){console.error("Error loading pending applications:",Y)}},at=async()=>{try{const Y=await ot.getApplications({status:"documents_reviewed",per_page:100});h(Y.data||[])}catch(Y){console.error("Error loading eligible applications:",Y)}},pt=async()=>{try{b(!0),w("");const we=(await ot.getInterviewSchedules()).map(Be=>({id:Be.id,studentName:Be.student?`${Be.student.first_name} ${Be.student.last_name}`:"Unknown Student",studentId:Be.student?.student_id_number||"N/A",studentEmail:Be.student?.email_address||"Not provided",studentPhone:Be.student?.contact_number||"Not provided",interviewer:Be.interviewer_name||"TBD",staffId:Be.staff_id,interviewerEmail:"interviewer@scholarship.gov.ph",interviewDate:Be.interview_date,interviewTime:Be.interview_time,duration:Be.duration||30,type:Be.interview_type==="in_person"?"in-person":Be.interview_type,platform:Be.interview_type==="online"?"Zoom":null,meetingLink:Be.meeting_link,status:Be.status,notes:Be.interview_notes||"",documents:["Transcript","Recommendation Letter"],createdAt:Be.created_at,application:Be.application,student:Be.student,interviewResult:Be.interview_result,completedAt:Be.completed_at}));i(we)}catch(Y){console.error("Error loading interview schedules:",Y),w("Failed to load interview schedules: "+(Y.message||"Unknown error"))}finally{b(!1)}},se=async()=>{try{const Y=await ot.getStaffInterviewers();if(console.log("Staff interviewers API response:",Y),Y&&Y.success&&Array.isArray(Y.data)){const we=Y.data.filter(Be=>Be&&Be.id&&(Be.name||Be.user_id));we.length>0?x(we):(console.warn("No valid staff members found in response:",Y.data),r("No interviewers available. Please ensure staff members with interviewer role are configured."),x([]))}else{const we=Y?.message||"Invalid response format";console.error("Failed to fetch staff members:",we,Y),r(`Failed to load interviewers: ${we}. Please refresh the page.`),x([])}}catch(Y){const we=Y?.message||"Network error or server unavailable";console.error("Error fetching staff members:",Y),r(`Failed to load interviewers: ${we}. Please refresh the page.`),x([])}},He=Y=>{switch(Y){case"pending":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"scheduled":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"rescheduled":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},qe=Y=>{switch(Y){case"pending":return e.jsx(Wt,{className:"w-4 h-4"});case"scheduled":return e.jsx(Nt,{className:"w-4 h-4"});case"completed":return e.jsx(Le,{className:"w-4 h-4"});case"cancelled":return e.jsx(jt,{className:"w-4 h-4"});case"rescheduled":return e.jsx(zt,{className:"w-4 h-4"});default:return e.jsx(Nt,{className:"w-4 h-4"})}},J=Y=>{switch(Y){case"online":return e.jsx(ka,{className:"w-4 h-4 text-blue-500"});case"in-person":return e.jsx(ks,{className:"w-4 h-4 text-green-500"});default:return e.jsx(zt,{className:"w-4 h-4 text-gray-500"})}},ce=Y=>{et({interviewType:"online",platform:"zoom",meetingLink:"",studentId:Y.applicationId.toString(),interviewDate:"",interviewTime:"",duration:"30",interviewer:"",notes:`Scheduling interview for ${Y.studentName}`}),Ze({}),Ee(null),L(!0)},$e=()=>{$([])},nt=()=>{const Y=Re.map(we=>we.id);$(Y)},qt=()=>{const Y=Gt().filter(Be=>D.includes(Be.id)),we=Y.filter(Be=>Be.status==="pending"&&Be.type==="pending");if(we.length!==Y.length){alert("Only pending applications (awaiting interview scheduling) can be bulk scheduled.");return}if(we.length===0){alert("No pending applications selected for scheduling.");return}ne({interviewType:"online",platform:"zoom",meetingLink:"",interviewDate:"",interviewTime:"",duration:"30",gapTime:"15",interviewer:"",notes:""}),Xe({}),Ee(null),Pe(!0)},Gt=()=>{const Y=[];return n.forEach(we=>{Y.push({...we,type:"schedule"})}),l.forEach(we=>{Y.push({id:`pending-${we.id}`,applicationId:we.id,studentName:we.student?`${we.student.first_name} ${we.student.last_name}`:"Unknown Student",studentId:we.student?.student_id_number||"N/A",studentEmail:we.student?.email_address||"Not provided",studentPhone:we.student?.contact_number||"Not provided",interviewer:"Not Assigned",interviewerEmail:"N/A",interviewDate:"Not Scheduled",interviewTime:"Not Scheduled",duration:0,type:"pending",platform:null,meetingLink:null,status:"pending",notes:"Awaiting interview scheduling",documents:["Transcript","Recommendation Letter"],createdAt:we.created_at,application:we,student:we.student,category:we.category,subcategory:we.subcategory})}),Y},Re=[...Gt().filter(Y=>{const we=Y.studentName.toLowerCase().includes(N.toLowerCase())||Y.studentId.toLowerCase().includes(N.toLowerCase())||Y.interviewer.toLowerCase().includes(N.toLowerCase()),Be=S.status==="all"||Y.status===S.status,At=S.interviewer==="all"||Y.interviewer===S.interviewer;let _t=!0,Qt=!0;if(Y.type==="schedule"&&Y.interviewDate&&Y.interviewDate!=="Not Scheduled"){const Kt=new Date(Y.interviewDate);_t=!S.dateFrom||Kt>=new Date(S.dateFrom),Qt=!S.dateTo||Kt<=new Date(S.dateTo)}return we&&Be&&At&&_t&&Qt})].sort((Y,we)=>{let Be,At;switch(E){case"student":Be=Y.studentName.toLowerCase(),At=we.studentName.toLowerCase();break;case"interviewer":Be=Y.interviewer.toLowerCase(),At=we.interviewer.toLowerCase();break;case"date":default:Be=new Date(Y.interviewDate),At=new Date(we.interviewDate);break}return F==="asc"?Be>At?1:-1:Be<At?1:-1}),Ke=({schedule:Y})=>e.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 hover:shadow-md transition-all duration-200 group ${v==="list"?"rounded-lg":"rounded-xl"}`,children:e.jsxs("div",{className:v==="list"?"p-4":"p-6",children:[e.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 ${v==="list"?"mb-3":"mb-4"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx("input",{type:"checkbox",checked:D.includes(Y.id),onChange:()=>Tt(Y.id),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"})}),e.jsx("div",{className:`flex-shrink-0 ${v==="list"?"h-8 w-8":"h-12 w-12"}`,children:e.jsx("div",{className:`${v==="list"?"h-8 w-8":"h-12 w-12"} rounded-full bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900/30 dark:to-blue-800/30 flex items-center justify-center`,children:e.jsx(zt,{className:`${v==="list"?"h-4 w-4":"h-6 w-6"} text-blue-600 dark:text-blue-400`})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:`${v==="list"?"text-base font-semibold":"text-lg font-semibold"} text-gray-900 dark:text-white truncate`,children:Y.studentName}),e.jsx("p",{className:`${v==="list"?"text-xs":"text-sm"} text-gray-500 dark:text-gray-400 truncate`,children:Y.studentId})]})]}),e.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${He(Y.status)}`,children:[qe(Y.status),e.jsx("span",{className:"ml-1 capitalize",children:Y.status})]})})]}),e.jsxs("div",{className:v==="list"?"space-y-2":"space-y-4",children:[e.jsxs("div",{className:`flex items-center space-x-2 ${v==="list"?"text-xs":"text-sm"} text-gray-600 dark:text-gray-400`,children:[e.jsx(zt,{className:`${v==="list"?"w-3 h-3":"w-4 h-4"} flex-shrink-0`}),e.jsx("span",{className:"truncate",children:Y.status==="pending"?"Awaiting interview scheduling":`${new Date(Y.interviewDate).toLocaleDateString()} at ${Y.interviewTime}`})]}),e.jsxs("div",{className:`grid gap-3 ${v==="list"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4":"grid-cols-1 sm:grid-cols-2"}`,children:[e.jsxs("div",{className:`flex items-center space-x-2 ${v==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(Ht,{className:`${v==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Interviewer:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:Y.status==="pending"?"Not Assigned":Y.interviewer})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${v==="list"?"text-xs":"text-sm"} min-w-0`,children:[Y.status==="pending"?e.jsx(Wt,{className:`${v==="list"?"w-3 h-3":"w-4 h-4"} text-orange-500 flex-shrink-0`}):J(Y.type),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Type:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:Y.status==="pending"?"Not Determined":Y.type})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${v==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(Nt,{className:`${v==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Duration:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:Y.status==="pending"?"TBD":`${Y.duration} min`})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${v==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(ut,{className:`${v==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Documents:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:Y.status==="pending"?"Reviewed":Y.documents.length})]})]}),v==="list"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(Wn,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:Y.studentEmail})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(Ws,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:Y.studentPhone})]})]}),Y.type==="online"&&Y.platform&&e.jsxs("div",{className:`flex items-center space-x-2 ${v==="list"?"text-xs":"text-sm"} text-gray-600 dark:text-gray-400`,children:[e.jsx(ka,{className:`${v==="list"?"w-3 h-3":"w-4 h-4"} flex-shrink-0`}),e.jsx("span",{className:"truncate",children:Y.platform})]}),Y.type==="in-person"&&Y.location&&e.jsxs("div",{className:`flex items-center space-x-2 ${v==="list"?"text-xs":"text-sm"} text-gray-600 dark:text-gray-400`,children:[e.jsx(ks,{className:`${v==="list"?"w-3 h-3":"w-4 h-4"} flex-shrink-0`}),e.jsx("span",{className:"truncate",children:Y.location})]})]}),e.jsx("div",{className:`${v==="list"?"mt-3 pt-3":"mt-6 pt-4"} border-t border-gray-200 dark:border-slate-700`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>ue(Y),className:`flex items-center space-x-2 ${v==="list"?"px-4 py-2 text-sm font-semibold":"px-3 py-1.5 text-sm"} bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(Ft,{className:"w-4 h-4"}),e.jsx("span",{children:"View Details"})]}),Y.status==="pending"?e.jsxs("button",{onClick:()=>ce(Y),className:`flex items-center space-x-2 ${v==="list"?"px-4 py-2 text-sm font-semibold":"px-3 py-1.5 text-sm"} bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(la,{className:"w-4 h-4"}),e.jsx("span",{children:"Schedule Interview"})]}):Y.status!=="completed"?e.jsxs("button",{onClick:()=>Ge(Y),className:`flex items-center space-x-2 ${v==="list"?"px-4 py-2 text-sm font-semibold":"px-3 py-1.5 text-sm"} bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(ka,{className:"w-4 h-4"}),e.jsx("span",{children:"Join Meeting"})]}):null]}),e.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:Y.status!=="pending"&&Y.status!=="completed"&&e.jsxs("button",{onClick:()=>ze(Y),className:`${v==="list"?"px-3 py-2 text-sm":"px-3 py-1.5 text-sm"} bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex items-center space-x-1`,title:"Reschedule",children:[e.jsx(zt,{className:"w-4 h-4"}),e.jsx("span",{children:"Reschedule"})]})})]})})]})}),Tt=Y=>{$(we=>we.includes(Y)?we.filter(Be=>Be!==Y):[...we,Y])},le=(Y,we)=>{k(Be=>({...Be,[Y]:we}))},Oe=()=>{k({status:"pending",interviewer:"all",dateFrom:"",dateTo:""}),_("")},Ue=()=>Object.entries(S).some(([Y,we])=>Y==="status"&&we==="pending"?!1:we!=="all"&&we!=="")||N,ue=Y=>{Ee(Y),q(!0)},ze=Y=>{et({interviewType:Y.type==="in-person"?"in-person":"online",platform:Y.platform||"zoom",meetingLink:Y.meetingLink||"",studentId:Y.application?.id||Y.applicationId||"",interviewDate:Y.interviewDate?Y.interviewDate.split("T")[0]:"",interviewTime:Y.interviewTime||"",duration:Y.duration?.toString()||"30",staffId:Y.staffId||"",interviewer:Y.interviewer||"",notes:Y.notes||""}),Ee(Y),L(!0)},fe=async()=>{if(re){xe(!0);try{await ot.cancelInterview(re.id,"Deleted by administrator"),await pt(),X(!1),Ee(null),alert("Interview schedule cancelled successfully!")}catch(Y){console.error("Error cancelling interview schedule:",Y),alert("Failed to cancel interview schedule: "+(Y.message||"Unknown error"))}finally{xe(!1)}}},Ge=Y=>{let we=Y.meetingLink;if(we||(Y.type==="online"?we=`https://meet.google.com/${Y.id||"interview-"+Date.now()}`:we=`Location: ${Y.location||"To be determined"}`),we&&(we.startsWith("http://")||we.startsWith("https://")))window.open(we,"_blank");else if(we&&!we.startsWith("Location:")){const Be=we.startsWith("http")?we:`https://${we}`;window.open(Be,"_blank")}Ee({...Y,meetingLink:we}),ye({applicantId:Y.studentId,applicationId:Y.application?.id||Y.applicationId||"N/A",interviewerName:Y.interviewer,interviewDate:Eo(Y.interviewDate),academicMotivationScore:"",leadershipInvolvementScore:"",financialNeedScore:"",characterValuesScore:"",overallRecommendation:"",remarks:""}),Ie(!0)},tt=(Y,we)=>{et(Be=>({...Be,[Y]:we})),ve[Y]&&Ze(Be=>({...Be,[Y]:""}))},rt=()=>{const Y={};if(Q.studentId||(Y.studentId="Please select a student with documents reviewed status"),!Q.interviewDate)Y.interviewDate="Please select an interview date";else{const we=new Date(Q.interviewDate),Be=new Date;Be.setHours(0,0,0,0),we<Be&&(Y.interviewDate="Interview date must be today or in the future")}if(Q.interviewTime||(Y.interviewTime="Please select an interview time"),Q.staffId||(Y.staffId="Please select an interviewer"),Q.meetingLink||(Y.meetingLink="Please enter meeting link"),Q.studentId){const we=u.find(Be=>Be.id.toString()===Q.studentId);we?we.status!=="documents_reviewed"&&(Y.studentId="Selected application must have documents reviewed status"):Y.studentId="Selected application is not eligible for interview scheduling"}if(Q.staffId&&Q.interviewDate&&Q.interviewTime){const we=m.find(Be=>Be.id.toString()===Q.staffId);if(we){const Be=Do(we.name,Q.interviewDate,Q.interviewTime,Q.duration,null,Q.staffId);if(Be.length>0){const At=Be.map(_t=>`${_t.studentName} (${_t.displayStartTime} - ${_t.displayEndTime})`).join(", ");Y.interviewTime=`Time conflict detected! ${we.name} already has interview(s) at this time: ${At}`}}}return Ze(Y),Object.keys(Y).length===0},oe=async Y=>{if(Y.preventDefault(),!!rt()){ht(!0);try{const we=m.find(_t=>_t.id.toString()===Q.staffId);if(!we)throw new Error("Selected interviewer not found");if(!we.user_id)throw new Error("Selected interviewer is missing user ID. Please refresh the page and try again.");const Be={interview_date:Q.interviewDate,interview_time:Q.interviewTime,interview_location:"Online",interview_type:"online",meeting_link:Q.meetingLink,staff_id:Q.staffId,interviewer_id:we.user_id,interviewer_name:we.name,scheduling_type:"manual",interview_notes:Q.notes,duration:parseInt(Q.duration)||30},At=parseInt(Q.studentId);if(!At)throw new Error("Invalid application selected");if(re&&re.id){await ot.scheduleInterview(At,Be);const _t=u.find(Fr=>Fr.id===parseInt(Q.studentId)),Qt=_t?`${_t.student.first_name} ${_t.student.last_name}`:"Student",Kt=we?.name||"Interviewer",$r=`${Q.interviewDate} at ${Q.interviewTime}`;Gr(` Interview rescheduled successfully!

 ${Qt}
 Interviewer: ${Kt}
 ${$r}
 Duration: ${Q.duration} minutes`,"success")}else{await ot.scheduleInterview(At,Be);const _t=u.find(Fr=>Fr.id===parseInt(Q.studentId)),Qt=_t?`${_t.student.first_name} ${_t.student.last_name}`:"Student",Kt=we?.name||"Interviewer",$r=`${Q.interviewDate} at ${Q.interviewTime}`;Gr(` Interview scheduled successfully!

 ${Qt}
 Interviewer: ${Kt}
 ${$r}
 Duration: ${Q.duration} minutes`,"success","Interview Scheduled")}await pt(),await Se(),await at(),L(!1),Ee(null),et({interviewType:"online",platform:"zoom",meetingLink:"",studentId:"",interviewDate:"",interviewTime:"",duration:"30",staffId:"",notes:""}),Ze({})}catch(we){if(console.error("Error creating interview schedule:",we),we.response?.status===409&&we.response?.data?.conflicts){const At=we.response.data.conflicts.map(_t=>` ${_t.student_name} (${_t.display_start_time} - ${_t.display_end_time})`).join(`
`);Gr(` Cannot schedule interview due to conflicts!

 ${selectedStaff?.name||"The interviewer"} already has interview(s) at this time:

${At}

Please choose a different time slot.`,"error");return}if(we.response?.status===422&&we.response?.data?.errors){const Be=Object.values(we.response.data.errors).flat();Gr(` Validation failed:

${Be.map(At=>` ${At}`).join(`
`)}`,"error");return}if(we.response?.status>=500){Gr(` Server error (${we.response?.status}):

${we.response?.data?.message||we.message||"Internal server error"}

Please try again or contact support.`,"error");return}Gr(` Failed to create interview schedule:

${we.message||"Unknown error"}

Please check your input and try again.`,"error")}finally{ht(!1)}}},Fe=()=>{et({interviewType:"online",platform:"zoom",meetingLink:"",studentId:"",interviewDate:"",interviewTime:"",duration:"30",staffId:"",notes:""}),Ze({}),Ee(null)},Me=(Y,we)=>{ne(Be=>({...Be,[Y]:we})),pe[Y]&&Xe(Be=>({...Be,[Y]:""}))},Pt=()=>{const Y={};if(K.interviewDate||(Y.interviewDate="Please select an interview date"),K.interviewTime||(Y.interviewTime="Please select an interview time"),K.staffId||(Y.staffId="Please select an interviewer"),K.meetingLink||(Y.meetingLink="Please enter meeting link"),K.staffId&&K.interviewDate&&K.interviewTime){const we=m.find(_t=>_t.id.toString()===K.staffId);if(we){const _t=Do(we.name,K.interviewDate,K.interviewTime,K.duration,null,K.staffId);if(_t.length>0){const Qt=_t.map(Kt=>`${Kt.studentName} (${Kt.displayStartTime} - ${Kt.displayEndTime})`).join(", ");Y.interviewTime=`Time conflict detected! ${we.name} already has interview(s) at this time: ${Qt}`}}const At=Gt().filter(_t=>D.includes(_t.id)).filter(_t=>_t.status==="pending"&&_t.type==="pending");if(At.length>1){const _t=To(K.interviewTime,K.duration,K.gapTime,At.length);for(let Qt=1;Qt<_t.length;Qt++){const Kt=_t[Qt];if(Do(we.name,K.interviewDate,Kt.startTime,K.duration).length>0){Y.interviewTime="Bulk scheduling would create conflicts later in the day. Consider starting earlier or increasing gap time.";break}}}}return Xe(Y),Object.keys(Y).length===0},Ct=async Y=>{if(Y.preventDefault(),!!Pt()){he(!0);try{const Be=Gt().filter($r=>D.includes($r.id)).filter($r=>$r.status==="pending"&&$r.type==="pending"),At=To(K.interviewTime,K.duration,K.gapTime,Be.length),_t=m.find($r=>$r.id.toString()===K.staffId);if(!_t)throw new Error("Selected interviewer not found");if(!_t.user_id)throw new Error("Selected interviewer is missing user ID. Please refresh the page and try again.");const Qt=Be.map(($r,Fr)=>{const Ro=At[Fr],_s={interview_date:K.interviewDate,interview_time:Ro.startTime,interview_location:"Online",interview_type:"online",meeting_link:K.meetingLink,staff_id:K.staffId,interviewer_id:_t.user_id,interviewer_name:_t.name,scheduling_type:"manual",interview_notes:`${K.notes}

Scheduled Time: ${Ro.displayTime} - ${Rn(Ro.endTime)}`,duration:parseInt(K.duration)||30};return ot.scheduleInterview($r.applicationId,_s)});await Promise.all(Qt),await pt(),await Se(),await at(),Pe(!1),$([]),ne({interviewType:"online",platform:"zoom",meetingLink:"",interviewDate:"",interviewTime:"",duration:"30",gapTime:"15",staffId:"",notes:""}),Xe({});const Kt=At.map(($r,Fr)=>`${Be[Fr].studentName}: ${$r.displayTime} - ${Rn($r.endTime)}`).join(`
`);Gr(` Successfully scheduled ${Be.length} interview(s)!

 Interviewer: ${_t?.name||"Selected interviewer"}
 Date: ${K.interviewDate}
 Duration: ${K.duration} minutes each

 Scheduled Times:
${Kt}`,"success")}catch(we){if(console.error("Error bulk scheduling interviews:",we),we.response?.status===409&&we.response?.data?.conflicts){const At=we.response.data.conflicts.map(_t=>`${_t.student_name} (${_t.display_start_time} - ${_t.display_end_time})`).join(", ");Gr(`Cannot schedule interviews due to conflicts!

${selectedStaff?.name||"The interviewer"} already has interview(s) at this time:
${At}`,"error");return}Gr("Failed to schedule some interviews: "+(we.message||"Unknown error"),"error")}finally{he(!1)}}},Ks=()=>{ne({interviewType:"online",platform:"zoom",meetingLink:"",interviewDate:"",interviewTime:"",duration:"30",gapTime:"15",staffId:"",notes:""}),Xe({})},Gr=(Y,we="success",Be=null)=>{const At=Be?`${Be}: ${Y}`:Y;switch(we){case"success":t(At);break;case"error":r(At);break;case"warning":s(At);break;default:a(At)}},ga=(Y,we)=>{const[Be,At]=Y.split(":").map(Number),_t=Be*60+At+we,Qt=Math.floor(_t/60),Kt=_t%60;return`${Qt.toString().padStart(2,"0")}:${Kt.toString().padStart(2,"0")}`},fs=Y=>{const[we,Be]=Y.split(":").map(Number);return we*60+Be},pn=Y=>{const we=Math.floor(Y/60),Be=Y%60;return`${we.toString().padStart(2,"0")}:${Be.toString().padStart(2,"0")}`},Tl=(Y,we,Be,At)=>Y<At&&Be<we,Rn=Y=>{const[we,Be]=Y.split(":"),At=parseInt(we),_t=parseInt(Be),Qt=At>=12?"PM":"AM";return`${At===0?12:At>12?At-12:At}:${_t.toString().padStart(2,"0")} ${Qt}`},Eo=Y=>{if(!Y)return"Not specified";try{const we=new Date(Y);return isNaN(we.getTime())?Y:we.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return Y}},To=(Y,we,Be,At)=>{const _t=[];let Qt=Y;for(let Kt=0;Kt<At;Kt++)_t.push({startTime:Qt,endTime:ga(Qt,parseInt(we)),displayTime:Rn(Qt)}),Qt=ga(Qt,parseInt(we)+parseInt(Be));return _t},Do=(Y,we,Be,At,_t=null,Qt=null)=>{const Kt=[],$r=fs(Be),Fr=$r+parseInt(At);return n.filter(_s=>(Qt?_s.staffId===Qt:_s.interviewer===Y)&&_s.interviewDate===we&&_s.status!=="cancelled"&&_s.id!==_t).forEach(_s=>{const sd=fs(_s.interviewTime),Bi=sd+(_s.duration||30);Tl($r,Fr,sd,Bi)&&Kt.push({scheduleId:_s.id,studentName:_s.studentName,startTime:_s.interviewTime,endTime:pn(Bi),displayStartTime:Rn(_s.interviewTime),displayEndTime:Rn(pn(Bi))})}),Kt},Xn=(Y,we)=>{ye(Be=>({...Be,[Y]:we})),P[Y]&&V(Be=>({...Be,[Y]:""}))},vg=()=>{const Y={};return W.academicMotivationScore||(Y.academicMotivationScore="Please provide academic motivation score"),W.leadershipInvolvementScore||(Y.leadershipInvolvementScore="Please provide leadership & involvement score"),W.financialNeedScore||(Y.financialNeedScore="Please provide financial need score"),W.characterValuesScore||(Y.characterValuesScore="Please provide character & values score"),W.overallRecommendation||(Y.overallRecommendation="Please provide overall recommendation"),W.remarks||(Y.remarks="Please provide remarks"),V(Y),Object.keys(Y).length===0},ym=async Y=>{if(Y.preventDefault(),!!vg()){Ne(!0);try{if(!re)throw new Error("No active schedule selected");let we="needs_followup";W.overallRecommendation==="recommended"?we="passed":W.overallRecommendation==="not_recommended"&&(we="failed");const Be={academic_motivation_score:parseInt(W.academicMotivationScore),leadership_involvement_score:parseInt(W.leadershipInvolvementScore),financial_need_score:parseInt(W.financialNeedScore),character_values_score:parseInt(W.characterValuesScore),overall_recommendation:W.overallRecommendation,remarks:W.remarks,interview_result:we,interview_notes:W.remarks};await ot.completeInterview(re.id,we,W.remarks,Be),await pt(),Ie(!1),Ee(null),ye({applicantId:"",applicationId:"",interviewerName:"",interviewDate:"",academicMotivationScore:"",leadershipInvolvementScore:"",financialNeedScore:"",characterValuesScore:"",overallRecommendation:"",remarks:""}),V({});const At=`
 Evaluation Summary:
 Academic Motivation: ${W.academicMotivationScore}/5
 Leadership & Involvement: ${W.leadershipInvolvementScore}/5  
 Financial Need: ${W.financialNeedScore}/5
 Character & Values: ${W.characterValuesScore}/5

 Overall Recommendation: ${W.overallRecommendation==="recommended"?"Recommended for SSC Review":W.overallRecommendation==="not_recommended"?"Not Recommended":"Needs Follow-up"}

 Interview evaluation has been successfully submitted and stored in the database.
      `.trim();Gr(At,"success","Interview Evaluation Submitted")}catch(we){console.error("Error submitting evaluation:",we);const Be=`
 Failed to submit interview evaluation

${we.response?.data?.message||we.message||"Unknown error occurred"}

Please check your internet connection and try again. If the problem persists, contact the system administrator.
      `.trim();Gr(Be,"error","Evaluation Submission Failed")}finally{Ne(!1)}}},kr=Y=>{if(!Y||Y==="Invalid Date")return"N/A";try{const we=new Date(Y);return isNaN(we.getTime())?"Invalid date format":we.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(we){return console.error("Error formatting date:",we),"Invalid date format"}},wg=Y=>{if(!Y||Y==="Invalid Date")return"N/A";try{const we=new Date(`2000-01-01T${Y}`);return isNaN(we.getTime())?"Invalid time format":we.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}catch(we){return console.error("Error formatting time:",we),"Invalid time format"}};return e.jsxs("div",{className:"space-y-4 sm:space-y-6 min-h-0 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white truncate",children:"Interview Schedules"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1 sm:mt-2",children:["Manage and schedule scholarship interviews",l.length>0&&e.jsxs("span",{className:"ml-2 px-2 py-1 bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300 rounded-full text-xs font-medium",children:[l.length," pending interview(s)"]})]}),u.length===0&&e.jsx("div",{className:"mt-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsxs("p",{className:"text-xs sm:text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsx("strong",{children:"Note:"}),' No applications with "Documents Reviewed" status found. Interviews can only be scheduled for applications that have passed document review.']})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 lg:mt-0",children:[e.jsxs("button",{className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 px-3 sm:px-4 py-2 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors flex items-center justify-center text-sm sm:text-base",children:[e.jsx(sr,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Export"}),e.jsx("span",{className:"sm:hidden",children:"Export"})]}),e.jsxs("button",{onClick:()=>{Ee(null),L(!0)},disabled:u.length===0,className:`px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center text-sm sm:text-base ${u.length===0?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600 text-white"}`,title:u.length===0?"No eligible applications available":"Schedule new interview",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Schedule Interview"}),e.jsx("span",{className:"sm:hidden",children:"Schedule"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-0",children:[e.jsx(Zr,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search schedules...",value:N,onChange:Y=>_(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base"})]}),e.jsxs("select",{value:S.status,onChange:Y=>le("status",Y.target.value),className:"w-full sm:w-auto px-3 sm:px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"rescheduled",children:"Rescheduled"})]})]}),e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsxs("button",{onClick:()=>H(!B),className:`flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-lg border transition-colors text-sm sm:text-base ${B?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[e.jsx(Fa,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Advanced"}),e.jsx("span",{className:"sm:hidden",children:"Filter"})]}),e.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-slate-600 rounded-lg",children:[e.jsx("button",{onClick:()=>A("grid"),className:`p-2 ${v==="grid"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-l-lg transition-colors`,title:"Grid view",children:e.jsx(No,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A("list"),className:`p-2 ${v==="list"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} transition-colors`,title:"List view",children:e.jsx(ko,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A("calendar"),className:`p-2 ${v==="calendar"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-r-lg transition-colors`,title:"Calendar view",children:e.jsx(zt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsxs("select",{value:E,onChange:Y=>T(Y.target.value),className:"flex-1 sm:flex-none px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base",children:[e.jsx("option",{value:"date",children:"Sort by Date"}),e.jsx("option",{value:"student",children:"Sort by Student"}),e.jsx("option",{value:"interviewer",children:"Sort by Interviewer"})]}),e.jsx("button",{onClick:()=>R(F==="asc"?"desc":"asc"),className:"p-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",title:`Sort ${F==="asc"?"Descending":"Ascending"}`,children:F==="asc"?e.jsx(kx,{className:"w-4 h-4"}):e.jsx(jx,{className:"w-4 h-4"})})]})]})]}),B&&e.jsx("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interviewer"}),e.jsxs("select",{value:S.interviewer,onChange:Y=>le("interviewer",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Interviewers"}),e.jsx("option",{value:"Dr. Maria Santos",children:"Dr. Maria Santos"}),e.jsx("option",{value:"Prof. Pedro Reyes",children:"Prof. Pedro Reyes"}),e.jsx("option",{value:"Dr. Ana Lopez",children:"Dr. Ana Lopez"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date From"}),e.jsx("input",{type:"date",value:S.dateFrom,onChange:Y=>le("dateFrom",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date To"}),e.jsx("input",{type:"date",value:S.dateTo,onChange:Y=>le("dateTo",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]})}),Ue()&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[S.status!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",children:["Status: ",S.status,e.jsx("button",{onClick:()=>le("status","all"),className:"ml-1 hover:text-orange-600 dark:hover:text-orange-200",children:e.jsx(wt,{className:"w-3 h-3"})})]}),N&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:['Search: "',N,'"',e.jsx("button",{onClick:()=>_(""),className:"ml-1 hover:text-purple-600 dark:hover:text-purple-200",children:e.jsx(wt,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:Oe,className:"text-sm text-gray-600 dark:text-gray-300 underline hover:text-gray-800 dark:hover:text-gray-100",children:"Clear all filters"})]}),D.length>0&&e.jsx("div",{className:"mt-4 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:[D.length," schedule(s) selected"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:qt,className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors flex items-center space-x-1",children:[e.jsx(la,{className:"w-3 h-3"}),e.jsx("span",{children:"Bulk Schedule"})]}),D.length>0&&D.length<Re.length&&e.jsx("button",{onClick:nt,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Select All"}),e.jsx("button",{onClick:$e,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Unselect All"})]})]})})]}),g?e.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ot,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400 animate-spin mx-auto mb-3 sm:mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Loading schedules..."})]})}):y?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 sm:p-6 text-center",children:[e.jsx(Wt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-500 mx-auto mb-3 sm:mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-red-700 dark:text-red-300",children:y})]}):Re.length===0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-6 sm:p-12 text-center",children:[e.jsx(zt,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No schedules found"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Try adjusting your filters or create a new schedule."})]}):v==="calendar"?e.jsx(Yce,{schedules:Re}):e.jsx("div",{className:v==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6":"space-y-3",children:Re.map(Y=>e.jsx(Ke,{schedule:Y},Y.id))}),I&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center p-2 sm:p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>L(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 sm:p-6 my-4 sm:my-8 max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:re&&re.id?"Reschedule Interview":"Schedule New Interview"}),e.jsx("button",{onClick:()=>L(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Interview Type"}),e.jsxs("div",{className:"flex items-center p-4 border-2 border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx(ka,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Online Interview"}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-300",children:"Video conference meeting"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Online Platform"}),e.jsxs("select",{value:Q.platform,onChange:Y=>tt("platform",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"zoom",children:"Zoom"}),e.jsx("option",{value:"teams",children:"Microsoft Teams"}),e.jsx("option",{value:"meet",children:"Google Meet"}),e.jsx("option",{value:"webex",children:"Cisco Webex"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Meeting Link"}),e.jsx("input",{type:"url",value:Q.meetingLink,onChange:Y=>tt("meetingLink",Y.target.value),placeholder:"https://zoom.us/j/123456789",className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ve.meetingLink?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),ve.meetingLink&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:ve.meetingLink}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Enter the meeting URL that students will use to join the interview"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select Student (Documents Reviewed Only)"}),e.jsxs("select",{value:Q.studentId,onChange:Y=>tt("studentId",Y.target.value),className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ve.studentId?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Choose a student..."}),u.length>0?u.map(Y=>e.jsxs("option",{value:Y.id,children:[Y.student?`${Y.student.first_name} ${Y.student.last_name}`:"Unknown Student","(",Y.application_number||`App-${Y.id}`,")"]},Y.id)):e.jsx("option",{value:"",disabled:!0,children:"No eligible applications found"})]}),ve.studentId&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:ve.studentId}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:'Only students with applications in "Documents Reviewed" status can be scheduled for interviews.'})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interview Date"}),e.jsx("input",{type:"date",value:Q.interviewDate,onChange:Y=>tt("interviewDate",Y.target.value),min:new Date().toISOString().split("T")[0],className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ve.interviewDate?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),ve.interviewDate&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:ve.interviewDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interview Time"}),e.jsx("input",{type:"time",value:Q.interviewTime,onChange:Y=>tt("interviewTime",Y.target.value),className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ve.interviewTime?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),ve.interviewTime&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:ve.interviewTime})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Duration (minutes)"}),e.jsxs("select",{value:Q.duration,onChange:Y=>tt("duration",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"30",children:"30 minutes"}),e.jsx("option",{value:"45",children:"45 minutes"}),e.jsx("option",{value:"60",children:"60 minutes"}),e.jsx("option",{value:"90",children:"90 minutes"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interviewer"}),e.jsxs("select",{value:Q.staffId,onChange:Y=>tt("staffId",Y.target.value),className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${ve.staffId?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select an interviewer"}),m.map(Y=>e.jsxs("option",{value:Y.id,disabled:!Y.user_id,children:[Y.name," ",Y.user_id?"":"(Missing User ID)"]},Y.id))]}),ve.staffId&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:ve.staffId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interview Notes"}),e.jsx("textarea",{rows:3,value:Q.notes,onChange:Y=>tt("notes",Y.target.value),placeholder:"Any special instructions or notes for the interview...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{L(!1),Fe()},disabled:Qe,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:Qe,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center space-x-2",children:Qe?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:re&&re.id?"Rescheduling...":"Creating..."})]}):e.jsx("span",{children:re&&re.id?"Reschedule Interview":"Schedule Interview"})})]})]})]})]}),M&&re&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center p-2 sm:p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>q(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 sm:p-6 my-4 sm:my-8 max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Interview Details"}),e.jsx("button",{onClick:()=>q(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Student Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Name"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white break-words",children:re.studentName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Student ID"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white break-all",children:re.studentId})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white break-all",title:re.studentEmail,children:re.studentEmail})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Phone"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white break-all",title:re.studentPhone,children:re.studentPhone})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Interview Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Date & Time"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white break-words",children:[kr(re.interviewDate)," at ",wg(re.interviewTime)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Duration"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[re.duration||"N/A"," minutes"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Type"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:re.type||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Status"}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${He(re.status||"unknown")}`,children:[qe(re.status||"unknown"),e.jsx("span",{className:"ml-1 capitalize",children:re.status||"Unknown"})]})]})]})]}),re.type==="online"&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Meeting Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Platform"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:re.platform})]}),re.meetingLink&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Meeting Link"}),e.jsx("a",{href:re.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 dark:text-blue-400 hover:underline break-all",children:re.meetingLink})]})]})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Interviewer Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Name"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white break-words",title:re.interviewer,children:re.interviewer})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white break-all",title:re.interviewerEmail,children:re.interviewerEmail})]})]})]}),re.notes&&e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Notes"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 break-words whitespace-pre-wrap",title:re.notes,children:re.notes})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Required Documents"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:re.documents.map((Y,we)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 rounded-full text-sm",children:Y},we))})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 mt-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Close"}),re.status!=="pending"&&re.status!=="completed"&&e.jsxs("button",{onClick:()=>Ge(re),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx(ka,{className:"w-4 h-4"}),e.jsx("span",{children:"Join Meeting"})]})]})]})]}),z&&re&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center p-2 sm:p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>Ie(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-4xl bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 sm:p-6 my-4 sm:my-8 max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Join Meeting & Interview Output"}),e.jsx("button",{onClick:()=>Ie(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(ka,{className:"w-5 h-5 mr-2 text-green-600 dark:text-green-400"}),re.type==="online"||re.platform?.toLowerCase().includes("zoom")||re.platform?.toLowerCase().includes("meet")||re.platform?.toLowerCase().includes("teams")||re.meetingLink?.includes("zoom")||re.meetingLink?.includes("meet")||re.meetingLink?.includes("teams")||re.meetingLink?.startsWith("http")?"Meeting Link":"Interview Location"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:re.type==="online"||re.platform?.toLowerCase().includes("zoom")||re.platform?.toLowerCase().includes("meet")||re.platform?.toLowerCase().includes("teams")||re.meetingLink?.includes("zoom")||re.meetingLink?.includes("meet")||re.meetingLink?.includes("teams")||re.meetingLink?.startsWith("http")?"Platform":"Type"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:re.platform||(re.type==="online"||re.platform?.toLowerCase().includes("zoom")||re.platform?.toLowerCase().includes("meet")||re.platform?.toLowerCase().includes("teams")||re.meetingLink?.includes("zoom")||re.meetingLink?.includes("meet")||re.meetingLink?.includes("teams")||re.meetingLink?.startsWith("http")?"Google Meet":"In-Person Interview")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:re.type==="online"||re.platform?.toLowerCase().includes("zoom")||re.platform?.toLowerCase().includes("meet")||re.platform?.toLowerCase().includes("teams")||re.meetingLink?.includes("zoom")||re.meetingLink?.includes("meet")||re.meetingLink?.includes("teams")||re.meetingLink?.startsWith("http")?"Meeting Link":"Location Details"}),e.jsx("div",{className:"flex items-center space-x-2",children:re.type==="online"||re.platform?.toLowerCase().includes("zoom")||re.platform?.toLowerCase().includes("meet")||re.platform?.toLowerCase().includes("teams")||re.meetingLink?.includes("zoom")||re.meetingLink?.includes("meet")||re.meetingLink?.includes("teams")||re.meetingLink?.startsWith("http")?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 p-3 bg-white dark:bg-slate-700 rounded-lg border border-gray-200 dark:border-slate-600",children:e.jsx("p",{className:"font-medium text-gray-900 dark:text-white break-all",children:re.meetingLink})}),re.status!=="completed"&&e.jsxs("button",{onClick:()=>{let Y=re.meetingLink;!Y.startsWith("http://")&&!Y.startsWith("https://")&&(Y="https://"+Y),window.open(Y,"_blank")},className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center space-x-1 flex-shrink-0",title:"Join Meeting",children:[e.jsx(ka,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Join Meeting"})]})]}):e.jsxs("div",{className:"flex-1 p-3 bg-white dark:bg-slate-700 rounded-lg border border-gray-200 dark:border-slate-600",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:re.meetingLink}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"In-person interview location"})]})})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(jc,{className:"w-5 h-5 mr-2 text-blue-600 dark:text-blue-400"}),"Interview Evaluation Record"]}),e.jsxs("form",{onSubmit:ym,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Applicant ID"}),e.jsx("input",{type:"text",value:W.applicantId,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Application ID"}),e.jsx("input",{type:"text",value:W.applicationId,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Interviewer Name"}),e.jsx("input",{type:"text",value:W.interviewerName,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Interview Date"}),e.jsx("input",{type:"text",value:W.interviewDate,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-white"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 dark:text-white",children:"Scoring (1-5 scale)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Academic Motivation Score"}),e.jsxs("select",{value:W.academicMotivationScore,onChange:Y=>Xn("academicMotivationScore",Y.target.value),className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${P.academicMotivationScore?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select score..."}),e.jsx("option",{value:"1",children:"1 - Poor"}),e.jsx("option",{value:"2",children:"2 - Below Average"}),e.jsx("option",{value:"3",children:"3 - Average"}),e.jsx("option",{value:"4",children:"4 - Good"}),e.jsx("option",{value:"5",children:"5 - Excellent"})]}),P.academicMotivationScore&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:P.academicMotivationScore})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Leadership & Involvement Score"}),e.jsxs("select",{value:W.leadershipInvolvementScore,onChange:Y=>Xn("leadershipInvolvementScore",Y.target.value),className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${P.leadershipInvolvementScore?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select score..."}),e.jsx("option",{value:"1",children:"1 - Poor"}),e.jsx("option",{value:"2",children:"2 - Below Average"}),e.jsx("option",{value:"3",children:"3 - Average"}),e.jsx("option",{value:"4",children:"4 - Good"}),e.jsx("option",{value:"5",children:"5 - Excellent"})]}),P.leadershipInvolvementScore&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:P.leadershipInvolvementScore})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Financial Need Score"}),e.jsxs("select",{value:W.financialNeedScore,onChange:Y=>Xn("financialNeedScore",Y.target.value),className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${P.financialNeedScore?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select score..."}),e.jsx("option",{value:"1",children:"1 - Poor"}),e.jsx("option",{value:"2",children:"2 - Below Average"}),e.jsx("option",{value:"3",children:"3 - Average"}),e.jsx("option",{value:"4",children:"4 - Good"}),e.jsx("option",{value:"5",children:"5 - Excellent"})]}),P.financialNeedScore&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:P.financialNeedScore})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Character & Values Score"}),e.jsxs("select",{value:W.characterValuesScore,onChange:Y=>Xn("characterValuesScore",Y.target.value),className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${P.characterValuesScore?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select score..."}),e.jsx("option",{value:"1",children:"1 - Poor"}),e.jsx("option",{value:"2",children:"2 - Below Average"}),e.jsx("option",{value:"3",children:"3 - Average"}),e.jsx("option",{value:"4",children:"4 - Good"}),e.jsx("option",{value:"5",children:"5 - Excellent"})]}),P.characterValuesScore&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:P.characterValuesScore})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Overall Recommendation"}),e.jsxs("select",{value:W.overallRecommendation,onChange:Y=>Xn("overallRecommendation",Y.target.value),className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${P.overallRecommendation?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select recommendation..."}),e.jsx("option",{value:"recommended",children:" Recommended for SSC Review"}),e.jsx("option",{value:"not_recommended",children:" Not Recommended"}),e.jsx("option",{value:"needs_followup",children:" Conditional Recommendation"})]}),P.overallRecommendation&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:P.overallRecommendation})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Remarks"}),e.jsx("textarea",{rows:4,value:W.remarks,onChange:Y=>Xn("remarks",Y.target.value),placeholder:"Provide detailed feedback about the candidate's performance, strengths, areas for improvement, and any other relevant observations...",className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none ${P.remarks?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),P.remarks&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:P.remarks})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 mt-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>Ie(!1),disabled:te,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:ym,disabled:te,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center space-x-2",children:te?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(jc,{className:"w-4 h-4"}),e.jsx("span",{children:"Submit Evaluation"})]})})]})]})]}),de&&re&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center p-2 sm:p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>X(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 sm:p-6 my-4 sm:my-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Delete Interview Schedule"}),e.jsx("button",{onClick:()=>X(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Are you sure you want to delete the interview schedule for ",e.jsx("strong",{children:re.studentName}),"?"]}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[e.jsx("strong",{children:"Warning:"})," This action cannot be undone. The interview schedule will be permanently deleted."]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>X(!1),disabled:ke,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:fe,disabled:ke,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center space-x-2",children:ke?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Deleting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete Schedule"})]})})]})]})]}),ie&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center p-2 sm:p-4 overflow-y-auto",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>Pe(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-2xl bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-4 sm:p-6 my-4 sm:my-8 max-h-[95vh] sm:max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bulk Schedule Interviews"}),e.jsx("button",{onClick:()=>Pe(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mb-6 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:e.jsxs("p",{className:"text-sm text-orange-800 dark:text-orange-200",children:[e.jsxs("strong",{children:["Scheduling ",D.length," pending application(s)"]})," with consecutive interview times."]})}),K.interviewDate&&K.interviewTime&&D.length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-3",children:"Schedule Preview"}),e.jsx("div",{className:"space-y-2",children:(()=>{const we=Gt().filter(At=>D.includes(At.id)).filter(At=>At.status==="pending"&&At.type==="pending"),Be=To(K.interviewTime,K.duration,K.gapTime,we.length);return we.map((At,_t)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-800 dark:text-blue-200 font-medium",children:At.studentName}),e.jsxs("span",{className:"text-blue-700 dark:text-blue-300",children:[Be[_t].displayTime," - ",Rn(Be[_t].endTime)]})]},At.id))})()}),e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-700",children:e.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["Total time: ",(()=>{const Y=D.length*parseInt(K.duration)+(D.length-1)*parseInt(K.gapTime),we=Math.floor(Y/60),Be=Y%60;return we>0?`${we}h ${Be}m`:`${Be}m`})()]})})]}),e.jsxs("form",{onSubmit:Ct,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Interview Type"}),e.jsxs("div",{className:"flex items-center p-4 border-2 border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx(ka,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Online Interview"}),e.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-300",children:"Video conference meeting"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Online Platform"}),e.jsxs("select",{value:K.platform,onChange:Y=>Me("platform",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"zoom",children:"Zoom"}),e.jsx("option",{value:"teams",children:"Microsoft Teams"}),e.jsx("option",{value:"meet",children:"Google Meet"}),e.jsx("option",{value:"webex",children:"Cisco Webex"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Meeting Link"}),e.jsx("input",{type:"url",value:K.meetingLink,onChange:Y=>Me("meetingLink",Y.target.value),placeholder:"https://zoom.us/j/123456789",className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${pe.meetingLink?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),pe.meetingLink&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:pe.meetingLink}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Enter the meeting URL that students will use to join the interview"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interview Date"}),e.jsx("input",{type:"date",value:K.interviewDate,onChange:Y=>Me("interviewDate",Y.target.value),className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${pe.interviewDate?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),pe.interviewDate&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:pe.interviewDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interview Time"}),e.jsx("input",{type:"time",value:K.interviewTime,onChange:Y=>Me("interviewTime",Y.target.value),className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${pe.interviewTime?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`}),pe.interviewTime&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:pe.interviewTime})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Duration (minutes)"}),e.jsxs("select",{value:K.duration,onChange:Y=>Me("duration",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"30",children:"30 minutes"}),e.jsx("option",{value:"45",children:"45 minutes"}),e.jsx("option",{value:"60",children:"60 minutes"}),e.jsx("option",{value:"90",children:"90 minutes"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Gap Between Interviews (minutes)"}),e.jsxs("select",{value:K.gapTime,onChange:Y=>Me("gapTime",Y.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"5",children:"5 minutes"}),e.jsx("option",{value:"10",children:"10 minutes"}),e.jsx("option",{value:"15",children:"15 minutes"}),e.jsx("option",{value:"20",children:"20 minutes"}),e.jsx("option",{value:"30",children:"30 minutes"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interviewer"}),e.jsxs("select",{value:K.staffId,onChange:Y=>Me("staffId",Y.target.value),className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${pe.staffId?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select an interviewer"}),m.map(Y=>e.jsxs("option",{value:Y.id,disabled:!Y.user_id,children:[Y.name," ",Y.user_id?"":"(Missing User ID)"]},Y.id))]}),pe.staffId&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:pe.staffId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interview Notes"}),e.jsx("textarea",{rows:3,value:K.notes,onChange:Y=>Me("notes",Y.target.value),placeholder:"Any special instructions or notes for the interviews...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{Pe(!1),Ks()},disabled:ee,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:ee,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center space-x-2",children:ee?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Scheduling..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(la,{className:"w-4 h-4"}),e.jsxs("span",{children:["Schedule ",D.length," Interview(s)"]})]})})]})]})]})]})]})}const Yce=({schedules:t})=>{const[r,s]=f.useState(new Date),a=h=>{const m=h.getFullYear(),x=h.getMonth(),g=new Date(m,x,1),y=new Date(m,x+1,0).getDate(),w=g.getDay(),N=[];for(let _=0;_<w;_++)N.push(null);for(let _=1;_<=y;_++)N.push(new Date(m,x,_));return N},n=h=>{if(!h)return[];const m=h.toISOString().split("T")[0];return t.filter(x=>x.interviewDate===m)},i=h=>h.toLocaleDateString("en-US",{month:"long",year:"numeric"}),l=h=>{s(m=>{const x=new Date(m);return x.setMonth(m.getMonth()+h),x})},c=a(r),u=i(r);return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>l(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(B3,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),e.jsx("button",{onClick:()=>s(new Date),className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Today"}),e.jsx("button",{onClick:()=>l(1),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(Uu,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(h=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:h},h))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:c.map((h,m)=>{const x=n(h),g=h&&h.toDateString()===new Date().toDateString();return e.jsx("div",{className:`min-h-[100px] p-2 border border-gray-200 dark:border-slate-700 ${h?"bg-white dark:bg-slate-800":"bg-gray-50 dark:bg-slate-900"} ${g?"ring-2 ring-orange-500":""}`,children:h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`text-sm font-medium mb-1 ${g?"text-orange-600 dark:text-orange-400":"text-gray-900 dark:text-white"}`,children:h.getDate()}),e.jsxs("div",{className:"space-y-1",children:[x.slice(0,3).map(b=>e.jsx("div",{className:"text-xs p-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 rounded truncate",title:`${b.studentName} - ${b.interviewTime}`,children:b.studentName},b.id)),x.length>3&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",x.length-3," more"]})]})]})},m)})})]})]})},Kce=({isVisible:t,title:r,message:s,confirmText:a="Confirm",cancelText:n="Cancel",type:i="warning",onConfirm:l,onCancel:c})=>{if(!t)return null;const u=()=>{switch(i){case"success":return e.jsx(Le,{className:"w-6 h-6 text-green-500"});case"error":return e.jsx(wt,{className:"w-6 h-6 text-red-500"});case"warning":default:return e.jsx(Wt,{className:"w-6 h-6 text-yellow-500"})}},h=()=>{switch(i){case"success":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";case"error":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"warning":default:return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"}},m=()=>{switch(i){case"success":return"text-green-800 dark:text-green-200";case"error":return"text-red-800 dark:text-red-200";case"warning":default:return"text-yellow-800 dark:text-yellow-200"}};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:c}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl transform transition-all duration-300 ease-in-out",children:[e.jsx("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:u()}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:`${h()} border rounded-lg p-4`,children:e.jsx("p",{className:`text-sm ${m()}`,children:s})})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:n}),e.jsx("button",{onClick:l,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors",children:a})]})]})]})};function Jce(){const{success:t,error:r}=Zt(),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,c]=f.useState(""),[u,h]=f.useState(""),[m,x]=f.useState({status:"all",category:"all",level:"all",school:"all",endorsementStatus:"all"}),[g,b]=f.useState("grid"),[y,w]=f.useState("date"),[N,_]=f.useState("desc"),[S,k]=f.useState([]),[v,A]=f.useState(!1),[E,T]=f.useState(!1),[F,R]=f.useState(!1),[D,$]=f.useState(null),[B,H]=f.useState(!1),[I,L]=f.useState(!1),[M,q]=f.useState(!1),[Z,G]=f.useState("");f.useEffect(()=>{de()},[]);const de=async()=>{try{i(!0),c("");const[W,ye,P,V]=await Promise.all([ot.getInterviewSchedules().catch(()=>[]),ot.getApplications({status:"interview_completed"}).catch(()=>({data:[]})),ot.getApplications({status:"endorsed_to_ssc"}).catch(()=>({data:[]})),ot.getInterviewEvaluations().catch(()=>[])]);let te=V||[];Array.isArray(te)||(console.error("Invalid interview evaluations response format"),te=[]);const Ne={data:[...ye?.data||[],...P?.data||[]]},Se=(W||[]).filter(se=>se.status==="completed"&&se.application),at=(Ne?.data||[]).filter(se=>{if(se.status==="endorsed_to_ssc")return!0;if(se.status==="interview_completed"){const He=Se.some(J=>J.application_id===se.id),qe=te.some(J=>J.application_id===se.id);return He&&qe}return!1});console.log("Processed applications:",at.length),console.log("Interview evaluations found:",te.length);const pt=at.map(se=>{const He=(Se||[]).find(Gt=>Gt.application_id===se.id),qe=(te||[]).find(Gt=>Gt.application_id===se.id);console.log(`Processing application ${se.id}:`,{status:se.status,hasInterview:!!He,hasEvaluation:!!qe,evaluation:qe?{id:qe.id,academic:qe.academic_motivation_score,leadership:qe.leadership_involvement_score,financial:qe.financial_need_score,character:qe.character_values_score}:null});const J=se.student,ce=se.school,$e=se.category,nt=se.subcategory,qt=qe;return{id:se.id,name:`${J?.first_name||""} ${J?.last_name||""}`.trim(),studentId:J?.student_id_number||`APP-${se.id}`,email:J?.email_address||"",phone:J?.contact_number||"",schoolName:ce?.name||"Unknown School",schoolType:ce?.classification||"Unknown",educationalLevel:se.student?.academic_records?.[0]?.educational_level||"Tertiary",yearLevel:se.student?.academic_records?.[0]?.year_level||"Unknown",course:se.student?.academic_records?.[0]?.program||"Unknown Program",gwa:se.student?.academic_records?.[0]?.general_weighted_average?.toString()||"N/A",scholarshipCategory:$e?.name||"Unknown Category",scholarshipSubCategory:nt?.name||"Unknown Subcategory",requestedAmount:se.requested_amount||0,approvedAmount:se.approved_amount||se.requested_amount||0,endorsementStatus:se.status==="endorsed_to_ssc"?"endorsed":qt?.overall_recommendation==="needs_followup"?"conditional":qt?.overall_recommendation==="recommended"?"ready":"pending",interviewCompleted:!0,verificationCompleted:!0,documentsVerified:!0,submittedDate:se.submitted_at||se.created_at,approvedDate:se.approved_at||se.reviewed_at,endorsedDate:se.status==="endorsed_to_ssc"?se.updated_at:null,documents:8,priority:"normal",interview:He?{id:He.id,date:He.interview_date,time:He.interview_time,interviewer:He.interviewer_name,result:He.interview_result,notes:He.interview_notes,completedAt:He.completed_at,evaluation:qt?{academicMotivationScore:qt.academic_motivation_score||0,leadershipInvolvementScore:qt.leadership_involvement_score||0,financialNeedScore:qt.financial_need_score||0,characterValuesScore:qt.character_values_score||0,overallRecommendation:qt.overall_recommendation||"not_recommended",remarks:qt.remarks||"",strengths:qt.strengths||"",areasForImprovement:qt.areas_for_improvement||"",additionalNotes:qt.additional_notes||""}:null}:null}});a(pt)}catch(W){console.error("Error fetching applications for SSC endorsement:",W),c("Failed to load applications ready for SSC endorsement"),a([])}finally{i(!1)}},X=W=>{switch(W){case"ready":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"conditional":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"endorsed":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},z=W=>{switch(W){case"ready":return e.jsx(Le,{className:"w-4 h-4"});case"conditional":return e.jsx(Wt,{className:"w-4 h-4"});case"endorsed":return e.jsx(xr,{className:"w-4 h-4"});case"pending":return e.jsx(Nt,{className:"w-4 h-4"});case"rejected":return e.jsx(jt,{className:"w-4 h-4"});default:return e.jsx(ut,{className:"w-4 h-4"})}},Ie=W=>{switch(W){case"high":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},Pe=[...s.filter(W=>{const ye=W.name.toLowerCase().includes(u.toLowerCase())||W.studentId.toLowerCase().includes(u.toLowerCase())||W.schoolName.toLowerCase().includes(u.toLowerCase())||W.scholarshipCategory.toLowerCase().includes(u.toLowerCase()),P=m.status==="all"||W.endorsementStatus===m.status,V=m.category==="all"||W.scholarshipCategory===m.category,te=m.level==="all"||W.educationalLevel===m.level,Ne=m.school==="all"||W.schoolType===m.school;let Se=!0;return m.endorsementStatus!=="all"&&(m.endorsementStatus==="conditional"?Se=W.interview?.evaluation?.overallRecommendation==="needs_followup":Se=W.endorsementStatus===m.endorsementStatus),ye&&P&&V&&te&&Ne&&Se})].sort((W,ye)=>{let P,V;switch(y){case"name":P=W.name.toLowerCase(),V=ye.name.toLowerCase();break;case"gwa":P=parseFloat(W.gwa),V=parseFloat(ye.gwa);break;case"amount":P=W.approvedAmount,V=ye.approvedAmount;break;case"date":default:P=new Date(W.approvedDate),V=new Date(ye.approvedDate);break}return N==="asc"?P>V?1:-1:P<V?1:-1}),re=({application:W})=>e.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 hover:shadow-md transition-all duration-200 group ${g==="list"?"rounded-lg":"rounded-xl"}`,children:e.jsxs("div",{className:g==="list"?"p-3 sm:p-4":"p-4 sm:p-6",children:[e.jsxs("div",{className:`flex flex-col space-y-3 sm:flex-row sm:items-start sm:justify-between sm:space-y-0 ${g==="list"?"mb-3":"mb-4"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx("input",{type:"checkbox",checked:S.includes(W.id),onChange:()=>Ee(W.id),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"})}),e.jsx("div",{className:`flex-shrink-0 ${g==="list"?"h-8 w-8":"h-10 w-10 sm:h-12 sm:w-12"}`,children:e.jsx("div",{className:`${g==="list"?"h-8 w-8":"h-10 w-10 sm:h-12 sm:w-12"} rounded-full bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 flex items-center justify-center`,children:e.jsx(xr,{className:`${g==="list"?"h-4 w-4":"h-5 w-5 sm:h-6 sm:w-6"} text-orange-600 dark:text-orange-400`})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:`${g==="list"?"text-sm sm:text-base font-semibold":"text-base sm:text-lg font-semibold"} text-gray-900 dark:text-white truncate`,children:W.name}),e.jsx("p",{className:`${g==="list"?"text-xs":"text-xs sm:text-sm"} text-gray-500 dark:text-gray-400 truncate`,children:W.studentId})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-2 flex-shrink-0",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${X(W.endorsementStatus)}`,children:[z(W.endorsementStatus),e.jsx("span",{className:"ml-1 capitalize",children:W.endorsementStatus==="conditional"?"For Consideration":W.endorsementStatus==="ready"?"Ready for SSC Endorsement":W.endorsementStatus})]}),W.priority!=="normal"&&e.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium ${Ie(W.priority)}`,children:W.priority})]})]}),e.jsxs("div",{className:g==="list"?"space-y-2":"space-y-4",children:[e.jsxs("div",{className:`flex items-center space-x-2 ${g==="list"?"text-xs":"text-sm"} text-gray-600 dark:text-gray-400`,children:[e.jsx(Ls,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} flex-shrink-0`}),e.jsx("span",{className:"truncate",children:W.schoolName})]}),e.jsxs("div",{className:`grid gap-2 sm:gap-3 ${g==="list"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4":"grid-cols-1 sm:grid-cols-2"}`,children:[e.jsxs("div",{className:`flex items-center space-x-2 ${g==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(gs,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"GWA:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:W.gwa})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${g==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(Rs,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Level:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:W.educationalLevel})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${g==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(xr,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Category:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:W.scholarshipCategory})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${g==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(cr,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Amount:"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:["",W.approvedAmount.toLocaleString()]})]})]}),g==="list"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(zt,{className:"w-3 h-3 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Approved: ",new Date(W.approvedDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600 dark:text-gray-400 min-w-0",children:[e.jsx(pl,{className:"w-3 h-3 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:[W.documents," documents"]})]})]}),W.interview&&e.jsxs("div",{className:`${g==="list"?"space-y-2":"space-y-3"}`,children:[e.jsxs("div",{className:`bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 ${g==="list"?"p-2":"p-3"}`,children:[e.jsxs("div",{className:`flex items-center space-x-2 mb-2 ${g==="list"?"text-xs":"text-sm"}`,children:[e.jsx(mw,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} text-blue-600`}),e.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Interview Completed"}),e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:""}),e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:new Date(W.interview.date).toLocaleDateString()})]}),W.interview.evaluation?e.jsxs("div",{className:`grid ${g==="list"?"grid-cols-1 gap-1":"grid-cols-1 gap-2"} ${g==="list"?"text-xs":"text-sm"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Academic:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((ye,P)=>{const V=W.interview.evaluation.academicMotivationScore||0;return e.jsx(Ar,{className:`w-3 h-3 ${P<V?"text-yellow-400 fill-current":"text-gray-300"}`},P)}),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[W.interview.evaluation.academicMotivationScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Leadership:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((ye,P)=>{const V=W.interview.evaluation.leadershipInvolvementScore||0;return e.jsx(Ar,{className:`w-3 h-3 ${P<V?"text-yellow-400 fill-current":"text-gray-300"}`},P)}),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[W.interview.evaluation.leadershipInvolvementScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Financial:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((ye,P)=>{const V=W.interview.evaluation.financialNeedScore||0;return e.jsx(Ar,{className:`w-3 h-3 ${P<V?"text-yellow-400 fill-current":"text-gray-300"}`},P)}),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[W.interview.evaluation.financialNeedScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Character:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((ye,P)=>{const V=W.interview.evaluation.characterValuesScore||0;return e.jsx(Ar,{className:`w-3 h-3 ${P<V?"text-yellow-400 fill-current":"text-gray-300"}`},P)}),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[W.interview.evaluation.characterValuesScore||0,"/5"]})]})]})]}):e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"Evaluation scores not available"}),e.jsxs("div",{className:`mt-2 ${g==="list"?"text-xs":"text-sm"} text-blue-700 dark:text-blue-300`,children:["Interviewer: ",e.jsx("span",{className:"font-medium",children:W.interview.interviewer})]})]}),W.interview.evaluation&&e.jsxs("div",{className:`flex items-center space-x-2 ${g==="list"?"text-xs":"text-sm"}`,children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recommendation:"}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${W.interview.evaluation.overallRecommendation==="recommended"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":W.interview.evaluation.overallRecommendation==="needs_followup"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[W.interview.evaluation.overallRecommendation==="recommended"&&" Recommended",W.interview.evaluation.overallRecommendation==="needs_followup"&&" Conditional",W.interview.evaluation.overallRecommendation==="not_recommended"&&" Not Recommended"]})]})]}),e.jsxs("div",{className:`flex items-center space-x-4 ${g==="list"?"text-xs":"text-sm"}`,children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} text-green-500`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Interview"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} text-green-500`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Verification"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} text-green-500`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Documents"})]})]})]}),e.jsx("div",{className:`${g==="list"?"mt-3 pt-3":"mt-4 sm:mt-6 pt-3 sm:pt-4"} border-t border-gray-200 dark:border-slate-700`,children:e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-2",children:[e.jsxs("button",{onClick:()=>ke(W),disabled:W.endorsementStatus==="endorsed",className:`flex items-center justify-center space-x-2 ${g==="list"?"px-3 sm:px-4 py-2 text-sm font-semibold":"px-3 py-2 text-sm"} ${W.endorsementStatus==="endorsed"?"bg-green-500 cursor-not-allowed opacity-80":W.endorsementStatus==="conditional"?"bg-yellow-500 hover:bg-yellow-600":"bg-orange-500 hover:bg-orange-600"} text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[W.endorsementStatus==="endorsed"?e.jsx(Le,{className:"w-4 h-4"}):e.jsx(fi,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:W.endorsementStatus==="endorsed"?"Endorsed":"Endorse to SSC"}),e.jsx("span",{className:"sm:hidden",children:W.endorsementStatus==="endorsed"?"Endorsed":"Endorse"})]}),e.jsxs("button",{onClick:()=>Q(W),className:`flex items-center justify-center space-x-2 ${g==="list"?"px-3 sm:px-4 py-2 text-sm font-semibold":"px-3 py-2 text-sm"} bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(jt,{className:"w-4 h-4"}),e.jsx("span",{children:"Reject"})]})]}),e.jsx("div",{className:"flex items-center justify-center space-x-2 flex-shrink-0",children:e.jsx("button",{onClick:()=>xe(W),className:"p-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md",title:"View Details",children:e.jsx(Ft,{className:`${g==="list"?"w-5 h-5":"w-4 h-4"}`})})})]})})]})}),Ee=W=>{k(ye=>ye.includes(W)?ye.filter(P=>P!==W):[...ye,W])},ke=W=>{$(W),T(!0)},xe=W=>{$(W),R(!0)},Q=W=>{$(W),G(""),q(!0)},et=async()=>{if(D)try{await ot.endorseToSSC(D.id,`Application endorsed to SSC on ${new Date().toISOString()}`),a(W=>W.map(ye=>ye.id===D.id?{...ye,endorsementStatus:"endorsed",endorsedDate:new Date().toISOString()}:ye)),T(!1),t("Application successfully endorsed to SSC!","Endorsement Successful")}catch(W){console.error("Endorsement failed:",W),r("Failed to endorse application. Please try again.","Endorsement Failed")}},ve=async()=>{if(!D||!Z.trim()){r("Please provide a reason for rejection.","Rejection Reason Required");return}try{await ot.rejectApplication(D.id,Z.trim()),a(W=>W.map(ye=>ye.id===D.id?{...ye,endorsementStatus:"rejected",rejectedDate:new Date().toISOString()}:ye)),q(!1),G(""),t("Application successfully rejected.","Rejection Successful")}catch(W){console.error("Rejection failed:",W),r("Failed to reject application. Please try again.","Rejection Failed")}},Ze=()=>{L(!0)},Qe=()=>{S.length!==0&&H(!0)},ht=async()=>{try{const W=Pe.filter(te=>S.includes(te.id)&&te.interview?.evaluation?.overallRecommendation==="recommended");if(W.length===0){r('No applications with "recommended" status found in your selection.',"No Ready Applications"),L(!1);return}const ye=W.map(te=>te.id),P=`Bulk endorsed ready applications to SSC on ${new Date().toISOString()}`,V=await ot.bulkEndorseToSSC(ye,"all",P);a(te=>te.map(Ne=>ye.includes(Ne.id)&&V.endorsed_count>0?{...Ne,endorsementStatus:"endorsed",endorsedDate:new Date().toISOString()}:Ne)),k([]),L(!1),t(`Successfully endorsed ${V.endorsed_count} ready application(s) to SSC!`,"Bulk Endorsement Successful"),de()}catch(W){console.error("Bulk endorsement failed:",W),L(!1),r("Failed to bulk endorse ready applications. Please try again.","Bulk Endorsement Failed")}},K=async()=>{try{const W=Pe.filter(te=>S.includes(te.id)&&te.interview?.evaluation?.overallRecommendation==="needs_followup");if(W.length===0){r('No applications with "needs_followup" status found in your selection.',"No Applications for Consideration"),L(!1);return}const ye=W.map(te=>te.id),P=`Bulk endorsed consideration applications to SSC on ${new Date().toISOString()}`,V=await ot.bulkEndorseToSSC(ye,"all",P);a(te=>te.map(Ne=>ye.includes(Ne.id)&&V.endorsed_count>0?{...Ne,endorsementStatus:"endorsed",endorsedDate:new Date().toISOString()}:Ne)),k([]),L(!1),t(`Successfully endorsed ${V.endorsed_count} application(s) for consideration to SSC!`,"Bulk Endorsement Successful"),de()}catch(W){console.error("Bulk endorsement failed:",W),L(!1),r("Failed to bulk endorse applications for consideration. Please try again.","Bulk Endorsement Failed")}},ne=async()=>{try{const W=`Bulk endorsed to SSC on ${new Date().toISOString()}`,ye=await ot.bulkEndorseToSSC(S,"all",W);a(P=>P.map(V=>S.includes(V.id)&&ye.endorsed_count>0?{...V,endorsementStatus:"endorsed",endorsedDate:new Date().toISOString()}:V)),k([]),H(!1),t(`Successfully endorsed ${ye.endorsed_count} out of ${ye.total_processed} selected applications to SSC!`,"Bulk Endorsement Successful"),de()}catch(W){console.error("Bulk endorsement failed:",W),H(!1),r("Failed to bulk endorse applications. Please try again.","Bulk Endorsement Failed")}},pe=()=>{H(!1)},Xe=(W,ye)=>{x(P=>({...P,[W]:ye}))},ee=()=>{x({status:"all",category:"all",level:"all",school:"all",endorsementStatus:"all"}),h("")},he=()=>Object.values(m).some(W=>W!=="all")||u;return e.jsxs("div",{className:"space-y-4 sm:space-y-6 min-h-0 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Endorse to SSC"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-2",children:"Forward applications with completed interviews to Scholarship Selection Committee"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{className:"bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 px-3 sm:px-4 py-2 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors flex items-center justify-center text-sm sm:text-base",children:[e.jsx(sr,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Export"}),e.jsx("span",{className:"sm:hidden",children:"Export"})]}),e.jsxs("button",{onClick:Ze,className:"bg-orange-500 hover:bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base",children:[e.jsx("span",{className:"hidden sm:inline",children:"Bulk Endorse"}),e.jsx("span",{className:"sm:hidden",children:"Bulk Endorse"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:[e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative flex-1 w-full sm:min-w-64",children:[e.jsx(Zr,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search applications...",value:u,onChange:W=>h(W.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base"})]}),e.jsxs("select",{value:m.endorsementStatus,onChange:W=>Xe("endorsementStatus",W.target.value),className:"w-full sm:w-auto px-3 sm:px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"ready",children:"Ready for SSC Endorsement"}),e.jsx("option",{value:"conditional",children:"Needs Review (Conditional)"}),e.jsx("option",{value:"endorsed",children:"Already Endorsed to SSC"}),e.jsx("option",{value:"pending",children:"Pending Review"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{onClick:()=>A(!v),className:`flex items-center justify-center space-x-2 px-3 sm:px-4 py-2 rounded-lg border transition-colors text-sm sm:text-base ${v?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[e.jsx(Fa,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Advanced"}),e.jsx("span",{className:"sm:hidden",children:"Filter"})]}),e.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-slate-600 rounded-lg",children:[e.jsx("button",{onClick:()=>b("grid"),className:`p-2 ${g==="grid"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-l-lg transition-colors`,children:e.jsx(No,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b("list"),className:`p-2 ${g==="list"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-r-lg transition-colors`,children:e.jsx(ko,{className:"w-4 h-4"})})]}),e.jsxs("select",{value:y,onChange:W=>w(W.target.value),className:"w-full sm:w-auto px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm sm:text-base",children:[e.jsx("option",{value:"date",children:"Sort by Date"}),e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"gwa",children:"Sort by GWA"}),e.jsx("option",{value:"amount",children:"Sort by Amount"})]}),e.jsx("button",{onClick:()=>_(N==="asc"?"desc":"asc"),className:"p-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",children:N==="asc"?e.jsx(kx,{className:"w-4 h-4"}):e.jsx(jx,{className:"w-4 h-4"})})]})]}),v&&e.jsx("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs("select",{value:m.category,onChange:W=>Xe("category",W.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"Academic Excellence",children:"Academic Excellence"}),e.jsx("option",{value:"Financial Need",children:"Financial Need"}),e.jsx("option",{value:"Special Programs",children:"Special Programs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Level"}),e.jsxs("select",{value:m.level,onChange:W=>Xe("level",W.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"Senior High School",children:"Senior High School"}),e.jsx("option",{value:"Tertiary",children:"Tertiary"}),e.jsx("option",{value:"Graduate",children:"Graduate"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"School Type"}),e.jsxs("select",{value:m.school,onChange:W=>Xe("school",W.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Schools"}),e.jsx("option",{value:"State University",children:"State University"}),e.jsx("option",{value:"Private University",children:"Private University"}),e.jsx("option",{value:"College",children:"College"})]})]})]})}),he()&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[m.endorsementStatus!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",children:["Status: ",m.endorsementStatus,e.jsx("button",{onClick:()=>Xe("endorsementStatus","all"),className:"ml-1 hover:text-orange-600 dark:hover:text-orange-200",children:e.jsx(wt,{className:"w-3 h-3"})})]}),u&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:['Search: "',u,'"',e.jsx("button",{onClick:()=>h(""),className:"ml-1 hover:text-purple-600 dark:hover:text-purple-200",children:e.jsx(wt,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:ee,className:"text-sm text-gray-600 dark:text-gray-300 underline hover:text-gray-800 dark:hover:text-gray-100",children:"Clear all filters"})]}),S.length>0&&e.jsx("div",{className:"mt-4 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:[S.length," application(s) selected"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:Qe,className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Endorse Selected"}),e.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Generate Report"})]})]})})]}),n?e.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ot,{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Loading applications..."})]})}):l?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 sm:p-6 text-center",children:[e.jsx(Wt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-red-700 dark:text-red-300",children:l})]}):Pe.length===0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-6 sm:p-12 text-center",children:[e.jsx(xr,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No applications found"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Try adjusting your filters or search terms."})]}):e.jsx("div",{className:g==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6":"space-y-3",children:Pe.map(W=>e.jsx(re,{application:W},W.id))}),E&&D&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>T(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-6xl max-h-[95vh] sm:max-h-[90vh] bg-white dark:bg-slate-800 rounded-xl shadow-2xl flex flex-col my-4 sm:my-8",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-slate-700 flex-shrink-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:D.endorsementStatus==="conditional"?"Suggest to SSC":"Endorse to SSC"}),e.jsx("button",{onClick:()=>T(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",style:{minHeight:0},children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Application Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Student:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:D.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Student ID:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:D.studentId})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"School:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:D.schoolName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Amount:"}),e.jsxs("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:["",D.approvedAmount.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[e.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:"Verification Status"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Interview Completed"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Verification Completed"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Documents Verified"})]})]})]}),D.interview&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Interview Evaluation"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Interview Date:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:new Date(D.interview.date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Interviewer:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:D.interview.interviewer})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Evaluation Scores:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Academic Motivation:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((W,ye)=>e.jsx(Ar,{className:`w-3 h-3 ${ye<(D.interview.evaluation?.academicMotivationScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},ye)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[D.interview.evaluation?.academicMotivationScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Leadership & Involvement:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((W,ye)=>e.jsx(Ar,{className:`w-3 h-3 ${ye<(D.interview.evaluation?.leadershipInvolvementScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},ye)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[D.interview.evaluation?.leadershipInvolvementScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Financial Need:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((W,ye)=>e.jsx(Ar,{className:`w-3 h-3 ${ye<(D.interview.evaluation?.financialNeedScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},ye)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[D.interview.evaluation?.financialNeedScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Character & Values:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((W,ye)=>e.jsx(Ar,{className:`w-3 h-3 ${ye<(D.interview.evaluation?.characterValuesScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},ye)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[D.interview.evaluation?.characterValuesScore||0,"/5"]})]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-medium",children:"Overall Recommendation:"}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${D.interview.evaluation?.overallRecommendation==="recommended"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":D.interview.evaluation?.overallRecommendation==="needs_followup"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[D.interview.evaluation?.overallRecommendation==="recommended"&&" Recommended for SSC Review",D.interview.evaluation?.overallRecommendation==="needs_followup"&&" For Consideration",D.interview.evaluation?.overallRecommendation==="not_recommended"&&" Not Recommended"]})]})}),(D.interview.notes||D.interview.evaluation?.remarks)&&e.jsxs("div",{className:"mt-3",children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Interview Notes:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-blue-100 dark:bg-blue-900/30 p-2 rounded",children:D.interview.evaluation?.remarks||D.interview.notes||"No notes available"})]}),(D.interview.evaluation?.strengths||D.interview.evaluation?.areasForImprovement)&&e.jsxs("div",{className:"mt-3 space-y-2",children:[D.interview.evaluation?.strengths&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Strengths:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-green-50 dark:bg-green-900/20 p-2 rounded",children:D.interview.evaluation.strengths})]}),D.interview.evaluation?.areasForImprovement&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Areas for Improvement:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded",children:D.interview.evaluation.areasForImprovement})]})]})]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:D.endorsementStatus==="conditional"?'This application has completed the interview and is marked "For Consideration". The SSC should review the interview evaluation and make a final decision.':'This application has completed all required verification steps and is ready for SSC review. Click "Endorse to SSC" to forward this application to the Scholarship Selection Committee.'})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700 flex-shrink-0",children:[e.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:et,className:`px-4 py-2 ${D.endorsementStatus==="conditional"?"bg-yellow-500 hover:bg-yellow-600":"bg-orange-500 hover:bg-orange-600"} text-white rounded-lg transition-colors flex items-center`,children:[e.jsx(fi,{className:"w-4 h-4 mr-2"}),"Endorse to SSC"]})]})]})]}),F&&D&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-6xl w-full max-h-[95vh] sm:max-h-[90vh] flex flex-col my-4 sm:my-8",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-slate-700 flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Application Details"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[D.name," - ",D.studentId]})]}),e.jsx("button",{onClick:()=>R(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(wt,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",style:{minHeight:0},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Application Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Student:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:D.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Student ID:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:D.studentId})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"School:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:D.schoolName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Amount:"}),e.jsxs("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:["",D.approvedAmount?.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[e.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:"Verification Status"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Interview Completed"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Verification Completed"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Documents Verified"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Student Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Full Name:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:D.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Student ID:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:D.studentId})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Email:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:D.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Phone:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:D.phone||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"GWA:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:D.gwa})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Educational Level:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:D.educationalLevel})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Course:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:D.course||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"School Type:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:D.schoolType||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[e.jsx("h4",{className:"font-semibold text-purple-900 dark:text-purple-100 mb-3",children:"Scholarship Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Category:"}),e.jsx("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:D.scholarshipCategory})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Subcategory:"}),e.jsx("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:D.scholarshipSubCategory||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Requested Amount:"}),e.jsxs("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:["",D.requestedAmount?.toLocaleString()||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Approved Amount:"}),e.jsxs("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:["",D.approvedAmount?.toLocaleString()||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Application Status:"}),e.jsx("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium capitalize",children:D.status||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Endorsement Status:"}),e.jsx("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium capitalize",children:D.endorsementStatus||"N/A"})]})]})]}),D.interview&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Interview Evaluation"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Interview Date:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:new Date(D.interview.date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Interviewer:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:D.interview.interviewer})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Evaluation Scores:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Academic Motivation:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((W,ye)=>e.jsx(Ar,{className:`w-3 h-3 ${ye<(D.interview.evaluation?.academicMotivationScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},ye)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[D.interview.evaluation?.academicMotivationScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Leadership & Involvement:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((W,ye)=>e.jsx(Ar,{className:`w-3 h-3 ${ye<(D.interview.evaluation?.leadershipInvolvementScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},ye)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[D.interview.evaluation?.leadershipInvolvementScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Financial Need:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((W,ye)=>e.jsx(Ar,{className:`w-3 h-3 ${ye<(D.interview.evaluation?.financialNeedScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},ye)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[D.interview.evaluation?.financialNeedScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Character & Values:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((W,ye)=>e.jsx(Ar,{className:`w-3 h-3 ${ye<(D.interview.evaluation?.characterValuesScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},ye)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[D.interview.evaluation?.characterValuesScore||0,"/5"]})]})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Overall Recommendation:"}),e.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${D.interview.evaluation?.overallRecommendation==="recommended"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":D.interview.evaluation?.overallRecommendation==="needs_followup"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[D.interview.evaluation?.overallRecommendation==="recommended"&&e.jsx(Le,{className:"w-4 h-4 mr-1"}),D.interview.evaluation?.overallRecommendation==="needs_followup"&&e.jsx(Wt,{className:"w-4 h-4 mr-1"}),D.interview.evaluation?.overallRecommendation==="not_recommended"&&e.jsx(wt,{className:"w-4 h-4 mr-1"}),D.interview.evaluation?.overallRecommendation==="recommended"&&"Recommended for SSC Review",D.interview.evaluation?.overallRecommendation==="needs_followup"&&"For Consideration",D.interview.evaluation?.overallRecommendation==="not_recommended"&&"Not Recommended"]})]}),D.interview.evaluation&&e.jsxs("div",{className:"mt-4 space-y-3",children:[D.interview.evaluation?.remarks&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Interview Notes:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-blue-50 dark:bg-blue-900/20 p-2 rounded",children:D.interview.evaluation.remarks})]}),D.interview.evaluation?.strengths&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Strengths:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-green-50 dark:bg-green-900/20 p-2 rounded",children:D.interview.evaluation.strengths})]}),D.interview.evaluation?.areasForImprovement&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Areas for Improvement:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded",children:D.interview.evaluation.areasForImprovement})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Additional Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Application Date:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:new Date(D.createdAt||Date.now()).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Last Updated:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:new Date(D.updatedAt||Date.now()).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Application ID:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:D.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Notes:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:D.notes||"No additional notes"})]})]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700 flex-shrink-0",children:[e.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Close"}),e.jsxs("button",{onClick:()=>{R(!1),ke(D)},className:`px-4 py-2 ${D.endorsementStatus==="conditional"?"bg-yellow-500 hover:bg-yellow-600":"bg-orange-500 hover:bg-orange-600"} text-white rounded-lg transition-colors flex items-center`,children:[e.jsx(fi,{className:"w-4 h-4 mr-2"}),"Endorse to SSC"]})]})]})}),I&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>L(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl my-4 sm:my-8",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bulk Endorse to SSC"}),e.jsx("button",{onClick:()=>L(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["You have ",S.length," application(s) selected. Choose how you want to endorse them:"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:ht,className:"w-full p-4 text-left bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg group-hover:bg-green-200 dark:group-hover:bg-green-900/50",children:e.jsx(Le,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Endorse All Ready Applications"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:'Endorse applications with "recommended" status (passed interviews)'})]})]})}),e.jsx("button",{onClick:K,className:"w-full p-4 text-left bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg hover:bg-yellow-100 dark:hover:bg-yellow-900/30 transition-colors group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg group-hover:bg-yellow-200 dark:group-hover:bg-yellow-900/50",children:e.jsx(Wt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Endorse All for Consideration"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:'Endorse applications with "needs_followup" status (for consideration)'})]})]})})]})]}),e.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:e.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"})})]})]}),M&&D&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>q(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl my-4 sm:my-8",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Reject Application"}),e.jsx("button",{onClick:()=>q(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"You are about to reject the application for:"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:D.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[D.studentId,"  ",D.schoolName]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reason for Rejection *"}),e.jsx("textarea",{value:Z,onChange:W=>G(W.target.value),placeholder:"Please provide a detailed reason for rejecting this application...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",rows:4,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"This reason will be recorded and may be shared with the applicant."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:ve,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Reject Application"]})]})]})]}),e.jsx(Kce,{isVisible:B,title:"Confirm Bulk Endorsement",message:`Are you sure you want to endorse ${S.length} selected application(s) to SSC?

This action will change the status of all selected applications to "Endorsed to SSC".`,confirmText:"Endorse to SSC",cancelText:"Cancel",type:"warning",onConfirm:ne,onCancel:pe})]})}function Xce({initialTab:t}){const[r,s]=f.useState(t||"overview");De.useEffect(()=>{t&&s(t)},[t]);const a=[{id:"overview",label:"Overview",component:d3},{id:"applications",label:"Application Review",component:Gce},{id:"interviews",label:"Interview Schedules",component:Wce},{id:"endorse",label:"Endorse to SSC",component:Jce}],n=a.find(i=>i.id===r)?.component||d3;return e.jsxs(yg,{variant:"page",children:[e.jsx(xI,{tabs:a,activeTab:r,onTabChange:s,className:"mb-6",layoutId:"activeApplicationTab",variant:"compact"}),e.jsx(gI,{activeTab:r,children:e.jsx(n,{})})]})}function Zce(){const[t,r]=f.useState(""),[s,a]=f.useState("all"),[n,i]=f.useState("categories"),[l,c]=f.useState(!1),[u,h]=f.useState(!1),[m,x]=f.useState(!1),[g,b]=f.useState(!1),[y,w]=f.useState(null),[N,_]=f.useState("grid"),{success:S,error:k}=Zt(),[v,A]=f.useState({}),E=K=>{A(ne=>({...ne,[K]:!ne[K]}))},[T,F]=f.useState([]),[R,D]=f.useState({}),[$,B]=f.useState(!0),[H,I]=f.useState(""),[L,M]=f.useState({totalApplications:0,totalRecipients:0}),q=async()=>{try{B(!0),I("");const[K,ne,pe]=await Promise.all([ot.getScholarshipCategories(),ot.getApplications({per_page:1}),ot.getAppStatsBySubcategory()]);F(Array.isArray(K)?K:[]),D(pe||{}),M(Xe=>({...Xe,totalApplications:ne.meta?.total||ne.data?.length||0}))}catch(K){console.error(K),I("Failed to load scholarship programs"),k("Failed to load scholarship programs")}finally{B(!1)}};f.useEffect(()=>{q()},[]);const{categoryItems:Z,subcategoryItems:G}=f.useMemo(()=>{const K=[],ne=[];return T.forEach(pe=>{let Xe=0;const ee=[];Array.isArray(pe.subcategories)&&pe.subcategories.forEach(he=>{const W=R[he.id]||0;Xe+=W;const ye={id:he.id,name:he.name,description:he.description||pe.description||"",type:(he.type||pe.type||"special").replace("_","-"),amount:he.amount||0,currentRecipients:W,status:he.is_active??pe.is_active?"active":"paused",deadline:new Date().toISOString(),requirements:he.requirements||pe.requirements||[],createdDate:he.created_at||pe.created_at||"",isSubcategory:!0,parentId:pe.id,parentName:pe.name,original:he};ne.push(ye),ee.push(ye)}),K.push({id:pe.id,name:pe.name,description:pe.description||"",type:(pe.type||"special").replace("_","-"),amount:0,currentRecipients:Xe,status:pe.is_active?"active":"paused",createdDate:pe.created_at||new Date().toISOString(),isSubcategory:!1,subcategoriesCount:(pe.subcategories||[]).length,subcategories:ee,original:pe})}),{categoryItems:K,subcategoryItems:ne}},[T,R]),X=(n==="categories"?Z:G).filter(K=>{const ne=K.name.toLowerCase().includes(t.toLowerCase())||K.description.toLowerCase().includes(t.toLowerCase()),pe=s==="all"||K.status===s;return ne&&pe}),z=T.filter(K=>K.is_active).length,Ie=L.totalApplications,ie=G.length>0?G.reduce((K,ne)=>K+(Number(ne.amount)||0),0)/G.length:0,Pe=G.reduce((K,ne)=>K+(ne.currentRecipients||0),0),re=K=>{switch(K){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"paused":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"closed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},Ee=K=>{switch(K){case"Merit-based":case"merit":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"Need-based":case"need-based":case"need_based":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"Field-specific":case"field_specific":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"Service-based":case"service":return"bg-teal-100 text-teal-800 dark:bg-teal-900/30 dark:text-teal-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},[ke,xe]=f.useState("none"),Q=async K=>{K.preventDefault();const ne=new FormData(K.target),pe=ne.get("parent_id"),Xe=pe&&pe!=="none";try{if(Xe){const ee={category_id:parseInt(pe),name:ne.get("name"),description:ne.get("description"),type:ne.get("type").toLowerCase().replace("-","_"),amount:parseFloat(ne.get("amount"))||0,is_active:!0};await ot.createScholarshipSubcategory(ee),S("Subcategory created successfully!")}else{const ee={name:ne.get("name"),description:ne.get("description"),type:ne.get("type").toLowerCase().replace("-","_"),is_active:!0};await ot.createScholarshipCategory(ee),S("Program created successfully!")}c(!1),q()}catch(ee){console.error(ee),k("Failed to create program: "+(ee.message||"Unknown error"))}},et=async K=>{if(K.preventDefault(),!y)return;const ne=y.isSubcategory,pe=new FormData(K.target);try{if(ne){const Xe={name:pe.get("name"),description:pe.get("description"),type:pe.get("type"),amount:parseFloat(pe.get("amount"))||0};await ot.updateScholarshipSubcategory(y.id,Xe),S("Subcategory updated successfully!")}else{const Xe={name:pe.get("name"),description:pe.get("description"),type:pe.get("type")};await ot.updateScholarshipCategory(y.id,Xe),S("Program updated successfully!")}h(!1),w(null),q()}catch(Xe){console.error(Xe),k("Failed to update program: "+(Xe.message||"Unknown error"))}},ve=async()=>{if(y)try{y.isSubcategory?(await ot.deleteScholarshipSubcategory(y.id),S("Subcategory deleted successfully!")):(await ot.deleteScholarshipCategory(y.id),S("Program deleted successfully!")),x(!1),w(null),q()}catch(K){console.error(K),k("Failed to delete program")}},Ze=K=>{w(K),h(!0)},Qe=K=>{w(K),x(!0)},ht=K=>{w(K),b(!0)};return f.useEffect(()=>{l&&xe("none")},[l]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Scholarship Programs"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage and monitor scholarship programs"})]}),e.jsxs("button",{onClick:()=>c(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center shadow-lg shadow-orange-500/30",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),"Create Program"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Categories"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:z})]}),e.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-lg",children:e.jsx(xr,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Applications"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Ie})]}),e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-lg",children:e.jsx(Ht,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Award Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["",ie.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),e.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-3 rounded-lg",children:e.jsx(H3,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Recipients"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Pe})]}),e.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/30 p-3 rounded-lg",children:e.jsx(xr,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>i("categories"),className:`
              whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors
              ${n==="categories"?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
            `,children:"Main Programs (Categories)"}),e.jsx("button",{onClick:()=>i("subcategories"),className:`
              whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors
              ${n==="subcategories"?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
            `,children:"Specific Offerings (Subcategories)"})]})}),$?e.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400 animate-pulse",children:"Loading programs..."}):H?e.jsx("div",{className:"p-4 text-sm text-red-700 bg-red-50 border border-red-200 rounded",children:H}):e.jsxs(e.Fragment,{children:[n==="categories"&&N==="grid"&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pt-6",children:X.map(K=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:K.name}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${re(K.status)}`,children:K.status})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:K.description}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${Ee(K.type)}`,children:K.type}),e.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",children:[K.currentRecipients," Recipients"]})]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>Ze(K),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:e.jsx(on,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Qe(K),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(qs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"mt-4 border-t border-gray-100 dark:border-slate-700 pt-4",children:[e.jsxs("button",{onClick:()=>E(K.id),className:"w-full flex items-center justify-between text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",children:[e.jsx("span",{children:K.subcategoriesCount>0?`${K.subcategoriesCount} Specific Offering${K.subcategoriesCount!==1?"s":""}`:"No Specific Offerings"}),K.subcategoriesCount>0&&e.jsx("span",{className:`transform transition-transform ${v[K.id]?"rotate-180":""}`,children:""})]}),v[K.id]&&K.subcategoriesCount>0&&e.jsx("div",{className:"mt-3 space-y-2 animate-in slide-in-from-top-2",children:K.subcategories.map(ne=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg flex justify-between items-center text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:ne.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["",ne.amount?ne.amount.toLocaleString():"0"]}),e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsxs("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:[ne.currentRecipients," Recipients"]})]})]}),e.jsx("span",{className:`px-2 py-0.5 text-[10px] uppercase font-bold rounded-full ${ne.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:ne.is_active?"Active":"Paused"})]},ne.id))})]})]})},K.id))}),n==="subcategories"&&N==="grid"&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pt-6",children:X.map(K=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:K.name}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${re(K.status)}`,children:K.status})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3",children:K.description}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${Ee(K.type)}`,children:K.type}),e.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300",children:["Parent: ",K.parentName]})]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>Ze(K),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",children:e.jsx(on,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Qe(K),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(qs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 bg-gray-50 dark:bg-slate-700/50 p-4 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Award"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["",K.amount.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Recipients"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:K.currentRecipients||0})]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:()=>ht(K),className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center",children:[e.jsx(Ft,{className:"w-4 h-4 mr-2"})," Details"]})})]})},K.id))}),N==="list"&&e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden mt-6",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700/50 text-gray-600 dark:text-gray-400 text-xs uppercase tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 font-medium",children:"Program Name"}),e.jsx("th",{className:"p-4 font-medium",children:"Type"}),e.jsx("th",{className:"p-4 font-medium",children:"Amount"}),e.jsx("th",{className:"p-4 font-medium",children:"Recipients"}),e.jsx("th",{className:"p-4 font-medium",children:"Status"}),e.jsx("th",{className:"p-4 font-medium text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:X.map(K=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/30 transition-colors",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:K.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs",children:K.description})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${Ee(K.type)}`,children:K.type})}),e.jsx("td",{className:"p-4 text-gray-900 dark:text-white font-medium",children:K.amount>0?`${K.amount.toLocaleString()}`:"-"}),e.jsx("td",{className:"p-4 text-gray-900 dark:text-white font-medium",children:K.currentRecipients}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${re(K.status)}`,children:K.status})}),e.jsx("td",{className:"p-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>ht(K),className:"p-2 text-gray-400 hover:text-orange-500 transition-colors",title:"View",children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ze(K),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",title:"Edit",children:e.jsx(on,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Qe(K),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Delete",children:e.jsx(qs,{className:"w-4 h-4"})})]})})]},K.id))})]})})]}),l&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-gray-100 dark:border-slate-700 animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Create New Scholarship Program"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",type:"button",children:""})]}),e.jsxs("form",{onSubmit:Q,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Parent Category"}),e.jsxs("select",{name:"parent_id",value:ke,onChange:K=>xe(K.target.value),className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all font-medium",children:[e.jsx("option",{value:"none",children:"None (Create Top-Level Category)"}),e.jsx("option",{disabled:!0,children:""}),Z.map(K=>e.jsx("option",{value:K.id,children:K.name},K.id))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a parent to create a specific offering (subcategory), or 'None' to create a new main program type."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Program Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"name",type:"text",required:!0,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all",placeholder:"e.g., Academic Merit Scholarship"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",rows:3,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all resize-none",placeholder:"Brief description of the scholarship program..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Program Type"}),e.jsxs("select",{name:"type",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all",children:[e.jsx("option",{value:"merit",children:"Merit-based"}),e.jsx("option",{value:"need_based",children:"Need-based"}),e.jsx("option",{value:"field_specific",children:"Field-specific"}),e.jsx("option",{value:"service",children:"Service-based"}),e.jsx("option",{value:"special",children:"Special"}),e.jsx("option",{value:"renewal",children:"Renewal"})]})]}),ke!=="none"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Award Amount ()"}),e.jsx("input",{name:"amount",type:"number",min:"0",step:"0.01",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-100 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-6 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium shadow-md shadow-orange-500/20 transition-all transform hover:-translate-y-0.5",children:"Create Program"})]})]})]})}),u&&y&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-gray-100 dark:border-slate-700 animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Edit Scholarship Program"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",type:"button",children:""})]}),e.jsxs("form",{onSubmit:et,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Parent Category"}),e.jsxs("select",{name:"parent_id",className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-500 focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all font-medium disabled:opacity-50",defaultValue:y.parentId||"none",disabled:!0,children:[e.jsx("option",{value:"none",children:"None (Top-Level Category)"}),e.jsx("option",{disabled:!0,children:""}),Z.map(K=>e.jsx("option",{value:K.id,children:K.name},K.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Program Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"name",type:"text",defaultValue:y.name,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",rows:3,defaultValue:y.description,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Program Type"}),e.jsxs("select",{name:"type",defaultValue:y.type==="Merit-based"?"merit":y.type==="Need-based"?"need_based":y.type,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all",children:[e.jsx("option",{value:"merit",children:"Merit-based"}),e.jsx("option",{value:"need_based",children:"Need-based"}),e.jsx("option",{value:"field_specific",children:"Field-specific"}),e.jsx("option",{value:"service",children:"Service-based"})]})]}),y.isSubcategory&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Award Amount ()"}),e.jsx("input",{name:"amount",type:"number",min:"0",step:"0.01",defaultValue:y.amount,className:"w-full px-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-100 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-6 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium shadow-md shadow-orange-500/20 transition-all transform hover:-translate-y-0.5",children:"Save Changes"})]})]})]})}),g&&y&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-gray-100 dark:border-slate-700",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-800",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Program Details"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:""})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[y.name,e.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs font-medium rounded-full ${re(y.status)}`,children:y.status})]}),y.isSubcategory&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Under Category: ",y.parentName]})]}),e.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-medium rounded-full ${Ee(y.type)}`,children:y.type})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-slate-700/50 p-4 rounded-lg text-gray-700 dark:text-gray-300 text-sm leading-relaxed",children:y.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-100 dark:border-slate-700 p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Amount"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white mt-1",children:y.amount>0?`${y.amount.toLocaleString()}`:"N/A"})]}),e.jsxs("div",{className:"border border-gray-100 dark:border-slate-700 p-4 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Active Recipients"}),e.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white mt-1",children:y.currentRecipients})]})]})]}),e.jsx("div",{className:"p-6 bg-gray-50/50 dark:bg-slate-800 border-t border-gray-100 dark:border-slate-700 flex justify-end",children:e.jsx("button",{onClick:()=>b(!1),className:"px-6 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-lg font-medium hover:bg-gray-800 dark:hover:bg-gray-100 transition-colors",children:"Close"})})]})}),m&&y&&e.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-100 dark:border-slate-700",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(qs,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Delete Program?"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:y.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex space-x-3 justify-center",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-6 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{onClick:ve,className:"px-6 py-2.5 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium shadow-md shadow-red-600/20 transition-all transform hover:-translate-y-0.5",children:"Delete Program"})]})]})})})]})}const u3={city_council:["overview","my-queue","document-verification"],hrd:["overview","my-queue","document-verification"],social_services:["overview","my-queue","document-verification"],budget_dept:["overview","my-queue","financial-review"],accounting:["overview","my-queue","financial-review"],treasurer:["overview","my-queue","financial-review"],education_affairs:["overview","my-queue","academic-review"],qcydo:["overview","my-queue","academic-review"],planning_dept:["overview","my-queue","academic-review"],schools_division:["overview","my-queue","academic-review"],qcu:["overview","my-queue","academic-review"],chairperson:["overview","my-queue","final-approval","history"]},m3={document_verification:"document-verification",financial_review:"financial-review",academic_review:"academic-review",final_approval:"final-approval"};class Qce{roleData=null;cacheKey="ssc_role_data";cacheExpiry=1800*1e3;async fetchUserRoles(r=!1){if(!r&&this.roleData)return this.roleData;if(!r){const s=this.getCachedRoles();if(s)return this.roleData=s,s}r&&this.clearCache();try{const s=await ot.getUserSscRoles();return console.log("SSC Role Service - API Response:",s),this.roleData=s,this.cacheRoles(s),s}catch(s){return console.error("Failed to fetch SSC roles:",s),{has_ssc_role:!1,roles:[],stages:[],is_chairperson:!1,permissions:[],role_labels:[],stage_labels:[],assignments:[]}}}getCachedRoles(){try{const r=sessionStorage.getItem(this.cacheKey);if(!r)return null;const{data:s,timestamp:a}=JSON.parse(r);return Date.now()-a>this.cacheExpiry?(sessionStorage.removeItem(this.cacheKey),null):s}catch(r){return console.error("Error reading cached SSC roles:",r),null}}cacheRoles(r){try{const s={data:r,timestamp:Date.now()};sessionStorage.setItem(this.cacheKey,JSON.stringify(s))}catch(s){console.error("Error caching SSC roles:",s)}}clearCache(){this.roleData=null,sessionStorage.removeItem(this.cacheKey)}async hasRole(){return(await this.fetchUserRoles()).has_ssc_role}async isChairperson(){return(await this.fetchUserRoles()).is_chairperson}async getAllowedTabs(){const r=await this.fetchUserRoles();if(!r.has_ssc_role)return[];if(r.is_chairperson)return[...u3.chairperson];const s=new Set;return r.roles.forEach(a=>{(u3[a]||[]).forEach(i=>s.add(i))}),Array.from(s)}async canAccessTab(r){return(await this.getAllowedTabs()).includes(r)}async getReviewStages(){return(await this.fetchUserRoles()).stages}async canReviewStage(r){return(await this.fetchUserRoles()).stages.includes(r)}async getRoles(){return(await this.fetchUserRoles()).roles}async getPermissions(){return(await this.fetchUserRoles()).permissions}async getAssignments(){return(await this.fetchUserRoles()).assignments}async getPrimaryStage(){const r=await this.getReviewStages();return r.length>0?r[0]:null}async getPrimaryTab(){const r=await this.fetchUserRoles();if(!r.has_ssc_role||r.is_chairperson)return"overview";const s=await this.getPrimaryStage();return s&&m3[s]?m3[s]:"my-queue"}}const mh=new Qce;function ede(){const[t,r]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(null);f.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0);const h=await ot.getApplications({status:"endorsed_to_ssc",per_page:10,sort_by:"submitted_at",sort_order:"desc"});r(h.data||[])}catch(h){console.error("Error fetching applications for checklist:",h),i("Failed to load application checklist")}finally{a(!1)}},c=(h,m)=>{if(!h.ssc_stage_status)return"pending";let x=h.ssc_stage_status;if(typeof x=="string")try{x=JSON.parse(x)}catch(b){return console.error("Error parsing ssc_stage_status:",b),"pending"}const g=x[m];return g&&g.status||"pending"},u=h=>h==="approved"||h==="passed"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Le,{className:"w-3 h-3 mr-1"}),"Passed"]}):h==="rejected"||h==="failed"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Failed"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[e.jsx(Nt,{className:"w-3 h-3 mr-1"}),"Pending"]});return s?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading checklist..."}):n?e.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 mt-6",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(pc,{className:"h-5 w-5 mr-2 text-blue-600"}),"Application Processing Checklist"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Track completion of review stages for active applications"})]}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Applicant"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Document Verification"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Financial Review"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Academic Review"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Final Decision"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-gray-500",children:"No applications currently in SSC review pipeline."})}):t.map(h=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"ml-0",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[h.student?.first_name," ",h.student?.last_name]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:h.application_number})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("div",{className:"flex justify-center",children:u(c(h,"document_verification"))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("div",{className:"flex justify-center",children:u(c(h,"financial_review"))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("div",{className:"flex justify-center",children:u(c(h,"academic_review"))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsx("div",{className:"flex justify-center",children:h.status==="approved"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Le,{className:"w-3 h-3 mr-1"}),"Approved"]}):h.status==="rejected"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Rejected"]}):u(c(h,"final_approval"))})})]},h.id))})]})})]})}function h3(){const[t,r]=f.useState({totalApplications:0,pendingReview:0,approved:0,rejected:0,underAppeal:0,totalMembers:0,activeMembers:0,averageProcessingTime:0,thisMonthDecisions:0,pendingAppeals:0}),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,c]=f.useState(""),[u,h]=f.useState(null),[m,x]=f.useState(0),[g,b]=f.useState(!1);f.useEffect(()=>{(async()=>{try{i(!0),c("");try{const $=localStorage.getItem("user_data");if($){const B=JSON.parse($);console.log("SSCOverview - User Data:",B),(B.role==="admin"||B.role==="super_admin"||B.is_admin)&&b(!0)}}catch($){console.error("Error parsing user data:",$)}const k=await mh.fetchUserRoles();h(k);const{scholarshipApiService:v}=await Cr(async()=>{const{scholarshipApiService:$}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:$}},void 0),E=(await v.getSscStatistics()).data||{};if(k.has_ssc_role)try{const $=await v.getMySscApplications({per_page:1});x($.total||0)}catch($){console.error("Error fetching my queue count:",$)}const[T,F,R,D]=await Promise.all([v.getSscApplicationsByStage("document_verification",{per_page:1}),v.getSscApplicationsByStage("financial_review",{per_page:1}),v.getSscApplicationsByStage("academic_review",{per_page:1}),v.getSscApplicationsByStage("final_approval",{per_page:1})]);r({totalApplications:E.totalApplications||0,pendingReview:E.pendingReview||0,approved:E.approved||0,rejected:E.rejected||0,underAppeal:0,totalMembers:12,activeMembers:10,averageProcessingTime:E.averageProcessingTime||0,thisMonthDecisions:E.thisMonthDecisions||0,pendingAppeals:0,documentVerification:T.total||0,financialReview:F.total||0,academicReview:R.total||0,finalApproval:D.total||0});try{const B=((await v.getSscDecisionHistory({per_page:5,sort_by:"decided_at",sort_order:"desc"})).data||[]).map((H,I)=>({id:I+1,type:H.decision==="approved"?"approval":"rejection",applicationId:H.application?.application_number||`APP-${H.application_id}`,studentName:`${H.application?.student?.first_name||""} ${H.application?.student?.last_name||""}`.trim(),member:"SSC Committee",timestamp:H.decided_at,status:H.decision}));a(B)}catch($){console.error("Error loading recent activities:",$),a([])}}catch(k){c("Failed to load SSC data"),console.error("Error loading SSC data:",k)}finally{i(!1)}})()},[]);const w=(()=>{const S=[];return u&&!u.is_chairperson&&u.has_ssc_role&&S.push({title:"My Queue",value:m,icon:xr,color:"orange",change:"Assigned to you",changeType:"neutral"}),u&&u.stages&&(u.stages.includes("document_verification")&&S.push({title:"Document Verification",value:t.documentVerification,icon:pl,color:"blue",change:"Pending verification",changeType:"neutral"}),u.stages.includes("financial_review")&&S.push({title:"Financial Review",value:t.financialReview,icon:cr,color:"yellow",change:"Pending review",changeType:"neutral"}),u.stages.includes("academic_review")&&S.push({title:"Academic Review",value:t.academicReview,icon:da,color:"purple",change:"Pending review",changeType:"neutral"}),(u.stages.includes("final_approval")||u.is_chairperson)&&S.push({title:"Final Approval",value:t.finalApproval,icon:Le,color:"green",change:"Awaiting decision",changeType:"neutral"})),u&&u.is_chairperson||g?[{title:"Total Applications",value:t.totalApplications,icon:ut,color:"blue",change:"In SSC process",changeType:"neutral"},{title:"Pending Review",value:t.pendingReview,icon:Nt,color:"yellow",change:"Across all stages",changeType:"neutral"},{title:"Approved",value:t.approved,icon:Le,color:"green",change:"Total approved",changeType:"positive"},{title:"Rejected",value:t.rejected,icon:jt,color:"red",change:"Total rejected",changeType:"neutral"},{title:"This Month Decisions",value:t.thisMonthDecisions,icon:zt,color:"purple",change:`${t.thisMonthDecisions} decisions`,changeType:"neutral"},{title:"Active Members",value:`${t.activeMembers}/${t.totalMembers}`,icon:Ht,color:"purple",change:"SSC members",changeType:"neutral"}]:S})(),N=S=>{const k={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",yellow:"bg-yellow-50 text-yellow-600 border-yellow-200",red:"bg-red-50 text-red-600 border-red-200",orange:"bg-orange-50 text-orange-600 border-orange-200",purple:"bg-purple-50 text-purple-600 border-purple-200"};return k[S]||k.blue},_=S=>{const k={positive:"text-green-600",negative:"text-red-600",neutral:"text-gray-600"};return k[S]||k.neutral};return n?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[...Array(6)].map((S,k)=>e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]},k))})]})}):l?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Wt,{className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("p",{className:"text-red-800",children:l})]})})}):e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"SSC Dashboard"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Student Services Committee - Application Review & Decision Management"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:w.map((S,k)=>{const v=S.icon;return e.jsx("div",{className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 mb-1",children:S.title}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:S.value}),e.jsxs("p",{className:`text-xs sm:text-sm ${_(S.changeType)}`,children:[S.change," from last month"]})]}),e.jsx("div",{className:`p-2 sm:p-3 rounded-full ${N(S.color)}`,children:e.jsx(v,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})},k)})}),g&&e.jsx("div",{className:"mb-8",children:e.jsx(ede,{})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4 sm:p-6 mb-6 sm:mb-8",children:[e.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-white mb-4",children:"SSC Review Pipeline"}),e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-lg sm:text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.documentVerification})}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Document"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Verification"})]}),e.jsx("div",{className:"flex-1 h-1 bg-gray-200 dark:bg-gray-700 mx-2 sm:mx-4 relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-yellow-500 rounded-full"})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-yellow-100 dark:bg-yellow-900 rounded-full flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-lg sm:text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:t.financialReview})}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Financial"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Review"})]}),e.jsx("div",{className:"flex-1 h-1 bg-gray-200 dark:bg-gray-700 mx-2 sm:mx-4 relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500 to-purple-500 rounded-full"})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-lg sm:text-2xl font-bold text-purple-600 dark:text-purple-400",children:t.academicReview})}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Academic"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Review"})]}),e.jsx("div",{className:"flex-1 h-1 bg-gray-200 dark:bg-gray-700 mx-2 sm:mx-4 relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500 to-green-500 rounded-full"})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-lg sm:text-2xl font-bold text-green-600 dark:text-green-400",children:t.finalApproval})}),e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 dark:text-white",children:"Final"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Approval"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 sm:p-6 rounded-lg border border-gray-200 dark:border-slate-700 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white",children:"Pending Applications"}),e.jsxs("span",{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400 text-xs sm:text-sm font-medium px-2 sm:px-2.5 py-0.5 rounded-full",children:[t.pendingReview," pending"]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Applications awaiting SSC review and decision"}),e.jsx("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-md transition-colors shadow-sm",children:"Review Applications"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-gray-200 dark:border-slate-700 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Avg. Processing Time"}),e.jsxs("span",{className:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 text-sm font-medium px-2.5 py-0.5 rounded-full",children:[t.averageProcessingTime," days"]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Average time from endorsement to decision"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.averageProcessingTime}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"days"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activities"})}),e.jsx("div",{className:"p-6",children:s.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No recent activities"}):e.jsx("div",{className:"space-y-4",children:s.map(S=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-slate-700 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-shrink-0",children:[S.type==="approval"&&e.jsx(Le,{className:"h-5 w-5 text-green-500"}),S.type==="rejection"&&e.jsx(jt,{className:"h-5 w-5 text-red-500"}),S.type==="review"&&e.jsx(Nt,{className:"h-5 w-5 text-yellow-500"})]}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[S.type==="approval"&&"Application approved",S.type==="rejection"&&"Application rejected",S.type==="review"&&"Application under review"]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[S.studentName,"  ",S.applicationId]})]})]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(S.timestamp).toLocaleDateString()})]},S.id))})})]})]})}function tde(){const[t,r]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(""),[l,c]=f.useState(""),[u,h]=f.useState("updated_at"),[m,x]=f.useState("desc"),[g,b]=f.useState("grid"),[y,w]=f.useState([]),[N,_]=f.useState({current_page:1,per_page:15,total:0,last_page:1}),{showToast:S}=Zt(),k=async(D=1)=>{try{a(!0),i("");const{scholarshipApiService:$}=await Cr(async()=>{const{scholarshipApiService:H}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:H}},void 0),B=await $.getMySscApplications({search:l||void 0,sort_by:u,sort_order:m,per_page:N.per_page,page:D});r(B.data||[]),_({current_page:B.current_page||1,per_page:B.per_page||15,total:B.total||0,last_page:B.last_page||1})}catch($){i("Failed to load your assigned applications"),console.error("Error fetching my applications:",$)}finally{a(!1)}};f.useEffect(()=>{k()},[l,u,m]);const v=D=>{D.preventDefault(),k()},A=D=>{w($=>$.includes(D)?$.filter(B=>B!==D):[...$,D])},E=D=>{const B={ssc_document_verification:{label:"Document Verification",color:"bg-blue-100 text-blue-800"},ssc_financial_review:{label:"Financial Review",color:"bg-yellow-100 text-yellow-800"},ssc_academic_review:{label:"Academic Review",color:"bg-purple-100 text-purple-800"},ssc_final_approval:{label:"Final Approval",color:"bg-green-100 text-green-800"}}[D];return B?e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${B.color}`,children:B.label}):null},T=D=>{const $=[{key:"ssc_document_verification",label:"Documents"},{key:"ssc_financial_review",label:"Financial"},{key:"ssc_academic_review",label:"Academic"},{key:"ssc_final_approval",label:"Final"}],B=$.findIndex(H=>H.key===D.status);return e.jsxs("div",{className:"flex items-center space-x-2",children:[$.map((H,I)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${I<=B?"bg-orange-500":"bg-gray-200"}`}),I<$.length-1&&e.jsx("div",{className:`w-8 h-0.5 ${I<B?"bg-orange-500":"bg-gray-200"}`})]},H.key)),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:$[B]?.label||"Unknown"})]})},F=D=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(D||0),R=D=>new Date(D).toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading your assigned applications..."})]}):n?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:n})}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:()=>k(),className:"bg-red-100 px-3 py-2 rounded-md text-sm font-medium text-red-800 hover:bg-red-200",children:"Try Again"})})]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"My Assigned Applications"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Applications assigned to your role for review"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[N.total," applications"]})})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("form",{onSubmit:v,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search applications...",value:l,onChange:D=>c(D.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md leading-5 bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("select",{value:`${u}-${m}`,onChange:D=>{const[$,B]=D.target.value.split("-");h($),x(B)},className:"block px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"updated_at-desc",children:"Latest Updated"}),e.jsx("option",{value:"updated_at-asc",children:"Oldest Updated"}),e.jsx("option",{value:"created_at-desc",children:"Newest First"}),e.jsx("option",{value:"created_at-asc",children:"Oldest First"}),e.jsx("option",{value:"requested_amount-desc",children:"Highest Amount"}),e.jsx("option",{value:"requested_amount-asc",children:"Lowest Amount"})]})}),e.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-slate-600 rounded-md",children:[e.jsx("button",{onClick:()=>b("grid"),className:`p-2 ${g==="grid"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400"}`,children:e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),e.jsx("button",{onClick:()=>b("list"),className:`p-2 ${g==="list"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400"}`,children:e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})})]})]})}),t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No applications assigned"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"You don't have any applications assigned to your role at this time."})]}):e.jsx("div",{className:"space-y-4",children:t.map(D=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("input",{type:"checkbox",checked:y.includes(D.id),onChange:()=>A(D.id),className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[E(D.status),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:D.application_number})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:[D.student?.first_name," ",D.student?.last_name]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:D.student?.student_id_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"School"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:D.school?.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Requested Amount"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:F(D.requested_amount)})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Progress"}),T(D)]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:["Updated: ",R(D.updated_at)]}),e.jsxs("span",{children:["Category: ",D.category?.name]})]})]}),e.jsxs("div",{className:"ml-6 flex flex-col space-y-2",children:[e.jsx("button",{className:"px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500",children:"Review"}),e.jsx("button",{className:"px-4 py-2 bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 text-sm font-medium rounded-md hover:bg-gray-200 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"View Details"})]})]})},D.id))}),N.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",(N.current_page-1)*N.per_page+1," to"," ",Math.min(N.current_page*N.per_page,N.total)," of"," ",N.total," results"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>k(N.current_page-1),disabled:N.current_page===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:["Page ",N.current_page," of ",N.last_page]}),e.jsx("button",{onClick:()=>k(N.current_page+1),disabled:N.current_page===N.last_page,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}function rde(){const{success:t,error:r}=Zt(),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,c]=f.useState(""),[u,h]=f.useState(""),[m,x]=f.useState({status:"all",category:"all",school:"all"}),[g,b]=f.useState("grid"),[y,w]=f.useState("updated_at"),[N,_]=f.useState("desc"),[S,k]=f.useState([]),[v,A]=f.useState(!1),[E,T]=f.useState(!1),[F,R]=f.useState(!1),[D,$]=f.useState(!1),[B,H]=f.useState(!1),[I,L]=f.useState(!1),[M,q]=f.useState(null),[Z,G]=f.useState(""),[de,X]=f.useState(""),[z,Ie]=f.useState(""),[ie,Pe]=f.useState(""),[re,Ee]=f.useState("");f.useEffect(()=>{ke()},[]);const ke=async()=>{try{i(!0),c("");const V=(await ot.getSscPendingApplications({per_page:100,sort_by:y,sort_order:N})).data.map(te=>{const Ne=te.student,Se=te.school,at=te.category,pt=te.subcategory,se=te.interview_schedule,He=se?.interview_evaluation;return{id:te.id,applicationNumber:te.application_number,name:`${Ne?.first_name||""} ${Ne?.last_name||""}`.trim(),studentId:Ne?.student_id_number||`APP-${te.id}`,email:Ne?.email_address||"",phone:Ne?.contact_number||"",schoolName:Se?.name||"Unknown School",schoolType:Se?.classification||"Unknown",educationalLevel:Ne?.academic_records?.[0]?.educational_level||"Tertiary",yearLevel:Ne?.academic_records?.[0]?.year_level||"Unknown",course:Ne?.academic_records?.[0]?.program||"Unknown Program",gwa:Ne?.academic_records?.[0]?.general_weighted_average?.toString()||"N/A",scholarshipCategory:at?.name||"Unknown Category",scholarshipSubCategory:pt?.name||"Unknown Subcategory",requestedAmount:te.requested_amount||0,approvedAmount:te.approved_amount||te.requested_amount||0,endorsedDate:te.updated_at,submittedDate:te.submitted_at||te.created_at,financialNeed:te.financial_need_description||"",interview:se?{id:se.id,date:se.interview_date,time:se.interview_time,interviewer:se.interviewer_name||"Unknown",result:se.interview_result,notes:se.interview_notes,evaluation:He?{academicMotivationScore:He.academic_motivation_score||0,leadershipInvolvementScore:He.leadership_involvement_score||0,financialNeedScore:He.financial_need_score||0,characterValuesScore:He.character_values_score||0,overallRecommendation:He.overall_recommendation||"not_recommended",remarks:He.remarks||"",strengths:He.strengths||"",areasForImprovement:He.areas_for_improvement||"",additionalNotes:He.additional_notes||""}:null}:null}});a(V)}catch(P){console.error("Error fetching SSC pending applications:",P),c("Failed to load applications ready for SSC review"),a([])}finally{i(!1)}},Q=[...s.filter(P=>{const V=P.name.toLowerCase().includes(u.toLowerCase())||P.studentId.toLowerCase().includes(u.toLowerCase())||P.schoolName.toLowerCase().includes(u.toLowerCase())||P.scholarshipCategory.toLowerCase().includes(u.toLowerCase()),te=m.category==="all"||P.scholarshipCategory===m.category,Ne=m.school==="all"||P.schoolType===m.school;return V&&te&&Ne})].sort((P,V)=>{let te,Ne;switch(y){case"name":te=P.name.toLowerCase(),Ne=V.name.toLowerCase();break;case"gwa":te=parseFloat(P.gwa)||0,Ne=parseFloat(V.gwa)||0;break;case"requestedAmount":te=P.requestedAmount,Ne=V.requestedAmount;break;case"updated_at":default:te=new Date(P.endorsedDate),Ne=new Date(V.endorsedDate);break}return N==="asc"?te>Ne?1:-1:te<Ne?1:-1}),et=({application:P})=>e.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 hover:shadow-md transition-all duration-200 ${g==="list"?"rounded-lg":"rounded-xl"}`,children:e.jsxs("div",{className:g==="list"?"p-4":"p-6",children:[e.jsx("div",{className:`flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 ${g==="list"?"mb-3":"mb-4"}`,children:e.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx("input",{type:"checkbox",checked:S.includes(P.id),onChange:()=>ve(P.id),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"})}),e.jsx("div",{className:`flex-shrink-0 ${g==="list"?"h-8 w-8":"h-12 w-12"}`,children:e.jsx("div",{className:`${g==="list"?"h-8 w-8":"h-12 w-12"} rounded-full bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/30 dark:to-orange-800/30 flex items-center justify-center`,children:e.jsx(xr,{className:`${g==="list"?"h-4 w-4":"h-6 w-6"} text-orange-600 dark:text-orange-400`})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:`${g==="list"?"text-base font-semibold":"text-lg font-semibold"} text-gray-900 dark:text-white truncate`,children:P.name}),e.jsx("p",{className:`${g==="list"?"text-xs":"text-sm"} text-gray-500 dark:text-gray-400 truncate`,children:P.studentId})]})]})}),e.jsxs("div",{className:g==="list"?"space-y-2":"space-y-4",children:[e.jsxs("div",{className:`flex items-center space-x-2 ${g==="list"?"text-xs":"text-sm"} text-gray-600 dark:text-gray-400`,children:[e.jsx(Ls,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} flex-shrink-0`}),e.jsx("span",{className:"truncate",children:P.schoolName})]}),e.jsxs("div",{className:`grid gap-3 ${g==="list"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4":"grid-cols-1 sm:grid-cols-2"}`,children:[e.jsxs("div",{className:`flex items-center space-x-2 ${g==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(gs,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"GWA:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:P.gwa})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${g==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(Rs,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Level:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:P.educationalLevel})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${g==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(xr,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Category:"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:P.scholarshipCategory})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${g==="list"?"text-xs":"text-sm"} min-w-0`,children:[e.jsx(cr,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} text-gray-400 flex-shrink-0`}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 flex-shrink-0",children:"Amount:"}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:["",P.requestedAmount.toLocaleString()]})]})]}),P.interview&&P.interview.evaluation&&e.jsxs("div",{className:`${g==="list"?"space-y-2":"space-y-3"}`,children:[e.jsxs("div",{className:`bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 ${g==="list"?"p-2":"p-3"}`,children:[e.jsxs("div",{className:`flex items-center space-x-2 mb-2 ${g==="list"?"text-xs":"text-sm"}`,children:[e.jsx(mw,{className:`${g==="list"?"w-3 h-3":"w-4 h-4"} text-blue-600`}),e.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Interview Evaluation"})]}),e.jsxs("div",{className:`grid ${g==="list"?"grid-cols-1 gap-1":"grid-cols-1 gap-2"} ${g==="list"?"text-xs":"text-sm"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Academic:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((V,te)=>e.jsx(Ar,{className:`w-3 h-3 ${te<(P.interview.evaluation.academicMotivationScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},te)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[P.interview.evaluation.academicMotivationScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Leadership:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((V,te)=>e.jsx(Ar,{className:`w-3 h-3 ${te<(P.interview.evaluation.leadershipInvolvementScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},te)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[P.interview.evaluation.leadershipInvolvementScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Financial:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((V,te)=>e.jsx(Ar,{className:`w-3 h-3 ${te<(P.interview.evaluation.financialNeedScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},te)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[P.interview.evaluation.financialNeedScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300 flex-shrink-0 w-20",children:"Character:"}),e.jsxs("div",{className:"flex items-center space-x-0.5 flex-shrink-0",children:[[...Array(5)].map((V,te)=>e.jsx(Ar,{className:`w-3 h-3 ${te<(P.interview.evaluation.characterValuesScore||0)?"text-yellow-400 fill-current":"text-gray-300"}`},te)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium text-xs",children:[P.interview.evaluation.characterValuesScore||0,"/5"]})]})]})]})]}),e.jsxs("div",{className:`flex items-center space-x-2 ${g==="list"?"text-xs":"text-sm"}`,children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recommendation:"}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P.interview.evaluation.overallRecommendation==="recommended"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":P.interview.evaluation.overallRecommendation==="needs_followup"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[P.interview.evaluation.overallRecommendation==="recommended"&&" Recommended",P.interview.evaluation.overallRecommendation==="needs_followup"&&" Conditional",P.interview.evaluation.overallRecommendation==="not_recommended"&&" Not Recommended"]})]})]})]}),e.jsx("div",{className:`${g==="list"?"mt-3 pt-3":"mt-6 pt-4"} border-t border-gray-200 dark:border-slate-700`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>ht(P),className:`flex items-center space-x-2 ${g==="list"?"px-4 py-2 text-sm font-semibold":"px-3 py-1.5 text-sm"} bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:"Approve"})]}),e.jsxs("button",{onClick:()=>K(P),className:`flex items-center space-x-2 ${g==="list"?"px-4 py-2 text-sm font-semibold":"px-3 py-1.5 text-sm"} bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md flex-shrink-0`,children:[e.jsx(jt,{className:"w-4 h-4"}),e.jsx("span",{children:"Reject"})]})]}),e.jsx("div",{className:"flex items-center space-x-2 flex-shrink-0",children:e.jsx("button",{onClick:()=>Qe(P),className:`${g==="list"?"p-2":"p-1.5"} bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors shadow-sm hover:shadow-md`,title:"View Details",children:e.jsx(Ft,{className:`${g==="list"?"w-5 h-5":"w-4 h-4"}`})})})]})})]})}),ve=P=>{k(V=>V.includes(P)?V.filter(te=>te!==P):[...V,P])},Ze=()=>{S.length===Q.length?k([]):k(Q.map(P=>P.id))},Qe=P=>{q(P),T(!0)},ht=P=>{q(P),G(P.requestedAmount.toString()),X(""),R(!0)},K=P=>{q(P),Ie(""),$(!0)},ne=async()=>{if(M){if(!Z||parseFloat(Z)<=0){r("Please enter a valid approved amount.","Invalid Amount");return}try{await ot.sscApproveApplication(M.id,parseFloat(Z),de),a(P=>P.filter(V=>V.id!==M.id)),R(!1),t("Application approved successfully!","Approval Successful")}catch(P){console.error("Approval failed:",P),r("Failed to approve application. Please try again.","Approval Failed")}}},pe=async()=>{if(!M||!z.trim()){r("Please provide a reason for rejection.","Rejection Reason Required");return}try{await ot.sscRejectApplication(M.id,z.trim()),a(P=>P.filter(V=>V.id!==M.id)),$(!1),Ie(""),t("Application rejected successfully.","Rejection Successful")}catch(P){console.error("Rejection failed:",P),r("Failed to reject application. Please try again.","Rejection Failed")}},Xe=async()=>{if(S.length!==0)try{const P=await ot.sscBulkApprove(S,ie);a(V=>V.filter(te=>!S.includes(te.id))),k([]),H(!1),Pe(""),t(`Successfully approved ${P.approved_count} application(s)!`,"Bulk Approval Successful")}catch(P){console.error("Bulk approval failed:",P),r("Failed to bulk approve applications. Please try again.","Bulk Approval Failed")}},ee=async()=>{if(S.length!==0){if(!re.trim()){r("Please provide a reason for bulk rejection.","Rejection Reason Required");return}try{const P=await ot.sscBulkReject(S,re.trim());a(V=>V.filter(te=>!S.includes(te.id))),k([]),L(!1),Ee(""),t(`Successfully rejected ${P.rejected_count} application(s)!`,"Bulk Rejection Successful")}catch(P){console.error("Bulk rejection failed:",P),r("Failed to bulk reject applications. Please try again.","Bulk Rejection Failed")}}},he=(P,V)=>{x(te=>({...te,[P]:V}))},W=()=>{x({status:"all",category:"all",school:"all"}),h("")},ye=()=>Object.values(m).some(P=>P!=="all")||u;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:e.jsxs("div",{className:"relative flex-1 min-w-64",children:[e.jsx(Zr,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search applications...",value:u,onChange:P=>h(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>A(!v),className:`flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ${v?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[e.jsx(Fa,{className:"w-4 h-4"}),e.jsx("span",{children:"Advanced"})]}),e.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-slate-600 rounded-lg",children:[e.jsx("button",{onClick:()=>b("grid"),className:`p-2 ${g==="grid"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-l-lg transition-colors`,children:e.jsx(No,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b("list"),className:`p-2 ${g==="list"?"bg-orange-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-slate-700"} rounded-r-lg transition-colors`,children:e.jsx(ko,{className:"w-4 h-4"})})]}),e.jsxs("select",{value:y,onChange:P=>w(P.target.value),className:"px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"updated_at",children:"Sort by Date"}),e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"gwa",children:"Sort by GWA"}),e.jsx("option",{value:"requestedAmount",children:"Sort by Amount"})]}),e.jsx("button",{onClick:()=>_(N==="asc"?"desc":"asc"),className:"p-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",children:N==="asc"?e.jsx(kx,{className:"w-4 h-4"}):e.jsx(jx,{className:"w-4 h-4"})})]})]}),v&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs("select",{value:m.category,onChange:P=>he("category",P.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"Academic Excellence",children:"Academic Excellence"}),e.jsx("option",{value:"Financial Need",children:"Financial Need"}),e.jsx("option",{value:"Special Programs",children:"Special Programs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"School Type"}),e.jsxs("select",{value:m.school,onChange:P=>he("school",P.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Schools"}),e.jsx("option",{value:"State University",children:"State University"}),e.jsx("option",{value:"Private University",children:"Private University"}),e.jsx("option",{value:"College",children:"College"})]})]})]})}),ye()&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:['Search: "',u,'"',e.jsx("button",{onClick:()=>h(""),className:"ml-1 hover:text-purple-600 dark:hover:text-purple-200",children:e.jsx(wt,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:W,className:"text-sm text-gray-600 dark:text-gray-300 underline hover:text-gray-800 dark:hover:text-gray-100",children:"Clear all filters"})]}),S.length>0&&e.jsx("div",{className:"mt-4 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-orange-800 dark:text-orange-200",children:[S.length," application(s) selected"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>H(!0),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Bulk Approve"}),e.jsx("button",{onClick:()=>L(!0),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors",children:"Bulk Reject"})]})]})})]}),n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ot,{className:"w-8 h-8 text-gray-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading applications..."})]})}):l?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6 text-center",children:[e.jsx(Wt,{className:"w-8 h-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:l})]}):Q.length===0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-12 text-center",children:[e.jsx(xr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No applications found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No applications are pending SSC review at this time."})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[Q.length," Application",Q.length!==1?"s":""]}),e.jsx("button",{onClick:Ze,className:"text-sm text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 font-medium",children:S.length===Q.length?"Deselect All":"Select All"})]}),e.jsx("div",{className:g==="grid"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-3",children:Q.map(P=>e.jsx(et,{application:P},P.id))})]}),F&&M&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>R(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Approve Application"}),e.jsx("button",{onClick:()=>R(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"You are about to approve the application for:"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:M.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[M.studentId,"  ",M.schoolName]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Approved Amount *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:""}),e.jsx("input",{type:"number",value:Z,onChange:P=>G(P.target.value),placeholder:"0.00",min:"0",step:"0.01",className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Requested: ",M.requestedAmount.toLocaleString()]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{value:de,onChange:P=>X(P.target.value),placeholder:"Add any notes or comments...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",rows:3})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:ne,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Approve Application"]})]})]})]}),D&&M&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>$(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Reject Application"}),e.jsx("button",{onClick:()=>$(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"You are about to reject the application for:"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:M.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[M.studentId,"  ",M.schoolName]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reason for Rejection *"}),e.jsx("textarea",{value:z,onChange:P=>Ie(P.target.value),placeholder:"Please provide a detailed reason for rejecting this application...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",rows:4,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"This reason will be recorded and may be shared with the applicant."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>$(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:pe,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Reject Application"]})]})]})]}),B&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>H(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bulk Approve Applications"}),e.jsx("button",{onClick:()=>H(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["You are about to approve ",S.length," application(s). Each will be approved with their requested amount."]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{value:ie,onChange:P=>Pe(P.target.value),placeholder:"Add any notes for these approvals...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",rows:3})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>H(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:Xe,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Approve ",S.length," Application(s)"]})]})]})]}),I&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>L(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bulk Reject Applications"}),e.jsx("button",{onClick:()=>L(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["You are about to reject ",S.length," application(s)."]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reason for Rejection *"}),e.jsx("textarea",{value:re,onChange:P=>Ee(P.target.value),placeholder:"Please provide a detailed reason for rejecting these applications...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",rows:4,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"This reason will be recorded for all rejected applications."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:ee,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Reject ",S.length," Application(s)"]})]})]})]}),E&&M&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700 flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Application Details"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[M.name," - ",M.studentId]})]}),e.jsx("button",{onClick:()=>T(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(wt,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",style:{minHeight:0},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Student Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Full Name:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:M.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Student ID:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:M.studentId})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Email:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:M.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Phone:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:M.phone||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"GWA:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:M.gwa})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Educational Level:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:M.educationalLevel})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Course:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:M.course||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:M.schoolName})]})]})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[e.jsx("h4",{className:"font-semibold text-purple-900 dark:text-purple-100 mb-3",children:"Scholarship Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Category:"}),e.jsx("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:M.scholarshipCategory})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Subcategory:"}),e.jsx("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:M.scholarshipSubCategory||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:"Requested Amount:"}),e.jsxs("span",{className:"ml-2 text-purple-900 dark:text-purple-100 font-medium",children:["",M.requestedAmount?.toLocaleString()||"N/A"]})]})]})]}),M.interview&&M.interview.evaluation&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"Interview Evaluation"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Interview Date:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:new Date(M.interview.date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Interviewer:"}),e.jsx("span",{className:"ml-2 text-blue-900 dark:text-blue-100 font-medium",children:M.interview.interviewer})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Evaluation Scores:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Academic Motivation:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((P,V)=>e.jsx(Ar,{className:`w-3 h-3 ${V<(M.interview.evaluation?.academicMotivationScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},V)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[M.interview.evaluation?.academicMotivationScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Leadership & Involvement:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((P,V)=>e.jsx(Ar,{className:`w-3 h-3 ${V<(M.interview.evaluation?.leadershipInvolvementScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},V)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[M.interview.evaluation?.leadershipInvolvementScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Financial Need:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((P,V)=>e.jsx(Ar,{className:`w-3 h-3 ${V<(M.interview.evaluation?.financialNeedScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},V)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[M.interview.evaluation?.financialNeedScore||0,"/5"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"Character & Values:"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(5)].map((P,V)=>e.jsx(Ar,{className:`w-3 h-3 ${V<(M.interview.evaluation?.characterValuesScore||0)?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},V)),e.jsxs("span",{className:"ml-1 text-blue-900 dark:text-blue-100 font-medium",children:[M.interview.evaluation?.characterValuesScore||0,"/5"]})]})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Overall Recommendation:"}),e.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${M.interview.evaluation?.overallRecommendation==="recommended"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":M.interview.evaluation?.overallRecommendation==="needs_followup"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[M.interview.evaluation?.overallRecommendation==="recommended"&&e.jsx(Le,{className:"w-4 h-4 mr-1"}),M.interview.evaluation?.overallRecommendation==="needs_followup"&&e.jsx(Wt,{className:"w-4 h-4 mr-1"}),M.interview.evaluation?.overallRecommendation==="not_recommended"&&e.jsx(wt,{className:"w-4 h-4 mr-1"}),M.interview.evaluation?.overallRecommendation==="recommended"&&"Recommended for SSC Approval",M.interview.evaluation?.overallRecommendation==="needs_followup"&&"Conditional Recommendation",M.interview.evaluation?.overallRecommendation==="not_recommended"&&"Not Recommended"]})]}),M.interview.evaluation&&e.jsxs("div",{className:"mt-4 space-y-3",children:[M.interview.evaluation?.remarks&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Interview Notes:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-blue-50 dark:bg-blue-900/20 p-2 rounded",children:M.interview.evaluation.remarks})]}),M.interview.evaluation?.strengths&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Strengths:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-green-50 dark:bg-green-900/20 p-2 rounded",children:M.interview.evaluation.strengths})]}),M.interview.evaluation?.areasForImprovement&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"Areas for Improvement:"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 bg-yellow-50 dark:bg-yellow-900/20 p-2 rounded",children:M.interview.evaluation.areasForImprovement})]})]})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700 flex-shrink-0",children:[e.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Close"}),e.jsxs("button",{onClick:()=>{T(!1),ht(M)},className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs("button",{onClick:()=>{T(!1),K(M)},className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]})})]})}function sde(){const{success:t,error:r}=Zt(),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,c]=f.useState(""),[u,h]=f.useState(""),[m,x]=f.useState({decision:"all",stage:"all",dateFrom:"",dateTo:""}),[g,b]=f.useState(!1),[y,w]=f.useState(null),[N,_]=f.useState(!1);f.useEffect(()=>{S()},[]);const S=async()=>{try{i(!0),c("");const H=await ot.getAllSscDecisions({per_page:100,sort_by:"created_at",sort_order:"desc"});a(H.data)}catch(H){console.error("Error fetching SSC decision history:",H),c("Failed to load decision history"),a([])}finally{i(!1)}},k=s.filter(H=>{const I=H.application,L=I?.student,M=L?.first_name?.toLowerCase().includes(u.toLowerCase())||L?.last_name?.toLowerCase().includes(u.toLowerCase())||I?.application_number?.toLowerCase().includes(u.toLowerCase())||L?.student_id_number?.toLowerCase().includes(u.toLowerCase()),q=m.decision==="all"||H.status===m.decision,Z=m.stage==="all"||H.review_stage===m.stage,G=H.approved_at||H.reviewed_at||H.created_at,de=!m.dateFrom||new Date(G)>=new Date(m.dateFrom),X=!m.dateTo||new Date(G)<=new Date(m.dateTo);return M&&q&&Z&&de&&X}),v=H=>H==="approved"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",A=H=>H==="approved"?e.jsx(Le,{className:"w-4 h-4"}):e.jsx(jt,{className:"w-4 h-4"}),E=H=>({document_verification:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",financial_review:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",academic_review:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",final_approval:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"})[H]||"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400",T=H=>({document_verification:"Document Verification",financial_review:"Financial Review",academic_review:"Academic Review",final_approval:"Final Approval"})[H]||H,F=(H,I)=>{x(L=>({...L,[H]:I}))},R=()=>{x({decision:"all",stage:"all",dateFrom:"",dateTo:""}),h("")},D=()=>m.decision!=="all"||m.stage!=="all"||m.dateFrom!==""||m.dateTo!==""||u!=="",$=H=>{w(H),_(!0)},B=()=>{try{const H=["Decision ID","Application Number","Student Name","Review Stage","Decision","Amount","Date","Notes/Reason"],I=k.map(G=>{const de=G.application,X=de?.student,z=`${X?.first_name||""} ${X?.last_name||""}`.trim();return[G.id,de?.application_number||"",z,T(G.review_stage),G.status==="approved"?"Approved":"Rejected",G.review_data?.recommended_amount?`${G.review_data.recommended_amount.toLocaleString()}`:"N/A",new Date(G.approved_at||G.reviewed_at||G.created_at).toLocaleDateString(),G.status==="approved"?G.review_notes||G.approval_notes||"":G.review_notes||""]}),L=[H.join(","),...I.map(G=>G.map(de=>`"${de}"`).join(","))].join(`
`),M=new Blob([L],{type:"text/csv;charset=utf-8;"}),q=document.createElement("a"),Z=URL.createObjectURL(M);q.setAttribute("href",Z),q.setAttribute("download",`ssc_decision_history_${new Date().toISOString().split("T")[0]}.csv`),q.style.visibility="hidden",document.body.appendChild(q),q.click(),document.body.removeChild(q),t("Decision history exported successfully!","Export Successful")}catch(H){console.error("Export failed:",H),r("Failed to export decision history.","Export Failed")}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-64",children:[e.jsx(Zr,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search decisions...",value:u,onChange:H=>h(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("select",{value:m.decision,onChange:H=>F("decision",H.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Decisions"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsxs("select",{value:m.stage,onChange:H=>F("stage",H.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Stages"}),e.jsx("option",{value:"document_verification",children:"Document Verification"}),e.jsx("option",{value:"financial_review",children:"Financial Review"}),e.jsx("option",{value:"academic_review",children:"Academic Review"}),e.jsx("option",{value:"final_approval",children:"Final Approval"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>b(!g),className:`flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ${g?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[e.jsx(Fa,{className:"w-4 h-4"}),e.jsx("span",{children:"Advanced"})]}),e.jsxs("button",{onClick:B,className:"flex items-center space-x-2 px-4 py-2 rounded-lg bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",children:[e.jsx(sr,{className:"w-4 h-4"}),e.jsx("span",{children:"Export CSV"})]}),e.jsx("button",{onClick:S,className:"p-2 rounded-lg bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",title:"Refresh",children:e.jsx(Ot,{className:"w-4 h-4"})})]})]}),g&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date From"}),e.jsx("input",{type:"date",value:m.dateFrom,onChange:H=>F("dateFrom",H.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date To"}),e.jsx("input",{type:"date",value:m.dateTo,onChange:H=>F("dateTo",H.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]})}),D()&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[m.decision!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",children:["Decision: ",m.decision,e.jsx("button",{onClick:()=>F("decision","all"),className:"ml-1 hover:text-orange-600 dark:hover:text-orange-200",children:e.jsx(wt,{className:"w-3 h-3"})})]}),m.stage!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",children:["Stage: ",T(m.stage),e.jsx("button",{onClick:()=>F("stage","all"),className:"ml-1 hover:text-blue-600 dark:hover:text-blue-200",children:e.jsx(wt,{className:"w-3 h-3"})})]}),u&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:['Search: "',u,'"',e.jsx("button",{onClick:()=>h(""),className:"ml-1 hover:text-purple-600 dark:hover:text-purple-200",children:e.jsx(wt,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:R,className:"text-sm text-gray-600 dark:text-gray-300 underline hover:text-gray-800 dark:hover:text-gray-100",children:"Clear all filters"})]})]}),n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ot,{className:"w-8 h-8 text-gray-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading decisions..."})]})}):l?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6 text-center",children:[e.jsx(Wt,{className:"w-8 h-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:l})]}):k.length===0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-12 text-center",children:[e.jsx(ut,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No decisions found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters or search terms."})]}):e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[k.length," Decision",k.length!==1?"s":""]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Application"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"School"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Stage"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Decision"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:k.map(H=>{const I=H.application,L=I?.student,M=I?.school,q=`${L?.first_name||""} ${L?.last_name||""}`.trim();return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(xr,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I?.application_number||`APP-${I?.id}`}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:I?.category?.name||"Unknown"})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Jt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:q||"Unknown"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:L?.student_id_number||"N/A"})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ls,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("div",{className:"text-sm text-gray-900 dark:text-white max-w-xs truncate",children:M?.name||"Unknown School"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(H.review_stage)}`,children:T(H.review_stage)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v(H.status)}`,children:[A(H.status),e.jsx("span",{className:"ml-1 capitalize",children:H.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(cr,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:H.review_data?.recommended_amount?`${H.review_data.recommended_amount.toLocaleString()}`:"N/A"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white",children:[e.jsx(zt,{className:"h-4 w-4 text-gray-400 mr-1"}),new Date(H.approved_at||H.reviewed_at||H.created_at).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>$(H),className:"text-orange-600 dark:text-orange-400 hover:text-orange-900 dark:hover:text-orange-300 transition-colors",children:"View Details"})})]},H.id)})})]})})]}),N&&y&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>_(!1)}),e.jsxs("div",{className:"relative z-10 w-full max-w-3xl bg-white dark:bg-slate-800 rounded-xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Decision Details"}),e.jsx("button",{onClick:()=>_(!1),className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:`rounded-lg p-4 ${y.status==="approved"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[y.status==="approved"?e.jsx(Le,{className:"h-8 w-8 text-green-600"}):e.jsx(jt,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{children:[e.jsxs("h4",{className:`text-lg font-semibold ${y.status==="approved"?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"}`,children:[T(y.review_stage)," - ",y.status==="approved"?"Approved":"Rejected"]}),e.jsxs("p",{className:`text-sm ${y.status==="approved"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["Decision made on ",new Date(y.approved_at||y.reviewed_at||y.created_at).toLocaleString()]})]})]}),y.review_data?.recommended_amount&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Recommended Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:["",y.review_data.recommended_amount.toLocaleString()]})]})]})}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:"Application Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Application Number:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:y.application?.application_number||`APP-${y.application_id}`})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Student:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:`${y.application?.student?.first_name||""} ${y.application?.student?.last_name||""}`.trim()||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:y.application?.school?.name||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Category:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-gray-100 font-medium",children:y.application?.category?.name||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Review Stage:"}),e.jsx("span",{className:`ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${E(y.review_stage)}`,children:T(y.review_stage)})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/20 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:y.status==="approved"?"Review Notes":"Rejection Reason"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:y.status==="approved"?y.review_notes||y.approval_notes||"No notes provided.":y.review_notes||"No reason provided."})]})]})}),e.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:e.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Close"})})]})]})]})}function ade(){const[t,r]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(""),[l,c]=f.useState(!1),[u,h]=f.useState(null),[m,x]=f.useState(!1),{showToast:g}=Zt(),[b,y]=f.useState([]),w=[{value:"chairperson",label:"SSC Chairperson",stage:"final_approval"},{value:"budget_dept",label:"Budget Department",stage:"financial_review"},{value:"accounting",label:"Accounting Department",stage:"financial_review"},{value:"treasurer",label:"City Treasurer",stage:"financial_review"},{value:"education_affairs",label:"Education Affairs Unit",stage:"academic_review"},{value:"qcydo",label:"Quezon City Youth Development Office",stage:"academic_review"},{value:"planning_dept",label:"City Planning and Development Department",stage:"academic_review"},{value:"city_council",label:"City Council Committee on Education",stage:"document_verification"},{value:"hrd",label:"Human Resource Management Department",stage:"document_verification"},{value:"social_services",label:"Social Services Development Department",stage:"document_verification"},{value:"schools_division",label:"Schools Division Office",stage:"academic_review"},{value:"qcu",label:"Quezon City University",stage:"academic_review"}],N=[{value:"document_verification",label:"Document Verification"},{value:"financial_review",label:"Financial Review"},{value:"academic_review",label:"Academic Review"},{value:"final_approval",label:"Final Approval"}],_=async()=>{try{a(!0),i("");const{scholarshipApiService:R}=await Cr(async()=>{const{scholarshipApiService:B}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:B}},void 0),D=await R.getSscMemberAssignments(),$=Array.isArray(D)?D:D?.data||[];r($),y($)}catch(R){i("Failed to load SSC members"),console.error("Error fetching SSC members:",R),r([]),y([])}finally{a(!1)}};f.useEffect(()=>{_()},[]);const S=async R=>{try{r(D=>D.map($=>$.id===R?{...$,is_active:!0}:$)),g("Member activated successfully","success")}catch{g("Failed to activate member","error")}},k=async R=>{try{r(D=>D.map($=>$.id===R?{...$,is_active:!1}:$)),g("Member deactivated successfully","success")}catch{g("Failed to deactivate member","error")}},v=R=>{h(R),x(!0)},A=async R=>{try{if(u)r(D=>D.map($=>$.id===u.id?{...$,...R}:$)),g("Member updated successfully","success");else{const D={id:Date.now(),...R,review_count:0,last_review:null};r($=>[...$,D]),g("Member added successfully","success")}x(!1),h(null)}catch{g("Failed to save member","error")}},E=R=>({chairperson:"bg-red-100 text-red-800",budget_dept:"bg-yellow-100 text-yellow-800",accounting:"bg-yellow-100 text-yellow-800",treasurer:"bg-yellow-100 text-yellow-800",education_affairs:"bg-purple-100 text-purple-800",qcydo:"bg-purple-100 text-purple-800",planning_dept:"bg-purple-100 text-purple-800",city_council:"bg-blue-100 text-blue-800",hrd:"bg-blue-100 text-blue-800",social_services:"bg-blue-100 text-blue-800",schools_division:"bg-purple-100 text-purple-800",qcu:"bg-purple-100 text-purple-800"})[R]||"bg-gray-100 text-gray-800",T=R=>({document_verification:"bg-blue-100 text-blue-800",financial_review:"bg-yellow-100 text-yellow-800",academic_review:"bg-purple-100 text-purple-800",final_approval:"bg-green-100 text-green-800"})[R]||"bg-gray-100 text-gray-800",F=R=>R?new Date(R).toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never";return s?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading SSC members..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"SSC Member Management"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage SSC member assignments and roles"})]}),e.jsx("button",{onClick:()=>{h(null),c(!0)},className:"px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500",children:"Add Member"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Members"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(R=>R.is_active).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Members"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(R=>R.review_stage==="document_verification").length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Document Reviewers"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.filter(R=>R.review_stage==="academic_review").length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Academic Reviewers"})]})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Review Stage"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Reviews"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Review"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[e.jsx("p",{className:"text-sm font-medium",children:"No SSC members found"}),e.jsx("p",{className:"text-xs mt-1",children:"SSC members will appear here once they are assigned."})]})})}):t.map(R=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:R.user_name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:R.user_email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(R.ssc_role)}`,children:R.role_label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T(R.review_stage)}`,children:R.stage_label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:R.review_count}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:F(R.last_review)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>v(R),className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",children:"Edit"}),R.is_active?e.jsx("button",{onClick:()=>k(R.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Deactivate"}):e.jsx("button",{onClick:()=>S(R.id),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:"Activate"})]})})]},R.id))})]})})}),(l||m)&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:u?"Edit SSC Member":"Add SSC Member"}),e.jsxs("form",{onSubmit:R=>{R.preventDefault();const D=new FormData(R.target),$={user_id:parseInt(D.get("user_id")),user_name:D.get("user_name"),user_email:D.get("user_email"),ssc_role:D.get("ssc_role"),review_stage:D.get("review_stage"),is_active:D.get("is_active")==="on"};A($)},children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"User ID"}),e.jsx("input",{type:"number",name:"user_id",defaultValue:u?.user_id||"",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),e.jsx("input",{type:"text",name:"user_name",defaultValue:u?.user_name||"",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"user_email",defaultValue:u?.user_email||"",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"SSC Role"}),e.jsxs("select",{name:"ssc_role",defaultValue:u?.ssc_role||"",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Select Role"}),w.map(R=>e.jsx("option",{value:R.value,children:R.label},R.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Review Stage"}),e.jsxs("select",{name:"review_stage",defaultValue:u?.review_stage||"",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"",children:"Select Stage"}),N.map(R=>e.jsx("option",{value:R.value,children:R.label},R.value))]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_active",defaultChecked:u?.is_active!==!1,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>{c(!1),x(!1),h(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-md hover:bg-gray-200 dark:hover:bg-slate-600",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500",children:[u?"Update":"Add"," Member"]})]})]})]})})})]})}function nde(){const[t,r]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(null),[l,c]=f.useState(!1),[u,h]=f.useState({valid_id_verified:!1,indigency_cert_verified:!1,residency_proof_verified:!1,academic_records_verified:!1,other_docs_verified:!1,verification_notes:"",compliance_issues:[]}),{success:m,error:x}=Zt();f.useEffect(()=>{g()},[]);const g=async()=>{try{a(!0);const{scholarshipApiService:k}=await Cr(async()=>{const{scholarshipApiService:A}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:A}},void 0),v=await k.getSscApplicationsByStage("document_verification");r(v.data||[])}catch(k){console.error("Error fetching applications:",k),x("Failed to load applications")}finally{a(!1)}},b=k=>{i(k),c(!0),h({valid_id_verified:!1,indigency_cert_verified:!1,residency_proof_verified:!1,academic_records_verified:!1,other_docs_verified:!1,verification_notes:"",compliance_issues:[]})},y=async()=>{if(!n)return;if(!Object.keys(u).filter(v=>v.endsWith("_verified")).every(v=>u[v])){x("Please verify all required documents");return}try{const{scholarshipApiService:v}=await Cr(async()=>{const{scholarshipApiService:A}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:A}},void 0);await v.sscSubmitDocumentVerification(n.id,{verified:!0,notes:u.verification_notes,document_issues:u.compliance_issues}),m("Document verification approved successfully"),c(!1),g()}catch(v){console.error("Error approving application:",v);const A=v.response?.data?.error||v.message||"Failed to approve application",E=v.response?.data?.debug?` (Debug: ${JSON.stringify(v.response.data.debug)})`:"";x(`Failed to approve document verification: ${A}${E}`)}},w=async()=>{if(n){if(u.compliance_issues.length===0){x("Please specify compliance issues");return}try{const{scholarshipApiService:k}=await Cr(async()=>{const{scholarshipApiService:v}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:v}},void 0);await k.sscSubmitDocumentVerification(n.id,{verified:!1,notes:u.verification_notes,document_issues:u.compliance_issues}),m("Document verification marked as needing revision"),c(!1),g()}catch(k){console.error("Error requesting compliance:",k);const v=k.response?.data?.error||k.message||"Failed to request compliance",A=k.response?.data?.debug?` (Debug: ${JSON.stringify(k.response.data.debug)})`:"";x(`Failed to mark document verification for revision: ${v}${A}`)}}},N=async()=>{if(n){if(!u.verification_notes){x("Please provide rejection reason");return}if(confirm("Are you sure you want to reject this application? This action cannot be undone."))try{const{scholarshipApiService:k}=await Cr(async()=>{const{scholarshipApiService:v}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:v}},void 0);await k.sscSubmitDocumentVerification(n.id,{verified:!1,notes:u.verification_notes,document_issues:["Application rejected"]}),m("Application rejected"),c(!1),g()}catch(k){console.error("Error rejecting application:",k),x("Failed to reject application")}}},_=k=>{h(v=>({...v,compliance_issues:v.compliance_issues.includes(k)?v.compliance_issues.filter(A=>A!==k):[...v.compliance_issues,k]}))},S=k=>{const v=k.ssc_stage_status||{};return{document_verification:{label:"Document Verification",completed:v.document_verification?.status==="approved",reviewedAt:v.document_verification?.reviewed_at},financial_review:{label:"Financial Review",completed:v.financial_review?.status==="approved",reviewedAt:v.financial_review?.reviewed_at},academic_review:{label:"Academic Review",completed:v.academic_review?.status==="approved",reviewedAt:v.academic_review?.reviewed_at},final_approval:{label:"Final Approval",completed:k.status==="approved"||k.status==="rejected",reviewedAt:k.latest_ssc_decision?.created_at}}};return s?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Document Verification"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Review and verify applicant documents"})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," application",t.length!==1?"s":""," pending verification"]})]}),e.jsx("div",{className:"grid gap-4",children:t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsx(ut,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No applications pending document verification"})]}):t.map(k=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Jt,{className:"h-5 w-5 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:k.student?`${k.student.first_name} ${k.student.last_name}`:"Unknown Applicant"})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Application ID:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:k.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:k.school?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Category:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:k.category?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Submitted:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:new Date(k.updated_at).toLocaleDateString()})]})]})]}),e.jsx("button",{onClick:()=>b(k),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Review Documents"})]})},k.id))}),l&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Document Verification - ",n.student?`${n.student.first_name} ${n.student.last_name}`:"Unknown Applicant"]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"SSC Review Stages (Parallel Process)"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"All stages can be reviewed simultaneously. Checkmarks indicate completed stages."})]}),e.jsx("div",{className:"p-4 space-y-3",children:Object.entries(S(n)).map(([k,v])=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[v.completed?e.jsx(Le,{className:"h-5 w-5 text-green-500"}):e.jsx(Nt,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("span",{className:`font-medium ${v.completed?"text-green-700 dark:text-green-400":"text-gray-700 dark:text-gray-300"}`,children:v.label}),v.completed&&v.reviewedAt&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Completed on ",new Date(v.reviewedAt).toLocaleDateString()]})]})]}),v.completed&&e.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 px-2 py-1 rounded",children:" Approved"})]},k))})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"})," Uploaded Documents"]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.documents?.length||0," file",(n.documents?.length||0)===1?"":"s"]})]}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:!n.documents||n.documents.length===0?e.jsx("div",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:"No documents uploaded."}):n.documents.map((k,v)=>{const A=k?.documentType?.name||k?.document_type?.name||k?.original_name||k?.filename||`Document ${v+1}`,E=k?.file_url||k?.url||k?.download_url||k?.view_url||k?.file_path||"";return e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:A}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:k?.uploaded_at||k?.created_at?new Date(k.uploaded_at||k.created_at).toLocaleString():"Upload date unavailable"})]}),E?e.jsxs("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 text-sm bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx(uw,{className:"h-4 w-4 mr-2"})," View"]}):e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No file link"})]},k.id||v)})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Required Documents"}),e.jsx("div",{className:"space-y-3",children:[{key:"valid_id_verified",label:"Valid ID"},{key:"indigency_cert_verified",label:"Certificate of Indigency"},{key:"residency_proof_verified",label:"Proof of Residency"},{key:"academic_records_verified",label:"Academic Records"},{key:"other_docs_verified",label:"Other Required Documents"}].map(({key:k,label:v})=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u[k],onChange:A=>h(E=>({...E,[k]:A.target.checked})),className:"w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:v})]},k))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Compliance Issues (if any)"}),e.jsx("div",{className:"space-y-2",children:["Missing ID","Incomplete Documents","Invalid Residency Proof","Expired Documents"].map(k=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.compliance_issues.includes(k),onChange:()=>_(k),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:k})]},k))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-900 dark:text-white mb-2",children:"Verification Notes"}),e.jsx("textarea",{value:u.verification_notes,onChange:k=>h(v=>({...v,verification_notes:k.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500",placeholder:"Add any additional notes or observations..."})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700",children:"Cancel"}),e.jsxs("button",{onClick:N,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center space-x-2",children:[e.jsx(jt,{className:"h-4 w-4"}),e.jsx("span",{children:"Reject"})]}),e.jsxs("button",{onClick:w,className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 flex items-center space-x-2",children:[e.jsx(bt,{className:"h-4 w-4"}),e.jsx("span",{children:"Request Compliance"})]}),e.jsxs("button",{onClick:y,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-2",children:[e.jsx(Le,{className:"h-4 w-4"}),e.jsx("span",{children:"Approve & Continue"})]})]})]})})]})}function ide(){const[t,r]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(null),[l,c]=f.useState(!1),[u,h]=f.useState({income_verified:!1,budget_available:!1,recommended_amount:"",financial_assessment:""}),{success:m,error:x}=Zt(),g=v=>!v||!v.documents?[]:(Array.isArray(v.documents)?v.documents:[]).filter(E=>{const T=(E?.documentType?.name||E?.document_type?.name||E?.type||"").toString().toLowerCase();return T.includes("income")||T.includes("payslip")||T.includes("pay slip")||T.includes("certificate of indigency")||T.includes("financial")}),b=v=>v?.file_url||v?.url||v?.download_url||v?.view_url||v?.file_path||"",y=v=>{const A=v.ssc_stage_status||{};return{document_verification:{label:"Document Verification",completed:A.document_verification?.status==="approved",reviewedBy:A.document_verification?.reviewed_by,reviewedAt:A.document_verification?.reviewed_at,notes:A.document_verification?.notes},financial_review:{label:"Financial Review",completed:A.financial_review?.status==="approved",reviewedBy:A.financial_review?.reviewed_by,reviewedAt:A.financial_review?.reviewed_at,notes:A.financial_review?.notes},academic_review:{label:"Academic Review",completed:A.academic_review?.status==="approved",reviewedBy:A.academic_review?.reviewed_by,reviewedAt:A.academic_review?.reviewed_at,notes:A.academic_review?.notes},final_approval:{label:"Final Approval",completed:v.status==="approved"||v.status==="rejected",reviewedBy:v.approved_by||v.rejected_by,reviewedAt:v.approved_at||v.rejected_at,notes:v.notes}}};f.useEffect(()=>{w()},[]);const w=async()=>{try{a(!0);const{scholarshipApiService:v}=await Cr(async()=>{const{scholarshipApiService:E}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:E}},void 0),A=await v.getSscApplicationsByStage("financial_review");r(A.data||[])}catch(v){console.error("Error fetching applications:",v),x("Failed to load applications")}finally{a(!1)}},N=async v=>{i(v),c(!0),h({income_verified:!1,budget_available:!1,recommended_amount:v.requested_amount||"",financial_assessment:""})},_=async()=>{if(n){if(!u.income_verified||!u.budget_available){x("Please complete all verification checks");return}if(!u.recommended_amount){x("Please specify the recommended scholarship amount");return}try{const{scholarshipApiService:v}=await Cr(async()=>{const{scholarshipApiService:A}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:A}},void 0);await v.approveStage(n.id,"financial_review",u.financial_assessment,{...u,recommended_amount:parseFloat(u.recommended_amount)}),m("Financial review approved successfully"),c(!1),w()}catch(v){console.error("Error approving stage:",v);const A=v.response?.data?.error||v.message||"Failed to approve financial review stage",E=v.response?.data?.debug?` (Debug: ${JSON.stringify(v.response.data.debug)})`:"";x(`Failed to approve financial review: ${A}${E}`)}}},S=async()=>{if(n){if(!u.financial_assessment){x("Please provide rejection reason");return}if(confirm("Are you sure you want to reject this application due to financial constraints?"))try{const{scholarshipApiService:v}=await Cr(async()=>{const{scholarshipApiService:A}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:A}},void 0);await v.sscSubmitFinancialReview(n.id,{status:"rejected",review_data:u,review_notes:u.financial_assessment}),m("Financial review rejected"),c(!1),w()}catch(v){console.error("Error rejecting application:",v);const A=v.response?.data?.error||v.message||"Failed to reject application",E=v.response?.data?.debug?` (Debug: ${JSON.stringify(v.response.data.debug)})`:"";x(`Failed to reject financial review: ${A}${E}`)}}},k=v=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(v||0);return s?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Financial Review"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Assess financial eligibility and budget allocation"})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," application",t.length!==1?"s":""," pending financial review"]})]}),e.jsx("div",{className:"grid gap-4",children:t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsx(cr,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No applications pending financial review"})]}):t.map(v=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Jt,{className:"h-5 w-5 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:v.student?`${v.student.first_name} ${v.student.last_name}`:"Unknown Applicant"})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Requested Amount:"}),e.jsx("span",{className:"ml-2 text-orange-600 dark:text-orange-400 font-semibold",children:k(v.requested_amount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:v.school?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Family Income:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:v.student?.financial_information?.family_monthly_income_range?v.student.financial_information.family_monthly_income_range:"Not provided"})]})]})]}),e.jsx("button",{onClick:()=>N(v),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Review Finances"})]})},v.id))}),l&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Financial Review - ",n.student?`${n.student.first_name} ${n.student.last_name}`:"Unknown Applicant"]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"SSC Review Stages (Parallel Process)"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"All stages can be reviewed simultaneously. Checkmarks indicate completed stages."})]}),e.jsx("div",{className:"p-4 space-y-3",children:Object.entries(y(n)).map(([v,A])=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[A.completed?e.jsx(Le,{className:"h-5 w-5 text-green-500"}):e.jsx(Nt,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("span",{className:`font-medium ${A.completed?"text-green-700 dark:text-green-400":"text-gray-700 dark:text-gray-300"}`,children:A.label}),A.completed&&A.reviewedAt&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Completed on ",new Date(A.reviewedAt).toLocaleDateString()]})]})]}),A.completed&&e.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 px-2 py-1 rounded",children:" Approved"})]},v))})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(Vr,{className:"h-5 w-5 mr-2"}),"Financial Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Requested Amount:"}),e.jsx("p",{className:"text-lg font-semibold text-orange-600 dark:text-orange-400",children:k(n.requested_amount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Family Income:"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n.student?.financial_information?.family_monthly_income_range?n.student.financial_information.family_monthly_income_range:"Not provided"})]})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"}),"Income Certificates"]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[g(n).length||0," file",g(n).length===1?"":"s"]})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-slate-700",children:g(n).length===0?e.jsx("div",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:"No income-related documents uploaded."}):e.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:g(n).map((v,A)=>{const E=b(v),T=v?.documentType?.name||v?.document_type?.name||v?.original_name||v?.filename||`Document ${A+1}`;return e.jsxs("li",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:T}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:v?.uploaded_at||v?.created_at?new Date(v.uploaded_at||v.created_at).toLocaleString():"Upload date unavailable"})]}),E?e.jsxs("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 text-sm bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx(uw,{className:"h-4 w-4 mr-2"})," View"]}):e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No file link"})]},v.id||A)})})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Financial Verification"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.income_verified,onChange:v=>h(A=>({...A,income_verified:v.target.checked})),className:"w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Family income verified and documented"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.budget_available,onChange:v=>h(A=>({...A,budget_available:v.target.checked})),className:"w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Budget allocation available for this scholarship"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-900 dark:text-white mb-2",children:"Recommended Scholarship Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),e.jsx("input",{type:"number",value:u.recommended_amount,onChange:v=>h(A=>({...A,recommended_amount:v.target.value})),className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-900 dark:text-white mb-2",children:"Financial Assessment Notes"}),e.jsx("textarea",{value:u.financial_assessment,onChange:v=>h(A=>({...A,financial_assessment:v.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500",placeholder:"Provide financial analysis, budget impact, sustainability assessment..."})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700",children:"Cancel"}),e.jsxs("button",{onClick:S,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center space-x-2",children:[e.jsx(jt,{className:"h-4 w-4"}),e.jsx("span",{children:"Reject"})]}),e.jsxs("button",{onClick:_,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-2",children:[e.jsx(Le,{className:"h-4 w-4"}),e.jsx("span",{children:"Approve Stage"})]})]})]})})]})}function lde(){const[t,r]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(null),[l,c]=f.useState(!1),[u,h]=f.useState({academic_standing_verified:!1,program_eligibility:!1,school_accreditation:!1,academic_assessment:""}),[m,x]=f.useState(!1),{success:g,error:b}=Zt();f.useEffect(()=>{y()},[]);const y=async()=>{try{a(!0);const{scholarshipApiService:A}=await Cr(async()=>{const{scholarshipApiService:T}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:T}},void 0),E=await A.getSscApplicationsByStage("academic_review");r(E.data||[])}catch(A){console.error("Error fetching applications:",A);const E=A.response?.data?.error||A.message||"Failed to load applications",T=A.response?.data?.debug?` (Debug: ${JSON.stringify(A.response.data.debug)})`:"";b(`Failed to load applications: ${E}${T}`)}finally{a(!1)}},w=A=>{i(A),c(!0),h({academic_standing_verified:!1,program_eligibility:!1,school_accreditation:!1,academic_assessment:""})},N=async()=>{if(n){if(!u.academic_standing_verified||!u.program_eligibility||!u.school_accreditation){b("Please complete all verification checks");return}try{const{scholarshipApiService:A}=await Cr(async()=>{const{scholarshipApiService:E}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:E}},void 0);await A.sscSubmitAcademicReview(n.id,{approved:!0,notes:u.academic_assessment}),g("Application approved and moved to final approval"),c(!1),y()}catch(A){console.error("Error approving application:",A);const E=A.response?.data?.error||A.message||"Failed to approve application",T=A.response?.data?.debug?` (Debug: ${JSON.stringify(A.response.data.debug)})`:"";b(`Failed to approve application: ${E}${T}`)}}},_=async()=>{if(n){if(!u.academic_assessment){b("Please provide rejection reason");return}if(confirm("Are you sure you want to reject this application based on academic criteria?"))try{const{scholarshipApiService:A}=await Cr(async()=>{const{scholarshipApiService:E}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:E}},void 0);await A.sscSubmitAcademicReview(n.id,{approved:!1,notes:u.academic_assessment}),g("Application rejected due to academic criteria"),c(!1),y()}catch(A){console.error("Error rejecting application:",A);const E=A.response?.data?.error||A.message||"Failed to reject application",T=A.response?.data?.debug?` (Debug: ${JSON.stringify(A.response.data.debug)})`:"";b(`Failed to reject application: ${E}${T}`)}}},S=A=>{const E=A.ssc_stage_status||{};return{document_verification:{label:"Document Verification",completed:E.document_verification?.status==="approved",reviewedAt:E.document_verification?.reviewed_at},financial_review:{label:"Financial Review",completed:E.financial_review?.status==="approved",reviewedAt:E.financial_review?.reviewed_at},academic_review:{label:"Academic Review",completed:E.academic_review?.status==="approved",reviewedAt:E.academic_review?.reviewed_at},final_approval:{label:"Final Approval",completed:A.status==="approved"||A.status==="rejected",reviewedAt:A.latest_ssc_decision?.created_at}}},k=A=>{if(!A.documents)return[];const E=["transcript","grade","gpa","academic","record","certificate","diploma","degree"];return A.documents.filter(T=>{const F=(T?.documentType?.name||T?.document_type?.name||T?.original_name||T?.filename||"").toLowerCase();return E.some(R=>F.includes(R))})},v=A=>A?.file_url||A?.url||A?.download_url||A?.view_url||A?.file_path||"";return s?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Academic Review"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Assess academic eligibility and merit"})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," application",t.length!==1?"s":""," pending academic review"]})]}),e.jsx("div",{className:"grid gap-4",children:t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsx(gs,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No applications pending academic review"})]}):t.map(A=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Jt,{className:"h-5 w-5 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:A.student?`${A.student.first_name} ${A.student.last_name}`:"Unknown Applicant"})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:A.school?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Program:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:A.student?.current_academic_record?.program||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"GWA:"}),e.jsx("span",{className:"ml-2 text-orange-600 dark:text-orange-400 font-semibold",children:A.student?.current_academic_record?.general_weighted_average||"N/A"})]})]})]}),e.jsx("button",{onClick:()=>w(A),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"Review Academics"})]})},A.id))}),l&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Academic Review - ",n.student?`${n.student.first_name} ${n.student.last_name}`:"Unknown Applicant"]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"SSC Review Stages (Parallel Process)"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"All stages can be reviewed simultaneously. Checkmarks indicate completed stages."})]}),e.jsx("div",{className:"p-4 space-y-3",children:Object.entries(S(n)).map(([A,E])=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[E.completed?e.jsx(Le,{className:"h-5 w-5 text-green-500"}):e.jsx(Nt,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("span",{className:`font-medium ${E.completed?"text-green-700 dark:text-green-400":"text-gray-700 dark:text-gray-300"}`,children:E.label}),E.completed&&E.reviewedAt&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Completed on ",new Date(E.reviewedAt).toLocaleDateString()]})]})]}),E.completed&&e.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 px-2 py-1 rounded",children:" Approved"})]},A))})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"})," Academic Documents"]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[k(n).length," file",k(n).length===1?"":"s"]})]}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:k(n).length===0?e.jsx("div",{className:"p-4 text-sm text-gray-600 dark:text-gray-400",children:"No academic documents uploaded."}):k(n).map((A,E)=>{const T=A?.documentType?.name||A?.document_type?.name||A?.original_name||A?.filename||`Document ${E+1}`,F=v(A);return e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:T}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:A?.uploaded_at||A?.created_at?new Date(A.uploaded_at||A.created_at).toLocaleString():"Upload date unavailable"})]}),F?e.jsxs("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 text-sm bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx(uw,{className:"h-4 w-4 mr-2"})," View"]}):e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No file link"})]},A.id||E)})})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(gs,{className:"h-5 w-5 mr-2"}),"Academic Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"General Weighted Average:"}),e.jsx("p",{className:"text-lg font-semibold text-orange-600 dark:text-orange-400",children:n.student?.current_academic_record?.general_weighted_average||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Year Level:"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n.student?.current_academic_record?.year_level||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Course/Program:"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:n.student?.current_academic_record?.program||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"School:"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:n.school?.name||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Academic Verification"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.academic_standing_verified,onChange:A=>h(E=>({...E,academic_standing_verified:A.target.checked})),className:"w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"GWA/Academic standing meets scholarship requirements"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.program_eligibility,onChange:A=>h(E=>({...E,program_eligibility:A.target.checked})),className:"w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Course/Program is eligible for this scholarship category"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.school_accreditation,onChange:A=>h(E=>({...E,school_accreditation:A.target.checked})),className:"w-5 h-5 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"School is accredited and recognized"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold text-gray-900 dark:text-white mb-2",children:"Academic Assessment"}),e.jsx("textarea",{value:u.academic_assessment,onChange:A=>h(E=>({...E,academic_assessment:A.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500",placeholder:"Provide academic merit assessment, program alignment, potential for success..."})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>c(!1),disabled:m,className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsxs("button",{onClick:_,disabled:m,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[m?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(jt,{className:"h-4 w-4"}),e.jsx("span",{children:m?"Rejecting...":"Reject"})]}),e.jsxs("button",{onClick:N,disabled:m,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[m?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(Le,{className:"h-4 w-4"}),e.jsx("span",{children:m?"Approving...":"Approve Stage"})]})]})]})})]})}function ode(){const[t,r]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(null),[l,c]=f.useState(!1),[u,h]=f.useState([]),[m,x]=f.useState({document:!0,financial:!0,academic:!0}),[g,b]=f.useState({decision:"",approved_amount:"",final_notes:""}),[y,w]=f.useState(!1),{success:N,error:_}=Zt();f.useEffect(()=>{S()},[]);const S=async()=>{try{a(!0);const{scholarshipApiService:R}=await Cr(async()=>{const{scholarshipApiService:$}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:$}},void 0),D=await R.getSscApplicationsByStage("final_approval");r(D.data||[])}catch(R){console.error("Error fetching applications:",R),_("Failed to load applications")}finally{a(!1)}},k=async R=>{i(R),c(!0);try{const{scholarshipApiService:$}=await Cr(async()=>{const{scholarshipApiService:H}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:H}},void 0),B=await $.getSscReviewHistory(R.id);h(B)}catch($){console.error("Error fetching review history:",$)}const D=T(R);b({decision:"",approved_amount:D,final_notes:""})},v=async()=>{if(n){if(!g.approved_amount){_("Please confirm the approved scholarship amount");return}w(!0);try{const{scholarshipApiService:R}=await Cr(async()=>{const{scholarshipApiService:D}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:D}},void 0);await R.sscFinalApproval(n.id,{approved_amount:parseFloat(g.approved_amount),final_notes:g.final_notes});try{const{default:D}=await Cr(async()=>{const{default:$}=await import("./studentRegistrationService-D5TQMA3o.js");return{default:$}},[]);await D.autoRegisterFromSSCApproval(n),N("Application finally approved! Student registered in Student Registry.")}catch(D){console.error("Error auto-registering student:",D),N("Application finally approved! Moving to grants processing. (Note: Student registration failed - please register manually)")}c(!1),S()}catch(R){console.error("Error approving application:",R),_("Failed to approve application")}finally{w(!1)}}},A=async()=>{if(n){if(!g.final_notes){_("Please provide reason for final rejection");return}if(confirm("Are you sure you want to FINALLY REJECT this application? This is the final decision and cannot be undone.")){w(!0);try{const{scholarshipApiService:R}=await Cr(async()=>{const{scholarshipApiService:D}=await Promise.resolve().then(()=>Ns);return{scholarshipApiService:D}},void 0);await R.sscFinalRejection(n.id,{rejection_reason:g.final_notes}),N("Application finally rejected"),c(!1),S()}catch(R){console.error("Error rejecting application:",R),_("Failed to reject application")}finally{w(!1)}}}},E=R=>{x(D=>({...D,[R]:!D[R]}))},T=R=>{console.log("Getting recommended amount for application:",R.id),console.log("Application ssc_stage_status:",R.ssc_stage_status),console.log("Application ssc_reviews:",R.ssc_reviews);const $=(R.ssc_stage_status||{}).financial_review;if($&&$.review_data){console.log("Found financial review in stage_status:",$);const B=typeof $.review_data=="string"?JSON.parse($.review_data):$.review_data;if(console.log("Parsed review_data:",B),B&&B.recommended_amount)return console.log("Found recommended_amount in stage_status:",B.recommended_amount),B.recommended_amount.toString()}if(R.ssc_reviews){const B=R.ssc_reviews.find(H=>H.review_stage==="financial_review"&&H.status==="approved");if(console.log("Found financial review record:",B),B&&B.review_data){const H=typeof B.review_data=="string"?JSON.parse(B.review_data):B.review_data;if(console.log("Parsed review_data from ssc_reviews:",H),H&&H.recommended_amount)return console.log("Found recommended_amount in ssc_reviews:",H.recommended_amount),H.recommended_amount.toString()}}return console.log("Using fallback requested_amount:",R.requested_amount),R.requested_amount?R.requested_amount.toString():""},F=R=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(R||0);return s?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ir,{className:"h-7 w-7 mr-2 text-orange-500"}),"Final Approval (Chairperson)"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Review all previous assessments and make final decision"})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," application",t.length!==1?"s":""," pending final approval"]})]}),e.jsx("div",{className:"grid gap-4",children:t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsx(Ir,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No applications pending final approval"})]}):t.map(R=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg border-2 border-orange-200 dark:border-orange-900/50 p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Jt,{className:"h-5 w-5 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:R.student?`${R.student.first_name} ${R.student.last_name}`:"Unknown Applicant"}),e.jsx("span",{className:"px-2 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-400 text-xs font-semibold rounded",children:"READY FOR FINAL DECISION"})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Application ID:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:R.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:R.school?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"All Reviews:"}),e.jsx("span",{className:"ml-2 text-green-600 dark:text-green-400 font-semibold",children:" Completed"})]})]})]}),e.jsx("button",{onClick:()=>k(R),className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-semibold",children:"Make Final Decision"})]})},R.id))}),l&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ir,{className:"h-6 w-6 mr-2 text-orange-500"}),"Final Decision - ",n.student?`${n.student.first_name} ${n.student.last_name}`:"Unknown Applicant"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Review all previous assessments before making your final decision"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Application Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Requested Amount:"}),e.jsx("p",{className:"text-lg font-semibold text-orange-600 dark:text-orange-400",children:F(n.requested_amount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Recommended Amount:"}),e.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:F(n.approved_amount||n.requested_amount)})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Nt,{className:"h-5 w-5 mr-2"}),"Complete Review History"]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("button",{onClick:()=>E("document"),className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Document Verification"}),e.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:" Approved"})]}),m.document?e.jsx(pi,{className:"h-5 w-5"}):e.jsx(Ra,{className:"h-5 w-5"})]}),m.document&&e.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-700/50",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"All documents verified and approved for processing."}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Reviewed by: Document Verification Team"})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("button",{onClick:()=>E("financial"),className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Financial Review"}),e.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:" Approved"})]}),m.financial?e.jsx(pi,{className:"h-5 w-5"}):e.jsx(Ra,{className:"h-5 w-5"})]}),m.financial&&e.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-700/50",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Financial eligibility verified, budget allocation confirmed."}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Reviewed by: Financial Review Team"})]})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg",children:[e.jsxs("button",{onClick:()=>E("academic"),className:"w-full flex justify-between items-center p-4 hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Academic Review"}),e.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:" Approved"})]}),m.academic?e.jsx(pi,{className:"h-5 w-5"}):e.jsx(Ra,{className:"h-5 w-5"})]}),m.academic&&e.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-700/50",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Academic eligibility confirmed, meets scholarship criteria."}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Reviewed by: Academic Review Team"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Chairperson's Final Decision"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block font-medium text-gray-900 dark:text-white mb-2",children:["Final Approved Amount ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),e.jsx("input",{type:"number",value:g.approved_amount,readOnly:!0,className:"w-full pl-8 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-100 dark:bg-slate-600 text-gray-900 dark:text-white cursor-not-allowed",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium text-gray-900 dark:text-white mb-2",children:"Chairperson's Notes/Remarks"}),e.jsx("textarea",{value:g.final_notes,onChange:R=>b(D=>({...D,final_notes:R.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500",placeholder:"Add any final remarks, conditions, or special instructions..."})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end space-x-3 bg-gray-50 dark:bg-slate-700/50",children:[e.jsx("button",{onClick:()=>c(!1),disabled:y,className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsxs("button",{onClick:A,disabled:y,className:"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center space-x-2 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[y?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsx(jt,{className:"h-5 w-5"}),e.jsx("span",{children:y?"REJECTING...":"FINAL REJECT"})]}),e.jsxs("button",{onClick:v,disabled:y,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center space-x-2 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[y?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsx(Le,{className:"h-5 w-5"}),e.jsx("span",{children:y?"APPROVING...":"FINAL APPROVE"})]})]})]})})]})}function cde(){const[t,r]=f.useState("overview"),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,c]=f.useState(null),u=[{id:"overview",label:"Overview",component:h3},{id:"my-queue",label:"My Queue",component:tde},{id:"document-verification",label:"Document Verification",component:nde},{id:"financial-review",label:"Financial Review",component:ide},{id:"academic-review",label:"Academic Review",component:lde},{id:"final-approval",label:"Final Approval",component:ode},{id:"history",label:"Decision History",component:sde},{id:"applications",label:"All Applications",component:rde},{id:"members",label:"SSC Members",component:ade}];f.useEffect(()=>{(async()=>{try{i(!0);let g=!1;try{const _=localStorage.getItem("user_data");if(_){const S=JSON.parse(_);g=S.role==="admin"||S.role==="super_admin"||S.is_admin}}catch(_){console.error("Error parsing user data:",_)}const b=await mh.fetchUserRoles(!0);console.log("SSCManagement - User Roles:",b),c(b);const y=await mh.getAllowedTabs();console.log("SSCManagement - Allowed Tabs:",y),a(g?[...y,"members","overview","applications","history"]:y);const w=await mh.getPrimaryTab();console.log("SSCManagement - Primary Tab:",w);const N=g?[...y,"members","overview","applications","history"]:y;N.includes(w)?r(w):N.length>0&&r(N[0])}catch(g){console.error("Error fetching SSC roles:",g),a(["overview","members"]),r("overview")}finally{i(!1)}})()},[]);const h=u.filter(x=>s.includes(x.id)),m=h.find(x=>x.id===t)?.component||h3;return n?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"SSC Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Loading your SSC role information..."})]}),e.jsx(dk,{variant:"module",module:"ssc",message:"Loading SSC management..."})]}):e.jsxs(yg,{variant:"page",className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"SSC Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:(console.log("SSCManagement - Header Logic:",{is_chairperson:l?.is_chairperson,role_labels:l?.role_labels,userRoles:l}),l?.is_chairperson?"SSC Chairperson - Final Approval & Decision Management":l?.role_labels?.join(", ")||"Scholarship Screening Committee - Application Review")})]}),e.jsx(xI,{tabs:h,activeTab:t,onTabChange:r,layoutId:"activeSscTab",variant:"default"}),e.jsx(gI,{activeTab:t,children:e.jsx(m,{})})]})}function dde({onPageChange:t,lastUpdated:r=null,onTabChange:s}){const[a,n]=f.useState(!0),[i,l]=f.useState(null),[c,u]=f.useState([]),[h,m]=f.useState([]),[x,g]=f.useState(null),[b,y]=f.useState([]),w=()=>{const R=new Date().getFullYear(),D=R+1;return`${R}-${D}`},[N,_]=f.useState(w()),S=async()=>{try{const R=await Ds.getAvailableSchoolYears();if(y(R),R.length>0){const D=w();R.includes(N)||(R.includes(D)?_(D):_(R[0]))}else{const D=w();y([D]),_(D)}}catch(R){console.error("Error fetching school years:",R);const D=w();y([D]),_(D)}},k=async()=>{try{n(!0),g(null);const[R,D]=await Promise.all([Ds.getMetrics({school_year:N}),Ds.getAnalyticsData("payments","6m")]);if(l(R),D&&D.dailyDisbursements&&D.dailyDisbursements.length>0){const B=D.dailyDisbursements.slice(-30).map(H=>({name:H.date?new Date(H.date).toLocaleDateString("en-PH",{month:"short",day:"numeric"}):"Unknown",amount:parseFloat(H.amount)||0}));u(B)}else if(D&&D.labels&&D.datasets&&D.datasets[0]){const $=D.labels.map((B,H)=>({name:B,amount:parseFloat(D.datasets[0].data[H])||0}));u($)}else u([]);if(D&&D.categoryDistribution&&D.categoryDistribution.length>0){const $=D.categoryDistribution.reduce((H,I)=>H+(I.value||0),0),B=D.categoryDistribution.map(H=>({name:H.name||"Other",value:$>0?Math.round(H.value/$*100):0,color:H.color||"#3b82f6"}));m(B)}else m([])}catch(R){console.error("Error fetching SAD metrics:",R),g("Failed to load metrics. Please try again."),l({need_processing:0,need_disbursing:0,disbursed_count:0,total_disbursed:0,total_budget:0,remaining_budget:0,utilization_rate:0,budgets:{scholarship_benefits:{total_budget:0,disbursed:0,remaining:0,utilization_rate:0}}}),u([]),m([])}finally{n(!1)}};f.useEffect(()=>{S()},[]),f.useEffect(()=>{(b.length>0||N)&&k()},[N]),f.useEffect(()=>{r&&k()},[r]);const v=[{id:"need_processing",title:"Need Processing",value:i?.need_processing?.toLocaleString()||"0",icon:Nt,color:"bg-amber-500",textColor:"text-amber-600",description:"Approved applications awaiting grant processing",targetTab:"applications"}],E=(()=>{if(!i?.budgets)return[];const R={scholarship_benefits:{title:"Scholarship Budget",icon:ut,color:"bg-indigo-500",textColor:"text-indigo-600",description:"Budget for merit, special, and renewal scholarship programs"},financial_support:{title:"Financial Support Budget",icon:bu,color:"bg-emerald-500",textColor:"text-emerald-600",description:"Budget for need-based financial support programs"}},D=[];return Object.keys(i.budgets).forEach($=>{const B=i.budgets[$],H=R[$];B&&B.total_budget>0&&H&&D.push({id:$,title:H.title,totalBudget:B.total_budget||0,disbursed:B.disbursed||0,remaining:B.remaining||0,utilizationRate:B.utilization_rate||0,icon:H.icon,color:H.color,textColor:H.textColor,description:H.description})}),D})(),T=h.length>0?h:[],F=async()=>{try{await tw.generatePDFReport("disbursements",{overview:{disbursedAmount:i?.total_disbursed||0,disbursedCount:i?.disbursed_count||0,totalApplications:i?.need_processing+i?.need_disbursing+i?.disbursed_count}})}catch(R){console.error("Error generating report:",R)}};return a?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(Lr,{className:"w-8 h-8 text-blue-500 animate-spin"}),e.jsx("span",{className:"ml-3 text-slate-600 dark:text-slate-400 font-medium",children:"Loading Overview..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center",children:[e.jsx(bu,{className:"w-8 h-8 text-blue-600 mr-3"}),"Aid Distribution Overview"]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Real-time summary of grant processing and fund disbursements"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:[e.jsx("label",{className:"text-xs text-slate-500 dark:text-slate-400 mr-2",children:"School Year:"}),e.jsx("select",{value:N,onChange:R=>_(R.target.value),className:"bg-transparent border-none text-sm font-medium text-slate-700 dark:text-slate-300 focus:outline-none focus:ring-0 cursor-pointer",disabled:b.length===0,children:b.length>0?b.map(R=>e.jsx("option",{value:R,children:R},R)):e.jsx("option",{value:N,children:N})})]}),e.jsxs("button",{onClick:F,className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-sm font-medium text-sm",children:[e.jsx(zu,{className:"w-4 h-4 mr-2"}),"Generate Disbursement Report"]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm flex items-center",children:[e.jsx(zt,{className:"w-4 h-4 text-slate-500 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:new Date().toLocaleDateString("en-PH",{month:"long",year:"numeric"})})]})]})]}),x&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-4 rounded-xl flex items-center text-red-700 dark:text-red-400",children:[e.jsx(bt,{className:"w-5 h-5 mr-3"}),x]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:v.map((R,D)=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all group cursor-pointer",onClick:()=>{R.id==="need_processing"&&s?s("applications"):t&&t(R.targetTab||"applications")},children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:`${R.color} p-3 rounded-xl shadow-sm text-white transform group-hover:scale-110 transition-transform`,children:e.jsx(R.icon,{className:"w-6 h-6"})}),e.jsx("div",{className:"flex items-center text-slate-400 group-hover:text-blue-500 transition-colors",onClick:$=>{$.stopPropagation(),R.id==="need_processing"&&s?s("applications"):t&&t(R.targetTab||"applications")},children:e.jsx(Nx,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:R.title}),e.jsx("h3",{className:"text-3xl font-extrabold text-slate-800 dark:text-white mt-1",children:R.value}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-2 line-clamp-2",children:R.description})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between",children:[e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${R.color} bg-opacity-10 ${R.textColor}`,children:R.id==="need_processing"?"Awaiting Action":R.id==="need_disbursing"?"In Progress":"Completed"}),e.jsx("span",{className:"text-[10px] text-slate-400",children:"Updated just now"})]})]},D))}),E.length>0&&e.jsx("div",{className:"grid grid-cols-1 gap-6 mt-6",children:E.map((R,D)=>{const $=R.icon,B=R.totalBudget>0?R.remaining/R.totalBudget*100:0;return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`${R.color} p-3 rounded-xl shadow-sm text-white`,children:e.jsx($,{className:"w-6 h-6"})}),e.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${R.color} bg-opacity-10 ${R.textColor}`,children:[R.utilizationRate.toFixed(1),"% Used"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-1",children:R.title}),e.jsxs("h3",{className:"text-2xl font-extrabold text-slate-800 dark:text-white",children:["",R.totalBudget.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:R.description})]}),e.jsxs("div",{className:"space-y-3 mt-4 pt-4 border-t border-slate-100 dark:border-slate-700",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Total Budget"}),e.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:["",R.totalBudget.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Disbursed"}),e.jsxs("span",{className:"font-semibold text-red-600 dark:text-red-400",children:["",R.disbursed.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Remaining"}),e.jsxs("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:["",R.remaining.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:`${R.color} h-2 rounded-full transition-all duration-300`,style:{width:`${B}%`}})}),e.jsxs("div",{className:"flex justify-between items-center mt-1 text-xs text-slate-500 dark:text-slate-400",children:[e.jsxs("span",{children:["Remaining: ",B.toFixed(1),"%"]}),e.jsxs("span",{children:["Used: ",R.utilizationRate.toFixed(1),"%"]})]})]})]})]},D)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center",children:[e.jsx(Vr,{className:"w-5 h-5 text-blue-500 mr-2"}),"Disbursement Trends"]}),e.jsx("div",{className:"text-xs font-semibold text-slate-400 uppercase",children:"Last 6 Months"})]}),e.jsx("div",{className:"h-[300px]",children:c.length>0?e.jsx(gl,{width:"100%",height:"100%",children:e.jsxs(bx,{data:c,children:[e.jsx(gu,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),e.jsx(po,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12},dy:10,angle:-45,textAnchor:"end",height:60}),e.jsx(wc,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12},tickFormatter:R=>R>=1e6?`${(R/1e6).toFixed(1)}M`:R>=1e3?`${(R/1e3).toFixed(0)}k`:`${R}`}),e.jsx(xl,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",backgroundColor:"#fff"},formatter:R=>[`${Number(R).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,"Disbursed"]}),e.jsx(Mc,{dataKey:"amount",fill:"#3b82f6",radius:[4,4,0,0],barSize:c.length>30?20:40})]})}):e.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Vr,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No disbursement trends data available"})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center",children:[e.jsx(ut,{className:"w-5 h-5 text-purple-500 mr-2"}),"Aid Type Distribution"]})}),e.jsx("div",{className:"h-[300px] flex items-center justify-center",children:T.length>0?e.jsx(gl,{width:"100%",height:"100%",children:e.jsxs(ew,{children:[e.jsx(hx,{data:T,cx:"50%",cy:"50%",innerRadius:70,outerRadius:100,paddingAngle:5,dataKey:"value",children:T.map((R,D)=>e.jsx(jo,{fill:R.color},`cell-${D}`))}),e.jsx(xl,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},formatter:R=>`${R}%`}),e.jsx(Pc,{verticalAlign:"bottom",align:"center",layout:"horizontal",iconType:"circle"})]})}):e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(ut,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No category data available"})]})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700 mt-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Distribution Lifecycle"})}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 relative",children:[e.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-slate-100 dark:bg-slate-700 -translate-y-1/2 hidden md:block"}),[{label:"Approved",count:i?.need_processing,icon:yh,color:"text-blue-500",bg:"bg-blue-50"},{label:"Processing",count:i?.need_disbursing,icon:Lr,iconClass:"animate-spin-slow",color:"text-amber-500",bg:"bg-amber-50"},{label:"Disbursed",count:i?.disbursed_count,icon:yh,color:"text-emerald-500",bg:"bg-emerald-50"}].map((R,D)=>e.jsxs("div",{className:"flex flex-col items-center relative z-10 bg-white dark:bg-slate-800 px-4",children:[e.jsx("div",{className:`w-12 h-12 ${R.bg} dark:bg-slate-700 rounded-full flex items-center justify-center mb-3 border-2 border-white dark:border-slate-800 shadow-sm`,children:e.jsx(R.icon,{className:`w-6 h-6 ${R.color} ${R.iconClass||""}`})}),e.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-white",children:R.label}),e.jsxs("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 mt-1",children:[R.count||0," Accounts"]})]},D))]})]})]})}const ude=({submodule:t,activeSubmodule:r,selectedApplications:s,setSelectedApplications:a,setModalState:n,onProcessPayment:i,onProcessGrant:l,onBatchProcessPayments:c,onApproveApplication:u,onRejectApplication:h,lastUpdated:m})=>{const[x,g]=f.useState([]),[b,y]=f.useState([]),[w,N]=f.useState(!0),[_,S]=f.useState(null),[k,v]=f.useState(""),[A,E]=f.useState("all"),[T,F]=f.useState("all"),[R,D]=f.useState([]),[$,B]=f.useState("table");f.useEffect(()=>{H()},[r,m]),f.useEffect(()=>{I()},[x,k,A]);const H=async()=>{N(!0);try{const re={status:t.statusFilter?.[0],submodule:r},Ee=await Ds.getApplications(re);g(Ee)}catch(re){console.error("Error fetching applications:",re)}finally{N(!1)}},I=()=>{let re=x;k&&(re=re.filter(Ee=>Ee.studentName.toLowerCase().includes(k.toLowerCase())||Ee.studentId.toLowerCase().includes(k.toLowerCase())||Ee.school.toLowerCase().includes(k.toLowerCase()))),A!=="all"&&(re=re.filter(Ee=>Ee.status===A)),T!=="all"&&(re=re.filter(Ee=>Ee.schoolYear===T)),y(re)},L=re=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(re),M=re=>new Date(re).toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric"}),q=re=>({submitted:"bg-gray-100 text-gray-800",under_review:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",pending_disbursement:"bg-orange-100 text-orange-800",grants_processing:"bg-purple-100 text-purple-800",grants_disbursed:"bg-green-100 text-green-800",disbursed:"bg-green-100 text-green-800",received:"bg-green-100 text-green-800",payment_failed:"bg-red-100 text-red-800",rejected:"bg-red-100 text-red-800"})[re],Z=re=>{s.includes(re)?a(s.filter(Ee=>Ee!==re)):a([...s,re])},G=()=>{s.length===b.length?a([]):a(b.map(re=>re.id))},de=re=>{n({isOpen:!0,application:re,mode:"view"})},X=async re=>{if(!(_===re.id||_!==null)&&l)try{S(re.id),await l(re),await H()}catch(Ee){console.error("Error processing grant:",Ee),S(null)}finally{setTimeout(()=>{S(null)},2e3)}},z=async re=>{if(u)try{await u(re.id),H()}catch(Ee){console.error("Error approving application:",Ee)}},Ie=async re=>{const Ee=prompt("Please provide a reason for rejection:");if(Ee&&h)try{await h(re.id,Ee),H()}catch(ke){console.error("Error rejecting application:",ke)}},ie=async()=>{if(s.length===0){alert("Please select applications to process");return}if(confirm(`Process payments for ${s.length} applications?`)&&c)try{await c(s),a([]),H()}catch(re){console.error("Error batch processing payments:",re)}},Pe=re=>{const Ee=[];if(Ee.push(e.jsxs("button",{onClick:()=>de(re),className:"flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:[e.jsx(Ft,{className:"w-4 h-4"}),"View"]},"view")),re.status==="approved"){const ke=_===re.id;Ee.push(e.jsx("button",{onClick:()=>X(re),disabled:ke||!!_,className:`flex items-center gap-1 px-3 py-1 text-sm rounded transition-colors ${ke||_?"bg-purple-50 text-purple-400 cursor-not-allowed":"bg-purple-100 text-purple-700 hover:bg-purple-200"}`,children:ke?e.jsxs(e.Fragment,{children:[e.jsx(Lr,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(t9,{className:"w-4 h-4"}),"Process Grant"]})},"process-grant"))}switch(r){case"under_review":Ee.push(e.jsxs("button",{onClick:()=>z(re),className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",children:[e.jsx(Le,{className:"w-4 h-4"}),"Approve"]},"approve"),e.jsxs("button",{onClick:()=>Ie(re),className:"flex items-center gap-1 px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:[e.jsx(jt,{className:"w-4 h-4"}),"Reject"]},"reject"));break;case"processing":Ee.push(e.jsxs("button",{onClick:()=>{},className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",children:[e.jsx(Le,{className:"w-4 h-4"}),"Complete"]},"complete"));break;case"failed":Ee.push(e.jsxs("button",{onClick:()=>{},className:"flex items-center gap-1 px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded hover:bg-orange-200 transition-colors",children:[e.jsx(bt,{className:"w-4 h-4"}),"Retry"]},"retry"));break}return Ee};return w?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col space-y-4 lg:flex-row lg:space-y-0 lg:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-slate-400 w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("input",{type:"text",placeholder:"Search by student name, ID, or school...",value:k,onChange:re=>v(re.target.value),className:"w-full pl-9 sm:pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent text-sm sm:text-base bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-slate-400"})]})}),e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:gap-3 lg:gap-4",children:[e.jsxs("select",{value:A,onChange:re=>E(re.target.value),className:"w-full sm:w-auto px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent text-sm sm:text-base bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"submitted",children:"Submitted"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"grants_processing",children:"Processing"}),e.jsx("option",{value:"grants_disbursed",children:"Disbursed"}),e.jsx("option",{value:"payment_failed",children:"Failed"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsxs("select",{value:T,onChange:re=>F(re.target.value),className:"w-full sm:w-auto px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent text-sm sm:text-base bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All School Years"}),R.map(re=>e.jsx("option",{value:re,children:re},re))]}),e.jsxs("div",{className:"flex border border-gray-300 dark:border-slate-600 rounded-lg",children:[e.jsx("button",{onClick:()=>B("table"),className:`px-3 py-2 text-xs sm:text-sm font-medium rounded-l-lg transition-colors ${$==="table"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 border-r border-gray-300 dark:border-slate-600":"text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300"}`,children:"Table"}),e.jsx("button",{onClick:()=>B("grid"),className:`px-3 py-2 text-xs sm:text-sm font-medium rounded-r-lg transition-colors ${$==="grid"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300"}`,children:"Grid"})]})]})]})}),e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-slate-400",children:["Showing ",b.length," of ",x.length," applications",s.length>0&&e.jsxs("span",{className:"ml-2 font-medium text-blue-600 dark:text-blue-400",children:["(",s.length," selected)"]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:gap-2",children:[e.jsxs("button",{className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors text-gray-700 dark:text-slate-300",children:[e.jsx(sr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Export"}),e.jsx("span",{className:"sm:hidden",children:"Export"})]}),r==="approved"&&s.length>0&&e.jsxs("button",{onClick:ie,className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 text-xs sm:text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(cr,{className:"w-4 h-4"}),e.jsxs("span",{className:"hidden sm:inline",children:["Process Selected (",s.length,")"]}),e.jsxs("span",{className:"sm:hidden",children:["Process (",s.length,")"]})]})]})]}),$==="table"?e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:s.length===b.length&&b.length>0,onChange:G,className:"rounded border-gray-300 dark:border-slate-600 text-blue-600 dark:text-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-slate-700"})}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"Student"}),e.jsx("span",{className:"sm:hidden",children:"STUDENT"})]}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"Amount"}),e.jsx("span",{className:"sm:hidden",children:"AMOUNT"})]}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"Status"}),e.jsx("span",{className:"sm:hidden",children:"STATUS"})]}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"Date"}),e.jsx("span",{className:"sm:hidden",children:"DATE"})]}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"School Year"}),e.jsx("span",{className:"sm:hidden",children:"SY"})]}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"Actions"}),e.jsx("span",{className:"sm:hidden",children:"ACTIONS"})]})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:b.map(re=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:s.includes(re.id),onChange:()=>Z(re.id),className:"rounded border-gray-300 dark:border-slate-600 text-blue-600 dark:text-blue-400 focus:ring-blue-500 dark:focus:ring-blue-400 bg-white dark:bg-slate-700"})}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8 sm:h-10 sm:w-10",children:e.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Jt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"})})}),e.jsxs("div",{className:"ml-2 sm:ml-4 min-w-0",children:[e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:re.studentName}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 truncate",children:re.studentId})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-900",children:L(re.amount)})}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex px-1.5 sm:px-2 py-0.5 sm:py-1 text-xs font-semibold rounded-full ${q(re.status)}`,children:[e.jsx("span",{className:"hidden sm:inline",children:re.status.replace("_"," ").toUpperCase()}),e.jsx("span",{className:"sm:hidden",children:re.status.replace("_"," ").charAt(0).toUpperCase()})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[e.jsx(zt,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:M(re.approvalDate||re.submittedDate)})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-xs sm:text-sm text-gray-900 dark:text-slate-200",children:re.schoolYear||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[Pe(re),e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx(V$,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})})]},re.id))})]})})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:b.map(re=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:s.includes(re.id),onChange:()=>Z(re.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("div",{className:"flex gap-1",children:Pe(re)})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate",children:re.studentName}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:re.studentId})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:L(re.amount)}),e.jsx("span",{className:`inline-flex px-1.5 sm:px-2 py-0.5 sm:py-1 text-xs font-semibold rounded-full ${q(re.status)}`,children:re.status.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[e.jsx(zt,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:M(re.approvalDate||re.submittedDate)})]}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-slate-300",children:"SY: "}),e.jsx("span",{className:"truncate",children:re.schoolYear||"N/A"})]})]})]},re.id))}),b.length===0&&e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx("div",{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400",children:e.jsx(ut,{className:"w-10 h-10 sm:w-12 sm:h-12"})}),e.jsx("h3",{className:"mt-2 text-sm sm:text-base font-medium text-gray-900",children:"No applications found"}),e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-500",children:k||A!=="all"?"Try adjusting your search criteria.":"No applications match the current submodule filter."})]})]})},mde=()=>{const[t,r]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(!1),[l,c]=f.useState(null),[u,h]=f.useState(null),[m,x]=f.useState(null),[g,b]=f.useState(!1),[y,w]=f.useState({budget_type:"scholarship_benefits",school_year:"",total_budget:0,description:""}),[N,_]=f.useState(""),[S,k]=f.useState(!1),v=()=>{const L=new Date().getFullYear(),M=L+1;return`${L}-${M}`};f.useEffect(()=>{A()},[]);const A=async()=>{try{a(!0),c(null);const L=await Ds.getBudgets();r(L)}catch(L){c(L.message||"Failed to fetch budgets"),console.error("Error fetching budgets:",L)}finally{a(!1)}},E=()=>{w({budget_type:"scholarship_benefits",school_year:v(),total_budget:0,description:""}),_(""),k(!1),b(!0),x(null)},T=L=>{const M=!["financial_support","scholarship_benefits"].includes(L.budget_type);w({budget_type:M?"other":L.budget_type,school_year:L.school_year,total_budget:L.total_budget,description:L.description||""}),_(M?L.budget_type:""),k(M),x(L),b(!0)},F=()=>{b(!1),x(null),w({budget_type:"scholarship_benefits",school_year:v(),total_budget:0,description:""}),_(""),k(!1),c(null),h(null)},R=async L=>{L.preventDefault();const M=y.budget_type==="other"?N.trim():y.budget_type;if(!M||!y.school_year||!y.total_budget){c("Please fill in all required fields");return}if(y.total_budget<=0){c("Total budget must be greater than 0");return}if(y.budget_type==="other"&&!N.trim()){c("Please enter a custom budget type");return}try{i(!0),c(null),h(null),await Ds.createOrUpdateBudget({budget_type:M,school_year:y.school_year,total_budget:y.total_budget,description:y.description}),h(m?"Budget updated successfully!":"Budget created successfully!"),b(!1),x(null),w({budget_type:"scholarship_benefits",school_year:v(),total_budget:0,description:""}),await A(),setTimeout(()=>h(null),3e3)}catch(q){c(q.message||"Failed to save budget"),console.error("Error saving budget:",q)}finally{i(!1)}},D=L=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(L),$=L=>({financial_support:"Financial Support",scholarship_benefits:"Scholarship Benefits"})[L]||L.replace(/_/g," ").replace(/\b\w/g,q=>q.toUpperCase()),B=L=>({financial_support:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",scholarship_benefits:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"})[L]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",H=t.reduce((L,M)=>(L[M.school_year]||(L[M.school_year]=[]),L[M.school_year].push(M),L),{}),I=Object.keys(H).sort().reverse();return s?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(Lr,{className:"w-8 h-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600 dark:text-slate-400",children:"Loading budgets..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Budget Management"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mt-1",children:"Set and manage budgets per school year. Choose from predefined types or create custom budget types."})]}),e.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(la,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Budget"})]})]}),u&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsx(yh,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:u})]}),l&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[e.jsx(bt,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),e.jsx("span",{className:"text-sm text-red-800 dark:text-red-200",children:l})]}),g&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:m?"Edit Budget":"Add New Budget"}),e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Budget Type *"}),e.jsxs("select",{value:y.budget_type,onChange:L=>{const M=L.target.value;w({...y,budget_type:M}),k(M==="other"),M!=="other"&&_("")},className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",required:!0,children:[e.jsx("option",{value:"scholarship_benefits",children:"Scholarship Benefits"}),e.jsx("option",{value:"financial_support",children:"Financial Support"}),e.jsx("option",{value:"other",children:"Other (Custom)"})]}),S&&e.jsx("input",{type:"text",value:N,onChange:L=>_(L.target.value),placeholder:"Enter custom budget type",className:"w-full mt-2 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",required:S})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"School Year *"}),e.jsx("input",{type:"text",value:y.school_year,onChange:L=>w({...y,school_year:L.target.value}),placeholder:"2026-2027",pattern:"\\d{4}-\\d{4}",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Format: YYYY-YYYY"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Total Budget () *"}),e.jsx("input",{type:"number",value:y.total_budget,onChange:L=>w({...y,total_budget:parseFloat(L.target.value)||0}),min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Description"}),e.jsx("textarea",{value:y.description,onChange:L=>w({...y,description:L.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Optional description for this budget allocation"})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx("button",{type:"submit",disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsxs(e.Fragment,{children:[e.jsx(Lr,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(lc,{className:"w-4 h-4"}),e.jsx("span",{children:m?"Update Budget":"Create Budget"})]})}),e.jsxs("button",{type:"button",onClick:F,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-gray-200 dark:bg-slate-700 hover:bg-gray-300 dark:hover:bg-slate-600 text-gray-700 dark:text-slate-300 rounded-lg transition-colors",children:[e.jsx(wt,{className:"w-4 h-4"}),e.jsx("span",{children:"Cancel"})]})]})]})]}),t.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700",children:[e.jsx(cr,{className:"w-12 h-12 text-gray-400 dark:text-slate-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"No budgets configured yet"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500 mt-1",children:'Click "Add Budget" to create your first budget allocation'})]}):e.jsx("div",{className:"space-y-6",children:I.map(L=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-slate-700/50 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-5 h-5 text-gray-600 dark:text-slate-400"}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["School Year ",L]})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:H[L].map(M=>e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{children:e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${B(M.budget_type)}`,children:$(M.budget_type)})}),e.jsx("button",{onClick:()=>T(M),className:"p-1 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Edit budget",children:e.jsx(on,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Total Budget"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:D(M.total_budget)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Disbursed"}),e.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:D(M.disbursed_budget)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Remaining"}),e.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:D(M.remaining_budget)})]})]}),M.description&&e.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 mt-2 pt-2 border-t border-gray-200 dark:border-slate-700",children:M.description}),e.jsxs("div",{className:"pt-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-500 dark:text-slate-400",children:"Utilization"}),e.jsxs("span",{className:"font-medium text-gray-700 dark:text-slate-300",children:[M.total_budget>0?(M.disbursed_budget/M.total_budget*100).toFixed(1):0,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${Math.min(M.disbursed_budget/M.total_budget*100,100)}%`}})})]})]})]},M.id))})})]},L))})]})};var hh={exports:{}},hde=hh.exports,x3;function xde(){return x3||(x3=1,(function(t,r){(function(s,a){t.exports=a()})(hde,(function(){var s=1e3,a=6e4,n=36e5,i="millisecond",l="second",c="minute",u="hour",h="day",m="week",x="month",g="quarter",b="year",y="date",w="Invalid Date",N=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(I){var L=["th","st","nd","rd"],M=I%100;return"["+I+(L[(M-20)%10]||L[M]||L[0])+"]"}},k=function(I,L,M){var q=String(I);return!q||q.length>=L?I:""+Array(L+1-q.length).join(M)+I},v={s:k,z:function(I){var L=-I.utcOffset(),M=Math.abs(L),q=Math.floor(M/60),Z=M%60;return(L<=0?"+":"-")+k(q,2,"0")+":"+k(Z,2,"0")},m:function I(L,M){if(L.date()<M.date())return-I(M,L);var q=12*(M.year()-L.year())+(M.month()-L.month()),Z=L.clone().add(q,x),G=M-Z<0,de=L.clone().add(q+(G?-1:1),x);return+(-(q+(M-Z)/(G?Z-de:de-Z))||0)},a:function(I){return I<0?Math.ceil(I)||0:Math.floor(I)},p:function(I){return{M:x,y:b,w:m,d:h,D:y,h:u,m:c,s:l,ms:i,Q:g}[I]||String(I||"").toLowerCase().replace(/s$/,"")},u:function(I){return I===void 0}},A="en",E={};E[A]=S;var T="$isDayjsObject",F=function(I){return I instanceof B||!(!I||!I[T])},R=function I(L,M,q){var Z;if(!L)return A;if(typeof L=="string"){var G=L.toLowerCase();E[G]&&(Z=G),M&&(E[G]=M,Z=G);var de=L.split("-");if(!Z&&de.length>1)return I(de[0])}else{var X=L.name;E[X]=L,Z=X}return!q&&Z&&(A=Z),Z||!q&&A},D=function(I,L){if(F(I))return I.clone();var M=typeof L=="object"?L:{};return M.date=I,M.args=arguments,new B(M)},$=v;$.l=R,$.i=F,$.w=function(I,L){return D(I,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var B=(function(){function I(M){this.$L=R(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[T]=!0}var L=I.prototype;return L.parse=function(M){this.$d=(function(q){var Z=q.date,G=q.utc;if(Z===null)return new Date(NaN);if($.u(Z))return new Date;if(Z instanceof Date)return new Date(Z);if(typeof Z=="string"&&!/Z$/i.test(Z)){var de=Z.match(N);if(de){var X=de[2]-1||0,z=(de[7]||"0").substring(0,3);return G?new Date(Date.UTC(de[1],X,de[3]||1,de[4]||0,de[5]||0,de[6]||0,z)):new Date(de[1],X,de[3]||1,de[4]||0,de[5]||0,de[6]||0,z)}}return new Date(Z)})(M),this.init()},L.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},L.$utils=function(){return $},L.isValid=function(){return this.$d.toString()!==w},L.isSame=function(M,q){var Z=D(M);return this.startOf(q)<=Z&&Z<=this.endOf(q)},L.isAfter=function(M,q){return D(M)<this.startOf(q)},L.isBefore=function(M,q){return this.endOf(q)<D(M)},L.$g=function(M,q,Z){return $.u(M)?this[q]:this.set(Z,M)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(M,q){var Z=this,G=!!$.u(q)||q,de=$.p(M),X=function(xe,Q){var et=$.w(Z.$u?Date.UTC(Z.$y,Q,xe):new Date(Z.$y,Q,xe),Z);return G?et:et.endOf(h)},z=function(xe,Q){return $.w(Z.toDate()[xe].apply(Z.toDate("s"),(G?[0,0,0,0]:[23,59,59,999]).slice(Q)),Z)},Ie=this.$W,ie=this.$M,Pe=this.$D,re="set"+(this.$u?"UTC":"");switch(de){case b:return G?X(1,0):X(31,11);case x:return G?X(1,ie):X(0,ie+1);case m:var Ee=this.$locale().weekStart||0,ke=(Ie<Ee?Ie+7:Ie)-Ee;return X(G?Pe-ke:Pe+(6-ke),ie);case h:case y:return z(re+"Hours",0);case u:return z(re+"Minutes",1);case c:return z(re+"Seconds",2);case l:return z(re+"Milliseconds",3);default:return this.clone()}},L.endOf=function(M){return this.startOf(M,!1)},L.$set=function(M,q){var Z,G=$.p(M),de="set"+(this.$u?"UTC":""),X=(Z={},Z[h]=de+"Date",Z[y]=de+"Date",Z[x]=de+"Month",Z[b]=de+"FullYear",Z[u]=de+"Hours",Z[c]=de+"Minutes",Z[l]=de+"Seconds",Z[i]=de+"Milliseconds",Z)[G],z=G===h?this.$D+(q-this.$W):q;if(G===x||G===b){var Ie=this.clone().set(y,1);Ie.$d[X](z),Ie.init(),this.$d=Ie.set(y,Math.min(this.$D,Ie.daysInMonth())).$d}else X&&this.$d[X](z);return this.init(),this},L.set=function(M,q){return this.clone().$set(M,q)},L.get=function(M){return this[$.p(M)]()},L.add=function(M,q){var Z,G=this;M=Number(M);var de=$.p(q),X=function(ie){var Pe=D(G);return $.w(Pe.date(Pe.date()+Math.round(ie*M)),G)};if(de===x)return this.set(x,this.$M+M);if(de===b)return this.set(b,this.$y+M);if(de===h)return X(1);if(de===m)return X(7);var z=(Z={},Z[c]=a,Z[u]=n,Z[l]=s,Z)[de]||1,Ie=this.$d.getTime()+M*z;return $.w(Ie,this)},L.subtract=function(M,q){return this.add(-1*M,q)},L.format=function(M){var q=this,Z=this.$locale();if(!this.isValid())return Z.invalidDate||w;var G=M||"YYYY-MM-DDTHH:mm:ssZ",de=$.z(this),X=this.$H,z=this.$m,Ie=this.$M,ie=Z.weekdays,Pe=Z.months,re=Z.meridiem,Ee=function(Q,et,ve,Ze){return Q&&(Q[et]||Q(q,G))||ve[et].slice(0,Ze)},ke=function(Q){return $.s(X%12||12,Q,"0")},xe=re||function(Q,et,ve){var Ze=Q<12?"AM":"PM";return ve?Ze.toLowerCase():Ze};return G.replace(_,(function(Q,et){return et||(function(ve){switch(ve){case"YY":return String(q.$y).slice(-2);case"YYYY":return $.s(q.$y,4,"0");case"M":return Ie+1;case"MM":return $.s(Ie+1,2,"0");case"MMM":return Ee(Z.monthsShort,Ie,Pe,3);case"MMMM":return Ee(Pe,Ie);case"D":return q.$D;case"DD":return $.s(q.$D,2,"0");case"d":return String(q.$W);case"dd":return Ee(Z.weekdaysMin,q.$W,ie,2);case"ddd":return Ee(Z.weekdaysShort,q.$W,ie,3);case"dddd":return ie[q.$W];case"H":return String(X);case"HH":return $.s(X,2,"0");case"h":return ke(1);case"hh":return ke(2);case"a":return xe(X,z,!0);case"A":return xe(X,z,!1);case"m":return String(z);case"mm":return $.s(z,2,"0");case"s":return String(q.$s);case"ss":return $.s(q.$s,2,"0");case"SSS":return $.s(q.$ms,3,"0");case"Z":return de}return null})(Q)||de.replace(":","")}))},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(M,q,Z){var G,de=this,X=$.p(q),z=D(M),Ie=(z.utcOffset()-this.utcOffset())*a,ie=this-z,Pe=function(){return $.m(de,z)};switch(X){case b:G=Pe()/12;break;case x:G=Pe();break;case g:G=Pe()/3;break;case m:G=(ie-Ie)/6048e5;break;case h:G=(ie-Ie)/864e5;break;case u:G=ie/n;break;case c:G=ie/a;break;case l:G=ie/s;break;default:G=ie}return Z?G:$.a(G)},L.daysInMonth=function(){return this.endOf(x).$D},L.$locale=function(){return E[this.$L]},L.locale=function(M,q){if(!M)return this.$L;var Z=this.clone(),G=R(M,q,!0);return G&&(Z.$L=G),Z},L.clone=function(){return $.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},I})(),H=B.prototype;return D.prototype=H,[["$ms",i],["$s",l],["$m",c],["$H",u],["$W",h],["$M",x],["$y",b],["$D",y]].forEach((function(I){H[I[1]]=function(L){return this.$g(L,I[0],I[1])}})),D.extend=function(I,L){return I.$i||(I(L,B,D),I.$i=!0),D},D.locale=R,D.isDayjs=F,D.unix=function(I){return D(1e3*I)},D.en=E[A],D.Ls=E,D.p={},D}))})(hh)),hh.exports}var gde=xde();const zn=xn(gde),pde=({isOpen:t,onClose:r,onSuccess:s,academicYear:a})=>{const[n,i]=f.useState([]),[l,c]=f.useState([]),[u,h]=f.useState(!1),[m,x]=f.useState(!1),{success:g,error:b}=Zt(),[y,w]=f.useState({source_budget_id:"",school_id:"",school_name:"",academic_year:a,allocated_amount:"",allocation_date:zn().format("YYYY-MM-DD"),expiry_date:zn().month(5).date(30).format("YYYY-MM-DD"),notes:""}),[N,_]=f.useState(null);f.useEffect(()=>{t&&S()},[t]);const S=async()=>{x(!0);try{const[R,D]=await Promise.all([fetch(`${it.AID_SERVICE.BASE_URL}/api/school-aid/budgets`),fetch(`${it.SCHOLARSHIP_SERVICE.BASE_URL}/api/schools?is_partner_school=true&per_page=100`)]),$=await R.json(),B=await D.json();if($.success&&Array.isArray($.budgets)?i($.budgets):Array.isArray($)?i($):i([]),B.success){const H=B.data?.data||B.data;c(Array.isArray(H)?H:[])}}catch(R){b("Failed to load initial data"),console.error(R)}finally{x(!1)}},k=R=>{const D=n.find($=>$.id===parseInt(R));_(D||null),w({...y,source_budget_id:R})},v=R=>{const D=l.find($=>$.id===parseInt(R));w({...y,school_id:R,school_name:D?.name||""})},A=async R=>{if(R.preventDefault(),!y.source_budget_id||!y.school_id||!y.allocated_amount){b("Please fill in all required fields");return}h(!0);try{const $=await(await fetch(`${it.AID_SERVICE.BASE_URL}/api/foundation/partner-budgets`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({source_budget_id:parseInt(y.source_budget_id),school_id:parseInt(y.school_id),school_name:y.school_name,academic_year:y.academic_year,allocated_amount:parseFloat(y.allocated_amount),allocation_date:y.allocation_date,expiry_date:y.expiry_date,notes:y.notes})})).json();$.success?(g($.message),s(),E()):b($.message||"Failed to allocate budget")}catch{b("An error occurred while allocating budget")}finally{h(!1)}},E=()=>{w({source_budget_id:"",school_id:"",school_name:"",academic_year:a,allocated_amount:"",allocation_date:zn().format("YYYY-MM-DD"),expiry_date:zn().month(5).date(30).format("YYYY-MM-DD"),notes:""}),_(null),r()},T=R=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(R),F=N&&y.allocated_amount?N.remaining_budget-parseFloat(y.allocated_amount):0;return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[9999]",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-lg w-full shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-slate-700 flex items-center justify-between bg-gray-50/50 dark:bg-slate-800/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-lg",children:e.jsx(fo,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Allocate Partner Budget"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Transfer funds from foundation pool to school"})]})]}),e.jsx("button",{type:"button",onClick:E,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:A,children:[e.jsx("div",{className:"p-6 space-y-5 max-h-[70vh] overflow-y-auto custom-scrollbar",children:m?e.jsxs("div",{className:"py-12 flex flex-col items-center justify-center gap-3",children:[e.jsx(Lr,{className:"w-8 h-8 text-blue-500 animate-spin"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Fetching active pools..."})]}):e.jsxs(e.Fragment,{children:[N&&e.jsxs("div",{className:`p-4 rounded-xl flex gap-3 border transition-all ${F<0?"bg-red-50 border-red-100 text-red-800 dark:bg-red-900/20 dark:border-red-800/50 dark:text-red-400":"bg-blue-50 border-blue-100 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800/50 dark:text-blue-400"}`,children:[F<0?e.jsx(bt,{className:"w-5 h-5 shrink-0"}):e.jsx(Gn,{className:"w-5 h-5 shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-bold",children:"Summary"}),e.jsxs("p",{className:"mt-0.5 opacity-90",children:["Pool Balance: ",e.jsx("span",{className:"font-bold",children:T(N.remaining_budget)})]}),y.allocated_amount&&e.jsxs("p",{className:"mt-0.5 opacity-90",children:["Resulting Balance: ",e.jsx("span",{className:`font-bold ${F<0?"underline":""}`,children:T(F)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Source Foundation Pool"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{required:!0,value:y.source_budget_id,onChange:R=>k(R.target.value),className:"w-full pl-4 pr-10 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-sm font-semibold appearance-none focus:ring-2 focus:ring-blue-500 transition-all dark:text-white outline-none",children:[e.jsx("option",{value:"",children:"Select pool..."}),n.map(R=>e.jsxs("option",{value:R.id,children:[R.budget_type," (",T(R.remaining_budget),")"]},R.id))]}),e.jsx(Ra,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Recipient Partner School"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{required:!0,value:y.school_id,onChange:R=>v(R.target.value),className:"w-full pl-4 pr-10 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-sm font-semibold appearance-none focus:ring-2 focus:ring-blue-500 transition-all dark:text-white outline-none",children:[e.jsx("option",{value:"",children:"Select school..."}),l.map(R=>e.jsx("option",{value:R.id,children:R.name},R.id))]}),e.jsx(Ra,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Academic Year"}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",required:!0,placeholder:"e.g. 2024-2025",value:y.academic_year,onChange:R=>w({...y,academic_year:R.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-sm font-semibold focus:ring-2 focus:ring-blue-500 outline-none transition-all dark:text-white"})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Allocation Amount (PHP)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 font-bold",children:""}),e.jsx("input",{type:"number",required:!0,min:"1",step:"0.01",placeholder:"0.00",value:y.allocated_amount,onChange:R=>w({...y,allocated_amount:R.target.value}),className:"w-full pl-8 pr-4 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl font-black text-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all placeholder:font-normal placeholder:text-sm"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Allocation Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"date",required:!0,value:y.allocation_date,onChange:R=>w({...y,allocation_date:R.target.value}),className:"w-full pl-9 pr-3 py-2.5 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-xs font-bold focus:ring-2 focus:ring-blue-500 transition-all dark:text-white"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Expiry Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(zt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"date",value:y.expiry_date,onChange:R=>w({...y,expiry_date:R.target.value}),className:"w-full pl-9 pr-3 py-2.5 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-xs font-bold focus:ring-2 focus:ring-blue-500 transition-all dark:text-white"})]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Internal Notes"}),e.jsx("textarea",{rows:2,placeholder:"Add any internal remarks here...",value:y.notes,onChange:R=>w({...y,notes:R.target.value}),className:"w-full px-4 py-3 bg-gray-50 dark:bg-slate-900 border border-gray-100 dark:border-slate-800 rounded-xl text-xs font-semibold focus:ring-2 focus:ring-blue-500 outline-none transition-all dark:text-white"})]})]})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50 flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 text-xs font-black text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 uppercase tracking-widest transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:u||m||!!y.allocated_amount&&F<0,className:`px-8 py-3 rounded-xl text-xs font-black uppercase tracking-widest text-white shadow-lg shadow-blue-500/20 transition-all flex items-center gap-2 ${u||m||y.allocated_amount&&F<0?"bg-gray-300 cursor-not-allowed shadow-none":"bg-blue-600 hover:bg-blue-700 active:scale-95"}`,children:[u&&e.jsx(Lr,{className:"w-4 h-4 animate-spin"}),F<0?"Exceeds Pool":u?"Processing":"Confirm Allocation"]})]})]})]})}):null},fde=({isOpen:t,onClose:r,budget:s})=>{const[a,n]=f.useState([]),[i,l]=f.useState(!1);f.useEffect(()=>{t&&s&&c()},[t,s]);const c=async()=>{l(!0);try{const g=await(await fetch(`${it.AID_SERVICE.BASE_URL}/api/partner-school/withdrawals?school_id=${s.school_id}`)).json();g.success&&Array.isArray(g.data)?n(g.data):n([])}catch{console.error("Failed to load withdrawals")}finally{l(!1)}},u=x=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(x),h=x=>{const g=`${it.AID_SERVICE.BASE_URL}/api/partner-school/withdrawals/${x}/proof`;window.open(g,"_blank")},m=s.allocated_amount>0?s.disbursed_amount/s.allocated_amount*100:0;return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[9999]",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl max-w-2xl w-full shadow-2xl overflow-hidden animate-in slide-in-from-bottom-4 duration-300",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-slate-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-xl flex items-center justify-center text-xl font-bold",children:s.school_name[0]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white leading-tight",children:s.school_name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 flex items-center gap-2",children:["Budget Overview  AY ",s.academic_year,e.jsx("span",{className:`px-1.5 py-0.5 rounded-md text-[10px] font-bold uppercase tracking-wider ${s.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-700"}`,children:s.status})]})]})]}),e.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-slate-200 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-0 border border-gray-100 dark:border-slate-700 rounded-2xl overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-4 bg-gray-50/50 dark:bg-slate-800/50 border-r border-gray-100 dark:border-slate-700",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Total Allocated"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white mt-1",children:u(s.allocated_amount)})]}),e.jsxs("div",{className:"p-4 bg-gray-50/50 dark:bg-slate-800/50 border-r border-gray-100 dark:border-slate-700",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Total Disbursed"}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:u(s.disbursed_amount)}),e.jsxs("div",{className:"text-[10px] font-bold bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-1.5 rounded",children:[m.toFixed(0),"%"]})]})]}),e.jsxs("div",{className:"p-4 bg-blue-600 dark:bg-blue-600",children:[e.jsx("p",{className:"text-[10px] font-bold text-white/70 uppercase tracking-widest",children:"Available Balance"}),e.jsx("p",{className:"text-lg font-bold text-white mt-1",children:u(s.available_amount)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Vr,{className:"w-4 h-4 text-gray-400"}),"Budget Utilization"]}),e.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[m.toFixed(1),"% used"]})]}),e.jsx("div",{className:"w-full bg-gray-100 dark:bg-slate-700 rounded-full h-3 overflow-hidden border border-gray-100 dark:border-slate-600",children:e.jsx("div",{className:`h-full transition-all duration-700 ease-out rounded-full ${m>=90?"bg-red-500":m>=70?"bg-amber-500":"bg-blue-500"}`,style:{width:`${Math.min(m,100)}%`}})})]}),e.jsxs("div",{className:"flex flex-wrap gap-6 py-4 border-y border-gray-100 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 dark:bg-slate-700 rounded-lg text-gray-500",children:e.jsx(zt,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Allocation Date"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-semibold",children:zn(s.allocation_date).format("MMM DD, YYYY")})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 dark:bg-slate-700 rounded-lg text-gray-500",children:e.jsx(Gn,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Expiry Date"}),e.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-semibold",children:s.expiry_date?zn(s.expiry_date).format("MMM DD, YYYY"):"Lifetime"})]})]})]}),e.jsxs("div",{className:"flex gap-2 font-bold",children:[e.jsx("button",{className:"flex-1 px-4 py-2 border border-gray-200 dark:border-slate-700 rounded-xl hover:bg-gray-50 dark:hover:bg-slate-700 text-xs text-gray-600 dark:text-slate-300 transition-colors",children:"Adjust Amount"}),e.jsx("button",{className:"flex-1 px-4 py-2 border border-gray-200 dark:border-slate-700 rounded-xl hover:bg-gray-50 dark:hover:bg-slate-700 text-xs text-gray-600 dark:text-slate-300 transition-colors",children:"Extend Expiry"}),e.jsx("button",{className:"flex items-center justify-center p-2 border border-gray-200 dark:border-slate-700 rounded-xl hover:bg-gray-50 dark:hover:bg-slate-700 text-xs text-gray-600 dark:text-slate-300 transition-colors",children:e.jsx(Nc,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(o9,{className:"w-4 h-4 text-gray-400"}),"Recent Withdrawals"]}),e.jsxs("button",{className:"text-xs font-bold text-blue-600 hover:underline flex items-center gap-1 group",children:["View All ",e.jsx(Uu,{className:"w-3 h-3 group-hover:translate-x-0.5 transition-transform"})]})]}),e.jsx("div",{className:"space-y-2",children:i?e.jsx("div",{className:"py-8 flex justify-center",children:e.jsx(Lr,{className:"w-6 h-6 text-blue-500 animate-spin"})}):a.length===0?e.jsx("div",{className:"py-8 text-center text-xs text-gray-500 italic",children:"No withdrawals found for this period."}):a.map(x=>e.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-slate-800 rounded-xl flex items-center justify-between hover:shadow-sm transition-shadow group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-white dark:bg-slate-800 flex items-center justify-center text-[10px] font-bold text-gray-400 group-hover:text-blue-500 transition-colors shadow-sm uppercase",children:x.purpose[0]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-900 dark:text-white",children:x.purpose}),e.jsx("p",{className:"text-[10px] text-gray-400",children:zn(x.withdrawal_date).format("MMM DD, YYYY")})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xs font-bold text-red-600",children:["-",u(x.amount)]}),e.jsx("p",{className:"text-[10px] text-green-600 font-bold uppercase tracking-tight",children:"Recorded"})]}),x.proof_document_path&&e.jsx("button",{onClick:()=>h(x.id),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"View Proof",children:e.jsx(Nc,{className:"w-4 h-4"})})]})]},x.id))})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50 flex justify-end",children:e.jsx("button",{onClick:r,className:"px-6 py-2 bg-gray-900 dark:bg-white dark:text-gray-900 text-white text-xs font-bold rounded-xl hover:opacity-90 transition-opacity",children:"Close Details"})})]})}):null},yde=()=>{const[t,r]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState("2024-2025"),[l,c]=f.useState(""),[u,h]=f.useState(!1),[m,x]=f.useState(!1),[g,b]=f.useState(null),{success:y,error:w}=Zt();f.useEffect(()=>{N()},[n]);const N=async()=>{try{a(!0);const T=await(await fetch(`${it.AID_SERVICE.BASE_URL}/api/foundation/partner-budgets?academic_year=${n}`)).json();T.success&&r(T.data)}catch{w("Failed to load budgets")}finally{a(!1)}},_=E=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(E),S=(E,T)=>T>0?E/T*100:0,k=E=>{b(E),x(!0)},v=()=>{N(),y("Budget allocated successfully")},A=t.filter(E=>E.school_name.toLowerCase().includes(l.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(fo,{className:"w-6 h-6 text-blue-500"}),"Partner School Budgets"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Manage fund allocations for private partner schools"})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxs("select",{value:n,onChange:E=>i(E.target.value),className:"px-3 py-2 bg-white dark:bg-slate-800 border border-gray-300 dark:border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 transition-all font-medium text-gray-700 dark:text-slate-200",children:[e.jsx("option",{value:"2024-2025",children:"2024-2025"}),e.jsx("option",{value:"2023-2024",children:"2023-2024"}),e.jsx("option",{value:"2025-2026",children:"2025-2026"})]}),e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium shadow-sm",children:[e.jsx(la,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Allocate Budget"}),e.jsx("span",{className:"sm:hidden",children:"Allocate"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Allocated"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:_(t.reduce((E,T)=>E+T.allocated_amount,0))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Disbursed"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1",children:_(t.reduce((E,T)=>E+T.disbursed_amount,0))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Remaining Pool"}),e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:_(t.reduce((E,T)=>E+T.available_amount,0))})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-slate-700 flex flex-col sm:flex-row gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search partner schools...",value:l,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg text-sm bg-gray-50 dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 outline-none transition-all dark:text-white"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"School Name"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-slate-400 uppercase tracking-wider text-right",children:"Allocation"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Usage Progress"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-slate-400 uppercase tracking-wider text-right",children:"Available"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-slate-400 uppercase tracking-wider text-center",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-slate-400 uppercase tracking-wider text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700 font-medium",children:s?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[e.jsx(Lr,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading budgets..."})]})}):A.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No partner budgets found for this criteria."})})}):A.map(E=>{const T=S(E.disbursed_amount,E.allocated_amount);return e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-slate-700/30 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:E.school_name}),e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:["ID: ",E.school_id]})]}),e.jsx("td",{className:"px-6 py-4 text-right",children:_(E.allocated_amount)}),e.jsxs("td",{className:"px-6 py-4 min-w-[200px]",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1.5",children:[e.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:[_(E.disbursed_amount)," used"]}),e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:[T.toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 rounded-full ${T>=90?"bg-red-500":T>=70?"bg-amber-500":"bg-blue-500"}`,style:{width:`${Math.min(T,100)}%`}})})]}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("span",{className:`font-bold ${E.available_amount<=0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"}`,children:_(E.available_amount)})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs border ${E.status==="active"?"bg-green-50 text-green-700 border-green-100 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800/50":E.status==="depleted"?"bg-red-50 text-red-700 border-red-100 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800/50":"bg-amber-50 text-amber-700 border-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-800/50"}`,children:E.status.toUpperCase()})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>k(E),className:"p-1.5 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"View Details",children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Adjust Budget",children:e.jsx(T9,{className:"w-4 h-4"})})]})})]},E.id)})})]})})]}),u&&e.jsx(pde,{isOpen:u,onClose:()=>h(!1),onSuccess:v,academicYear:n}),g&&e.jsx(fde,{isOpen:m,onClose:()=>x(!1),budget:g,onUpdate:N})]})},bde=({isOpen:t,onClose:r,application:s,onSubmit:a,isSubmitting:n})=>{const[i,l]=f.useState({method:"bank_transfer",providerName:"",referenceNumber:"",receiptFile:null,notes:""}),[c,u]=f.useState({}),[h,m]=f.useState(!1),[x,g]=f.useState(!1),b=f.useRef(null);if(!t||!s)return null;const y=()=>{const T={};return i.method||(T.method="Payment method is required"),i.providerName||(T.providerName="Provider name is required"),i.referenceNumber||(T.referenceNumber="Reference number is required"),i.receiptFile||(T.receiptFile="Receipt upload is mandatory"),u(T),Object.keys(T).length===0},w=async T=>{T.preventDefault(),y()&&await a(i)},N=T=>{const{name:F,value:R}=T.target;l(D=>({...D,[F]:R})),c[F]&&u(D=>({...D,[F]:void 0}))},_=T=>{T.target.files&&T.target.files[0]&&S(T.target.files[0])},S=T=>{if(!["image/jpeg","image/png","application/pdf"].includes(T.type)){u(D=>({...D,receiptFile:"Invalid file type. Please upload JPG, PNG, or PDF."}));return}if(T.size>5242880){u(D=>({...D,receiptFile:"File size exceeds 5MB limit."}));return}l(D=>({...D,receiptFile:T})),u(D=>({...D,receiptFile:void 0}))},k=T=>{T.preventDefault(),T.stopPropagation(),T.type==="dragenter"||T.type==="dragover"?m(!0):T.type==="dragleave"&&m(!1)},v=T=>{T.preventDefault(),T.stopPropagation(),m(!1),T.dataTransfer.files&&T.dataTransfer.files[0]&&S(T.dataTransfer.files[0])},A=T=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(T),E=T=>!T||T.length<=4?"****":"*".repeat(T.length-4)+T.slice(-4);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Process Disbursement"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:["Enter transfer details for ",s.studentName]})]}),e.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 rounded-lg transition-colors",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-blue-900 dark:text-blue-100 mb-1",children:[e.jsx(cr,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Disbursement Amount"})]}),e.jsx("span",{className:"text-xl font-bold text-blue-700 dark:text-blue-300",children:A(s.amount)})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:"Student Account"}),e.jsx("button",{type:"button",onClick:()=>g(!x),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:x?e.jsx(Fs,{className:"w-4 h-4"}):e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:s.paymentMethod?s.paymentMethod.replace("_"," ").toUpperCase():"N/A"}),e.jsx("span",{className:"text-lg font-mono font-semibold text-gray-900 dark:text-white",children:x?s.walletAccountNumber||"Not provided":E(s.walletAccountNumber)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Payment Method"}),e.jsxs("select",{name:"method",value:i.method,onChange:N,className:"w-full rounded-lg border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),e.jsx("option",{value:"gcash",children:"GCash"}),e.jsx("option",{value:"maya",children:"Maya"}),e.jsx("option",{value:"cheque",children:"Cheque"}),e.jsx("option",{value:"cash",children:"Cash"})]}),c.method&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:c.method})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Provider Name"}),e.jsx("input",{type:"text",name:"providerName",value:i.providerName,onChange:N,placeholder:"e.g. BDO, GCash",className:`w-full rounded-lg border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500 ${c.providerName?"border-red-500":""}`}),c.providerName&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:c.providerName})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Transaction Reference Number"}),e.jsx("input",{type:"text",name:"referenceNumber",value:i.referenceNumber,onChange:N,placeholder:"Enter unique transaction ID",className:`w-full rounded-lg border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500 ${c.referenceNumber?"border-red-500":""}`}),c.referenceNumber&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:c.referenceNumber})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:["Upload Receipt / Proof of Transfer ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer
                ${h?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-slate-600 hover:border-blue-400"}
                ${c.receiptFile?"border-red-500 bg-red-50 dark:bg-red-900/10":""}
              `,onDragEnter:k,onDragLeave:k,onDragOver:k,onDrop:v,onClick:()=>b.current?.click(),children:[e.jsx("input",{ref:b,type:"file",className:"hidden",onChange:_,accept:".jpg,.jpeg,.png,.pdf"}),i.receiptFile?e.jsxs("div",{className:"flex items-center justify-center text-green-600 dark:text-green-400",children:[e.jsx(Le,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-sm font-medium truncate max-w-[200px]",children:i.receiptFile.name})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ia,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Drag & drop or click to upload"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"JPG, PNG, PDF (Max 5MB)"})]})]}),c.receiptFile&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:c.receiptFile})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1",children:"Notes (Optional)"}),e.jsx("textarea",{name:"notes",value:i.notes,onChange:N,rows:3,placeholder:"Add any internal notes...",className:"w-full rounded-lg border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-slate-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",disabled:n,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):"Confirm Disbursement"})]})]})]})})},vde=({isOpen:t,onClose:r,application:s})=>{const[a,n]=De.useState(!1);if(!t||!s)return null;const i=h=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(h),l=h=>new Date(h).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=h=>({submitted:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",under_review:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",approved:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",pending_disbursement:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",grants_processing:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",grants_disbursed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",disbursed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",received:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",payment_failed:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",rejected:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[h]||"bg-gray-100 text-gray-800",u=h=>!h||h.length<=4?"****":"*".repeat(h.length-4)+h.slice(-4);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Application Details"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:"View scholarship application information"})]}),e.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-slate-300 rounded-lg transition-colors",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${c(s.status)}`,children:s.status.replace("_"," ").toUpperCase()})}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300 uppercase tracking-wide",children:"Student Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:e.jsx(Jt,{className:"w-5 h-5 text-blue-600 dark:text-blue-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Student Name"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.studentName})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Student ID"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.studentId})]}),e.jsxs("div",{className:"flex items-start gap-3 md:col-span-2",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center",children:e.jsx(Ls,{className:"w-5 h-5 text-purple-600 dark:text-purple-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"School"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.school})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300 uppercase tracking-wide",children:"Financial Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx(cr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Grant Amount"}),e.jsx("p",{className:"text-xl font-bold text-blue-700 dark:text-blue-300",children:i(s.amount)})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Student Account"}),e.jsx("button",{type:"button",onClick:()=>n(!a),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:a?e.jsx(Fs,{className:"w-4 h-4"}):e.jsx(Ft,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mb-1",children:s.paymentMethod?s.paymentMethod.replace("_"," ").toUpperCase():"N/A"}),e.jsx("p",{className:"text-sm font-mono font-semibold text-gray-900 dark:text-white",children:a?s.walletAccountNumber||"Not provided":u(s.walletAccountNumber)})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300 uppercase tracking-wide",children:"Application Timeline"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:e.jsx(zt,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Submitted Date"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:l(s.submittedDate)})]})]}),s.approvalDate&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-green-200 dark:bg-green-900 flex items-center justify-center",children:e.jsx(zt,{className:"w-5 h-5 text-green-600 dark:text-green-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Approval Date"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:l(s.approvalDate)})]})]})]})]}),s.notes&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300 uppercase tracking-wide flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4"}),"Notes"]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-slate-300 whitespace-pre-wrap",children:s.notes})]})]}),e.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 dark:border-slate-700",children:e.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors",children:"Close"})})]})})},wde=({onPageChange:t}={})=>{const{currentUser:r}=Lt(),[s,a]=f.useState("overview"),[n,i]=f.useState([]),[l,c]=f.useState({isOpen:!1,application:null,mode:"view"}),[u,h]=f.useState(Date.now()),m=[{id:"overview",label:"Overview",icon:Kl,component:dde,submodules:[]},{id:"applications",label:"Processing Grants",icon:ut,component:ude,submodules:[]},{id:"budget",label:"Yearly School Budget",icon:cr,component:mde,submodules:[]},{id:"partner-budgets",label:"Partner Budgets",icon:fo,component:yde,submodules:[]}],x=m.find(k=>k.id===s),g=async(k,v)=>{try{if(console.log("Processing payment for:",k,"with data:",v),v){const A=await Ds.processPaymentWithDetails(k.id,v.method,v.providerName,v.referenceNumber,v.receiptFile,v.notes,r?r.id:void 0,r?pw(r):void 0);console.log("Payment processed successfully with form data:",A)}else{const A=await Ds.processPayment(k.id,"bank_transfer");await Ds.updateApplicationStatus(k.id,"grants_processing"),console.log("Payment processed successfully:",A)}c(A=>({...A,isOpen:!1})),h(Date.now())}catch(A){throw console.error("Error processing payment:",A),A}},b=async k=>{try{console.log("Batch processing payments for:",k),await Ds.batchUpdateApplications(k,"grants_processing");for(const v of k)await Ds.processPayment(v,"bank_transfer");console.log("Batch payment processing completed"),h(Date.now())}catch(v){throw console.error("Error batch processing payments:",v),v}},y=async k=>{try{await Ds.updateApplicationStatus(k,"approved"),console.log("Application approved:",k),h(Date.now())}catch(v){throw console.error("Error approving application:",v),v}},w=async(k,v)=>{try{await Ds.updateApplicationStatus(k,"rejected",v),console.log("Application rejected:",k,v),h(Date.now())}catch(A){throw console.error("Error rejecting application:",A),A}},N=async k=>{try{const v=await Ds.processGrant(k.id);if(v.success&&v.payment_url&&v.redirect){window.location.href=v.payment_url;return}console.log("Grant processing initiated for application:",k.id,v),h(Date.now())}catch(v){throw console.error("Error processing grant:",v),alert(v.message||"Failed to process grant. Please try again."),v}},_=()=>{if(!x||!x.component)return null;const k=x.component,v={id:x.id,label:x.label,description:"",component:k,statusFilter:x.statusFilter,actions:[]},A=E=>{E?S(E):t&&t("applications")};return e.jsx(k,{submodule:v,activeTab:s,activeSubmodule:s,selectedApplications:n,setSelectedApplications:i,modalState:l,setModalState:c,onProcessPayment:g,onProcessGrant:N,onBatchProcessPayments:b,onApproveApplication:y,onRejectApplication:w,lastUpdated:u,onPageChange:s==="overview"?A:t||(()=>{}),onTabChange:S})},S=k=>{a(k)};return e.jsxs("div",{className:"h-full flex flex-col bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-3 sm:px-4 lg:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 dark:text-white",children:"School Aid Distribution"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-slate-400 mt-1",children:"Manage and track scholarship fund disbursements to students"})]}),n.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-slate-400",children:[n.length," selected"]}),e.jsx("button",{onClick:()=>i([]),className:"text-xs sm:text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Clear"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-3 sm:px-4 lg:px-6",children:e.jsx("nav",{className:"flex space-x-2 sm:space-x-4 lg:space-x-8 overflow-x-auto","aria-label":"Tabs",children:m.map(k=>{const v=k.icon,A=s===k.id;return e.jsxs("button",{onClick:()=>S(k.id),className:`
                    flex items-center gap-1 sm:gap-2 py-2 sm:py-3 lg:py-4 px-2 sm:px-1 border-b-2 font-medium text-xs sm:text-sm
                    transition-colors duration-200 relative whitespace-nowrap flex-shrink-0
                    ${A?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300 hover:border-gray-300 dark:hover:border-slate-600"}
                  `,children:[e.jsx(v,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"truncate",children:k.label}),k.badge&&e.jsx("span",{className:"ml-1 sm:ml-2 inline-flex items-center justify-center px-1.5 sm:px-2 py-0.5 sm:py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full",children:k.badge})]},k.id)})})})}),e.jsx("div",{className:"flex-1 overflow-auto bg-gray-50 dark:bg-slate-900",children:e.jsx("div",{className:"p-4 sm:p-6",children:_()})}),e.jsx(vde,{isOpen:l.isOpen&&l.mode==="view",onClose:()=>c(k=>({...k,isOpen:!1})),application:l.application}),e.jsx(bde,{isOpen:l.isOpen&&l.mode==="process",onClose:()=>c(k=>({...k,isOpen:!1})),application:l.application,onSubmit:async k=>{l.application&&await g(l.application,k)},isSubmitting:!1})]})},jde=()=>{const[t,r]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(""),[l,c]=f.useState("all"),[u,h]=f.useState(""),[m,x]=f.useState(""),[g,b]=f.useState("disbursedAt"),[y,w]=f.useState("desc"),[N,_]=f.useState(null);f.useEffect(()=>{S()},[n,l,u,m,g,y]);const S=async()=>{a(!0);try{const $={};n&&($.search=n),l!=="all"&&($.method=l),u&&($.dateFrom=u),m&&($.dateTo=m),$.sortBy=g==="disbursedAt"?"disbursed_at":"amount",$.sortDir=y;const B=await Ds.getDisbursementHistory($);r(B)}catch($){console.error("Error fetching disbursement history:",$)}finally{a(!1)}},k=$=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format($),v=$=>$?new Date($).toLocaleString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",A=$=>{g===$?w(y==="asc"?"desc":"asc"):(b($),w("desc"))},E=()=>{const $=window.open("","_blank");if(!$)return;const B="School Aid Disbursement History",H=t.map(I=>`
      <tr>
        <td>${I.applicationNumber??""}</td>
        <td>${I.studentName??""}</td>
        <td>${k(I.amount)}</td>
        <td>${I.method}</td>
        <td>${I.providerName}</td>
        <td>${I.referenceNumber}</td>
        <td>${I.disbursedByName??(I.disbursedByUserId?"User #"+I.disbursedByUserId:"")}</td>
        <td>${v(I.disbursedAt)}</td>
      </tr>
    `).join("");$.document.write(`
      <html>
        <head>
          <title>${B}</title>
          <style>
            body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; padding: 16px; }
            h1 { font-size: 20px; margin-bottom: 16px; }
            table { width: 100%; border-collapse: collapse; font-size: 12px; }
            th, td { border: 1px solid #ddd; padding: 6px 8px; text-align: left; }
            th { background-color: #f3f4f6; }
          </style>
        </head>
        <body>
          <h1>${B}</h1>
          <table>
            <thead>
              <tr>
                <th>Application No.</th>
                <th>Student</th>
                <th>Amount</th>
                <th>Method</th>
                <th>Provider</th>
                <th>Reference</th>
                <th>Disbursed By</th>
                <th>Disbursed At</th>
              </tr>
            </thead>
            <tbody>
              ${H}
            </tbody>
          </table>
        </body>
      </html>
    `),$.document.close(),$.focus(),$.print()},T=$=>{_($)},F=()=>{_(null)},R=$=>$.receiptPath?$.id?`${it.AID_SERVICE.BASE_URL}/api/school-aid/disbursements/${$.id}/receipt`:$.receiptPath.startsWith("http://")||$.receiptPath.startsWith("https://")?$.receiptPath:`${it.AID_SERVICE.BASE_URL}${$.receiptPath}`:null,D=$=>!$.receiptPath||!$.id?null:`${it.AID_SERVICE.BASE_URL}/api/school-aid/disbursements/${$.id}/receipt/download`;return s?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white",children:"Disbursement History"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mt-1",children:"View and export the complete history of scholarship aid disbursements."})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-slate-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search by student, school, application no., or reference...",value:n,onChange:$=>i($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fa,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"}),e.jsxs("select",{value:l,onChange:$=>c($.target.value),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800",children:[e.jsx("option",{value:"all",children:"All methods"}),e.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),e.jsx("option",{value:"gcash",children:"GCash"}),e.jsx("option",{value:"paymaya",children:"PayMaya"}),e.jsx("option",{value:"check",children:"Check"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"}),e.jsx("input",{type:"date",value:u,onChange:$=>h($.target.value),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"to"}),e.jsx("input",{type:"date",value:m,onChange:$=>x($.target.value),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-800"})]}),e.jsx("div",{children:e.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(sr,{className:"w-4 h-4"}),"Export PDF"]})})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Application No."}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",onClick:()=>A("amount"),children:["Amount",e.jsx("span",{className:"ml-1 text-gray-400",children:g==="amount"?y==="asc"?"":"":""})]}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",onClick:()=>A("disbursedAt"),children:["Disbursed At",e.jsx("span",{className:"ml-1 text-gray-400",children:g==="disbursedAt"?y==="asc"?"":"":""})]}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map($=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.applicationNumber}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center",children:e.jsx(Jt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:$.studentName})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:k($.amount)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900 dark:text-white capitalize",children:[e.jsx(cr,{className:"w-4 h-4 mr-1 text-gray-400 dark:text-slate-400"}),$.method?.replace("_"," ")||"Bank Transfer"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v($.disbursedAt)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("button",{type:"button",onClick:()=>T($),className:"inline-flex items-center px-3 py-1 border border-gray-300 dark:border-slate-600 rounded-full text-xs font-medium text-gray-700 dark:text-slate-200 bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700",children:"View"})})]},$.id))})]})}),t.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 dark:text-slate-400",children:e.jsx(cr,{className:"w-12 h-12"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No disbursements found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your filters or search criteria."})]})]}),N&&e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-lg w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Disbursement Details"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:["Application ",N.applicationNumber??N.applicationId]})]}),e.jsx("button",{type:"button",onClick:F,className:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-500 dark:text-slate-300",children:e.jsx(wt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"px-6 py-4 space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Student"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:N.studentName||""})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"School"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:N.schoolName||""})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Amount"}),e.jsx("div",{className:"text-gray-900 dark:text-white font-semibold",children:k(N.amount)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Method"}),e.jsx("div",{className:"text-gray-900 dark:text-white capitalize",children:N.method?.replace("_"," ")||"Bank Transfer"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Provider"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:N.providerName||""})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Reference"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:N.referenceNumber||""})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Account Number"}),e.jsx("div",{className:"text-gray-900 dark:text-white font-mono",children:N.accountNumber||""})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Disbursed By"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:N.disbursedByName??(N.disbursedByUserId?`User #${N.disbursedByUserId}`:"")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Disbursed By"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:N.disbursedByName??(N.disbursedByUserId?`User #${N.disbursedByUserId}`:"")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Disbursed At"}),e.jsx("div",{className:"text-gray-900 dark:text-white",children:v(N.disbursedAt)||""})]})]}),N.notes&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Notes"}),e.jsx("div",{className:"text-gray-900 dark:text-white whitespace-pre-line",children:N.notes})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-slate-400",children:"Receipt"}),R(N)?e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("a",{href:R(N)||"#",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full bg-blue-50 text-blue-700 hover:bg-blue-100 dark:bg-blue-900/40 dark:text-blue-200",children:[e.jsx(Nc,{className:"w-3 h-3 mr-1"}),"View"]}),e.jsxs("a",{href:D(N)||"#",download:!0,className:"inline-flex items-center px-3 py-1 text-xs font-medium rounded-full bg-green-50 text-green-700 hover:bg-green-100 dark:bg-green-900/40 dark:text-green-200",children:[e.jsx(sr,{className:"w-3 h-3 mr-1"}),"Download"]})]}):e.jsx("div",{className:"text-gray-500 dark:text-slate-400",children:"No receipt available"})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-slate-700 flex justify-end",children:e.jsx("button",{type:"button",onClick:F,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-slate-200 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700",children:"Close"})})]})})]})};class Nde{constructor(){this.baseURL=Ca("/api")}getHeaders(r="application/json"){return{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":r}}async getStudents(r={}){try{const s=new URLSearchParams;return Object.keys(r).forEach(n=>{r[n]!==void 0&&r[n]!==null&&r[n]!==""&&s.append(n,r[n])}),(await yt.get(`${this.baseURL}/students?${s.toString()}`,{headers:this.getHeaders()})).data}catch(s){throw console.error("Error fetching students:",s),s}}async getStudentByUUID(r){try{return(await yt.get(`${this.baseURL}/students/${r}`,{headers:this.getHeaders()})).data}catch(s){throw console.error("Error fetching student:",s),s}}async createStudent(r){try{return(await yt.post(`${this.baseURL}/students`,r,{headers:this.getHeaders()})).data}catch(s){throw console.error("Error creating student:",s),s}}async updateStudent(r,s){try{return(await yt.put(`${this.baseURL}/students/${r}`,s,{headers:this.getHeaders()})).data}catch(a){throw console.error("Error updating student:",a),a}}async deleteStudent(r){try{return(await yt.delete(`${this.baseURL}/students/${r}`,{headers:this.getHeaders()})).data}catch(s){throw console.error("Error deleting student:",s),s}}async forceDeleteStudent(r){try{return(await yt.delete(`${this.baseURL}/students/${r}/force`,{headers:this.getHeaders()})).data}catch(s){throw console.error("Error force deleting student:",s),s}}async bulkForceDeleteStudents(r){try{return(await yt.post(`${this.baseURL}/students/bulk-force-delete`,{uuids:r},{headers:this.getHeaders()})).data}catch(s){throw console.error("Error bulk force deleting students:",s),s}}async archiveStudent(r,s){try{return(await yt.post(`${this.baseURL}/students/${r}/archive`,{reason:s},{headers:this.getHeaders()})).data}catch(a){throw console.error("Error archiving student:",a),a}}async restoreStudent(r){try{return(await yt.post(`${this.baseURL}/students/${r}/restore`,{},{headers:this.getHeaders()})).data}catch(s){throw console.error("Error restoring student:",s),s}}async addStudentNote(r,s){try{return(await yt.post(`${this.baseURL}/students/${r}/notes`,{note:s},{headers:this.getHeaders()})).data}catch(a){throw console.error("Error adding student note:",a),a}}async uploadStudentDocument(r,s,a){try{const n=new FormData;return n.append("file",s),n.append("type",a),(await yt.post(`${this.baseURL}/students/${r}/documents`,n,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error uploading student document:",n),n}}async getStudentFinancialHistory(r){try{return(await yt.get(`${this.baseURL}/students/${r}/financial-aid`,{headers:this.getHeaders()})).data}catch(s){throw console.error("Error fetching student financial history:",s),s}}async getStudentAcademicHistory(r){try{return(await yt.get(`${this.baseURL}/students/${r}/academic-records`,{headers:this.getHeaders()})).data}catch(s){throw console.error("Error fetching student academic history:",s),s}}async updateAcademicStatus(r,s){try{return(await yt.put(`${this.baseURL}/students/${r}/academic-status`,{academic_status:s},{headers:this.getHeaders()})).data}catch(a){throw console.error("Error updating academic status:",a),a}}async getStudentStatistics(){try{return(await yt.get(`${this.baseURL}/students/statistics`,{headers:this.getHeaders()})).data}catch(r){throw console.error("Error fetching student statistics:",r),r}}async getStudentsByScholarshipStatus(r){try{return(await yt.get(`${this.baseURL}/students/scholarship-status/${r}`,{headers:this.getHeaders()})).data}catch(s){throw console.error("Error fetching students by scholarship status:",s),s}}async bulkUpdateStudents(r,s){try{return(await yt.post(`${this.baseURL}/students/bulk-update`,{uuids:r,updates:s},{headers:this.getHeaders()})).data}catch(a){throw console.error("Error bulk updating students:",a),a}}async sendNotificationToStudents(r,s){try{return(await yt.post(`${this.baseURL}/students/notifications`,{student_uuids:r,...s},{headers:this.getHeaders()})).data}catch(a){throw console.error("Error sending notification to students:",a),a}}async getStudentDocuments(r){try{return(await yt.get(`${this.baseURL}/students/${r}/documents`,{headers:this.getHeaders()})).data}catch(s){throw console.error("Error fetching student documents:",s),s}}async deleteStudentDocument(r,s){try{return(await yt.delete(`${this.baseURL}/students/${r}/documents/${s}`,{headers:this.getHeaders()})).data}catch(a){throw console.error("Error deleting student document:",a),a}}async bulkArchiveStudents(r,s="Bulk archived by admin"){try{return(await yt.post(`${this.baseURL}/students/bulk-archive`,{uuids:r,reason:s},{headers:this.getHeaders()})).data}catch(a){throw console.error("Error bulk archiving students:",a),a}}async bulkRestoreStudents(r){try{return(await yt.post(`${this.baseURL}/students/bulk-restore`,{uuids:r},{headers:this.getHeaders()})).data}catch(s){throw console.error("Error bulk restoring students:",s),s}}async importStudents(r,s={}){try{const a=new FormData;return a.append("file",r),s.skipFirstRow!==void 0&&a.append("skip_first_row",s.skipFirstRow),s.delimiter&&a.append("delimiter",s.delimiter),s.defaultStatus&&a.append("default_status",s.defaultStatus),s.validateEmail!==void 0&&a.append("validate_email",s.validateEmail),s.autoGenerateStudentNumbers!==void 0&&a.append("auto_generate_student_numbers",s.autoGenerateStudentNumbers),(await yt.post(`${this.baseURL}/students/import`,a,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Error importing students:",a),a}}async exportStudents(r={},s="csv"){try{const a=new URLSearchParams;return a.append("format",s),Object.keys(r).forEach(i=>{r[i]!==void 0&&r[i]!==null&&r[i]!==""&&a.append(i,r[i])}),(await yt.get(`${this.baseURL}/students/export?${a.toString()}`,{headers:this.getHeaders(),responseType:"blob"})).data}catch(a){throw console.error("Error exporting students:",a),a}}async getStudentNotes(r){try{return(await yt.get(`${this.baseURL}/students/${r}/notes`,{headers:this.getHeaders()})).data}catch(s){throw console.error("Error fetching student notes:",s),s}}async deleteStudentNote(r,s){try{return(await yt.delete(`${this.baseURL}/students/${r}/notes/${s}`,{headers:this.getHeaders()})).data}catch(a){throw console.error("Error deleting student note:",a),a}}async getFilterOptions(){try{return(await yt.get(`${this.baseURL}/students/filter-options`,{headers:this.getHeaders()})).data}catch(r){return r.response&&r.response.status!==404&&console.error("StudentApiService: Error fetching filter options:",r),{data:{programs:[],schools:[],year_levels:["1st Year","2nd Year","3rd Year","4th Year","5th Year"],scholarship_statuses:["none","applicant","scholar","alumni"],statuses:["active","inactive","archived"]}}}}}const ia=new Nde,W0=({title:t,value:r,icon:s,color:a,trend:n,description:i})=>e.jsxs(Et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6 transition-all hover:shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:r}),i&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:i})]}),e.jsx("div",{className:`p-3 rounded-lg bg-${a}-50 dark:bg-${a}-900/20`,children:e.jsx(s,{className:`w-6 h-6 text-${a}-500`})})]}),n&&e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(Vr,{className:"w-4 h-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-600 font-medium",children:n}),e.jsx("span",{className:"text-gray-400 ml-1",children:"vs last month"})]})]}),bI=()=>{const[t,r]=f.useState(null),[s,a]=f.useState(!0);return f.useEffect(()=>{(async()=>{try{const i=await ia.getStudentStatistics();r(i.data)}catch{console.error("Failed to fetch stats")}finally{a(!1)}})()},[]),s?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 animate-pulse",children:[1,2,3,4].map(n=>e.jsx("div",{className:"h-32 bg-gray-200 dark:bg-slate-700 rounded-xl"},n))}):e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx(W0,{title:"Total Students",value:t?.total_students?.toLocaleString()||"0",icon:Ht,color:"blue",description:"Active registered students"}),e.jsx(W0,{title:"Active Scholars",value:t?.active_scholars?.toLocaleString()||"0",icon:xr,color:"green",description:"Currently receiving aid"}),e.jsx(W0,{title:"Applicants",value:t?.applicants?.toLocaleString()||"0",icon:yi,color:"orange",description:"Pending applications"}),e.jsx(W0,{title:"At Risk",value:t?.at_risk||"0",icon:bt,color:"red",description:"Students needing attention"})]})},vI=({isOpen:t,onClose:r,initialData:s,onSuccess:a})=>{const{showSuccess:n,showError:i}=Zt(),[l,c]=f.useState(!1),[u,h]=f.useState({first_name:"",middle_name:"",last_name:"",email:"",contact_number:"",student_number:"",program:"",year_level:"1st Year",school_name:"",scholarship_status:"none"});f.useEffect(()=>{h(s?{first_name:s.first_name||"",middle_name:s.middle_name||"",last_name:s.last_name||"",email:s.email||"",contact_number:s.contact_number||"",student_number:s.student_number||"",program:s.program||"",year_level:s.year_level||"1st Year",school_name:s.school_name||"",scholarship_status:s.scholarship_status||"none"}:{first_name:"",middle_name:"",last_name:"",email:"",contact_number:"",student_number:"",program:"",year_level:"1st Year",school_name:"",scholarship_status:"none"})},[s,t]);const m=g=>{const{name:b,value:y}=g.target;h(w=>({...w,[b]:y}))},x=async g=>{g.preventDefault(),c(!0);try{s?.student_uuid?(await ia.updateStudent(s.student_uuid,u),n("Student updated successfully")):(await ia.createStudent(u),n("Student created successfully")),a(),r()}catch{i(s?"Failed to update student":"Failed to create student")}finally{c(!1)}};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(Et.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 dark:border-slate-700",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s?"Edit Student":"Add New Student"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsx("form",{onSubmit:x,className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name *"}),e.jsx("input",{required:!0,name:"first_name",value:u.first_name,onChange:m,className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Middle Name"}),e.jsx("input",{name:"middle_name",value:u.middle_name,onChange:m,className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name *"}),e.jsx("input",{required:!0,name:"last_name",value:u.last_name,onChange:m,className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),e.jsx("input",{required:!0,type:"email",name:"email",value:u.email,onChange:m,className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contact Number"}),e.jsx("input",{name:"contact_number",value:u.contact_number,onChange:m,className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"Academic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Student ID *"}),e.jsx("input",{required:!0,name:"student_number",value:u.student_number,onChange:m,className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"School"}),e.jsx("input",{name:"school_name",value:u.school_name,onChange:m,className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Program"}),e.jsx("input",{name:"program",value:u.program,onChange:m,className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Year Level"}),e.jsxs("select",{name:"year_level",value:u.year_level,onChange:m,className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600",children:[e.jsx("option",{value:"1st Year",children:"1st Year"}),e.jsx("option",{value:"2nd Year",children:"2nd Year"}),e.jsx("option",{value:"3rd Year",children:"3rd Year"}),e.jsx("option",{value:"4th Year",children:"4th Year"}),e.jsx("option",{value:"5th Year",children:"5th Year"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Scholarship Status"}),e.jsxs("select",{name:"scholarship_status",value:u.scholarship_status,onChange:m,className:"w-full px-3 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600",children:[e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"applicant",children:"Applicant"}),e.jsx("option",{value:"scholar",children:"Scholar"}),e.jsx("option",{value:"alumni",children:"Alumni"})]})]})]})]})}),e.jsxs("div",{className:"p-6 border-t border-gray-100 dark:border-slate-700 flex justify-end gap-3",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors dark:text-gray-300 dark:hover:bg-slate-700",children:"Cancel"}),e.jsxs("button",{onClick:x,disabled:l,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[l&&e.jsx(Lr,{className:"w-4 h-4 animate-spin"}),s?"Update Student":"Create Student"]})]})]})}):null},kde=()=>{const{showSuccess:t,showError:r}=Zt(),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,c]=f.useState(!1);f.useEffect(()=>{u()},[]);const u=async()=>{try{const m=await ia.getStudents({per_page:5,sort:"created_at",order:"desc"}),x=m.data?.data||m.data||[];a(Array.isArray(x)?x:[])}catch(m){console.error("Failed to fetch recent students:",m)}finally{i(!1)}},h=m=>new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Student Registry Overview"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"System snapshot and quick actions"})]}),e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium",children:[e.jsx(fc,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Student"})]})]}),e.jsx(bI,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Nt,{className:"w-5 h-5 text-gray-400"}),"Recent Registrations"]}),e.jsx("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:"View All"})]}),n?e.jsx("div",{className:"p-12 flex justify-center",children:e.jsx(Lr,{className:"w-8 h-8 text-blue-500 animate-spin"})}):s.length>0?e.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:s.map((m,x)=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-slate-700 flex items-center justify-center text-gray-500 font-bold",children:[m.first_name?.[0],m.last_name?.[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[m.first_name," ",m.last_name]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[m.program,"  ",m.year_level]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${m.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:m.status}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:h(m.created_at)})]})]},m.student_uuid||x))}):e.jsx("div",{className:"p-12 text-center text-gray-500",children:"No recent registrations found"})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-3 transition-colors",children:[e.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:e.jsx(Ia,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Import Students"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Bulk upload via CSV/Excel"})]})]}),e.jsxs("button",{className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-3 transition-colors",children:[e.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:e.jsx(sr,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Export Data"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Download registry reports"})]})]}),e.jsxs("button",{className:"w-full text-left p-3 rounded-lg border border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 flex items-center gap-3 transition-colors",children:[e.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:e.jsx(ut,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Generate Reports"}),e.jsx("p",{className:"text-xs text-gray-500",children:"View analytics & stats"})]})]})]})]})})]}),e.jsx(vI,{isOpen:l,onClose:()=>c(!1),onSuccess:()=>{u(),t("Student added successfully")}})]})},Sde=(t="all")=>{const{showSuccess:r,showError:s}=Zt(),[a,n]=f.useState([]),[i,l]=f.useState(!0),[c,u]=f.useState({search:"",school:"all",program:"all",year_level:"all",scholarship_status:"all",academic_status:"all",campus:"all"}),[h,m]=f.useState({page:1,per_page:10,total:0,total_pages:0}),[x,g]=f.useState({field:"created_at",order:"desc"}),b=f.useCallback(async()=>{l(!0);try{const A={page:h.page,per_page:h.per_page,sort:x.field,order:x.order,search:c.search};t==="active"?A.status="active":t==="archived"?A.status="archived":t==="scholars"?(A.scholarship_status="scholar",A.status="active"):t==="non_scholars"&&(A.scholarship_status="none"),c.school!=="all"&&(A.school_name=c.school),c.program!=="all"&&(A.program=c.program),c.year_level!=="all"&&(A.year_level=c.year_level),c.academic_status!=="all"&&(A.academic_status=c.academic_status),c.scholarship_status!=="all"&&t!=="scholars"&&t!=="non_scholars"&&(A.scholarship_status=c.scholarship_status);const E=await ia.getStudents(A),T=E?.data?.data||E?.data||E||[],F=Array.isArray(T)?T:[];n(F),m(R=>({...R,total:E?.data?.total||E?.total||F.length||0,total_pages:E?.data?.last_page||E?.last_page||Math.ceil((E?.data?.total||E?.total||F.length)/h.per_page)||1}))}catch(A){console.error("Error fetching students:",A),s("Failed to fetch students"),n([])}finally{l(!1)}},[h.page,h.per_page,x,c,t,s]);f.useEffect(()=>{b()},[b]);const y=(A,E)=>{u(T=>({...T,[A]:E})),m(T=>({...T,page:1}))},w=A=>{m(E=>({...E,page:A}))},N=A=>{g(E=>({field:A,order:E.field===A&&E.order==="asc"?"desc":"asc"}))},_=()=>{b()};return{students:a,loading:i,filters:c,pagination:h,sort:x,handleFilterChange:y,handlePageChange:w,handleSortChange:N,refreshData:_,handleArchive:async A=>{try{await ia.bulkArchiveStudents(A),r(`${A.length} students archived`),_()}catch{s("Failed to archive students")}},handleRestore:async A=>{try{await ia.bulkRestoreStudents(A),r(`${A.length} students restored`),_()}catch{s("Failed to restore students")}},handleDelete:async A=>{if(confirm("Are you sure you want to permanently delete these students? This action cannot be undone."))try{await ia.bulkForceDeleteStudents(A),r(`${A.length} students permanently deleted`),_()}catch{s("Failed to delete students")}}}},_de=({filters:t,onFilterChange:r})=>{const[s,a]=f.useState(!1),[n,i]=f.useState({programs:[],schools:[],year_levels:["1st Year","2nd Year","3rd Year","4th Year"],scholarship_statuses:["scholar","applicant","none"],statuses:["active","inactive","archived"]});f.useEffect(()=>{(async()=>{try{const u=await ia.getFilterOptions();u?.data&&i(h=>({...h,...u.data}))}catch(u){u?.response?.status!==404&&console.error("Failed to fetch filter options:",u)}})()},[]);const l=Object.values(t).filter(c=>c!=="all"&&c!=="").length-(t.search?1:0);return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search by name, ID, or email...",value:t.search,onChange:c=>r("search",c.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-slate-700/50 border border-gray-200 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("button",{onClick:()=>a(!s),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-all ${s||l>0?"bg-blue-50 border-blue-200 text-blue-600 dark:bg-blue-900/20 dark:border-blue-800":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50 dark:bg-slate-800 dark:border-slate-700"}`,children:[e.jsx(Fa,{className:"w-4 h-4"}),e.jsx("span",{children:"Filters"}),l>0&&e.jsx("span",{className:"bg-blue-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:l})]})]}),s&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4 pt-4 border-t border-gray-100 dark:border-slate-700 animate-in slide-in-from-top-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"School"}),e.jsxs("select",{value:t.school,onChange:c=>r("school",c.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"All Schools"}),n.schools?.map(c=>e.jsx("option",{value:c.name||c,children:c.name||c},c.id||c))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Program"}),e.jsxs("select",{value:t.program,onChange:c=>r("program",c.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"All Programs"}),n.programs?.map(c=>e.jsx("option",{value:c,children:c},c))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Year Level"}),e.jsxs("select",{value:t.year_level,onChange:c=>r("year_level",c.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"All Levels"}),n.year_levels?.map(c=>e.jsx("option",{value:c,children:c},c))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Scholarship"}),e.jsxs("select",{value:t.scholarship_status,onChange:c=>r("scholarship_status",c.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"All Statuses"}),n.scholarship_statuses?.map(c=>e.jsx("option",{value:c,className:"capitalize",children:c},c))]})]})]})]})},Ade=({isOpen:t,onClose:r,studentUuid:s,onEdit:a})=>{const{showSuccess:n,showError:i}=Zt(),[l,c]=f.useState("overview"),[u,h]=f.useState(null),[m,x]=f.useState(!0),[g,b]=f.useState([]),[y,w]=f.useState([]),[N,_]=f.useState([]),[S,k]=f.useState([]),[v,A]=f.useState(""),E=[{id:"overview",label:"Overview",icon:Jt},{id:"academic",label:"Academic",icon:gs},{id:"scholarship",label:"Scholarship",icon:xr},{id:"financial",label:"Financial Aid",icon:cr},{id:"documents",label:"Documents",icon:ut},{id:"activity",label:"Activity",icon:ln}];f.useEffect(()=>{t&&s&&T()},[t,s]);const T=async()=>{x(!0);try{const[R,D,$,B]=await Promise.all([ia.getStudentByUUID(s),ia.getStudentAcademicHistory(s),ia.getStudentFinancialHistory(s),ia.getStudentNotes(s)]);h(R.data),b(D.data||[]),w($.data||[]),k(B.data||[]),_([])}catch(R){console.error("Error fetching student data:",R),i("Failed to load student data")}finally{x(!1)}},F=async()=>{if(!(!v.trim()||!s))try{await ia.addStudentNote(s,v),k(R=>[...R,{id:Date.now(),note:v,created_by:"Me",created_at:new Date().toISOString()}]),A(""),n("Note added")}catch{i("Failed to add note")}};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(Et.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-5xl h-[85vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-slate-700 bg-white dark:bg-slate-800 z-10",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400",children:e.jsx(Jt,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:u?`${u.first_name} ${u.last_name}`:"Loading..."}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:[u?.student_number||"ID: ...","  ",u?.program||"Program"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>a(u),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors text-sm font-medium",children:[e.jsx(on,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit Profile"})]}),e.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-64 border-r border-gray-100 dark:border-slate-700 bg-gray-50/50 dark:bg-slate-800/50 p-4 space-y-1 overflow-y-auto",children:E.map(R=>e.jsxs("button",{onClick:()=>c(R.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-all ${l===R.id?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-700/50"}`,children:[e.jsx(R.icon,{className:"w-4 h-4"}),e.jsx("span",{children:R.label})]},R.id))}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-gray-50/30 dark:bg-slate-900/30",children:m?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Lr,{className:"w-8 h-8 text-blue-500 animate-spin"})}):e.jsx(Ta,{mode:"wait",children:e.jsxs(Et.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},className:"max-w-3xl",children:[l==="overview"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4",children:"Contact Info"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-gray-700 dark:text-gray-300",children:[e.jsx(Wn,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:u?.email})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-700 dark:text-gray-300",children:[e.jsx(Ws,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:u?.contact_number||"N/A"})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-700 dark:text-gray-300",children:[e.jsx(ks,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:u?.address||"No address provided"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4",children:"Status"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Enrollment Status"}),e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${u?.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:u?.status?.toUpperCase()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Scholarship"}),e.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${u?.scholarship_status==="scholar"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:u?.scholarship_status?.toUpperCase()})]})]})]})]})}),l==="academic"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Academic Records"}),g.length>0?e.jsx("div",{className:"space-y-4",children:g.map((R,D)=>e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[R.semester," ",R.year]}),e.jsxs("span",{className:"font-medium text-blue-600",children:["GPA: ",R.gpa]})]})},D))}):e.jsx("p",{className:"text-gray-500 italic",children:"No academic records found."})]})}),l==="activity"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Notes & Activity"}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("input",{type:"text",value:v,onChange:R=>A(R.target.value),placeholder:"Add a note...",className:"flex-1 px-4 py-2 border rounded-lg dark:bg-slate-700 dark:border-slate-600"}),e.jsx("button",{onClick:F,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add"})]}),e.jsx("div",{className:"space-y-4",children:S.map((R,D)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"mt-1",children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:R.note}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[new Date(R.created_at).toLocaleString(),"  ",R.created_by]})]})]},D))})]})}),(l==="scholarship"||l==="financial"||l==="documents")&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-slate-800 rounded-full mb-4",children:[l==="scholarship"&&e.jsx(xr,{className:"w-8 h-8"}),l==="financial"&&e.jsx(cr,{className:"w-8 h-8"}),l==="documents"&&e.jsx(ut,{className:"w-8 h-8"})]}),e.jsxs("p",{children:["No ",l," information available yet."]})]})]},l)})})]})]})}):null},Cde=({viewMode:t})=>{const{students:r,loading:s,filters:a,pagination:n,handleFilterChange:i,handlePageChange:l,handleSortChange:c,refreshData:u,handleArchive:h,handleRestore:m,handleDelete:x}=Sde(t),g=Array.isArray(r)?r:[],[b,y]=f.useState(new Set),[w,N]=f.useState(!1),[_,S]=f.useState(!1),[k,v]=f.useState(null),[A,E]=f.useState(null),T=()=>{b.size===g.length?y(new Set):y(new Set(g.map(B=>B.student_uuid)))},F=B=>{const H=new Set(b);H.has(B)?H.delete(B):H.add(B),y(H)},R=B=>{const H=Array.from(b);B==="archive"&&h(H),B==="restore"&&m(H),B==="delete"&&x(H),y(new Set)},D=B=>{E(B),N(!0)},$=B=>{v(B),S(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white capitalize",children:t==="all"?"Student Registry":`${t} Students`}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Manage and view student records"})]}),e.jsx("button",{onClick:()=>{E(null),N(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium",children:"Add Student"})]}),e.jsx(bI,{}),e.jsx(_de,{filters:a,onFilterChange:i}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden",children:[e.jsx(Ta,{children:b.size>0&&e.jsxs(Et.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"bg-blue-50 dark:bg-blue-900/20 px-6 py-3 flex items-center justify-between border-b border-blue-100 dark:border-blue-800",children:[e.jsxs("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:[b.size," selected"]}),e.jsxs("div",{className:"flex gap-2",children:[t!=="archived"&&e.jsx("button",{onClick:()=>R("archive"),className:"text-xs px-3 py-1.5 bg-white dark:bg-slate-800 text-gray-700 dark:text-gray-300 rounded border border-gray-200 dark:border-slate-600 hover:bg-gray-50",children:"Archive"}),t==="archived"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>R("restore"),className:"text-xs px-3 py-1.5 bg-white dark:bg-slate-800 text-green-700 dark:text-green-400 rounded border border-gray-200 dark:border-slate-600 hover:bg-gray-50",children:"Restore"}),e.jsx("button",{onClick:()=>R("delete"),className:"text-xs px-3 py-1.5 bg-white dark:bg-slate-800 text-red-700 dark:text-red-400 rounded border border-gray-200 dark:border-slate-600 hover:bg-gray-50",children:"Delete Permanently"})]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50/50 dark:bg-slate-700/50 border-b border-gray-100 dark:border-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 w-10",children:e.jsx("button",{onClick:T,className:"flex items-center text-gray-400 hover:text-gray-600",children:b.size===g.length&&g.length>0?e.jsx(pc,{className:"w-5 h-5 text-blue-500"}):e.jsx(au,{className:"w-5 h-5"})})}),e.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700",onClick:()=>c("last_name"),children:"Student"}),e.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Program"}),e.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"p-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50 dark:divide-slate-700",children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center",children:e.jsx(Lr,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto"})})}):g.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No students found matching your criteria."})}):g.map((B,H)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors group cursor-pointer",onClick:()=>$(B.id),children:[e.jsx("td",{className:"p-4",onClick:I=>I.stopPropagation(),children:e.jsx("button",{onClick:()=>F(B.id),children:b.has(B.id)?e.jsx(pc,{className:"w-5 h-5 text-blue-500"}):e.jsx(au,{className:"w-5 h-5 text-gray-300 group-hover:text-gray-400"})})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 font-bold text-xs",children:[B.first_name?.[0],B.last_name?.[0]]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[B.first_name," ",B.last_name]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:B.email})]})]})}),e.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-300 font-mono",children:B.student_number}),e.jsxs("td",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:B.program}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:B.year_level})]}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${B.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":B.status==="archived"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:B.status}),B.scholarship_status!=="none"&&e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:B.scholarship_status})]})}),e.jsx("td",{className:"p-4 text-right",onClick:I=>I.stopPropagation(),children:e.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>$(B.id),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded dark:hover:bg-slate-700",title:"View",children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>D(B),className:"p-1.5 text-gray-500 hover:text-orange-600 hover:bg-orange-50 rounded dark:hover:bg-slate-700",title:"Edit",children:e.jsx(on,{className:"w-4 h-4"})}),t==="archived"?e.jsx("button",{onClick:()=>m([B.id]),className:"p-1.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded dark:hover:bg-slate-700",title:"Restore",children:e.jsx(kb,{className:"w-4 h-4"})}):e.jsx("button",{onClick:()=>h([B.id]),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded dark:hover:bg-slate-700",title:"Archive",children:e.jsx(yu,{className:"w-4 h-4"})})]})})]},`student-${B.id||H}`))})]})}),e.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-slate-700 flex justify-between items-center bg-gray-50/50 dark:bg-slate-700/50",children:[e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Page ",n.page," of ",n.total_pages]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{disabled:n.page===1,onClick:()=>l(n.page-1),className:"p-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:e.jsx(B3,{className:"w-4 h-4"})}),e.jsx("button",{disabled:n.page===n.total_pages,onClick:()=>l(n.page+1),className:"p-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:e.jsx(Uu,{className:"w-4 h-4"})})]})]})]}),e.jsx(vI,{isOpen:w,onClose:()=>N(!1),initialData:A,onSuccess:u}),e.jsx(Ade,{isOpen:_,onClose:()=>S(!1),studentUuid:k,onEdit:B=>{S(!1),D(B)}})]})},Pde=()=>{const{showSuccess:t,showError:r}=Zt(),[s,a]=f.useState(!0),[n,i]=f.useState("demographics"),[l,c]=f.useState(null),[u,h]=f.useState(!1),m=[{id:"demographics",title:"Demographics",icon:Ht,color:"blue"},{id:"scholarship_impact",title:"Scholarship Impact",icon:xr,color:"green"},{id:"academic_performance",title:"Academic Performance",icon:Rs,color:"purple"},{id:"financial_aid",title:"Financial Aid",icon:cr,color:"orange"},{id:"enrollment_trends",title:"Enrollment Trends",icon:Vr,color:"indigo"}];f.useEffect(()=>{x()},[n]);const x=async()=>{a(!0);try{await new Promise(w=>setTimeout(w,800));const y=g(n);c(y)}catch{r("Failed to fetch report data")}finally{a(!1)}},g=y=>{switch(y){case"demographics":return{totalStudents:1250,bySchool:[{name:"University of the Philippines",count:450,percentage:36},{name:"Ateneo de Manila University",count:320,percentage:25.6},{name:"De La Salle University",count:280,percentage:22.4},{name:"Other",count:200,percentage:16}]};default:return{}}},b=y=>{t(`Exporting as ${y.toUpperCase()}...`)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reports & Analytics"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Generate insights and track performance"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x(),className:"p-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:bg-gray-50",children:e.jsx(Ot,{className:`w-4 h-4 text-gray-600 dark:text-gray-300 ${s?"animate-spin":""}`})}),e.jsxs("button",{onClick:()=>b("pdf"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(sr,{className:"w-4 h-4"}),e.jsx("span",{children:"Export Report"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"space-y-2",children:m.map(y=>e.jsxs("button",{onClick:()=>i(y.id),className:`w-full flex items-center gap-3 p-4 rounded-xl border transition-all ${n===y.id?`bg-${y.color}-50 border-${y.color}-200 text-${y.color}-700 dark:bg-${y.color}-900/20 dark:border-${y.color}-800 dark:text-${y.color}-300`:"bg-white border-gray-200 text-gray-600 hover:bg-gray-50 dark:bg-slate-800 dark:border-slate-700 dark:text-gray-400 dark:hover:bg-slate-700"}`,children:[e.jsx(y.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:y.title})]},y.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6 min-h-[400px]",children:s?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Lr,{className:"w-8 h-8 text-blue-500 animate-spin"})}):e.jsxs(Et.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white mb-6 capitalize",children:[n.replace("_"," ")," Overview"]}),n==="demographics"&&l&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-xl",children:[e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300 font-medium",children:"Total Students Evaluated"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100 mt-1",children:l.totalStudents?.toLocaleString()})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Distribution by School"}),l.bySchool?.map((y,w)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:y.name}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[y.percentage,"% (",y.count,")"]})]}),e.jsx("div",{className:"w-full bg-gray-100 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${y.percentage}%`}})})]},w))]})]}),n!=="demographics"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[e.jsx(da,{className:"w-12 h-12 mb-4 opacity-50"}),e.jsxs("p",{children:["Detailed visualization for ",n.replace("_"," ")," coming soon."]})]})]})})})]})]})},Ede=()=>{const{showSuccess:t,showError:r}=Zt(),[s,a]=f.useState(null),[n,i]=f.useState(0),[l,c]=f.useState("idle"),[u,h]=f.useState(null),[m,x]=f.useState(!1),[g,b]=f.useState({skipFirstRow:!0,delimiter:",",defaultStatus:"active"}),[y,w]=f.useState({format:"csv",includeHeaders:!0,filterActive:!1}),N=v=>{const A=v.target.files?.[0];A&&(A.type==="text/csv"||A.name.endsWith(".csv")||A.name.endsWith(".xlsx")||A.name.endsWith(".xls")?(a(A),t("File selected successfully")):r("Please select a CSV or Excel file"))},_=async()=>{if(s){c("importing"),i(0);try{const v=setInterval(()=>{i(A=>A>=90?(clearInterval(v),90):A+10)},200);await new Promise(A=>setTimeout(A,2e3)),clearInterval(v),i(100),h({total:10,successful:8,failed:2,errors:["Row 3: Invalid Email","Row 7: Duplicate ID"]}),c("success"),t("Import completed with some errors")}catch{c("error"),r("Import failed")}}},S=()=>{t(`Exporting data as ${y.format.toUpperCase()}...`)},k=()=>{t("Downloading template...")};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(Ia,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Import Students"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bulk upload via CSV/Excel"})]})]}),e.jsx("button",{onClick:()=>x(!m),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(na,{className:"w-5 h-5"})})]}),e.jsx(Ta,{children:m&&e.jsx(Et.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mb-4 p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg overflow-hidden",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:g.skipFirstRow,onChange:v=>b(A=>({...A,skipFirstRow:v.target.checked})),className:"rounded text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Skip Header Row"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Delimiter"}),e.jsxs("select",{value:g.delimiter,onChange:v=>b(A=>({...A,delimiter:v.target.value})),className:"mt-1 block w-full text-sm border-gray-300 rounded-md dark:bg-slate-800 dark:border-slate-600 px-2 py-1",children:[e.jsx("option",{value:",",children:"Comma (,)"}),e.jsx("option",{value:";",children:"Semicolon (;)"})]})]})]})})}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-lg p-8 text-center hover:border-blue-500 transition-colors cursor-pointer relative",children:[e.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:N,accept:".csv,.xlsx,.xls"}),e.jsx(Ia,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s?s.name:"Drop file here or click to upload"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported: CSV, Excel"})]}),l==="importing"&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{children:"Importing..."}),e.jsxs("span",{children:[n,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${n}%`}})})]}),l==="success"&&u&&e.jsxs("div",{className:"mt-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Le,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("span",{className:"font-medium text-green-900 dark:text-green-100",children:"Import Complete"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"text-green-700",children:["Successful: ",e.jsx("b",{children:u.successful})]}),e.jsxs("div",{className:"text-red-700",children:["Failed: ",e.jsx("b",{children:u.failed})]})]}),u.errors.length>0&&e.jsx("div",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded max-h-24 overflow-y-auto",children:u.errors.map((v,A)=>e.jsxs("div",{children:[" ",v]},A))})]}),e.jsxs("div",{className:"mt-6 flex space-x-3",children:[e.jsx("button",{onClick:_,disabled:!s||l==="importing",className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"Start Import"}),e.jsx("button",{onClick:k,className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 text-gray-700 dark:text-gray-300",children:"Template"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(sr,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Export Data"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Download registry records"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Export Format"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["csv","excel","json","pdf"].map(v=>e.jsx("button",{onClick:()=>w(A=>({...A,format:v})),className:`flex items-center justify-center space-x-2 p-3 border rounded-lg transition-colors ${y.format===v?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700"}`,children:e.jsx("span",{className:"uppercase text-sm font-medium",children:v})},v))})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-700/50 rounded-lg space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Filters"}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:y.filterActive,onChange:v=>w(A=>({...A,filterActive:v.target.checked})),className:"rounded text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Active Students Only"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:y.includeHeaders,onChange:v=>w(A=>({...A,includeHeaders:v.target.checked})),className:"rounded text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Include Headers"})]})]}),e.jsxs("button",{onClick:S,className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2",children:[e.jsx(sr,{className:"w-5 h-5"}),e.jsx("span",{children:"Download Export"})]})]})]})]})})},Tde=it.SCHOLARSHIP_SERVICE.BASE_URL,Dde=()=>localStorage.getItem("auth_token"),mk=async(t,r={})=>{const s=Dde(),a={"Content-Type":"application/json",Accept:"application/json"};s&&(a.Authorization=`Bearer ${s}`);const n={...r,headers:{...a,...r.headers}};try{const i=await fetch(`${Tde}${t}`,n),l=await i.json();if(!i.ok){if(console.error("API Error Response:",{status:i.status,statusText:i.statusText,data:l}),i.status===422&&l.errors){const c=Object.entries(l.errors).map(([u,h])=>`${u}: ${Array.isArray(h)?h.join(", "):h}`).join("; ");throw new Error(`Validation failed: ${c}`)}if(i.status>=500){const c=l.error||l.message||"Internal server error";throw new Error(`Server error (${i.status}): ${c}`)}throw new Error(l.message||`HTTP error! status: ${i.status}`)}return l}catch(i){throw console.error("API request failed:",i),i}},wI=async(t={})=>{try{const r=new URLSearchParams;Object.entries(t).forEach(([n,i])=>{i!=null&&i!==""&&r.append(n,i)});const s=`/api/schools${r.toString()?`?${r.toString()}`:""}`;return await mk(s)}catch(r){throw console.error("Error fetching schools:",r),r}},Rde=async t=>{try{return await mk("/api/schools",{method:"POST",body:JSON.stringify(t)})}catch(r){throw console.error("Error creating school:",r),r}},g3=async t=>{try{return await mk(`/api/schools/${t}`,{method:"DELETE"})}catch(r){throw console.error("Error deleting school:",r),r}},hk=()=>["LOCAL UNIVERSITY/COLLEGE (LUC)","STATE UNIVERSITY/COLLEGE (SUC)","PRIVATE UNIVERSITY/COLLEGE","TECHNICAL/VOCATIONAL INSTITUTE","OTHER"],Ode=t=>{const r={};return(!t.name||t.name.trim()==="")&&(r.name="School name is required"),t.classification||(r.classification="School classification is required"),t.email&&t.email.trim()!==""&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(r.email="Please enter a valid email address")),t.website&&t.website.trim()!==""&&(/^https?:\/\/.+/.test(t.website)||(r.website="Please enter a valid website URL (must start with http:// or https://)")),t.contact_number&&t.contact_number.trim()!==""&&(/^[\+]?[0-9\s\-\(\)]{7,}$/.test(t.contact_number)||(r.contact_number="Please enter a valid phone number")),{isValid:Object.keys(r).length===0,errors:r}},Ide=({isOpen:t,onClose:r,onSuccess:s})=>{const[a,n]=f.useState({name:"",campus:"",contact_number:"",email:"",website:"",classification:"",address:"",city:"",province:"",region:"",zip_code:"",is_public:!1,is_partner_school:!0,is_active:!0}),[i,l]=f.useState({}),[c,u]=f.useState(!1),[h,m]=f.useState(""),x=hk(),g=w=>{const{name:N,value:_,type:S,checked:k}=w.target;n(v=>({...v,[N]:S==="checkbox"?k:_})),i[N]&&l(v=>({...v,[N]:""}))},b=async w=>{w.preventDefault();const N=Ode(a);if(!N.isValid){l(N.errors);return}u(!0),m("");try{const _=await Rde(a);_.success?(n({name:"",campus:"",contact_number:"",email:"",website:"",classification:"",address:"",city:"",province:"",region:"",zip_code:"",is_public:!1,is_partner_school:!0,is_active:!0}),l({}),s(_.data),r()):m(_.message||"Failed to create school")}catch(_){console.error("Error creating school:",_),m(_.message||"An error occurred while creating the school")}finally{u(!1)}},y=()=>{c||(n({name:"",campus:"",contact_number:"",email:"",website:"",classification:"",address:"",city:"",province:"",region:"",zip_code:"",is_public:!1,is_partner_school:!0,is_active:!0}),l({}),m(""),r())};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:e.jsx(ph,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add New School"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Create a new partner school entry"})]})]}),e.jsx("button",{onClick:y,disabled:c,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:e.jsx(wt,{className:"w-5 h-5"})})]})}),e.jsxs("form",{onSubmit:b,className:"p-6",children:[h&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(bt,{className:"w-5 h-5 text-red-500 mr-2"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:h})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"School Name *"}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white ${i.name?"border-red-300":"border-gray-300 dark:border-slate-600"}`,placeholder:"Enter school name",disabled:c}),i.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Campus"}),e.jsx("input",{type:"text",name:"campus",value:a.campus,onChange:g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter campus name",disabled:c})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Classification *"}),e.jsxs("select",{name:"classification",value:a.classification,onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white ${i.classification?"border-red-300":"border-gray-300 dark:border-slate-600"}`,disabled:c,children:[e.jsx("option",{value:"",children:"Select classification"}),x.map(w=>e.jsx("option",{value:w,children:w},w))]}),i.classification&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.classification})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[e.jsx(Ws,{className:"w-4 h-4 inline mr-1"}),"Contact Number"]}),e.jsx("input",{type:"text",name:"contact_number",value:a.contact_number,onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white ${i.contact_number?"border-red-300":"border-gray-300 dark:border-slate-600"}`,placeholder:"+63 2 1234-5678",disabled:c}),i.contact_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.contact_number})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[e.jsx(Wn,{className:"w-4 h-4 inline mr-1"}),"Email"]}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white ${i.email?"border-red-300":"border-gray-300 dark:border-slate-600"}`,placeholder:"info@school.edu.ph",disabled:c}),i.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.email})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[e.jsx(z3,{className:"w-4 h-4 inline mr-1"}),"Website"]}),e.jsx("input",{type:"url",name:"website",value:a.website,onChange:g,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white ${i.website?"border-red-300":"border-gray-300 dark:border-slate-600"}`,placeholder:"https://www.school.edu.ph",disabled:c}),i.website&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:i.website})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Location Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:[e.jsx(ks,{className:"w-4 h-4 inline mr-1"}),"Address"]}),e.jsx("input",{type:"text",name:"address",value:a.address,onChange:g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter complete address",disabled:c})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"City"}),e.jsx("input",{type:"text",name:"city",value:a.city,onChange:g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter city",disabled:c})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Province"}),e.jsx("input",{type:"text",name:"province",value:a.province,onChange:g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter province",disabled:c})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Region"}),e.jsx("input",{type:"text",name:"region",value:a.region,onChange:g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter region",disabled:c})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"ZIP Code"}),e.jsx("input",{type:"text",name:"zip_code",value:a.zip_code,onChange:g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter ZIP code",disabled:c})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"School Properties"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_public",name:"is_public",checked:a.is_public,onChange:g,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded",disabled:c}),e.jsx("label",{htmlFor:"is_public",className:"ml-2 text-sm text-gray-700 dark:text-slate-300",children:"Public School"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_partner_school",name:"is_partner_school",checked:a.is_partner_school,onChange:g,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded",disabled:c}),e.jsx("label",{htmlFor:"is_partner_school",className:"ml-2 text-sm text-gray-700 dark:text-slate-300",children:"Partner School"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:a.is_active,onChange:g,className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded",disabled:c}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700 dark:text-slate-300",children:"Active"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:y,disabled:c,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-slate-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent disabled:opacity-50 flex items-center",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Create School"]})})]})]})]})}):null},Mde=({isOpen:t,onClose:r,onConfirm:s,selectedSchools:a,isDeleting:n})=>{const[i,l]=f.useState(""),[c,u]=f.useState(""),h="CONFIRM DELETE",m=i===h,x=()=>{if(!m){u(`Please type "${h}" to confirm deletion`);return}s(),l(""),u("")},g=()=>{n||(l(""),u(""),r())};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-red-100 dark:bg-red-900/20 flex items-center justify-center",children:e.jsx(Wt,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Bulk Delete Schools"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"This action cannot be undone"})]})]}),e.jsx("button",{onClick:g,disabled:n,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-700 dark:text-slate-300 mb-3",children:["You are about to delete ",e.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:a.length})," school",a.length!==1?"s":"",":"]}),e.jsx("div",{className:"max-h-32 overflow-y-auto bg-gray-50 dark:bg-slate-700 rounded-lg p-3 mb-4",children:a.map((b,y)=>e.jsxs("div",{className:"text-sm text-gray-700 dark:text-slate-300 py-1",children:[y+1,". ",b.name," (",b.classification,")"]},b.id))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:["Type ",e.jsx("span",{className:"font-mono bg-gray-100 dark:bg-slate-600 px-2 py-1 rounded text-red-600 dark:text-red-400",children:h})," to confirm:"]}),e.jsx("input",{type:"text",value:i,onChange:b=>{l(b.target.value),u("")},className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-slate-700 dark:text-white ${c?"border-red-300":"border-gray-300 dark:border-slate-600"}`,placeholder:`Type "${h}" here`,disabled:n}),c&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c})]}),e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Wt,{className:"w-5 h-5 text-red-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-red-700 dark:text-red-400",children:[e.jsx("p",{className:"font-medium mb-1",children:"Warning: This action is permanent!"}),e.jsx("p",{children:"All selected schools and their associated data will be permanently deleted. This action cannot be undone."})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:g,disabled:n,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-slate-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 focus:ring-2 focus:ring-red-500 focus:border-transparent disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"button",onClick:x,disabled:!m||n,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent disabled:opacity-50 flex items-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2"}),"Delete ",a.length," School",a.length!==1?"s":""]})})]})]})}):null};function Lde(){const[t,r]=De.useState(""),[s,a]=De.useState("all"),[n,i]=De.useState(!1),[l,c]=De.useState(!1),[u,h]=De.useState(!1),[m,x]=De.useState(null),[g,b]=De.useState([]),[y,w]=De.useState(!1),[N,_]=De.useState(null),[S,k]=De.useState("table"),[v,A]=De.useState([]),[E,T]=De.useState(!1),[F,R]=De.useState(!1),D=async()=>{w(!0),_(null);try{const G=await wI({search:t,is_active:s==="all"?void 0:s==="active",is_partner_school:!0});G.success?b(G.data.data||[]):_(G.message||"Failed to fetch schools")}catch(G){console.error("Error fetching schools:",G),_(G.message||"Failed to fetch schools")}finally{w(!1)}};De.useEffect(()=>{D()},[t,s]);const $=G=>{b(de=>[G,...de]),i(!1)},B=async G=>{if(window.confirm("Are you sure you want to delete this school?"))try{const de=await g3(G);de.success?b(X=>X.filter(z=>z.id!==G)):alert(de.message||"Failed to delete school")}catch(de){console.error("Error deleting school:",de),alert(de.message||"Failed to delete school")}},H=G=>{A(de=>de.includes(G)?de.filter(X=>X!==G):[...de,G])},I=()=>{v.length===g.length?A([]):A(g.map(G=>G.id))},L=async()=>{R(!0);try{const G=v.map(Ie=>g3(Ie)),de=await Promise.allSettled(G),X=de.filter(Ie=>Ie.status==="fulfilled"&&Ie.value.success),z=de.filter(Ie=>Ie.status==="rejected"||!Ie.value.success);X.length>0&&(b(Ie=>Ie.filter(ie=>!v.includes(ie.id))),A([]),T(!1),alert(`Successfully deleted ${X.length} school${X.length!==1?"s":""}`)),z.length>0&&alert(`Failed to delete ${z.length} school${z.length!==1?"s":""}`)}catch(G){console.error("Error in bulk delete:",G),alert("An error occurred during bulk deletion")}finally{R(!1)}},M=G=>G?e.jsx(Le,{className:"w-4 h-4 text-green-500"}):e.jsx(jt,{className:"w-4 h-4 text-red-500"}),q=G=>G?"bg-green-100 text-green-800":"bg-red-100 text-red-800",Z=G=>G?"Active":"Inactive";return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"School Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage partner school information, contact details, and accreditation status"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-3",children:[e.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-slate-700 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>k("table"),className:`p-2 rounded-md transition-colors ${S==="table"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300"}`,title:"Table View",children:e.jsx(ko,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k("grid"),className:`p-2 rounded-md transition-colors ${S==="grid"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-slate-400 hover:text-gray-700 dark:hover:text-slate-300"}`,title:"Grid View",children:e.jsx(No,{className:"w-4 h-4"})})]}),v.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:[v.length," selected"]}),e.jsxs("button",{onClick:()=>T(!0),className:"inline-flex items-center px-3 py-2 bg-red-500 hover:bg-red-600 text-white text-sm font-medium rounded-lg transition-colors",children:[e.jsx(qs,{className:"w-4 h-4 mr-1"}),"Delete Selected"]})]}),e.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center justify-center px-3 py-2 sm:px-4 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md text-sm sm:text-base w-full sm:w-auto",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"truncate",children:"Add New School"})]})]})]})})}),e.jsxs("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6 mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-start sm:items-center justify-between",children:[e.jsx("div",{className:"flex-1 w-full sm:max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search schools...",value:t,onChange:G=>r(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white text-sm"})]})}),e.jsx("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fa,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:s,onChange:G=>a(G.target.value),className:"px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white text-sm",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"pending",children:"Pending"})]})]})})]})}),N&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(bt,{className:"w-5 h-5 text-red-500 mr-2"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:N})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:y?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),e.jsx("span",{className:"ml-2 text-gray-600 dark:text-slate-400",children:"Loading schools..."})]}):S==="table"?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:e.jsxs("button",{onClick:I,className:"flex items-center space-x-2 hover:text-gray-700 dark:hover:text-slate-300",children:[v.length===g.length&&g.length>0?e.jsx(pc,{className:"w-4 h-4"}):e.jsx(au,{className:"w-4 h-4"}),e.jsx("span",{children:"School"})]})}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Properties"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:g.map(G=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>H(G.id),className:"flex-shrink-0",children:v.includes(G.id)?e.jsx(pc,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}):e.jsx(au,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:e.jsx(Ls,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:G.name}),G.campus&&e.jsx("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:G.campus})]})]})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:G.classification})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx(ks,{className:"w-3 h-3 mr-1"}),[G.address,G.city,G.region].filter(Boolean).join(", ")]})}),e.jsxs("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:G.email||"No email"}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400 flex items-center",children:[e.jsx(Ws,{className:"w-3 h-3 mr-1"}),G.contact_number||"No phone"]})]}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[G.is_public&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Public"}),G.is_partner_school&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Partner"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${q(G.is_active)}`,children:[M(G.is_active),e.jsx("span",{className:"ml-1",children:Z(G.is_active)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{x(G),h(!0)},className:"p-2 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"View Details",children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{x(G),c(!0)},className:"p-2 text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Edit School",children:e.jsx(on,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>B(G.id),className:"p-2 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete School",children:e.jsx(qs,{className:"w-4 h-4"})})]})})]},G.id))})]})}):e.jsx("div",{className:"p-4 sm:p-6",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:g.map(G=>e.jsxs("div",{className:"bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("button",{onClick:()=>H(G.id),className:"flex-shrink-0",children:v.includes(G.id)?e.jsx(pc,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}):e.jsx(au,{className:"w-5 h-5 text-gray-400 dark:text-slate-500"})}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>{x(G),h(!0)},className:"p-1 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"View Details",children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{x(G),c(!0)},className:"p-1 text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors",title:"Edit School",children:e.jsx(on,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>B(G.id),className:"p-1 text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Delete School",children:e.jsx(qs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center mr-3",children:e.jsx(Ls,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:G.name}),G.campus&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 truncate",children:G.campus})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-xs text-gray-600 dark:text-slate-400",children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",G.classification]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-slate-400",children:[e.jsx(ks,{className:"w-3 h-3 inline mr-1"}),[G.city,G.region].filter(Boolean).join(", ")]}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-slate-400",children:[e.jsx(Ws,{className:"w-3 h-3 inline mr-1"}),G.contact_number||"No phone"]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[G.is_public&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Public"}),G.is_partner_school&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Partner"}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${q(G.is_active)}`,children:[M(G.is_active),e.jsx("span",{className:"ml-1",children:Z(G.is_active)})]})]})]},G.id))})})}),!y&&g.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ls,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No schools found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:t?"Try adjusting your search criteria.":"Get started by adding a new school."})]})]}),e.jsx(Ide,{isOpen:n,onClose:()=>i(!1),onSuccess:$}),e.jsx(Mde,{isOpen:E,onClose:()=>T(!1),onConfirm:L,selectedSchools:g.filter(G=>v.includes(G.id)),isDeleting:F}),u&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"School Details"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:""})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:e.jsx(Ls,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:m.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:m.classification}),m.campus&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-500",children:m.campus})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),m.contact_number||"No phone number"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx(Wn,{className:"w-4 h-4 mr-2"}),m.email||"No email address"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx(z3,{className:"w-4 h-4 mr-2"}),m.website||"No website"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Location"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx(ks,{className:"w-4 h-4 mr-2"}),m.address||"No address"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:[m.city,m.province,m.region].filter(Boolean).join(", ")||"No location details"}),m.zip_code&&e.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-500",children:["ZIP: ",m.zip_code]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m.is_public?"Public":"Private"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"School Type"})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:m.is_partner_school?"Yes":"No"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Partner School"})]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"School Properties"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${q(m.is_active)}`,children:[M(m.is_active),e.jsx("span",{className:"ml-1",children:Z(m.is_active)})]}),m.is_public&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",children:"Public School"}),m.is_partner_school&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",children:"Partner School"})]})]})]})})]})})]})}const p3=`${it.SCHOLARSHIP_SERVICE.BASE_URL}/api`;function $de(){const[t,r]=De.useState(""),[s,a]=De.useState("all"),[n,i]=De.useState(!1),[l,c]=De.useState(!1),[u,h]=De.useState(null),[m,x]=De.useState([]),[g,b]=De.useState([]),[y,w]=De.useState(!1),[N,_]=De.useState("table"),[S,k]=De.useState({total_students:0,total_scholars:0,active_scholars:0,graduated_scholars:0,scholarship_rate:0});De.useEffect(()=>{v(),A()},[s,t]);const v=async()=>{w(!0);try{const F=new URLSearchParams;s!=="all"&&F.append("school_id",s),t&&F.append("search",t);const D=await(await fetch(`${p3}/partner-school/student-population?${F}`)).json();D.success?(x(D.data||[]),k(D.totals||{total_students:0,total_scholars:0,active_scholars:0,graduated_scholars:0,scholarship_rate:0})):(console.error("Failed to fetch student population:",D.message),x([]))}catch(F){console.error("Error fetching student population:",F),x([])}finally{w(!1)}},A=async()=>{try{const R=await(await fetch(`${p3}/partner-school/schools`)).json();R.success?b(R.data||[]):console.error("Failed to fetch schools:",R.message)}catch(F){console.error("Error fetching schools:",F)}},E=()=>{const F=[["School","Total Students","Male Students","Female Students","Scholars","Active Scholars","Graduated Scholars","Scholarship Rate (%)","Last Updated"],...T.map(B=>[B.school_name,B.total_students,B.male_students,B.female_students,B.scholarship_recipients,B.active_scholars,B.graduated_scholars,B.scholarship_rate,new Date(B.last_updated).toLocaleDateString()])].map(B=>B.join(",")).join(`
`),R=new Blob([F],{type:"text/csv"}),D=window.URL.createObjectURL(R),$=document.createElement("a");$.href=D,$.download=`student-population-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild($),$.click(),document.body.removeChild($),window.URL.revokeObjectURL(D)},T=m.filter(F=>{const R=F.school_name.toLowerCase().includes(t.toLowerCase()),D=s==="all"||F.id.toString()===s;return R&&D});return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Student Population"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Track student demographics and scholarship distribution across partner schools"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-3",children:[e.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-slate-700 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>_("table"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${N==="table"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-slate-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Table"}),e.jsx("button",{onClick:()=>_("chart"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${N==="chart"?"bg-white dark:bg-slate-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-slate-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Charts"})]}),e.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center justify-center px-3 py-2 sm:px-4 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md text-sm sm:text-base w-full sm:w-auto",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"truncate",children:"Add Population Data"})]})]})]})})}),e.jsxs("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 sm:p-3 rounded-lg bg-blue-100 dark:bg-blue-900/20",children:e.jsx(Ht,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-3 sm:ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-slate-400 truncate",children:"Total Students"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:S.total_students.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 sm:p-3 rounded-lg bg-orange-100 dark:bg-orange-900/20",children:e.jsx(gs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{className:"ml-3 sm:ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-slate-400 truncate",children:"Total Scholars"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:S.total_scholars.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 sm:p-3 rounded-lg bg-green-100 dark:bg-green-900/20",children:e.jsx(yi,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"ml-3 sm:ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-slate-400 truncate",children:"Active Scholars"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:S.active_scholars.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 sm:p-3 rounded-lg bg-purple-100 dark:bg-purple-900/20",children:e.jsx(Vr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{className:"ml-3 sm:ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-slate-400 truncate",children:"Scholarship Rate"}),e.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:[S.scholarship_rate,"%"]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 sm:p-3 rounded-lg bg-indigo-100 dark:bg-indigo-900/20",children:e.jsx(ln,{className:"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{className:"ml-3 sm:ml-4 flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-slate-400 truncate",children:"Graduated"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white",children:S.graduated_scholars.toLocaleString()})]})]})})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 sm:p-6 mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-start sm:items-center justify-between",children:[e.jsx("div",{className:"flex-1 w-full sm:max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search schools...",value:t,onChange:F=>r(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white text-sm"})]})}),e.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fa,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:s,onChange:F=>a(F.target.value),className:"px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white text-sm",children:[e.jsx("option",{value:"all",children:"All Schools"}),g.map(F=>e.jsx("option",{value:F.id,children:F.name},F.id))]})]}),e.jsxs("button",{onClick:E,className:"inline-flex items-center px-3 py-2 sm:px-4 bg-gray-500 hover:bg-gray-600 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md text-sm",children:[e.jsx(sr,{className:"w-4 h-4 mr-2"}),"Export"]})]})]})}),N==="table"?e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"School"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Students"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Gender Split"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Scholars"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Scholarship Rate"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:y?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),e.jsx("span",{className:"ml-2 text-gray-600 dark:text-slate-400",children:"Loading student population data..."})]})})}):T.map(F=>{const R=F.total_students>0?(F.scholarship_recipients/F.total_students*100).toFixed(1):0,D=F.total_students>0?(F.male_students/F.total_students*100).toFixed(1):0,$=F.total_students>0?(F.female_students/F.total_students*100).toFixed(1):0;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:e.jsx(Ht,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:F.school_name}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:["Updated: ",new Date(F.last_updated).toLocaleDateString()]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:F.total_students.toLocaleString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Male: ",D,"%"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full mr-2"}),"Female: ",$,"%"]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:F.scholarship_recipients}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-400",children:["Active: ",F.active_scholars," | Graduated: ",F.graduated_scholars]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[R,"%"]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${Math.min(R,100)}%`}})})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[e.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400",children:[e.jsx(yi,{className:"w-4 h-4 mr-1"}),F.active_scholars," Active"]}),e.jsxs("div",{className:"flex items-center text-yellow-600 dark:text-yellow-400",children:[e.jsx(ln,{className:"w-4 h-4 mr-1"}),F.pending_applications," Pending"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{h(F),c(!0)},className:"p-2 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"View Details",children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"View Charts",children:e.jsx(da,{className:"w-4 h-4"})})]})})]},F.id)})})]})})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Scholarship Distribution"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(fh,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-slate-400",children:"Chart visualization will be implemented here"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Student Demographics"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(da,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-slate-400",children:"Chart visualization will be implemented here"})]})]})]}),!y&&T.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ht,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No data found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:t||s!=="all"?"Try adjusting your search criteria.":"No student population data available."})]})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add Population Data"}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:""})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ht,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-white",children:"Add Population Data Form"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-slate-400",children:"This form will be implemented to add student population data for partner schools."})]})})]})}),l&&u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Population Details"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:""})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:e.jsx(Ht,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:u.school_name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:["Population data as of ",new Date(u.population_date).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:u.total_students.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Total Students"})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:u.scholarship_recipients}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Scholarship Recipients"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:u.active_scholars}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Active Scholars"})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:u.graduated_scholars}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Graduated Scholars"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Gender Distribution"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Male"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:u.male_students.toLocaleString()})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${u.male_students/u.total_students*100}%`}})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Female"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:u.female_students.toLocaleString()})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2",children:e.jsx("div",{className:"bg-pink-500 h-2 rounded-full",style:{width:`${u.female_students/u.total_students*100}%`}})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Scholarship Breakdown"}),e.jsx("div",{className:"space-y-2",children:Object.entries(u.scholarship_breakdown).map(([F,R])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-slate-400 capitalize",children:F.replace("_"," ")}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:R})]},F))})]})]})]})})]})})]})}function Fde(){const[t,r]=De.useState("6months"),[s,a]=De.useState("all"),[n,i]=De.useState(!1),l={totalSchools:0,totalStudents:0,totalScholars:0,totalBudget:0,growthRate:0,topPerformingSchools:[],scholarshipDistribution:[]};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analytics & Reports"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Comprehensive analytics and reporting for partner school data"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:t,onChange:c=>r(c.target.value),className:"px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"3months",children:"Last 3 Months"}),e.jsx("option",{value:"6months",children:"Last 6 Months"}),e.jsx("option",{value:"1year",children:"Last Year"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md",children:[e.jsx(sr,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]})})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-lg bg-blue-100 dark:bg-blue-900/20",children:e.jsx(Ht,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-slate-400",children:"Total Schools"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalSchools}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center",children:[e.jsx(Vr,{className:"w-3 h-3 mr-1"}),"+",l.growthRate,"% from last period"]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-lg bg-orange-100 dark:bg-orange-900/20",children:e.jsx(gs,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-slate-400",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalStudents.toLocaleString()}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center",children:[e.jsx(Vr,{className:"w-3 h-3 mr-1"}),"+8.2% from last period"]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-lg bg-green-100 dark:bg-green-900/20",children:e.jsx(xr,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-slate-400",children:"Scholarship Recipients"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.totalScholars.toLocaleString()}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center",children:[e.jsx(Vr,{className:"w-3 h-3 mr-1"}),"+15.3% from last period"]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-lg bg-purple-100 dark:bg-purple-900/20",children:e.jsx(cr,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-slate-400",children:"Total Budget"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["",(l.totalBudget/1e6).toFixed(1),"M"]}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center",children:[e.jsx(Vr,{className:"w-3 h-3 mr-1"}),"+22.1% from last period"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Monthly Trends"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),"Applications"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-slate-400",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),"Approvals"]})]})]}),e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(da,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-slate-400",children:"Chart visualization will be implemented here"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Scholarship Distribution"}),e.jsx(fh,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(fh,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-slate-400",children:"Chart visualization will be implemented here"})]})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Performing Schools"}),e.jsx("button",{className:"text-sm text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300",children:"View All"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"School"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Performance Score"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Students"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Scholars"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Scholarship Rate"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:l.topPerformingSchools.map((c,u)=>{const h=(c.scholars/c.students*100).toFixed(1);return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:"h-8 w-8 rounded-lg bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-bold text-orange-600 dark:text-orange-400",children:["#",u+1]})})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.name})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[c.score,"%"]}),e.jsx("div",{className:"ml-2 w-16 bg-gray-200 dark:bg-slate-600 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${c.score}%`}})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:c.students.toLocaleString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:c.scholars})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[h,"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{className:"p-2 text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:e.jsx(Ft,{className:"w-4 h-4"})})})]},u)})})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Scholarship Distribution Details"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.scholarshipDistribution.map((c,u)=>e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:c.type}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-slate-400",children:[c.percentage,"%"]})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.count}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${c.percentage}%`}})})]},u))})]})]})]})}function Bde(){const[t,r]=De.useState("general"),[s,a]=De.useState({general:{schoolName:"Caloocan City Government",systemName:"GSM Partner School Database",timezone:"Asia/Manila",dateFormat:"MM/DD/YYYY",language:"English"},notifications:{emailNotifications:!0,smsNotifications:!1,newSchoolAlert:!0,verificationExpiry:!0,reportGeneration:!0},security:{sessionTimeout:30,passwordPolicy:"strong",twoFactorAuth:!1,ipWhitelist:!1,auditLogging:!0},data:{autoBackup:!0,backupFrequency:"daily",retentionPeriod:365,dataExport:!0,anonymizeData:!1}}),[n,i]=De.useState(!1),[l,c]=De.useState(!1),u=[{id:"general",label:"General",icon:na},{id:"notifications",label:"Notifications",icon:ki},{id:"security",label:"Security",icon:Ir},{id:"data",label:"Data Management",icon:Sx}],h=async()=>{i(!0),await new Promise(x=>setTimeout(x,1e3)),i(!1),c(!0),setTimeout(()=>c(!1),3e3)},m=(x,g,b)=>{a(y=>({...y,[x]:{...y[x],[g]:b}}))};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Configure system settings and preferences"})]}),e.jsxs("button",{onClick:h,disabled:n,className:"inline-flex items-center px-4 py-2 bg-orange-500 hover:bg-orange-600 disabled:bg-orange-300 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md",children:[n?e.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(lc,{className:"w-4 h-4 mr-2"}),n?"Saving...":"Save Changes"]})]})})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4",children:e.jsx("nav",{className:"space-y-2",children:u.map(x=>e.jsxs("button",{onClick:()=>r(x.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${t===x.id?"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400":"text-gray-600 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:[e.jsx(x.icon,{className:"w-4 h-4 mr-3"}),x.label]},x.id))})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[t==="general"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"General Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"School Name"}),e.jsx("input",{type:"text",value:s.general.schoolName,onChange:x=>m("general","schoolName",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"System Name"}),e.jsx("input",{type:"text",value:s.general.systemName,onChange:x=>m("general","systemName",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Timezone"}),e.jsxs("select",{value:s.general.timezone,onChange:x=>m("general","timezone",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"Asia/Manila",children:"Asia/Manila"}),e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"America/New_York",children:"America/New_York"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Date Format"}),e.jsxs("select",{value:s.general.dateFormat,onChange:x=>m("general","dateFormat",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]})]})}),t==="notifications"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Notification Settings"}),e.jsx("div",{className:"space-y-4",children:Object.entries(s.notifications).map(([x,g])=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:x.replace(/([A-Z])/g," $1").trim()}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[x==="emailNotifications"&&"Receive notifications via email",x==="smsNotifications"&&"Receive notifications via SMS",x==="newSchoolAlert"&&"Get notified when new schools are added",x==="verificationExpiry"&&"Get notified before verification expires",x==="reportGeneration"&&"Get notified when reports are generated"]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:b=>m("notifications",x,b.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 dark:peer-focus:ring-orange-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-orange-500"})]})]},x))})]})}),t==="security"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Security Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",value:s.security.sessionTimeout,onChange:x=>m("security","sessionTimeout",parseInt(x.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Password Policy"}),e.jsxs("select",{value:s.security.passwordPolicy,onChange:x=>m("security","passwordPolicy",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"weak",children:"Weak (6+ characters)"}),e.jsx("option",{value:"medium",children:"Medium (8+ characters, mixed case)"}),e.jsx("option",{value:"strong",children:"Strong (12+ characters, mixed case, numbers, symbols)"})]})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(s.security).filter(([x])=>typeof s.security[x]=="boolean").map(([x,g])=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:x.replace(/([A-Z])/g," $1").trim()}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[x==="twoFactorAuth"&&"Enable two-factor authentication for enhanced security",x==="ipWhitelist"&&"Restrict access to specific IP addresses",x==="auditLogging"&&"Log all system activities for security monitoring"]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:b=>m("security",x,b.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 dark:peer-focus:ring-orange-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-orange-500"})]})]},x))})]})]})}),t==="data"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Data Management Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Auto Backup"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"Automatically backup data at regular intervals"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.data.autoBackup,onChange:x=>m("data","autoBackup",x.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 dark:peer-focus:ring-orange-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-orange-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Backup Frequency"}),e.jsxs("select",{value:s.data.backupFrequency,onChange:x=>m("data","backupFrequency",x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Data Retention Period (days)"}),e.jsx("input",{type:"number",value:s.data.retentionPeriod,onChange:x=>m("data","retentionPeriod",parseInt(x.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(s.data).filter(([x])=>typeof s.data[x]=="boolean"&&x!=="autoBackup").map(([x,g])=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:x.replace(/([A-Z])/g," $1").trim()}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:[x==="dataExport"&&"Allow data export functionality",x==="anonymizeData"&&"Anonymize personal data in exports"]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:b=>m("data",x,b.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 dark:peer-focus:ring-orange-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-orange-500"})]})]},x))})]})]})})]})})]}),l&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[e.jsx(CheckCircle,{className:"w-4 h-4 mr-2"}),"Settings saved successfully!"]})]})]})}const gm=it.SCHOLARSHIP_SERVICE.BASE_URL,pm=()=>localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),xk=async()=>{try{const t=pm(),r={Accept:"application/json","Content-Type":"application/json"};t&&(r.Authorization=`Bearer ${t}`);const s=await fetch(`${gm}/api/partner-school/guidelines`,{method:"GET",headers:r});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const a=await s.json();if(a.success)return a.data;throw new Error(a.message||"Failed to fetch guidelines")}catch(t){throw console.error("Error fetching guidelines:",t),t}},Ude=async t=>{try{const r=pm(),s=await fetch(`${gm}/api/partner-school/guidelines`,{method:"POST",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok){const n=await s.json();throw new Error(n.message||"Failed to create guideline")}const a=await s.json();if(a.success)return a.data;throw new Error(a.message||"Failed to create guideline")}catch(r){throw console.error("Error creating guideline:",r),r}},zde=async(t,r)=>{try{const s=pm(),a=await fetch(`${gm}/api/partner-school/guidelines/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok){const i=await a.json();throw new Error(i.message||"Failed to update guideline")}const n=await a.json();if(n.success)return n.data;throw new Error(n.message||"Failed to update guideline")}catch(s){throw console.error("Error updating guideline:",s),s}},Vde=async t=>{try{const r=pm(),s=await fetch(`${gm}/api/partner-school/guidelines/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(!s.ok){const n=await s.json();throw new Error(n.message||"Failed to delete guideline")}const a=await s.json();if(a.success)return!0;throw new Error(a.message||"Failed to delete guideline")}catch(r){throw console.error("Error deleting guideline:",r),r}},qde=async t=>{try{const r=pm(),s=await fetch(`${gm}/api/partner-school/guidelines/${t}/toggle-active`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(!s.ok){const n=await s.json();throw new Error(n.message||"Failed to toggle guideline status")}const a=await s.json();if(a.success)return a.data;throw new Error(a.message||"Failed to toggle guideline status")}catch(r){throw console.error("Error toggling guideline status:",r),r}};function Hde(){const[t,r]=De.useState({}),[s,a]=De.useState(!0),[n,i]=De.useState(null),[l,c]=De.useState({requirements:!0,benefits:!0,responsibilities:!0,process:!0}),u={requirements:Le,benefits:xr,responsibilities:Rs,process:Nx},h={requirements:"Requirements",benefits:"Benefits",responsibilities:"Responsibilities",process:"Application Process"};De.useEffect(()=>{m()},[]);const m=async()=>{try{a(!0),i(null);const b=await xk();r(b)}catch(b){console.error("Error fetching guidelines:",b),i(b.message||"Failed to load guidelines")}finally{a(!1)}},x=b=>{c(y=>({...y,[b]:!y[b]}))},g=()=>{window.print()};return s?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading guidelines..."})]})}):n?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 dark:text-red-400",children:n}),e.jsx("button",{onClick:m,className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600",children:"Retry"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Partner School Guidelines"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Requirements, benefits, responsibilities, and application process"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:g,className:"inline-flex items-center px-4 py-2 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg transition-colors",children:[e.jsx(M9,{className:"w-4 h-4 mr-2"}),"Print"]})})]})})}),e.jsxs("div",{className:"px-6 py-6 max-w-5xl mx-auto",children:[["requirements","benefits","responsibilities","process"].map(b=>{const y=t[b]||[],w=u[b],N=l[b];return y.length===0?null:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 mb-6",children:[e.jsxs("button",{onClick:()=>x(b),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors rounded-t-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/20",children:e.jsx(w,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:h[b]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(",y.length,")"]})]}),N?e.jsx(pi,{className:"w-5 h-5 text-gray-400"}):e.jsx(Ra,{className:"w-5 h-5 text-gray-400"})]}),N&&e.jsx("div",{className:"px-6 pb-6",children:e.jsx("div",{className:"space-y-6",children:y.map(_=>e.jsxs("div",{className:"border-l-4 border-orange-500 pl-4 py-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:_.title}),e.jsx("div",{className:"text-gray-700 dark:text-gray-300 prose prose-sm max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:_.content}})]},_.id))})})]},b)}),Object.keys(t).length===0&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-12 text-center",children:[e.jsx(ut,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Guidelines Available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Guidelines will be displayed here once they are added by administrators."})]})]})]})}function Gde(){const[t,r]=De.useState({}),[s,a]=De.useState(!1),[n,i]=De.useState(null),[l,c]=De.useState(!1),[u,h]=De.useState(null),[m,x]=De.useState(""),[g,b]=De.useState("all"),[y,w]=De.useState("all"),[N,_]=De.useState({section:"requirements",title:"",content:"",display_order:0,is_active:!0});De.useEffect(()=>{S()},[]);const S=async()=>{try{a(!0),i(null);const D=await xk();r(D)}catch(D){console.error("Error fetching guidelines:",D),i(D.message||"Failed to load guidelines")}finally{a(!1)}},k=()=>{h(null),_({section:"requirements",title:"",content:"",display_order:0,is_active:!0}),c(!0)},v=D=>{h(D),_({section:D.section,title:D.title,content:D.content,display_order:D.display_order,is_active:D.is_active}),c(!0)},A=async()=>{try{a(!0),u?await zde(u.id,N):await Ude(N),c(!1),S()}catch(D){console.error("Error saving guideline:",D),i(D.message||"Failed to save guideline")}finally{a(!1)}},E=async D=>{if(window.confirm("Are you sure you want to delete this guideline?"))try{a(!0),await Vde(D),S()}catch($){console.error("Error deleting guideline:",$),i($.message||"Failed to delete guideline")}finally{a(!1)}},T=async D=>{try{await qde(D),S()}catch($){console.error("Error toggling guideline status:",$),i($.message||"Failed to update guideline status")}},F=Object.entries(t).flatMap(([D,$])=>{if(g!=="all"&&D!==g)return[];if(y!=="all"){const B=y==="active";return $.filter(H=>H.is_active===B)}return m?$.filter(B=>B.title.toLowerCase().includes(m.toLowerCase())||B.content.toLowerCase().includes(m.toLowerCase())):$}),R={requirements:"Requirements",benefits:"Benefits",responsibilities:"Responsibilities",process:"Application Process"};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Guidelines Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage partner school guidelines and requirements"})]}),e.jsxs("button",{onClick:k,className:"inline-flex items-center px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),"Add Guideline"]})]})})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search guidelines...",value:m,onChange:D=>x(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("select",{value:g,onChange:D=>b(D.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Sections"}),e.jsx("option",{value:"requirements",children:"Requirements"}),e.jsx("option",{value:"benefits",children:"Benefits"}),e.jsx("option",{value:"responsibilities",children:"Responsibilities"}),e.jsx("option",{value:"process",children:"Process"})]}),e.jsxs("select",{value:y,onChange:D=>w(D.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active Only"}),e.jsx("option",{value:"inactive",children:"Inactive Only"})]})]})}),s&&!t?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading guidelines..."})]}):n?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 dark:text-red-200",children:n})}):e.jsxs("div",{className:"space-y-4",children:[F.map(D=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded bg-orange-100 dark:bg-orange-900/20 text-orange-800 dark:text-orange-200",children:R[D.section]}),D.is_active?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200",children:[e.jsx(Le,{className:"w-3 h-3 mr-1"}),"Active"]}):e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Inactive"]})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:D.title}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-sm line-clamp-2",dangerouslySetInnerHTML:{__html:D.content}})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("button",{onClick:()=>T(D.id),className:"p-2 text-gray-400 hover:text-orange-500 transition-colors",title:D.is_active?"Deactivate":"Activate",children:D.is_active?e.jsx(Le,{className:"w-5 h-5"}):e.jsx(jt,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>v(D),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",title:"Edit",children:e.jsx(on,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>E(D.id),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Delete",children:e.jsx(qs,{className:"w-5 h-5"})})]})]})},D.id)),F.length===0&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-12 text-center",children:[e.jsx(ut,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Guidelines Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:m||g!=="all"||y!=="all"?"Try adjusting your filters":"Get started by creating your first guideline"}),!m&&g==="all"&&y==="all"&&e.jsxs("button",{onClick:k,className:"inline-flex items-center px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),"Add Guideline"]})]})]})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:u?"Edit Guideline":"Create Guideline"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Section"}),e.jsxs("select",{value:N.section,onChange:D=>_({...N,section:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"requirements",children:"Requirements"}),e.jsx("option",{value:"benefits",children:"Benefits"}),e.jsx("option",{value:"responsibilities",children:"Responsibilities"}),e.jsx("option",{value:"process",children:"Application Process"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:N.title,onChange:D=>_({...N,title:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter guideline title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),e.jsx("textarea",{value:N.content,onChange:D=>_({...N,content:D.target.value}),rows:10,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter guideline content (HTML supported)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Order"}),e.jsx("input",{type:"number",value:N.display_order,onChange:D=>_({...N,display_order:parseInt(D.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsx("div",{className:"flex items-center pt-8",children:e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:N.is_active,onChange:D=>_({...N,is_active:D.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-slate-700 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:A,disabled:s||!N.title||!N.content,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Saving...":u?"Update":"Create"})]})]})})]})}function Wde(){const[t,r]=De.useState("view"),s=[{id:"view",label:"View Guidelines",icon:ut},{id:"manage",label:"Manage Guidelines",icon:na}];return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Partner School Guidelines"}),e.jsx("p",{className:"text-gray-600",children:"View and manage partner school guidelines and requirements"})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:s.map(a=>{const n=a.icon;return e.jsxs("button",{onClick:()=>r(a.id),className:`
                                    flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm
                                    ${t===a.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                                `,children:[e.jsx(n,{className:"w-5 h-5"}),e.jsx("span",{children:a.label})]},a.id)})})}),e.jsxs("div",{children:[t==="view"&&e.jsx(Hde,{}),t==="manage"&&e.jsx(Gde,{})]})]})}const $i=it.SCHOLARSHIP_SERVICE.BASE_URL,Fi=()=>localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),Yde=async(t={})=>{try{const r=Fi(),s=new URLSearchParams;t.status&&s.append("status",t.status),t.school_id&&s.append("school_id",t.school_id),t.search&&s.append("search",t.search),t.per_page&&s.append("per_page",t.per_page),t.page&&s.append("page",t.page);const a=await fetch(`${$i}/api/partner-school/applications?${s}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();if(n.success)return n.data;throw new Error(n.message||"Failed to fetch applications")}catch(r){throw console.error("Error fetching applications:",r),r}},gb=async t=>{try{const r=Fi(),s=await fetch(`${$i}/api/partner-school/applications/${t}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const a=await s.json();if(a.success)return a.data;throw new Error(a.message||"Failed to fetch application")}catch(r){throw console.error("Error fetching application:",r),r}},Kde=async t=>{try{const r=Fi(),s=await fetch(`${$i}/api/partner-school/applications`,{method:"POST",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok){const n=await s.json();throw new Error(n.message||"Failed to create application")}const a=await s.json();if(a.success)return a.data;throw new Error(a.message||"Failed to create application")}catch(r){throw console.error("Error creating application:",r),r}},Jde=async(t,r)=>{try{const s=Fi(),a=await fetch(`${$i}/api/partner-school/applications/${t}/create-account`,{method:"POST",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok){const i=await a.json();throw new Error(i.message||"Failed to create account")}const n=await a.json();if(n.success)return n.data;throw new Error(n.message||"Failed to create account")}catch(s){throw console.error("Error creating school account:",s),s}},Xde=async t=>{try{const r=Fi(),s=await fetch(`${$i}/api/partner-school/applications/${t}/mark-under-review`,{method:"POST",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(!s.ok){const n=await s.json();throw new Error(n.message||"Failed to mark as under review")}const a=await s.json();if(a.success)return a.data;throw new Error(a.message||"Failed to mark as under review")}catch(r){throw console.error("Error marking as under review:",r),r}},Zde=async(t,r=null)=>{try{const s=Fi(),a=await fetch(`${$i}/api/partner-school/applications/${t}/approve`,{method:"POST",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({notes:r})});if(!a.ok){const i=await a.json();throw new Error(i.message||"Failed to approve application")}const n=await a.json();if(n.success)return n.data;throw new Error(n.message||"Failed to approve application")}catch(s){throw console.error("Error approving application:",s),s}},Qde=async(t,r)=>{try{const s=Fi(),a=await fetch(`${$i}/api/partner-school/applications/${t}/reject`,{method:"POST",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({reason:r})});if(!a.ok){const i=await a.json();throw new Error(i.message||"Failed to reject application")}const n=await a.json();if(n.success)return n.data;throw new Error(n.message||"Failed to reject application")}catch(s){throw console.error("Error rejecting application:",s),s}},eue=async t=>{try{const r=Fi(),s=await fetch(`${$i}/api/partner-school/applications/${t}/documents`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const a=await s.json();if(a.success)return a.data;throw new Error(a.message||"Failed to fetch documents")}catch(r){throw console.error("Error fetching documents:",r),r}},tue=async(t,r,s,a=null)=>{try{const n=Fi(),i=await fetch(`${$i}/api/partner-school/applications/${t}/documents/${r}/verify`,{method:"POST",headers:{Authorization:`Bearer ${n}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({status:s,notes:a})});if(!i.ok){const c=await i.json();throw new Error(c.message||"Failed to verify document")}const l=await i.json();if(l.success)return l.data;throw new Error(l.message||"Failed to verify document")}catch(n){throw console.error("Error verifying document:",n),n}};function rue({onClose:t,onSave:r,editingApplication:s=null}){const[a,n]=De.useState({school_id:"",school_name:"",classification:"",address:"",city:"",province:"",region:"",contact_number:"",contact_email:"",contact_first_name:"",contact_last_name:"",admin_notes:""}),[i,l]=De.useState([]),[c,u]=De.useState([]),[h,m]=De.useState(!1),[x,g]=De.useState(null);De.useEffect(()=>{b(),u(hk()),s&&n({school_id:s.school_id||"",school_name:s.school?.name||"",classification:s.school?.classification||"",address:s.school?.address||"",city:s.school?.city||"",province:s.school?.province||"",region:s.school?.region||"",contact_number:s.school?.contact_number||"",contact_email:s.school?.email||"",contact_first_name:"",contact_last_name:"",admin_notes:s.admin_notes||""})},[s]);const b=async()=>{try{const w=await wI({is_partner_school:!1});w.success&&l(w.data.data||[])}catch(w){console.error("Error fetching schools:",w)}},y=async w=>{w.preventDefault();try{m(!0),g(null),await Kde(a),r()}catch(N){console.error("Error creating application:",N),g(N.message||"Failed to create application")}finally{m(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s?"Edit Application":"Create Application"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx(wt,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[x&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 dark:text-red-200",children:x})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Link to Existing School (Optional)"}),e.jsxs("select",{value:a.school_id,onChange:w=>n({...a,school_id:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Select a school..."}),i.map(w=>e.jsx("option",{value:w.id,children:w.name},w.id))]})]}),!a.school_id&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"School Name *"}),e.jsx("input",{type:"text",value:a.school_name,onChange:w=>n({...a,school_name:w.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Enter school name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Classification *"}),e.jsxs("select",{value:a.classification,onChange:w=>n({...a,classification:w.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Select classification..."}),c.map(w=>e.jsx("option",{value:w,children:w},w))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:a.address,onChange:w=>n({...a,address:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Street address, building, etc."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),e.jsx("input",{type:"text",value:a.city,onChange:w=>n({...a,city:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Province"}),e.jsx("input",{type:"text",value:a.province,onChange:w=>n({...a,province:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Province"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Region"}),e.jsx("input",{type:"text",value:a.region,onChange:w=>n({...a,region:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Region"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Number"}),e.jsx("input",{type:"text",value:a.contact_number,onChange:w=>n({...a,contact_number:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"09123456789"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-4 mt-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Account Creation"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"An account will be automatically created for the school contact person."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Email *"}),e.jsx("input",{type:"email",value:a.contact_email,onChange:w=>n({...a,contact_email:w.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"contact@school.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact First Name *"}),e.jsx("input",{type:"text",value:a.contact_first_name,onChange:w=>n({...a,contact_first_name:w.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"First name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Last Name *"}),e.jsx("input",{type:"text",value:a.contact_last_name,onChange:w=>n({...a,contact_last_name:w.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Last name"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Admin Notes"}),e.jsx("textarea",{value:a.admin_notes,onChange:w=>n({...a,admin_notes:w.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Internal notes (optional)"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:h||!a.school_id&&!a.school_name||!a.contact_email||!a.contact_first_name||!a.contact_last_name,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Creating...":"Create Application & Account"})]})]})]})})}function sue({application:t,onClose:r}){const{token:s}=Lt(),[a,n]=De.useState([]),[i,l]=De.useState(!1),[c,u]=De.useState(null),[h,m]=De.useState(null);De.useEffect(()=>{t&&x()},[t]);const x=async()=>{try{l(!0),u(null);const _=await eue(t.id);n(_)}catch(_){console.error("Error fetching documents:",_),u(_.message||"Failed to load documents")}finally{l(!1)}},g=async(_,S,k=null)=>{try{await tue(t.id,_,S,k),x()}catch(v){console.error("Error verifying document:",v),u(v.message||"Failed to verify document")}},b=_=>{const S={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200",verified:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200",rejected:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200"};return S[_]||S.pending},y=_=>{switch(_){case"verified":return e.jsx(Le,{className:"w-4 h-4"});case"rejected":return e.jsx(jt,{className:"w-4 h-4"});default:return e.jsx(Nt,{className:"w-4 h-4"})}},w=_=>{const S=_.view_url||`${it.SCHOLARSHIP_SERVICE.BASE_URL}/api/partner-school/applications/${t.id}/documents/${_.id}/view`;fetch(S,{headers:{Authorization:`Bearer ${s}`}}).then(k=>{if(!k.ok)throw new Error("Failed to fetch document");return k.blob()}).then(k=>{const v=window.URL.createObjectURL(k);window.open(v,"_blank","noopener,noreferrer"),setTimeout(()=>window.URL.revokeObjectURL(v),100)}).catch(k=>{console.error("Error viewing document:",k),alert("Failed to view document")})},N=_=>{const S=_.download_url||`${it.SCHOLARSHIP_SERVICE.BASE_URL}/api/partner-school/applications/${t.id}/documents/${_.id}/download`;fetch(S,{headers:{Authorization:`Bearer ${s}`}}).then(k=>{if(!k.ok)throw new Error("Failed to download document");return k.blob()}).then(k=>{const v=window.URL.createObjectURL(k),A=_.createElement("a");A.href=v,A.download=_.file_name||"document",_.body.appendChild(A),A.click(),window.URL.revokeObjectURL(v),_.body.removeChild(A)}).catch(k=>{console.error("Error downloading document:",k),alert("Failed to download document")})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-5xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Document Review"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx(wt,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-6",children:i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading documents..."})]}):c?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 dark:text-red-200",children:c})}):e.jsxs("div",{className:"space-y-4",children:[a.map(_=>e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4 border border-gray-200 dark:border-slate-600",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-medium rounded ${b(_.verification_status)}`,children:[y(_.verification_status),e.jsx("span",{className:"ml-1 capitalize",children:_.verification_status})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:_.document_type})]}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:_.document_name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[_.file_name," (",(parseInt(_.file_size)/1024).toFixed(2)," KB)"]}),_.verification_notes&&e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-2",children:[e.jsx("strong",{children:"Notes:"})," ",_.verification_notes]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("button",{onClick:()=>w(_),className:"p-2 text-gray-400 hover:text-blue-500 transition-colors",title:"View Document",children:e.jsx(Ft,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>N(_),className:"p-2 text-gray-400 hover:text-green-500 transition-colors",title:"Download",children:e.jsx(sr,{className:"w-5 h-5"})})]})]}),_.verification_status==="pending"&&e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs("button",{onClick:()=>{const S=prompt("Verification notes (optional):");g(_.id,"verified",S)},className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white text-sm rounded-lg transition-colors",children:[e.jsx(Le,{className:"w-4 h-4 inline mr-1"}),"Verify"]}),e.jsxs("button",{onClick:()=>{const S=prompt("Rejection reason (required):");S&&g(_.id,"rejected",S)},className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white text-sm rounded-lg transition-colors",children:[e.jsx(jt,{className:"w-4 h-4 inline mr-1"}),"Reject"]})]})]},_.id)),a.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ut,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Documents Uploaded"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Documents will appear here once uploaded by the school."})]})]})})]})})}function aue(){const{showSuccess:t,showError:r,showWarning:s}=Zt(),[a,n]=De.useState([]),[i,l]=De.useState(!1),[c,u]=De.useState(null),[h,m]=De.useState(!1),[x,g]=De.useState(!1),[b,y]=De.useState(!1),[w,N]=De.useState(null),[_,S]=De.useState(""),[k,v]=De.useState("all"),[A,E]=De.useState(1),[T,F]=De.useState(null),[R,D]=De.useState("list"),[$,B]=De.useState("created_desc"),[H,I]=De.useState(!1),[L,M]=De.useState(null),[q,Z]=De.useState(!1),[G,de]=De.useState(""),[X,z]=De.useState(null);De.useEffect(()=>{Ie()},[_,k,A,$]);const Ie=async()=>{try{l(!0),u(null);const ne=await Yde({search:_||void 0,status:k!=="all"?k:void 0,page:A,per_page:15});let pe=ne.data||[];pe=pe.sort((Xe,ee)=>{switch($){case"created_desc":return new Date(ee.created_at)-new Date(Xe.created_at);case"created_asc":return new Date(Xe.created_at)-new Date(ee.created_at);case"name_asc":return(Xe.school?.name||"").localeCompare(ee.school?.name||"");case"name_desc":return(ee.school?.name||"").localeCompare(Xe.school?.name||"");case"status":return(Xe.status||"").localeCompare(ee.status||"");default:return 0}}),n(pe),F(ne)}catch(K){console.error("Error fetching applications:",K),u(K.message||"Failed to load applications")}finally{l(!1)}},ie=async K=>{try{const ne=await gb(K);N(ne),g(!0)}catch(ne){console.error("Error fetching application:",ne),u(ne.message||"Failed to load application")}},Pe=async K=>{try{const ne=await gb(K);N(ne),y(!0)}catch(ne){console.error("Error fetching application:",ne),u(ne.message||"Failed to load application")}},re=async K=>{M({title:"Mark as Under Review",message:"Mark this application as under review?",onConfirm:async()=>{try{if(await Xde(K),t("Application marked as under review"),Ie(),w?.id===K){const ne=await gb(K);N(ne)}}catch(ne){console.error("Error marking as under review:",ne),r(ne.message||"Failed to mark as under review")}}}),I(!0)},Ee=async(K,ne)=>{M({title:"Approve Application",message:"Are you sure you want to approve this application?",onConfirm:async()=>{try{await Zde(K,ne),t("Application approved successfully"),Ie(),g(!1)}catch(pe){console.error("Error approving application:",pe),r(pe.message||"Failed to approve application")}}}),I(!0)},ke=K=>{z(K),de(""),Z(!0)},xe=async()=>{if(!G.trim()){s("Please provide a rejection reason");return}try{await Qde(X,G),t("Application rejected successfully"),Ie(),g(!1),Z(!1),de(""),z(null)}catch(K){console.error("Error rejecting application:",K),r(K.message||"Failed to reject application")}},Q=async(K,ne)=>{try{await Jde(K,ne),Ie(),alert("Account created successfully. Credentials sent via email.")}catch(pe){console.error("Error creating account:",pe),u(pe.message||"Failed to create account")}},et=K=>K?[K.classification,K.address,K.city,K.province,K.region,K.contact_number].every(pe=>pe&&pe.trim()!==""):!1,ve=K=>{if(!K)return 0;const ne=[{value:K.classification,label:"Classification"},{value:K.address,label:"Address"},{value:K.city,label:"City"},{value:K.province,label:"Province"},{value:K.region,label:"Region"},{value:K.contact_number,label:"Contact Number"}],pe=ne.filter(Xe=>Xe.value&&Xe.value.trim()!=="").length;return Math.round(pe/ne.length*100)},Ze=K=>K?[{value:K.classification,label:"Classification"},{value:K.address,label:"Address"},{value:K.city,label:"City"},{value:K.province,label:"Province"},{value:K.region,label:"Region"},{value:K.contact_number,label:"Contact Number"}].filter(pe=>!pe.value||pe.value.trim()==="").map(pe=>pe.label):[],Qe=K=>{const ne={draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200",submitted:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200",under_review:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200",approved:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200",rejected:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200",withdrawn:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"};return ne[K]||ne.draft},ht=K=>{switch(K){case"approved":return e.jsx(Le,{className:"w-4 h-4"});case"rejected":return e.jsx(jt,{className:"w-4 h-4"});case"submitted":case"under_review":return e.jsx(Nt,{className:"w-4 h-4"});default:return e.jsx(ut,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Application Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage partner school applications and verification"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors shadow-sm hover:shadow-md",children:[e.jsx(la,{className:"w-4 h-4 mr-2"}),"New Application"]})]})})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search applications...",value:_,onChange:K=>S(K.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),e.jsxs("div",{className:"relative lg:w-48",children:[e.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsxs("select",{value:k,onChange:K=>v(K.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white appearance-none cursor-pointer",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"submitted",children:"Submitted"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"withdrawn",children:"Withdrawn"})]})]}),e.jsxs("div",{className:"relative lg:w-48",children:[e.jsx(r$,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsxs("select",{value:$,onChange:K=>B(K.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent dark:bg-slate-700 dark:text-white appearance-none cursor-pointer",children:[e.jsx("option",{value:"created_desc",children:"Newest First"}),e.jsx("option",{value:"created_asc",children:"Oldest First"}),e.jsx("option",{value:"name_asc",children:"Name (A-Z)"}),e.jsx("option",{value:"name_desc",children:"Name (Z-A)"}),e.jsx("option",{value:"status",children:"By Status"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 dark:bg-slate-700 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>D("list"),className:`p-2 rounded-md transition-all ${R==="list"?"bg-white dark:bg-slate-600 text-orange-500 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,title:"List View",children:e.jsx(ko,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>D("grid"),className:`p-2 rounded-md transition-all ${R==="grid"?"bg-white dark:bg-slate-600 text-orange-500 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,title:"Grid View",children:e.jsx(No,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-slate-700",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:T?.total||0})," applications found",k!=="all"&&e.jsxs("span",{className:"ml-2",children:[" Filtered by: ",e.jsx("span",{className:"font-medium capitalize",children:k.replace("_"," ")})]})]})})]}),i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading applications..."})]}):c?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 dark:text-red-200",children:c})}):a.length===0?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700",children:[e.jsx(ut,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No applications found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search or filters"})]}):e.jsxs(e.Fragment,{children:[R==="list"&&e.jsx("div",{className:"space-y-4",children:a.map(K=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3 flex-wrap",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full ${Qe(K.status)}`,children:[ht(K.status),e.jsx("span",{className:"ml-1.5 capitalize",children:K.status.replace("_"," ")})]}),K.school&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:K.school.name}),et(K.school)?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[e.jsx(Le,{className:"w-3.5 h-3.5 mr-1"}),"Complete"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 text-xs font-medium rounded-full bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",children:[e.jsx(bt,{className:"w-3.5 h-3.5 mr-1"}),ve(K.school),"% Complete"]})]})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),e.jsxs("span",{children:["Created: ",new Date(K.created_at).toLocaleDateString()]})]}),K.submitted_at&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-4 h-4"}),e.jsxs("span",{children:["Submitted: ",new Date(K.submitted_at).toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4 flex-wrap",children:[K.status==="submitted"&&e.jsxs("button",{onClick:()=>re(K.id),className:"px-3 py-2 text-sm font-medium text-yellow-700 bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:hover:bg-yellow-900/50 rounded-lg transition-all flex items-center gap-2",title:"Mark as Under Review",children:[e.jsx(Nt,{className:"w-4 h-4"}),"Mark Under Review"]}),K.status==="under_review"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>Ee(K.id),className:"px-3 py-2 text-sm font-medium text-green-700 bg-green-100 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/50 rounded-lg transition-all flex items-center gap-2",title:"Approve Application",children:[e.jsx(Le,{className:"w-4 h-4"}),"Approve"]}),e.jsxs("button",{onClick:()=>ke(K.id),className:"px-3 py-2 text-sm font-medium text-red-700 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50 rounded-lg transition-all flex items-center gap-2",title:"Reject Application",children:[e.jsx(jt,{className:"w-4 h-4"}),"Reject"]})]}),e.jsx("button",{onClick:()=>Pe(K.id),className:"p-2.5 text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",title:"View Documents",children:e.jsx(ut,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>ie(K.id),className:"p-2.5 text-gray-400 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-all",title:"View Details",children:e.jsx(Ft,{className:"w-5 h-5"})})]})]})},K.id))}),R==="grid"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(K=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 hover:shadow-lg transition-all hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold rounded-full ${Qe(K.status)}`,children:[ht(K.status),e.jsx("span",{className:"ml-1.5 capitalize",children:K.status.replace("_"," ")})]}),K.school&&et(K.school)?e.jsx(Le,{className:"w-5 h-5 text-green-500",title:"Complete"}):e.jsx(bt,{className:"w-5 h-5 text-amber-500",title:`${ve(K.school)}% Complete`})]}),K.school&&e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 line-clamp-2 min-h-[3.5rem]",children:K.school.name}),e.jsxs("div",{className:"space-y-2 mb-6 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Created: ",new Date(K.created_at).toLocaleDateString()]})]}),K.submitted_at&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"truncate",children:["Submitted: ",new Date(K.submitted_at).toLocaleDateString()]})]})]}),(K.status==="submitted"||K.status==="under_review")&&e.jsxs("div",{className:"space-y-2 mb-4",children:[K.status==="submitted"&&e.jsxs("button",{onClick:()=>re(K.id),className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-semibold text-yellow-700 bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:hover:bg-yellow-900/50 rounded-lg transition-all",children:[e.jsx(Nt,{className:"w-4 h-4"}),"Mark Under Review"]}),K.status==="under_review"&&e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>Ee(K.id),className:"flex items-center justify-center gap-1 px-2 py-2 text-sm font-semibold text-green-700 bg-green-100 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/50 rounded-lg transition-all",children:[e.jsx(Le,{className:"w-4 h-4"}),"Approve"]}),e.jsxs("button",{onClick:()=>ke(K.id),className:"flex items-center justify-center gap-1 px-2 py-2 text-sm font-semibold text-red-700 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50 rounded-lg transition-all",children:[e.jsx(jt,{className:"w-4 h-4"}),"Reject"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200 dark:border-slate-700",children:[e.jsxs("button",{onClick:()=>Pe(K.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-all",children:[e.jsx(ut,{className:"w-4 h-4"}),"Documents"]}),e.jsxs("button",{onClick:()=>ie(K.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-orange-600 hover:text-orange-700 dark:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-all",children:[e.jsx(Ft,{className:"w-4 h-4"}),"Details"]})]})]},K.id))}),T&&T.last_page>1&&e.jsx("div",{className:"mt-8 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:T.from})," to"," ",e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:T.to})," of"," ",e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:T.total})," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>E(K=>Math.max(1,K-1)),disabled:A===1,className:"px-4 py-2 text-sm font-medium border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(Math.min(5,T.last_page))].map((K,ne)=>{const pe=ne+1;return e.jsx("button",{onClick:()=>E(pe),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${A===pe?"bg-orange-500 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:pe},pe)}),T.last_page>5&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),e.jsx("button",{onClick:()=>E(T.last_page),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${A===T.last_page?"bg-orange-500 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700"}`,children:T.last_page})]})]}),e.jsx("button",{onClick:()=>E(K=>Math.min(T.last_page,K+1)),disabled:A===T.last_page,className:"px-4 py-2 text-sm font-medium border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})})]})]}),h&&e.jsx(rue,{onClose:()=>m(!1),onSave:()=>{m(!1),Ie()}}),x&&w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4 z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Application Details"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["ID: ",w.id,"  Created ",new Date(w.created_at).toLocaleDateString()]})]})}),e.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(jt,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Application Status"}),e.jsxs("span",{className:`inline-flex items-center px-4 py-2 text-sm font-semibold rounded-lg ${Qe(w.status)}`,children:[ht(w.status),e.jsx("span",{className:"ml-2 capitalize",children:w.status.replace("_"," ")})]})]}),w.submitted_at&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Submitted"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(w.submitted_at).toLocaleDateString()})]})]})}),w.school&&e.jsxs("div",{className:"bg-white dark:bg-slate-700 rounded-lg border border-gray-200 dark:border-slate-600 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 px-6 py-4 border-b border-gray-200 dark:border-slate-600",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h$,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"School Information"})]}),et(w.school)?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[e.jsx(Le,{className:"w-4 h-4 mr-1.5"}),"Complete"]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium rounded-full bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300",children:[e.jsx(bt,{className:"w-4 h-4 mr-1.5"}),ve(w.school),"% Complete"]})]})}),e.jsxs("div",{className:"p-6",children:[!et(w.school)&&e.jsx("div",{className:"mb-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Gn,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-amber-900 dark:text-amber-200 mb-1",children:"School information is incomplete"}),e.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:["Missing: ",Ze(w.school).join(", ")]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wide",children:"School Name"}),e.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:w.school.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wide",children:"Classification"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:`text-base font-medium ${w.school.classification?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500 italic"}`,children:w.school.classification||"Not provided"}),!w.school.classification&&e.jsx(bt,{className:"w-4 h-4 text-amber-500"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wide",children:"Address"}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ks,{className:"w-4 h-4 text-gray-400 mt-1 flex-shrink-0"}),e.jsx("p",{className:`text-base ${w.school.address?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500 italic"}`,children:w.school.address?`${w.school.address}${w.school.city?", "+w.school.city:""}${w.school.province?", "+w.school.province:""}${w.school.region?", "+w.school.region:""}`:"Not provided"}),!w.school.address&&e.jsx(bt,{className:"w-4 h-4 text-amber-500 mt-1"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wide",children:"Contact Number"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:`text-base ${w.school.contact_number?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500 italic"}`,children:w.school.contact_number||"Not provided"}),!w.school.contact_number&&e.jsx(bt,{className:"w-4 h-4 text-amber-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wide",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wn,{className:"w-4 h-4 text-gray-400"}),e.jsx("p",{className:`text-base ${w.school.email?"text-gray-900 dark:text-white":"text-gray-400 dark:text-gray-500 italic"}`,children:w.school.email||"Not provided"})]})]})]})]})]}),w.admin_notes&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg border border-gray-200 dark:border-slate-600 p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 uppercase tracking-wide",children:"Admin Notes"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:w.admin_notes})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>Pe(w.id),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",children:[e.jsx(ut,{className:"w-4 h-4 mr-2"}),"View Documents"]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[w.status==="under_review"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>Ee(w.id),className:"inline-flex items-center px-5 py-2.5 text-sm font-semibold bg-green-500 hover:bg-green-600 text-white rounded-lg shadow-sm hover:shadow-md transition-all",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs("button",{onClick:()=>ke(w.id),className:"inline-flex items-center px-5 py-2.5 text-sm font-semibold bg-red-500 hover:bg-red-600 text-white rounded-lg shadow-sm hover:shadow-md transition-all",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),w.status==="submitted"&&!w.school?.email&&e.jsxs("button",{onClick:()=>{const K=prompt("School contact email:"),ne=prompt("Contact first name:"),pe=prompt("Contact last name:");K&&ne&&pe&&Q(w.id,{email:K,first_name:ne,last_name:pe})},className:"inline-flex items-center px-5 py-2.5 text-sm font-semibold bg-orange-500 hover:bg-orange-600 text-white rounded-lg shadow-sm hover:shadow-md transition-all",children:[e.jsx(fc,{className:"w-4 h-4 mr-2"}),"Create Account"]})]})]})]})]})}),b&&w&&e.jsx(sue,{application:w,onClose:()=>{y(!1),Ie()}}),H&&L&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(bt,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:L.title})]})}),e.jsx("div",{className:"px-6 py-6",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:L.message})}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 px-6 py-4 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{I(!1),M(null)},className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:()=>{L.onConfirm(),I(!1),M(null)},className:"px-6 py-2.5 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white rounded-lg font-bold shadow-md hover:shadow-lg transition-all",children:"Confirm"})]})]})}),q&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(jt,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Reject Application"})]})}),e.jsxs("div",{className:"px-6 py-6 space-y-4",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Please provide a reason for rejecting this application:"}),e.jsx("textarea",{value:G,onChange:K=>de(K.target.value),placeholder:"Enter rejection reason...",rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white resize-none"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 px-6 py-4 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>{Z(!1),de(""),z(null)},className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:xe,disabled:!G.trim(),className:"px-6 py-2.5 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg font-bold shadow-md hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Reject Application"})]})]})})]})}function nue(){const[t,r]=De.useState("overview"),s=[{id:"overview",label:"Overview",icon:Rs},{id:"application-workflow",label:"Application Workflow",icon:ut},{id:"status-flow",label:"Status Flow",icon:Nx},{id:"documents",label:"Document Review",icon:ut}];return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(U3,{className:"w-8 h-8 text-orange-500"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Partner School Application Guide"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Complete navigation guide for managing partner school applications"})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 mb-6",children:e.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:s.map(a=>{const n=a.icon;return e.jsxs("button",{onClick:()=>r(a.id),className:`
                                            flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm
                                            ${t===a.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                                        `,children:[e.jsx(n,{className:"w-5 h-5"}),e.jsx("span",{children:a.label})]},a.id)})})})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[t==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Getting Started"}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:e.jsxs("p",{className:"text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Navigation:"})," Sidebar  Partner School Database  Applications"]})}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"The Applications module manages the complete partner school application process from creation through approval."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"Key Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ut,{className:"w-5 h-5 text-orange-500"}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Application Management"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create, review, and manage partner school applications with automatic account creation"})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Le,{className:"w-5 h-5 text-green-500"}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Document Verification"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Review and verify school documents uploaded by applicants"})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Nt,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Status Tracking"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Track application progress through draft, submitted, under review, and final approval stages"})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Wn,{className:"w-5 h-5 text-blue-500"}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Auto Account Creation"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Automatically create partner school accounts with credentials sent via email"})]})]})]})]}),t==="application-workflow"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Application Creation & Management Workflow"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Create New Application"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:["Click ",e.jsx("strong",{children:'"+ New Application"'})," button (top right)"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Fill in the required information:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400 ml-4",children:[e.jsx("li",{children:"School Name (required)"}),e.jsx("li",{children:"Classification (required - e.g., Public Elementary, Private High School)"}),e.jsx("li",{children:"Address (City, Region, etc.)"}),e.jsx("li",{children:"Contact Person Information (required)"}),e.jsx("li",{children:"Email (required)"}),e.jsx("li",{children:"Contact Number"}),e.jsx("li",{children:"Admin Notes (optional, internal use only)"})]})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 2: Auto Account Creation"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"When you save the application:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400 ml-4",children:[e.jsx("li",{children:"A partner school account is automatically created"}),e.jsx("li",{children:"Temporary password is generated and emailed to the contact person"}),e.jsx("li",{children:"School rep can login and upload required documents"}),e.jsxs("li",{children:["Application status starts as ",e.jsx("strong",{children:'"Draft"'})]})]})]}),e.jsxs("div",{className:"border-l-4 border-yellow-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 3: Partner School Actions"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"The partner school representative will:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400 ml-4",children:[e.jsx("li",{children:"Login with their credentials"}),e.jsx("li",{children:"Upload all required documents (based on guidelines)"}),e.jsx("li",{children:"Submit the application when all documents are uploaded"}),e.jsxs("li",{children:["Status changes from ",e.jsx("strong",{children:'"Draft"'})," to ",e.jsx("strong",{children:'"Submitted"'})]})]})]}),e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 4: Admin Review & Approval"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"As an admin, you can:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400 ml-4",children:[e.jsxs("li",{children:["Mark application as ",e.jsx("strong",{children:'"Under Review"'})]}),e.jsx("li",{children:"Review all uploaded documents"}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Approve"'})," the application (sets status to Approved)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:'"Reject"'})," the application with reason"]})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["Note: Partners can withdraw their application while it's ",e.jsx("strong",{children:'"Submitted"'})," or ",e.jsx("strong",{children:'"Under Review"'})]})]})]})]}),t==="status-flow"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Application Status Flow"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4 border border-gray-200 dark:border-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Draft"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Initial status when application is created"}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Action:"}),' Click "Submit for Review" to move to "Submitted"']})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Submitted"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Application has been submitted for review"}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Action:"})," Create account or wait for document upload"]})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Nt,{className:"w-5 h-5 text-yellow-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Under Review"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Admin is reviewing the application and uploaded documents"}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Actions:"})," Review all documents, then Approve or Reject the application"]})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(jt,{className:"w-5 h-5 text-orange-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Withdrawn"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Partner school withdrew their application voluntarily"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Le,{className:"w-5 h-5 text-green-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Approved"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Final status - School is verified and approved"})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(jt,{className:"w-5 h-5 text-red-500"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Rejected"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Final status - Application rejected, reason stored"})]})]})]}),t==="documents"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Document Review Process"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 1: Access Document Review"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:["From Applications list, click ",e.jsx("strong",{children:" File icon"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Or access from Application Details modal"})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 2: Review Documents"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"For each document:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400 ml-4",children:[e.jsxs("li",{children:["Click ",e.jsx("strong",{children:" View"})," to see the document"]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:" Download"})," to download"]}),e.jsx("li",{children:"Review document content and validity"})]})]}),e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 3: Verify Documents"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"Options available:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-400 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:" Verify"})," - Mark document as verified"]}),e.jsxs("li",{children:[e.jsx("strong",{children:" Reject"})," - Reject document (add notes)"]}),e.jsx("li",{children:"Add verification notes (optional)"})]})]}),e.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Step 4: Complete Review"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Once all documents are verified, proceed to approve/reject the application"})]})]})]})]}),e.jsxs("div",{className:"mt-6 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Action Reference"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Create Application"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Click "+ New Application" button'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"View Application Details"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Click "Details" button on application card'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Review Documents"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Click "Documents" button on application card'})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Mark Under Review"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"For submitted applications (yellow button)"})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Approve Application"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"For under review applications (green button)"})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Reject Application"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"For under review applications (red button)"})]})]})]})]})})}function iue(){const[t,r]=De.useState("applications"),s=[{id:"applications",label:"Applications",icon:jc},{id:"guide",label:"Guide",icon:U3}];return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Partner School Applications"}),e.jsx("p",{className:"text-gray-600",children:"Manage partner school applications and verification"})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:s.map(a=>{const n=a.icon;return e.jsxs("button",{onClick:()=>r(a.id),className:`
                                    flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm
                                    ${t===a.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                                `,children:[e.jsx(n,{className:"w-5 h-5"}),e.jsx("span",{children:a.label})]},a.id)})})}),e.jsxs("div",{children:[t==="applications"&&e.jsx(aue,{}),t==="guide"&&e.jsx(nue,{})]})]})}const lue=({isOpen:t,onClose:r,user:s,onActivate:a,onDeactivate:n,onPermanentDelete:i,isLoading:l})=>{if(!t||!s)return null;const c=s.is_active,u=()=>{a(s.id)},h=()=>{n(s.id)},m=()=>{i(s.id)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-full ${c?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:c?e.jsx(yi,{className:"w-6 h-6 text-green-600 dark:text-green-400"}):e.jsx(_b,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"User Actions"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s.first_name," ",s.last_name]})]})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(wt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status:"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200"}`,children:c?"Active":"Inactive"})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c?"This user is currently active and can access the system.":"This user is currently inactive and cannot access the system."})]}),e.jsx("div",{className:"space-y-3",children:c?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:h,disabled:l,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-orange-100 hover:bg-orange-200 dark:bg-orange-900/20 dark:hover:bg-orange-900/30 text-orange-800 dark:text-orange-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(_b,{className:"w-4 h-4"}),e.jsx("span",{children:"Deactivate User"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Deactivating will prevent the user from accessing the system but can be restored."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:u,disabled:l,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-green-100 hover:bg-green-200 dark:bg-green-900/20 dark:hover:bg-green-900/30 text-green-800 dark:text-green-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(yi,{className:"w-4 h-4"}),e.jsx("span",{children:"Activate User"})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[e.jsxs("button",{onClick:m,disabled:l,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/30 text-red-800 dark:text-red-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(qs,{className:"w-4 h-4"}),e.jsx("span",{children:"Permanently Delete"})]}),e.jsxs("div",{className:"flex items-start space-x-2 mt-2 p-3 bg-red-50 dark:bg-red-900/10 rounded-lg",children:[e.jsx(Wt,{className:"w-4 h-4 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-xs text-red-700 dark:text-red-300",children:[e.jsx("strong",{children:"Warning:"})," This action cannot be undone. The user will be completely removed from the database."]})]})]})]})})]}),e.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700",children:e.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"})})]})})},oi=Ca("/api"),oue=()=>{const[t,r]=f.useState({citizens:[],staff:[],admins:[],ps_reps:[],ssc:[],ssc_chairperson:[],ssc_city_council:[],ssc_budget_dept:[],ssc_education_affairs:[],ssc_hrd:[],ssc_social_services:[],ssc_accounting:[],ssc_treasurer:[],ssc_qcydo:[],ssc_planning_dept:[],ssc_schools_division:[],ssc_qcu:[]}),[s,a]=f.useState([]),[n,i]=f.useState("all"),[l,c]=f.useState("all"),[u,h]=f.useState(""),[m,x]=f.useState(!0),[g,b]=f.useState(!1),[y,w]=f.useState(!1),[N,_]=f.useState(null),[S,k]=f.useState(null),[v,A]=f.useState({citizen_id:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:"",middle_name:"",extension_name:"",mobile:"",birthdate:"",address:"",house_number:"",street:"",barangay:"",role:"citizen",system_role:"coordinator",department:"",position:"",assigned_school_id:""}),[E,T]=f.useState(""),[F,R]=f.useState(!1),[D,$]=f.useState({}),[B,H]=f.useState(!1),[I,L]=f.useState(!1),[M,q]=f.useState([]),[Z,G]=f.useState(""),[de,X]=f.useState([]),[z,Ie]=f.useState(!1),[ie,Pe]=f.useState(null),[re,Ee]=f.useState(!1),{showSuccess:ke,showError:xe,showWarning:Q}=Zt(),et=v.role&&v.role!=="",ve=()=>({disabled:!et,className:(J,ce="")=>`${J} ${ce} ${et?"":"bg-gray-100 dark:bg-gray-800 cursor-not-allowed opacity-60"}`});f.useEffect(()=>{Ze(),Qe(),ht()},[]),f.useEffect(()=>{l!==void 0&&Ze()},[l]),f.useEffect(()=>{if(Z){const J=M.filter(ce=>ce.name.toLowerCase().includes(Z.toLowerCase())||ce.campus?.toLowerCase().includes(Z.toLowerCase())||ce.city?.toLowerCase().includes(Z.toLowerCase()));X(J)}else X(M)},[Z,M]),f.useEffect(()=>{K()},[n,l,u,t]),f.useEffect(()=>{v.role&&g&&se(v.role)},[v.role,g,t]);const Ze=async()=>{x(!0);try{const J={};l!=="all"&&(J.status=l),console.log("Fetching users from:",`${oi}/users`,"with params:",J);const ce=await yt.get(`${oi}/users`,{params:J});if(console.log("Users API response:",ce.data),ce.data.success){let $e=ce.data.data;Array.isArray($e)?(console.log("Data is flat array, categorizing..."),$e={citizens:$e.filter(nt=>nt.role==="citizen"),staff:$e.filter(nt=>nt.role==="staff"),admins:$e.filter(nt=>nt.role==="admin"),ps_reps:$e.filter(nt=>nt.role==="ps_rep"),ssc:$e.filter(nt=>nt.role==="ssc"),ssc_chairperson:$e.filter(nt=>nt.role==="ssc_chairperson"),ssc_city_council:$e.filter(nt=>nt.role==="ssc_city_council"),ssc_budget_dept:$e.filter(nt=>nt.role==="ssc_budget_dept"),ssc_education_affairs:$e.filter(nt=>nt.role==="ssc_education_affairs"),ssc_hrd:$e.filter(nt=>nt.role==="ssc_hrd"),ssc_social_services:$e.filter(nt=>nt.role==="ssc_social_services"),ssc_accounting:$e.filter(nt=>nt.role==="ssc_accounting"),ssc_treasurer:$e.filter(nt=>nt.role==="ssc_treasurer"),ssc_qcydo:$e.filter(nt=>nt.role==="ssc_qcydo"),ssc_planning_dept:$e.filter(nt=>nt.role==="ssc_planning_dept"),ssc_schools_division:$e.filter(nt=>nt.role==="ssc_schools_division"),ssc_qcu:$e.filter(nt=>nt.role==="ssc_qcu")}):$e=$e||{citizens:[],staff:[],admins:[],ps_reps:[],ssc:[],ssc_chairperson:[],ssc_city_council:[],ssc_budget_dept:[],ssc_education_affairs:[],ssc_hrd:[],ssc_social_services:[],ssc_accounting:[],ssc_treasurer:[],ssc_qcydo:[],ssc_planning_dept:[],ssc_schools_division:[],ssc_qcu:[]},console.log("Setting users data:",$e),r($e)}else console.error("Failed to fetch users:",ce.data.message),r({citizens:[],staff:[],admins:[],ps_reps:[],ssc:[],ssc_chairperson:[],ssc_city_council:[],ssc_budget_dept:[],ssc_education_affairs:[],ssc_hrd:[],ssc_social_services:[],ssc_accounting:[],ssc_treasurer:[],ssc_qcydo:[],ssc_planning_dept:[],ssc_schools_division:[],ssc_qcu:[]})}catch{console.warn("Users API not available, using empty data"),r({citizens:[],staff:[],admins:[],ps_reps:[],ssc:[],ssc_chairperson:[],ssc_city_council:[],ssc_budget_dept:[],ssc_education_affairs:[],ssc_hrd:[],ssc_social_services:[],ssc_accounting:[],ssc_treasurer:[],ssc_qcydo:[],ssc_planning_dept:[],ssc_schools_division:[],ssc_qcu:[]})}finally{x(!1)}},Qe=async()=>{try{const J=await yt.get(`${oi}/users/stats`);J.data.success&&k(J.data.data)}catch{console.warn("Stats API not available, using empty data")}},ht=async()=>{try{const J=await fetch(`${oi}/schools?per_page=100`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!J.ok)throw new Error(`HTTP error! status: ${J.status}`);const ce=await J.json();if(ce.success)q(ce.data.data||[]);else throw new Error(ce.message||"Failed to fetch schools")}catch{console.warn("Schools API not available, using empty data")}},K=()=>{let J=[];n==="all"?J=[...(t.citizens||[]).map(ce=>({...ce,roleType:"Citizen"})),...(t.staff||[]).map(ce=>({...ce,roleType:"Staff"})),...(t.admins||[]).map(ce=>({...ce,roleType:"Admin"})),...(t.ps_reps||[]).map(ce=>({...ce,roleType:"Partner School Rep"})),...(t.ssc||[]).map(ce=>({...ce,roleType:"SSC - General"})),...(t.ssc_chairperson||[]).map(ce=>({...ce,roleType:"SSC - Chairperson"})),...(t.ssc_city_council||[]).map(ce=>({...ce,roleType:"SSC - City Council"})),...(t.ssc_budget_dept||[]).map(ce=>({...ce,roleType:"SSC - Budget Department"})),...(t.ssc_education_affairs||[]).map(ce=>({...ce,roleType:"SSC - Education Affairs"})),...(t.ssc_hrd||[]).map(ce=>({...ce,roleType:"SSC - HRD"})),...(t.ssc_social_services||[]).map(ce=>({...ce,roleType:"SSC - Social Services"})),...(t.ssc_accounting||[]).map(ce=>({...ce,roleType:"SSC - Accounting"})),...(t.ssc_treasurer||[]).map(ce=>({...ce,roleType:"SSC - Treasurer"})),...(t.ssc_qcydo||[]).map(ce=>({...ce,roleType:"SSC - QCYDO"})),...(t.ssc_planning_dept||[]).map(ce=>({...ce,roleType:"SSC - Planning Department"})),...(t.ssc_schools_division||[]).map(ce=>({...ce,roleType:"SSC - Schools Division"})),...(t.ssc_qcu||[]).map(ce=>({...ce,roleType:"SSC - QCU"}))]:n==="citizen"?J=(t.citizens||[]).map(ce=>({...ce,roleType:"Citizen"})):n==="staff"?J=(t.staff||[]).map(ce=>({...ce,roleType:"Staff"})):n==="admin"?J=(t.admins||[]).map(ce=>({...ce,roleType:"Admin"})):n==="ps_rep"?J=(t.ps_reps||[]).map(ce=>({...ce,roleType:"Partner School Rep"})):n==="ssc"?J=(t.ssc||[]).map(ce=>({...ce,roleType:"SSC - General"})):n==="ssc_chairperson"?J=(t.ssc_chairperson||[]).map(ce=>({...ce,roleType:"SSC - Chairperson"})):n==="ssc_city_council"?J=(t.ssc_city_council||[]).map(ce=>({...ce,roleType:"SSC - City Council"})):n==="ssc_budget_dept"?J=(t.ssc_budget_dept||[]).map(ce=>({...ce,roleType:"SSC - Budget Department"})):n==="ssc_education_affairs"?J=(t.ssc_education_affairs||[]).map(ce=>({...ce,roleType:"SSC - Education Affairs"})):n==="ssc_hrd"?J=(t.ssc_hrd||[]).map(ce=>({...ce,roleType:"SSC - HRD"})):n==="ssc_social_services"?J=(t.ssc_social_services||[]).map(ce=>({...ce,roleType:"SSC - Social Services"})):n==="ssc_accounting"?J=(t.ssc_accounting||[]).map(ce=>({...ce,roleType:"SSC - Accounting"})):n==="ssc_treasurer"?J=(t.ssc_treasurer||[]).map(ce=>({...ce,roleType:"SSC - Treasurer"})):n==="ssc_qcydo"?J=(t.ssc_qcydo||[]).map(ce=>({...ce,roleType:"SSC - QCYDO"})):n==="ssc_planning_dept"?J=(t.ssc_planning_dept||[]).map(ce=>({...ce,roleType:"SSC - Planning Department"})):n==="ssc_schools_division"?J=(t.ssc_schools_division||[]).map(ce=>({...ce,roleType:"SSC - Schools Division"})):n==="ssc_qcu"&&(J=(t.ssc_qcu||[]).map(ce=>({...ce,roleType:"SSC - QCU"}))),u&&(J=J.filter(ce=>ce.email?.toLowerCase().includes(u.toLowerCase())||ce.first_name?.toLowerCase().includes(u.toLowerCase())||ce.last_name?.toLowerCase().includes(u.toLowerCase())||ce.citizen_id?.toLowerCase().includes(u.toLowerCase()))),a(J)},ne=async J=>{if(J.preventDefault(),!!Ne()){R(!0);try{const{password_confirmation:ce,...$e}=v,nt={...$e,email:$e.email.trim().toLowerCase(),first_name:$e.first_name.trim(),last_name:$e.last_name.trim(),middle_name:$e.middle_name?.trim()||null,mobile:$e.mobile?.trim()||null,department:$e.department?.trim()||null,position:$e.position?.trim()||null,system_role:$e.system_role||null,assigned_school_id:$e.assigned_school_id&&$e.assigned_school_id!==""?parseInt($e.assigned_school_id):null};nt.role==="staff"?nt.system_role||(nt.system_role="coordinator"):delete nt.system_role,Object.keys(nt).forEach(Gt=>{(nt[Gt]===null||nt[Gt]==="")&&delete nt[Gt]}),console.log("Sending user data:",nt),(await yt.post(`${oi}/users`,nt)).data.success&&(ke("User created successfully!"),b(!1),te(),Ze(),Qe())}catch(ce){if(console.error("Error creating user:",ce),ce.response?.data?.errors){const $e=ce.response.data.errors;$($e),xe("Please fix the validation errors and try again.")}else if(ce.response?.data?.message)xe(`Error: ${ce.response.data.message}`);else if(ce.code==="NETWORK_ERROR")xe("Network error. Please check your connection and try again.");else{const $e=ce.response?.data?.message||ce.message;xe("Error creating user: "+$e)}}finally{R(!1)}}},pe=async J=>{J.preventDefault();try{(await yt.put(`${oi}/users/${N.id}`,v)).data.success&&(ke("User updated successfully!"),w(!1),_(null),te(),Ze())}catch(ce){xe("Error updating user: "+(ce.response?.data?.message||ce.message))}},Xe=J=>{Pe(J),Ie(!0)},ee=()=>{Ie(!1),Pe(null),Ee(!1)},he=async J=>{Ee(!0);try{(await yt.put(`${oi}/users/${J}/activate`)).data.success&&(ke("User activated successfully!"),Ze(),Qe(),ee())}catch(ce){xe(`Error activating user: ${ce.response?.data?.message||ce.message}`)}finally{Ee(!1)}},W=async J=>{Ee(!0);try{(await yt.delete(`${oi}/users/${J}`)).data.success&&(Q("User deactivated successfully!"),Ze(),Qe(),ee())}catch(ce){xe(`Error deactivating user: ${ce.response?.data?.message||ce.message}`)}finally{Ee(!1)}},ye=async J=>{Ee(!0);try{(await yt.delete(`${oi}/users/${J}/permanent`)).data.success&&(ke("User permanently deleted successfully!"),Ze(),Qe(),ee())}catch(ce){xe(`Error permanently deleting user: ${ce.response?.data?.message||ce.message}`)}finally{Ee(!1)}},P=()=>{b(!0),se("citizen")},V=J=>{_(J),A({email:J.email||"",first_name:J.first_name||"",last_name:J.last_name||"",middle_name:J.middle_name||"",extension_name:J.extension_name||"",mobile:J.mobile||"",birthdate:J.birthdate||"",address:J.address||"",house_number:J.house_number||"",street:J.street||"",barangay:J.barangay||"",role:J.role||"citizen",system_role:J.staff_details?.system_role||"coordinator",department:J.staff_details?.department||"",position:J.staff_details?.position||""}),w(!0)},te=()=>{A({citizen_id:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:"",middle_name:"",extension_name:"",mobile:"",birthdate:"",address:"",house_number:"",street:"",barangay:"",role:"citizen",system_role:"coordinator",department:"",position:"",assigned_school_id:""}),$({}),R(!1),H(!1),L(!1),T(""),G("")},Ne=()=>{const J={};return v.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)?v.email.length>255&&(J.email="Email must be less than 255 characters"):J.email="Please enter a valid email address":J.email="Email is required",v.password?v.password.length<8?J.password="Password must be at least 8 characters":v.password.length>128?J.password="Password must be less than 128 characters":/(?=.*[a-z])/.test(v.password)?/(?=.*[A-Z])/.test(v.password)?/(?=.*\d)/.test(v.password)?/(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?])/.test(v.password)||(J.password="Password must contain at least one special character"):J.password="Password must contain at least one number":J.password="Password must contain at least one uppercase letter":J.password="Password must contain at least one lowercase letter":J.password="Password is required",v.password_confirmation?v.password!==v.password_confirmation&&(J.password_confirmation="Passwords do not match"):J.password_confirmation="Please confirm your password",v.first_name.trim()?v.first_name.trim().length<2?J.first_name="First name must be at least 2 characters":v.first_name.trim().length>50?J.first_name="First name must be less than 50 characters":/^[a-zA-Z\s'-]+$/.test(v.first_name.trim())||(J.first_name="First name can only contain letters, spaces, hyphens, and apostrophes"):J.first_name="First name is required",v.last_name.trim()?v.last_name.trim().length<2?J.last_name="Last name must be at least 2 characters":v.last_name.trim().length>50?J.last_name="Last name must be less than 50 characters":/^[a-zA-Z\s'-]+$/.test(v.last_name.trim())||(J.last_name="Last name can only contain letters, spaces, hyphens, and apostrophes"):J.last_name="Last name is required",v.middle_name&&v.middle_name.trim().length>50?J.middle_name="Middle name must be less than 50 characters":v.middle_name&&!/^[a-zA-Z\s'-]+$/.test(v.middle_name.trim())&&(J.middle_name="Middle name can only contain letters, spaces, hyphens, and apostrophes"),v.mobile&&!/^[\+]?[1-9][\d]{0,15}$/.test(v.mobile.replace(/[\s\-\(\)]/g,""))&&(J.mobile="Please enter a valid phone number"),v.role==="staff"&&!v.system_role&&(J.system_role="System role is required for staff members"),v.role==="staff"&&(!v.department||v.department.trim()===""?J.department="Department is required for staff members":v.department.length>100&&(J.department="Department name must be less than 100 characters")),v.role==="staff"&&(!v.position||v.position.trim()===""?J.position="Position is required for staff members":v.position.length>100&&(J.position="Position must be less than 100 characters")),v.role==="ps_rep"&&(v.assigned_school_id||(J.assigned_school_id="School assignment is required for Partner School Representatives")),$(J),Object.keys(J).length===0},Se=J=>{if(!J)return{strength:0,label:"",color:"",requirements:[]};const ce=[{text:"At least 8 characters",met:J.length>=8},{text:"One lowercase letter",met:/[a-z]/.test(J)},{text:"One uppercase letter",met:/[A-Z]/.test(J)},{text:"One number",met:/[0-9]/.test(J)},{text:"One special character",met:/[^A-Za-z0-9]/.test(J)}],nt=ce.filter(Ce=>Ce.met).length,qt=["Very Weak","Weak","Fair","Good","Strong"],Gt=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"];return{strength:nt,label:qt[nt-1]||"Very Weak",color:Gt[nt-1]||"bg-red-500",requirements:ce}},at=()=>{const J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let ce="";for(let $e=0;$e<12;$e++)ce+=J.charAt(Math.floor(Math.random()*J.length));A({...v,password:ce,password_confirmation:ce})},pt=(J,ce)=>{const $e={...D};switch(J){case"email":ce.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ce)?ce.length>255?$e.email="Email must be less than 255 characters":delete $e.email:$e.email="Please enter a valid email address":$e.email="Email is required";break;case"password":ce?ce.length<8?$e.password="Password must be at least 8 characters":ce.length>128?$e.password="Password must be less than 128 characters":/(?=.*[a-z])/.test(ce)?/(?=.*[A-Z])/.test(ce)?/(?=.*\d)/.test(ce)?/(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?])/.test(ce)?delete $e.password:$e.password="Password must contain at least one special character":$e.password="Password must contain at least one number":$e.password="Password must contain at least one uppercase letter":$e.password="Password must contain at least one lowercase letter":$e.password="Password is required";break;case"password_confirmation":ce?ce!==v.password?$e.password_confirmation="Passwords do not match":delete $e.password_confirmation:$e.password_confirmation="Please confirm your password";break;case"first_name":ce.trim()?ce.trim().length<2?$e.first_name="First name must be at least 2 characters":ce.trim().length>50?$e.first_name="First name must be less than 50 characters":/^[a-zA-Z\s'-]+$/.test(ce.trim())?delete $e.first_name:$e.first_name="First name can only contain letters, spaces, hyphens, and apostrophes":$e.first_name="First name is required";break;case"last_name":ce.trim()?ce.trim().length<2?$e.last_name="Last name must be at least 2 characters":ce.trim().length>50?$e.last_name="Last name must be less than 50 characters":/^[a-zA-Z\s'-]+$/.test(ce.trim())?delete $e.last_name:$e.last_name="Last name can only contain letters, spaces, hyphens, and apostrophes":$e.last_name="Last name is required";break;case"mobile":ce&&!/^[\+]?[1-9][\d]{0,15}$/.test(ce.replace(/[\s\-\(\)]/g,""))?$e.mobile="Please enter a valid phone number":delete $e.mobile;break}$($e)},se=J=>{const $e={citizen:"CITIZEN",staff:"STAFF",admin:"ADMIN",ps_rep:"PSREP",ssc:"SSC",ssc_chairperson:"SSC",ssc_city_council:"SSC",ssc_budget_dept:"SSC",ssc_education_affairs:"SSC",ssc_hrd:"SSC",ssc_social_services:"SSC",ssc_accounting:"SSC",ssc_treasurer:"SSC",ssc_qcydo:"SSC",ssc_planning_dept:"SSC",ssc_schools_division:"SSC",ssc_qcu:"SSC"}[J]||"USER";let nt=0;[...t.citizens||[],...t.staff||[],...t.admins||[],...t.ps_reps||[],...t.ssc||[],...t.ssc_chairperson||[],...t.ssc_city_council||[],...t.ssc_budget_dept||[],...t.ssc_education_affairs||[],...t.ssc_hrd||[],...t.ssc_social_services||[],...t.ssc_accounting||[],...t.ssc_treasurer||[],...t.ssc_qcydo||[],...t.ssc_planning_dept||[],...t.ssc_schools_division||[],...t.ssc_qcu||[]].forEach(Re=>{if(Re.citizen_id&&Re.citizen_id.startsWith($e)){const Ke=parseInt(Re.citizen_id.split("-")[1]);!isNaN(Ke)&&Ke>nt&&(nt=Ke)}});const Gt=nt+1,Ce=`${$e}-${Gt.toString().padStart(3,"0")}`;T(Ce),A({...v,citizen_id:Ce})},He=J=>{switch(J){case"admin":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"staff":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"ps_rep":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"citizen":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"ssc":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"ssc_chairperson":return"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200";case"ssc_city_council":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"ssc_budget_dept":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"ssc_education_affairs":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200";case"ssc_hrd":return"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200";case"ssc_social_services":return"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200";case"ssc_accounting":return"bg-lime-100 text-lime-800 dark:bg-lime-900 dark:text-lime-200";case"ssc_treasurer":return"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200";case"ssc_qcydo":return"bg-sky-100 text-sky-800 dark:bg-sky-900 dark:text-sky-200";case"ssc_planning_dept":return"bg-violet-100 text-violet-800 dark:bg-violet-900 dark:text-violet-200";case"ssc_schools_division":return"bg-fuchsia-100 text-fuchsia-800 dark:bg-fuchsia-900 dark:text-fuchsia-200";case"ssc_qcu":return"bg-rose-100 text-rose-800 dark:bg-rose-900 dark:text-rose-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},qe=()=>(t.citizens?.length||0)+(t.staff?.length||0)+(t.admins?.length||0)+(t.ps_reps?.length||0)+(t.ssc_city_council?.length||0)+(t.ssc_budget_dept?.length||0)+(t.ssc_education_affairs?.length||0);return m?e.jsx(Fce,{}):e.jsxs("div",{className:"space-y-4 sm:space-y-6 p-4 sm:p-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"User Management"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1",children:"Manage system users and their roles"})]}),e.jsxs("button",{onClick:P,className:"flex items-center justify-center gap-2 px-3 py-2 sm:px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base w-full sm:w-auto",children:[e.jsx(fc,{size:18,className:"sm:w-5 sm:h-5"}),e.jsx("span",{className:"truncate",children:"Add New User"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-4 sm:gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Total Users"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mt-1",children:qe()})]}),e.jsx(Ht,{className:"text-blue-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Citizens"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:t.citizens?.length||0})]}),e.jsx(yi,{className:"text-green-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Staff Members"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1",children:t.staff?.length||0})]}),e.jsx(Ir,{className:"text-blue-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Administrators"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:t.admins?.length||0})]}),e.jsx(Ir,{className:"text-red-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Partner School Reps"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-purple-600 dark:text-purple-400 mt-1",children:t.ps_reps?.length||0})]}),e.jsx(Ir,{className:"text-purple-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"SSC - City Council"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-orange-600 dark:text-orange-400 mt-1",children:t.ssc_city_council?.length||0})]}),e.jsx(Ir,{className:"text-orange-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"SSC - Budget Dept"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:t.ssc_budget_dept?.length||0})]}),e.jsx(Ir,{className:"text-yellow-500 flex-shrink-0",size:28})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"SSC - Education"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-indigo-600 dark:text-indigo-400 mt-1",children:t.ssc_education_affairs?.length||0})]}),e.jsx(Ir,{className:"text-indigo-500 flex-shrink-0",size:28})]})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-3 sm:p-4 rounded-lg shadow",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search by name, email, or citizen ID...",value:u,onChange:J=>h(J.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fa,{size:18,className:"text-gray-600 dark:text-gray-400"}),e.jsxs("select",{value:n,onChange:J=>i(J.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"citizen",children:"Citizens"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"admin",children:"Administrators"}),e.jsx("option",{value:"ps_rep",children:"Partner School Reps"}),e.jsx("option",{value:"ssc",children:"SSC - General"}),e.jsx("option",{value:"ssc_chairperson",children:"SSC - Chairperson"}),e.jsx("option",{value:"ssc_city_council",children:"SSC - City Council"}),e.jsx("option",{value:"ssc_budget_dept",children:"SSC - Budget Department"}),e.jsx("option",{value:"ssc_education_affairs",children:"SSC - Education Affairs"}),e.jsx("option",{value:"ssc_hrd",children:"SSC - HRD"}),e.jsx("option",{value:"ssc_social_services",children:"SSC - Social Services"}),e.jsx("option",{value:"ssc_accounting",children:"SSC - Accounting"}),e.jsx("option",{value:"ssc_treasurer",children:"SSC - Treasurer"}),e.jsx("option",{value:"ssc_qcydo",children:"SSC - QCYDO"}),e.jsx("option",{value:"ssc_planning_dept",children:"SSC - Planning Department"}),e.jsx("option",{value:"ssc_schools_division",children:"SSC - Schools Division"}),e.jsx("option",{value:"ssc_qcu",children:"SSC - QCU"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yi,{size:18,className:"text-gray-600 dark:text-gray-400"}),e.jsxs("select",{value:l,onChange:J=>c(J.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-sm",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"User Info"}),e.jsx("span",{className:"sm:hidden",children:"Name"})]}),e.jsxs("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:[e.jsx("span",{className:"hidden sm:inline",children:"Citizen ID"}),e.jsx("span",{className:"sm:hidden",children:"ID"})]}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 sm:px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:m?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"Loading users..."})}):s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"No users found"})}):s.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white text-sm sm:text-base truncate",children:[J.first_name," ",J.middle_name?J.middle_name+" ":"",J.last_name," ",J.extension_name||""]}),e.jsx("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 truncate",children:J.email})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 text-xs sm:text-sm text-gray-900 dark:text-white",children:e.jsx("span",{className:"truncate block",children:J.citizen_id||"N/A"})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${He(J.role)}`,children:J.roleType})}),e.jsx("td",{className:"px-3 sm:px-6 py-4",children:J.is_active?e.jsxs("span",{className:"flex items-center gap-1 text-green-600 dark:text-green-400 text-xs sm:text-sm",children:[e.jsx(yi,{size:14,className:"sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Active"})]}):e.jsxs("span",{className:"flex items-center gap-1 text-red-600 dark:text-red-400 text-xs sm:text-sm",children:[e.jsx(_b,{size:14,className:"sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Inactive"})]})}),e.jsx("td",{className:"px-3 sm:px-6 py-4 text-right",children:e.jsxs("div",{className:"flex justify-end gap-1 sm:gap-2",children:[e.jsx("button",{onClick:()=>V(J),className:"p-1.5 sm:p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit User",children:e.jsx(on,{size:16,className:"sm:w-5 sm:h-5"})}),e.jsx("button",{onClick:()=>Xe(J),className:`p-1.5 sm:p-2 rounded-lg transition-colors ${J.is_active?"text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20":"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20"}`,title:(J.is_active,"User Actions"),children:e.jsx(U$,{size:16,className:"sm:w-5 sm:h-5"})})]})})]},J.id))})]})})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-2 sm:p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full max-h-[95vh] sm:max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(fc,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Create New User"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add a new user to the system"})]})]}),e.jsx("button",{onClick:()=>{b(!1),te()},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(jt,{className:"w-5 h-5 text-gray-500"})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Jt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Jt,{className:"w-4 h-4 inline mr-1"}),"Citizen ID *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",required:!0,value:v.citizen_id,readOnly:!0,className:"w-full px-4 py-3 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-600 text-gray-700 dark:text-gray-300 cursor-not-allowed focus:ring-2 focus:ring-blue-500"}),e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(Le,{className:"w-3 h-3"}),"ID is automatically generated based on role"]}),D.citizen_id&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),D.citizen_id]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Wn,{className:"w-4 h-4 inline mr-1"}),"Email Address *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",required:!0,value:v.email,onChange:J=>{A({...v,email:J.target.value}),pt("email",J.target.value)},onBlur:J=>pt("email",J.target.value),className:`w-full px-4 py-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${D.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"user@example.com"}),e.jsx(Wn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),D.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),D.email]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ir,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Role & Permissions"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Ir,{className:"w-4 h-4 inline mr-1"}),"User Role *"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{required:!0,value:v.role,onChange:J=>A({...v,role:J.target.value}),className:"w-full px-4 py-3 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 dark:bg-gray-700 dark:text-white transition-colors appearance-none",children:[e.jsx("option",{value:"",children:"Select a role"}),e.jsx("option",{value:"citizen",children:"Citizen"}),e.jsx("option",{value:"staff",children:"Staff Member"}),e.jsx("option",{value:"admin",children:"Administrator"}),e.jsx("option",{value:"ps_rep",children:"Partner School Representative"}),e.jsx("option",{value:"ssc",children:"SSC - General"}),e.jsx("option",{value:"ssc_chairperson",children:"SSC - Chairperson"}),e.jsx("option",{value:"ssc_city_council",children:"SSC - City Council"}),e.jsx("option",{value:"ssc_budget_dept",children:"SSC - Budget Department"}),e.jsx("option",{value:"ssc_education_affairs",children:"SSC - Education Affairs"}),e.jsx("option",{value:"ssc_hrd",children:"SSC - HRD"}),e.jsx("option",{value:"ssc_social_services",children:"SSC - Social Services"}),e.jsx("option",{value:"ssc_accounting",children:"SSC - Accounting"}),e.jsx("option",{value:"ssc_treasurer",children:"SSC - Treasurer"}),e.jsx("option",{value:"ssc_qcydo",children:"SSC - QCYDO"}),e.jsx("option",{value:"ssc_planning_dept",children:"SSC - Planning Department"}),e.jsx("option",{value:"ssc_schools_division",children:"SSC - Schools Division"}),e.jsx("option",{value:"ssc_qcu",children:"SSC - QCU"})]}),e.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Choose the appropriate role for this user"})]})})]}),!et&&e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(bt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mr-2"}),e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Please select a user role above to enable the form fields below."})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Jt,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Personal Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Jt,{className:"w-4 h-4 inline mr-1"}),"First Name *"]}),e.jsx("input",{type:"text",required:!0,...ve(),value:v.first_name,onChange:J=>{A({...v,first_name:J.target.value}),pt("first_name",J.target.value)},onBlur:J=>pt("first_name",J.target.value),className:ve().className("w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors",D.first_name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"),placeholder:"Enter first name"}),D.first_name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),D.first_name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Jt,{className:"w-4 h-4 inline mr-1"}),"Last Name *"]}),e.jsx("input",{type:"text",required:!0,value:v.last_name,onChange:J=>{A({...v,last_name:J.target.value}),pt("last_name",J.target.value)},onBlur:J=>pt("last_name",J.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${D.last_name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter last name"}),D.last_name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),D.last_name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Jt,{className:"w-4 h-4 inline mr-1"}),"Middle Name"]}),e.jsx("input",{type:"text",value:v.middle_name,onChange:J=>A({...v,middle_name:J.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${D.middle_name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter middle name (optional)"}),D.middle_name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),D.middle_name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Ws,{className:"w-4 h-4 inline mr-1"}),"Mobile Number"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"tel",value:v.mobile,onChange:J=>{A({...v,mobile:J.target.value}),pt("mobile",J.target.value)},onBlur:J=>pt("mobile",J.target.value),className:`w-full px-4 py-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${D.mobile?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"+63 912 345 6789"}),e.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),D.mobile&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),D.mobile]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(kn,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Account Security"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(kn,{className:"w-4 h-4 inline mr-1"}),"Password *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:B?"text":"password",required:!0,value:v.password,onChange:J=>{A({...v,password:J.target.value}),pt("password",J.target.value)},onBlur:J=>pt("password",J.target.value),className:`w-full px-4 py-3 pl-10 pr-24 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${D.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Enter secure password"}),e.jsx(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex gap-1",children:[e.jsx("button",{type:"button",onClick:()=>H(!B),className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:B?e.jsx(Fs,{size:16}):e.jsx(Ft,{size:16})}),e.jsx("button",{type:"button",onClick:at,className:"px-2 py-1 text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 rounded transition-colors",children:"Generate"})]})]}),D.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),D.password]}),v.password&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${Se(v.password).color}`,style:{width:`${Se(v.password).strength/5*100}%`}})}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:Se(v.password).label})]}),e.jsx("div",{className:"grid grid-cols-1 gap-1",children:Se(v.password).requirements.map((J,ce)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[J.met?e.jsx(Le,{className:"w-3 h-3 text-green-500"}):e.jsx(bt,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{className:J.met?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400",children:J.text})]},ce))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(kn,{className:"w-4 h-4 inline mr-1"}),"Confirm Password *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:I?"text":"password",required:!0,value:v.password_confirmation,onChange:J=>{A({...v,password_confirmation:J.target.value}),pt("password_confirmation",J.target.value)},onBlur:J=>pt("password_confirmation",J.target.value),className:`w-full px-4 py-3 pl-10 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${D.password_confirmation?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"Confirm your password"}),e.jsx(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("button",{type:"button",onClick:()=>L(!I),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:I?e.jsx(Fs,{size:16}):e.jsx(Ft,{size:16})})]}),D.password_confirmation&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),D.password_confirmation]})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.role==="staff"&&e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(cf,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("h5",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Staff Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(cf,{className:"w-4 h-4 inline mr-1"}),"System Role *"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:v.system_role,onChange:J=>A({...v,system_role:J.target.value}),className:`w-full px-4 py-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors appearance-none ${D.system_role?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,children:[e.jsx("option",{value:"",children:"Select system role"}),e.jsx("option",{value:"interviewer",children:"Interviewer"}),e.jsx("option",{value:"reviewer",children:"Reviewer"}),e.jsx("option",{value:"administrator",children:"Administrator"}),e.jsx("option",{value:"coordinator",children:"Coordinator"})]}),e.jsx(cf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),D.system_role&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),D.system_role]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(ph,{className:"w-4 h-4 inline mr-1"}),"Department *"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:v.department,onChange:J=>A({...v,department:J.target.value}),className:`w-full px-4 py-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${D.department?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Department"}),e.jsx("option",{value:"Information Technology",children:"Information Technology"}),e.jsx("option",{value:"Human Resources",children:"Human Resources"}),e.jsx("option",{value:"Finance",children:"Finance"}),e.jsx("option",{value:"Education Affairs",children:"Education Affairs"}),e.jsx("option",{value:"Student Services",children:"Student Services"}),e.jsx("option",{value:"Administration",children:"Administration"}),e.jsx("option",{value:"Budget Department",children:"Budget Department"}),e.jsx("option",{value:"City Council",children:"City Council"}),e.jsx("option",{value:"Scholarship Program",children:"Scholarship Program"}),e.jsx("option",{value:"Assessment & Evaluation",children:"Assessment & Evaluation"}),e.jsx("option",{value:"Community Relations",children:"Community Relations"}),e.jsx("option",{value:"Legal Affairs",children:"Legal Affairs"}),e.jsx("option",{value:"Planning & Development",children:"Planning & Development"})]}),e.jsx(ph,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),D.department&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),D.department]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Jt,{className:"w-4 h-4 inline mr-1"}),"Position *"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:v.position,onChange:J=>A({...v,position:J.target.value}),className:`w-full px-4 py-3 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-colors ${D.position?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0,children:[e.jsx("option",{value:"",children:"Select Position"}),e.jsx("option",{value:"Interviewer",children:"Interviewer"}),e.jsx("option",{value:"Assessment Officer",children:"Assessment Officer"}),e.jsx("option",{value:"Evaluation Specialist",children:"Evaluation Specialist"}),e.jsx("option",{value:"Reviewer",children:"Reviewer"}),e.jsx("option",{value:"Assessment Coordinator",children:"Assessment Coordinator"}),e.jsx("option",{value:"Evaluation Manager",children:"Evaluation Manager"}),e.jsx("option",{value:"Administrator",children:"Administrator"}),e.jsx("option",{value:"System Administrator",children:"System Administrator"}),e.jsx("option",{value:"IT Administrator",children:"IT Administrator"}),e.jsx("option",{value:"Coordinator",children:"Coordinator"}),e.jsx("option",{value:"Program Coordinator",children:"Program Coordinator"}),e.jsx("option",{value:"Scholarship Coordinator",children:"Scholarship Coordinator"}),e.jsx("option",{value:"Department Head",children:"Department Head"}),e.jsx("option",{value:"Manager",children:"Manager"}),e.jsx("option",{value:"Supervisor",children:"Supervisor"}),e.jsx("option",{value:"Officer",children:"Officer"}),e.jsx("option",{value:"Specialist",children:"Specialist"}),e.jsx("option",{value:"Analyst",children:"Analyst"}),e.jsx("option",{value:"Assistant",children:"Assistant"}),e.jsx("option",{value:"Clerk",children:"Clerk"})]}),e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),D.position&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),D.position]})]})]})]})}),v.role==="ps_rep"&&e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ls,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"}),e.jsx("h5",{className:"font-semibold text-orange-900 dark:text-orange-100",children:"School Assignment"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search School *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search schools by name, campus, or location...",value:Z,onChange:J=>G(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 dark:bg-gray-700 dark:text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select School *"}),e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-300 dark:border-gray-600 rounded-lg",children:de.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:M.length===0?"Loading schools...":"No schools found"}):de.map(J=>e.jsx("div",{onClick:()=>A({...v,assigned_school_id:J.id}),className:`p-3 border-b border-gray-200 dark:border-gray-600 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${v.assigned_school_id===J.id?"bg-orange-50 dark:bg-orange-900/20 border-l-4 border-l-orange-500":""}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:J.name}),J.campus&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:J.campus}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[J.city,J.region].filter(Boolean).join(", ")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${J.is_partner_school?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}`,children:J.is_partner_school?"Partner":"Regular"}),v.assigned_school_id===J.id&&e.jsx(Le,{className:"w-4 h-4 text-orange-500"})]})]})},J.id))}),D.assigned_school_id&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:D.assigned_school_id})]}),v.assigned_school_id&&e.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"w-4 h-4 text-green-500 mr-2"}),e.jsxs("span",{className:"text-sm text-green-700 dark:text-green-400",children:["School selected: ",M.find(J=>J.id===v.assigned_school_id)?.name]})]})})]})]})})]})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 px-6 py-4 rounded-b-xl",children:e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>{b(!1),te()},className:"px-6 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 dark:bg-gray-600 dark:text-gray-300 dark:hover:bg-gray-500 rounded-lg transition-colors font-medium flex items-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4"}),"Cancel"]}),e.jsxs("button",{type:"submit",onClick:ne,disabled:F||!et,className:`px-6 py-3 rounded-lg transition-colors font-medium flex items-center gap-2 shadow-lg hover:shadow-xl ${F||!et?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:[F&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),!F&&e.jsx(fc,{className:"w-4 h-4"}),F?"Creating User...":"Create User"]})]})})]})}),y&&N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Edit User"}),e.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),e.jsx("input",{type:"email",required:!0,value:v.email,onChange:J=>A({...v,email:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role *"}),e.jsxs("select",{required:!0,value:v.role,onChange:J=>A({...v,role:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"citizen",children:"Citizen"}),e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"admin",children:"Administrator"}),e.jsx("option",{value:"ps_rep",children:"Partner School Rep"}),e.jsx("option",{value:"ssc_city_council",children:"SSC - City Council"}),e.jsx("option",{value:"ssc_budget_dept",children:"SSC - Budget Department"}),e.jsx("option",{value:"ssc_education_affairs",children:"SSC - Education Affairs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"First Name *"}),e.jsx("input",{type:"text",required:!0,value:v.first_name,onChange:J=>A({...v,first_name:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Last Name *"}),e.jsx("input",{type:"text",required:!0,value:v.last_name,onChange:J=>A({...v,last_name:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Middle Name"}),e.jsx("input",{type:"text",value:v.middle_name,onChange:J=>A({...v,middle_name:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mobile"}),e.jsx("input",{type:"text",value:v.mobile,onChange:J=>A({...v,mobile:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),(v.role==="staff"||N.role==="staff")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"System Role"}),e.jsxs("select",{value:v.system_role,onChange:J=>A({...v,system_role:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"interviewer",children:"Interviewer"}),e.jsx("option",{value:"reviewer",children:"Reviewer"}),e.jsx("option",{value:"administrator",children:"Administrator"}),e.jsx("option",{value:"coordinator",children:"Coordinator"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Department *"}),e.jsxs("select",{value:v.department,onChange:J=>A({...v,department:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Select Department"}),e.jsx("option",{value:"Information Technology",children:"Information Technology"}),e.jsx("option",{value:"Human Resources",children:"Human Resources"}),e.jsx("option",{value:"Finance",children:"Finance"}),e.jsx("option",{value:"Education Affairs",children:"Education Affairs"}),e.jsx("option",{value:"Student Services",children:"Student Services"}),e.jsx("option",{value:"Administration",children:"Administration"}),e.jsx("option",{value:"Budget Department",children:"Budget Department"}),e.jsx("option",{value:"City Council",children:"City Council"}),e.jsx("option",{value:"Scholarship Program",children:"Scholarship Program"}),e.jsx("option",{value:"Assessment & Evaluation",children:"Assessment & Evaluation"}),e.jsx("option",{value:"Community Relations",children:"Community Relations"}),e.jsx("option",{value:"Legal Affairs",children:"Legal Affairs"}),e.jsx("option",{value:"Planning & Development",children:"Planning & Development"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Position *"}),e.jsxs("select",{value:v.position,onChange:J=>A({...v,position:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Select Position"}),e.jsx("option",{value:"Interviewer",children:"Interviewer"}),e.jsx("option",{value:"Assessment Officer",children:"Assessment Officer"}),e.jsx("option",{value:"Evaluation Specialist",children:"Evaluation Specialist"}),e.jsx("option",{value:"Reviewer",children:"Reviewer"}),e.jsx("option",{value:"Assessment Coordinator",children:"Assessment Coordinator"}),e.jsx("option",{value:"Evaluation Manager",children:"Evaluation Manager"}),e.jsx("option",{value:"Administrator",children:"Administrator"}),e.jsx("option",{value:"System Administrator",children:"System Administrator"}),e.jsx("option",{value:"IT Administrator",children:"IT Administrator"}),e.jsx("option",{value:"Coordinator",children:"Coordinator"}),e.jsx("option",{value:"Program Coordinator",children:"Program Coordinator"}),e.jsx("option",{value:"Scholarship Coordinator",children:"Scholarship Coordinator"}),e.jsx("option",{value:"Department Head",children:"Department Head"}),e.jsx("option",{value:"Manager",children:"Manager"}),e.jsx("option",{value:"Supervisor",children:"Supervisor"}),e.jsx("option",{value:"Officer",children:"Officer"}),e.jsx("option",{value:"Specialist",children:"Specialist"}),e.jsx("option",{value:"Analyst",children:"Analyst"}),e.jsx("option",{value:"Assistant",children:"Assistant"}),e.jsx("option",{value:"Clerk",children:"Clerk"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>{w(!1),_(null),te()},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Update User"})]})]})]})})}),e.jsx(lue,{isOpen:z,onClose:ee,user:ie,onActivate:he,onDeactivate:W,onPermanentDelete:ye,isLoading:re})]})},Y0=Ca("/api"),cue=()=>{const[t,r]=f.useState([]),[s,a]=f.useState(!0),[n,i]=f.useState(""),[l,c]=f.useState({action:"",user_role:"",resource_type:"",status:"",date_from:"",date_to:""}),[u,h]=f.useState({actions:[],user_roles:[],resource_types:[],statuses:[]}),[m,x]=f.useState({current_page:1,last_page:1,per_page:25,total:0}),[g,b]=f.useState(null),[y,w]=f.useState(!1),[N,_]=f.useState(null);f.useEffect(()=>{k(!0),v(),A()},[]),f.useEffect(()=>{k(!1)},[l,n,m.current_page]);const S=()=>{const L=localStorage.getItem("auth_token");return{Accept:"application/json",...L?{Authorization:`Bearer ${L}`}:{}}},k=async(L=!1)=>{try{a(!0);const M=new URLSearchParams;n&&M.append("search",n),l.action&&M.append("action",l.action),l.user_role&&M.append("user_role",l.user_role),l.resource_type&&M.append("resource_type",l.resource_type),l.status&&M.append("status",l.status),l.date_from&&M.append("date_from",l.date_from),l.date_to&&M.append("date_to",l.date_to);const q=L?1:m.current_page||1;M.append("page",String(q)),M.append("per_page",String(m.per_page||25));const G=await(await fetch(`${Y0}/audit-logs?${M.toString()}`,{headers:S()})).json();G&&G.success?(r(Array.isArray(G.data)?G.data:[]),G.pagination?x(de=>({...de,...G.pagination})):x(de=>({...de,current_page:q,last_page:1,total:Array.isArray(G.data)?G.data.length:0,from:1,to:Array.isArray(G.data)?G.data.length:0}))):(console.error("Failed to fetch audit logs:",G),r([]))}catch(M){console.error("Error fetching audit logs:",M),r([])}finally{a(!1)}},v=async()=>{try{const M=await(await fetch(`${Y0}/audit-logs/filter-options`,{headers:S()})).json();M&&M.success&&M.data&&h({actions:M.data.actions||[],user_roles:M.data.user_roles||[],resource_types:M.data.resource_types||[],statuses:M.data.statuses||[]})}catch(L){console.error("Error fetching audit log filter options:",L)}},A=async()=>{try{const M=await(await fetch(`${Y0}/audit-logs/statistics`,{headers:S()})).json();M&&M.success&&M.data&&_(M.data)}catch(L){console.error("Error fetching audit log statistics:",L)}},E=(L,M)=>{c(q=>({...q,[L]:M})),x(q=>({...q,current_page:1}))},T=()=>{c({action:"",user_role:"",resource_type:"",status:"",date_from:"",date_to:""}),i(""),x(L=>({...L,current_page:1}))},F=L=>{x(M=>({...M,current_page:L}))},R=L=>{b(L),w(!0)},D=async()=>{try{const L=new URLSearchParams;n&&L.append("search",n),l.action&&L.append("action",l.action),l.user_role&&L.append("user_role",l.user_role),l.resource_type&&L.append("resource_type",l.resource_type),l.status&&L.append("status",l.status),l.date_from&&L.append("date_from",l.date_from),l.date_to&&L.append("date_to",l.date_to);const q=await(await fetch(`${Y0}/audit-logs/export?${L.toString()}`,{headers:S()})).json();if(!q||!q.success){console.error("Failed to export audit logs:",q);return}const Z=Array.isArray(q.data)?q.data:[],G=new Blob([JSON.stringify(Z,null,2)],{type:"application/json"}),de=window.URL.createObjectURL(G),X=document.createElement("a");X.href=de,X.download=`audit-logs-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(X),X.click(),window.URL.revokeObjectURL(de),document.body.removeChild(X)}catch(L){console.error("Error exporting audit logs:",L)}},$=L=>({CREATE:"bg-green-100 text-green-800",UPDATE:"bg-blue-100 text-blue-800",DELETE:"bg-red-100 text-red-800",LOGIN:"bg-purple-100 text-purple-800",LOGOUT:"bg-gray-100 text-gray-800",VIEW:"bg-yellow-100 text-yellow-800",EXPORT:"bg-indigo-100 text-indigo-800",IMPORT:"bg-pink-100 text-pink-800",SYSTEM:"bg-orange-100 text-orange-800"})[L]||"bg-gray-100 text-gray-800",B=L=>{switch(L){case"success":return e.jsx(Le,{className:"w-4 h-4 text-green-500"});case"failed":return e.jsx(jt,{className:"w-4 h-4 text-red-500"});case"error":return e.jsx(bt,{className:"w-4 h-4 text-red-500"});default:return e.jsx(Nt,{className:"w-4 h-4 text-gray-500"})}},H=L=>new Date(L).toLocaleString(),I=L=>{if(!L||typeof L!="object")return null;const M=Object.entries(L).filter(([q,Z])=>Z!=null&&Z!=="");return M.length===0?null:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2",children:M.map(([q,Z])=>{const G=q.replace(/_/g," ").replace(/\b\w/g,X=>X.toUpperCase());let de;return typeof Z=="boolean"?de=Z?"Yes":"No":Z&&typeof Z=="object"?Array.isArray(Z)?de=`Array (${Z.length})`:de="Details available in JSON view":de=String(Z),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:G}),e.jsx("div",{className:"text-sm text-gray-900 dark:text-white break-words",children:de})]},q)})})};return s&&t.length===0?e.jsx(bg,{}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:justify-between sm:items-center sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Audit Logs"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 mt-1",children:"Track system activities and user actions"})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:gap-2 sm:space-y-0",children:[e.jsxs("button",{onClick:k,className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm sm:text-base",children:[e.jsx(Ot,{size:18,className:"sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"}),e.jsx("span",{className:"sm:hidden",children:"Refresh"})]}),e.jsxs("button",{onClick:D,className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm sm:text-base",children:[e.jsx(sr,{size:18,className:"sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Export"}),e.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]}),N&&e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:"Total Logs"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-white mt-1",children:N.total_logs?.toLocaleString()||0})]}),e.jsx(ut,{className:"text-blue-500",size:24})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:"Success Rate"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:N.by_status?.success||0})]}),e.jsx(Le,{className:"text-green-500",size:24})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:"Failed Actions"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:(N.by_status?.failed||0)+(N.by_status?.error||0)})]}),e.jsx(jt,{className:"text-red-500",size:24})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 sm:p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm",children:"Active Users"}),e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-purple-600 dark:text-purple-400 mt-1",children:Object.keys(N.by_user_role||{}).length})]}),e.jsx(Jt,{className:"text-purple-500",size:24})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 sm:p-4 rounded-lg shadow",children:[e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:gap-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search logs...",value:n,onChange:L=>i(L.target.value),className:"w-full pl-9 sm:pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-sm sm:text-base"})]}),e.jsxs("select",{value:l.action,onChange:L=>E("action",L.target.value),className:"w-full sm:w-auto px-3 sm:px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-sm sm:text-base",children:[e.jsx("option",{value:"",children:"All Actions"}),u.actions?.map(L=>e.jsx("option",{value:L,children:L},L))]}),e.jsxs("select",{value:l.user_role,onChange:L=>E("user_role",L.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"All Roles"}),u.user_roles?.map(L=>e.jsx("option",{value:L,children:L},L))]}),e.jsxs("select",{value:l.status,onChange:L=>E("status",L.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"All Status"}),u.statuses?.map(L=>e.jsx("option",{value:L,children:L},L))]}),e.jsx("button",{onClick:T,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Clear"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date From"}),e.jsx("input",{type:"date",value:l.date_from,onChange:L=>E("date_from",L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date To"}),e.jsx("input",{type:"date",value:l.date_to,onChange:L=>E("date_to",L.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Resource"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.map(L=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${$(L.action)}`,children:L.action})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Jt,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L.user_email||"System"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:L.user_role||"N/A"})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white max-w-xs truncate",children:L.description})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:L.resource_type&&L.resource_id?`${L.resource_type} #${L.resource_id}`:L.resource_type||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[B(L.status),e.jsx("span",{className:"ml-2 text-sm text-gray-900 dark:text-white capitalize",children:L.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:H(L.created_at)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx("button",{onClick:()=>R(L),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:e.jsx(Ft,{size:16})})})]},L.id))})]})}),m.last_page>1&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>F(m.current_page-1),disabled:m.current_page===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>F(m.current_page+1),disabled:m.current_page===m.last_page,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",e.jsx("span",{className:"font-medium",children:m.from||0})," to"," ",e.jsx("span",{className:"font-medium",children:m.to||0})," of"," ",e.jsx("span",{className:"font-medium",children:m.total})," results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:m.last_page},(L,M)=>M+1).map(L=>e.jsx("button",{onClick:()=>F(L),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${L===m.current_page?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${L===1?"rounded-l-md":""} ${L===m.last_page?"rounded-r-md":""}`,children:L},L))})})]})]})]}),y&&g&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Audit Log Details"}),e.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(jt,{size:24})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Action"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:g.action})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white capitalize",children:g.status})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:g.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"User"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:g.user_email||"System"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Role"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:g.user_role||"N/A"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resource"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:g.resource_type&&g.resource_id?`${g.resource_type} #${g.resource_id}`:g.resource_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 dark:text-white",children:H(g.created_at)})]})]}),g.new_values&&typeof g.new_values=="object"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"New Values"}),I(g.new_values),e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-blue-600 dark:text-blue-400 cursor-pointer",children:"View raw JSON"}),e.jsx("pre",{className:"mt-1 text-xs text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700 p-2 rounded overflow-auto",children:JSON.stringify(g.new_values,null,2)})]})]}),g.old_values&&typeof g.old_values=="object"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Old Values"}),I(g.old_values),e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-blue-600 dark:text-blue-400 cursor-pointer",children:"View raw JSON"}),e.jsx("pre",{className:"mt-1 text-xs text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700 p-2 rounded overflow-auto",children:JSON.stringify(g.old_values,null,2)})]})]}),g.metadata&&typeof g.metadata=="object"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Metadata"}),I(g.metadata),e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-blue-600 dark:text-blue-400 cursor-pointer",children:"View raw JSON"}),e.jsx("pre",{className:"mt-1 text-xs text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700 p-2 rounded overflow-auto",children:JSON.stringify(g.metadata,null,2)})]})]}),g.error_message&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Error Message"}),e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:g.error_message})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})})]})})})]})},due=({onExportData:t,onGenerateReport:r,loading:s,onRefresh:a,lastUpdated:n})=>e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 sm:p-6 shadow-sm border border-slate-200 dark:border-slate-700 mb-6",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800 dark:text-white truncate",children:"Education Monitoring"}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs font-medium",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Live"})]})]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1 line-clamp-1",children:n?`Last updated: ${n.toLocaleTimeString()}`:"Real-time analytics dashboard for student academic progress"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap sm:flex-nowrap",children:[a&&e.jsxs("button",{onClick:a,disabled:s,className:"inline-flex items-center justify-center gap-2 px-3 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm disabled:opacity-50",title:"Refresh",children:[e.jsx(Ot,{className:`w-4 h-4 ${s?"animate-spin":""}`}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),e.jsxs("button",{onClick:()=>t("csv"),className:"inline-flex items-center justify-center gap-2 px-3 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors text-sm",title:"Export CSV",children:[e.jsx(sr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),e.jsxs("button",{onClick:()=>r("Academic Performance"),disabled:s,className:"inline-flex items-center justify-center gap-2 px-3 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors text-sm disabled:opacity-50 font-medium",title:"Generate Report",children:[e.jsx(zu,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:s?"Generating...":"Generate"})]})]})]})}),uue=({academicStats:t,chartData:r={}})=>{const s=()=>{const i=r.enhancedKPIs||{};return[{title:"Total Students",value:t.totalStudents.toString(),change:"+12.5%",changeType:"positive",icon:Ht,color:"blue",gradient:"from-blue-500 to-blue-600"},{title:"Active Students",value:t.activeStudents.toString(),change:"+8.3%",changeType:"positive",icon:ln,color:"green",gradient:"from-green-500 to-green-600"},{title:"Average GPA",value:t.averageGPA.toString(),change:"+0.2",changeType:"positive",icon:xr,color:"purple",gradient:"from-purple-500 to-purple-600"},{title:"Completion Rate",value:`${i.completionRate||0}%`,change:"+5.2%",changeType:"positive",icon:xw,color:"emerald",gradient:"from-emerald-500 to-emerald-600"},{title:"Retention Rate",value:`${i.retentionRate||0}%`,change:"+2.1%",changeType:"positive",icon:Vr,color:"orange",gradient:"from-orange-500 to-orange-600"},{title:"With Grades",value:(i.studentsWithGrades||0).toString(),change:"+18.7%",changeType:"positive",icon:Rs,color:"indigo",gradient:"from-indigo-500 to-indigo-600"}]},a=i=>{const l="w-3 h-3";switch(i){case"positive":return e.jsx(F3,{className:`${l} text-green-500`});case"negative":return e.jsx($3,{className:`${l} text-red-500`});default:return e.jsx(hw,{className:`${l} text-slate-500`})}},n=i=>{switch(i){case"positive":return"text-green-600 dark:text-green-400";case"negative":return"text-red-600 dark:text-red-400";default:return"text-slate-600 dark:text-slate-400"}};return e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4 mb-6",children:s().map((i,l)=>{const c=i.icon;return e.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-xl p-4 shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden transition-all hover:shadow-md",children:[e.jsx("div",{className:`absolute -right-3 -top-3 w-16 h-16 rounded-full bg-gradient-to-br ${i.gradient} opacity-10`}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`inline-flex p-2 rounded-lg bg-gradient-to-br ${i.gradient} text-white shadow-sm mb-3`,children:e.jsx(c,{className:"w-4 h-4"})}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-slate-800 dark:text-white",children:i.value}),e.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mt-1 truncate",children:i.title}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[a(i.changeType),e.jsx("span",{className:`text-xs font-medium ${n(i.changeType)}`,children:i.change})]})]})]},l)})})},f3=["#3b82f6","#10b981","#8b5cf6","#f59e0b","#ef4444","#06b6d4"],Xd=({active:t,payload:r,label:s})=>t&&r&&r.length?e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700",children:[e.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-white",children:s}),r.map((a,n)=>e.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[a.name,": ",e.jsx("span",{className:"font-medium",children:a.value})]},n))]}):null,Zd=({title:t,children:r,className:s=""})=>e.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-xl p-4 sm:p-5 shadow-sm border border-slate-200 dark:border-slate-700 ${s}`,children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-slate-800 dark:text-white mb-4",children:t}),r]}),jI=({chartData:t={}})=>{const s=t||{monthlyEnrollment:[],programDistribution:[],gpaDistribution:[],yearLevelDistribution:[]};return Object.values(s).some(n=>Array.isArray(n)&&n.length>0)?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6",children:[e.jsx(Zd,{title:"Enrollment Trends",className:"lg:col-span-2",children:e.jsx("div",{className:"h-48 sm:h-64",children:e.jsx(gl,{width:"100%",height:"100%",children:e.jsxs(Nce,{data:s.monthlyEnrollment||[],margin:{top:5,right:10,left:0,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"enrollmentGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),e.jsx(gu,{strokeDasharray:"3 3",stroke:"#e2e8f0",className:"dark:stroke-slate-700"}),e.jsx(po,{dataKey:"month",tick:{fontSize:11,fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickLine:!1}),e.jsx(wc,{tick:{fontSize:11,fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickLine:!1,width:40}),e.jsx(xl,{content:e.jsx(Xd,{})}),e.jsx(YO,{type:"monotone",dataKey:"students",stroke:"#3b82f6",strokeWidth:2,fill:"url(#enrollmentGradient)",name:"Students"})]})})})}),e.jsx(Zd,{title:"Program Distribution",children:e.jsx("div",{className:"h-48 sm:h-56",children:e.jsx(gl,{width:"100%",height:"100%",children:e.jsxs(ew,{children:[e.jsx(hx,{data:s.programDistribution||[],cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:2,dataKey:"value",children:(s.programDistribution||[]).map((n,i)=>e.jsx(jo,{fill:f3[i%f3.length]},`cell-${i}`))}),e.jsx(xl,{content:e.jsx(Xd,{})}),e.jsx(Pc,{verticalAlign:"bottom",height:36,formatter:n=>e.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:n})})]})})})}),e.jsx(Zd,{title:"GPA Distribution",children:e.jsx("div",{className:"h-48 sm:h-56",children:e.jsx(gl,{width:"100%",height:"100%",children:e.jsxs(bx,{data:s.gpaDistribution||[],margin:{top:5,right:10,left:0,bottom:5},children:[e.jsx(gu,{strokeDasharray:"3 3",stroke:"#e2e8f0",className:"dark:stroke-slate-700",vertical:!1}),e.jsx(po,{dataKey:"name",tick:{fontSize:10,fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickLine:!1,interval:0,angle:-20,textAnchor:"end",height:50}),e.jsx(wc,{tick:{fontSize:11,fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickLine:!1,width:30}),e.jsx(xl,{content:e.jsx(Xd,{})}),e.jsx(Mc,{dataKey:"value",fill:"#10b981",radius:[4,4,0,0],name:"Students"})]})})})}),e.jsx(Zd,{title:"Year Level Distribution",children:e.jsx("div",{className:"h-48 sm:h-56",children:e.jsx(gl,{width:"100%",height:"100%",children:e.jsxs(bx,{data:s.yearLevelDistribution||[],layout:"vertical",margin:{top:5,right:10,left:0,bottom:5},children:[e.jsx(gu,{strokeDasharray:"3 3",stroke:"#e2e8f0",className:"dark:stroke-slate-700",horizontal:!1}),e.jsx(po,{type:"number",tick:{fontSize:11,fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickLine:!1}),e.jsx(wc,{type:"category",dataKey:"name",tick:{fontSize:10,fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickLine:!1,width:60}),e.jsx(xl,{content:e.jsx(Xd,{})}),e.jsx(Mc,{dataKey:"value",fill:"#8b5cf6",radius:[0,4,4,0],name:"Students"})]})})})}),s.genderDistribution&&s.genderDistribution.length>0&&e.jsx(Zd,{title:"Gender Distribution",children:e.jsx("div",{className:"h-48 sm:h-56",children:e.jsx(gl,{width:"100%",height:"100%",children:e.jsxs(ew,{children:[e.jsx(hx,{data:s.genderDistribution,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:2,dataKey:"value",children:s.genderDistribution.map((n,i)=>e.jsx(jo,{fill:i===0?"#3b82f6":i===1?"#ec4899":"#94a3b8"},`cell-${i}`))}),e.jsx(xl,{content:e.jsx(Xd,{})}),e.jsx(Pc,{verticalAlign:"bottom",height:36,formatter:n=>e.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:n})})]})})})})]}):e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-8 shadow-sm border border-slate-200 dark:border-slate-700 mb-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-flex p-4 rounded-full bg-slate-100 dark:bg-slate-700 mb-4",children:e.jsx(da,{className:"w-8 h-8 text-slate-400 dark:text-slate-500"})}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"No Analytics Data Available"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 max-w-md mx-auto",children:"Analytics charts will appear here once student data is available. Try refreshing or adding student records."})]})})},mue=({selectedCategory:t,onCategoryChange:r,allReports:s})=>{const a=[{id:"all",label:"All Reports",count:s.length,icon:zu,color:"slate"},{id:"academic",label:"Academic",count:s.filter(n=>n.categoryId==="academic").length,icon:Rs,color:"blue"},{id:"enrollment",label:"Enrollment",count:s.filter(n=>n.categoryId==="enrollment").length,icon:Ht,color:"green"},{id:"progress",label:"Progress",count:s.filter(n=>n.categoryId==="progress").length,icon:Vr,color:"purple"},{id:"achievements",label:"Achievements",count:s.filter(n=>n.categoryId==="achievements").length,icon:xr,color:"amber"}];return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-700",children:e.jsx("h3",{className:"text-sm font-semibold text-slate-800 dark:text-white",children:"Categories"})}),e.jsx("div",{className:"p-2",children:a.map(n=>{const i=n.icon,l=t===n.id;return e.jsxs("button",{onClick:()=>r(n.id),className:`w-full flex items-center justify-between p-2.5 rounded-lg transition-all duration-150 ${l?"bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400 shadow-sm":"hover:bg-slate-50 dark:hover:bg-slate-700/50 text-slate-600 dark:text-slate-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[e.jsx("div",{className:`p-1.5 rounded-md ${l?"bg-orange-100 dark:bg-orange-900/30":"bg-slate-100 dark:bg-slate-700"}`,children:e.jsx(i,{className:"w-3.5 h-3.5"})}),e.jsx("span",{className:"text-sm font-medium truncate",children:n.label})]}),e.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[e.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${l?"bg-orange-200 dark:bg-orange-900/50 text-orange-700 dark:text-orange-400":"bg-slate-200 dark:bg-slate-600 text-slate-600 dark:text-slate-400"}`,children:n.count}),l&&e.jsx(Uu,{className:"w-3.5 h-3.5 text-orange-400"})]})]},n.id)})})]})},hue=({filteredReports:t,selectedCategory:r,reportCategories:s=[],selectedPeriod:a,onPeriodChange:n,onGenerateReport:i,onDownloadReport:l})=>{const c=m=>{switch(m){case"completed":return{bg:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",icon:Le};case"processing":return{bg:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",icon:Nt};case"failed":return{bg:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",icon:Wt};default:return{bg:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-400",icon:Nt}}},u=m=>{switch(m){case"PDF":return e.jsx(ut,{className:"w-4 h-4 text-red-500"});case"Excel":return e.jsx(da,{className:"w-4 h-4 text-green-600"});default:return e.jsx(ut,{className:"w-4 h-4 text-slate-500"})}},h=()=>{if(r==="all")return"Available Reports";const m=s.find(x=>x.id===r);return m?`${m.label} Reports`:"Reports"};return e.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-700 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800 dark:text-white truncate",children:h()}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:[t.length," report",t.length!==1?"s":""," available"]})]}),e.jsxs("select",{value:a,onChange:m=>n(m.target.value),className:"px-2.5 py-1.5 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-xs font-medium text-slate-700 dark:text-slate-300 focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"weekly",children:"This Week"}),e.jsx("option",{value:"monthly",children:"This Month"}),e.jsx("option",{value:"quarterly",children:"This Quarter"})]})]}),e.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700 max-h-[400px] overflow-y-auto",children:t.length===0?e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"inline-flex p-3 rounded-full bg-slate-100 dark:bg-slate-700 mb-3",children:e.jsx(zu,{className:"w-6 h-6 text-slate-400 dark:text-slate-500"})}),e.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"No reports found"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Try selecting a different category"})]}):t.map(m=>{const x=c(m.status),g=x.icon;return e.jsx("div",{className:"p-3 sm:p-4 hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors group",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:u(m.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-800 dark:text-white truncate",children:m.title}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5 line-clamp-1",children:m.description})]}),e.jsxs("div",{className:`flex-shrink-0 inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${x.bg}`,children:[e.jsx(g,{className:"w-3 h-3"}),e.jsx("span",{className:"hidden sm:inline capitalize",children:m.status})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 mt-2 text-xs text-slate-500 dark:text-slate-400",children:[e.jsx("span",{children:m.category}),e.jsx("span",{className:"hidden sm:inline",children:""}),e.jsx("span",{children:new Date(m.date).toLocaleDateString()}),e.jsx("span",{className:"hidden sm:inline",children:""}),e.jsx("span",{children:m.size})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxs("button",{onClick:()=>i(m.title),className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-slate-600 dark:text-slate-400 hover:text-orange-600 dark:hover:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded transition-colors",children:[e.jsx(Ft,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Preview"})]}),e.jsxs("button",{onClick:()=>l(m.title),className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",children:[e.jsx(sr,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Download"})]})]})]})]})},m.id)})})]})},xue="http://localhost:8003/api",gue=()=>localStorage.getItem("auth_token"),rd=async(t,r={})=>{const s=gue(),a=await fetch(`${xue}${t}`,{...r,headers:{"Content-Type":"application/json",Accept:"application/json",...s?{Authorization:`Bearer ${s}`}:{},...r.headers}}),n=await a.json();if(!a.ok)throw new Error(n.message||"API request failed");return n},pue=async()=>(await rd("/analytics/dashboard")).data,fue=async t=>{const r=new URLSearchParams;t?.status&&r.append("status",t.status),t?.severity&&r.append("severity",t.severity),t?.limit&&r.append("limit",t.limit.toString());const s=r.toString();return(await rd(`/analytics/alerts${s?`?${s}`:""}`)).data},yue=async t=>{await rd(`/analytics/alerts/${t}/acknowledge`,{method:"POST"})},bue=async()=>(await rd("/analytics/filter-options")).data,NI=async(t,r=!1)=>{const s=new URLSearchParams;t?.date_from&&s.append("date_from",t.date_from),t?.date_to&&s.append("date_to",t.date_to),t?.program&&s.append("program",t.program),t?.term&&s.append("term",t.term),r&&s.append("refresh","true");const a=s.toString();return await rd(`/analytics/ai/insights${a?`?${a}`:""}`)},vue=async()=>(await rd("/analytics/ai/status")).status,wue=({className:t="",compact:r=!1})=>{const[s,a]=f.useState(null),[n,i]=f.useState(null),[l,c]=f.useState(null),[u,h]=f.useState(!0),[m,x]=f.useState(null),[g,b]=f.useState(!1),[y,w]=f.useState({highlights:!0,summary:!r,recommendations:!0}),[N,_]=f.useState({date_from:"",date_to:"",program:"",term:""});f.useEffect(()=>{S()},[]);const S=async()=>{try{const[D,$]=await Promise.all([vue().catch(()=>null),bue().catch(()=>null)]);i(D),$&&c({programs:$.school_years||[],year_levels:[],terms:[],date_range:$.date_range||{earliest:null,latest:null}}),await k()}catch(D){console.error("Failed to load initial data:",D),x("Failed to connect to monitoring service"),h(!1)}},k=async()=>{h(!0),x(null);try{const D=Object.fromEntries(Object.entries(N).filter(([B,H])=>H!=="")),$=await NI(D);a($)}catch(D){console.error("Failed to load AI insights:",D),x(D instanceof Error?D.message:"Failed to generate insights")}finally{h(!1)}},v=(D,$)=>{_(B=>({...B,[D]:$}))},A=()=>{k(),b(!1)},E=()=>{_({date_from:"",date_to:"",program:"",term:""}),k()},T=D=>{w($=>({...$,[D]:!$[D]}))},F=D=>{switch(D){case"high":return{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",badge:"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-400"};case"medium":return{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800",badge:"bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-400"};default:return{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",badge:"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-400"}}},R=D=>{switch(D){case"high":return e.jsx(Wt,{className:"h-4 w-4"});case"medium":return e.jsx(Nt,{className:"h-4 w-4"});default:return e.jsx(Le,{className:"h-4 w-4"})}};return u&&!s?e.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 ${t}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(Ot,{className:"h-5 w-5 animate-spin text-purple-500"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Generating AI insights..."})]})}):e.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden ${t}`,children:[e.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-700 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg shadow-sm",children:e.jsx(Qd,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white text-sm",children:"AI Monitoring Assistant"}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[n?.provider==="template"?"Template analysis":`${n?.provider||"AI"} powered`,s?.from_cache&&"  Cached"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>b(!g),className:`p-2 rounded-lg transition-colors ${g?"bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-400":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,title:"Filters",children:e.jsx(Fa,{className:"h-4 w-4"})}),e.jsx("button",{onClick:k,disabled:u,className:"p-2 text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",title:"Refresh",children:e.jsx(Ot,{className:`h-4 w-4 ${u?"animate-spin":""}`})})]})]}),g&&e.jsxs("div",{className:"mt-3 p-3 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:"From"}),e.jsx("input",{type:"date",value:N.date_from,onChange:D=>v("date_from",D.target.value),className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-1 focus:ring-purple-500 focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-1",children:"To"}),e.jsx("input",{type:"date",value:N.date_to,onChange:D=>v("date_to",D.target.value),className:"w-full px-2 py-1.5 text-sm border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-1 focus:ring-purple-500 focus:border-purple-500"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[e.jsx("button",{onClick:E,className:"px-3 py-1.5 text-xs text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Clear"}),e.jsx("button",{onClick:A,className:"px-3 py-1.5 text-xs bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors",children:"Apply"})]})]})]}),m&&e.jsx("div",{className:"px-4 py-3 bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-700 dark:text-red-400",children:[e.jsx(Wt,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:m})]})}),s&&e.jsxs("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>T("highlights"),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f9,{className:"h-4 w-4 text-amber-500"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white text-sm",children:"Key Highlights"}),e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400",children:s.insights.highlights.length})]}),y.highlights?e.jsx(pi,{className:"h-4 w-4 text-slate-400"}):e.jsx(Ra,{className:"h-4 w-4 text-slate-400"})]}),y.highlights&&e.jsx("div",{className:"px-4 pb-4 space-y-2",children:s.insights.highlights.map((D,$)=>e.jsxs("div",{className:"flex items-start gap-2 p-2.5 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:D.toLowerCase().includes("increase")||D.toLowerCase().includes("improved")||D.toLowerCase().includes("growth")?e.jsx(Vr,{className:"h-4 w-4 text-green-500"}):D.toLowerCase().includes("decrease")||D.toLowerCase().includes("risk")||D.toLowerCase().includes("decline")?e.jsx(gw,{className:"h-4 w-4 text-red-500"}):e.jsx(Le,{className:"h-4 w-4 text-blue-500"})}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 leading-relaxed",children:D})]},$))})]}),!r&&e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>T("summary"),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gn,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white text-sm",children:"Summary"})]}),y.summary?e.jsx(pi,{className:"h-4 w-4 text-slate-400"}):e.jsx(Ra,{className:"h-4 w-4 text-slate-400"})]}),y.summary&&e.jsx("div",{className:"px-4 pb-4",children:e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:s.insights.summary})})]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>T("recommendations"),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xw,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-white text-sm",children:"Recommendations"}),e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400",children:s.insights.recommendations.length})]}),y.recommendations?e.jsx(pi,{className:"h-4 w-4 text-slate-400"}):e.jsx(Ra,{className:"h-4 w-4 text-slate-400"})]}),y.recommendations&&e.jsx("div",{className:"px-4 pb-4 space-y-2",children:s.insights.recommendations.map((D,$)=>{const B=F(D.priority);return e.jsxs("div",{className:`p-3 rounded-lg border ${B.bg} ${B.border}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[R(D.priority),e.jsx("span",{className:`text-xs font-medium px-1.5 py-0.5 rounded ${B.badge}`,children:D.priority.toUpperCase()}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:D.area.replace(/_/g," ")})]}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:D.action})]},$)})})]})]}),e.jsx("div",{className:"px-4 py-2 border-t border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-400",children:[e.jsx("span",{children:s?new Date(s.generated_at).toLocaleString():"No data"}),s?.latency_ms&&e.jsxs("span",{children:[s.latency_ms.toFixed(0),"ms"]})]})})]})};function jue(){const[t,r]=f.useState("monthly"),[s,a]=f.useState("all"),[n,i]=f.useState(!1),[l,c]=f.useState([]),[u,h]=f.useState({totalStudents:0,activeStudents:0,graduatedStudents:0,averageGPA:0}),{showSuccess:m,showError:x,showInfo:g}=Zt();f.useEffect(()=>{b();const R=setInterval(()=>{b()},300*1e3);return()=>clearInterval(R)},[]);const b=async()=>{i(!0);try{const R=localStorage.getItem("token")||localStorage.getItem("auth_token"),D=await fetch(Ax("/api/analytics/analytics-charts"),{headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json",Accept:"application/json"}});if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const $=await D.json();if($.success)w($.data||{});else throw new Error($.message||"Failed to fetch analytics data")}catch(R){console.error("Error fetching analytics data:",R),x("Failed to load analytics data. Please try again."),w({})}finally{i(!1)}},[y,w]=f.useState({}),N=[{id:1,title:"Student Academic Performance Summary",category:"Academic Performance",categoryId:"academic",date:new Date().toISOString().split("T")[0],status:"completed",downloads:0,size:"1.2 MB",type:"PDF",description:"Overview of student grades and academic progress"},{id:2,title:"Grade Distribution Analysis",category:"Academic Performance",categoryId:"academic",date:new Date(Date.now()-4320*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"0.9 MB",type:"Excel",description:"Statistical analysis of grade distributions across programs"},{id:3,title:"Subject Performance Report",category:"Academic Performance",categoryId:"academic",date:new Date(Date.now()-7200*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"1.1 MB",type:"PDF",description:"Performance metrics by subject and instructor"},{id:4,title:"Enrollment Statistics Report",category:"Enrollment Statistics",categoryId:"enrollment",date:new Date(Date.now()-10080*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"0.8 MB",type:"Excel",description:"Current enrollment numbers and trends"},{id:5,title:"Program Enrollment Analysis",category:"Enrollment Statistics",categoryId:"enrollment",date:new Date(Date.now()-14400*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"0.7 MB",type:"Excel",description:"Detailed breakdown of enrollment by program and year level"},{id:6,title:"Student Progress Tracking",category:"Student Progress",categoryId:"progress",date:new Date(Date.now()-336*60*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"1.5 MB",type:"PDF",description:"Individual student progress and milestones"},{id:7,title:"Attendance and Engagement Report",category:"Student Progress",categoryId:"progress",date:new Date(Date.now()-288*60*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"1.3 MB",type:"PDF",description:"Student attendance patterns and engagement metrics"},{id:8,title:"Student Achievement Summary",category:"Achievements",categoryId:"achievements",date:new Date(Date.now()-480*60*60*1e3).toISOString().split("T")[0],status:"completed",downloads:0,size:"0.6 MB",type:"PDF",description:"Summary of student achievements and recognitions"}],S=s==="all"?N:N.filter(R=>R.categoryId===s),k=async R=>{i(!0);try{await new Promise(D=>setTimeout(D,2e3)),m(`${R} report generated successfully!`)}catch(D){console.error("Error generating report:",D),x("Error generating report. Please try again.")}finally{i(!1)}},v=()=>{try{if(!l||l.length===0){x("No student data available for academic performance report.");return}const R=l.map(I=>({"Student ID":I.id||"N/A",Name:`${I.first_name||""} ${I.last_name||""}`.trim()||"N/A",Program:I.program||"N/A","Year Level":I.year_level||"N/A",Status:I.status||I.student_status||I.enrollment_status||"N/A","Average Grade":I.grades&&I.grades.length>0?(I.grades.reduce((L,M)=>L+parseFloat(M.grade||0),0)/I.grades.length).toFixed(2):"N/A","Total Subjects":I.grades?I.grades.length:0,"Last Updated":new Date().toLocaleDateString()})),D=["STUDENT ACADEMIC PERFORMANCE SUMMARY REPORT",`Generated on: ${new Date().toLocaleDateString()}`,`Total Students: ${u.totalStudents}`,`Active Students: ${u.activeStudents}`,`Average GPA: ${u.averageGPA}`,"","DETAILED STUDENT PERFORMANCE",R.length>0?Object.keys(R[0]).join(","):"No data available",...R.map(I=>Object.values(I).join(","))].join(`
`),$=new Blob([D],{type:"text/csv"}),B=window.URL.createObjectURL($),H=document.createElement("a");H.href=B,H.download=`academic_performance_report_${new Date().toISOString().split("T")[0]}.csv`,H.click(),window.URL.revokeObjectURL(B),m("Academic Performance Report downloaded successfully!")}catch(R){console.error("Error downloading academic report:",R),x("Failed to download academic report. Please try again.")}},A=()=>{try{if(!l||l.length===0){x("No student data available for enrollment statistics report.");return}const R={Summary:[{Metric:"Total Students",Value:u.totalStudents},{Metric:"Active Students",Value:u.activeStudents},{Metric:"Graduated Students",Value:u.graduatedStudents},{Metric:"Average GPA",Value:u.averageGPA}],"Program Distribution":(()=>{const I={};return l.forEach(L=>{const M=L.program||"Unknown";I[M]=(I[M]||0)+1}),Object.entries(I).map(([L,M])=>({Program:L,"Student Count":M,Percentage:`${(M/l.length*100).toFixed(1)}%`}))})(),"Year Level Distribution":(()=>{const I={};return l.forEach(L=>{const M=L.year_level||"Unknown";I[M]=(I[M]||0)+1}),Object.entries(I).map(([L,M])=>({"Year Level":L,"Student Count":M,Percentage:`${(M/l.length*100).toFixed(1)}%`}))})()},D=["ENROLLMENT STATISTICS REPORT",`Generated on: ${new Date().toLocaleDateString()}`,"","SUMMARY STATISTICS",Object.keys(R.Summary[0]).join(","),...R.Summary.map(I=>Object.values(I).join(",")),"","PROGRAM DISTRIBUTION",Object.keys(R["Program Distribution"][0]||{}).join(","),...R["Program Distribution"].map(I=>Object.values(I).join(",")),"","YEAR LEVEL DISTRIBUTION",Object.keys(R["Year Level Distribution"][0]||{}).join(","),...R["Year Level Distribution"].map(I=>Object.values(I).join(","))].join(`
`),$=new Blob([D],{type:"text/csv"}),B=window.URL.createObjectURL($),H=document.createElement("a");H.href=B,H.download=`enrollment_statistics_report_${new Date().toISOString().split("T")[0]}.csv`,H.click(),window.URL.revokeObjectURL(B),m("Enrollment Statistics Report downloaded successfully!")}catch(R){console.error("Error downloading enrollment report:",R),x("Failed to download enrollment report. Please try again.")}},E=()=>{try{if(!l||l.length===0){x("No student data available for progress tracking report.");return}const R=l.map(I=>{const L=I.grades||[],M=L.slice(-3),q=M.length>=2?(parseFloat(M[M.length-1]?.grade||0)-parseFloat(M[0]?.grade||0)).toFixed(2):"N/A";return{"Student ID":I.id||"N/A",Name:`${I.first_name||""} ${I.last_name||""}`.trim()||"N/A",Program:I.program||"N/A","Year Level":I.year_level||"N/A",Status:I.status||I.student_status||I.enrollment_status||"N/A","Total Subjects":L.length,"Latest Grade":L.length>0&&L[L.length-1]?.grade||"N/A","Progress Trend":q,"Milestones Completed":I.milestones?I.milestones.length:0,"Last Activity":I.last_activity||"N/A","Progress Status":q!=="N/A"&&parseFloat(q)>0?"Improving":q!=="N/A"&&parseFloat(q)<0?"Declining":"Stable"}}),D=["STUDENT PROGRESS TRACKING REPORT",`Generated on: ${new Date().toLocaleDateString()}`,`Total Students Tracked: ${l.length}`,"","INDIVIDUAL STUDENT PROGRESS",Object.keys(R[0]||{}).join(","),...R.map(I=>Object.values(I).join(","))].join(`
`),$=new Blob([D],{type:"text/csv"}),B=window.URL.createObjectURL($),H=document.createElement("a");H.href=B,H.download=`student_progress_tracking_${new Date().toISOString().split("T")[0]}.csv`,H.click(),window.URL.revokeObjectURL(B),m("Student Progress Tracking Report downloaded successfully!")}catch(R){console.error("Error downloading progress report:",R),x("Failed to download progress report. Please try again.")}},T=R=>{try{switch(R){case"Student Academic Performance Summary":v();break;case"Enrollment Statistics Report":A();break;case"Student Progress Tracking":E();break;default:g(`Downloading general report for: ${R}`),F("csv")}}catch(D){console.error("Error in downloadReport:",D),x("Failed to download report. Please try again.")}},F=R=>{try{const D=[{Metric:"Total Students",Value:u.totalStudents},{Metric:"Active Students",Value:u.activeStudents},{Metric:"Graduated Students",Value:u.graduatedStudents},{Metric:"Average GPA",Value:u.averageGPA.toFixed(2)},{Metric:"Report Generated",Value:new Date().toLocaleDateString()},{Metric:"Report Type",Value:"Education Monitoring Overview"}],$={};l.forEach(L=>{const M=L.program||"Unknown";$[M]=($[M]||0)+1});const B=Object.entries($).map(([L,M])=>({Program:L,"Student Count":M,Percentage:`${(M/l.length*100).toFixed(1)}%`})),H={};l.forEach(L=>{const M=L.year_level||"Unknown";H[M]=(H[M]||0)+1});const I=Object.entries(H).map(([L,M])=>({"Year Level":L,"Student Count":M,Percentage:`${(M/l.length*100).toFixed(1)}%`}));if(R==="csv"){const L=["EDUCATION MONITORING OVERVIEW REPORT","","SUMMARY STATISTICS",Object.keys(D[0]).join(","),...D.map(G=>Object.values(G).join(",")),"","PROGRAM DISTRIBUTION",Object.keys(B[0]).join(","),...B.map(G=>Object.values(G).join(",")),"","YEAR LEVEL DISTRIBUTION",Object.keys(I[0]).join(","),...I.map(G=>Object.values(G).join(","))].join(`
`),M=new Blob([L],{type:"text/csv"}),q=window.URL.createObjectURL(M),Z=document.createElement("a");Z.href=q,Z.download=`education_monitoring_overview_${new Date().toISOString().split("T")[0]}.csv`,Z.click(),window.URL.revokeObjectURL(q),m("Education monitoring overview exported successfully!")}}catch(D){console.error("Error exporting data:",D),x("Failed to export data. Please try again.")}};return e.jsxs("div",{className:"space-y-6 pb-6",children:[e.jsx(due,{onExportData:F,onGenerateReport:k,loading:n,onRefresh:b}),e.jsx(uue,{academicStats:u,chartData:y}),e.jsx(jI,{chartData:y}),e.jsx(wue,{compact:!0}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6",children:[e.jsx(mue,{selectedCategory:s,onCategoryChange:a,allReports:N}),e.jsx(hue,{filteredReports:S,selectedCategory:s,reportCategories:[],selectedPeriod:t,onPeriodChange:r,onGenerateReport:k,onDownloadReport:T})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 sm:p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-slate-800 dark:text-white mb-4",children:"Quick Report Generation"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>k("Academic Performance"),className:"flex items-center gap-3 p-3 sm:p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors group",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg text-white group-hover:scale-105 transition-transform",children:e.jsx(Vr,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsxs("div",{className:"text-left min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Performance"}),e.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400 truncate",children:"Academic grades"})]})]}),e.jsxs("button",{onClick:()=>k("Enrollment Statistics"),className:"flex items-center gap-3 p-3 sm:p-4 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors group",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg text-white group-hover:scale-105 transition-transform",children:e.jsx(Ht,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsxs("div",{className:"text-left min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Enrollment"}),e.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400 truncate",children:"Registration data"})]})]}),e.jsxs("button",{onClick:()=>k("Student Progress"),className:"flex items-center gap-3 p-3 sm:p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors group",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg text-white group-hover:scale-105 transition-transform",children:e.jsx(fh,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsxs("div",{className:"text-left min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Progress"}),e.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400 truncate",children:"Student tracking"})]})]})]})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 flex items-center gap-3 shadow-xl",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-orange-500 border-t-transparent"}),e.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:"Generating report..."})]})})]})}function Nue(){const[t,r]=f.useState([]),[s,a]=f.useState(!1),[n,i]=f.useState({yearLevel:"all",program:"all",status:"all"}),{showSuccess:l,showError:c}=Zt();f.useEffect(()=>{u()},[]);const u=async()=>{a(!0);try{const S=localStorage.getItem("token")||localStorage.getItem("auth_token"),k=await fetch(Ax("/api/analytics/academic-performance"),{headers:{Authorization:`Bearer ${S}`,"Content-Type":"application/json",Accept:"application/json"}});if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const v=await k.json();if(v.success)r(v.data||[]);else throw new Error(v.message||"Failed to fetch student data")}catch(S){console.error("Error fetching student data:",S),c("Failed to load student data. Please try again.")}finally{a(!1)}},h=S=>{if(S.gpa!==null&&S.gpa!==void 0)return parseFloat(S.gpa);if(S.grades&&S.grades.length>0){const k=S.grades.map(v=>parseFloat(v.grade)).filter(v=>!isNaN(v));if(k.length>0)return parseFloat((k.reduce((v,A)=>v+A,0)/k.length).toFixed(2))}if(S.academic_records&&S.academic_records.length>0){const k=S.academic_records.find(v=>v.is_current)||S.academic_records[S.academic_records.length-1];if(k){const v=k.gpa||k.general_weighted_average;if(v!=null)return parseFloat(v)}}return 0},m=()=>{const S={"A (90-100)":0,"B (80-89)":0,"C (70-79)":0,"D (60-69)":0,"F (Below 60)":0};return t.forEach(k=>{const v=h(k),A=v/4*100;A>=90?S["A (90-100)"]++:A>=80?S["B (80-89)"]++:A>=70?S["C (70-79)"]++:A>=60?S["D (60-69)"]++:v>0&&S["F (Below 60)"]++}),S},x=()=>{const S={};return t.forEach(k=>{const v=k.program||"Unknown";S[v]||(S[v]={total:0,withGrades:0,averageGPA:0,totalGPA:0}),S[v].total++;const A=h(k);A>0&&(S[v].withGrades++,S[v].totalGPA+=A)}),Object.keys(S).forEach(k=>{S[k].withGrades>0&&(S[k].averageGPA=(S[k].totalGPA/S[k].withGrades).toFixed(2))}),S},g=()=>{const S={};return t.forEach(k=>{const v=k.year_level||"Unknown";S[v]||(S[v]={total:0,withGrades:0,averageGPA:0,totalGPA:0}),S[v].total++;const A=h(k);A>0&&(S[v].withGrades++,S[v].totalGPA+=A)}),Object.keys(S).forEach(k=>{S[k].withGrades>0&&(S[k].averageGPA=(S[k].totalGPA/S[k].withGrades).toFixed(2))}),S},b=t.filter(S=>!(n.yearLevel!=="all"&&S.year_level!==n.yearLevel||n.program!=="all"&&S.program!==n.program||n.status!=="all"&&S.status!==n.status)),y=m(),w=x(),N=g(),_=()=>{try{const S=b.filter(M=>h(M)>0),k=S.reduce((M,q)=>M+h(q),0),v=S.length>0?(k/S.length).toFixed(2):"0.00",A=[{Metric:"Total Students",Value:b.length},{Metric:"Average GPA",Value:v},{Metric:"Excellent Students (3.5+)",Value:b.filter(M=>h(M)>=3.5).length},{Metric:"Good Students (3.0-3.4)",Value:b.filter(M=>h(M)>=3&&h(M)<3.5).length},{Metric:"Satisfactory Students (2.5-2.9)",Value:b.filter(M=>h(M)>=2.5&&h(M)<3).length},{Metric:"Needs Improvement (<2.5)",Value:b.filter(M=>h(M)>0&&h(M)<2.5).length},{Metric:"Report Generated",Value:new Date().toLocaleDateString()},{Metric:"Report Type",Value:"Academic Performance Analysis"}],E=m(),T=Object.entries(E).map(([M,q])=>({"Grade Range":M,"Student Count":q,Percentage:`${(q/b.length*100).toFixed(1)}%`})),F=x(),R=Object.entries(F).map(([M,q])=>({Program:M,"Total Students":q.total,"Students with Grades":q.withGrades,"Average GPA":q.averageGPA||"0.00"})),D=g(),$=Object.entries(D).map(([M,q])=>({"Year Level":M,"Total Students":q.total,"Students with Grades":q.withGrades,"Average GPA":q.averageGPA||"0.00"})),B=["ACADEMIC PERFORMANCE REPORT","","PERFORMANCE SUMMARY",Object.keys(A[0]).join(","),...A.map(M=>Object.values(M).join(",")),"","GRADE DISTRIBUTION ANALYSIS",Object.keys(T[0]).join(","),...T.map(M=>Object.values(M).join(",")),"","PROGRAM PERFORMANCE ANALYSIS",Object.keys(R[0]).join(","),...R.map(M=>Object.values(M).join(",")),"","YEAR LEVEL PERFORMANCE ANALYSIS",Object.keys($[0]).join(","),...$.map(M=>Object.values(M).join(","))].join(`
`),H=new Blob([B],{type:"text/csv"}),I=window.URL.createObjectURL(H),L=document.createElement("a");L.href=I,L.download=`academic_performance_report_${new Date().toISOString().split("T")[0]}.csv`,L.click(),l("Academic performance report exported successfully!")}catch(S){console.error("Error exporting report:",S),c("Failed to export report. Please try again.")}};return s?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading academic performance data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Academic Performance Report"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Comprehensive analysis of student academic performance and progress"})]}),e.jsxs("button",{onClick:_,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors flex items-center space-x-2 mt-4 lg:mt-0",children:[e.jsx(sr,{className:"w-4 h-4"}),e.jsx("span",{children:"Export Report"})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Year Level"}),e.jsxs("select",{value:n.yearLevel,onChange:S=>i({...n,yearLevel:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Year Levels"}),e.jsx("option",{value:"1st Year",children:"1st Year"}),e.jsx("option",{value:"2nd Year",children:"2nd Year"}),e.jsx("option",{value:"3rd Year",children:"3rd Year"}),e.jsx("option",{value:"4th Year",children:"4th Year"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Program"}),e.jsxs("select",{value:n.program,onChange:S=>i({...n,program:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Programs"}),Object.keys(w).map(S=>e.jsx("option",{value:S,children:S},S))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),e.jsxs("select",{value:n.status,onChange:S=>i({...n,status:S.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:b.length})]}),e.jsx(Ht,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"With Grades"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:b.filter(S=>h(S)>0).length})]}),e.jsx(Rs,{className:"w-8 h-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Average GPA"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:(()=>{const S=b.filter(v=>h(v)>0);return S.length===0?"0.00":(S.reduce((v,A)=>v+h(A),0)/S.length).toFixed(2)})()})]}),e.jsx(xr,{className:"w-8 h-8 text-purple-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Passing Rate"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:(()=>{const S=b.filter(v=>h(v)>0);return S.length===0?"0%":`${(S.filter(v=>h(v)>=2).length/S.length*100).toFixed(1)}%`})()})]}),e.jsx(Le,{className:"w-8 h-8 text-orange-500"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Grade Distribution"}),e.jsx("div",{className:"space-y-3",children:Object.entries(y).map(([S,k])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:S}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-32 bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${b.length>0?k/b.length*100:0}%`}})}),e.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 w-8",children:k})]})]},S))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Performance by Program"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Program"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total Students"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"With Grades"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Average GPA"})]})}),e.jsx("tbody",{children:Object.entries(w).map(([S,k])=>e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-slate-800 dark:text-white",children:S}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:k.total}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:k.withGrades}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:k.averageGPA})]},S))})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Performance by Year Level"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Year Level"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total Students"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"With Grades"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Average GPA"})]})}),e.jsx("tbody",{children:Object.entries(N).map(([S,k])=>e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-slate-800 dark:text-white",children:S}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:k.total}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:k.withGrades}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:k.averageGPA})]},S))})]})})]})]})}function kue(){const[t,r]=f.useState([]),[s,a]=f.useState(!1),[n,i]=f.useState({yearLevel:"all",program:"all",status:"all",dateRange:"all"}),{showSuccess:l,showError:c}=Zt();f.useEffect(()=>{u()},[]);const u=async()=>{a(!0);try{const v=localStorage.getItem("token")||localStorage.getItem("auth_token"),A=await fetch(Ax("/api/analytics/enrollment-statistics"),{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json",Accept:"application/json"}});if(!A.ok)throw new Error(`HTTP error! status: ${A.status}`);const E=await A.json();if(E.success)r(E.data||[]);else throw new Error(E.message||"Failed to fetch enrollment data")}catch(v){console.error("Error fetching enrollment data:",v),c("Failed to load enrollment data. Please try again.")}finally{a(!1)}},h=()=>{const v={};return t.forEach(A=>{const E=A.enrollmentDate||A.created_at;if(E)try{const T=new Date(E);if(isNaN(T.getTime()))return;const F=T.toISOString().slice(0,7);v[F]||(v[F]=0),v[F]++}catch{}}),v},m=()=>{const v={};return t.forEach(A=>{const E=A.program||"Unknown";v[E]=(v[E]||0)+1}),v},x=()=>{const v={};return t.forEach(A=>{const E=A.year_level||"Unknown";v[E]=(v[E]||0)+1}),v},g=()=>{const v={};return t.forEach(A=>{const E=A.status||"Unknown";v[E]=(v[E]||0)+1}),v},b=()=>t.filter(v=>{const A=v.enrollmentDate||v.created_at;if(!A)return!1;const E=new Date(A);if(isNaN(E.getTime()))return!1;const T=new Date;return T.setDate(T.getDate()-30),E>=T}).sort((v,A)=>{const E=new Date(v.enrollmentDate||v.created_at||0);return new Date(A.enrollmentDate||A.created_at||0)-E}).slice(0,10),y=t.filter(v=>{if(n.yearLevel!=="all"&&v.year_level!==n.yearLevel||n.program!=="all"&&v.program!==n.program||n.status!=="all"&&v.status!==n.status)return!1;if(n.dateRange!=="all"){const A=v.enrollmentDate||v.created_at;if(!A)return!1;try{const E=new Date(A);if(isNaN(E.getTime()))return!1;const T=new Date;switch(n.dateRange){case"last30days":const F=new Date;if(F.setDate(F.getDate()-30),E<F)return!1;break;case"last90days":const R=new Date;if(R.setDate(R.getDate()-90),E<R)return!1;break;case"thisyear":if(E.getFullYear()!==T.getFullYear())return!1;break}}catch{return!1}}return!0});h();const w=m(),N=x(),_=g(),S=b(),k=()=>{try{const v=[{Metric:"Total Students",Value:y.length},{Metric:"Active Students",Value:y.filter(L=>L.status==="active").length},{Metric:"Graduated Students",Value:y.filter(L=>L.status==="graduated").length},{Metric:"Inactive Students",Value:y.filter(L=>L.status!=="active"&&L.status!=="graduated").length},{Metric:"Enrollment Rate",Value:`${(y.filter(L=>L.status==="active").length/y.length*100).toFixed(1)}%`},{Metric:"Graduation Rate",Value:`${(y.filter(L=>L.status==="graduated").length/y.length*100).toFixed(1)}%`},{Metric:"Report Generated",Value:new Date().toLocaleDateString()},{Metric:"Report Type",Value:"Enrollment Statistics Analysis"}],A=m(),E=Object.entries(A).map(([L,M])=>({Program:L,"Student Count":M,Percentage:`${(M/y.length*100).toFixed(1)}%`,"Active Students":y.filter(q=>q.program===L&&q.status==="active").length,"Graduated Students":y.filter(q=>q.program===L&&q.status==="graduated").length})),T=x(),F=Object.entries(T).map(([L,M])=>({"Year Level":L,"Student Count":M,Percentage:`${(M/y.length*100).toFixed(1)}%`,"Active Students":y.filter(q=>q.year_level===L&&q.status==="active").length,"Graduated Students":y.filter(q=>q.year_level===L&&q.status==="graduated").length})),R=g(),D=Object.entries(R).map(([L,M])=>({Status:L,"Student Count":M,Percentage:`${(M/y.length*100).toFixed(1)}%`})),$=["ENROLLMENT STATISTICS REPORT","","ENROLLMENT SUMMARY",Object.keys(v[0]).join(","),...v.map(L=>Object.values(L).join(",")),"","PROGRAM DISTRIBUTION ANALYSIS",Object.keys(E[0]).join(","),...E.map(L=>Object.values(L).join(",")),"","YEAR LEVEL DISTRIBUTION ANALYSIS",Object.keys(F[0]).join(","),...F.map(L=>Object.values(L).join(",")),"","STATUS DISTRIBUTION ANALYSIS",Object.keys(D[0]).join(","),...D.map(L=>Object.values(L).join(","))].join(`
`),B=new Blob([$],{type:"text/csv"}),H=window.URL.createObjectURL(B),I=document.createElement("a");I.href=H,I.download=`enrollment_statistics_report_${new Date().toISOString().split("T")[0]}.csv`,I.click(),l("Enrollment statistics report exported successfully!")}catch(v){console.error("Error exporting report:",v),c("Failed to export report. Please try again.")}};return s?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading enrollment statistics data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Enrollment Statistics Report"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Comprehensive analysis of student enrollment patterns and trends"})]}),e.jsxs("button",{onClick:k,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors flex items-center space-x-2 mt-4 lg:mt-0",children:[e.jsx(sr,{className:"w-4 h-4"}),e.jsx("span",{children:"Export Report"})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Year Level"}),e.jsxs("select",{value:n.yearLevel,onChange:v=>i({...n,yearLevel:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Year Levels"}),e.jsx("option",{value:"1st Year",children:"1st Year"}),e.jsx("option",{value:"2nd Year",children:"2nd Year"}),e.jsx("option",{value:"3rd Year",children:"3rd Year"}),e.jsx("option",{value:"4th Year",children:"4th Year"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Program"}),e.jsxs("select",{value:n.program,onChange:v=>i({...n,program:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Programs"}),Object.keys(w).map(v=>e.jsx("option",{value:v,children:v},v))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),e.jsxs("select",{value:n.status,onChange:v=>i({...n,status:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Date Range"}),e.jsxs("select",{value:n.dateRange,onChange:v=>i({...n,dateRange:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Time"}),e.jsx("option",{value:"last30days",children:"Last 30 Days"}),e.jsx("option",{value:"last90days",children:"Last 90 Days"}),e.jsx("option",{value:"thisyear",children:"This Year"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total Enrollments"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:y.length})]}),e.jsx(Ht,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Active Students"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:y.filter(v=>v.status==="active").length})]}),e.jsx(ln,{className:"w-8 h-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Recent Enrollments"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:S.length})]}),e.jsx(fc,{className:"w-8 h-8 text-purple-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Programs"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:Object.keys(w).length})]}),e.jsx(Ls,{className:"w-8 h-8 text-orange-500"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Enrollment by Program"}),e.jsx("div",{className:"space-y-3",children:Object.entries(w).sort(([,v],[,A])=>A-v).map(([v,A])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:v}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-32 bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${y.length>0?A/y.length*100:0}%`}})}),e.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 w-8",children:A})]})]},v))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Enrollment by Year Level"}),e.jsx("div",{className:"space-y-3",children:Object.entries(N).sort(([,v],[,A])=>A-v).map(([v,A])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:v}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-32 bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${y.length>0?A/y.length*100:0}%`}})}),e.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 w-8",children:A})]})]},v))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Enrollment Status"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(_).map(([v,A])=>{const E={active:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",inactive:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"};return e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 capitalize",children:v}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E[v]||"bg-slate-100 text-slate-800"}`,children:A})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${y.length>0?A/y.length*100:0}%`}})})})]},v)})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Recent Enrollments (Last 30 Days)"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Student"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Program"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Year Level"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Enrollment Date"})]})}),e.jsx("tbody",{children:S.map(v=>e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-slate-800 dark:text-white",children:v.name||`${v.first_name||""} ${v.last_name||""}`.trim()||"Unknown"}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:v.program||"N/A"}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:v.year_level||"N/A"}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400 capitalize",children:v.status||"unknown"}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:(()=>{const A=v.enrollmentDate||v.created_at;if(!A)return"N/A";try{const E=new Date(A);return isNaN(E.getTime())?"N/A":E.toLocaleDateString()}catch{return"N/A"}})()})]},v.student_id))})]})})]})]})}function Sue(){const[t,r]=f.useState([]),[s,a]=f.useState(!1),[n,i]=f.useState(null),[l,c]=f.useState({yearLevel:"all",program:"all",progressStatus:"all"}),{showSuccess:u,showError:h}=Zt();f.useEffect(()=>{m()},[]);const m=async()=>{a(!0);try{const v=localStorage.getItem("token")||localStorage.getItem("auth_token"),A=await fetch(Ax("/api/analytics/student-progress"),{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json",Accept:"application/json"}});if(!A.ok)throw new Error(`HTTP error! status: ${A.status}`);const E=await A.json();if(E.success)r(E.data||[]);else throw new Error(E.message||"Failed to fetch student progress data")}catch(v){console.error("Error fetching student progress data:",v),h("Failed to load student progress data. Please try again.")}finally{a(!1)}},x=v=>{if(v.gpa!==null&&v.gpa!==void 0)return parseFloat(v.gpa);if(v.grades&&v.grades.length>0){const A=v.grades.map(E=>parseFloat(E.grade)).filter(E=>!isNaN(E));if(A.length>0)return parseFloat((A.reduce((E,T)=>E+T,0)/A.length).toFixed(2))}if(v.academic_records&&v.academic_records.length>0){const A=v.academic_records.find(E=>E.is_current)||v.academic_records[v.academic_records.length-1];if(A){const E=A.gpa||A.general_weighted_average;if(E!=null)return parseFloat(E)}}return 0},g=v=>{const A=x(v);if((v.grades?v.grades.length:0)===0&&A===0)return"No Data";const T=A/4*100;return T>=87.5||A>=3.5?"Excellent":T>=75||A>=3?"Good":T>=62.5||A>=2.5?"Satisfactory":T>=50||A>=2?"Needs Improvement":A>0?"At Risk":"No Data"},b=v=>{switch(v){case"Excellent":return"text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400";case"Good":return"text-blue-600 bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400";case"Satisfactory":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-400";case"Needs Improvement":return"text-orange-600 bg-orange-100 dark:bg-orange-900/30 dark:text-orange-400";case"At Risk":return"text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-400";default:return"text-slate-600 bg-slate-100 dark:bg-slate-700 dark:text-slate-400"}},y=v=>!v.grades||v.grades.length===0?[]:v.grades.sort((A,E)=>{const T=new Date(A.created_at||A.year||0);return new Date(E.created_at||E.year||0)-T}).slice(0,5),w=v=>{if(!v.grades||v.grades.length<2)return"stable";const E=[...v.grades].sort((B,H)=>{const I=new Date(B.created_at||B.year||0),L=new Date(H.created_at||H.year||0);return I-L}).slice(-3).map(B=>parseFloat(B.grade)).filter(B=>!isNaN(B));if(E.length<2)return"stable";const T=E.slice(0,Math.ceil(E.length/2)),F=E.slice(Math.ceil(E.length/2)),R=T.reduce((B,H)=>B+H,0)/T.length,D=F.reduce((B,H)=>B+H,0)/F.length,$=.2;return D>R+$?"improving":D<R-$?"declining":"stable"},N=()=>{const v={total:t.length,excellent:0,good:0,satisfactory:0,needsImprovement:0,atRisk:0,noData:0};return t.forEach(A=>{const T=g(A).toLowerCase().replace(/\s+/g,"");v.hasOwnProperty(T)&&v[T]++}),v},_=t.filter(v=>{if(l.yearLevel!=="all"&&v.year_level!==l.yearLevel||l.program!=="all"&&v.program!==l.program)return!1;if(l.progressStatus!=="all"){const A=g(v);if(l.progressStatus==="excellent"&&A!=="Excellent"||l.progressStatus==="good"&&A!=="Good"||l.progressStatus==="satisfactory"&&A!=="Satisfactory"||l.progressStatus==="needs_improvement"&&A!=="Needs Improvement"||l.progressStatus==="at_risk"&&A!=="At Risk"||l.progressStatus==="no_data"&&A!=="No Data")return!1}return!0}),S=N(),k=()=>{try{const v=N(),A=[{Metric:"Total Students",Value:_.length},{Metric:"On Track Students",Value:v.onTrack},{Metric:"At Risk Students",Value:v.atRisk},{Metric:"Needs Attention Students",Value:v.needsAttention},{Metric:"Average GPA",Value:(()=>{const M=_.filter(Z=>x(Z)>0);return M.length===0?"0.00":(M.reduce((Z,G)=>Z+x(G),0)/M.length).toFixed(2)})()},{Metric:"Report Generated",Value:new Date().toLocaleDateString()},{Metric:"Report Type",Value:"Student Progress Tracking Analysis"}],E={"On Track":_.filter(M=>g(M)==="On Track").length,"At Risk":_.filter(M=>g(M)==="At Risk").length,"Needs Attention":_.filter(M=>g(M)==="Needs Attention").length},T=Object.entries(E).map(([M,q])=>({"Progress Status":M,"Student Count":q,Percentage:`${(q/_.length*100).toFixed(1)}%`})),F={Improving:_.filter(M=>w(M)==="Improving").length,Declining:_.filter(M=>w(M)==="Declining").length,Stable:_.filter(M=>w(M)==="Stable").length,"Insufficient Data":_.filter(M=>w(M)==="Insufficient Data").length},R=Object.entries(F).map(([M,q])=>({"Grade Trend":M,"Student Count":q,Percentage:`${(q/_.length*100).toFixed(1)}%`})),D={"Excellent (3.5+)":_.filter(M=>x(M)>=3.5).length,"Good (3.0-3.4)":_.filter(M=>x(M)>=3&&x(M)<3.5).length,"Satisfactory (2.5-2.9)":_.filter(M=>x(M)>=2.5&&x(M)<3).length,"Needs Improvement (<2.5)":_.filter(M=>x(M)>0&&x(M)<2.5).length},$=Object.entries(D).map(([M,q])=>({"Performance Level":M,"Student Count":q,Percentage:`${(q/_.length*100).toFixed(1)}%`})),B=["STUDENT PROGRESS TRACKING REPORT","","PROGRESS SUMMARY",Object.keys(A[0]).join(","),...A.map(M=>Object.values(M).join(",")),"","PROGRESS STATUS DISTRIBUTION",Object.keys(T[0]).join(","),...T.map(M=>Object.values(M).join(",")),"","GRADE TREND ANALYSIS",Object.keys(R[0]).join(","),...R.map(M=>Object.values(M).join(",")),"","PERFORMANCE LEVEL ANALYSIS",Object.keys($[0]).join(","),...$.map(M=>Object.values(M).join(","))].join(`
`),H=new Blob([B],{type:"text/csv"}),I=window.URL.createObjectURL(H),L=document.createElement("a");L.href=I,L.download=`student_progress_tracking_report_${new Date().toISOString().split("T")[0]}.csv`,L.click(),u("Student progress tracking report exported successfully!")}catch(v){console.error("Error exporting report:",v),h("Failed to export report. Please try again.")}};return s?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading student progress data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Student Progress Report"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Track individual student academic progress and performance trends"})]}),e.jsxs("button",{onClick:k,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors flex items-center space-x-2 mt-4 lg:mt-0",children:[e.jsx(sr,{className:"w-4 h-4"}),e.jsx("span",{children:"Export Report"})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Year Level"}),e.jsxs("select",{value:l.yearLevel,onChange:v=>c({...l,yearLevel:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Year Levels"}),e.jsx("option",{value:"1st Year",children:"1st Year"}),e.jsx("option",{value:"2nd Year",children:"2nd Year"}),e.jsx("option",{value:"3rd Year",children:"3rd Year"}),e.jsx("option",{value:"4th Year",children:"4th Year"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Program"}),e.jsxs("select",{value:l.program,onChange:v=>c({...l,program:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Programs"}),[...new Set(t.map(v=>v.program).filter(Boolean))].map(v=>e.jsx("option",{value:v,children:v},v))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Progress Status"}),e.jsxs("select",{value:l.progressStatus,onChange:v=>c({...l,progressStatus:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"excellent",children:"Excellent"}),e.jsx("option",{value:"good",children:"Good"}),e.jsx("option",{value:"satisfactory",children:"Satisfactory"}),e.jsx("option",{value:"needs_improvement",children:"Needs Improvement"}),e.jsx("option",{value:"at_risk",children:"At Risk"}),e.jsx("option",{value:"no_data",children:"No Data"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:S.total})]}),e.jsx(Jt,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Excellent Progress"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:S.excellent})]}),e.jsx(xr,{className:"w-8 h-8 text-green-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"At Risk"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:S.atRisk})]}),e.jsx(xw,{className:"w-8 h-8 text-red-500"})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"No Data"}),e.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:S.noData})]}),e.jsx(Rs,{className:"w-8 h-8 text-slate-500"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Progress Status Distribution"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{status:"Excellent",count:S.excellent,color:"green"},{status:"Good",count:S.good,color:"blue"},{status:"Satisfactory",count:S.satisfactory,color:"yellow"},{status:"Needs Improvement",count:S.needsImprovement,color:"orange"},{status:"At Risk",count:S.atRisk,color:"red"},{status:"No Data",count:S.noData,color:"slate"}].map(({status:v,count:A,color:E})=>{const T={green:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",blue:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",orange:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",red:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",slate:"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-400"};return e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:v}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T[E]}`,children:A})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:e.jsx("div",{className:`bg-${E}-500 h-2 rounded-full`,style:{width:`${S.total>0?A/S.total*100:0}%`}})})})]},v)})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Student Progress Details"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Student"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Program"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"GPA"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Trend"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Grades"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-600 dark:text-slate-400",children:"Actions"})]})}),e.jsx("tbody",{children:_.map(v=>{const A=g(v),E=w(v),T=x(v.grades);return y(v),e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-slate-800 dark:text-white",children:v.name||`${v.first_name||""} ${v.last_name||""}`.trim()||"Unknown"}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:v.program||"N/A"}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:T>0?T.toFixed(2):"N/A"}),e.jsx("td",{className:"py-3 px-4 text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(A)}`,children:A})}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400 capitalize",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[E==="improving"&&e.jsx(Vr,{className:"w-4 h-4 text-green-500"}),E==="declining"&&e.jsx(Vr,{className:"w-4 h-4 text-red-500 rotate-180"}),E==="stable"&&e.jsx(ln,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{children:E})]})}),e.jsx("td",{className:"py-3 px-4 text-sm text-slate-600 dark:text-slate-400",children:v.grades?v.grades.length:0}),e.jsx("td",{className:"py-3 px-4 text-sm",children:e.jsx("button",{onClick:()=>i(v),className:"text-orange-600 hover:text-orange-700 dark:text-orange-400 dark:hover:text-orange-300",children:"View Details"})})]},v.student_id||v.id)})})]})})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:[n.name," - Progress Details"]}),e.jsx("button",{onClick:()=>i(null),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:""})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Program"}),e.jsx("p",{className:"text-slate-800 dark:text-white",children:n.program||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Year Level"}),e.jsx("p",{className:"text-slate-800 dark:text-white",children:n.year_level||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"GPA"}),e.jsx("p",{className:"text-slate-800 dark:text-white",children:(()=>{const v=x(n);return v>0?v.toFixed(2):"N/A"})()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Progress Status"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(g(n))}`,children:g(n)})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-semibold text-slate-800 dark:text-white mb-2",children:"Recent Grades"}),e.jsxs("div",{className:"space-y-2",children:[y(n).map((v,A)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 dark:bg-slate-700/50 rounded",children:[e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:v.course_code||v.program||"N/A"}),e.jsx("span",{className:"text-sm font-medium text-slate-800 dark:text-white",children:v.grade?parseFloat(v.grade).toFixed(2):"N/A"}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:v.term||v.year||"N/A"})]},A)),y(n).length===0&&e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No grades available"})]})]})]})]})})]})}const ul=t=>{const r=Number(t)||0;return r>=1e6?`${(r/1e6).toFixed(1)}M`:r>=1e3?`${(r/1e3).toFixed(1)}K`:r.toLocaleString()},pb=t=>{const r=Number(t)||0;return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(r)},_ue=({value:t,suffix:r="%"})=>{const s=Number(t)||0;if(s===0)return null;const a=s>0;return e.jsxs("span",{className:`inline-flex items-center gap-0.5 text-xs font-medium px-1.5 py-0.5 rounded ${a?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:[a?e.jsx(n$,{className:"w-3 h-3"}):e.jsx(JL,{className:"w-3 h-3"}),Math.abs(s).toFixed(1),r]})},K0=({title:t,value:r,subtitle:s,icon:a,trend:n,trendLabel:i,color:l,onClick:c})=>{const u={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",indigo:"from-indigo-500 to-indigo-600"},h={blue:"bg-blue-50 dark:bg-blue-900/20",green:"bg-green-50 dark:bg-green-900/20",purple:"bg-purple-50 dark:bg-purple-900/20",orange:"bg-orange-50 dark:bg-orange-900/20",red:"bg-red-50 dark:bg-red-900/20",indigo:"bg-indigo-50 dark:bg-indigo-900/20"};return e.jsxs("div",{onClick:c,className:`relative overflow-hidden bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700 transition-all duration-200 ${c?"cursor-pointer hover:shadow-md hover:border-slate-300 dark:hover:border-slate-600":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 truncate",children:t}),e.jsxs("div",{className:"mt-1 flex items-baseline gap-2 flex-wrap",children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r}),n!==void 0&&e.jsx(_ue,{value:n})]}),s&&e.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:s}),i&&e.jsx("p",{className:"mt-0.5 text-xs text-slate-400 dark:text-slate-500",children:i})]}),e.jsx("div",{className:`flex-shrink-0 p-3 rounded-lg bg-gradient-to-br ${u[l]} text-white shadow-sm`,children:a})]}),e.jsx("div",{className:`absolute -right-4 -bottom-4 w-24 h-24 rounded-full opacity-10 ${h[l]}`})]})},su=({value:t,max:r=100,color:s="bg-blue-500",showLabel:a=!0,size:n="md"})=>{const i=Number(t)||0,l=Number(r)||100,c=Math.min(i/l*100,100),u={sm:"h-1.5",md:"h-2.5",lg:"h-4"};return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:`w-full bg-slate-200 dark:bg-slate-700 rounded-full ${u[n]} overflow-hidden`,children:e.jsx("div",{className:`${s} ${u[n]} rounded-full transition-all duration-500 ease-out`,style:{width:`${c}%`}})}),a&&e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-slate-500 dark:text-slate-400",children:[e.jsx("span",{children:ul(i)}),e.jsxs("span",{children:[c.toFixed(1),"%"]})]})]})},J0=({label:t,value:r,icon:s,color:a="text-slate-600"})=>e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-slate-50 dark:bg-slate-700/50",children:[s&&e.jsx("span",{className:a,children:s}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:t}),e.jsx("p",{className:"text-sm font-semibold text-slate-800 dark:text-white",children:r})]})]}),Aue=({alert:t,onAcknowledge:r})=>{const s={critical:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-700 dark:text-red-400",icon:jt},high:{bg:"bg-orange-100 dark:bg-orange-900/30",text:"text-orange-700 dark:text-orange-400",icon:Wt},medium:{bg:"bg-yellow-100 dark:bg-yellow-900/30",text:"text-yellow-700 dark:text-yellow-400",icon:Nt},low:{bg:"bg-blue-100 dark:bg-blue-900/30",text:"text-blue-700 dark:text-blue-400",icon:ki}},a=s[t.severity]||s.low,n=a.icon;return e.jsxs("div",{className:`p-3 rounded-lg ${a.bg} flex items-start gap-3`,children:[e.jsx(n,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${a.text}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm font-medium ${a.text}`,children:t.title}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-0.5 line-clamp-2",children:t.message})]}),!t.is_acknowledged&&e.jsx("button",{onClick:()=>r(t.id),className:"flex-shrink-0 p-1.5 rounded hover:bg-white/50 dark:hover:bg-slate-700/50 transition-colors",title:"Acknowledge",children:e.jsx(Le,{className:"w-4 h-4 text-slate-500 dark:text-slate-400"})})]})},Cue=({stage:t,pending:r,completed:s,isBottleneck:a})=>{const n=r+s,i=n>0?s/n*100:0,l={document_verification:"Document Verification",financial_review:"Financial Review",academic_review:"Academic Review",final_approval:"Final Approval"};return e.jsxs("div",{className:`p-3 rounded-lg border transition-all ${a?"border-orange-300 bg-orange-50 dark:border-orange-600 dark:bg-orange-900/20":"border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-800"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:l[t]||t}),a&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-orange-200 text-orange-700 dark:bg-orange-800 dark:text-orange-300",children:"Bottleneck"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Nt,{className:"w-3.5 h-3.5 text-amber-500"}),e.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[r," pending"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5 text-green-500"}),e.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:[s," done"]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx(su,{value:i,color:"bg-green-500",showLabel:!1,size:"sm"})})]})},Pue=({isConnected:t,lastUpdated:r,isLoading:s})=>e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium ${s?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":t?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${s?"bg-blue-500 animate-pulse":t?"bg-green-500":"bg-red-500"}`}),s?"Syncing...":t?"Live":"Offline"]}),Eue=({title:t,description:r,icon:s,action:a})=>e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex p-4 rounded-full bg-slate-100 dark:bg-slate-700 mb-4",children:s}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:t}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 max-w-md mx-auto mb-4",children:r}),a&&e.jsx("button",{onClick:a.onClick,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium",children:a.label})]}),Tue=()=>{const[t,r]=f.useState(null),[s,a]=f.useState(null),[n,i]=f.useState([]),[l,c]=f.useState(!0),[u,h]=f.useState(!1),[m,x]=f.useState(null),[g,b]=f.useState(null),[y,w]=f.useState("overview"),[N,_]=f.useState(!0),S=f.useCallback(async()=>{c(!0),x(null);try{const H=await pue();H&&(r(H),_(!0),console.log("Dashboard metrics loaded from database:",H));const I=await fue({status:"active",limit:5}).catch(()=>({alerts:[],total_count:0}));i(I.alerts||[]),b(new Date)}catch(H){console.error("Failed to load dashboard data:",H),x("Unable to connect to monitoring service. Please ensure the service is running."),_(!1)}finally{c(!1)}},[]),k=f.useCallback(async(H=!1)=>{h(!0);try{const I=await NI(void 0,H);I&&(a(I),console.log("AI insights loaded:",I))}catch(I){console.error("Failed to load AI insights:",I)}finally{h(!1)}},[]);f.useEffect(()=>{S();const H=setTimeout(()=>{k()},500),I=setInterval(S,300*1e3);return()=>{clearInterval(I),clearTimeout(H)}},[S,k]);const v=async H=>{try{await yue(H),i(I=>I.filter(L=>L.id!==H))}catch(I){console.error("Failed to acknowledge alert:",I)}},A=()=>{k(!0)};if(l&&!t)return e.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ot,{className:"w-8 h-8 animate-spin text-blue-500 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Connecting to monitoring service..."}),e.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-2",children:"Loading data from database"})]})});if(m&&!t)return e.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-6 bg-red-50 dark:bg-red-900/20 rounded-xl max-w-md",children:[e.jsx(Wt,{className:"w-10 h-10 text-red-500 mx-auto mb-3"}),e.jsx("p",{className:"text-red-700 dark:text-red-400 font-medium mb-2",children:"Connection Error"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:m}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:S,className:"w-full px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Retry Connection"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Make sure the monitoring_service is running on port 8003"})]})]})});const E=t&&((t.applications?.total||0)>0||(t.demographics?.total_students||0)>0||(t.financial?.total_budget||0)>0),T=t?.applications,F=t?.financial,R=t?.ssc_reviews,D=t?.interviews,$=t?.demographics,B=t?.alerts;return e.jsxs("div",{className:"space-y-6 pb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Education Monitoring Dashboard"}),e.jsx(Pue,{isConnected:N,lastUpdated:g,isLoading:l})]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:g?`Data from database  Last sync: ${g.toLocaleTimeString()}`:"Scholarship Management System Analytics"}),!E&&N&&e.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:" No analytics data found. Run the seeder to populate sample data."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:S,disabled:l,className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:[e.jsx(Ot,{className:`w-4 h-4 ${l?"animate-spin":""}`}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),e.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(sr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),e.jsx("div",{className:"flex gap-1 p-1 bg-slate-100 dark:bg-slate-800 rounded-lg w-fit",children:[{id:"overview",label:"Overview",icon:da},{id:"pipeline",label:"Pipeline",icon:D$},{id:"insights",label:"AI Insights",icon:Qd}].map(({id:H,label:I,icon:L})=>e.jsxs("button",{onClick:()=>w(H),className:`inline-flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${y===H?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:I})]},H))}),y==="overview"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(K0,{title:"Total Applications",value:ul(T?.total||0),subtitle:`${T?.new_today||0} new today`,icon:e.jsx(ut,{className:"w-5 h-5"}),trend:T?.trend?.delta_percent,trendLabel:"vs last week",color:"blue"}),e.jsx(K0,{title:"Approval Rate",value:`${T?.approval_rate||0}%`,subtitle:`${T?.approved||0} approved`,icon:e.jsx(Le,{className:"w-5 h-5"}),color:"green"}),e.jsx(K0,{title:"Budget Utilized",value:`${F?.utilization_rate||0}%`,subtitle:pb(F?.remaining_budget||0)+" remaining",icon:e.jsx(cr,{className:"w-5 h-5"}),color:"purple"}),e.jsx(K0,{title:"Active Alerts",value:B?.total||0,subtitle:`${B?.by_severity?.high||0} high priority`,icon:e.jsx(ki,{className:"w-5 h-5"}),color:B?.by_severity?.critical?"red":"orange"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Application Pipeline"}),e.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[T?.pending_review||0," pending review"]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsx(J0,{label:"Submitted",value:ul(T?.pending_review||0),icon:e.jsx(Nt,{className:"w-4 h-4"}),color:"text-amber-500"}),e.jsx(J0,{label:"Approved",value:ul(T?.approved||0),icon:e.jsx(Le,{className:"w-4 h-4"}),color:"text-green-500"}),e.jsx(J0,{label:"Rejected",value:ul(T?.rejected||0),icon:e.jsx(jt,{className:"w-4 h-4"}),color:"text-red-500"}),e.jsx(J0,{label:"Released",value:ul(T?.released||0),icon:e.jsx(cr,{className:"w-4 h-4"}),color:"text-purple-500"})]}),e.jsxs("div",{className:"mt-5",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Processing Progress"}),e.jsxs("span",{className:"font-medium text-slate-800 dark:text-white",children:[T?.released||0," / ",T?.total||0]})]}),e.jsx(su,{value:T?.released||0,max:T?.total||1,color:"bg-gradient-to-r from-blue-500 to-purple-500"})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:[e.jsx("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:T?.by_type?.new||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"New"})]}),e.jsxs("div",{className:"text-center p-3 rounded-lg bg-green-50 dark:bg-green-900/20",children:[e.jsx("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:T?.by_type?.renewal||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Renewal"})]}),e.jsxs("div",{className:"text-center p-3 rounded-lg bg-purple-50 dark:bg-purple-900/20",children:[e.jsx("p",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:Number(T?.avg_processing_days||0).toFixed(1)}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Avg Days"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Active Alerts"}),e.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400",children:[n.length," active"]})]}),e.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:n.length>0?n.map(H=>e.jsx(Aue,{alert:H,onAcknowledge:v},H.id)):e.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[e.jsx(Le,{className:"w-10 h-10 mx-auto mb-2 text-green-500"}),e.jsx("p",{className:"text-sm",children:"All clear! No active alerts."})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-3",children:"Budget Overview"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-slate-500",children:"Allocated"}),e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:pb(F?.allocated_budget||0)})]}),e.jsx(su,{value:F?.allocation_rate||0,color:"bg-blue-500",showLabel:!1,size:"sm"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-slate-500",children:"Disbursed"}),e.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:pb(F?.disbursed_budget||0)})]}),e.jsx(su,{value:F?.utilization_rate||0,color:"bg-green-500",showLabel:!1,size:"sm"})]})]}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-3",children:[F?.disbursements_today||0," disbursements today"]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-3",children:"SSC Reviews"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:R?.total_pending||0}),e.jsx("span",{className:"text-sm text-slate-500",children:"pending"})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-3.5 h-3.5 text-green-500"}),e.jsxs("span",{children:[R?.completed_today||0," today"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Nt,{className:"w-3.5 h-3.5 text-amber-500"}),e.jsxs("span",{children:[Number(R?.avg_review_hours||0).toFixed(0),"h avg"]})]})]}),R?.bottleneck_stage&&R.bottleneck_stage!=="none"&&e.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-3",children:[" Bottleneck: ",R.bottleneck_stage.replace("_"," ")]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-3",children:"Interviews"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:D?.scheduled||0}),e.jsx("span",{className:"text-sm text-slate-500",children:"scheduled"})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[e.jsx(Vr,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[Number(D?.pass_rate||0).toFixed(0),"% pass"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-red-600 dark:text-red-400",children:[e.jsx(gw,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[Number(D?.no_show_rate||0).toFixed(0),"% no-show"]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-600 dark:text-slate-400 mb-3",children:"Student Demographics"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:ul($?.total_students||0)}),e.jsx("span",{className:"text-sm text-slate-500",children:"students"})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:[e.jsxs("span",{className:"px-2 py-1 rounded bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:[Number($?.special_categories?.fourps_percentage||0).toFixed(1),"% 4Ps"]}),e.jsxs("span",{className:"px-2 py-1 rounded bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",children:[Number($?.special_categories?.pwd_percentage||0).toFixed(1),"% PWD"]}),e.jsxs("span",{className:"px-2 py-1 rounded bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[$?.partner_schools||0," schools"]})]})]})]})]}),y==="pipeline"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"SSC Review Pipeline"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:R?.by_stage&&Object.entries(R.by_stage).map(([H,I])=>e.jsx(Cue,{stage:H,pending:I.pending,completed:I.completed,isBottleneck:R.bottleneck_stage===H},H))}),e.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-green-50 dark:bg-green-900/20",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:R?.outcomes?.approved||0}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Approved"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-red-50 dark:bg-red-900/20",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:R?.outcomes?.rejected||0}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Rejected"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-amber-50 dark:bg-amber-900/20",children:[e.jsx("p",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:R?.outcomes?.needs_revision||0}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Needs Revision"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Interview Status"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"text-center p-4 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:[e.jsx(zt,{className:"w-6 h-6 mx-auto mb-2 text-blue-500"}),e.jsx("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:D?.scheduled||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Scheduled"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-green-50 dark:bg-green-900/20",children:[e.jsx(Le,{className:"w-6 h-6 mx-auto mb-2 text-green-500"}),e.jsx("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:D?.completed||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Completed"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-red-50 dark:bg-red-900/20",children:[e.jsx(jt,{className:"w-6 h-6 mx-auto mb-2 text-red-500"}),e.jsx("p",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:D?.cancelled||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Cancelled"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-amber-50 dark:bg-amber-900/20",children:[e.jsx(Wt,{className:"w-6 h-6 mx-auto mb-2 text-amber-500"}),e.jsx("p",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:D?.no_show||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"No Show"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-purple-50 dark:bg-purple-900/20",children:[e.jsx(Ht,{className:"w-6 h-6 mx-auto mb-2 text-purple-500"}),e.jsx("p",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:D?.results?.passed||0}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Passed"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Application by Category"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[{label:"Merit",value:T?.by_category?.merit||0,color:"blue"},{label:"Need-Based",value:T?.by_category?.need_based||0,color:"green"},{label:"Special",value:T?.by_category?.special||0,color:"purple"}].map(({label:H,value:I,color:L})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:H}),e.jsx("span",{className:"text-sm text-slate-500",children:ul(I)})]}),e.jsx(su,{value:I,max:T?.total||1,color:`bg-${L}-500`,size:"md"})]},H))})]})]}),y==="insights"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:A,disabled:u,className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:[e.jsx(Ot,{className:`w-4 h-4 ${u?"animate-spin":""}`}),u?"Generating...":"Regenerate Insights"]})}),u&&!s?e.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"inline-flex p-4 rounded-full bg-purple-100 dark:bg-purple-900/30 mb-4",children:e.jsx(Ot,{className:"w-8 h-8 animate-spin text-purple-500"})}),e.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"Generating AI Insights"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Analyzing your scholarship data to provide actionable recommendations..."})]}):s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(Qd,{className:"w-4 h-4 text-purple-500"}),e.jsxs("span",{children:["Provider: ",e.jsx("strong",{children:s.provider})]}),s.from_cache&&e.jsx("span",{className:"px-2 py-0.5 rounded bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 text-xs",children:"Cached"})]}),s.latency_ms&&e.jsxs("span",{className:"text-xs text-slate-500",children:["Generated in ",Number(s.latency_ms).toFixed(0),"ms"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-xl p-6 border border-purple-200 dark:border-purple-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx(Qd,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Key Highlights"}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Generated: ",new Date(s.generated_at).toLocaleString()]})]})]}),e.jsx("div",{className:"space-y-3",children:s.insights.highlights&&s.insights.highlights.length>0?s.insights.highlights.map((H,I)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsx("div",{className:"w-6 h-6 flex-shrink-0 flex items-center justify-center rounded-full bg-purple-100 text-purple-600 dark:bg-purple-900/50 dark:text-purple-400 text-xs font-bold",children:I+1}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:H})]},I)):e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center py-4",children:"No highlights available. Ensure analytics data is populated."})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3",children:"Executive Summary"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed",children:s.insights.summary||"No summary available."})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Action Recommendations"}),e.jsx("div",{className:"space-y-3",children:s.insights.recommendations&&s.insights.recommendations.length>0?s.insights.recommendations.map((H,I)=>{const L={high:"border-red-200 bg-red-50 dark:border-red-700 dark:bg-red-900/20",medium:"border-amber-200 bg-amber-50 dark:border-amber-700 dark:bg-amber-900/20",low:"border-green-200 bg-green-50 dark:border-green-700 dark:bg-green-900/20"},M={high:"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-400",medium:"bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-400",low:"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-400"};return e.jsxs("div",{className:`p-4 rounded-lg border ${L[H.priority]||L.low}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded ${M[H.priority]||M.low}`,children:H.priority?.toUpperCase()||"INFO"}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:H.area?.replace(/_/g," ")||"General"})]}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:H.action})]},I)}):e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center py-4",children:"No recommendations at this time. All metrics appear to be within normal ranges."})})]}),s.supporting_metrics&&e.jsxs("details",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("summary",{className:"p-4 cursor-pointer text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-xl",children:"View Supporting Data"}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx("pre",{className:"text-xs text-slate-600 dark:text-slate-400 bg-slate-50 dark:bg-slate-900 p-3 rounded-lg overflow-auto max-h-64",children:JSON.stringify(s.supporting_metrics,null,2)})})]})]}):e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:e.jsx(Eue,{title:"AI Insights Unavailable",description:"Unable to generate insights. This could be because no analytics data is available or the AI service is not configured.",icon:e.jsx(Qd,{className:"w-8 h-8 text-slate-400"}),action:{label:"Generate Insights",onClick:A}})})]})]})},ci=it.AUTH_SERVICE.BASE_URL;class Due{constructor(){this.cache=new Map,this.cacheExpiry=300*1e3}async getCurrentUserProfile(){const r=JSON.parse(localStorage.getItem("user_data")||"{}");return!r||Object.keys(r).length===0?{id:1,name:"Admin User",email:"admin@gsm.gov.ph",role:"admin",department:"IT Department",phone:"+63 123 456 7890",avatar:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}:r}async updateUserProfile(r){try{const s=localStorage.getItem("auth_token"),a=JSON.parse(localStorage.getItem("user_data")||"{}"),n=a.id;if(!n)throw new Error("User ID not found");const i={first_name:r.first_name,last_name:r.last_name,middle_name:r.middle_name,mobile:r.mobile,address:r.address};Object.keys(i).forEach(u=>{(i[u]===void 0||i[u]===null||i[u]==="")&&delete i[u]});const l=await fetch(`${ci}/api/users/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok){const u=await l.json();throw new Error(u.message||`HTTP error! status: ${l.status}`)}const c=await l.json();if(c.success){const u={...a,...c.data,name:`${c.data.first_name||""} ${c.data.last_name||""}`.trim()||a.name,phone:c.data.mobile||a.phone};return localStorage.setItem("user_data",JSON.stringify(u)),this.cache.set("userProfile",u),{success:!0,message:"Profile updated successfully",data:u}}else throw new Error(c.message||"Failed to update profile")}catch(s){throw console.error("Error updating user profile:",s),s}}async changePassword(r){try{const s=localStorage.getItem("auth_token"),a=await fetch(`${ci}/api/change-password`,{method:"POST",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();if(n.success)return n.data;throw new Error(n.message||"Failed to change password")}catch(s){throw console.warn("Password change API not available"),s}}async getNotificationPreferences(){const r=localStorage.getItem("notification_preferences");if(r)return JSON.parse(r);try{const a=localStorage.getItem("auth_token"),n=await fetch(`${ci}/api/user/notifications`,{method:"GET",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"}});if(n.ok){const i=await n.json();if(i.success)return localStorage.setItem("notification_preferences",JSON.stringify(i.data)),i.data}}catch{}const s={email_notifications:!0,sms_alerts:!1,push_notifications:!0,weekly_reports:!0,system_updates:!0};return localStorage.setItem("notification_preferences",JSON.stringify(s)),s}async updateNotificationPreferences(r){try{const s=localStorage.getItem("auth_token"),a=await fetch(`${ci}/api/user/notifications`,{method:"PUT",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});if(a.ok){const n=await a.json();if(n.success)return localStorage.setItem("notification_preferences",JSON.stringify(r)),n.data}}catch{console.warn("Notification preferences API not available, using localStorage fallback")}return localStorage.setItem("notification_preferences",JSON.stringify(r)),{message:"Notification preferences updated successfully (local storage)"}}async getSystemSettings(){const r=localStorage.getItem("system_settings");if(r)return JSON.parse(r);try{const a=localStorage.getItem("auth_token"),n=await fetch(`${ci}/api/admin/settings`,{method:"GET",headers:{Authorization:`Bearer ${a}`,Accept:"application/json","Content-Type":"application/json"}});if(n.ok){const i=await n.json();if(i.success)return localStorage.setItem("system_settings",JSON.stringify(i.data)),i.data}}catch{}const s={theme:"light",language:"en",timezone:"Asia/Manila",date_format:"MM/DD/YYYY",time_format:"12h",items_per_page:25,auto_logout:30,session_timeout:60};return localStorage.setItem("system_settings",JSON.stringify(s)),s}async updateSystemSettings(r){try{const s=localStorage.getItem("auth_token"),a=await fetch(`${ci}/api/admin/settings`,{method:"PUT",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});if(a.ok){const n=await a.json();if(n.success)return localStorage.setItem("system_settings",JSON.stringify(r)),n.data}}catch{console.warn("System settings API not available, using localStorage fallback")}return localStorage.setItem("system_settings",JSON.stringify(r)),{message:"System settings updated successfully (local storage)"}}async getAdminStats(){try{const r=localStorage.getItem("auth_token"),s=await fetch(`${ci}/api/admin/stats`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(s.ok){const a=await s.json();if(a.success)return a.data}}catch{console.warn("Admin stats API not available, using fallback data")}return{total_users:1247,active_sessions:23,total_requests:15678,error_rate:"0.2%"}}async exportSystemData(r,s={}){try{const u=localStorage.getItem("auth_token"),h=await fetch(`${ci}/api/admin/export/${r}`,{method:"POST",headers:{Authorization:`Bearer ${u}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)});if(h.ok){const m=await h.json();if(m.success&&m.data){const x=this.convertToCSV(m.data),g=new Blob([x],{type:"text/csv"}),b=window.URL.createObjectURL(g),y=document.createElement("a");return y.href=b,y.download=`export_${r}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(y),y.click(),window.URL.revokeObjectURL(b),document.body.removeChild(y),!0}}}catch{console.warn(`Export ${r} API not available, using fallback data`)}const a=this.generateMockExportData(r),n=this.convertToCSV(a),i=new Blob([n],{type:"text/csv"}),l=window.URL.createObjectURL(i),c=document.createElement("a");return c.href=l,c.download=`export_${r}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c),!0}generateMockExportData(r){return r==="users"?[{id:1,name:"John Doe",email:"john@example.com",role:"Admin",created_at:"2024-01-15"},{id:2,name:"Jane Smith",email:"jane@example.com",role:"User",created_at:"2024-01-16"},{id:3,name:"Bob Johnson",email:"bob@example.com",role:"Moderator",created_at:"2024-01-17"}]:r==="applications"?[{id:1,student_name:"Alice Brown",program:"Academic Excellence",status:"Approved",submitted_at:"2024-01-15"},{id:2,student_name:"Charlie Wilson",program:"Financial Aid",status:"Pending",submitted_at:"2024-01-16"},{id:3,student_name:"Diana Lee",program:"Sports Scholarship",status:"Under Review",submitted_at:"2024-01-17"}]:[]}convertToCSV(r){if(r.length===0)return"";const s=Object.keys(r[0]),a=[s.join(",")];for(const n of r){const i=s.map(l=>{const c=n[l];return typeof c=="string"&&c.includes(",")?`"${c}"`:c});a.push(i.join(","))}return a.join(`
`)}async clearSystemCache(){return this.cache.clear(),localStorage.removeItem("notification_preferences"),localStorage.removeItem("system_settings"),{message:"Local cache cleared successfully"}}async getSystemHealth(){try{const r=localStorage.getItem("auth_token"),s=await fetch(`${ci}/api/admin/health`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:"application/json","Content-Type":"application/json"}});if(s.ok){const a=await s.json();if(a.success)return a.data}}catch{console.warn("System health API not available, using fallback data")}return{uptime:"99.9%",memory_usage:"45%",cpu_usage:"23%",disk_usage:"67%",database_status:"Connected",last_updated:new Date().toISOString()}}}const va=new Due;function y3(){const{showSuccess:t,showError:r}=Zt(),{currentUser:s,updateCurrentUser:a}=Lt(),{t:n,language:i,changeLanguage:l}=PE(),[c,u]=f.useState(!0),[h,m]=f.useState(!1),[x,g]=f.useState("profile"),[b,y]=f.useState({first_name:"",last_name:"",middle_name:"",email:"",mobile:"",address:""}),[w,N]=f.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[_,S]=f.useState({current:!1,new:!1,confirm:!1}),[k,v]=f.useState({score:0,feedback:[]}),[A,E]=f.useState({email_notifications:!0,sms_alerts:!1,push_notifications:!0,weekly_reports:!0,system_updates:!0}),[T,F]=f.useState({theme:"light",language:"en",timezone:"Asia/Manila",date_format:"MM/DD/YYYY",time_format:"12h",items_per_page:25,auto_logout:30,session_timeout:60}),[R,D]=f.useState(null),[$,B]=f.useState(null),[H,I]=f.useState(!1),[L,M]=f.useState(null);f.useEffect(()=>{Z(),q()},[]);const q=async()=>{try{const[ne,pe]=await Promise.all([va.getSystemHealth(),va.getAdminStats()]);D(ne),B(pe)}catch(ne){console.error("Error loading admin data:",ne)}};f.useEffect(()=>{(()=>{const pe=localStorage.getItem("system_settings");if(pe)try{const V=JSON.parse(pe);console.log("Loaded system settings from localStorage:",V),F(V),G(V);return}catch(V){console.error("Error parsing system settings:",V)}const Xe=localStorage.getItem("theme"),ee=localStorage.getItem("language"),he=localStorage.getItem("timezone"),W=localStorage.getItem("date_format"),ye=localStorage.getItem("time_format"),P=localStorage.getItem("items_per_page");if(Xe||ee||he||W||ye||P){const V={theme:Xe||"light",language:ee||"en",timezone:he||"Asia/Manila",date_format:W||"MM/DD/YYYY",time_format:ye||"12h",items_per_page:P?parseInt(P):25,auto_logout:30,session_timeout:60};console.log("Loaded individual settings from localStorage:",V),F(V),G(V)}})()},[]);const Z=async()=>{try{u(!0);const ne=await va.getCurrentUserProfile();y({first_name:ne.first_name||ne.name?.split(" ")[0]||"",last_name:ne.last_name||ne.name?.split(" ").slice(-1)[0]||"",middle_name:ne.middle_name||"",email:ne.email||"",mobile:ne.mobile||ne.phone||"",address:ne.address||""});const pe=await va.getNotificationPreferences();E(pe);const Xe=await va.getSystemSettings();F(Xe),G(Xe);try{const ee=await va.getSystemHealth();D(ee)}catch(ee){console.warn("Could not load system health:",ee)}try{const ee=await va.getAdminStats();B(ee)}catch(ee){console.warn("Could not load admin stats:",ee)}}catch(ne){console.error("Error loading settings:",ne),r("Failed to load settings")}finally{u(!1)}},G=ne=>{try{if(console.log("Applying system settings:",ne),!ne||typeof ne!="object"){console.warn("Invalid settings object:",ne);return}if(ne.theme==="dark")document.documentElement.classList.add("dark");else if(ne.theme==="light")document.documentElement.classList.remove("dark");else if(ne.theme==="auto"){const pe=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",pe)}localStorage.setItem("theme",ne.theme||"light"),localStorage.setItem("language",ne.language||"en"),localStorage.setItem("timezone",ne.timezone||"Asia/Manila"),localStorage.setItem("date_format",ne.date_format||"MM/DD/YYYY"),localStorage.setItem("time_format",ne.time_format||"12h"),localStorage.setItem("items_per_page",(ne.items_per_page||25).toString())}catch(pe){console.error("Error applying system settings:",pe)}},de=ne=>{const pe=[];let Xe=0;return ne.length>=8?(pe.push({text:"At least 8 characters",valid:!0}),Xe+=20):pe.push({text:"At least 8 characters",valid:!1}),/[a-z]/.test(ne)?(pe.push({text:"One lowercase letter",valid:!0}),Xe+=20):pe.push({text:"One lowercase letter",valid:!1}),/[A-Z]/.test(ne)?(pe.push({text:"One uppercase letter",valid:!0}),Xe+=20):pe.push({text:"One uppercase letter",valid:!1}),/\d/.test(ne)?(pe.push({text:"One number",valid:!0}),Xe+=20):pe.push({text:"One number",valid:!1}),/[!@#$%^&*(),.?":{}|<>]/.test(ne)?(pe.push({text:"One special character",valid:!0}),Xe+=20):pe.push({text:"One special character",valid:!1}),{score:Xe,feedback:pe}},X=(ne,pe)=>{y(Xe=>({...Xe,[ne]:pe}))},z=(ne,pe)=>{if(N(Xe=>({...Xe,[ne]:pe})),ne==="newPassword"){const Xe=de(pe);v(Xe)}},Ie=ne=>{S(pe=>({...pe,[ne]:!pe[ne]}))},ie=(ne,pe)=>{E(Xe=>({...Xe,[ne]:pe}))},Pe=(ne,pe)=>{console.log(`System setting changed: ${ne} = ${pe}`);const Xe={...T,[ne]:pe};if(F(Xe),ne==="theme"){if(console.log(`Applying theme: ${pe}`),pe==="dark")document.documentElement.classList.add("dark");else if(pe==="light")document.documentElement.classList.remove("dark");else if(pe==="auto"){const he=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",he)}t(`Theme changed to ${pe}`)}ne==="language"&&(console.log(`Applying language: ${pe}`),l(pe),t(`Language changed to ${pe==="en"?"English":"Filipino"}`)),localStorage.setItem(ne,pe);const ee=JSON.parse(localStorage.getItem("system_settings")||"{}");ee[ne]=pe,localStorage.setItem("system_settings",JSON.stringify(ee)),console.log(`Stored ${ne} = ${pe} in localStorage`)},re=()=>{M(()=>async()=>{try{m(!0),console.log("Saving profile:",b);const ne=await va.updateUserProfile(b);console.log("Profile update result:",ne),ne.success&&ne.data&&(a({first_name:b.first_name,last_name:b.last_name,middle_name:b.middle_name,email:b.email,mobile:b.mobile,address:b.address}),console.log("Profile updated in auth store")),t("Profile updated successfully")}catch(ne){console.error("Profile update error:",ne),r("Failed to update profile")}finally{m(!1)}}),I(!0)},Ee=async()=>{L&&await L(),I(!1),M(null)},ke=()=>{I(!1),M(null)},xe=async()=>{if(w.newPassword!==w.confirmPassword){r("New passwords do not match");return}if(k.score<100){r("Please ensure all password requirements are met");return}try{m(!0),await va.changePassword(w),t("Password changed successfully"),N({currentPassword:"",newPassword:"",confirmPassword:""}),v({score:0,feedback:[]})}catch{r("Failed to change password")}finally{m(!1)}},Q=async()=>{try{m(!0),await va.updateNotificationPreferences(A),t("Notification preferences updated")}catch{r("Failed to update notification preferences")}finally{m(!1)}},et=()=>{M(()=>async()=>{try{if(m(!0),await va.updateSystemSettings(T),T.theme==="dark")document.documentElement.classList.add("dark");else if(T.theme==="light")document.documentElement.classList.remove("dark");else if(T.theme==="auto"){const ne=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",ne)}localStorage.setItem("theme",T.theme),localStorage.setItem("language",T.language),localStorage.setItem("timezone",T.timezone),localStorage.setItem("date_format",T.date_format),localStorage.setItem("time_format",T.time_format),localStorage.setItem("items_per_page",T.items_per_page.toString()),t("System settings updated and applied")}catch{r("Failed to update system settings")}finally{m(!1)}}),I(!0)},ve=async ne=>{try{await va.exportSystemData(ne),t("Data exported successfully")}catch{r("Failed to export data")}},Ze=async()=>{try{await va.clearSystemCache(),t("System cache cleared"),q()}catch{r("Failed to clear cache")}},Qe=async()=>{try{await q(),t("System data refreshed")}catch{r("Failed to refresh system data")}},ht=async()=>{try{const ne={timestamp:new Date().toISOString(),system_settings:T,user_profile:b,notification_preferences:notificationPrefs,system_health:R,admin_stats:$},pe=new Blob([JSON.stringify(ne,null,2)],{type:"application/json"}),Xe=window.URL.createObjectURL(pe),ee=document.createElement("a");ee.href=Xe,ee.download=`system_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ee),ee.click(),window.URL.revokeObjectURL(Xe),document.body.removeChild(ee),t("System backup created successfully")}catch{r("Failed to create system backup")}},K=[{id:"profile",label:n("Profile"),icon:Jt},{id:"security",label:n("Security"),icon:kn},{id:"notifications",label:n("Notifications"),icon:ki},{id:"system",label:n("System"),icon:na},{id:"admin",label:n("Admin Tools"),icon:Ir}];return c?e.jsx(bg,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 sm:p-6 shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-800 dark:text-white",children:"Settings"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-600 dark:text-slate-400 mt-1",children:"Manage your profile, account, notifications, and system preferences."})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:e.jsx("nav",{className:"flex flex-col sm:flex-row sm:space-x-8 px-4 sm:px-6 overflow-x-auto",children:K.map(ne=>{const pe=ne.icon;return e.jsxs("button",{onClick:()=>g(ne.id),className:`py-3 sm:py-4 px-2 sm:px-1 border-b-2 font-medium text-xs sm:text-sm flex items-center justify-center sm:justify-start space-x-2 whitespace-nowrap min-w-0 ${x===ne.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"}`,children:[e.jsx(pe,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:ne.label})]},ne.id)})})}),e.jsxs("div",{className:"p-4 sm:p-6",children:[x==="profile"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:b.first_name,onChange:ne=>X("first_name",ne.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:b.last_name,onChange:ne=>X("last_name",ne.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Middle Name"}),e.jsx("input",{type:"text",value:b.middle_name,onChange:ne=>X("middle_name",ne.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:b.email,onChange:ne=>X("email",ne.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mobile"}),e.jsx("input",{type:"tel",value:b.mobile,onChange:ne=>X("mobile",ne.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Address"}),e.jsx("textarea",{value:b.address,onChange:ne=>X("address",ne.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:re,disabled:h,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 flex items-center space-x-2",children:[e.jsx(lc,{className:"w-4 h-4"}),e.jsx("span",{children:h?"Saving...":"Save Profile"})]})})]}),x==="security"&&e.jsx("div",{className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"max-w-full sm:max-w-md",children:[e.jsx("h3",{className:"text-base sm:text-lg font-medium text-slate-900 dark:text-white mb-4",children:"Change Password"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:_.current?"text":"password",value:w.currentPassword,onChange:ne=>z("currentPassword",ne.target.value),className:"w-full px-3 py-2 pr-10 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Enter current password"}),e.jsx("button",{type:"button",onClick:()=>Ie("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:_.current?e.jsx(Fs,{className:"h-4 w-4 text-slate-400"}):e.jsx(Ft,{className:"h-4 w-4 text-slate-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative flex",children:[e.jsxs("div",{className:"flex flex-col justify-center mr-2",children:[e.jsx("div",{className:`w-1 h-8 rounded-full transition-all duration-300 ${w.newPassword.length===0?"bg-slate-300 dark:bg-slate-600":k.score<40?"bg-red-500":k.score<70?"bg-yellow-500":"bg-green-500"}`}),w.newPassword.length>0&&e.jsx("div",{className:"text-xs text-center mt-1 font-medium text-slate-600 dark:text-slate-400",children:k.score<40?"Weak":k.score<70?"Medium":"Strong"})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:_.new?"text":"password",value:w.newPassword,onChange:ne=>z("newPassword",ne.target.value),className:"w-full px-3 py-2 pr-10 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Enter new password"}),e.jsx("button",{type:"button",onClick:()=>Ie("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:_.new?e.jsx(Fs,{className:"h-4 w-4 text-slate-400"}):e.jsx(Ft,{className:"h-4 w-4 text-slate-400"})})]})]}),w.newPassword&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"flex-1 bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${k.score<40?"bg-red-500":k.score<70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${k.score}%`}})}),e.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[k.score,"%"]})]}),e.jsx("div",{className:"space-y-1",children:k.feedback.map((ne,pe)=>e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[ne.valid?e.jsx(Le,{className:"w-4 h-4 text-green-500"}):e.jsx(bt,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:ne.valid?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:ne.text})]},pe))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative flex",children:[e.jsxs("div",{className:"flex flex-col justify-center mr-2",children:[e.jsx("div",{className:`w-1 h-8 rounded-full transition-all duration-300 ${w.confirmPassword.length===0?"bg-slate-300 dark:bg-slate-600":w.newPassword===w.confirmPassword&&w.confirmPassword.length>0?"bg-green-500":"bg-red-500"}`}),w.confirmPassword.length>0&&e.jsx("div",{className:"text-xs text-center mt-1 font-medium text-slate-600 dark:text-slate-400",children:w.newPassword===w.confirmPassword?"Match":"No Match"})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:_.confirm?"text":"password",value:w.confirmPassword,onChange:ne=>z("confirmPassword",ne.target.value),className:"w-full px-3 py-2 pr-10 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Confirm new password"}),e.jsx("button",{type:"button",onClick:()=>Ie("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:_.confirm?e.jsx(Fs,{className:"h-4 w-4 text-slate-400"}):e.jsx(Ft,{className:"h-4 w-4 text-slate-400"})})]})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs("button",{onClick:xe,disabled:h||k.score<100||w.newPassword!==w.confirmPassword,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(kn,{className:"w-4 h-4"}),e.jsx("span",{children:h?"Changing...":"Change Password"})]})})]})}),x==="notifications"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notification Preferences"}),Object.entries(A).map(([ne,pe])=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-slate-900 dark:text-white capitalize",children:ne.replace(/_/g," ")}),e.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[ne==="email_notifications"&&"Receive notifications via email",ne==="sms_alerts"&&"Receive SMS alerts for important updates",ne==="push_notifications"&&"Receive push notifications in browser",ne==="weekly_reports"&&"Receive weekly summary reports",ne==="system_updates"&&"Receive system maintenance notifications"]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:pe,onChange:Xe=>ie(ne,Xe.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 dark:peer-focus:ring-orange-800 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-orange-500"})]})]},ne))]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:Q,disabled:h,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 flex items-center space-x-2",children:[e.jsx(lc,{className:"w-4 h-4"}),e.jsx("span",{children:h?"Saving...":"Save Preferences"})]})})]}),x==="system"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:n("Theme")}),e.jsxs("select",{value:T.theme,onChange:ne=>Pe("theme",ne.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"light",children:n("Light")}),e.jsx("option",{value:"dark",children:n("Dark")}),e.jsx("option",{value:"auto",children:n("Auto")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:n("Language")}),e.jsxs("select",{value:T.language,onChange:ne=>Pe("language",ne.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"en",children:n("English")}),e.jsx("option",{value:"fil",children:n("Filipino")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:n("Timezone")}),e.jsxs("select",{value:T.timezone,onChange:ne=>Pe("timezone",ne.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"Asia/Manila",children:"Asia/Manila"}),e.jsx("option",{value:"UTC",children:"UTC"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:n("Date Format")}),e.jsxs("select",{value:T.date_format,onChange:ne=>Pe("date_format",ne.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:n("Time Format")}),e.jsxs("select",{value:T.time_format,onChange:ne=>Pe("time_format",ne.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:"12h",children:n("12 Hour")}),e.jsx("option",{value:"24h",children:n("24 Hour")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:n("Items Per Page")}),e.jsxs("select",{value:T.items_per_page,onChange:ne=>Pe("items_per_page",parseInt(ne.target.value)),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-slate-100 dark:bg-slate-800 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Settings (Debug)"}),e.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400 space-y-1",children:[e.jsxs("div",{children:["Theme: ",T.theme]}),e.jsxs("div",{children:["Language: ",T.language]}),e.jsxs("div",{children:["Timezone: ",T.timezone]}),e.jsxs("div",{children:["Date Format: ",T.date_format]}),e.jsxs("div",{children:["Time Format: ",T.time_format]}),e.jsxs("div",{children:["Items Per Page: ",T.items_per_page]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-300 dark:border-slate-600",children:[e.jsx("div",{children:e.jsx("strong",{children:"Translation Status:"})}),e.jsxs("div",{children:["Has Translations: ",Ea.getStatus().hasTranslations?"Yes":"No"]}),e.jsxs("div",{children:["Translation Count: ",Ea.getStatus().translationCount]}),e.jsxs("div",{children:["Current Language Translations: ",Ea.getStatus().currentLanguageTranslations]}),e.jsxs("div",{children:["Using Fallback: ",Ea.getStatus().isUsingFallback?"Yes":"No"]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:et,disabled:h,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 flex items-center space-x-2",children:[e.jsx(lc,{className:"w-4 h-4"}),e.jsx("span",{children:n(h?"Saving...":"Save Settings")})]})})]}),x==="admin"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[R&&e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-slate-900 dark:text-white flex items-center",children:[e.jsx(q9,{className:"w-5 h-5 mr-2"}),"System Health"]}),e.jsx("button",{onClick:Qe,className:"p-2 text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",title:"Refresh system health",children:e.jsx(Ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:R.uptime||"99.9%"}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Uptime"}),e.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"99.9%"}})})]}),e.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:R.memory_usage||"45%"}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Memory Usage"}),e.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"45%"}})})]}),e.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:R.cpu_usage||"23%"}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"CPU Usage"}),e.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"23%"}})})]})]}),e.jsxs("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400 text-center",children:["Last updated: ",R.last_updated?new Date(R.last_updated).toLocaleString():"Never"]})]}),$&&e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-slate-900 dark:text-white flex items-center",children:[e.jsx(da,{className:"w-5 h-5 mr-2"}),"System Statistics"]}),e.jsx("button",{onClick:Qe,className:"p-2 text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 transition-colors",title:"Refresh statistics",children:e.jsx(Ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:$.total_users||"0"}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Users"}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Registered"})]}),e.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:$.active_sessions||"0"}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Active Sessions"}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Currently online"})]}),e.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:$.total_requests||"0"}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"API Requests"}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Total processed"})]}),e.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:$.error_rate||"0%"}),e.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Error Rate"}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"System errors"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("button",{onClick:()=>ve("users"),className:"p-3 sm:p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Ht,{className:"w-6 h-6 text-blue-500"}),e.jsx(sr,{className:"w-4 h-4 text-slate-400 group-hover:text-blue-500 transition-colors"})]}),e.jsx("div",{className:"font-medium text-sm sm:text-base text-slate-900 dark:text-white",children:"Export Users"}),e.jsx("div",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Download user data as CSV"})]}),e.jsxs("button",{onClick:()=>ve("applications"),className:"p-3 sm:p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(ut,{className:"w-6 h-6 text-green-500"}),e.jsx(sr,{className:"w-4 h-4 text-slate-400 group-hover:text-green-500 transition-colors"})]}),e.jsx("div",{className:"font-medium text-sm sm:text-base text-slate-900 dark:text-white",children:"Export Applications"}),e.jsx("div",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Download application data"})]}),e.jsxs("button",{onClick:Ze,className:"p-3 sm:p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Ot,{className:"w-6 h-6 text-orange-500"}),e.jsx(xF,{className:"w-4 h-4 text-slate-400 group-hover:text-orange-500 transition-colors"})]}),e.jsx("div",{className:"font-medium text-sm sm:text-base text-slate-900 dark:text-white",children:"Clear Cache"}),e.jsx("div",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Clear system cache"})]}),e.jsxs("button",{onClick:Qe,className:"p-3 sm:p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(ln,{className:"w-6 h-6 text-purple-500"}),e.jsx(Ot,{className:"w-4 h-4 text-slate-400 group-hover:text-purple-500 transition-colors"})]}),e.jsx("div",{className:"font-medium text-sm sm:text-base text-slate-900 dark:text-white",children:"Refresh Data"}),e.jsx("div",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Update system statistics"})]}),e.jsxs("button",{onClick:ht,className:"p-3 sm:p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Sx,{className:"w-6 h-6 text-indigo-500"}),e.jsx(sr,{className:"w-4 h-4 text-slate-400 group-hover:text-indigo-500 transition-colors"})]}),e.jsx("div",{className:"font-medium text-sm sm:text-base text-slate-900 dark:text-white",children:"System Backup"}),e.jsx("div",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Create system backup"})]}),e.jsxs("button",{onClick:()=>window.open("/admin/logs","_blank"),className:"p-3 sm:p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-left group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(ut,{className:"w-6 h-6 text-red-500"}),e.jsx(Nt,{className:"w-4 h-4 text-slate-400 group-hover:text-red-500 transition-colors"})]}),e.jsx("div",{className:"font-medium text-sm sm:text-base text-slate-900 dark:text-white",children:"View Logs"}),e.jsx("div",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:"Access system logs"})]})]})]})]})]}),H&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(bt,{className:"w-6 h-6 text-orange-500 mr-3"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:n("Confirm Settings Update")})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:n("Are you sure you want to save these changes? This will update your settings in the database and apply them immediately.")}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:ke,disabled:h,className:"px-4 py-2 text-slate-600 dark:text-slate-400 bg-slate-100 dark:bg-slate-700 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors disabled:opacity-50",children:n("Cancel")}),e.jsx("button",{onClick:Ee,disabled:h,className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:opacity-50 flex items-center space-x-2",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:n("Saving...")})]}):e.jsxs(e.Fragment,{children:[e.jsx(lc,{className:"w-4 h-4"}),e.jsx("span",{children:n("Save Changes")})]})})]})]})})]})}function Rue(){const{showError:t}=Zt(),[r,s]=f.useState(null),[a,n]=f.useState(!0),[i,l]=f.useState("");f.useEffect(()=>{c()},[]);const c=async()=>{try{n(!0),l("");const h=await ot.getInterviewerStatistics();s(h)}catch(h){console.error("Error fetching interviewer statistics:",h),l("Failed to load dashboard statistics"),t("Failed to load dashboard statistics")}finally{n(!1)}};if(a)return e.jsx(Bce,{});if(i)return e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6 text-center",children:[e.jsx(bt,{className:"w-8 h-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:i}),e.jsx("button",{onClick:c,className:"mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Retry"})]});if(!r)return e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-12 text-center",children:[e.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Statistics Available"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Unable to load dashboard statistics."})]});const u=h=>h?h.toFixed(1):"N/A";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Interviewer Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Overview of your interview activities and performance"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Interviews"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r.total_interviews})]}),e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(Ht,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending Interviews"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:r.pending_interviews})]}),e.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:e.jsx(Nt,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completed This Week"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:r.completed_this_week})]}),e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(Le,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completed This Month"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:r.completed_this_month})]}),e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:e.jsx(zt,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Vr,{className:"w-5 h-5 text-blue-500 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Average Evaluation Scores"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Academic Motivation"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${r.average_scores.academic_motivation/10*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-8",children:u(r.average_scores.academic_motivation)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Leadership Involvement"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${r.average_scores.leadership_involvement/10*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-8",children:u(r.average_scores.leadership_involvement)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Financial Need"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${r.average_scores.financial_need/10*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-8",children:u(r.average_scores.financial_need)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Character Values"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${r.average_scores.character_values/10*100}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white w-8",children:u(r.average_scores.character_values)})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(zt,{className:"w-5 h-5 text-orange-500 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Upcoming Interviews"})]}),e.jsx("div",{className:"space-y-3",children:r.upcoming_interviews&&r.upcoming_interviews.length>0?r.upcoming_interviews.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[h.application?.student?.first_name," ",h.application?.student?.last_name]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(h.interview_date).toLocaleDateString()," at ",h.interview_time]})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${h.interview_type==="online"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}`,children:h.interview_type})]},h.id)):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No upcoming interviews"})})]})]})]})}function Oue({isOpen:t,onClose:r,interview:s,onEvaluationSubmitted:a}){const{showSuccess:n,showError:i}=Zt(),[l,c]=f.useState(!1),[u,h]=f.useState({academic_motivation_score:"",leadership_involvement_score:"",financial_need_score:"",character_values_score:"",overall_recommendation:"",remarks:""}),[m,x]=f.useState({}),g=(S,k)=>{h(v=>({...v,[S]:k})),m[S]&&x(v=>({...v,[S]:""}))},b=()=>{const S={};return(!u.academic_motivation_score||u.academic_motivation_score<1||u.academic_motivation_score>5)&&(S.academic_motivation_score="Please enter a score between 1 and 5"),(!u.leadership_involvement_score||u.leadership_involvement_score<1||u.leadership_involvement_score>5)&&(S.leadership_involvement_score="Please enter a score between 1 and 5"),(!u.financial_need_score||u.financial_need_score<1||u.financial_need_score>5)&&(S.financial_need_score="Please enter a score between 1 and 5"),(!u.character_values_score||u.character_values_score<1||u.character_values_score>5)&&(S.character_values_score="Please enter a score between 1 and 5"),u.overall_recommendation||(S.overall_recommendation="Please select an overall recommendation"),x(S),Object.keys(S).length===0},y=async S=>{if(S.preventDefault(),!!b())try{c(!0),await ot.submitInterviewEvaluation(s.id,{academic_motivation_score:parseInt(u.academic_motivation_score),leadership_involvement_score:parseInt(u.leadership_involvement_score),financial_need_score:parseInt(u.financial_need_score),character_values_score:parseInt(u.character_values_score),overall_recommendation:u.overall_recommendation,remarks:u.remarks}),n("Interview evaluation submitted successfully!"),a(),r()}catch(k){console.error("Error submitting evaluation:",k),i("Failed to submit evaluation. Please try again.")}finally{c(!1)}},w=(S,k,v,A)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[v,e.jsx("span",{children:k})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"number",min:"1",max:"5",value:u[S],onChange:E=>g(S,E.target.value),className:`w-20 px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent ${m[S]?"border-red-500":"border-gray-300 dark:border-slate-600"}`,placeholder:"1-5"}),e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(E=>e.jsx("button",{type:"button",onClick:()=>g(S,E),className:`w-8 h-8 rounded-full flex items-center justify-center text-sm transition-colors ${u[S]>=E?"bg-orange-500 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-500"}`,children:e.jsx(Ar,{className:"w-4 h-4"})},E))})]}),A&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:A}),m[S]&&e.jsx("p",{className:"text-xs text-red-500",children:m[S]})]});if(!t||!s)return null;const N=s.application?.student,_=s.application;return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),e.jsxs("div",{className:"relative z-10 w-full max-w-4xl bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Interview Evaluation"}),e.jsx("button",{onClick:r,className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 border border-gray-200 dark:border-slate-600",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(Jt,{className:"w-5 h-5 mr-2"}),"Student Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"}),e.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:[N?.first_name," ",N?.last_name]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Application Number:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:_?.application_number})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Scholarship Category:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:_?.category?.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Interview Date:"}),e.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:[new Date(s.interview_date).toLocaleDateString()," at ",s.interview_time]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(ut,{className:"w-5 h-5 mr-2"}),"Evaluation Criteria"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w("academic_motivation_score","Academic Motivation",e.jsx(gs,{className:"w-4 h-4"}),"Student's enthusiasm and commitment to academic excellence"),w("leadership_involvement_score","Leadership & Involvement",e.jsx(Ar,{className:"w-4 h-4"}),"Participation in school activities and leadership roles"),w("financial_need_score","Financial Need",e.jsx(cr,{className:"w-4 h-4"}),"Genuine financial need and family circumstances"),w("character_values_score","Character & Values",e.jsx(Nb,{className:"w-4 h-4"}),"Integrity, responsibility, and moral character")]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Overall Recommendation"}),e.jsxs("select",{value:u.overall_recommendation,onChange:S=>g("overall_recommendation",S.target.value),className:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent ${m.overall_recommendation?"border-red-500":"border-gray-300 dark:border-slate-600"}`,children:[e.jsx("option",{value:"",children:"Select recommendation"}),e.jsx("option",{value:"recommended",children:"Recommended"}),e.jsx("option",{value:"needs_followup",children:"For Consideration"}),e.jsx("option",{value:"not_recommended",children:"Not Recommended"})]}),m.overall_recommendation&&e.jsx("p",{className:"text-xs text-red-500",children:m.overall_recommendation})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Additional Remarks"}),e.jsx("textarea",{value:u.remarks,onChange:S=>g("remarks",S.target.value),rows:4,placeholder:"Add any additional comments or observations about the interview...",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-slate-700",children:[e.jsx("button",{type:"button",onClick:r,disabled:l,className:"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 flex items-center space-x-2 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Submitting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"h-5 w-5"}),e.jsx("span",{children:"Submit Evaluation"})]})})]})]})})]})]})}function Iue({isOpen:t,onClose:r,application:s}){const[a,n]=f.useState("personal");if(!t||!s)return null;const i=s.student,l=s.school,c=s.category,u=s.subcategory,h=[{id:"personal",label:"Personal Info",icon:Jt},{id:"academic",label:"Academic Records",icon:gs},{id:"financial",label:"Financial Info",icon:cr},{id:"documents",label:"Documents",icon:ut}],m=N=>N.file_path?N.file_path.startsWith("http")?N.file_path:`${API_CONFIG.SCHOLARSHIP_SERVICE.BASE_URL}/storage/${N.file_path}`:null,x=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Full Name:"}),e.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:[i?.first_name," ",i?.middle_name," ",i?.last_name," ",i?.extension_name]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Student ID:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.student_id_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Sex:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.sex||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Civil Status:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.civil_status||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Birth Date:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.birth_date?new Date(i.birth_date).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Nationality:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.nationality||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Contact Number:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.contact_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Email Address:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i?.email_address||"N/A"})]})]})]}),i?.addresses&&i.addresses.length>0&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(ks,{className:"w-4 h-4 mr-2"}),"Address Information"]}),e.jsx("div",{className:"space-y-3",children:i.addresses.map((N,_)=>e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white mb-1",children:[N.type," Address"]}),e.jsxs("div",{className:"text-gray-600 dark:text-gray-400",children:[N.house_number," ",N.street,", ",N.barangay,", ",N.city,", ",N.province]})]},_))})]})]}),g=()=>e.jsxs("div",{className:"space-y-6",children:[i?.current_academic_record&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Current Academic Record"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Program:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.current_academic_record.program||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Year Level:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.current_academic_record.year_level||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"General Weighted Average:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.current_academic_record.general_weighted_average||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"School:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:l?.name||"N/A"})]})]})]}),i?.academic_records&&i.academic_records.length>0&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Academic History"}),e.jsx("div",{className:"space-y-3",children:i.academic_records.map((N,_)=>e.jsx("div",{className:"border border-gray-200 dark:border-slate-600 rounded-lg p-3",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"School Year:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:N.school_year||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"GWA:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:N.general_weighted_average||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:N.status||"N/A"})]})]})},_))})]})]}),b=()=>e.jsxs("div",{className:"space-y-6",children:[i?.financial_information&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(cr,{className:"w-4 h-4 mr-2"}),"Financial Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Family Monthly Income Range:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.financial_information.family_monthly_income_range||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Number of Dependents:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.financial_information.number_of_dependents||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Father's Occupation:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.financial_information.father_occupation||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Mother's Occupation:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:i.financial_information.mother_occupation||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Application Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Requested Amount:"}),e.jsxs("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:["",s?.requested_amount?parseFloat(s.requested_amount).toLocaleString():"N/A"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Scholarship Category:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:c?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subcategory:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:u?.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Application Status:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-medium",children:s?.status||"N/A"})]})]})]}),s?.financial_need_description&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Financial Need Description"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.financial_need_description})]})]}),y=()=>e.jsx("div",{className:"space-y-6",children:s?.documents&&s.documents.length>0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx(ut,{className:"w-4 h-4 mr-2"}),"Uploaded Documents"]}),e.jsx("div",{className:"space-y-3",children:s.documents.map(N=>e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-slate-600 p-3 rounded-lg border border-gray-200 dark:border-slate-500",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ut,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:N.document_type?.name||N.file_name||"Unknown Document"}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Uploaded on ",new Date(N.created_at).toLocaleDateString()]})]})]}),m(N)&&e.jsxs("a",{href:m(N),target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:[e.jsx(Ft,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]})]},N.id))})]}):e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-8 text-center",children:[e.jsx(ut,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Documents Uploaded"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No documents have been uploaded for this application."})]})}),w=()=>{switch(a){case"personal":return x();case"academic":return g();case"financial":return b();case"documents":return y();default:return x()}};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r}),e.jsxs("div",{className:"relative z-10 w-full max-w-5xl bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Application Details"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[i?.first_name," ",i?.last_name," - ",s?.application_number]})]}),e.jsx("button",{onClick:r,className:"p-1 rounded-lg text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:h.map(N=>{const _=N.icon;return e.jsxs("button",{onClick:()=>n(N.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a===N.id?"border-orange-500 text-orange-600 dark:text-orange-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-slate-600"}`,children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{children:N.label})]},N.id)})})}),e.jsx("div",{className:"p-6",children:w()}),e.jsx("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 dark:border-slate-700",children:e.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Close"})})]})]})}function fb({filter:t="all"}){const{showError:r}=Zt(),[s,a]=f.useState([]),[n,i]=f.useState(!0),[l,c]=f.useState(""),[u,h]=f.useState(""),[m,x]=f.useState({status:t,dateFrom:"",dateTo:""}),[g,b]=f.useState("grid"),[y,w]=f.useState("interview_date"),[N,_]=f.useState("asc"),[S,k]=f.useState(!1),[v,A]=f.useState(null),[E,T]=f.useState(!1),[F,R]=f.useState(!1);f.useEffect(()=>{D()},[m,y,N]),f.useEffect(()=>{x(z=>({...z,status:t}))},[t]);const D=async()=>{try{i(!0),c("");const z=await ot.getMyInterviews({status:m.status==="all"?void 0:m.status,date_from:m.dateFrom||void 0,date_to:m.dateTo||void 0,search:u||void 0,sort_by:y,sort_order:N,per_page:50});a(z.data||[])}catch(z){console.error("Error fetching interviews:",z),c("Failed to load interviews"),r("Failed to load interviews")}finally{i(!1)}},$=(z,Ie)=>{x(ie=>({...ie,[z]:Ie}))},B=()=>{x({status:"all",dateFrom:"",dateTo:""}),h("")},H=()=>m.status!=="all"||m.dateFrom!==""||m.dateTo!==""||u!=="",I=z=>{A(z),R(!0)},L=z=>{A(z),T(!0)},M=z=>{z.meeting_link?window.open(z.meeting_link,"_blank","noopener,noreferrer"):r("Meeting link not available for this interview.")},q=()=>{D()},Z=z=>{switch(z){case"scheduled":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},G=z=>{switch(z){case"scheduled":return e.jsx(Nt,{className:"w-4 h-4"});case"completed":return e.jsx(Le,{className:"w-4 h-4"});case"cancelled":return e.jsx(jt,{className:"w-4 h-4"});default:return e.jsx(Nt,{className:"w-4 h-4"})}},de=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),X=z=>new Date(`2000-01-01T${z}`).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return n?e.jsx(bg,{}):l?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6 text-center",children:[e.jsx(Wt,{className:"w-8 h-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:l}),e.jsx("button",{onClick:D,className:"mt-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Retry"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"My Interviews"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your assigned interview schedules"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-64",children:[e.jsx(Zr,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by student name or application number...",value:u,onChange:z=>h(z.target.value),onKeyPress:z=>z.key==="Enter"&&D(),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("select",{value:m.status,onChange:z=>$("status",z.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>k(!S),className:`flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ${S?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300":"bg-white dark:bg-slate-700 border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:[e.jsx(Fa,{className:"w-4 h-4"}),e.jsx("span",{children:"Advanced"})]}),e.jsxs("div",{className:"flex items-center space-x-1 border border-gray-300 dark:border-slate-600 rounded-lg",children:[e.jsx("button",{onClick:()=>b("grid"),className:`p-2 rounded-l-lg transition-colors ${g==="grid"?"bg-orange-500 text-white":"bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:e.jsx(No,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b("list"),className:`p-2 rounded-r-lg transition-colors ${g==="list"?"bg-orange-500 text-white":"bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600"}`,children:e.jsx(ko,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:D,className:"p-2 rounded-lg bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors",title:"Refresh",children:e.jsx(Ot,{className:"w-4 h-4"})})]})]}),S&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-slate-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date From"}),e.jsx("input",{type:"date",value:m.dateFrom,onChange:z=>$("dateFrom",z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date To"}),e.jsx("input",{type:"date",value:m.dateTo,onChange:z=>$("dateTo",z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]})}),H()&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[m.status!=="all"&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",children:["Status: ",m.status,e.jsx("button",{onClick:()=>$("status","all"),className:"ml-1 hover:text-orange-600 dark:hover:text-orange-200",children:e.jsx(wt,{className:"w-3 h-3"})})]}),u&&e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:['Search: "',u,'"',e.jsx("button",{onClick:()=>h(""),className:"ml-1 hover:text-purple-600 dark:hover:text-purple-200",children:e.jsx(wt,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:B,className:"text-sm text-gray-600 dark:text-gray-300 underline hover:text-gray-800 dark:hover:text-gray-100",children:"Clear all filters"})]})]}),s.length===0?e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-12 text-center",children:[e.jsx(Ht,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No interviews found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your filters or search terms."})]}):e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[s.length," Interview",s.length!==1?"s":""]})}),g==="grid"?e.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(z=>e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 border border-gray-200 dark:border-slate-600",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white",children:[z.application?.student?.first_name," ",z.application?.student?.last_name]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:z.application?.application_number})]}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Z(z.status)}`,children:[G(z.status),e.jsx("span",{className:"ml-1 capitalize",children:z.status})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(zt,{className:"w-4 h-4 mr-2"}),de(z.interview_date)]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Nt,{className:"w-4 h-4 mr-2"}),X(z.interview_time)]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[z.interview_type==="online"?e.jsx(ka,{className:"w-4 h-4 mr-2"}):e.jsx(ks,{className:"w-4 h-4 mr-2"}),z.interview_type]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>I(z),className:"flex-1 px-3 py-2 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(Ft,{className:"w-4 h-4 inline mr-1"}),"View Details"]}),z.status==="scheduled"&&e.jsx("button",{onClick:()=>L(z),className:"flex-1 px-3 py-2 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Evaluate"})]}),z.interview_type==="online"&&z.status==="scheduled"&&z.meeting_link&&e.jsxs("button",{onClick:()=>M(z),className:"w-full px-3 py-2 text-sm bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors flex items-center justify-center",children:[e.jsx(Nc,{className:"w-4 h-4 mr-1"}),"Join Meeting"]})]})]},z.id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Application"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:s.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ht,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[z.application?.student?.first_name," ",z.application?.student?.last_name]}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:z.application?.student?.student_id_number})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:z.application?.application_number}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:z.application?.category?.name})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:de(z.interview_date)}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:X(z.interview_time)})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${z.interview_type==="online"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}`,children:[z.interview_type==="online"?e.jsx(ka,{className:"w-3 h-3 mr-1"}):e.jsx(ks,{className:"w-3 h-3 mr-1"}),z.interview_type]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Z(z.status)}`,children:[G(z.status),e.jsx("span",{className:"ml-1 capitalize",children:z.status})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>I(z),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 transition-colors",children:"View"}),z.status==="scheduled"&&e.jsx("button",{onClick:()=>L(z),className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 transition-colors",children:"Evaluate"})]}),z.interview_type==="online"&&z.status==="scheduled"&&z.meeting_link&&e.jsxs("button",{onClick:()=>M(z),className:"text-purple-600 dark:text-purple-400 hover:text-purple-900 dark:hover:text-purple-300 transition-colors flex items-center",children:[e.jsx(Nc,{className:"w-3 h-3 mr-1"}),"Join Meeting"]})]})})]},z.id))})]})})]}),e.jsx(Oue,{isOpen:E,onClose:()=>{T(!1),A(null)},interview:v,onEvaluationSubmitted:q}),e.jsx(Iue,{isOpen:F,onClose:()=>{R(!1),A(null)},application:v?.application})]})}const X0=({activeItem:t="security-dashboard"})=>{const[r,s]=f.useState(null),[a,n]=f.useState([]),[i,l]=f.useState([]),[c,u]=f.useState(!0),h=()=>{switch(t){case"security":case"security-dashboard":return"overview";case"security-threats":return"logs";case"security-quarantine":return"quarantine";case"security-settings":return"settings";default:return"overview"}},[m,x]=f.useState(h()),[g,b]=f.useState({days:30,status:"all",threat:"",dateFrom:"",dateTo:""}),y=Ca("/api"),w=async()=>{try{const F=await(await fetch(`${y}/virus-scan/statistics?days=${g.days}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,Accept:"application/json"}})).json();F.success&&s(F.data)}catch(T){console.error("Error fetching statistics:",T)}},N=async()=>{try{const T=new URLSearchParams;g.status!=="all"&&T.append("status",g.status),g.threat&&T.append("threat",g.threat),g.dateFrom&&T.append("date_from",g.dateFrom),g.dateTo&&T.append("date_to",g.dateTo);const R=await(await fetch(`${y}/virus-scan/logs?${T}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,Accept:"application/json"}})).json();R.success&&n(R.data.data||[])}catch(T){console.error("Error fetching logs:",T)}},_=async()=>{try{const T=new URLSearchParams;g.threat&&T.append("threat",g.threat);const R=await(await fetch(`${y}/virus-scan/quarantine?${T}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,Accept:"application/json"}})).json();R.success&&l(R.data.data||[])}catch(T){console.error("Error fetching quarantine:",T)}},S=async()=>{u(!0),await Promise.all([w(),N(),_()]),u(!1)};f.useEffect(()=>{S()},[g]);const k=T=>{switch(T){case"clean":return e.jsx(Le,{className:"h-4 w-4 text-green-500"});case"infected":return e.jsx(Wt,{className:"h-4 w-4 text-red-500"});case"not_scanned":return e.jsx(Nt,{className:"h-4 w-4 text-gray-500"});default:return e.jsx(ln,{className:"h-4 w-4 text-gray-500"})}},v=T=>{switch(T){case"clean":return"text-green-600 bg-green-100";case"infected":return"text-red-600 bg-red-100";case"not_scanned":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},A=T=>T>90?"text-green-600":T>70?"text-yellow-600":"text-red-600",E=({title:T,value:F,icon:R,color:D,subtitle:$,trend:B})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 truncate",children:T}),e.jsx("p",{className:`text-lg sm:text-2xl font-bold ${D}`,children:F}),$&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:$})]}),e.jsx("div",{className:`p-2 sm:p-3 rounded-full flex-shrink-0 ${D.replace("text-","bg-").replace("-600","-100")}`,children:e.jsx(R,{className:`h-5 w-5 sm:h-6 sm:w-6 ${D}`})})]}),B&&e.jsxs("div",{className:"mt-2 flex items-center text-xs sm:text-sm",children:[B>0?e.jsx(Vr,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-500 mr-1 flex-shrink-0"}):e.jsx(gw,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-500 mr-1 flex-shrink-0"}),e.jsxs("span",{className:`${B>0?"text-green-600":"text-red-600"} truncate`,children:[Math.abs(B),"% from last period"]})]})]});return c?e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center h-64 space-y-2 sm:space-y-0",children:[e.jsx(Ot,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-orange-500"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-600 text-center",children:"Loading security dashboard..."})]})}):e.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-orange-500 rounded-lg flex-shrink-0",children:e.jsx(Ir,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 truncate",children:"Document Security Dashboard"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Monitor virus scans and security threats"})]})]}),e.jsxs("button",{onClick:S,className:"flex items-center justify-center space-x-2 bg-orange-500 text-white px-3 py-2 sm:px-4 rounded-lg hover:bg-orange-600 transition-colors text-sm sm:text-base w-full sm:w-auto",children:[e.jsx(Ot,{className:"h-4 w-4"}),e.jsx("span",{children:"Refresh"})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-3 sm:p-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Period"}),e.jsxs("select",{value:g.days,onChange:T=>b({...g,days:parseInt(T.target.value)}),className:"w-full px-2 py-2 sm:px-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:7,children:"Last 7 days"}),e.jsx("option",{value:30,children:"Last 30 days"}),e.jsx("option",{value:90,children:"Last 90 days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:g.status,onChange:T=>b({...g,status:T.target.value}),className:"w-full px-2 py-2 sm:px-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"clean",children:"Clean"}),e.jsx("option",{value:"infected",children:"Infected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Threat"}),e.jsx("input",{type:"text",placeholder:"Search threat...",value:g.threat,onChange:T=>b({...g,threat:T.target.value}),className:"w-full px-2 py-2 sm:px-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"From Date"}),e.jsx("input",{type:"date",value:g.dateFrom,onChange:T=>b({...g,dateFrom:T.target.value}),className:"w-full px-2 py-2 sm:px-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"To Date"}),e.jsx("input",{type:"date",value:g.dateTo,onChange:T=>b({...g,dateTo:T.target.value}),className:"w-full px-2 py-2 sm:px-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm"})]})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex flex-col sm:flex-row sm:space-x-8 overflow-x-auto",children:[{id:"overview",name:"Overview",icon:da},{id:"logs",name:"Scan Logs",icon:ut},{id:"quarantine",name:"Quarantine",icon:Wt},{id:"settings",name:"Settings",icon:na}].map(T=>{const F=T.icon;return e.jsxs("button",{onClick:()=>x(T.id),className:`flex items-center justify-center sm:justify-start space-x-2 py-3 sm:py-2 px-2 sm:px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap min-w-0 ${m===T.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(F,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:T.name})]},T.id)})})}),m==="overview"&&r&&e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[e.jsx(E,{title:"Total Scans",value:r.overview.total_scans.toLocaleString(),icon:ln,color:"text-blue-600",subtitle:`Last ${g.days} days`}),e.jsx(E,{title:"Clean Files",value:r.overview.clean_scans.toLocaleString(),icon:Le,color:"text-green-600",subtitle:`${r.overview.clean_percentage}% clean rate`}),e.jsx(E,{title:"Threats Blocked",value:r.overview.infected_scans.toLocaleString(),icon:Wt,color:"text-red-600",subtitle:"Malicious files detected"}),e.jsx(E,{title:"Avg Scan Time",value:`${r.overview.avg_scan_time}s`,icon:Nt,color:"text-purple-600",subtitle:"Performance metric"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Scanner Health"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:`text-3xl font-bold ${A(r.scanner_health.uptime_percentage)}`,children:[r.scanner_health.uptime_percentage,"%"]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Uptime"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[r.scanner_health.recent_scans," scans in last 24h"]})]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.scanner_health.status==="healthy"?"bg-green-100 text-green-800":r.scanner_health.status==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.scanner_health.status.toUpperCase()})]})]}),r.threat_breakdown&&r.threat_breakdown.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Threat Breakdown"}),e.jsx("div",{className:"space-y-3",children:r.threat_breakdown.map((T,F)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Wt,{className:"h-5 w-5 text-red-500"}),e.jsx("span",{className:"font-medium text-gray-900",children:T.threat_name})]}),e.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[T.count," detections"]})]},F))})]})]}),m==="logs"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Scan Logs"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"File"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Threat"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scan Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((T,F)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ut,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.file_name}),e.jsx("div",{className:"text-sm text-gray-500",children:T.mime_type})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[k(T.is_clean?"clean":"infected"),e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${v(T.is_clean?"clean":"infected")}`,children:T.is_clean?"Clean":"Infected"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.threat_name||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.scan_duration?`${T.scan_duration}s`:"-"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[T.first_name," ",T.last_name]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(T.created_at).toLocaleString()})]},F))})]})})]}),m==="quarantine"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quarantined Files"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"File"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Threat"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quarantined"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map((T,F)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ut,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.file_name}),e.jsx("div",{className:"text-sm text-gray-500",children:T.mime_type})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:T.threat_name})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[T.first_name," ",T.last_name]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(T.quarantined_at).toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T.is_reviewed?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:T.is_reviewed?"Reviewed":"Pending Review"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-orange-600 hover:text-orange-900",children:e.jsx(Ft,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(qs,{className:"h-4 w-4"})})]})})]},F))})]})})]}),m==="settings"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scanner Type"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"clamd",children:"ClamAV Daemon (Recommended)"}),e.jsx("option",{value:"clamscan",children:"ClamAV CLI"}),e.jsx("option",{value:"virustotal",children:"VirusTotal API"}),e.jsx("option",{value:"defender",children:"Windows Defender"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scan Timeout (seconds)"}),e.jsx("input",{type:"number",defaultValue:"30",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max File Size (MB)"}),e.jsx("input",{type:"number",defaultValue:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fallback Policy"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"reject",children:"Reject (Recommended)"}),e.jsx("option",{value:"allow",children:"Allow"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Allowed File Types"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"PDF Documents"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"JPEG Images"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"PNG Images"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Word Documents"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Scanner Health"}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsx("span",{className:"text-green-800 font-medium",children:"Scanner is healthy and operational"})]}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Last virus definition update: 2 hours ago"})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Save Configuration"}),e.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Test Scanner"}),e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Update Definitions"})]})]})]})})]})};class Mue{constructor(){this.baseURL=Ca("/api")}async getArchivedData(){try{return(await yt.get(`${this.baseURL}/archived`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error fetching archived data:",r),r}}async getArchivedDataByCategory(r){try{return(await yt.get(`${this.baseURL}/archived/${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(s){throw console.error(`Error fetching archived ${r}:`,s),s}}async restoreItem(r,s){try{return(await yt.post(`${this.baseURL}/archived/${r}/${s}/restore`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(a){throw console.error(`Error restoring ${r} item:`,a),a}}async permanentDeleteItem(r,s){try{return(await yt.delete(`${this.baseURL}/archived/${r}/${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(a){throw console.error(`Error permanently deleting ${r} item:`,a),a}}async getArchivedStats(){try{return(await yt.get(`${this.baseURL}/archived/stats`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error fetching archived stats:",r),r}}async searchArchivedData(r,s="all"){try{return(await yt.get(`${this.baseURL}/archived/search`,{params:{q:r,category:s},headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(a){throw console.error("Error searching archived data:",a),a}}async bulkRestoreItems(r,s){try{return(await yt.post(`${this.baseURL}/archived/${r}/bulk-restore`,{item_ids:s},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(a){throw console.error(`Error bulk restoring ${r} items:`,a),a}}async bulkPermanentDeleteItems(r,s){try{return(await yt.post(`${this.baseURL}/archived/${r}/bulk-delete`,{item_ids:s},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(a){throw console.error(`Error bulk deleting ${r} items:`,a),a}}async getArchivedItemDetails(r,s){try{return(await yt.get(`${this.baseURL}/archived/${r}/${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).data}catch(a){throw console.error(`Error fetching archived ${r} item details:`,a),a}}}const yb=new Mue,Lue=()=>{const{showSuccess:t,showError:r}=Zt(),[s,a]=f.useState({users:[],applications:[],documents:[],logs:[]}),[n,i]=f.useState([]),[l,c]=f.useState("all"),[u,h]=f.useState(""),[m,x]=f.useState(!0),[g,b]=f.useState([]),[y,w]=f.useState(!1),[N,_]=f.useState(!1),[S,k]=f.useState(null),[v,A]=f.useState([{id:"all",label:"All Items",icon:Sx,count:0},{id:"users",label:"Users",icon:Jt,count:0},{id:"applications",label:"Applications",icon:ut,count:0},{id:"documents",label:"Documents",icon:ut,count:0},{id:"logs",label:"Logs",icon:Nt,count:0}]);f.useEffect(()=>{E()},[]),f.useEffect(()=>{T()},[l,u,s]);const E=async()=>{x(!0);try{const I=await yb.getArchivedData();if(I.success)a(I.data),A(L=>L.map(M=>({...M,count:M.id==="all"?Object.values(I.data).flat().length:I.data[M.id]?.length||0})));else throw new Error(I.message||"Failed to fetch archived data")}catch(I){console.error("Error fetching archived data:",I);const L={users:[{id:1,name:"John Doe",email:"john.doe@example.com",role:"citizen",deletedAt:"2024-01-15T10:30:00Z",deletedBy:"Admin User",reason:"Account closure request"},{id:2,name:"Jane Smith",email:"jane.smith@example.com",role:"staff",deletedAt:"2024-01-14T14:20:00Z",deletedBy:"System Admin",reason:"Inactive account cleanup"}],applications:[{id:1,applicantName:"Alice Johnson",scholarshipType:"Merit Scholarship",status:"rejected",deletedAt:"2024-01-13T09:15:00Z",deletedBy:"Admin User",reason:"Duplicate application"}],documents:[{id:1,name:"Transcript_2023.pdf",type:"transcript",size:"2.5 MB",deletedAt:"2024-01-12T16:45:00Z",deletedBy:"System Admin",reason:"File corruption"}],logs:[{id:1,action:"User Login",user:"test@example.com",deletedAt:"2024-01-11T11:30:00Z",deletedBy:"System Admin",reason:"Data retention policy"}]};a(L),A(M=>M.map(q=>({...q,count:q.id==="all"?Object.values(L).flat().length:L[q.id]?.length||0}))),r("Using offline data - API connection failed")}finally{x(!1)}},T=()=>{let I=[];l==="all"?I=Object.values(s).flat():I=s[l]||[],u&&(I=I.filter(L=>L.name?.toLowerCase().includes(u.toLowerCase())||L.email?.toLowerCase().includes(u.toLowerCase())||L.applicantName?.toLowerCase().includes(u.toLowerCase())||L.action?.toLowerCase().includes(u.toLowerCase()))),i(I)},F=async I=>{try{const L=l==="all"?Object.keys(s).find(q=>s[q].includes(I)):l,M=await yb.restoreItem(L,I.id);if(M.success)t(`${I.name||I.applicantName||I.action} has been restored successfully`),L&&s[L]&&a(q=>({...q,[L]:q[L].filter(Z=>Z.id!==I.id)}));else throw new Error(M.message||"Failed to restore item");w(!1),k(null)}catch(L){console.error("Error restoring item:",L),r("Failed to restore item")}},R=async I=>{try{const L=l==="all"?Object.keys(s).find(q=>s[q].includes(I)):l,M=await yb.permanentDeleteItem(L,I.id);if(M.success)t(`${I.name||I.applicantName||I.action} has been permanently deleted`),L&&s[L]&&a(q=>({...q,[L]:q[L].filter(Z=>Z.id!==I.id)}));else throw new Error(M.message||"Failed to permanently delete item");_(!1),k(null)}catch(L){console.error("Error permanently deleting item:",L),r("Failed to permanently delete item")}},D=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),$=I=>I.email?Jt:I.applicantName?ut:I.action?Nt:ut,B=I=>I.name||I.applicantName||I.action||"Unknown Item",H=I=>I.email?I.email:I.scholarshipType?I.scholarshipType:I.type?I.type:I.user?I.user:"";return m?e.jsx(bg,{module:"archived"}):e.jsxs(yg,{variant:"page",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[e.jsx(yu,{className:"w-8 h-8 text-orange-500"}),"Archived Data"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage and restore deleted data from the system"})]}),e.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{children:"Refresh"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:v.slice(1).map(I=>e.jsx(Et.div,{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6",whileHover:{scale:1.02},transition:{duration:.2},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:I.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I.count})]}),e.jsx(I.icon,{className:"w-8 h-8 text-orange-500"})]})},I.id))}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsx("select",{value:l,onChange:I=>c(I.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 dark:bg-slate-700 dark:text-white",children:v.map(I=>e.jsxs("option",{value:I.id,children:[I.label," (",I.count,")"]},I.id))})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search archived items...",value:u,onChange:I=>h(I.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 dark:bg-slate-700 dark:text-white"})]})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-slate-700",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Archived Items (",n.length,")"]})}),e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:e.jsx(Ta,{children:n.map((I,L)=>{const M=$(I),q=I.email?"user":I.applicantName?"application":I.action?"log":"document";return e.jsx(Et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,delay:L*.05},className:"p-6 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(M,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:B(I)}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:H(I)}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Deleted: ",D(I.deletedAt)]}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["By: ",I.deletedBy]}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Reason: ",I.reason]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>{k(I),w(!0)},className:"flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:[e.jsx(kb,{className:"w-4 h-4"}),e.jsx("span",{children:"Restore"})]}),e.jsxs("button",{onClick:()=>{k(I),_(!0)},className:"flex items-center space-x-1 px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:[e.jsx(qs,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]})]})]})},`${q}-${I.id}-${L}`)})})}),n.length===0&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(yu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No archived items found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:u?"Try adjusting your search criteria":"No items have been archived yet"})]})]}),y&&S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(Et.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(kb,{className:"w-6 h-6 text-green-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Restore Item"})]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:['Are you sure you want to restore "',B(S),'"? This will move it back to its original location.']}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{w(!1),k(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>F(S),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Restore"})]})]})}),N&&S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(Et.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-800 rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(qs,{className:"w-6 h-6 text-red-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Permanent Delete"})]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:['Are you sure you want to permanently delete "',B(S),'"? This action cannot be undone.']}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{_(!1),k(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>R(S),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Permanently"})]})]})})]})};function $ue({activeItem:t,activeTab:r,onPageChange:s,userRole:a,userSystemRole:n}){if(t==="access-denied")return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You don't have the necessary permissions to access this system. Please contact your administrator."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Return to Login"})]})});if(a==="staff"&&!n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Staff Access Required"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You need to be registered as staff in the scholarship system to access this dashboard. Please contact your administrator."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Return to Login"})]})});switch(t){case"dashboard":return a==="staff"&&n==="interviewer"?e.jsx("div",{children:e.jsx(Rue,{})}):e.jsx("div",{children:e.jsx(Cce,{onPageChange:s})});case"Settings":return e.jsx("div",{children:e.jsx(y3,{})});case"scholarship-applications":return e.jsx("div",{children:e.jsx(Xce,{initialTab:r})});case"scholarship-programs":return e.jsx("div",{children:e.jsx(Zce,{})});case"scholarship-ssc":return e.jsx("div",{children:e.jsx(cde,{})});case"sad-overview":return e.jsx("div",{children:e.jsx(wde,{})});case"sad-disbursement-history":return e.jsx("div",{children:e.jsx(jde,{})});case"studentRegistry-overview":return e.jsx("div",{children:e.jsx(kde,{})});case"studentRegistry-directory":return e.jsx("div",{children:e.jsx(Cde,{viewMode:"all"})});case"studentRegistry-reports":return e.jsx("div",{children:e.jsx(Pde,{})});case"studentRegistry-tools":return e.jsx("div",{children:e.jsx(Ede,{})});case"psd-school-management":return e.jsx("div",{children:e.jsx(Lde,{})});case"psd-student-population":return e.jsx("div",{children:e.jsx($de,{})});case"psd-analytics":return e.jsx("div",{children:e.jsx(Fde,{})});case"psd-settings":return e.jsx("div",{children:e.jsx(Bde,{})});case"psd-guidelines":return e.jsx("div",{children:e.jsx(Wde,{})});case"psd-applications":return e.jsx("div",{children:e.jsx(iue,{})});case"emr-overview":return e.jsx("div",{children:e.jsx(Tue,{})});case"emr-academic-performance":return e.jsx("div",{children:e.jsx(Nue,{})});case"emr-enrollment-statistics":return e.jsx("div",{children:e.jsx(kue,{})});case"emr-student-progress":return e.jsx("div",{children:e.jsx(Sue,{})});case"emr-analytics":return e.jsx("div",{children:e.jsx(jI,{})});case"emr-legacy":return e.jsx("div",{children:e.jsx(jue,{})});case"user-management":return e.jsx("div",{children:e.jsx(oue,{})});case"audit-logs":return e.jsx("div",{children:e.jsx(cue,{})});case"security":case"security-dashboard":return e.jsx("div",{children:e.jsx(X0,{activeItem:"security-dashboard"})});case"security-threats":return e.jsx("div",{children:e.jsx(X0,{activeItem:"security-threats"})});case"security-quarantine":return e.jsx("div",{children:e.jsx(X0,{activeItem:"security-quarantine"})});case"security-settings":return e.jsx("div",{children:e.jsx(X0,{activeItem:"security-settings"})});case"settings":return e.jsx("div",{children:e.jsx(y3,{})});case"archived":return e.jsx("div",{children:e.jsx(Lue,{})});case"interviews-pending":return e.jsx("div",{children:e.jsx(fb,{filter:"pending"})});case"interviews-completed":return e.jsx("div",{children:e.jsx(fb,{filter:"completed"})});case"interviews-all":return e.jsx("div",{children:e.jsx(fb,{filter:"all"})});default:return e.jsx("div",{children:"Dashboard"})}}function Fue(t,r,s){const a=NP(r,s);for(const n of a){if(n.id===t)return[n.label];if(n.subItems){const i=n.subItems.find(l=>l.id===t);if(i)return[n.label,i.label]}}return["Dashboard"]}function Bue(){const[t,r]=De.useState(!1),[s,a]=De.useState("dashboard"),[n,i]=De.useState(void 0),[l,c]=De.useState(!1),{currentUser:u}=Lt();De.useEffect(()=>{(u?.role==="ssc"||String(u?.role).startsWith("ssc_"))&&a("scholarship-ssc")},[u]);const h=()=>{window.innerWidth<768?c(!l):r(!t)},m=(g,b)=>{a(g),i(b),window.innerWidth<768&&c(!1)},x=()=>{c(!1)};return e.jsx(yI,{children:e.jsx(fG,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-800 dark:via-slate-800 dark:to-slate-800 transition-colors duration-200",children:e.jsxs("div",{className:"flex h-screen overflow-hidden relative",children:[l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:x}),e.jsx("div",{className:`${l?"translate-x-0":"-translate-x-full"} md:translate-x-0 fixed md:relative z-50 md:z-auto transition-transform duration-300 ease-in-out h-full`,children:e.jsx(bG,{collapsed:t&&window.innerWidth>=768,activeItem:s,onPageChange:m})}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden w-full md:w-auto",children:[e.jsx(wG,{sidebarCollapsed:t,onToggleSidebar:h,breadcrumb:Fue(s,u?.role,u?.system_role)}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-auto",children:e.jsx($ue,{activeItem:s,activeTab:n,onPageChange:m,userRole:u?.role,userSystemRole:u?.system_role})})]})]})})})})}const Uue=it.AUTH_SERVICE.BASE_URL,fm=it.SCHOLARSHIP_SERVICE.BASE_URL,kI=it.AID_SERVICE.BASE_URL,zue=async t=>{try{const r=await fetch(`${Uue}/api/user`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(!s.success||!s.data?.user?.assigned_school_id)throw new Error("No school assigned to this user");const a=await fetch(`${fm}/api/schools/${s.data.user.assigned_school_id}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();if(n.success)return{school:n.data,user:s.data.user};throw new Error(n.message||"Failed to fetch school info")}catch(r){throw console.error("Error fetching partner school info:",r),r}},Vue=async t=>{try{const r=await fetch(`${fm}/api/partner-school/stats`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();if(s.success)return s.data;throw new Error(s.message||"Failed to fetch school stats")}catch(r){throw console.error("Error fetching partner school stats:",r),r}},que=async(t,r,s="merge")=>{try{const a=await fetch(`${fm}/api/partner-school/enrollment/upload`,{method:"POST",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({csv_data:r,update_mode:s})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();if(n.success)return n.data;throw new Error(n.message||"Failed to upload enrollment data")}catch(a){throw console.error("Error uploading enrollment data:",a),a}},Hue=async(t,r={})=>{try{const s=new URLSearchParams(r),a=await fetch(`${fm}/api/partner-school/enrollment/data?${s}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();if(n.success)return n.data;throw new Error(n.message||"Failed to fetch enrollment data")}catch(s){throw console.error("Error fetching enrollment data:",s),s}},Gue=async(t,r={})=>{try{const s=new URLSearchParams;r.page&&s.append("page",r.page),s.append("per_page",r.per_page||1e3),r.search&&s.append("search",r.search);const a=await fetch(`${fm}/api/partner-school/flexible/students?${s}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();if(n.success)return n.data;throw new Error(n.message||"Failed to fetch flexible students")}catch(s){throw console.error("Error fetching flexible students:",s),s}},Wue=async(t,r)=>{try{const s=await fetch(`${kI}/api/partner-school/withdrawals?school_id=${r}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return(await s.json()).data||[]}catch(s){throw console.error("Error fetching withdrawals:",s),s}},Yue=Wue,Kue=async(t,r)=>{try{const s=await fetch(`${kI}/api/partner-school/withdrawals`,{method:"POST",headers:{Authorization:`Bearer ${t}`,Accept:"application/json"},body:r});if(!s.ok){const a=await s.json();throw new Error(a.message||"Failed to record withdrawal")}return await s.json()}catch(s){throw console.error("Error recording withdrawal:",s),s}},Jue=Kue,Qa=it.SCHOLARSHIP_SERVICE.BASE_URL,Xue=()=>{const{currentUser:t,logout:r,token:s}=Lt(),[a,n]=f.useState(null),[i,l]=f.useState(null),[c,u]=f.useState(!0),[h,m]=f.useState(null),[x,g]=f.useState(!1),[b,y]=f.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[w,N]=f.useState({current:!1,new:!1,confirm:!1}),[_,S]=f.useState(!1),[k,v]=f.useState({score:0,feedback:[]}),[A,E]=f.useState(!1),[T,F]=f.useState(null),[R,D]=f.useState({document_type:"other",document_name:"",file:null}),[$,B]=f.useState(!1),[H,I]=f.useState(null),[L,M]=f.useState(!1),[q,Z]=f.useState(!1),[G,de]=f.useState({}),[X,z]=f.useState(!1),[Ie,ie]=f.useState(null),[Pe,re]=f.useState({requirements:!0,benefits:!0,responsibilities:!0,process:!0}),[Ee,ke]=f.useState(!1),[xe,Q]=f.useState(!1),[et,ve]=f.useState(!1),[Ze,Qe]=f.useState({classification:"",address:"",city:"",province:"",region:"",contact_number:""}),[ht,K]=f.useState(!1),[ne,pe]=f.useState(null);f.useEffect(()=>{(async()=>{if(!s){u(!1);return}try{u(!0),m(null);const Re=await fetch(`${Qa}/api/partner-school/my-application`,{headers:{Authorization:`Bearer ${s}`,Accept:"application/json"}});if(Re.ok){const Ke=await Re.json();Ke.success?(l(Ke.data.school),n(Ke.data.application)):m(Ke.message||"Failed to fetch application status")}else{const Ke=await Re.json();m(Ke.message||"Failed to fetch application status")}}catch(Re){console.error("Error fetching application status:",Re),m(Re.message||"Failed to fetch application status")}finally{u(!1)}})()},[s,t]),f.useEffect(()=>{i&&Qe({classification:i.classification||"",address:i.address||"",city:i.city||"",province:i.province||"",region:i.region||"",contact_number:i.contact_number||""})},[i]);const Xe=async Ce=>{if(Ce.preventDefault(),!i||!i.id){alert("School information not available");return}K(!0),pe(null);try{const Re=await fetch(`${Qa}/api/partner-school/school-info`,{method:"PUT",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Ze)});if(Re.ok){const Ke=await Re.json();if(Ke.success){alert("School information updated successfully"),ve(!1);const Tt=await fetch(`${Qa}/api/partner-school/my-application`,{headers:{Authorization:`Bearer ${s}`,Accept:"application/json"}});if(Tt.ok){const le=await Tt.json();le.success&&l(le.data.school)}}else pe(Ke.message||"Failed to update school information")}else{const Ke=await Re.json();pe(Ke.message||"Failed to update school information")}}catch(Re){console.error("Error updating school information:",Re),pe("An error occurred while updating school information")}finally{K(!1)}},ee=async()=>{if(!a||!a.id){alert("No application found. Please contact the administrator.");return}if(a.status!=="draft"){alert("Only draft applications can be submitted.");return}if(window.confirm("Submit this application for review? You will still be able to upload documents while it is under review."))try{const Ce=await fetch(`${Qa}/api/partner-school/applications/${a.id}/submit`,{method:"POST",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"}});if(Ce.ok){const Re=await Ce.json();if(Re.success){alert("Application submitted successfully.");const Ke=await fetch(`${Qa}/api/partner-school/my-application`,{headers:{Authorization:`Bearer ${s}`,Accept:"application/json"}});if(Ke.ok){const Tt=await Ke.json();Tt.success&&(l(Tt.data.school),n(Tt.data.application))}}else alert(Re.message||"Failed to submit application")}else{const Re=await Ce.json();alert(Re.message||"Failed to submit application")}}catch(Ce){console.error("Error submitting application:",Ce),alert("An error occurred while submitting application")}},he=async()=>{if(!a||!a.id){alert("No application found. Please contact the administrator.");return}if(!["submitted","under_review"].includes(a.status)){alert("Only submitted or under review applications can be withdrawn.");return}Q(!0);try{const Ce=await fetch(`${Qa}/api/partner-school/applications/${a.id}/withdraw`,{method:"POST",headers:{Authorization:`Bearer ${s}`,Accept:"application/json","Content-Type":"application/json"}});if(Ce.ok){const Re=await Ce.json();if(Re.success){const Ke=await fetch(`${Qa}/api/partner-school/my-application`,{headers:{Authorization:`Bearer ${s}`,Accept:"application/json"}});if(Ke.ok){const Tt=await Ke.json();Tt.success&&(l(Tt.data.school),n(Tt.data.application))}ke(!1),alert("Application withdrawn successfully.")}else alert(Re.message||"Failed to withdraw application")}else{const Re=await Ce.json();alert(Re.message||"Failed to withdraw application")}}catch(Ce){console.error("Error withdrawing application:",Ce),alert("An error occurred while withdrawing application")}finally{Q(!1)}},W=Ce=>{let Re=0;const Ke=[];return Ce.length>=10?Re+=20:Ke.push({text:"At least 10 characters",valid:!1}),/[a-z]/.test(Ce)?Re+=20:Ke.push({text:"At least one lowercase letter",valid:!1}),/[A-Z]/.test(Ce)?Re+=20:Ke.push({text:"At least one uppercase letter",valid:!1}),/[0-9]/.test(Ce)?Re+=20:Ke.push({text:"At least one number",valid:!1}),/[!@#$%^&*(),.?":{}|<>]/.test(Ce)?Re+=20:Ke.push({text:"At least one special character",valid:!1}),Ke.forEach(Tt=>{if(!Tt.valid){const le=Tt.text;Ce.length>=10&&le.includes("10 characters")&&(Tt.valid=!0),/[a-z]/.test(Ce)&&le.includes("lowercase")&&(Tt.valid=!0),/[A-Z]/.test(Ce)&&le.includes("uppercase")&&(Tt.valid=!0),/[0-9]/.test(Ce)&&le.includes("number")&&(Tt.valid=!0),/[!@#$%^&*(),.?":{}|<>]/.test(Ce)&&le.includes("special")&&(Tt.valid=!0)}}),{score:Re,feedback:Ke}},ye=(Ce,Re)=>{if(y(Ke=>({...Ke,[Ce]:Re})),Ce==="newPassword"){const Ke=W(Re);v(Ke)}},P=Ce=>{N(Re=>({...Re,[Ce]:!Re[Ce]}))},V=async Ce=>{if(Ce.preventDefault(),b.newPassword!==b.confirmPassword){alert("New passwords do not match");return}if(k.score<100){alert("Please ensure all password requirements are met");return}S(!0);try{const Re=await fetch(bh("/api/change-password"),{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({current_password:b.currentPassword,new_password:b.newPassword,confirm_password:b.confirmPassword})});if(Re.ok)alert("Password changed successfully"),y({currentPassword:"",newPassword:"",confirmPassword:""}),v({score:0,feedback:[]}),g(!1);else{const Ke=await Re.json();alert(Ke.message||"Failed to change password")}}catch(Re){console.error("Error changing password:",Re),alert("An error occurred while changing password")}finally{S(!1)}},te=async Ce=>{if(Ce.preventDefault(),!R.file||!R.document_name){alert("Please fill in all required fields");return}if(!a||!a.id){alert("No application found. Please contact the administrator.");return}B(!0),I(null);try{const Re=new FormData;Re.append("document_type",R.document_type),Re.append("document_name",R.document_name),Re.append("file",R.file);const Ke=await fetch(`${Qa}/api/partner-school/applications/${a.id}/documents`,{method:"POST",headers:{Authorization:`Bearer ${s}`},body:Re});if(Ke.ok){const Tt=await Ke.json();alert("Document uploaded successfully"),D({document_type:"other",document_name:"",file:null}),F(null),E(!1);const le=await fetch(`${Qa}/api/partner-school/my-application`,{headers:{Authorization:`Bearer ${s}`,Accept:"application/json"}});if(le.ok){const Oe=await le.json();Oe.success&&n(Oe.data.application)}}else{const Tt=await Ke.json();I(Tt.message||"Failed to upload document")}}catch(Re){console.error("Error uploading document:",Re),I("An error occurred while uploading document")}finally{B(!1)}},Ne=Ce=>Ce.size>10*1024*1024?(alert("File size must be less than 10MB"),!1):["application/pdf","image/jpeg","image/jpg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(Ce.type)?!0:(alert("Invalid file type. Please upload PDF, JPG, PNG, or DOC/DOCX files."),!1),Se=Ce=>{const Re=Ce.target.files[0];Re&&Ne(Re)&&D(Ke=>({...Ke,file:Re}))},at=Ce=>{Ce.preventDefault(),Ce.stopPropagation(),Ce.type==="dragenter"||Ce.type==="dragover"?M(!0):Ce.type==="dragleave"&&M(!1)},pt=Ce=>{if(Ce.preventDefault(),Ce.stopPropagation(),M(!1),Ce.dataTransfer.files&&Ce.dataTransfer.files[0]){const Re=Ce.dataTransfer.files[0];Ne(Re)&&D(Ke=>({...Ke,file:Re}))}},se=(Ce=null)=>{Ce?(F(Ce),D({document_type:"other",document_name:Ce.title,file:null})):(F(null),D({document_type:"other",document_name:"",file:null})),E(!0)};f.useEffect(()=>{Object.keys(G).length===0&&He()},[]),f.useEffect(()=>{(q||A)&&He()},[q,A]);const He=async()=>{try{z(!0),ie(null);const Ce=await xk();de(Ce)}catch(Ce){console.error("Error fetching guidelines:",Ce),ie(Ce.message||"Failed to load guidelines")}finally{z(!1)}},qe=Ce=>{re(Re=>({...Re,[Ce]:!Re[Ce]}))},J=async()=>{try{const Ce=await fetch(`${Qa}/api/partner-school/download-moa`,{method:"GET",headers:{Authorization:`Bearer ${s}`,Accept:"application/pdf"}});if(Ce.ok){const Re=await Ce.blob(),Ke=window.URL.createObjectURL(Re),Tt=document.createElement("a");Tt.href=Ke,Tt.download=`MOA_${i?.name?.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`,document.body.appendChild(Tt),Tt.click(),window.URL.revokeObjectURL(Ke),document.body.removeChild(Tt)}else alert("Failed to download MOA")}catch(Ce){console.error("Error downloading MOA:",Ce),alert("An error occurred while downloading MOA")}},ce={requirements:Le,benefits:Rs,responsibilities:ut,process:Nt},$e={requirements:"Requirements",benefits:"Benefits",responsibilities:"Responsibilities",process:"Application Process"},nt=()=>{if(!i)return null;const Ce=i.verification_status||"not_applied";a?.status;const Re={gray:"text-gray-500",yellow:"text-yellow-500",green:"text-green-500",red:"text-red-500",blue:"text-blue-500"};switch(Ce){case"not_applied":return{icon:bt,color:"gray",colorClass:Re.gray,title:"Application Not Started",message:"Your school has not yet submitted an application to become a partner school.",description:"Please contact the administrator to begin the application process."};case"pending":return{icon:Nt,color:"yellow",colorClass:Re.yellow,title:"Application Under Review",message:"Your application is being reviewed by our team.",description:"We will notify you once a decision has been made."};case"verified":return{icon:Le,color:"green",colorClass:Re.green,title:"Application Approved",message:"Congratulations! Your school has been verified as a partner school.",description:"You now have access to the full partner school dashboard."};case"rejected":return{icon:jt,color:"red",colorClass:Re.red,title:"Application Rejected",message:a?.rejection_reason||"Your application was not approved.",description:"Please contact the administrator if you have questions or wish to reapply."};default:return{icon:Nt,color:"blue",colorClass:Re.blue,title:"Application Status",message:"Your application status is being processed."}}},qt=Ce=>{const Ke={draft:{label:"Draft",color:"bg-gray-100 text-gray-800"},submitted:{label:"Submitted",color:"bg-blue-100 text-blue-800"},under_review:{label:"Under Review",color:"bg-yellow-100 text-yellow-800"},approved:{label:"Approved",color:"bg-green-100 text-green-800"},rejected:{label:"Rejected",color:"bg-red-100 text-red-800"},withdrawn:{label:"Withdrawn",color:"bg-gray-100 text-gray-800"}}[Ce]||{label:Ce,color:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ke.color}`,children:Ke.label})},Gt=nt();return c?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ot,{className:"w-8 h-8 animate-spin text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading application status..."})]})}):h?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 max-w-md w-full",children:[e.jsx(bt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 text-center",children:"Error"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:h})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 shadow-sm border-b border-gray-200 dark:border-slate-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Partner School Application"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:i?.name||"School Application Status"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t?.first_name," ",t?.last_name]}),e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[e.jsx(kn,{className:"w-4 h-4"}),"Change Password"]}),e.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[e.jsx(_x,{className:"w-4 h-4"}),"Logout"]})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-8 mb-6",children:Gt&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[De.createElement(Gt.icon,{className:`w-12 h-12 ${Gt.colorClass||"text-gray-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:Gt.title}),e.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:Gt.message}),Gt.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:Gt.description})]})]}),i&&e.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"School Information"}),(i.verification_status==="pending"||i.verification_status==="not_applied")&&e.jsx("button",{onClick:()=>ve(!0),className:"text-sm text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 font-medium",children:i.classification||i.address?"Update Information":"Complete School Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Classification"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:i.classification||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Contact Number"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:i.contact_number||e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Address"}),e.jsx("p",{className:"text-gray-900 dark:text-white",children:i.address?`${i.address}${i.city?", "+i.city:""}${i.province?", "+i.province:""}${i.region?", "+i.region:""}`:e.jsx("span",{className:"text-gray-400 italic",children:"Not provided"})})]})]})]}),a&&e.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Application Details"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Application Status"}),qt(a.status)]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Submitted Date"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:a.submitted_at?new Date(a.submitted_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not submitted"})]}),a.reviewed_at&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Reviewed Date"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:new Date(a.reviewed_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),a.status==="draft"&&e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 border-2 border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${a.verification_documents&&G.requirements&&a.verification_documents.length>=G.requirements.length?"bg-green-100 dark:bg-green-900/30":"bg-orange-100 dark:bg-orange-900/30"}`,children:e.jsx(fi,{className:`w-6 h-6 ${a.verification_documents&&G.requirements&&a.verification_documents.length>=G.requirements.length?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"}`})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2",children:"Ready to Submit?"}),a.verification_documents&&G.requirements&&a.verification_documents.length>=G.requirements.length?e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:"All required documents have been uploaded. You can now submit your application for review."}):e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Please upload all required documents before submitting your application."}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"font-semibold text-orange-700 dark:text-orange-300",children:[a.verification_documents?a.verification_documents.length:0,e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" of "}),G.requirements?G.requirements.length:0]}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"documents uploaded"})]})]}),e.jsxs("button",{onClick:ee,disabled:!a.verification_documents||!G.requirements||a.verification_documents.length<G.requirements.length,className:`inline-flex items-center px-6 py-3 text-base font-bold rounded-lg shadow-md transition-all transform hover:scale-105 ${!a.verification_documents||!G.requirements||a.verification_documents.length<G.requirements.length?"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-500 cursor-not-allowed shadow-none transform-none":"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white hover:shadow-lg"}`,children:[e.jsx(fi,{className:"w-5 h-5 mr-2"}),"Submit Application"]})]})]})}),(a.status==="submitted"||a.status==="under_review")&&e.jsx("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 rounded-xl p-6 border-2 border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:e.jsx(N0,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2",children:"Withdraw Application"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:"If you wish to withdraw your application, you can do so by clicking the button below. This action cannot be undone."}),e.jsxs("button",{onClick:()=>ke(!0),className:"inline-flex items-center px-6 py-3 text-base font-bold bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all transform hover:scale-105",children:[e.jsx(N0,{className:"w-5 h-5 mr-2"}),"Withdraw Application"]})]})]})}),a.rejection_reason&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(jt,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-red-900 dark:text-red-200 mb-1",children:"Rejection Reason"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:a.rejection_reason})]})]})})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-700 pt-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Documents"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Upload required documents according to guidelines"})]}),a&&e.jsxs("button",{onClick:()=>Z(!0),className:"flex items-center gap-2 px-3 py-2 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 border border-blue-200 dark:border-blue-800 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[e.jsx(Rs,{className:"w-4 h-4"}),"Guidelines"]})]}),G.requirements&&G.requirements.length>0&&e.jsxs("div",{className:"mb-6 bg-white dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-slate-700 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Completion Progress"}),e.jsxs("span",{className:"text-sm font-bold text-orange-600 dark:text-orange-400",children:[a&&a.verification_documents?Math.round(a.verification_documents.length/G.requirements.length*100):0,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 shadow-inner",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-500 shadow-sm ${a&&a.verification_documents&&a.verification_documents.length===G.requirements.length?"bg-gradient-to-r from-green-500 to-green-600":a&&a.verification_documents&&a.verification_documents.length>0?"bg-gradient-to-r from-blue-500 to-blue-600":"bg-gradient-to-r from-gray-300 to-gray-400"}`,style:{width:`${a&&a.verification_documents?Math.round(a.verification_documents.length/G.requirements.length*100):0}%`}})}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:a&&a.verification_documents?`${a.verification_documents.length} of ${G.requirements.length} required documents submitted`:`0 of ${G.requirements.length} required documents submitted`})]}),!a&&e.jsx("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(bt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-yellow-900 dark:text-yellow-200 mb-1",children:"Application Required"}),e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"An application must be created before you can upload documents. Please contact the administrator to create an application for your school."})]})]})}),G.requirements&&G.requirements.length>0?e.jsx("div",{className:"space-y-3",children:G.requirements.map((Ce,Re)=>{const Ke=a&&a.verification_documents&&a.verification_documents.find(Oe=>Oe.document_name?.toLowerCase().includes(Ce.title.toLowerCase().substring(0,15))||Ce.title.toLowerCase().includes(Oe.document_name?.toLowerCase().substring(0,15)||"")),Tt=!!Ke,le=Ke?.verification_status||"pending";return e.jsx("div",{className:`p-3 rounded-lg border transition-all hover:shadow-sm ${Tt?le==="verified"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":le==="rejected"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start space-x-2 flex-1 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:Tt?le==="verified"?e.jsx(Le,{className:"h-4 w-4 text-green-500 dark:text-green-400"}):le==="rejected"?e.jsx(jt,{className:"h-4 w-4 text-red-500 dark:text-red-400"}):e.jsx(Nt,{className:"h-4 w-4 text-blue-500 dark:text-blue-400"}):e.jsx("div",{className:"h-4 w-4 border-2 border-gray-300 dark:border-gray-500 rounded-full"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Ce.title}),e.jsx("span",{className:"px-2 py-0.5 text-[10px] font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 rounded-full",children:"Required"})]}),Ce.content&&e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5 line-clamp-1",children:[Ce.content.replace(/<[^>]*>/g,"").substring(0,100),Ce.content.length>100?"...":""]}),Tt&&Ke&&e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx(ut,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"font-medium",children:Ke.document_name})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-500",children:[Ke.file_size&&e.jsxs("span",{children:[(Ke.file_size/1024/1024).toFixed(2)," MB"]}),e.jsxs("span",{children:["Uploaded: ",new Date(Ke.uploaded_at).toLocaleDateString()]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-semibold whitespace-nowrap ${Tt?le==="verified"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300":le==="rejected"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:Tt?le==="verified"?" Verified":le==="rejected"?" Rejected":" Pending":" Missing"}),Tt&&Ke?e.jsxs("div",{className:"flex gap-1 ml-1",children:[e.jsx("button",{onClick:()=>{fetch(`${Qa}/api/partner-school/applications/${a.id}/documents/${Ke.id}/view`,{headers:{Authorization:`Bearer ${s}`}}).then(Oe=>{if(!Oe.ok)throw new Error("Failed to fetch document");return Oe.blob()}).then(Oe=>{const Ue=window.URL.createObjectURL(Oe);window.open(Ue,"_blank","noopener,noreferrer"),setTimeout(()=>window.URL.revokeObjectURL(Ue),100)}).catch(Oe=>{console.error("Error viewing document:",Oe),alert("Failed to view document")})},className:"p-1 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 rounded hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"View document",children:e.jsx(Ft,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{fetch(`${Qa}/api/partner-school/applications/${a.id}/documents/${Ke.id}/download`,{headers:{Authorization:`Bearer ${s}`}}).then(Oe=>{if(!Oe.ok)throw new Error("Failed to download document");return Oe.blob()}).then(Oe=>{const Ue=window.URL.createObjectURL(Oe),ue=document.createElement("a");ue.href=Ue,ue.download=Ke.document_name||"document",document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),window.URL.revokeObjectURL(Ue)}).catch(Oe=>{console.error("Error downloading document:",Oe),alert("Failed to download document")})},className:"p-1 text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 rounded hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",title:"Download document",children:e.jsx(sr,{className:"w-4 h-4"})})]}):!Tt&&a?.id?e.jsxs("button",{onClick:()=>se(Ce),className:"ml-2 flex items-center gap-1.5 px-3 py-1.5 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors text-xs font-medium shadow-sm hover:shadow-md",title:"Upload document",children:[e.jsx(la,{className:"w-3.5 h-3.5"}),"Upload"]}):null]})]})},Re)})}):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(ut,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No document requirements found"}),e.jsx("p",{className:"text-xs mt-1",children:"Review guidelines to see required documents"})]})]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Partner School Guidelines"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Review the partner school guidelines to understand the requirements and benefits of becoming a partner school."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:()=>Z(!0),className:"inline-flex items-center gap-2 px-4 py-2 text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg font-medium transition-colors",children:[e.jsx(Rs,{className:"w-4 h-4"}),"View Guidelines"]}),e.jsxs("button",{onClick:J,className:"inline-flex items-center gap-2 px-4 py-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg font-medium transition-colors",children:[e.jsx(sr,{className:"w-4 h-4"}),"Download MOA Template"]})]})]})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Change Password"}),e.jsx("button",{onClick:()=>{g(!1),y({currentPassword:"",newPassword:"",confirmPassword:""}),v({score:0,feedback:[]})},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:V,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:w.current?"text":"password",value:b.currentPassword,onChange:Ce=>ye("currentPassword",Ce.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Enter current password",required:!0}),e.jsx("button",{type:"button",onClick:()=>P("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:w.current?e.jsx(Fs,{className:"h-4 w-4 text-gray-400"}):e.jsx(Ft,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:w.new?"text":"password",value:b.newPassword,onChange:Ce=>ye("newPassword",Ce.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Enter new password",required:!0}),e.jsx("button",{type:"button",onClick:()=>P("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:w.new?e.jsx(Fs,{className:"h-4 w-4 text-gray-400"}):e.jsx(Ft,{className:"h-4 w-4 text-gray-400"})})]}),b.newPassword&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password Strength"}),e.jsx("span",{className:`text-sm font-medium ${k.score===100?"text-green-600":k.score>=60?"text-yellow-600":"text-red-600"}`,children:k.score===100?"Strong":k.score>=60?"Medium":"Weak"})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${k.score===100?"bg-green-500":k.score>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${k.score}%`}})}),e.jsx("div",{className:"space-y-1",children:k.feedback.map((Ce,Re)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:`h-4 w-4 ${Ce.valid?"text-green-500":"text-gray-400"}`}),e.jsx("span",{className:`text-sm ${Ce.valid?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:Ce.text})]},Re))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:w.confirm?"text":"password",value:b.confirmPassword,onChange:Ce=>ye("confirmPassword",Ce.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Confirm new password",required:!0}),e.jsx("button",{type:"button",onClick:()=>P("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:w.confirm?e.jsx(Fs,{className:"h-4 w-4 text-gray-400"}):e.jsx(Ft,{className:"h-4 w-4 text-gray-400"})})]}),b.confirmPassword&&e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[e.jsx(Le,{className:`h-4 w-4 ${b.newPassword===b.confirmPassword?"text-green-500":"text-red-500"}`}),e.jsx("span",{className:`text-sm ${b.newPassword===b.confirmPassword?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:b.newPassword===b.confirmPassword?"Passwords match":"Passwords do not match"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{g(!1),y({currentPassword:"",newPassword:"",confirmPassword:""}),v({score:0,feedback:[]})},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:_||k.score<100||b.newPassword!==b.confirmPassword,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:_?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Changing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(kn,{className:"h-4 w-4"}),e.jsx("span",{children:"Change Password"})]})})]})]})]})}),A&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4 z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Upload Document"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Upload required documents according to partner school guidelines"})]}),e.jsx("button",{onClick:()=>{E(!1),D({document_type:"other",document_name:"",file:null}),F(null),I(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(wt,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[T&&e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Le,{className:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-sm font-semibold text-green-900 dark:text-green-200 mb-1",children:["Uploading for: ",T.title]}),T.content&&e.jsxs("p",{className:"text-xs text-green-800 dark:text-green-300 mt-1",children:[T.content.replace(/<[^>]*>/g,"").substring(0,150),T.content.length>150?"...":""]})]})]})}),!T&&e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Rs,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 dark:text-blue-200",children:"Required Documents"}),a&&a.verification_documents&&G.requirements&&e.jsxs("span",{className:"text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[a.verification_documents.length,"/",G.requirements.length," uploaded"]})]}),G.requirements&&G.requirements.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-2 max-h-32 overflow-y-auto",children:[G.requirements.slice(0,5).map((Ce,Re)=>{const Ke=a&&a.verification_documents&&a.verification_documents.some(Tt=>Tt.document_name?.toLowerCase().includes(Ce.title.toLowerCase().substring(0,10))||Ce.title.toLowerCase().includes(Tt.document_name?.toLowerCase().substring(0,10)||""));return e.jsxs("div",{className:`flex items-center gap-2 text-xs p-2 rounded ${Ke?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-white dark:bg-slate-700 text-blue-800 dark:text-blue-300"}`,children:[Ke?e.jsx(Le,{className:"w-3.5 h-3.5 text-green-600 dark:text-green-400 flex-shrink-0"}):e.jsx("div",{className:"w-3.5 h-3.5 border-2 border-blue-400 dark:border-blue-500 rounded flex-shrink-0"}),e.jsx("span",{className:Ke?"line-through opacity-75":"",children:Ce.title})]},Re)}),G.requirements.length>5&&e.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:["+ ",G.requirements.length-5," more requirements"]})]}),e.jsx("button",{type:"button",onClick:()=>{E(!1),Z(!0)},className:"mt-2 text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 underline flex items-center gap-1",children:"View full guidelines with details "})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Review the partner school guidelines to see all required documents."}),e.jsx("button",{type:"button",onClick:()=>{E(!1),Z(!0)},className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 underline whitespace-nowrap ml-3",children:"View Guidelines "})]})]})]})}),e.jsxs("form",{onSubmit:te,className:"space-y-4",children:[H&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:H})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Document Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:R.document_type,onChange:Ce=>D(Re=>({...Re,document_type:Ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Select document type..."}),e.jsx("option",{value:"accreditation",children:"Accreditation Certificate"}),e.jsx("option",{value:"license",children:"Business License / Permit"}),e.jsx("option",{value:"registration",children:"Registration Certificate"}),e.jsx("option",{value:"tax",children:"Tax Identification"}),e.jsx("option",{value:"bank",children:"Bank Account Information"}),e.jsx("option",{value:"authorization",children:"Authorization Letter"}),e.jsx("option",{value:"other",children:"Other Document"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Select the type that best matches your document from the requirements"})]}),R.document_type&&G.requirements&&e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-medium text-amber-900 dark:text-amber-200 mb-2",children:"Matching Requirements:"}),e.jsxs("div",{className:"space-y-1",children:[G.requirements.filter(Ce=>{const Re=R.document_type.toLowerCase(),Ke=Ce.title.toLowerCase();return Ke.includes(Re)||Re==="accreditation"&&Ke.includes("accredit")||Re==="license"&&(Ke.includes("license")||Ke.includes("permit"))||Re==="registration"&&Ke.includes("regist")||Re==="tax"&&Ke.includes("tax")||Re==="bank"&&Ke.includes("bank")||Re==="authorization"&&Ke.includes("author")}).slice(0,3).map((Ce,Re)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-800 dark:text-amber-300",children:[e.jsx(Le,{className:"w-3 h-3"}),e.jsx("span",{children:Ce.title})]},Re)),G.requirements.filter(Ce=>{const Re=R.document_type.toLowerCase(),Ke=Ce.title.toLowerCase();return Ke.includes(Re)||Re==="accreditation"&&Ke.includes("accredit")||Re==="license"&&(Ke.includes("license")||Ke.includes("permit"))||Re==="registration"&&Ke.includes("regist")||Re==="tax"&&Ke.includes("tax")||Re==="bank"&&Ke.includes("bank")||Re==="authorization"&&Ke.includes("author")}).length===0&&e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400 italic",children:"No matching requirement found. Make sure your document name clearly indicates which requirement it fulfills."})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Document Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:R.document_name,onChange:Ce=>D(Re=>({...Re,document_name:Ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:T?T.title:"e.g., Business Permit 2024, Accreditation Certificate",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:T?`This document will be linked to: ${T.title}`:"Provide a clear, descriptive name for this document"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["File ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-lg transition-colors ${L?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-slate-600 hover:border-green-400 dark:hover:border-green-500"}`,onDragEnter:at,onDragLeave:at,onDragOver:at,onDrop:pt,children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(Ia,{className:`mx-auto h-12 w-12 ${L?"text-green-500":"text-gray-400"}`}),e.jsxs("div",{className:"flex text-sm text-gray-600 dark:text-gray-400 justify-center items-center",children:[e.jsxs("label",{className:"relative cursor-pointer bg-white dark:bg-slate-700 rounded-md font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 transition-colors",children:[e.jsx("span",{className:"px-3 py-1",children:"Upload a file"}),e.jsx("input",{type:"file",className:"sr-only",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:Se,required:!0})]}),e.jsx("p",{className:"pl-2",children:"or drag and drop"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF, JPG, PNG, DOC, DOCX up to 10MB"}),R.file&&e.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ut,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),e.jsx("p",{className:"text-sm font-medium text-green-900 dark:text-green-200",children:R.file.name}),e.jsxs("span",{className:"text-xs text-green-700 dark:text-green-300",children:["(",(R.file.size/1024/1024).toFixed(2)," MB)"]})]})})]})})]}),e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(bt,{className:"w-4 h-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-amber-900 dark:text-amber-200 mb-1",children:"Upload Tips:"}),e.jsxs("ul",{className:"text-xs text-amber-800 dark:text-amber-300 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Ensure documents are clear and legible"}),e.jsx("li",{children:"Upload documents in PDF format when possible"}),e.jsx("li",{children:"Make sure file size is under 10MB"}),e.jsx("li",{children:"Verify document names match the actual content"})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-slate-700",children:[e.jsxs("button",{type:"button",onClick:()=>{E(!1),Z(!0)},className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium flex items-center gap-1",children:[e.jsx(Rs,{className:"w-4 h-4"}),"View Guidelines"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:()=>{E(!1),D({document_type:"other",document_name:"",file:null}),F(null),I(null),M(!1)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:$||!R.file||!R.document_name||!R.document_type,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 shadow-sm hover:shadow-md",children:$?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ia,{className:"h-4 w-4"}),e.jsx("span",{children:"Upload Document"})]})})]})]})]})]})]})}),q&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Partner School Guidelines"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:He,disabled:X,className:"text-gray-500 hover:text-green-600 dark:hover:text-green-400 disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh Guidelines",children:e.jsx(Ot,{className:`w-5 h-5 ${X?"animate-spin":""}`})}),e.jsx("button",{onClick:()=>Z(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(wt,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"p-6",children:X?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ot,{className:"w-8 h-8 animate-spin text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading guidelines..."})]}):Ie?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(bt,{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-2"}),e.jsx("p",{className:"text-red-800 dark:text-red-200",children:Ie})]})}):Object.keys(G).length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(Rs,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No guidelines available at this time."})]}):e.jsx("div",{className:"space-y-6",children:Object.entries(G).map(([Ce,Re])=>{const Ke=ce[Ce]||ut,Tt=$e[Ce]||Ce,le=Pe[Ce]!==!1;return e.jsxs("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>qe(Ce),className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-slate-700 hover:bg-gray-100 dark:hover:bg-slate-600 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ke,{className:"w-5 h-5 text-green-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Tt})]}),le?e.jsx(pi,{className:"w-5 h-5 text-gray-400"}):e.jsx(Ra,{className:"w-5 h-5 text-gray-400"})]}),le&&e.jsx("div",{className:"p-4 space-y-4",children:Array.isArray(Re)&&Re.length>0?Re.map((Oe,Ue)=>e.jsxs("div",{className:"border-l-4 border-green-500 pl-4 py-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:Oe.title}),Oe.content&&e.jsx("div",{className:"text-gray-700 dark:text-gray-300 prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:Oe.content}}),Oe.description&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:Oe.description})]},Oe.id||Ue)):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No items in this section."})})]},Ce)})})})]})}),et&&i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"School Information"}),e.jsx("button",{onClick:()=>{ve(!1),pe(null)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Xe,className:"space-y-4",children:[ne&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:ne})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Classification ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:Ze.classification,onChange:Ce=>Qe(Re=>({...Re,classification:Ce.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Select classification..."}),hk().map(Ce=>e.jsx("option",{value:Ce,children:Ce},Ce))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:Ze.address,onChange:Ce=>Qe(Re=>({...Re,address:Ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Street address, building, etc."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),e.jsx("input",{type:"text",value:Ze.city,onChange:Ce=>Qe(Re=>({...Re,city:Ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Province"}),e.jsx("input",{type:"text",value:Ze.province,onChange:Ce=>Qe(Re=>({...Re,province:Ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Province"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Region"}),e.jsx("input",{type:"text",value:Ze.region,onChange:Ce=>Qe(Re=>({...Re,region:Ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Region"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Number"}),e.jsx("input",{type:"text",value:Ze.contact_number,onChange:Ce=>Qe(Re=>({...Re,contact_number:Ce.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"09123456789"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{ve(!1),pe(null)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:ht||!Ze.classification,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:ht?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsx("span",{children:"Save Information"})})]})]})]})}),Ee&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(bt,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Withdraw Application"})]})}),e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N0,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-red-900 dark:text-red-200 mb-2",children:"Warning: This action cannot be undone"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:"Withdrawing your application will:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-red-800 dark:text-red-300 mt-2 space-y-1",children:[e.jsx("li",{children:"Cancel your application immediately"}),e.jsx("li",{children:"Stop the review process"}),e.jsx("li",{children:"Reset your verification status"}),e.jsx("li",{children:"Require you to reapply if you change your mind"})]})]})]})}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Are you sure you want to withdraw your partner school application?"})]})}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900/50 px-6 py-4 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>ke(!1),disabled:xe,className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{type:"button",onClick:he,disabled:xe,className:"px-6 py-2.5 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg font-bold shadow-md hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:xe?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Withdrawing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(N0,{className:"w-4 h-4"}),e.jsx("span",{children:"Yes, Withdraw"})]})})]})]})})]})},Zue=({schoolId:t,refreshTrigger:r=0})=>{const[s,a]=f.useState(null),[n,i]=f.useState(!0),[l,c]=f.useState(null);f.useEffect(()=>{u()},[t,r]);const u=async()=>{try{i(!0);const g=await(await fetch(`${it.AID_SERVICE.BASE_URL}/api/foundation/schools/${t}/budget`)).json();g.success?a(g.data):c(g.message)}catch{c("Failed to load budget information")}finally{i(!1)}},h=x=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(x);if(n)return e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-8 flex items-center justify-center",children:e.jsx(Lr,{className:"w-8 h-8 text-blue-500 animate-spin"})});if(l||!s)return e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:e.jsxs("div",{className:"flex gap-3 text-amber-600 dark:text-amber-400",children:[e.jsx(bt,{className:"w-6 h-6 shrink-0"}),e.jsx("p",{className:"text-sm font-medium",children:l||"No active budget allocation found for your school. Please contact foundation admin."})]})});const m=s.allocated_amount>0?s.disbursed_amount/s.allocated_amount*100:0;return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 overflow-hidden max-w-xl",children:[e.jsxs("div",{className:"p-6 border-b border-gray-50 dark:border-slate-700/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg",children:e.jsx(fo,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white uppercase tracking-tight",children:"Available School Budget"}),e.jsxs("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:["AY ",s.academic_year]})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${s.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-700"}`,children:s.status})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Remaining Funds"}),e.jsx("p",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:h(s.available_amount)}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("div",{className:"flex-1 bg-gray-100 dark:bg-slate-700 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-700 ${m>=90?"bg-red-500":m>=70?"bg-amber-500":"bg-blue-500"}`,style:{width:`${Math.min(m,100)}%`}})}),e.jsxs("span",{className:"text-xs font-bold text-gray-500 shrink-0",children:[m.toFixed(0),"% Used"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4 border-y border-gray-100 dark:border-slate-700/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Allocated"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:h(s.allocated_amount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Disbursed"}),e.jsx("p",{className:"text-sm font-bold text-blue-600",children:h(s.disbursed_amount)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[e.jsx(zt,{className:"w-4 h-4 shrink-0"}),e.jsxs("p",{className:"text-xs font-medium",children:["Valid until ",e.jsx("span",{className:"text-gray-900 dark:text-slate-200 font-bold",children:s.expiry_date?zn(s.expiry_date).format("MMMM DD, YYYY"):"N/A"})]})]}),e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800/50 rounded-xl flex gap-3",children:[e.jsx(Gn,{className:"w-4 h-4 text-blue-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 leading-relaxed font-medium",children:"Funds are automatically deducted from your allocation when you record a valid withdrawal."})]})]}),e.jsxs("button",{className:"flex items-center justify-between w-full p-3 bg-gray-50 dark:bg-slate-900/50 border border-gray-100 dark:border-slate-800 rounded-xl group hover:bg-white dark:hover:bg-slate-800 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Vr,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-slate-200",children:"View Full Disbursement History"})]}),e.jsx(Nx,{className:"w-4 h-4 text-gray-400 group-hover:translate-x-1 transition-transform"})]})]})]})},Que=({schoolId:t})=>{const{token:r}=Lt(),{success:s,error:a}=Zt(),[n,i]=f.useState(!1),[l,c]=f.useState([]),[u,h]=f.useState(!0),[m,x]=f.useState(0),g=async()=>{try{h(!0);const w=await Yue(r,t);c(w)}catch{a("Failed to load budget withdrawals")}finally{h(!1)}};f.useEffect(()=>{r&&t&&g()},[r,t,m]);const b=(w="Withdrawal recorded successfully")=>{i(!1),x(N=>N+1),s(w)},y=w=>{window.open(`${it.AID_SERVICE.BASE_URL}/api/partner-school/withdrawals/${w}/proof`,"_blank")};return e.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"w-full",children:e.jsx(Zue,{schoolId:t,refreshTrigger:m})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-gray-100 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(ut,{className:"w-5 h-5 text-blue-500"}),"Budget Withdrawals"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Record your budget usage with proof documents."})]}),e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium shadow-sm w-full sm:w-auto justify-center",children:[e.jsx(la,{className:"w-4 h-4"}),"Record Withdrawal"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-100 dark:border-slate-700 text-xs uppercase text-gray-500 font-semibold tracking-wider",children:[e.jsx("th",{className:"py-3 px-4",children:"Date"}),e.jsx("th",{className:"py-3 px-4",children:"Purpose"}),e.jsx("th",{className:"py-3 px-4 text-right",children:"Amount"}),e.jsx("th",{className:"py-3 px-4 text-right",children:"Documents"})]})}),e.jsx("tbody",{className:"text-sm divide-y divide-gray-50 dark:divide-slate-700/50",children:u?e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"py-12 text-center",children:[e.jsx(Lr,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Loading withdrawals..."})]})}):l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-8 text-center text-gray-500",children:"No withdrawals recorded yet."})}):l.map(w=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/30 transition-colors",children:[e.jsx("td",{className:"py-3 px-4 text-gray-900 dark:text-white",children:zn(w.withdrawal_date).format("MMM DD, YYYY")}),e.jsxs("td",{className:"py-3 px-4 text-gray-600 dark:text-slate-300",children:[e.jsx("div",{className:"font-medium",children:w.purpose}),w.notes&&e.jsx("div",{className:"text-xs text-gray-400 truncate max-w-xs",children:w.notes})]}),e.jsxs("td",{className:"py-3 px-4 text-right font-bold text-gray-900 dark:text-white",children:["-",parseFloat(w.amount).toLocaleString()]}),e.jsx("td",{className:"py-3 px-4 text-right",children:w.proof_document_path&&e.jsxs("button",{onClick:()=>y(w.id),className:"inline-flex items-center gap-1 text-[10px] font-bold uppercase tracking-wider text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded border border-blue-100 dark:border-blue-800/30 hover:bg-blue-100 transition-colors",children:[e.jsx(ut,{className:"w-3 h-3"}),"View Proof"]})})]},w.id))})]})})]}),n&&e.jsx(eme,{schoolId:t,onClose:()=>i(!1),onSuccess:()=>b("Withdrawal recorded successfully")})]})},eme=({schoolId:t,onClose:r,onSuccess:s})=>{const{token:a}=Lt(),[n,i]=f.useState(""),[l,c]=f.useState(""),[u,h]=f.useState(zn().format("YYYY-MM-DD")),[m,x]=f.useState(""),[g,b]=f.useState(null),[y,w]=f.useState(!1),N=async _=>{if(_.preventDefault(),!g){alert("Proof document is required");return}w(!0);try{const S=new FormData;S.append("school_id",t),S.append("amount",n),S.append("purpose",l),S.append("withdrawal_date",u),S.append("notes",m),S.append("proof_document",g),await Jue(a,S),s()}catch(S){console.error(S),alert(S.message||"Failed to record withdrawal")}finally{w(!1)}};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl border border-gray-100 dark:border-slate-700",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Record Budget Withdrawal"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx(jt,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Withdrawal Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-bold",children:""}),e.jsx("input",{type:"number",required:!0,min:"1",value:n,onChange:_=>i(_.target.value),className:"w-full pl-8 pr-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all font-bold",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Withdrawal Date"}),e.jsx("input",{type:"date",required:!0,value:u,onChange:_=>h(_.target.value),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Purpose"}),e.jsx("input",{type:"text",required:!0,value:l,onChange:_=>c(_.target.value),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"e.g. Tuition fee batch 1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Additional Notes"}),e.jsx("textarea",{value:m,onChange:_=>x(_.target.value),className:"w-full px-4 py-2 border border-gray-200 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all h-20 resize-none",placeholder:"Optional explanation..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-slate-300",children:"Proof Document (Required)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-200 dark:border-slate-600 rounded-xl p-4 text-center hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors cursor-pointer relative group",children:[e.jsx("input",{type:"file",required:!0,accept:".pdf,.jpg,.jpeg,.png",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:_=>b(_.target.files[0])}),e.jsxs("div",{className:"flex flex-col items-center gap-2 pointer-events-none",children:[e.jsx(Ia,{className:"w-6 h-6 text-gray-400 group-hover:text-blue-500 transition-colors"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:g?g.name:"Click to upload proof of usage"})]})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"button",onClick:r,className:"flex-1 py-2.5 text-sm font-semibold text-gray-600 dark:text-slate-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y,className:"flex-1 py-2.5 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors shadow-lg shadow-blue-500/20 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y?e.jsxs(e.Fragment,{children:[e.jsx(Lr,{className:"w-4 h-4 animate-spin"}),"Submitting..."]}):"Record Withdrawal"})]})]})]})})},tme=()=>{const{currentUser:t,logout:r,token:s}=Lt(),[a,n]=f.useState("overview"),[i,l]=f.useState(null),[c,u]=f.useState(null),[h,m]=f.useState([]),[x,g]=f.useState(!1),[b,y]=f.useState(""),[w,N]=f.useState("all"),[_,S]=f.useState(!1),[k,v]=f.useState(!1),[A,E]=f.useState(!1),[T,F]=f.useState(null),[R,D]=f.useState(null),[$,B]=f.useState(!0),[H,I]=f.useState(null),[L,M]=f.useState(!1),[q,Z]=f.useState(null),[G,de]=f.useState("merge"),[X,z]=f.useState(null),[Ie,ie]=f.useState(null),[Pe,re]=f.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[Ee,ke]=f.useState({current:!1,new:!1,confirm:!1}),[xe,Q]=f.useState({score:0,feedback:[]}),[et,ve]=f.useState(!1);De.useEffect(()=>{const le=()=>{E(window.innerWidth<768)};return le(),window.addEventListener("resize",le),()=>window.removeEventListener("resize",le)},[]);const[Ze,Qe]=f.useState(()=>{if(typeof window<"u"){const le=localStorage.getItem("theme");return le||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});f.useEffect(()=>{const le=window.document.documentElement;le.classList.remove("light","dark"),le.classList.add(Ze),localStorage.setItem("theme",Ze)},[Ze]);const ht=()=>{Qe(le=>le==="dark"?"light":"dark")},[K,ne]=f.useState(!1),pe=async()=>{try{ne(!0),await r(),window.location.href="/"}catch(le){console.error("Logout failed:",le),window.location.href="/"}finally{ne(!1)}},Xe=()=>{v(!k)},ee=le=>{const Oe=[];let Ue=0;return le.length>=8?(Oe.push({text:"At least 8 characters",valid:!0}),Ue+=20):Oe.push({text:"At least 8 characters",valid:!1}),/[a-z]/.test(le)?(Oe.push({text:"One lowercase letter",valid:!0}),Ue+=20):Oe.push({text:"One lowercase letter",valid:!1}),/[A-Z]/.test(le)?(Oe.push({text:"One uppercase letter",valid:!0}),Ue+=20):Oe.push({text:"One uppercase letter",valid:!1}),/\d/.test(le)?(Oe.push({text:"One number",valid:!0}),Ue+=20):Oe.push({text:"One number",valid:!1}),/[!@#$%^&*(),.?":{}|<>]/.test(le)?(Oe.push({text:"One special character",valid:!0}),Ue+=20):Oe.push({text:"One special character",valid:!1}),{score:Ue,feedback:Oe}},he=(le,Oe)=>{if(re(Ue=>({...Ue,[le]:Oe})),le==="newPassword"){const Ue=ee(Oe);Q(Ue)}},W=le=>{ke(Oe=>({...Oe,[le]:!Oe[le]}))},ye=async le=>{if(le.preventDefault(),Pe.newPassword!==Pe.confirmPassword){alert("New passwords do not match");return}if(xe.score<100){alert("Please ensure all password requirements are met");return}ve(!0);try{const Oe=await fetch(`${bh("/api/change-password")} `,{method:"POST",headers:{Authorization:`Bearer ${s} `,"Content-Type":"application/json"},body:JSON.stringify({current_password:Pe.currentPassword,new_password:Pe.newPassword,confirm_password:Pe.confirmPassword})});if(Oe.ok)alert("Password changed successfully"),re({currentPassword:"",newPassword:"",confirmPassword:""}),Q({score:0,feedback:[]});else{const Ue=await Oe.json();alert(Ue.message||"Failed to change password")}}catch(Oe){console.error("Error changing password:",Oe),alert("An error occurred while changing password")}finally{ve(!1)}},P=()=>({overview:["Partner School","Overview"],upload:["Partner School","Upload Data"],students:["Partner School","Students"],budget:["Partner School","Budget & Funds"],reports:["Partner School","Reports"],settings:["Partner School","Settings"]})[a]||["Partner School","Overview"];f.useEffect(()=>{(async()=>{if(!s){B(!1);return}try{B(!0),I(null);const Oe=await zue(s);F(Oe);const ue=Oe?.school?.verification_status==="verified";if(M(!ue),ue)try{const ze=await Vue(s);D(ze)}catch(ze){console.error("Error fetching stats (may not be available for applicants):",ze)}}catch(Oe){console.error("Error fetching school data:",Oe),Oe.message.includes("No school assigned")?I("No school has been assigned to your account. Please contact the administrator to assign a school to your account."):I(Oe.message),F(null),D(null)}finally{B(!1)}})()},[s,t]);const V=R?[{title:"Total Applications",value:R.total_applications?.toLocaleString()||"0",change:`+ ${R.recent_applications||0} this month`,changeType:R.recent_applications>0?"increase":"neutral",icon:Ht,color:"green"},{title:"Pending Applications",value:R.pending_applications?.toLocaleString()||"0",change:"Awaiting review",changeType:"neutral",icon:Nt,color:"blue"},{title:"Approved Applications",value:R.approved_applications?.toLocaleString()||"0",change:"Successfully processed",changeType:"increase",icon:Le,color:"green"},{title:"Rejected Applications",value:R.rejected_applications?.toLocaleString()||"0",change:"Not approved",changeType:R.rejected_applications>0?"decrease":"neutral",icon:bt,color:R.rejected_applications>0?"red":"green"}]:[];f.useEffect(()=>{a==="students"&&s?te():(m([]),g(!1))},[a,s]),f.useEffect(()=>{a==="students"&&s&&te()},[b,w]);const te=async()=>{try{g(!0),console.log(" Starting fetchStudentsData..."),console.log("Token:",s?"Present":"Missing"),console.log("Filter status:",w),console.log("Search term:",b);const[le,Oe]=await Promise.allSettled([Hue(s,{status:w,search:b,per_page:1e3}),Gue(s,{search:b,per_page:1e3})]),Ue=le.status==="fulfilled"?le.value:null,ue=Oe.status==="fulfilled"?Oe.value:null;le.status==="rejected"&&console.error(" Error fetching enrollment data:",le.reason),Oe.status==="rejected"&&console.error(" Error fetching flexible students:",Oe.reason),console.log(" Enrollment data received:",Ue),console.log(" Flexible data received:",ue),console.log(" Enrollment data type:",typeof Ue),console.log(" Enrollment data.data type:",typeof Ue?.data),console.log(" Enrollment data.data is array:",Array.isArray(Ue?.data));let ze=[],fe=[];Ue&&(Array.isArray(Ue.data)?ze=Ue.data:Ue.data&&typeof Ue.data=="object"?Ue.data.data?ze=Ue.data.data:typeof Ue.data.items=="function"?ze=Ue.data.items():Array.isArray(Ue.data)&&(ze=Ue.data):Array.isArray(Ue)&&(ze=Ue)),ue&&ue.data&&typeof ue.data=="object"&&(ue.data.data?fe=ue.data.data:typeof ue.data.items=="function"?fe=ue.data.items():Array.isArray(ue.data)&&(fe=ue.data)),console.log("Processed students array:",ze),console.log("Processed flexible array:",fe);const Ge=ze.map(Me=>{console.log("Processing student:",Me.student_id_number),console.log("Student data:",Me);const Pt=Me.enrollmentData||[];return console.log("Enrollment data for",Me.student_id_number,":",Pt),{...Me,enrollmentData:Pt,student_id_number:Me.student_id_number,first_name:Me.first_name,last_name:Me.last_name,full_name:Me.full_name||`${Me.first_name} ${Me.last_name} `,isFlexible:!1}}),rt=fe.map(Me=>(console.log("Processing flexible student:",Me),{id:Me.id,student_id_number:Me.student_id_number,first_name:Me.first_name,last_name:Me.last_name,full_name:Me.full_name,flexibleData:Me.data,headers:Me.headers,uploaded_at:Me.uploaded_at,isFlexible:!0})).reduce((Me,Pt)=>{const Ct=Pt.student_id_number;return(!Me[Ct]||new Date(Pt.uploaded_at)>new Date(Me[Ct].uploaded_at))&&(Me[Ct]=Pt),Me},{}),oe=Object.values(rt);console.log("Grouped flexible students:",oe),console.log("Total flexible students after grouping:",oe.length);const Fe=[...Ge,...oe];Fe.forEach((Me,Pt)=>{console.log(`Student ${Pt+1}:`,{id:Me.id,student_id_number:Me.student_id_number,first_name:Me.first_name,last_name:Me.last_name,isFlexible:Me.isFlexible,flexibleData:Me.flexibleData,enrollmentData:Me.enrollmentData,scholarshipApplications:Me.scholarshipApplications})}),m(Fe)}catch(le){console.error("Error fetching students data:",le),m([])}finally{g(!1)}},Ne=async le=>{const Oe=le.target.files[0];if(Oe){l(Oe),Z({status:"processing",message:"Processing file..."});try{let Ue;const ue=Oe.name.split(".").pop().toLowerCase();if(ue==="xlsx"||ue==="xls")throw Z({status:"error",message:"Excel file support temporarily disabled"}),new Error("Excel file support temporarily disabled");Z({status:"processing",message:"Processing CSV file..."}),Ue=await qe(Oe);const ze=Object.keys(Ue[0]||{});console.log("Parsed data:",Ue),console.log("Headers:",ze),console.log("Number of records:",Ue.length),Z({status:"ready",message:`File processed successfully! ${Ue.length} student records found.Ready to upload.`}),z(Ue),ie(ze)}catch(Ue){console.error("Error processing CSV file:",Ue),Z({status:"error",message:"Error processing CSV file:"+Ue.message})}}},Se=le=>{le.preventDefault()},at={citizen_id:["citizen_id","citizen id","citizenid","citizen","citizen number","citizennumber","citizen id number","citizen no","citizenno","citizen_id_number","citizenidnumber","national_id","national id","nationalid","national_id_number","nationalidnumber","student_id","student id","studentid","student_id_number","studentidnumber","id","id_number","idnumber","student_no","studentno","student number"],student_id_number:["student_id_number","student id","id number","student_id","student_no","student number","studentid","studentno","id","student","studentidnumber","studentnumber","student id number","student no","student number","id no","idno"],first_name:["first_name","first name","given name","fname","firstname","givenname","first","name","firstname","given","f name","first name"],last_name:["last_name","last name","surname","lname","lastname","family name","last","surname","family","l name","last name","familyname"],middle_name:["middle_name","middle name","mname","middlename","middle initial","middleinitial","middle","mi","m name","middle name","middle_initial","middleinitial"],extension_name:["extension_name","extension name","ext","extension","suffix","name_suffix","name suffix","extensionname","namesuffix","ext_name","extname"],sex:["sex","gender","sex_gender","sex gender","male_female","male female","m_f","m f","male/female","male or female","gender_sex","gendersex"],civil_status:["civil_status","civil status","marital_status","marital status","status","civilstatus","maritalstatus","marital","civil","marital_status","maritalstatus"],nationality:["nationality","citizenship","citizen","country","nationality_citizenship","nationality citizenship","citizen_status","citizen status","citizenstatus"],birth_place:["birth_place","birth place","place_of_birth","place of birth","birthplace","placeofbirth","born_in","born in","birth_location","birth location","birthlocation"],birth_date:["birth_date","birth date","date_of_birth","date of birth","birthdate","dateofbirth","dob","born_on","born on","birth_day","birth day","birthday"],contact_number:["contact_number","contact number","phone","mobile","phone_number","phone number","contactnumber","phonenumber","mobile_number","mobile number","mobilenumber","telephone","tel","cell","cell_phone","cell phone","cellphone"],email_address:["email_address","email address","email","e_mail","e mail","emailaddr","emailaddr","email_addr","email addr","mail","electronic_mail","electronic mail"],enrollment_year:["enrollment_year","enrollment year","academic year","school year","enrollmentyear","academicyear","schoolyear","academic_year","school_year","enrollment year","academic year","school year"],enrollment_term:["enrollment_term","enrollment term","semester","term","enrollmentterm","sem","semester term","term semester","enrollment term","enrollment","term","semester","period","quarter","trimester"],is_currently_enrolled:["is_currently_enrolled","currently enrolled","enrolled","current enrollment","iscurrentlyenrolled","currentlyenrolled","currentenrollment","enrolled status","enrollment status","status","active","current","enrolled status","currently enrolled","current enrollment","enrollment status","enrollment_status","enrollment_status","enrollment status","enrollmentstatus","enrolled_status","enrolled status","enrolledstatus","current_status","current status","currentstatus","student_status","student status","studentstatus"],enrollment_status:["enrollment_status","enrollment status","status","enrolled","enrollment","enrollmentstatus","enrolled_status","enrolled status","enrolledstatus","current_status","current status","currentstatus","student_status","student status","active","inactive","enrollment_state","enrollment state","enrollmentstate"],academic_year:["academic_year","academic year","academicyear","school_year","school year","schoolyear","year","academic_session","academic session","academicsession","sy","ay","session","period","academic_period","academic period"],semester:["semester","sem","term","school_term","school term","schoolterm","academic_term","academic term","academicterm","period","quarter","trimester","qtr","tri","session","academic_session","academic session"],program:["program","course","degree","program of study","course of study","degree program","major","field of study","programofstudy","courseofstudy","degreeprogram","fieldofstudy","program of study","course of study","degree program","field of study"],year_level:["year_level","year level","level","grade level","yearlevel","gradelevel","grade","class","year level","grade level","academic level","academiclevel","level year","year grade","student level","studentlevel","academic standing","standing"],educational_level:["educational_level","educational level","education_level","education level","level","school_level","school level","schoollevel","academic_level","academic level","academiclevel","degree_level","degree level","degreelevel"],major:["major","major_field","major field","majorfield","specialization","area_of_study","area of study","areaofstudy","field","subject","concentration","focus","discipline","speciality","specialty"],school_year:["school_year","school year","academic_year","academic year","schoolyear","academicyear","year","academic_period","academic period","academicperiod","enrollment_year","enrollment year","enrollmentyear"],school_term:["school_term","school term","term","semester","quarter","trimester","schoolterm","academic_term","academic term","academicterm","period","enrollment_term","enrollment term","enrollmentterm"],units_enrolled:["units_enrolled","units enrolled","units","credits","credit_hours","credit hours","unitsenrolled","credithours","load","academic_load","academic load","academicload","course_load","course load","courseload"],gpa:["gpa","grade_point_average","grade point average","grade_point","grade point","gradepoint","gwa","general_weighted_average","general weighted average","generalweightedaverage","average","grade_average","grade average","gradeaverage"],is_graduating:["is_graduating","is graduating","graduating","graduation_status","graduation status","graduationstatus","will_graduate","will graduate","willgraduate","graduate","graduation","final_year","final year","finalyear"],enrollment_date:["enrollment_date","enrollment date","enrollmentdate","date_enrolled","date enrolled","dateenrolled","enrolled_date","enrolled date","enrolleddate","admission_date","admission date","admissiondate","start_date","start date","startdate","entry_date","entry date","entrydate","registration_date","registration date","registrationdate","date","enrollment","admission"]},pt={enrollment_term:{"1st semester":"1st Semester","first semester":"1st Semester","1st sem":"1st Semester","first sem":"1st Semester","sem 1":"1st Semester","semester 1":"1st Semester",1:"1st Semester","2nd semester":"2nd Semester","second semester":"2nd Semester","2nd sem":"2nd Semester","second sem":"2nd Semester","sem 2":"2nd Semester","semester 2":"2nd Semester",2:"2nd Semester",summer:"Summer","summer term":"Summer","summer semester":"Summer",SUMMER:"Summer",midyear:"Midyear","mid year":"Midyear","mid-year":"Midyear",FIRST:"1st Semester",SECOND:"2nd Semester"},is_currently_enrolled:{true:"true",yes:"true",y:"true",1:"true",enrolled:"true",active:"true",current:"true",ACTIVE:"true",false:"false",no:"false",n:"false",0:"false","not enrolled":"false",inactive:"false",dropped:"false",graduated:"false",INACTIVE:"false",DROPPED:"false",GRADUATED:"false"},year_level:{"1st year":"1st Year","first year":"1st Year",first_year:"1st Year","1st yr":"1st Year","first yr":"1st Year","year 1":"1st Year",1:"1st Year","2nd year":"2nd Year","second year":"2nd Year",second_year:"2nd Year","2nd yr":"2nd Year","second yr":"2nd Year","year 2":"2nd Year",2:"2nd Year","3rd year":"3rd Year","third year":"3rd Year",third_year:"3rd Year","3rd yr":"3rd Year","third yr":"3rd Year","year 3":"3rd Year",3:"3rd Year","4th year":"4th Year","fourth year":"4th Year",fourth_year:"4th Year","4th yr":"4th Year","fourth yr":"4th Year","year 4":"4th Year",4:"4th Year","5th year":"5th Year","fifth year":"5th Year",fifth_year:"5th Year","5th yr":"5th Year","fifth yr":"5th Year","year 5":"5th Year",5:"5th Year","grade 12":"12th Grade",grade_12:"12th Grade",grade12:"12th Grade","12th grade":"12th Grade","grade 11":"11th Grade",grade_11:"11th Grade",grade11:"11th Grade","11th grade":"11th Grade","grade 10":"10th Grade",grade_10:"10th Grade",grade10:"10th Grade","10th grade":"10th Grade","grade 9":"9th Grade",grade_9:"9th Grade",grade9:"9th Grade","9th grade":"9th Grade","grade 8":"8th Grade",grade_8:"8th Grade",grade8:"8th Grade","8th grade":"8th Grade","grade 7":"7th Grade",grade_7:"7th Grade",grade7:"7th Grade","7th grade":"7th Grade",FIRST_YEAR:"1st Year",SECOND_YEAR:"2nd Year",THIRD_YEAR:"3rd Year",FOURTH_YEAR:"4th Year",FIFTH_YEAR:"5th Year",GRADE_12:"12th Grade",GRADE_11:"11th Grade",GRADE_10:"10th Grade",GRADE_9:"9th Grade",GRADE_8:"8th Grade",GRADE_7:"7th Grade"},program:{"computer science":"Bachelor of Science in Computer Science","bs computer science":"Bachelor of Science in Computer Science",bscs:"Bachelor of Science in Computer Science",cs:"Bachelor of Science in Computer Science","computer sci":"Bachelor of Science in Computer Science","comp sci":"Bachelor of Science in Computer Science",psychology:"Bachelor of Arts in Psychology","ba psychology":"Bachelor of Arts in Psychology",bapsych:"Bachelor of Arts in Psychology",psych:"Bachelor of Arts in Psychology","civil engineering":"Bachelor of Science in Civil Engineering","bs civil engineering":"Bachelor of Science in Civil Engineering",bscivil:"Bachelor of Science in Civil Engineering",ce:"Bachelor of Science in Civil Engineering","electrical engineering":"Bachelor of Science in Electrical Engineering","bs electrical engineering":"Bachelor of Science in Electrical Engineering",bsee:"Bachelor of Science in Electrical Engineering",ee:"Bachelor of Science in Electrical Engineering","mechanical engineering":"Bachelor of Science in Mechanical Engineering","bs mechanical engineering":"Bachelor of Science in Mechanical Engineering",bsme:"Bachelor of Science in Mechanical Engineering",me:"Bachelor of Science in Mechanical Engineering","business administration":"Bachelor of Science in Business Administration",bsba:"Bachelor of Science in Business Administration","bs business admin":"Bachelor of Science in Business Administration","business admin":"Bachelor of Science in Business Administration","elementary education":"Bachelor of Elementary Education",beed:"Bachelor of Elementary Education","bs elementary ed":"Bachelor of Elementary Education","secondary education":"Bachelor of Secondary Education",bsed:"Bachelor of Secondary Education","bs secondary ed":"Bachelor of Secondary Education",nursing:"Bachelor of Science in Nursing",bsn:"Bachelor of Science in Nursing","bs nursing":"Bachelor of Science in Nursing",accountancy:"Bachelor of Science in Accountancy",bsa:"Bachelor of Science in Accountancy","bs accountancy":"Bachelor of Science in Accountancy",accounting:"Bachelor of Science in Accountancy"}},se=le=>{if(!le||typeof le!="string")return null;const Ue=le.trim().replace(/['"]/g,"").toLowerCase().replace(/[^a-z0-9]/g,"");for(const ze in at)if(at[ze].some(fe=>fe.toLowerCase().replace(/[^a-z0-9]/g,"")===Ue))return ze;for(const ze in at)if(at[ze].some(fe=>Ue.includes(fe.toLowerCase().replace(/[^a-z0-9]/g,""))||fe.toLowerCase().replace(/[^a-z0-9]/g,"").includes(Ue)))return ze;const ue=Ue.split(/(?=[a-z])/).filter(ze=>ze.length>2);for(const ze in at)for(const fe of at[ze]){const Ge=fe.toLowerCase().replace(/[^a-z0-9]/g,"").split(/(?=[a-z])/).filter(tt=>tt.length>2);if(ue.some(tt=>Ge.some(rt=>tt.includes(rt)||rt.includes(tt))))return ze}return null},He=(le,Oe)=>{if(!Oe||typeof Oe!="string")return Oe;const Ue=Oe,ue=Oe.trim().toLowerCase(),ze=(fe,Ge,tt="")=>{fe!==Ge&&console.log(` Value normalized:"${fe}"  "${Ge}"(field:${le}) ${tt} `)};if(le==="first_name"||le==="last_name"){const fe=Oe.trim();return ze(Ue,fe,"[Name kept as-is]"),fe}if(le==="middle_name"){if(!Oe.trim())return null;const fe=Oe.trim();return ze(Ue,fe,"[Middle name kept as-is]"),fe}if(le==="extension_name"){const fe=Oe.trim();return ze(Ue,fe,"[Extension name kept as-is]"),fe}if(le==="student_id_number"){let fe=Oe.trim().toUpperCase();return fe=fe.replace(/^(STU|STUDENT|ID|NO|NUMBER)[\s\-_]*/i,""),fe=fe.replace(/[\s\-_]*$/i,""),!fe.startsWith("STU-")&&/^\d+/.test(fe)&&(fe=`STU-${fe} `),ze(Ue,fe,"[Student ID formatting]"),fe}if(le==="citizen_id"){let fe=Oe.trim().toUpperCase();return fe=fe.replace(/^(CIT|CITIZEN|ID|NO|NUMBER)[\s\-_]*/i,""),fe=fe.replace(/[\s\-_]*$/i,""),!fe.startsWith("CIT-")&&/^\d+/.test(fe)&&(fe=`CIT-${fe} `),ze(Ue,fe,"[Citizen ID formatting]"),fe}if(le==="enrollment_year"){const fe=ue.match(/(\d{4})[-\/]?(\d{4})?/);if(fe){const Ge=fe[1],tt=fe[2]||(parseInt(Ge)+1).toString();return`${Ge}-${tt} `}}if(le==="enrollment_date"){const fe=[/(\d{1,2})[-\/](\d{1,2})[-\/](\d{4})/,/(\d{4})[-\/](\d{1,2})[-\/](\d{1,2})/,/(\d{1,2})\s+(\d{1,2})\s+(\d{4})/,/(\d{1,2})[-\/](\d{1,2})[-\/](\d{2})/,/(\d{4})[-\/](\d{1,2})[-\/](\d{1,2})/];for(const rt of fe){const oe=Oe.match(rt);if(oe){let Fe,Me,Pt;if(rt===fe[0]||rt===fe[3]){if([,Me,Pt,Fe]=oe,Fe.length===2){const Ks=new Date().getFullYear(),Gr=Math.floor(Ks/100)*100;Fe=parseInt(Fe)>50?Gr+parseInt(Fe):Gr+100+parseInt(Fe)}}else rt===fe[1]||rt===fe[4]?[,Fe,Me,Pt]=oe:[,Me,Pt,Fe]=oe;Me=Me.padStart(2,"0"),Pt=Pt.padStart(2,"0");const Ct=`${Fe}-${Me}-${Pt} `;return ze(Ue,Ct,"[Date formatting]"),Ct}}const Ge=[/(jan|january)\s+(\d{1,2}),?\s+(\d{4})/i,/(feb|february)\s+(\d{1,2}),?\s+(\d{4})/i,/(mar|march)\s+(\d{1,2}),?\s+(\d{4})/i,/(apr|april)\s+(\d{1,2}),?\s+(\d{4})/i,/(may)\s+(\d{1,2}),?\s+(\d{4})/i,/(jun|june)\s+(\d{1,2}),?\s+(\d{4})/i,/(jul|july)\s+(\d{1,2}),?\s+(\d{4})/i,/(aug|august)\s+(\d{1,2}),?\s+(\d{4})/i,/(sep|september)\s+(\d{1,2}),?\s+(\d{4})/i,/(oct|october)\s+(\d{1,2}),?\s+(\d{4})/i,/(nov|november)\s+(\d{1,2}),?\s+(\d{4})/i,/(dec|december)\s+(\d{1,2}),?\s+(\d{4})/i],tt=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];for(const rt of Ge){const oe=Oe.match(rt);if(oe){const Fe=oe[1].toLowerCase(),Me=oe[2].padStart(2,"0"),Pt=oe[3],Ct=(tt.indexOf(Fe)+1).toString().padStart(2,"0"),Ks=`${Pt}-${Ct}-${Me} `;return ze(Ue,Ks,"[Text date formatting]"),Ks}}}if(le==="birth_date"){const fe=[/(\d{1,2})[-\/](\d{1,2})[-\/](\d{4})/,/(\d{4})[-\/](\d{1,2})[-\/](\d{1,2})/,/(\d{1,2})\s+(\d{1,2})\s+(\d{4})/,/(\d{1,2})[-\/](\d{1,2})[-\/](\d{2})/];for(const Ge of fe){const tt=Oe.match(Ge);if(tt){let rt,oe,Fe;if(Ge===fe[0]||Ge===fe[3]){if([,oe,Fe,rt]=tt,rt.length===2){const Pt=new Date().getFullYear(),Ct=Math.floor(Pt/100)*100;rt=parseInt(rt)>50?Ct+parseInt(rt):Ct+100+parseInt(rt)}}else[,rt,oe,Fe]=tt;oe=oe.padStart(2,"0"),Fe=Fe.padStart(2,"0");const Me=`${rt}-${oe}-${Fe} `;return ze(Ue,Me,"[Birth date formatting]"),Me}}}if(pt[le]){if(pt[le][ue])return pt[le][ue];for(const[fe,Ge]of Object.entries(pt[le]))if(ue.includes(fe)||fe.includes(ue))return Ge;if(le==="enrollment_term"){const fe=ue.match(/(\d+)(?:st|nd|rd|th)?\s*(?:sem|semester)/);if(fe){const Ge=parseInt(fe[1]);if(Ge===1)return"1st Semester";if(Ge===2)return"2nd Semester"}if(ue.includes("summer"))return"Summer";if(ue.includes("midyear")||ue.includes("mid year"))return"Midyear"}if(le==="year_level"){if(ue==="first_year"||ue==="firstyear"){const rt="1st Year";return ze(Ue,rt,"[Year level-first year]"),rt}if(ue==="second_year"||ue==="secondyear"){const rt="2nd Year";return ze(Ue,rt,"[Year level-second year]"),rt}if(ue==="third_year"||ue==="thirdyear"){const rt="3rd Year";return ze(Ue,rt,"[Year level-third year]"),rt}if(ue==="fourth_year"||ue==="fourthyear"){const rt="4th Year";return ze(Ue,rt,"[Year level-fourth year]"),rt}if(ue==="fifth_year"||ue==="fifthyear"){const rt="5th Year";return ze(Ue,rt,"[Year level-fifth year]"),rt}const fe=ue.match(/grade[_\s]*(\d+)/i);if(fe){const rt=parseInt(fe[1]);if(rt>=7&&rt<=12){const oe=`Grade ${rt} `;return ze(Ue,oe,"[Year level-grade]"),oe}}const Ge=ue.match(/(\d+)(?:st|nd|rd|th)?\s*(?:year|yr)/i);if(Ge){const rt=parseInt(Ge[1]);if(rt>=1&&rt<=5){const Fe=`${["","1st","2nd","3rd","4th","5th"][rt]} Year`;return ze(Ue,Fe,"[Year level-ordinal]"),Fe}}const tt=ue.match(/^(\d+)$/);if(tt){const rt=parseInt(tt[1]);if(rt>=1&&rt<=5){const Fe=`${["","1st","2nd","3rd","4th","5th"][rt]} Year`;return ze(Ue,Fe,"[Year level-simple number]"),Fe}}}if(le==="is_currently_enrolled"){const fe="enrolled";return ze(Ue,fe,"[Enrollment status-always enrolled]"),fe}if(le==="enrollment_status"){const Ge={active:"ACTIVE",inactive:"INACTIVE",enrolled:"ACTIVE","not enrolled":"INACTIVE",notenrolled:"INACTIVE",current:"ACTIVE",present:"ACTIVE",attending:"ACTIVE",studying:"ACTIVE",dropped:"INACTIVE",withdrawn:"INACTIVE",suspended:"INACTIVE",expelled:"INACTIVE",graduated:"INACTIVE",completed:"INACTIVE",finished:"INACTIVE"}[ue]||Oe.toUpperCase();return ze(Ue,Ge,"[Enrollment status normalization]"),Ge}if(le==="academic_year"){let fe=Oe.trim();const Ge=fe.match(/(\d{4})[-\/]?(\d{2,4})?/);if(Ge){const tt=Ge[1],rt=Ge[2]||(parseInt(tt)+1).toString();fe=`${tt}-${rt} `}return ze(Ue,fe,"[Academic year formatting]"),fe}if(le==="semester"){const Ge={first:"FIRST",second:"SECOND",third:"THIRD",fourth:"FOURTH",summer:"SUMMER",midyear:"MIDYEAR","mid year":"MIDYEAR","1st":"FIRST","2nd":"SECOND","3rd":"THIRD","4th":"FOURTH",1:"FIRST",2:"SECOND",3:"THIRD",4:"FOURTH",sem1:"FIRST",sem2:"SECOND",sem3:"THIRD",sem4:"FOURTH"}[ue]||Oe.toUpperCase();return ze(Ue,Ge,"[Semester normalization]"),Ge}if(le==="is_graduating"){const fe=["true","yes","1","y","graduating","will graduate","willgraduate","final year","finalyear","senior","last year","lastyear"],Ge=["false","no","0","n","not graduating","notgraduating","not final year","notfinalyear","not senior","notsenior"];if(fe.some(tt=>ue.includes(tt))){const tt="true";return ze(Ue,tt,"[Graduating status-positive]"),tt}if(Ge.some(tt=>ue.includes(tt))){const tt="false";return ze(Ue,tt,"[Graduating status-negative]"),tt}}if(le==="program"){for(const[Ge,tt]of Object.entries(pt[le]))if(ue.includes(Ge)||Ge.includes(ue)){const rt=tt;return ze(Ue,rt,"[Program mapping]"),rt}const fe=[{pattern:/computer\s*science|cs|comp\s*sci|computing/i,value:"Bachelor of Science in Computer Science"},{pattern:/information\s*technology|it|infotech/i,value:"Bachelor of Science in Information Technology"},{pattern:/software\s*engineering|se|soft\s*eng/i,value:"Bachelor of Science in Software Engineering"},{pattern:/computer\s*engineering|ce|comp\s*eng/i,value:"Bachelor of Science in Computer Engineering"},{pattern:/psychology|psych|psy/i,value:"Bachelor of Arts in Psychology"},{pattern:/clinical\s*psychology|clinical\s*psych/i,value:"Bachelor of Arts in Clinical Psychology"},{pattern:/civil\s*engineering|ce|civil\s*eng/i,value:"Bachelor of Science in Civil Engineering"},{pattern:/mechanical\s*engineering|me|mech\s*eng/i,value:"Bachelor of Science in Mechanical Engineering"},{pattern:/electrical\s*engineering|ee|elec\s*eng/i,value:"Bachelor of Science in Electrical Engineering"},{pattern:/chemical\s*engineering|che|chem\s*eng/i,value:"Bachelor of Science in Chemical Engineering"},{pattern:/industrial\s*engineering|ie|ind\s*eng/i,value:"Bachelor of Science in Industrial Engineering"},{pattern:/business\s*administration|ba|bus\s*admin/i,value:"Bachelor of Science in Business Administration"},{pattern:/accountancy|accounting|bsa/i,value:"Bachelor of Science in Accountancy"},{pattern:/marketing|mkt/i,value:"Bachelor of Science in Marketing"},{pattern:/finance|fin/i,value:"Bachelor of Science in Finance"},{pattern:/management|mgt/i,value:"Bachelor of Science in Management"},{pattern:/elementary\s*education|elem\s*ed|elem\s*educ/i,value:"Bachelor of Elementary Education"},{pattern:/secondary\s*education|sec\s*ed|sec\s*educ/i,value:"Bachelor of Secondary Education"},{pattern:/early\s*childhood\s*education|ece|early\s*childhood/i,value:"Bachelor of Early Childhood Education"},{pattern:/nursing|bsn|bachelor\s*of\s*nursing/i,value:"Bachelor of Science in Nursing"},{pattern:/medicine|md|doctor\s*of\s*medicine/i,value:"Doctor of Medicine"},{pattern:/pharmacy|pharm|bachelor\s*of\s*pharmacy/i,value:"Bachelor of Science in Pharmacy"},{pattern:/physical\s*therapy|pt|phys\s*ther/i,value:"Bachelor of Science in Physical Therapy"},{pattern:/biology|bio|bachelor\s*of\s*biology/i,value:"Bachelor of Science in Biology"},{pattern:/chemistry|chem|bachelor\s*of\s*chemistry/i,value:"Bachelor of Science in Chemistry"},{pattern:/mathematics|math|bachelor\s*of\s*mathematics/i,value:"Bachelor of Science in Mathematics"},{pattern:/physics|phys|bachelor\s*of\s*physics/i,value:"Bachelor of Science in Physics"},{pattern:/english|lit|literature/i,value:"Bachelor of Arts in English"},{pattern:/history|hist/i,value:"Bachelor of Arts in History"},{pattern:/political\s*science|pol\s*sci|poli\s*sci/i,value:"Bachelor of Arts in Political Science"},{pattern:/multimedia|multimedia\s*arts|mma/i,value:"Bachelor of Multimedia Arts"},{pattern:/graphics|graphic\s*design|gd/i,value:"Bachelor of Fine Arts in Graphic Design"},{pattern:/animation|anim/i,value:"Bachelor of Fine Arts in Animation"},{pattern:/bachelor\s*of\s*science|bs|bsc/i,value:"Bachelor of Science"},{pattern:/bachelor\s*of\s*arts|ba|baa/i,value:"Bachelor of Arts"},{pattern:/bachelor\s*of\s*engineering|be|beng/i,value:"Bachelor of Engineering"},{pattern:/bachelor\s*of\s*education|bed|beduc/i,value:"Bachelor of Education"}];for(const{pattern:Ge,value:tt}of fe)if(Ge.test(ue)){const rt=tt;return ze(Ue,rt,"[Program pattern detection]"),rt}if(ue.includes("computer")&&ue.includes("science")){const Ge="Bachelor of Science in Computer Science";return ze(Ue,Ge,"[Program pattern-computer science]"),Ge}if(ue.includes("psychology")||ue.includes("psych")){const Ge="Bachelor of Arts in Psychology";return ze(Ue,Ge,"[Program pattern-psychology]"),Ge}if(ue.includes("engineering")){if(ue.includes("civil"))return"Bachelor of Science in Civil Engineering";if(ue.includes("electrical"))return"Bachelor of Science in Electrical Engineering";if(ue.includes("mechanical"))return"Bachelor of Science in Mechanical Engineering"}if(ue.includes("business")||ue.includes("admin"))return"Bachelor of Science in Business Administration";if(ue.includes("nursing"))return"Bachelor of Science in Nursing";if(ue.includes("accounting")||ue.includes("accountancy"))return"Bachelor of Science in Accountancy"}if(le==="enrollment_date"){const fe=[/(\d{4})-(\d{1,2})-(\d{1,2})/,/(\d{1,2})\/(\d{1,2})\/(\d{4})/,/(\d{1,2})-(\d{1,2})-(\d{4})/,/(\d{4})\/(\d{1,2})\/(\d{1,2})/];for(const Ge of fe){const tt=ue.match(Ge);if(tt)try{let rt,oe,Fe;return Ge===fe[0]||Ge===fe[3]?[,rt,oe,Fe]=tt:[,oe,Fe,rt]=tt,oe=oe.padStart(2,"0"),Fe=Fe.padStart(2,"0"),`${rt}-${oe}-${Fe} `}catch{}}return ue}}if(le==="contact_number"){let fe=Oe.trim().replace(/[^\d+\-\(\)\s]/g,"");return fe=fe.replace(/^(\+63|63|0)/,""),fe.startsWith("9")&&fe.length===10&&(fe="0"+fe),fe.length===11&&fe.startsWith("09")&&(fe=`${fe.slice(0,4)}-${fe.slice(4,7)}-${fe.slice(7)} `),ze(Ue,fe,"[Contact number formatting]"),fe}if(le==="email_address"){let fe=Oe.trim().toLowerCase();return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(fe)||console.warn(` Invalid email format:"${Ue}"`),ze(Ue,fe,"[Email formatting]"),fe}if(le==="gpa"){let fe=Oe.trim();const Ge=fe.match(/(\d+\.?\d*)/);if(Ge){const tt=parseFloat(Ge[1]);if(tt>=0&&tt<=4)return fe=tt.toFixed(2),ze(Ue,fe,"[GPA formatting]"),fe}}if(le==="units_enrolled"){const fe=Oe.match(/(\d+)/);if(fe){const Ge=fe[1];return ze(Ue,Ge,"[Units formatting]"),Ge}}return Ue!==Oe&&console.log(` Value kept as-is:"${Ue}"(field:${le})`),Oe},qe=le=>new Promise((Oe,Ue)=>{const ue=new FileReader;ue.onload=ze=>{try{const Ge=ze.target.result.split(`
`).filter(Me=>Me.trim()),tt=Ge[0].split(",").map(Me=>Me.trim().replace(/"/g,"")),rt={},oe=[];tt.forEach(Me=>{const Pt=se(Me);Pt&&(rt[Me]=Pt,oe.includes(Pt)||oe.push(Pt))}),console.log("=== CSV HEADER MAPPING DEBUG ==="),console.log("Raw headers from CSV:",tt),console.log("Header mapping:",rt),console.log("Normalized headers:",oe),console.log("Unmapped headers:",tt.filter(Me=>!rt[Me])),console.log("================================");const Fe=[];for(let Me=1;Me<Ge.length;Me++){const Pt=Ge[Me].split(",").map(Ks=>Ks.trim().replace(/"/g,"")),Ct={};tt.forEach((Ks,Gr)=>{const ga=rt[Ks];if(ga){const fs=Pt[Gr]||"",pn=He(ga,fs);console.log(fs!==pn?`Value normalized:"${fs}"  "${pn}"(field:${ga})`:`Value kept as-is:"${fs}"(field:${ga})`),Ct[ga]=pn}}),Fe.push(Ct)}Oe(Fe)}catch(fe){Ue(fe)}},ue.onerror=()=>Ue(new Error("Failed to read file")),ue.readAsText(le)}),J=()=>{const le=[{"Student ID":"2024-001234","First Name":"Juan","Last Name":"Dela Cruz","Academic Year":"2024-2025",Semester:"1st Semester","Currently Enrolled":"true","Enrollment Date":"2024-08-15",Program:"Bachelor of Science in Computer Science","Year Level":"1st Year"},{"Student ID":"2024-001235","First Name":"Maria","Last Name":"Santos","Academic Year":"",Semester:"1st Semester","Currently Enrolled":"true","Enrollment Date":"2024-08-16",Program:"Bachelor of Arts in Psychology","Year Level":"2nd Year"},{"Student ID":"2024-001236","First Name":"Jose","Last Name":"Garcia","Academic Year":"2024",Semester:"1st sem","Currently Enrolled":"yes","Enrollment Date":"08/20/2024",Program:"CS","Year Level":"1"}],Oe=["Student ID","First Name","Last Name","Academic Year","Semester","Currently Enrolled","Enrollment Date","Program","Year Level"],Ue=[Oe.join(","),...le.map(Ge=>Oe.map(tt=>`"${Ge[tt]||""}"`).join(","))].join(`
`),ue=new Blob([Ue],{type:"text/csv;charset=utf-8;"}),ze=document.createElement("a"),fe=URL.createObjectURL(ue);ze.setAttribute("href",fe),ze.setAttribute("download","enrollment_template.csv"),ze.style.visibility="hidden",document.body.appendChild(ze),ze.click(),document.body.removeChild(ze)},ce=async()=>{if(!(!i||!X)){Z({status:"uploading",message:"Uploading student data..."});try{console.log("Uploading flexible CSV data:",X),console.log("Headers:",Ie),console.log("Number of records:",X.length);const le=await que(s,X,G);Z({status:"success",message:`Successfully uploaded ${le.data?.processed_count||le.processed} student records`}),await te(),l(null),Z(null),z(null),ie(null)}catch(le){console.error("Error uploading CSV:",le),Z({status:"error",message:"Upload failed:"+le.message})}}},$e=le=>{le.preventDefault();const Oe=le.dataTransfer.files[0];Oe&&(Oe.type==="text/csv"||Oe.name.endsWith(".csv"))&&l(Oe)},nt=({title:le,value:Oe,change:Ue,changeType:ue,icon:ze,color:fe})=>e.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-lg shadow-sm border-l-4 p-6 border border-slate-200 dark:border-slate-700 ${fe==="blue"?"border-l-[#4A90E2] bg-blue-50 dark:bg-blue-900/20":fe==="green"||fe==="purple"?"border-l-[#4CAF50] bg-green-50 dark:bg-green-900/20":"border-l-[#FDA811] bg-orange-50 dark:bg-orange-900/20"} `,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:le}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Oe}),e.jsxs("p",{className:`text-sm ${ue==="increase"?"text-[#4CAF50]":ue==="decrease"?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"} `,children:[ue==="increase"?"":ue==="decrease"?"":""," ",Ue]})]}),e.jsx("div",{className:`p-3 rounded-full ${fe==="blue"?"bg-blue-100 dark:bg-blue-800":fe==="green"||fe==="purple"?"bg-green-100 dark:bg-green-800":"bg-orange-100 dark:bg-orange-800"} `,children:e.jsx(ze,{className:`w-6 h-6 ${fe==="blue"?"text-[#4A90E2]":fe==="green"||fe==="purple"?"text-[#4CAF50]":"text-[#FDA811]"} `})})]})}),qt=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Partner School Dashboard"}),$?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-64 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-48"})]}):T?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Welcome back, ",t?`${t.first_name} ${t.last_name} `:"Representative"]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[T.school.full_name||T.school.name,T.school.campus&&T.school.name!==T.school.full_name&&e.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:T.school.campus})]}),T.school.address&&e.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[" ",T.school.address,", ",T.school.city,", ",T.school.province]})]}):H?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(bt,{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-800 dark:text-red-200 font-medium",children:"Unable to load school information"}),e.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:H})]})]})}):e.jsx("p",{className:"text-gray-500",children:"Loading school information..."})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform-translate-y-1/2 text-gray-400 dark:text-gray-500 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search students, uploads...",className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),e.jsxs("button",{onClick:()=>n("upload"),className:"bg-[#4CAF50] text-white px-4 py-2 rounded-lg hover:bg-[#45A049] flex items-center space-x-2",children:[e.jsx(Ia,{className:"w-4 h-4"}),e.jsx("span",{children:"Upload Data"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:$?Array.from({length:4}).map((le,Oe)=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border-l-4 p-6 border border-slate-200 dark:border-slate-700 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24 mb-2"}),e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-16 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-20"})]},Oe)):V.map((le,Oe)=>e.jsx(nt,{...le},Oe))}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>n("upload"),className:"flex items-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[e.jsx(k0,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Upload Student Data"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Upload enrollment data"})]})]}),e.jsxs("button",{onClick:()=>n("students"),className:"flex items-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[e.jsx(Ht,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Manage Students"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"View and edit student records"})]})]}),e.jsxs("button",{onClick:()=>n("reports"),className:"flex items-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[e.jsx(da,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"View Reports"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Generate and download reports"})]})]}),e.jsxs("button",{onClick:()=>n("budget"),className:"flex items-center space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[e.jsx(fo,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Budget & Funds"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Manage budget and requests"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activities"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Data upload completed"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"150 records processed successfully"})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"2 hours ago"})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"New student registered"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Juan Cruz Santos-Grade 11"})]}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"4 hours ago"})]})]})]})]}),Gt=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Upload Student Data"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Upload any CSV file-we'll extract the required fields automatically"})]})})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-slate-600 rounded-lg p-8 text-center hover:border-[#4CAF50] hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",onDragOver:Se,onDrop:$e,children:[e.jsx(k0,{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Upload Any Student Data File"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:"Drag and drop your CSV or Excel file here or click to browse"}),e.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-4",children:[" ",e.jsx("strong",{children:"Smart Extraction:"})," Works with CSV and Excel files! We automatically find and extract:",e.jsx("br",{})," Student ID (any format:ID, Student Number, etc.)",e.jsx("br",{})," First Name (any format:First Name, Given Name, etc.)",e.jsx("br",{})," Last Name (any format:Last Name, Surname, etc.)",e.jsx("br",{}),' All students will be marked as "Enrolled"']}),e.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:Ne,className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"bg-[#4CAF50] text-white px-6 py-2 rounded-lg hover:bg-[#45A049] cursor-pointer inline-block",children:"Choose File"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4",children:"Accepted formats:.csv, .xlsx, .xls  Max file size:10MB"})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"File Requirements"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"w-4 h-4 text-[#4CAF50]"}),e.jsx("span",{children:"File must be in CSV format"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"w-4 h-4 text-[#4CAF50]"}),e.jsx("span",{children:"Maximum file size:10MB"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"w-4 h-4 text-[#4CAF50]"}),e.jsx("span",{children:"Must include all required fields"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"w-4 h-4 text-[#4CAF50]"}),e.jsx("span",{children:"Data must be for current academic year"})]})]})]}),i&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"File Ready for Upload"}),e.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ut,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:i.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Size:",i.size>1024*1024?`${(i.size/1024/1024).toFixed(2)} MB`:`${(i.size/1024).toFixed(2)} KB`]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Type:",i.type||"CSV file"]}),X&&e.jsxs("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:[" ",X.length," student records found"]})]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Update Mode:"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"uploadMode",value:"merge",checked:G==="merge",onChange:le=>de(le.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Merge (Add to existing data)"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"uploadMode",value:"replace",checked:G==="replace",onChange:le=>de(le.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Replace All (Delete existing data)"})]})]})]}),q&&e.jsx("div",{className:`mb-4 p-4 rounded-lg ${q.status==="success"?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300":q.status==="error"?"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300":"bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300"} `,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[q.status==="success"&&e.jsx(Le,{className:"w-5 h-5"}),q.status==="error"&&e.jsx(jt,{className:"w-5 h-5"}),q.status==="processing"&&e.jsx(Nt,{className:"w-5 h-5 animate-spin"}),q.status==="uploading"&&e.jsx(k0,{className:"w-5 h-5 animate-pulse"}),e.jsx("span",{className:"font-medium",children:q.message})]})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:ce,disabled:q?.status==="uploading"||q?.status==="processing",className:"bg-[#4CAF50] text-white px-6 py-2 rounded-lg hover:bg-[#45A049] disabled:opacity-50 disabled:cursor-not-allowed",children:q?.status==="uploading"?"Uploading...":"Upload Data"}),e.jsx("button",{onClick:()=>{l(null),Z(null)},className:"bg-gray-600 dark:bg-slate-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 dark:hover:bg-slate-700",children:"Cancel"})]})]}),c&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Validation Results"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-[#4CAF50] dark:text-green-300",children:c.validRecords}),e.jsx("p",{className:"text-sm text-green-800 dark:text-green-300",children:"Valid Records"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:c.errorRecords}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-300",children:"Error Records"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:c.warningRecords}),e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300",children:"Warning Records"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-[#4CAF50] dark:text-green-300",children:c.newRecords}),e.jsx("p",{className:"text-sm text-green-800 dark:text-green-300",children:"New Records"})]})]}),e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Update Mode:"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"uploadMode",value:"merge",checked:G==="merge",onChange:le=>de(le.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Merge (Recommended)"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"uploadMode",value:"replace",checked:G==="replace",onChange:le=>de(le.target.value),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Replace All"})]})]})]}),q&&e.jsx("div",{className:`p-4 rounded-lg ${q.status==="success"?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300":q.status==="error"?"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300":"bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300"} `,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[q.status==="success"&&e.jsx(Le,{className:"w-5 h-5"}),q.status==="error"&&e.jsx(jt,{className:"w-5 h-5"}),q.status==="processing"&&e.jsx(Nt,{className:"w-5 h-5 animate-spin"}),q.status==="uploading"&&e.jsx(k0,{className:"w-5 h-5 animate-pulse"}),e.jsx("span",{className:"font-medium",children:q.message})]})}),c?.errors&&c.errors.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[e.jsx("h4",{className:"text-lg font-semibold text-red-800 dark:text-red-300 mb-3",children:"Error Details:"}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[c.errors.slice(0,10).map((le,Oe)=>e.jsx("div",{className:"text-sm text-red-700 dark:text-red-300 mb-1 p-2 bg-red-100 dark:bg-red-800/30 rounded",children:le},Oe)),c.errors.length>10&&e.jsxs("div",{className:"text-sm text-red-600 dark:text-red-400 font-medium mt-2",children:["... and ",c.errors.length-10," more errors"]})]})]}),c?.warnings&&c.warnings.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[e.jsx("h4",{className:"text-lg font-semibold text-yellow-800 dark:text-yellow-300 mb-3",children:"Warning Details:"}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[c.warnings.slice(0,10).map((le,Oe)=>e.jsx("div",{className:"text-sm text-yellow-700 dark:text-yellow-300 mb-1 p-2 bg-yellow-100 dark:bg-yellow-800/30 rounded",children:le},Oe)),c.warnings.length>10&&e.jsxs("div",{className:"text-sm text-yellow-600 dark:text-yellow-400 font-medium mt-2",children:["... and ",c.warnings.length-10," more warnings"]})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[c&&c.errorRecords===0&&e.jsx("button",{onClick:ce,disabled:q?.status==="uploading",className:"bg-[#4CAF50] text-white px-6 py-2 rounded-lg hover:bg-[#45A049] disabled:opacity-50 disabled:cursor-not-allowed",children:q?.status==="uploading"?"Uploading...":"Upload Data"}),e.jsx("button",{onClick:J,className:"bg-gray-600 dark:bg-slate-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 dark:hover:bg-slate-700",children:"Download Template"}),c?.errors&&c.errors.length>0&&e.jsx("button",{className:"bg-red-600 dark:bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 dark:hover:bg-red-700",children:"Download Error Report"})]})]})]})]}),Ce=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Students"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage student enrollment data"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform-translate-y-1/2 text-gray-400 dark:text-gray-500 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search students...",value:b,onChange:le=>y(le.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),e.jsxs("select",{value:w,onChange:le=>N(le.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Students"}),e.jsx("option",{value:"enrolled",children:"Enrolled"})]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm overflow-hidden border border-slate-200 dark:border-slate-700",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Student ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Year Level"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Program"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Enrollment Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:x?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ot,{className:"w-8 h-8 text-gray-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading students..."})]})})})}):h.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(Ht,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No students found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:b||w!=="all"?"No students match your current search or filter criteria.":"Upload student enrollment data to get started."})]}),!b&&w==="all"&&e.jsx("button",{onClick:()=>n("upload"),className:"bg-[#4CAF50] text-white px-4 py-2 rounded-lg hover:bg-[#45A049] transition-colors",children:"Upload Student Data"})]})})}):h.filter(le=>{let Oe=!0;if(w==="enrolled")if(le.isFlexible&&le.flexibleData)Oe=!0;else{const ze=(le.enrollmentData||[])[0];Oe=ze&&ze.is_currently_enrolled}const Ue=b===""||le.first_name&&le.first_name.toLowerCase().includes(b.toLowerCase())||le.last_name&&le.last_name.toLowerCase().includes(b.toLowerCase())||le.student_id_number&&le.student_id_number.toLowerCase().includes(b.toLowerCase());return Oe&&Ue}).map(le=>{const Oe=le.enrollmentData||[],Ue=Oe[0];console.log("Student:",le.student_id_number,"Enrollment data:",Oe),console.log("Latest enrollment:",Ue),console.log("Student full object:",le);let ue=null;return le.isFlexible&&le.flexibleData&&(console.log("Flexible data for",le.student_id_number,":",le.flexibleData),ue=le.flexibleData,console.log("Year Level:",ue.year_level),console.log("Program:",ue.program),console.log("Enrollment Date:",ue.enrollment_date)),e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:le.student_id_number||le.studentId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:le.full_name||le.name||`${le.first_name} ${le.last_name} `}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[le.scholarshipApplications&&le.scholarshipApplications.length>0&&e.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${le.scholarshipApplications[0].status==="approved"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":le.scholarshipApplications[0].status==="pending"?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300":le.scholarshipApplications[0].status==="rejected"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"} `,children:["App:",le.scholarshipApplications[0].status]}),e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:"Enrolled:Yes"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:le.isFlexible&&ue?ue.year_level||ue["year level"]||ue.grade||"N/A":Ue?.year_level||le.currentAcademicRecord?.year_level||le.yearLevel||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:le.isFlexible&&ue?ue.program||ue.course||ue.major||"N/A":Ue?.program||le.currentAcademicRecord?.program||le.program||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:le.isFlexible&&ue?ue.enrollment_date||ue["enrollment date"]||ue.date||"N/A":Ue?.enrollment_date||Ue?.created_at||le.enrollmentDate||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",title:"View Details",children:e.jsx(Ft,{className:"w-4 h-4"})}),Ue&&e.jsx("button",{className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300",title:"Enrollment Data Available",children:e.jsx(Sb,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-300",title:"Edit",children:e.jsx(on,{className:"w-4 h-4"})})]})})]},le.id)})})]})})})]}),Re=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Reports & Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Enrollment by Year Level"}),e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx(da,{className:"w-16 h-16 text-gray-400 dark:text-gray-500"})})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Program Distribution"}),e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx(ut,{className:"w-16 h-16 text-gray-400 dark:text-gray-500"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Available Reports"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ut,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Enrollment Summary"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Overview by year level and program"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last generated:2024-01-15"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(gs,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Scholarship Recipients"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"List of scholarship students"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last generated:2024-01-10"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Sb,{className:"w-8 h-8 text-[#4CAF50]"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Data Quality Report"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Data completeness analysis"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Last generated:2024-01-12"})]})]})})]})]})]})}),Ke=()=>e.jsx("div",{className:"space-y-6",children:T?e.jsx(Que,{schoolId:T.school.id}):e.jsx("div",{className:"flex items-center justify-center p-12 bg-white dark:bg-slate-800 rounded-xl border border-gray-100 dark:border-slate-700 shadow-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ot,{className:"w-8 h-8 text-blue-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-slate-400",children:"Loading school budget info..."})]})})}),Tt=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Settings"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"School Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"School Name"}),e.jsx("input",{type:"text",value:T?.school?.name||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Campus"}),e.jsx("input",{type:"text",value:T?.school?.campus||"Main Campus",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Person"}),e.jsx("input",{type:"text",value:t?`${t.first_name} ${t.last_name} `:"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:T?.school?.email||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),e.jsx("input",{type:"text",value:T?.school?.contact_number||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:T?.school?.address?`${T.school.address}, ${T.school.city}, ${T.school.province} `:"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-600 text-gray-900 dark:text-white"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Upload Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"auto-approve",className:"h-4 w-4 text-[#4CAF50] focus:ring-[#4CAF50] border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700"}),e.jsx("label",{htmlFor:"auto-approve",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Auto-approve uploads"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"require-verification",defaultChecked:!0,className:"h-4 w-4 text-[#4CAF50] focus:ring-[#4CAF50] border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700"}),e.jsx("label",{htmlFor:"require-verification",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Require manual verification"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Change Password"}),e.jsxs("form",{onSubmit:ye,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:Ee.current?"text":"password",value:Pe.currentPassword,onChange:le=>he("currentPassword",le.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Enter current password",required:!0}),e.jsx("button",{type:"button",onClick:()=>W("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:Ee.current?e.jsx(Fs,{className:"h-4 w-4 text-gray-400"}):e.jsx(Ft,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:Ee.new?"text":"password",value:Pe.newPassword,onChange:le=>he("newPassword",le.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Enter new password",required:!0}),e.jsx("button",{type:"button",onClick:()=>W("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:Ee.new?e.jsx(Fs,{className:"h-4 w-4 text-gray-400"}):e.jsx(Ft,{className:"h-4 w-4 text-gray-400"})})]}),Pe.newPassword&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password Strength"}),e.jsx("span",{className:`text-sm font-medium ${xe.score===100?"text-green-600":xe.score>=60?"text-yellow-600":"text-red-600"} `,children:xe.score===100?"Strong":xe.score>=60?"Medium":"Weak"})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${xe.score===100?"bg-green-500":xe.score>=60?"bg-yellow-500":"bg-red-500"} `,style:{width:`${xe.score}% `}})}),e.jsx("div",{className:"space-y-1",children:xe.feedback.map((le,Oe)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:`h-4 w-4 ${le.valid?"text-green-500":"text-gray-400"} `}),e.jsx("span",{className:`text-sm ${le.valid?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"} `,children:le.text})]},Oe))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:Ee.confirm?"text":"password",value:Pe.confirmPassword,onChange:le=>he("confirmPassword",le.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-[#4CAF50] focus:border-transparent bg-white dark:bg-slate-700 text-gray-900 dark:text-white",placeholder:"Confirm new password",required:!0}),e.jsx("button",{type:"button",onClick:()=>W("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:Ee.confirm?e.jsx(Fs,{className:"h-4 w-4 text-gray-400"}):e.jsx(Ft,{className:"h-4 w-4 text-gray-400"})})]}),Pe.confirmPassword&&e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[e.jsx(Le,{className:`h-4 w-4 ${Pe.newPassword===Pe.confirmPassword?"text-green-500":"text-red-500"} `}),e.jsx("span",{className:`text-sm ${Pe.newPassword===Pe.confirmPassword?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"} `,children:Pe.newPassword===Pe.confirmPassword?"Passwords match":"Passwords do not match"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>{re({currentPassword:"",newPassword:"",confirmPassword:""}),Q({score:0,feedback:[]})},className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:et||xe.score<100||Pe.newPassword!==Pe.confirmPassword,className:"px-6 py-2 bg-[#4CAF50] text-white rounded-lg hover:bg-[#45A049] disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:et?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Changing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(kn,{className:"h-4 w-4"}),e.jsx("span",{children:"Change Password"})]})})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"bg-[#4CAF50] text-white px-6 py-2 rounded-lg hover:bg-[#45A049]",children:"Save Settings"})})]})]})});return L?e.jsx(Xue,{}):e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900",children:[A&&!k&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>v(!0)}),e.jsxs("div",{className:`fixed inset-y-0 left-0 ${k?A?"-translate-x-full":"w-16":"w-64"} bg-white border-r border-slate-200/50 flex flex-col transition-all duration-300 ease-in-out shadow-lg dark:bg-slate-900 dark:border-slate-700/50 z-50`,children:[e.jsx("div",{className:`${k?"p-3":"p-6"} flex-shrink-0`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center text-white text-xl font-bold flex-shrink-0",children:e.jsx("img",{src:"/GSM_logo.png",alt:"GSM Logo",className:"w-full h-full object-contain"})}),!k&&e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white truncate",children:$?e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-20 animate-pulse"}):T?T.school.name.split(" ")[0]:"School"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:"Partner School"})]})]})}),e.jsx("hr",{className:"border-slate-200 dark:border-slate-700 mx-2 flex-shrink-0"}),e.jsx("nav",{className:"flex-1 p-2 md:p-4 space-y-1 md:space-y-2 overflow-y-auto",children:[{id:"overview",label:"Overview",icon:V3},{id:"upload",label:"Upload Data",icon:Ia},{id:"students",label:"Students",icon:Ht},{id:"budget",label:"Budget",icon:fo},{id:"reports",label:"Reports",icon:da},{id:"settings",label:"Settings",icon:na}].map(le=>e.jsxs("button",{onClick:()=>n(le.id),className:`w-full flex items-center space-x-3 p-2 md:p-2 rounded-xl transition-all duration-200 text-left ${k?"px-2 justify-center":"px-3"} ${a===le.id?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 font-semibold":"text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-600 dark:hover:text-slate-300"} `,children:[e.jsx(le.icon,{className:"w-5 h-5 flex-shrink-0"}),!k&&e.jsx("span",{className:"text-sm font-medium truncate",children:le.label})]},le.id))}),e.jsx("div",{className:"flex-shrink-0 p-2 md:p-4 border-t border-slate-200 dark:border-slate-700 mt-auto",children:e.jsxs("button",{onClick:pe,disabled:K,className:`w-full flex items-center space-x-3 p-2 md:p-3 rounded-xl transition-all duration-200 text-left ${k?"px-2 justify-center":"px-3"} text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer group`,children:[e.jsx(_x,{className:`w-5 h-5 flex-shrink-0 ${K?"animate-pulse":"group-hover:translate-x-1 transition-transform"}`}),!k&&e.jsx("span",{className:"text-sm font-medium",children:K?"Logging out...":"Logout"})]})})]}),e.jsx("div",{className:`${A?"ml-0":k?"ml-16":"ml-64"} bg-white/80 backdrop-blur-xl border-b border-slate-200 px-6 py-4 transition-all duration-300 dark:bg-slate-800 dark:border-slate-700/50`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"p-2 rounded-lg text-slate-500 hover:bg-slate-200 transition-colors duration-200",onClick:Xe,children:e.jsx(q3,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"hidden md:flex items-center space-x-1",children:e.jsx("h1",{className:"text-md font-bold dark:text-white",children:"EDUCATION & SCHOLARSHIP MANAGEMENT"})}),e.jsx("div",{children:e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-bold",children:P().join(" > ")})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(Jt,{className:"w-4 h-4"}),e.jsx("span",{children:t?`${t.first_name} ${t.last_name} `:"Representative"}),e.jsx("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded-full",children:t?.role||"ps_rep"})]}),e.jsxs("button",{className:"relative rounded-xl p-2 text-slate-600 dark:text-slate-400 dark:hover:text-slate-100 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors cursor-pointer",children:[e.jsx(ki,{className:"w-6 h-6"}),e.jsx("span",{className:"absolute top-0 w-4 h-4 text-white text-xs bg-red-500 rounded-full flex items-center justify-center",children:"1"})]}),e.jsx("button",{className:"ml-2 rounded-xl p-2 bg-slate-300 text-slate-600 hover:bg-slate-400 dark:bg-slate-700 dark:text-yellow-400 dark:hover:bg-slate-900 transition-colors cursor-pointer",onClick:ht,"aria-label":"Toggle dark mode",children:Ze==="dark"?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"currentColor",strokeWidth:"2",fill:"none"}),e.jsx("path",{stroke:"currentColor",strokeWidth:"2",d:"M12 1v2m0 18v2m11-11h-2M3 12H1m16.95 7.07l-1.41-1.41M6.46 6.46L5.05 5.05m13.9 0l-1.41 1.41M6.46 17.54l-1.41 1.41"})]}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{stroke:"currentColor",strokeWidth:"2",d:"M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z"})})})]})]})}),e.jsxs("div",{className:`${A?"ml-0":k?"ml-16":"ml-64"} p-6 transition-all duration-300 bg-gray-50 dark:bg-slate-900 min-h-screen`,children:[a==="overview"&&qt(),a==="upload"&&Gt(),a==="students"&&Ce(),a==="budget"&&Ke(),a==="reports"&&Re(),a==="settings"&&Tt()]}),_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Data Upload Field Guide"}),e.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:""})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Required Fields"}),e.jsx("div",{className:"space-y-3",children:[{field:"student_id_number",description:"Unique student identifier",example:"2024-001"},{field:"first_name",description:"Student's first name",example:"Juan"},{field:"last_name",description:"Student's last name",example:"Cruz"},{field:"enrollment_status",description:"ACTIVE, INACTIVE, GRADUATED, or DROPPED",example:"ACTIVE"},{field:"academic_year",description:"Academic year (YYYY-YYYY)",example:"2024-2025"},{field:"semester",description:"FIRST, SECOND, or SUMMER",example:"FIRST"},{field:"year_level",description:"GRADE_7 to GRADE_12 or FIRST_YEAR to FIFTH_YEAR",example:"GRADE_11"},{field:"enrollment_date",description:"Date in YYYY-MM-DD format",example:"2024-06-15"}].map((le,Oe)=>e.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:le.field}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:le.description})]}),e.jsx("code",{className:"text-sm bg-white dark:bg-slate-600 text-gray-900 dark:text-white px-2 py-1 rounded border border-gray-200 dark:border-slate-600",children:le.example})]})},Oe))})]})})})]})})]})},rme=()=>{const{currentUser:t,logout:r}=Lt();return!t||t.role!=="ps_rep"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Go to Login"})]})}):e.jsx(tme,{})},b3=180*1e3,sme=30*1e3,ame=(t={})=>{const{onTimeout:r,onWarning:s,enabled:a=!0}=t,n=f.useRef(null),i=f.useRef(null),[l,c]=f.useState(!1),u=Lt(b=>b.logout),h=f.useCallback(()=>{n.current&&(clearTimeout(n.current),n.current=null),i.current&&(clearTimeout(i.current),i.current=null),c(!1)},[]),m=f.useCallback(async()=>{console.log("Session timeout - logging out user"),await u(),r&&r()},[u,r]),x=f.useCallback(()=>{console.log("Session timeout warning"),c(!0),s&&s()},[s]),g=f.useCallback(()=>{a&&(l||(h(),i.current=setTimeout(()=>{x()},b3-sme),n.current=setTimeout(()=>{m()},b3)))},[a,l,h,x,m]);return f.useEffect(()=>{if(!a){h();return}const b=["mousedown","mousemove","keypress","scroll","touchstart","click","wheel"],y=()=>{l||g()};return g(),b.forEach(w=>{document.addEventListener(w,y,{passive:!0})}),()=>{h(),b.forEach(w=>{document.removeEventListener(w,y)})}},[a,l,g,h]),{resetTimer:g,clearTimers:h,warningShown:l}},nme=({isOpen:t,onContinue:r,secondsRemaining:s=30})=>{const[a,n]=f.useState(s);return f.useEffect(()=>{if(t){n(s);const i=setInterval(()=>{n(l=>l<=1?(clearInterval(i),0):l-1)},1e3);return()=>clearInterval(i)}},[t,s]),t?e.jsxs("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[9999] p-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 relative animate-scale-in",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-yellow-100 rounded-full p-3",children:e.jsx(Wt,{className:"text-yellow-600",size:40})})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Session Timeout Warning"}),e.jsx("p",{className:"text-gray-600",children:"You've been inactive for a while. For your security, you'll be logged out automatically."})]}),e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4 mb-6 text-center",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Logging out in:"}),e.jsx("div",{className:"text-5xl font-bold text-yellow-600",children:a}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"seconds"})]}),e.jsx("button",{onClick:r,className:"w-full bg-secondary-500 hover:bg-secondary-600 text-white py-3 px-6 rounded-lg font-semibold transition-colors",children:"Continue Session"}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:'Click "Continue Session" to stay logged in'})]}),e.jsx("style",{children:`
        @keyframes scale-in {
          0% {
            transform: scale(0.9);
            opacity: 0;
          }
          100% {
            transform: scale(1);
            opacity: 1;
          }
        }
        .animate-scale-in {
          animation: scale-in 0.2s ease-out;
        }
      `})]}):null},ime=({children:t})=>{const[r,s]=f.useState(!1),a=Lt(h=>h.currentUser),n=$a(),i=f.useRef(null),{resetTimer:l,clearTimers:c}=ame({enabled:!!a,onWarning:()=>{s(!0),i.current=setTimeout(async()=>{s(!1);const h=Lt.getState().logout;await h();const m=document.createElement("div");m.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-[10000]",m.textContent="Session expired due to inactivity. Please log in again.",document.body.appendChild(m),setTimeout(()=>{m.remove()},5e3),n("/",{replace:!0})},3e4)},onTimeout:()=>{s(!1);const h=document.createElement("div");h.className="fixed top-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-[10000]",h.textContent="Session expired due to inactivity. Please log in again.",document.body.appendChild(h),setTimeout(()=>{h.remove()},5e3),n("/",{replace:!0})}}),u=()=>{i.current&&(clearTimeout(i.current),i.current=null),s(!1),c(),l()};return e.jsxs(e.Fragment,{children:[t,e.jsx(nme,{isOpen:r,onContinue:u,secondsRemaining:30})]})};function lme(){return e.jsx(NF,{children:e.jsx(iL,{})})}function bb({children:t}){const r=La(),s=Lt(i=>i.currentUser);return Lt(i=>i.isLoading)?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s?s.role==="admin"||s.role==="ssc"||String(s.role).startsWith("ssc")||s.role==="staff"&&s.system_role?t?e.jsx(e.Fragment,{children:t}):e.jsx(Bue,{}):s.role==="staff"&&!s.system_role?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Staff Access Required"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You need to be registered as staff in the scholarship system to access this dashboard. Please contact your administrator."}),e.jsx("button",{onClick:()=>window.location.href="/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 mt-4",children:"Return to Login"})]})}):e.jsx(gh,{to:"/",replace:!0,state:{from:r}}):e.jsx(gh,{to:"/",replace:!0,state:{from:r}})}function ome(){return e.jsx(yG,{children:e.jsx(DL,{basename:"/",children:e.jsx(ime,{children:e.jsx(yI,{children:e.jsxs(oL,{children:[e.jsx(wa,{path:"/",element:e.jsx(X8,{})}),e.jsxs(wa,{element:e.jsx(kF,{children:e.jsx(lme,{})}),children:[e.jsx(wa,{path:"/portal",element:e.jsx(EF,{})}),e.jsx(wa,{path:"/new-application",element:e.jsx(W8,{})}),e.jsx(wa,{path:"/renewal",element:e.jsx(I8,{})}),e.jsx(wa,{path:"/scholarship-dashboard",element:e.jsx(H8,{})})]}),e.jsx(wa,{path:"/admin-login",element:e.jsx(Y8,{})}),e.jsx(wa,{path:"/admin/school-aid/payment/success",element:e.jsx(bb,{children:e.jsx(Z8,{})})}),e.jsx(wa,{path:"/admin/school-aid/payment/cancel",element:e.jsx(bb,{children:e.jsx(eB,{})})}),e.jsx(wa,{path:"/admin/*",element:e.jsx(bb,{})}),e.jsx(wa,{path:"/partner-school",element:e.jsx(rme,{})}),e.jsx(wa,{path:"*",element:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Page not found"}),e.jsx("a",{href:"/",className:"text-orange-500 hover:text-orange-600 font-medium",children:"Return to Home"})]})})})]})})})})})}g7.createRoot(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsx(ome,{})}));export{Cr as _,xn as a,cme as c,Ca as g};
